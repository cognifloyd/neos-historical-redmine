51614,DEV3,Task,"",New,Must have,Replace the Team's Logo on forge to adhere to current style guide,Roland Schenke,"",2013-08-31 05:13,"","",2013-08-31,"","",0,2013-08-31 05:13,"","",1328750,"","The current Logo still uses green.
The updated Logo should use orange in this area."
47987,DEV3,Bug,"",Rejected,Must have,Products not displayed in FE,aswin no-lastname-given,"",2013-06-10 04:04,"","",2013-05-06,2013-05-08,"",0,2013-05-06 09:11,"","",1149500,"","Hello,

I am using TYPO# 6.1.

I have created categories and also added some products on that categories.

But I am unable to make visible that products on front end.

Can any one help me to how to make visible products on front end."
42991,DEV3,Bug,"",New,Must have,"*.ts file, ftp access can't be opened",Christian Tauscher,"",2012-11-15 02:54,"","",2012-11-15,"","",0,2012-11-15 02:54,"","",903600,"","TYPOscript files are named *.ts

I am Accessing files via build in ftp-Connection, trying to open a *.ts file (correct TYPO3 Icon) end up with a simple ERROR Message.
The file may be open correctly as TYPOscript as long as it is a local file.

Workaround: open remote TS file in Text-Editor without syntax-checking :-(

The issue is tested with:

eclipse:  Juno/Indigo 
Java: Oracle/openJDK
Aptana: Plugin V2/V3
Ubuntu 10/11/12


Thank you for this plugin, it's a great help

Christian."
13226,DEV3,Major Feature,"",New,Should have,CodeAssist,Martin Eisengardt,"",2011-02-21 08:20,"","",2011-02-21,"","",0,2011-02-21 08:20,"","",2378250,"","Some hacks to support some Code Assist.

1. Support objectManager->create and objectManager->get
2. Support the following phpdoc syntax (those are non-standard meaning that they are not mentioned as valid datatypes in the phpdoc manual):
    @param/@var/@return array(FooObject)
    @param/@var/@return ArrayObject(FooObject)
    @param/@var/@return SplObjectStorage(FooObject)
    @param/@var/@return array[FooObject]
    @param/@var/@return ArrayObject(FooObject)
    @param/@var/@return SplObjectStorage(FooObject)
    @param/@var/@return FooObject[]
Maybe those syntax should become some kind of flow3 convetion to help others. Currently it seems that only some IDEs support array in PHPDoc.
3. Support foreach (array syntax seen above)
4. Support repository methods (findByUuid, fineAll, findOneBy..., findBy...)
   This is realized in class Flow3RepositoryEvaluator. The method evaluateTypeFromRepos trys to read the field $objectType of the associated Repository class. Within my project I have a convention that every repository sets this field and that the interfaces of a repository is located in a DatabaseApi package and the realization in a DatabaseImpl package. The logic may be changed to fit the flow3 specificated (maybe reading the Objects.yaml or guess the entity class name if the field $objectType is not set).

An example where code assist will work:
<pre>
foreach ($repository->findAll() as $object)
{
    $object->| // here the code assist will work without any additional @var
}

$result = $repository->findByMySpecialSecretAttribute($value);
$array = $result->| // maps to query result methods
foreach ($result as $object)
{
    $object->| // iterating over this query result works too
}
while ($result->valid()
{
    $result->current()->| // even accessing the current object will work
    $result->next();
}
</pre>

plugin.xml (relevant snippet):
<pre>
   <extension
         point=""org.eclipse.php.core.goalEvaluatorFactories"">
      <factory class=""com.netplayworld.xworlds.uml.goals.Flow3FactoryEvaluator"" priority=""100"" />
      <factory
            class=""com.netplayworld.xworlds.uml.goals.Flow3RepositoryEvaluator""
            priority=""100"">
      </factory>
      <factory
            class=""com.netplayworld.xworlds.uml.goals.ArrayEvaluator""
            priority=""100"">
      </factory>
   </extension>
</pre>

see the attached classes. Feel free to use/copy them. Please keep the original author (net-playworld and mepeisen). thx."
10608,DEV3,Major Feature,"",New,Should have,FLOW3 module development (FLOW3 module projects),Martin Eisengardt,"",2010-11-03 06:00,"","",2010-11-03,"","",0,2010-11-03 06:00,"","",2378300,"","** FLOW3 Project

Currently DEV3 is focused on developing a whole web application. There is no clean support or guideline how to develop a single module or library. Developing applications should be devided into several stages and targets. The targets may be:
A) An independent library module
B) An extension containing it's own routings and a web interface
C) A web application.
All of the target may need their own directorty layout. While a web application may need a complete flow3 installation and directory layout the library module and the extension may only need a directorty layout during development time but will be released without so that they can be installed in another project.

Supporting development should devide the following stages:
1) Development of a module (let the module with local directory layout become part of the svn/git)
2) Dependency lookup (lookup the framework and other modules, do not store them as symbolic links)
3) Development installation and development needs
4) releasing

First of all flow3 should support the following directory layout:
<pre>
/wsroot/libproject1
    Configuration....
    Data....
    Packages....
        MyLib....
    Web....
/wsroot/libproject2
    Configuration....
    Data....
    Packages....
        MyLib....
    Web....
/wsroot/webproject
    Configuration....
    Data....
    Packages....
        MyWebApp....
    Web....
/wsroot/fwkproject
    Packages/Framework....
</pre>
The needed patch to FLOW3 is described here: http://forge.typo3.org/issues/10524

The benefit from this directory layout:
- The IDE (f.e. eclipse PDT) does only have the framework classes once and indexing and type lookup would be faster while developing multiple modules.
- Dependencies are not stored in the file system (symbolic links) or the versioning system (git submodules/svn:externals)
- Development local configuration can be stored in the library project; the release will only contain the package directory.

Extension to DEV3:
- A create FLOW3 project wizard that prepares the directory structure

** Support for a common repository system.

The dependency lookup requires some kind of repository system. DEV3 wshould not re-invent the wheel at this point. IMHO maven should be a good starting point. Whenever a module requires dependencies they are not longer stored in the project itself. But they are only stored in the Package.xml file or for maven in the pom.xml file. This xml file describes the module and the dependencies. Maven should be flexible enough that it will support flow3 module and website projects (this point should be cleared out).

Eclipse nicely integrates maven for java already. We will expect the following use cases:
1) A developer starts with a clean workspace and creates a flow3 project
2) A developer starts with a clean workspace and checkouts/clones an existing project
3) A developer has an existing workspace and clones/checkouts an module that is a dependency of another already existing project. For example the framework will first be downloaded from a repository and later on the developer decides to clone the frameworks git repository.

The java integration does the following. Whenever there is a new project the dependencies will be summed up. Foreach single dependency it will do the following lookup:
A) Is the dependency already part of a project in the workspace?
B) Is the dependency present in the local repository (stored somewhere near ~/.m2/repository)? If it is found maven will do a check if this is the newest version.
C) Is the dependency present in configured remote repositories? If it is found the dependency will be downloaded and installed into the local repository.

Having this behaviour would be really nice. There are more benefits later on: FLOW3 and TYPO3 have a clean repository system and know how and where to download the files. But what does it mean for our projects?

Each project should represent a single module. There will be a pom.xml file that defines the module. Eclipse should know how to extract the relevant information from pom.xml and build the files: .htaccess/ Package.xml and others on the fly. The pom.xml will be the leading file. A nice editor will support developers to find the correct modules and versions to build their website.

There must be a parent pom.xml that covers php and flow3 development. However php development is really different from java development...
Each single process declared by maven should be covered by the parent pom.xml file. So that developers and even eclipse are able to support the development stages. Maven declares the following stages or command:
1) Create project
2) Install project
3) Build (See below)
4) Testing
5) Release
6) Install
7) Run

** Additional features

I am currently developing small extensions that provide support for repository/ entity layouts. A small xml file will describe entites and repositories in the module. A generator will be able to generate the php files. Later on there may be an uml editor that is able to manipulate the xml files. Due to the fact I am currently experimenting with FLOW3 I do not use any uml format for the xml file. An eclipse integration should be able to work with open standards.

Eclipse should be able to create the model as soon as the file changes. In other words: As soon as the build stage within maven is reached. The integration could be nicely done by simple providing an alternative pom.xml file that installs an entity/repository builder.
"
9694,DEV3,Bug,"",New,Should have,DEV³ and Zend Studio 7.2.0 Windows 7,Frank Mey,"",2011-05-13 03:44,"","",2010-09-12,"","",0,2010-09-12 07:29,"","",2378350,"","Hi,

just wanted to give you guys feedback from my test running the DEV3 Plugin for Eclipse with Zend Studio 7.2.0 (based on Eclipse 3.5.1).

The plugin is installed and the .ts files show a correct association, but the editor can't be run (I suppose due to changes in Class-Structure from 3.3. to 3.5 etc.). Attached you find the error message I get.

I unfortunately dont have time and java skills to debug this thing seriously, just wanted to let you know of the issue. Hope to see an update for Eclipse 3.5/3.6 soon as I guess my issue isn't related to Zend Studio but to the Eclipse base...."
4772,DEV3,Bug,"",New,Should have,TypoScript editor does not inform IDocumentListener promptly,Marc Rintsch,"",2010-10-20 05:40,"","",2009-09-25,"","",0,2009-09-25 11:30,"","",2378400,"","I'm working on an Eclipse plug-in which adds an _IDocumentListener_ to open documents to listen to text changes while they happen, i.e. in real time.

Typing in the TypoScript editor does not result in a call of the _documentAboutToBeChanged()_ method on that listener for the text changes while they are being made, but only once before the document is saved to disk.  Then there is *one* _DocumentEvent_ fired with always the whole file content as new text."
4291,DEV3,Bug,"",Resolved,Must have,Snippets View doe not work in Eclipse 3.5,Eike Starkmann,Andreas Wolf,2010-10-20 05:40,"","",2009-08-21,"","",100,2009-08-21 05:27,"","",2378450,"","eclipse.buildId=I20090611-1540
java.version=1.6.0_14
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_DE
Command-line arguments:  -os win32 -ws win32 -arch x86


Error
Fri Aug 21 11:18:26 CEST 2009
Unable to create view ID com.crosscontent.typo34.snippets.views.SnippetsView: An unexpected exception was thrown.

java.lang.NullPointerException
at com.crosscontent.typo34.snippets.views.SnippetsView$ViewContentProvider.initialize(SnippetsView.java:275)
at com.crosscontent.typo34.snippets.views.SnippetsView$ViewContentProvider.getElements(SnippetsView.java:230)
at org.eclipse.jface.viewers.StructuredViewer.getRawChildren(StructuredViewer.java:959)
at org.eclipse.jface.viewers.ColumnViewer.getRawChildren(ColumnViewer.java:703)
at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:1330)
at org.eclipse.jface.viewers.TreeViewer.getRawChildren(TreeViewer.java:390)
at org.eclipse.jface.viewers.AbstractTreeViewer.getFilteredChildren(AbstractTreeViewer.java:636)
at org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren(AbstractTreeViewer.java:602)
at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:799)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)
at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:776)
at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:639)
at org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1490)
at org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:828)
at org.eclipse.jface.viewers.AbstractTreeViewer$5.run(AbstractTreeViewer.java:1474)
at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1392)
at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:402)
at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1353)
at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1467)
at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:274)
at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1634)
at com.crosscontent.typo34.snippets.views.SnippetsView.createPartControl(SnippetsView.java:347)
at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:367)
at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:226)
at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:595)
at org.eclipse.ui.internal.Perspective.showView(Perspective.java:2228)
at org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:1067)
at org.eclipse.ui.internal.WorkbenchPage$20.run(WorkbenchPage.java:3816)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)
at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3813)
at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3789)
at org.eclipse.ui.handlers.ShowViewHandler.openView(ShowViewHandler.java:165)
at org.eclipse.ui.handlers.ShowViewHandler.openOther(ShowViewHandler.java:109)
at org.eclipse.ui.handlers.ShowViewHandler.execute(ShowViewHandler.java:77)
at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:294)
at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476)
at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508)
at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169)
at org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand(SlaveHandlerService.java:241)
at org.eclipse.ui.internal.ShowViewMenu$3.run(ShowViewMenu.java:141)
at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
at org.eclipse.equinox.launcher.Main.run(Main.java:1311)

"
3501,DEV3,Bug,"",New,Must have,TYPO3 4.x part of DEV3 NOT being installed,Jose Antonio Guerra,"",2010-10-20 05:40,Installation Issues,"",2009-05-28,"","",0,2009-05-28 07:23,"","",2378500,"","Just installed DEV3 in a fresh Aptana Studio but the TYPO3 4.x part is missing.

Environment:

* Ubuntu Linux 9.04
* Aptana Studio 1.2.7 (Eclipse 3.2.2)
** Installed PHP and Subversion plugins
* DEV3 1.1.0

"
3338,DEV3,Bug,"",New,Must have,cannot save *.ts files in eclipse aptana with dev3 on linux,d.ros no-lastname-given,"",2010-10-20 05:40,"","",2009-05-16,"","",0,2009-05-16 06:01,"","",2378550,"","Hello ,

I cannot save files with the *.ts ending [ typo3 4 editor assigned ]. If I press the save button after altering a file the * for not saved files disappears in the filetab but if i reopen the file to previous changes are not stored. this happens in the file view dialog on ftp and local files. this happens since the last update of eclipse i think . . . but do not know really. all available software updates are installed. i also cleared the workbench and started from scratch . . . other editors like html save files without problems. the log seems to be clean. . . 

here are the systems specifications:

Eclipse Configuration Details --> ecd.txt


@
 rpm -qa *java*
java-1_6_0-sun-1.6.0.u13-0.1.1
java-1_6_0-sun-plugin-1.6.0.u13-0.1.1
timezone-java-2009d-0.1.1
java-1_6_0-sun-devel-1.6.0.u13-0.1.1
java-1_6_0-openjdk-plugin-1.4_b14-24.5.2
java-1_6_0-sun-src-1.6.0.u13-0.1.1
java-1_6_0-openjdk-1.4_b14-24.5.2

@

@
rpm -qa eclipse*
eclipse-jdt-3.4-6.2
eclipse-platform-3.4-6.2
eclipse-archdep-platform-3.4-6.2
eclipse-3.4-6.2
eclipse-pde-3.4-6.2
@

@
uname -a
Linux linquad 2.6.27.21-0.1-default #1 SMP 2009-03-31 14:50:44 +0200 x86_64 x86_64 x86_64 GNU/Linux
OpenSuSE 11.1 on Model: 6.15.11 ""Intel(R) Core(TM)2 Quad CPU    Q6600  @ 2.40GHz + 8GB RAM

@

"
3264,DEV3,Feature,"",New,Could have,Snippets View not working in Standalone Aptana,Nico de Haen,"",2010-10-20 05:40,Installation Issues,"",2009-05-11,"","",0,2009-05-11 03:24,"","",2378600,"","Hi,

I'm not sure, if the standalone version of Aptana is supported at all. I installed DEV3 and if I try to open the snippets view I get the error listed below.
Maybe it works, if I install PDT?

<pre>
ava.lang.NullPointerException
	at com.crosscontent.typo34.snippets.views.SnippetsView$ViewContentProvider.initialize(SnippetsView.java:275)
	at com.crosscontent.typo34.snippets.views.SnippetsView$ViewContentProvider.getElements(SnippetsView.java:230)
	at org.eclipse.jface.viewers.StructuredViewer.getRawChildren(StructuredViewer.java:927)
	at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:1144)
	at org.eclipse.jface.viewers.TreeViewer.getRawChildren(TreeViewer.java:768)
	at org.eclipse.jface.viewers.AbstractTreeViewer.getFilteredChildren(AbstractTreeViewer.java:574)
	at org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren(AbstractTreeViewer.java:543)
	at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:728)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:705)
	at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:892)
	at org.eclipse.jface.viewers.AbstractTreeViewer$5.run(AbstractTreeViewer.java:1288)
	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1323)
	at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1277)
	at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:250)
	at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1542)
	at com.crosscontent.typo34.snippets.views.SnippetsView.createPartControl(SnippetsView.java:347)
	at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:332)
	at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:197)
	at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)
	at org.eclipse.ui.internal.Perspective.showView(Perspective.java:1675)
	at org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:987)
	at org.eclipse.ui.internal.WorkbenchPage.access$13(WorkbenchPage.java:968)
	at org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:3514)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3511)
	at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3487)
	at org.eclipse.ui.handlers.ShowViewHandler.openView(ShowViewHandler.java:148)
	at org.eclipse.ui.handlers.ShowViewHandler.openOther(ShowViewHandler.java:104)
	at org.eclipse.ui.handlers.ShowViewHandler.execute(ShowViewHandler.java:70)
	at org.eclipse.ui.internal.ShowViewMenu$3.run(ShowViewMenu.java:114)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:499)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3180)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2856)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at com.aptana.ide.rcp.AbstractIDEApplication.run(AbstractIDEApplication.java:122)
	at com.aptana.ide.rcp.Application.run(Application.java:57)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:280)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
</pre>"
2999,DEV3,Feature,"",Accepted,Should have,Add License chooser,Christoph Blömer,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),2.0,2009-03-30,"","",0,2009-03-29 19:52,"","",2379850,"","Currently a package is created with the GNU GPL 2 license.

It would be nice to choose the license when creating a package or a new class.
FLOW3 supports the LGPL 3 version."
2998,DEV3,Bug,"",Resolved,Must have,Adjust Templates to new Namespace Syntax,Christoph Blömer,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),2.0,2009-03-30,"","",100,2009-03-29 19:46,"","",2379900,"","DEV3 1.1.0 is running fine on Eclipse Galileo with PDT 2.1M6.
This version supports now namespaces from PHP5.3.

When creating a package the Default template shows

F3_TestPackage_Controller_Default

But it should be
 namespace F3\TestPackage\Controller;
and 
 class DefaultController extends..."
1347,DEV3,Bug,"",New,Must have,Adding Additional Parties Popup too small in New Package Wizard,Sebastian Kurfuerst,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),"",2008-08-26,"","",0,2008-08-26 08:07,"","",2378650,"","The popup ""Maintain Party"" in the ""new flow3 package wizard"" does not display the ""Repository Username"" field. See attached picture for clarification.

Greets,
Sebastian"
1245,DEV3,Bug,"",New,Must have,TypoScript Editor / Mac: Unsupported Class Version Error,Robert Lemke,Sebastian Böttger,2010-10-20 05:40,TYPO3 4.x TypoScript Editor,"",2008-08-07,"","",0,2008-08-07 09:31,"","",2378700,"","With DEV Version 1.0.2 I get the following error when trying to open a .ts file on my Mac:

!ENTRY org.eclipse.ui 4 0 2008-08-07 15:28:10.114
!MESSAGE Unable to create editor ID com.crosscontent.typo34.editor.Typo34Editor: The editor class could not be instantiated. This usually indicates that the editor's class name was mistyped in plugin.xml.
!STACK 0
java.lang.UnsupportedClassVersionError: Bad version number in .class file
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:675)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:161)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:501)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:471)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:430)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:413)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:189)
	at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:340)
	at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:408)
	at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:369)
	at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:357)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:289)
	at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227)
	at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1269)
	at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160)
	at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:788)
	at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)
	at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51)
	at org.eclipse.ui.internal.WorkbenchPlugin$1.run(WorkbenchPlugin.java:252)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java:248)
	at org.eclipse.ui.internal.registry.EditorDescriptor.createEditor(EditorDescriptor.java:231)
	at org.eclipse.ui.internal.EditorManager.createPart(EditorManager.java:841)
	at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:606)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:426)
	at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:592)
	at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:263)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2739)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2651)
	at org.eclipse.ui.internal.WorkbenchPage.access$13(WorkbenchPage.java:2643)
	at org.eclipse.ui.internal.WorkbenchPage$10.run(WorkbenchPage.java:2595)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2590)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2574)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2565)
	at org.eclipse.ui.ide.IDE.openEditor(IDE.java:644)
	at org.eclipse.ui.ide.IDE.openEditor(IDE.java:603)
	at org.eclipse.ui.wizards.newresource.BasicNewFileResourceWizard.performFinish(BasicNewFileResourceWizard.java:101)
	at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:618)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1495)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1519)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1504)
	at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1295)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3350)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2950)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:820)
	at org.eclipse.jface.window.Window.open(Window.java:796)
	at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:182)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:546)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1495)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1519)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1504)
	at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1295)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3350)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2950)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)
	at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:447)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1173)
"
1113,DEV3,Feature,"",Resolved,Should have,Online Documentation,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,Installation Issues,"",2008-07-23,"",0.00,100,2008-07-23 07:44,"","",2378750,"",DEV3 should offer a user guide through the built-in online documentation (Help > Help Contents)
1112,DEV3,Feature,"",Resolved,Should have,Multi-Language Support,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,Installation Issues,"",2008-07-23,"",4.00,100,2008-07-23 07:40,"","",2378800,"","DEV3 should be multi-language enabled.

Note: This does not necessarily mean that DEV3 will be translated to languages other than English. It only means that labels are not hard-coded but rather fetched by using the translateable Eclipse mechanism."
1111,DEV3,Bug,"",Accepted,Should have,Hovering over folded region does not show correct information,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,TypoScript 2.0 Editor,"",2008-07-23,"",0.00,0,2008-07-23 06:38,"","",2378850,"","When hovering over a folded region (i.e. a confinement), the folded TypoScript should be displayed. This seems to work only for nested confinements."
1100,DEV3,Bug,"",Resolved,Should have,Edit and Delete buttons must be disabled if no pointcut is selected,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,New Aspect Wizard (FLOW3),"",2008-07-21,"",0.00,100,2008-07-21 15:47,"","",2378900,"","In the ""New Aspect Wizard"", the buttons to edit and delete a pointcut must be disabled when no pointcut is selected in the table viewer. Currently, these buttons are always enabled."
1062,DEV3,Bug,"",Resolved,Should have,Nested confinements are not folded properly,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,TypoScript 2.0 Editor,"",2008-07-15,"",0.00,100,2008-07-15 09:09,"","",2378950,"","Nested confinements are not folded properly in the TypoScript 2.0 editor.

<pre>
thirdObject {
	subObject {
		subSubObject {
			someMessage = Text
			someMessage.value = ""Fully or hard tail?""
		}
	}
}
</pre>

In this example the nesting ends at the first ending curly bracket, right after ..tail?"""
883,DEV3,Bug,"",Resolved,Could have,install error,Stefano Cecere,David Bruehlmeier,2010-10-20 05:40,Installation Issues,"",2008-06-27,2008-06-30,8.00,100,2008-06-26 23:49,"","",2379000,"","hallo
i'm trying DEV3 for the first time with Eclipse (3.3.2 downloaded yesterday from http://downloads.zend.com/pdt/all-in-one/)
and i'm having this error installing it:

(i attach two screenshots)

stefano"
529,DEV3,Feature,"",Accepted,Should have,Syntax Feature Requests,Peter Kraume,Thomas Hartmann,2010-10-20 05:40,TYPO3 4.x TypoScript Editor,"",2008-05-13,"",0.00,0,2008-05-13 10:17,"","",2379050,"","    * pageTS/userTS Syntax Highlighting
    * Syntax Check for Brackets

collected from T3DD08"
528,DEV3,Feature,"",Accepted,Should have,Library Collector,Peter Kraume,Sebastian Böttger,2010-10-20 05:40,TYPO3 4.x TypoScript Editor,"",2008-05-13,"",0.00,0,2008-05-13 10:15,"","",2379100,"",Automatically create a library from TS code. Idea of Jochen Stange from T3DD08.
527,DEV3,Feature,"",Accepted,Should have,Serveral ideas for connectivity,Peter Kraume,Sebastian Böttger,2010-10-20 05:40,TYPO3 4.x TypoScript Editor,"",2008-05-13,"",0.00,20,2008-05-13 10:14,"","",2379150,"","    * connector to database
    * webservice to make the template available to eclipse
    * integrate filesystem ??
    * webdav (meta_ftpd)
    * maja_junction

Feature Requests from T3DD08"
526,DEV3,Feature,"",Accepted,Should have,Wizard for own Snippets,Peter Kraume,Sebastian Böttger,2010-10-20 05:40,TYPO3 4.x Snippets,"",2008-05-13,"",0.00,0,2008-05-13 10:13,"","",2379200,"",This is a feature request from T3DD08.
524,DEV3,Bug,"",Resolved,Should have,Can't create FLOW3 Package without creating a project before,Peter Kraume,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),0.2,2008-05-13,"",0.00,100,2008-05-13 05:32,"","",2379500,"","Not sure if this is a bug or intended, but you have to create a project first. Otherwise the folder property is empty.
The error occured after a fresh PDT installation."
489,DEV3,Task,"",Accepted,Should have,Refactor path handling,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),"",2008-04-29,"","",0,2008-04-29 10:03,"","",2250,"","Refactor the handling of paths in the ""New Package Wizard"". Currently, the paths used are scatterd over several classes. They should be centralized in a single class. The classes PackageFolders and StandardFolder should be revised.

Furthermore, the additional folders shall be customizable in the preferences."
488,DEV3,Bug,"",Resolved,Should have,No margins in FLOW3 preferences,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,FLOW3 Preferences,"",2008-04-29,"",0.50,100,2008-04-29 09:17,"","",2379250,"","In the menu ""Preferences -> DEV3 -> FLOW3"", there are no margins in the group, breaking with the visual guidelines."
487,DEV3,Bug,"",Resolved,Should have,Icon of package template not displayed,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),"",2008-04-29,"","",0,2008-04-29 07:26,"","",2379300,"","The icon defined for a custom package template is not displayed in the ""New Package Wizard""."
485,DEV3,Feature,"",Accepted,Should have,"Filtering for the ""Select Locales"" dialog",David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),"",2008-04-29,"","",0,2008-04-29 07:21,"","",2379350,"","The ""Select Locales"" dialog contains a lot of entries. The dialog should probably be changed to FilteredItemsSelectionDialog."
484,DEV3,Bug,"",Accepted,Should have,Set focus on package key field,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,New Package Wizard (FLOW3),"",2008-04-29,"","",0,2008-04-29 07:11,"","",2379400,"","When opening the ""New Package Wizard"", the focus is set on the ""folder"" field, even if it has been filled with the value from the current selection. In this context, it would be nicer if the focus was directly set on the ""package key"" field."
470,DEV3,Major Feature,"",Resolved,Should have,RQ022: Online Documentation,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,"",1.0,2008-04-16,"",0.00,100,2008-04-16 13:35,"","",2379800,"","The user documentation is provided as Eclipse Help, PDF and HTML."
469,DEV3,Major Feature,"",Resolved,Should have,UC010: Delete Element,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,"",0.3,2008-04-16,"",0.00,100,2008-04-16 13:30,"","",2379650,"","Delete an element, such as a package, an aspect, a content element, etc."
468,DEV3,Major Feature,"",Accepted,Should have,UC009: Maintain Content,David Bruehlmeier,"",2010-10-20 05:40,"",2.0,2008-04-16,"","",0,2008-04-16 13:29,"","",2379950,"",Edit content in a remote phpCR content repository.
467,DEV3,Major Feature,"",Accepted,Should have,UC008: Create Content,David Bruehlmeier,"",2010-10-20 05:40,"",2.0,2008-04-16,"","",0,2008-04-16 13:29,"","",2380000,"",Create new content in a remote phpCR content repository.
466,DEV3,Major Feature,"",Resolved,Should have,UC007: Edit TypoScript 2.0,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,"",0.3,2008-04-16,"",0.00,100,2008-04-16 13:28,"","",2379700,"","A specialized editor helps the developer write TypoScript 2.0. The editor includes syntax highlighting and
content assist, based upon the FLOW3 packages available."
465,DEV3,Major Feature,"",Resolved,Should have,UC006: Maintain Aspect,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,"",0.3,2008-04-16,"",0.00,100,2008-04-16 13:28,"","",2379750,"","Edit existing aspects, e.g. adding new advices or new pointcuts."
464,DEV3,Major Feature,"",Resolved,Should have,UC005: Create Aspect,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,"",0.2,2008-04-16,"",0.00,100,2008-04-16 13:27,"","",2379550,"",A wizard creates scaffolding classes and configuration for a new FLOW3 aspect.
463,DEV3,Major Feature,"",Accepted,Should have,UC004: Edit Content Repository,David Bruehlmeier,"",2010-10-20 05:40,"",2.0,2008-04-16,"","",0,2008-04-16 13:27,"","",2380050,"","A specialized editor helps editing the FLOW3 content repository (the structure, not the content)."
462,DEV3,Major Feature,"",Accepted,Should have,UC003: Edit PHP Code,David Bruehlmeier,"",2010-10-20 05:40,"",2.0,2008-04-16,"",0.00,0,2008-04-16 13:26,"","",2380100,"",All PHP code is checked for compliance with the FLOW3 coding guidelines while-you-type.
461,DEV3,Major Feature,"",Resolved,Should have,UC002: Edit Configuration,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,"",0.2,2008-04-16,"",0.00,100,2008-04-16 13:26,"","",2379600,"","A configuration editor (like PDE in Eclipse) makes it easy to change configuration settings for a FLOW3 package, such
as the Package.xml or Components.ini file."
460,DEV3,Major Feature,"",Resolved,Should have,UC001: Create FLOW3 Package,David Bruehlmeier,David Bruehlmeier,2010-10-20 05:40,"",0.1,2008-04-16,"","",100,2008-04-16 13:25,"","",2379450,"","A wizard creates all folders and configuration files required by FLOW3. The developer can also choose from
different templates to get him started faster."
63998,flow3.typo3.org,Bug,"",New,Should have,Broken link on http://flow.typo3.org/download,Roland Waldner,"",2015-03-30 02:00,"","",2014-12-20,"","",0,2014-12-20 06:48,"","",-185700,"","The link ""Change Log"" on http://flow.typo3.org/download is broken."
57834,flow3.typo3.org,Bug,"",New,Must have,Broken-Links in Documentation,Thomas Deuling,"",2014-04-11 09:35,"","",2014-04-11,"","",0,2014-04-11 09:35,"","",1635550,"","Hi, I've found some broken links here: 
http://flow.typo3.org/documentation/guide 

For example Fluid-viewHelper reference linked to: 
http://docs.typo3.org/flow/TYPO3FlowDocumentation/stable/TheDefinitiveGuide/PartV/fluidviewhelperreference

instead of:
http://docs.typo3.org/flow/TYPO3FlowDocumentation/stable/TheDefinitiveGuide/PartV/FluidViewHelperReference.html
"
57071,flow3.typo3.org,Bug,"",New,Should have,Old Flow3 Commands appear in documents,Rachitha Senevirathne,"",2014-03-19 07:17,Content,"",2014-03-19,"","",0,2014-03-19 07:17,"","",1597600,"","Check this link,
http://forge.typo3.org/projects/team-forge/wiki/Cloning_the_FLOW3_Base_Distribution
for Cloning the FLOW3 Base Distribution.

git clone --recursive git://git.typo3.org/FLOW3/Distributions/Base.git FLOW3
is not working any more. "
57059,flow3.typo3.org,Bug,"",Closed,Should have,Documents not foud on the server,Rachitha Senevirathne,"",2014-03-19 03:32,"","",2014-03-19,"","",0,2014-03-19 02:31,"","",1597000,"","Please check this link 
http://flow.typo3.org/documentation/guide
Subcategories of this guide is not found in server. "
50032,flow3.typo3.org,Task,"",Resolved,Should have,Update CGL to recent changes,Bastian Waidelich,Bastian Waidelich,2013-08-06 11:04,Content,"",2013-07-15,"","",100,2013-07-15 09:33,"","",1250500,"","The ""PHP Coding Guidelines"":http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartV/CodingGuideLines/PHP.html need to be adjusted to the changes discussed in our ""2nd technical discussion"":http://typo3.org/news/article/typo3-neos-technical-discussion-july-9th/"
49963,flow3.typo3.org,Bug,"",New,Should have,Broken Link to the TYPO3 Flow Coding Guidelines on one page,Joh. Feustel,Karsten Dambekalns,2014-08-01 10:58,Content,"",2012-10-25,"","",100,2013-07-12 03:56,"","",1247200,"","The link to the ""Coding Guidelines in a one page document"" doesn't work here http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartV/CodingGuideLines/PHP.html

<pre>
http://flow.typo3.org/_Resources/Static/Packages/TYPO3.Flow3Org/Assets/Content/TYPO3_Flow-CGL-on-one-page.pdf
</pre>"
45248,flow3.typo3.org,Bug,"",Accepted,Must have,Documentation Main Page at flow.typo3.org is broken (404),Martin Brüggemann,Robert Lemke,2014-03-19 03:32,Server Administration,"",2013-02-07,"","",0,2013-02-07 08:58,"","",1014500,"","What if you go to flow.typo3.org and want to get started by clicking ""Documentation"" in the main menu?

h1. 404!!!!

http://flow.typo3.org/documentation.html"
44089,flow3.typo3.org,Task,"",Resolved,Should have,"Shorten menu item of ""definitive guide""",Bastian Waidelich,Bastian Waidelich,2013-01-23 05:00,Content,"",2012-12-18,"","",100,2012-12-18 07:52,"","",958200,"","Currently the menu title of the definitive guide on http://flow.typo3.org/documentation/guide.html is ""TYPO3 Flow ? The Definitive Guide"". This is too long to fit in one line and I'd suggest to rename this to ""The Definitive Guide"" only."
43882,flow3.typo3.org,Task,"",Resolved,Should have,"Update ""CGL on one page"" to new coding style",Bastian Waidelich,Karsten Dambekalns,2012-12-19 06:04,Content,"",2012-12-11,"","",100,2012-12-11 08:53,"","",947900,"","http://flow.typo3.org/_Resources/Static/Packages/TYPO3.Flow3Org/Assets/Content/FLOW3-CGL-on-one-page.pdf
still contains references to FLOW3"
42367,flow3.typo3.org,Bug,"",Resolved,Must have,Broken Link to the TYPO3 Flow Coding Guidelines on one page,Martin Brüggemann,Bastian Waidelich,2013-07-04 13:56,Content,"",2012-10-25,"","",100,2012-10-25 02:17,"","",873100,"","The link to the ""Coding Guidelines in a one page document"" doesn't work here http://flow.typo3.org/documentation/codingguidelines/php.html

<pre>
http://flow.typo3.org/_Resources/Static/Packages/TYPO3.FlowOrg/Assets/Content/TYPO3_Flow-CGL-on-one-page.pdf
</pre>"
42219,flow3.typo3.org,Task,"",Resolved,Should have,flow.typo3.org still uses the black favicon,Rens Admiraal,Karsten Dambekalns,2012-12-17 11:35,"","",2012-10-20,"","",100,2012-10-20 06:36,"","",865700,"",""
42133,flow3.typo3.org,Bug,"",Resolved,Should have,"Replace ""FLOW3"" on contribute page",Bastian Waidelich,Bastian Waidelich,2012-12-11 08:32,Content,"",2012-10-18,"","",100,2012-10-18 09:01,"","",861400,"","On http://flow.typo3.org/contribute.html there is still a ""FLOW3"" - unfortunately it's rendered into the team picture.
Maybe we should replace the image with a more recent picture from the houseboat.

@Robert I'm assigning this to you as you probably have the original image"
39831,flow3.typo3.org,Bug,"",Resolved,Should have,Style Guide link broken,Bastian Waidelich,Bastian Waidelich,2012-08-15 10:17,Content,"",2012-08-15,"","",100,2012-08-15 08:11,"","",753050,"","The ""Style Guide"" link on http://flow3.typo3.org/about/logos.html points to the non-existing URL http://typo3.org/teams/design/style-guide/
Should be http://typo3.org/the-brand/style-guide/ instead."
38863,flow3.typo3.org,Task,"",Accepted,Should have,Move FLOW3 Site to TYPO3 server infrastructure,Robert Lemke,Robert Lemke,2012-08-15 10:16,Server Administration,2012 August Release,2012-07-11,"","",70,2012-07-11 04:05,"","",705250,"",Move FLOW3 Site to TYPO3 server infrastructure
38373,flow3.typo3.org,Bug,"",Resolved,Should have,"Missing server alias for ""www.flow3.org""",Bastian Waidelich,Robert Lemke,2012-08-14 03:14,Server Administration,"",2012-06-25,"","",0,2012-06-25 11:03,"","",681250,"","http://www.flow3.org points to a jenkins installation.
Also http://www.flow3.org/robots.txt excludes robots from indexing the documentation (http://flow3.org/robots.txt is correct though)."
37370,flow3.typo3.org,Bug,"",Resolved,Must have,Breadcrumb menu order is wrong after third level,Aske Ertmann,Aske Ertmann,2012-08-15 10:16,"","",2012-05-21,"","",100,2012-05-21 10:14,"","",631300,"",""
34668,flow3.typo3.org,Bug,"",Resolved,Should have,Screencast links broken on Firefox,Bastian Waidelich,Bastian Waidelich,2012-08-15 09:41,Content,"",2012-03-08,"","",0,2012-03-08 07:31,"","",498850,"","On Firefox (v10.0.2, @ Windows 7, 64bit) the screencast links on http://flow3.typo3.org/documentation/screencasts.html are broken.
Instead of @https://vimeo.com/<vimeoCode>@ they point to @http://flow3.typo3.org//<vimeoCode>@"
31864,flow3.typo3.org,Bug,"",Resolved,Should have,Wrong Link Part 2 - Routing to Part 3 -> routing,Karsten Vieth,Bastian Waidelich,2012-03-26 04:55,Content,"",2011-11-16,"","",100,2011-11-16 09:35,"","",362050,"","The Link at the end of the page 
""/documentation/guide/partii/routing/../partiii/routing.html"" is wrong

It should be:
""/documentation/guide/partii/routing/../../partiii/routing.html""

"
31645,flow3.typo3.org,Task,"",Resolved,Should have,Add Rhein-Main Usergroup to the FLOW3 website,Thomas Layh,Bastian Waidelich,2011-12-14 10:04,Content,"",2011-11-07,"","",100,2011-11-07 08:23,"","",351300,"","Please add the new home for the FLOW3 Usergroup Rhein-Main to the FLOW3 website.

The link is: http://fugrm.de/

Thx,
Thomas"
31282,flow3.typo3.org,Task,"",Closed,Should have,Menu in flow3.typo3.org/documentation unsorted,Karsten Vieth,"",2011-12-14 10:03,"","",2011-10-25,"","",0,2011-10-25 10:11,"","",333450,"","the left menu in http://flow3.typo3.org/documentation/guide/partii.html is unsorted.

Links to the next chapter would be a nice feature too
"
31222,flow3.typo3.org,Bug,"",Resolved,Should have,Ordering of links at http://flow3.typo3.org/documentation/guide/partii.html,Susanne Moog,Bastian Waidelich,2012-03-08 07:28,"","",2011-10-24,"","",0,2011-10-24 08:34,"","",330450,"","Hi,

a colleague just starting with FLOW3 mentioned that it's confusing that the links in the content area at http://flow3.typo3.org/documentation/guide/partii.html are in a different order than the links on the left in the menu. Perhaps you could adjust them? 

"
29891,flow3.typo3.org,Task,"",Resolved,Should have,Solve cufont / Aloha problem,Robert Lemke,"",2011-10-24 08:38,"",2.0.0,2011-09-16,"","",0,2011-09-16 05:32,"","",265100,"","As we are using cufonts, we cannot edit headers with Aloha. Need to solve that."
11367,flow3.typo3.org,Bug,"",Closed,Must have,"The object ""F3\Party\Domain\Repository\AccountRepository"" does not exist",Stefano Kowalke,"",2011-09-16 05:31,"","",2010-12-09,"","",0,2010-12-09 16:13,"","",1819900,"","In blog example change the code inside SetupController.php from 
<pre>
	/**
	 * @inject
	 * @var \F3\Party\Domain\Repository\AccountRepository
	 */
	protected $accountRepository;
</pre> into
<pre>
	/**
	 * @inject
	 * @var \F3\FLOW3\Security\AccountRepository
	 */
	protected $accountRepository;
</pre>"
11366,flow3.typo3.org,Bug,"",Closed,Must have,"Invalid configuration option ""factoryClassName""",Stefano Kowalke,"",2011-09-16 05:31,"","",2010-12-09,"","",0,2010-12-09 16:00,"","",1819950,"","Invalid configuration option ""factoryClassName"" in Objects.yaml in the blog example

Correct setting is ""factoryObjectName"". Found this here [1].


[1] http://www.rvantwisk.nl/flow3-irc-log/2010/may/6.html "
11365,flow3.typo3.org,Bug,"",Closed,Must have,Class GravatarViewHelper extents from wrong class BlogExample,Stefano Kowalke,"",2011-09-16 05:31,"","",2010-12-09,"","",0,2010-12-09 15:49,"","",1820000,"","I copied the blog example from the cheatsheet folder into a regular application folder and call example.com/blog/post and got this error

<pre>
Fatal error: Class 'F3\Fluid\Core\ViewHelper\TagBasedViewHelper' not found
</pre>

Change 
<pre>
class GravatarViewHelper extends \F3\Fluid\Core\ViewHelper\TagBasedViewHelper  {
</pre> into <pre>
class GravatarViewHelper extends \F3\Fluid\Core\ViewHelper\AbstractTagBasedViewHelper {
</pre>

should help"
11338,flow3.typo3.org,Bug,"",Closed,Must have,Wrong code in getting started tutorial,Stefano Kowalke,"",2011-09-16 05:31,"","",2010-12-08,"","",0,2010-12-08 13:01,"","",1820050,"","In Chapter 8. Controller there is wrong/old code inside SetupController class.

The example shows 
<pre>
$blog = $this->objectFactory->create('F3\Blog\Domain\Model\Blog');
</pre>
but this property doesn't exist. The current way is to use 
<pre>
$blog = $this->objectManager->create('F3\Blog\Domain\Model\Blog'); 
</pre>

I found this error in the example of the GettingStarted package (in Private/CheatSheet/code) too. "
11332,flow3.typo3.org,Bug,"",Closed,Must have,No access permission for API documentation,Stefano Kowalke,"",2011-09-16 05:31,Server Administration,"",2010-12-08,"","",0,2010-12-08 08:41,"","",1820100,"","I got this error 
<pre>
Forbidden

You don't have permission to access /fileadmin/API/FLOW3/index.html on this server.
</pre>
when I clicked of the first link at http://flow3.typo3.org/documentation/api/"
6942,flow3.typo3.org,Bug,"",Closed,Should have,Compare features also with Yii..,Fredy Klammsteiner,"",2011-09-16 05:31,"","",2010-03-21,"","",0,2010-03-21 12:26,"","",1820150,"",It might be interesting to have also the Yii framework (www.yiiframework.com) in the comparison table.
3849,flow3.typo3.org,Bug,"",Closed,Must have,Errors in Flow3 Comparison chart,Peter Bowyer,Robert Lemke,2011-09-16 05:31,Content,"",2009-07-08,"","",0,2009-07-08 12:09,"","",1820200,"","Hi,

The following info is incorrect about Symfony:

* It has a package repository (http://www.symfony-project.org/plugins/) which is also accessible as a PEAR channel from the command-line tool
* Dependency Injection is coming in Symfony 2.0, and the code has been released to the community already.
* Symfony is developed using Continuous Integration (http://ci.symfony-project.org/)

My understanding is Symfony uses ""Persistence (Domain Model)"" not ""Persistence (Active Record)"".

I don't know what you mean by ""Object Lifecycle Management"" - I thought this was something PHP took care of internally :)

Finally, I have no idea what ""DDD Optimized Layer Architecture"" is - may be worth explaining?

"
2415,flow3.typo3.org,Feature,"",New,Should have,PDF Documentation,Sebastian Kurfuerst,"",2011-12-14 16:38,Server Administration,"",2009-01-06,"","",0,2009-01-06 08:28,"","",1820250,"","We want a rendered PDF documentation of our docbook.
See attached file for some draft how it could work."
1494,flow3.typo3.org,Task,"",Resolved,Should have,Change CGL text,Tim Eilers,Karsten Dambekalns,2010-10-20 05:40,Content,"",2008-09-10,"","",100,2008-09-10 15:30,"","",8350,"","Please change Example A19
from this
<pre>
if (weHaveALotOfCriteria() &&
   notEverythingFitsIntoOneLine() ||
   youJustTendToLikeIt()) {
      doThis();
</pre>
to this
<pre>
if (weHaveALotOfCriteria()
   && notEverythingFitsIntoOneLine()
   || youJustTendToLikeIt()) {
      doThis();
</pre>

due to this mailing list thread voting:
http://support.typo3.org/projects/typo3-5-0general/m/typo3-50-general-coding-guidelines-rule-for-long-criteria-line-breaks-voting-360490/p/9/


Also please correct Example A24: It has to be ""the
exception is for"" not ""the interface is for"".
"
483,flow3.typo3.org,Bug,"",Resolved,Should have,Documentation -> Reference,Christoph Blömer,Robert Lemke,2010-10-20 05:40,Content,"",2008-04-24,"","",0,2008-04-24 15:27,"","",1820300,"","The Link ""MVC Framework"" has the ""Component Manager""-Content
The Link ""Component Manager"" has the ""MVC Framework""-Content"
458,flow3.typo3.org,Bug,"",Closed,Should have,Issues when printing e.g. the documentation,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-04-14,"","",0,2008-04-14 15:43,"","",1820350,"","When printing in Firefox under Windows the content is too wide. When setting manually to 70% it fits. In MSIE6 it's the same problem, but manually adjusting the printout size is impossible. MSIE7 prints ok."
426,flow3.typo3.org,Bug,"",Rejected,Could have,Content is (almost) completely invisible in IE6,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-03-27,"","",0,2008-03-27 06:06,"","",1820400,"",See the attached screenshots which have been taken using IE6 / WinXP.
327,flow3.typo3.org,Bug,"",Resolved,Should have,"All URLs (www.flow3.de,flow3.de,flow3.typo3.org) should link to one URL",Malte Jansen,Karsten Dambekalns,2010-10-20 05:40,Server Administration,"",2008-02-19,"","",100,2008-02-19 10:30,"","",1820450,"",For search it's the best ;) Just like for www.typo3.org and typo3.org
325,flow3.typo3.org,Bug,"",Resolved,Should have,Code-listings run into sidebar blocks,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-02-19,"","",100,2008-02-19 08:18,"","",1820500,"","As can be seen in the attached screenshot the code listings are as wide as the content area, even if there is a sidebar. If possible, this should be fixed..."
316,flow3.typo3.org,Feature,"",Closed,Should have,API documentation needs to be updated automatically,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Server Administration,"",2008-02-15,"","",0,2008-02-15 05:49,"","",1820550,"",Currently the API documentation at http://flow3.typo3.org/documentation/api/ seems not to be updated automatically.
197,flow3.typo3.org,Task,"",Closed,Should have,Redirect flow3.de to flow3.typo3.org,Robert Lemke,Wolfgang Zenker,2010-10-20 05:40,Server Administration,"",2008-02-11,"","",100,2008-02-11 07:22,"","",850,"",Currently flow3.de points to nowhere - please redirect that to flow3.typo3.org
196,flow3.typo3.org,Bug,"",Resolved,Should have,Framework comparison details,Tobias Schlitt,Robert Lemke,2010-10-20 05:40,Content,"",2008-02-11,"","",100,2008-02-11 03:15,"","",1820600,"","Hi all!

I found your framework comparison (http://flow3.typo3.org/about/comparison/) quite interesting and have some input about eZ Components, where I think some entries are missing or maybe I just got it wrong.

I don't knwo what ""Package Repository"" exactly means, but I guess that is a PEAR channel, right? If so, eZ Components also have one at components.ez.no. ""l18 & l10n"" is supported Translation component (see http://ezcomponents.org/docs/tutorials/Translation). The ""Security Framework"" seems to be supported by multiple of the eZ Components: UserInput (http://ezcomponents.org/docs/tutorials/UserInput) is a component to secure any type of incoming data by properly validating and escaping it. The PersistentObject (http://ezcomponents.org/docs/tutorials/PersistentObject) component automatically prevents SQL incjections and the Template (http://ezcomponents.org/docs/tutorials/Template) components allows to avoid XSS by its XHTML-Context, which performs proper escaping on evrry output made. Or did I get the term ""Security Framework"" wrong? In addition, eZ Components make heavy use of DI in terms of their ""Tie-In"" components, which are used to create optional dependencies between components instead of making them hard-depend on each other. 

Most important: eZ Components are not realeased under a proprietary license (and actually have never been), but under the ""New BSD License"" (see: http://ezcomponents.org/about).

Thanks in advance for updating! :)

Best regards,
Toby


"
190,flow3.typo3.org,Bug,"",Resolved,Could have,"Width limitation is gone, content becomes as wide as possible",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-02-08,"","",100,2008-02-08 04:54,"","",1820650,"","There was a content-width limitation in place, that stopped the main content column from becoming ridiculously wide. This is gone now... why?"
188,flow3.typo3.org,Bug,"",Closed,Should have,first news not clickable.,Sebastian Kurfuerst,Karsten Dambekalns,2010-10-20 05:40,"","",2008-02-08,"","",0,2008-02-08 04:34,"","",1820700,"",first news item is not clickable
185,flow3.typo3.org,Bug,"",Resolved,Should have,Text rendering on documentation/reference/component-manager/ (possible duplicate),Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-02-07,"",0.00,100,2008-02-07 17:33,"","",1820750,"","See attached.

From http://flow3.typo3.org/documentation/reference/component-manager/"
184,flow3.typo3.org,Bug,"",Resolved,Should have,Header usage,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,"",1.0.0,2008-02-07,"","",100,2008-02-07 17:32,"","",1821000,"","See attached from http://flow3.typo3.org/about/

H1 should only be used one on each page - topmost.

Let me know if H2/3/4 settings are lacking - can't find issues about it and haven't checked BE."
183,flow3.typo3.org,Bug,"",Resolved,Must have,Gap between content elements,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,"","",2008-02-07,"","",100,2008-02-07 17:27,"","",1820800,"",See attached.
182,flow3.typo3.org,Bug,"",Resolved,Should have,4th feature has too wide border on the right,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,"",1.0.0,2008-02-07,"","",100,2008-02-07 17:24,"","",1821050,"",See attached. All other lines are fine but the rightmost border is 2px instead of 1.
181,flow3.typo3.org,Task,"",Resolved,Should have,Top-align column content,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,"",1.0.0,2008-02-07,"","",100,2008-02-07 17:19,"","",700,"",See attached. All content in all columns should top-align precisely. Follow the yellow line.
180,flow3.typo3.org,Task,"",Resolved,Should have,Text change,Rasmus Skjoldan,Robert Lemke,2010-10-20 05:40,"","",2008-02-07,"","",100,2008-02-07 17:15,"","",650,"","I think ""Go With The Flow"" should be spelled ""Go with the Flow"" - would look much better. "
179,flow3.typo3.org,Bug,"",Resolved,Should have,Header position,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,"",1.0.0,2008-02-07,"","",100,2008-02-07 17:12,"","",1821100,"","See attached. There's a gap below header and before the dark gray box. 

There should be 1px white between - and no more."
178,flow3.typo3.org,Task,"",Resolved,Should have,Expand padding-right on MO area on front page,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,"",1.0.0,2008-02-07,"","",100,2008-02-07 17:07,"","",600,"",See attached. I guess we can just add some padding to make the multiline rendered text flow down on next line before getting too close to the right border.
177,flow3.typo3.org,Task,"",Resolved,Won't have this time,Render and position tag lines / headers on front page,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,"",1.0.0,2008-02-07,"","",100,2008-02-07 17:06,"","",550,"",See attached.
176,flow3.typo3.org,Task,"",Resolved,Won't have this time,Logo baseline and 1st layer items must bottom-align,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,1.0.0,2008-02-07,"","",100,2008-02-07 16:57,"","",500,"",1st layer items should be moved 4px down to align with the logo
175,flow3.typo3.org,Task,"",Closed,Should have,Render 2nd layer items in Sharebold,Rasmus Skjoldan,Karsten Dambekalns,2010-10-20 05:40,TS / Extensions,"",2008-02-07,"","",0,2008-02-07 16:49,"","",450,"",It's okay to size up the font of the 2nd layer items but it needs to be rendered in Share bold + the entire background of the 2nd layer needs to be extended by 6 pixels when the size is being scaled up. 
174,flow3.typo3.org,Task,"",Resolved,-- undefined --,Add real news item,Robert Lemke,Robert Lemke,2010-10-20 05:40,Content,1.0.0,2008-02-07,"","",100,2008-02-07 13:26,"","",400,"",Add real news item
173,flow3.typo3.org,Task,"",Resolved,Should have,Add content for Comparison,Robert Lemke,Robert Lemke,2010-10-20 05:40,Content,1.0.0,2008-02-07,"","",100,2008-02-07 13:25,"","",350,"",Add content for Comparison
172,flow3.typo3.org,Bug,"",Resolved,Should have,Styles for news list view on front page need brush up,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,1.0.0,2008-02-07,"","",100,2008-02-07 13:24,"","",1821150,"","* The headlines of the news items are too different from the rest of the page.
* There are double borders (top + bottom border for each news item)

!DoubleBorder.png!"
171,flow3.typo3.org,Task,"",Resolved,Should have,Point the wiki link to a FLOW3 page,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Content,"",2008-02-07,"","",100,2008-02-07 13:21,"","",300,"",Currently the wiki link at http://flow3.typo3.org/get-involved/wiki-and-issuetracker/ points to the wiki start page. After the launch we should create a page for FLOW3.
170,flow3.typo3.org,Task,"",Closed,Should have,"Dummy picture on ""Core Team"" needs to be replaced",Robert Lemke,Robert Lemke,2010-10-20 05:40,Content,1.0.0,2008-02-07,"","",100,2008-02-07 13:18,"","",250,"",Currently there's a dummy picture at http://flow3.typo3.org/get-involved/core-team/
169,flow3.typo3.org,Feature,"",Resolved,Should have,We need a style for h2,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,1.0.0,2008-02-07,"","",100,2008-02-07 13:17,"","",1821200,"","On some pages, we have a lot of big h1 headings:

!ManyBigHeadings.png!

It would look better if only the first heading was big and the other were h2. The question is if we should create a style for csc-firstHeader or just use h2 manually in the content elements."
168,flow3.typo3.org,Bug,"",Resolved,Should have,"""Frame1"" style is not consistent depending on content",Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,1.0.0,2008-02-07,"","",100,2008-02-07 13:13,"","",1821250,"","Depending on whether the content element is pure text, contains a bullet list or a menu of subpages, there's a background or not for the ""Frame 1"" style.

This seems to be correct:

!Frame1Correctly.png!

"
167,flow3.typo3.org,Task,"",Resolved,Should have,API documentation needs to be updated (still shows UNKNOWN3),Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Content,1.0.0,2008-02-07,"","",100,2008-02-07 13:10,"","",200,"",API documentation needs to be updated (still shows UNKNOWN3)
166,flow3.typo3.org,Bug,"",Resolved,Should have,Documentation: Content grows below footer line if images exist,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-02-07,"","",100,2008-02-07 13:09,"","",1820850,"","At http://flow3.typo3.org/documentation/reference/aop-framework/ the content grows below the footer line:

!contentbelowfooter.png!

Seems to be a JS issue."
165,flow3.typo3.org,Feature,"",Resolved,Should have,"Page ""Documentation"" has no content yet",Robert Lemke,"",2010-10-20 05:40,Content,1.0.0,2008-02-07,"","",100,2008-02-07 13:05,"","",1821300,"",http://flow3.typo3.org/documentation/
164,flow3.typo3.org,Bug,"",Resolved,Should have,h1 in column 3 is too wide,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,1.0.0,2008-02-07,"","",90,2008-02-07 13:03,"","",1821350,"",!h1_heading_col3.png!
162,flow3.typo3.org,Bug,"",Resolved,Should have,Width-calculation in JS doesn't work as expected for 1-side-column pages,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,1.0.0,2008-02-05,"","",100,2008-02-05 15:45,"","",1821400,"","On pages like the reference or API in the documentation section we use a subtemplate with only one side-column. This works fine in general, but the width calculated by the JS isn't as wide as it could be."
159,flow3.typo3.org,Feature,"",Resolved,Should have,Install and configure the news plugin,Robert Lemke,Sebastian Kurfuerst,2010-10-20 05:40,TS / Extensions,1.0.0,2008-02-05,"","",100,2008-02-05 04:10,"","",1821450,"","We need news for the front page (in the outermost right column). These news should be imported from news.typo3.org like on the other websites, too.

Please take care to not unveil the name FLOW3 while setting up categories etc. on news.typo3.org - at least it shouldn't be visible for the regular visitor of the website."
156,flow3.typo3.org,Bug,"",Resolved,Should have,"Dropdown menu in IE7 and ""Click here to see the full width code""",Søren Vedel,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-02-04,"","",100,2008-02-04 10:02,"","",1820900,"","The dropdown-menu doesn't show in IE7 and the ""Click here to see the full width code"" is out of order, too.

Might be some problem with the bells-and-whistles.js script?"
154,flow3.typo3.org,Bug,"",Resolved,Should have,Layout / floating of feature box is broken in Safari,Robert Lemke,Christian Jul Jensen,2010-10-20 05:40,HTML / CSS,1.0.0,2008-01-30,"","",0,2008-01-30 17:05,"","",1821500,"",!FeatureBoxBrokenLayout.png!
153,flow3.typo3.org,Feature,"",Closed,Should have,Feature photos need to be replaced by real photos,Robert Lemke,Robert Lemke,2010-10-20 05:40,Content,1.0.0,2008-01-30,"","",100,2008-01-30 17:01,"","",1821550,"",Feature photos need to be replaced by real photos
152,flow3.typo3.org,Bug,"",Resolved,Should have,Image links in documentation are broken,Robert Lemke,Robert Lemke,2010-10-20 05:40,TS / Extensions,1.0.0,2008-01-30,"","",100,2008-01-30 12:44,"","",1821600,"",!BrokenImageLink!
128,flow3.typo3.org,Bug,"",Rejected,Should have,Code snippets (PRE) in the documentation destroy column layout,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,1.0.0,2008-01-30,"","",0,2008-01-30 07:03,"","",1821650,"","See screenshot:

!DocumentationPreProblem.png!"
127,flow3.typo3.org,Bug,"",Resolved,Should have,Underlined links necessary in navigation?,Robert Lemke,Søren Vedel,2010-10-20 05:40,Design,1.0.0,2008-01-29,"","",0,2008-01-29 05:36,"","",1821700,"","Currently the navigation links are orange and underlined:

!UnderlinedLinksInNavigation.png!

Is it really necessary to underline them?"
126,flow3.typo3.org,Bug,"",Resolved,Should have,Link color and bullets are undefined in right bar,Robert Lemke,"",2010-10-20 05:40,HTML / CSS,1.0.0,2008-01-29,"","",100,2008-01-29 05:34,"","",1821750,"",!LinkColorAndBulletInSidebar.png!
125,flow3.typo3.org,Bug,"",Rejected,Should have,Content positioning of documentation is wrong,Robert Lemke,Christian Jul Jensen,2010-10-20 05:40,HTML / CSS,1.0.0,2008-01-29,"","",0,2008-01-29 05:32,"","",1821800,"",!DocumentationContentPositioning.png!
124,flow3.typo3.org,Bug,"",Resolved,Must have,Adjust feature title / description,Robert Lemke,Søren Vedel,2010-10-20 05:40,HTML / CSS,1.0.0,2008-01-29,"","",100,2008-01-29 05:29,"","",1821850,"","I don't know if that is the wanted design, but for me it looks like the feature title and description could need a bit more top padding. Maybe they should even be centered?"
123,flow3.typo3.org,Bug,"",Resolved,Should have,Footer copyright year is wrong,Robert Lemke,Søren Vedel,2012-04-13 09:15,TS / Extensions,1.0.0,2008-01-29,"","",0,2008-01-29 05:25,"","",1821900,"","We should have some auto-updating footer copyright year. 

Code from typo3.org we can use:
<pre>
lib.footer = COA

lib.footer.10 = TEXT
lib.footer.10.data = date : Y
lib.footer.10.noTrimWrap = |&copy; 2007-| |

lib.footer.20 = TEXT
lib.footer.20.value = TYPO3 Association
lib.footer.20.typolink.parameter = http://association.typo3.org

lib.footer.30 = TEXT
lib.footer.30.value = All rights reserved
lib.footer.30.noTrimWrap = | ||
</pre>"
122,flow3.typo3.org,Feature,"",Resolved,Should have,Enable RealURL,Robert Lemke,Sebastian Kurfuerst,2010-10-20 05:40,TS / Extensions,1.0.0,2008-01-29,"","",100,2008-01-29 05:23,"","",1821950,"",We should install and configure RealURL.
121,flow3.typo3.org,Bug,"",Resolved,Should have,Logo-link doesn't work i IE,Christian Jul Jensen,Søren Vedel,2010-10-20 05:40,HTML / CSS,1.0.0,2008-01-28,"","",0,2008-01-28 12:49,"","",1822000,"","Why is the link wrapping a div, probably the reason..."
120,flow3.typo3.org,Bug,"",Resolved,Should have,Dark red shows left of features if you scale to ridicoulus small width,Christian Jul Jensen,Søren Vedel,2010-10-20 05:40,"",1.0.0,2008-01-28,"","",0,2008-01-28 12:47,"","",1822050,"",nuff said
119,flow3.typo3.org,Bug,"",Closed,Should have,clear-declaration in content relates to sidebars,Christian Jul Jensen,Karsten Dambekalns,2010-10-20 05:40,HTML / CSS,"",2008-01-28,"","",0,2008-01-28 12:46,"","",1820950,"",If there is a css clear declaration (like on header tags in the manual) the content will go below the grey columns to the right
118,flow3.typo3.org,Bug,"",Resolved,Should have,JS-error in bee3_scalablefeature,Christian Jul Jensen,Christian Jul Jensen,2010-10-20 05:40,TS / Extensions,1.0.0,2008-01-28,"","",0,2008-01-28 12:44,"","",1822100,"",For some reason some of the inline JS is truncated => mouse-outs doesn't work
117,flow3.typo3.org,Bug,"",Resolved,Should have,Drop-down menus in IE,Christian Jul Jensen,Søren Vedel,2010-10-20 05:40,HTML / CSS,1.0.0,2008-01-28,"","",0,2008-01-28 12:40,"","",1822150,"","Goes behind #title-div in IE, fucks up out-events"
48929,Coordination Group,Task,Topic #48923: Inspiring Flow Video ,Accepted,Should have,Optimize flow.typo3.org,Berit Hlubek,Karsten Dambekalns,2014-04-07 07:14,Communication,"",2013-06-06,"","",0,2013-06-06 17:35,"","",1196150,"","* Find missing content
* Find content that has to be optimized or updated"
48926,Coordination Group,Task,Topic #48924: Funding,Resolved,Should have,"""Workpackage"" for Flow release",Christian Müller,Christian Müller,2013-08-07 08:05,"","",2013-06-06,"","",0,2013-06-06 11:28,"","",1196000,"",""
48925,Coordination Group,Task,Topic #48924: Funding,Closed,Should have,Workpackage for coordination,Christian Müller,Christian Müller,2014-04-07 07:15,"","",2013-06-06,"","",0,2013-06-06 11:28,"","",1195950,"",""
48924,Coordination Group,Topic,"",New,Should have,Funding,Christian Müller,Christian Müller,2014-04-07 07:15,"","",2013-06-06,"","",100,2013-06-06 11:20,"","",1195900,0.00,Umbrella topic for everything related to team funding.
48923,Coordination Group,Topic,"",Closed,Should have,Inspiring Flow Video ,Berit Hlubek,Berit Hlubek,2013-08-16 15:10,Communication,Meeting 06.06.2013,2013-06-06,"","",0,2013-06-06 11:19,"","",1195850,0.00,"The video is ready and should be published soon. No objections. :)

Upload to Vimeo + Youtube, include via Vimeo if possible (nicer)

*Next Steps:* Should be published next week on Flow website. Berit will coordinate this and check if there are any slums on the site which need some cleanup before ..."
48922,Coordination Group,Topic,"",Resolved,Should have,Neos Code Sprint 4/2013,Christian Müller,Christian Müller,2014-04-07 07:12,"","",2013-06-06,"","",100,2013-06-06 11:18,"","",1195800,"","will be in week 40 (30.09.-6.10.2013) in Frankfurt/Main, Germany.

Next Step: Christian will get in touch with the location sponsor (DECIX) and fix the actual dates.
"
48921,Coordination Group,Topic,"",Resolved,Should have,Creating a new Neos Website (2013),Robert Lemke,Berit Hlubek,2014-04-07 07:12,Communication,Meeting 06.06.2013,2013-06-06,"","",0,2013-06-06 10:32,"","",1195750,"",See http://forge.typo3.org/projects/typo3neos-website-communication/issues for related issues
48445,Coordination Group,Suggestion,"",Resolved,Should have,Coordinate git/gerrit repository renaming,Aske Ertmann,"",2013-08-07 08:05,Infrastructure,"",2013-05-22,"","",0,2013-05-22 05:05,"","",1172100,"","We need to rename our Git and Gerrit repositories before our release of 1.0

This should probably also be done with the Flow repositories.

* Gerrit repository renaming
* Git repository renaming / symlinks
* Updating composer paths 
* Continues integration adjusting"
48444,Coordination Group,Task,Topic #48435: Implement new team structure,New,Should have,Decide on Quality Guardians,Christian Müller,"",2013-05-22 05:03,"","",2013-05-22,"","",0,2013-05-22 05:03,"","",1172050,"",""
48443,Coordination Group,Task,Topic #48435: Implement new team structure,New,Should have,Prepare Forge Roles for new team structure,Christian Müller,"",2013-05-22 05:03,"","",2013-05-22,"","",0,2013-05-22 05:03,"","",1172000,"",""
48442,Coordination Group,Task,Topic #48435: Implement new team structure,New,Should have,Decide on active contributors,Christian Müller,"",2013-05-22 05:03,"","",2013-05-22,"","",0,2013-05-22 05:03,"","",1171950,"",""
48438,Coordination Group,Task,"",New,Must have,Developer documents,Aske Ertmann,Karsten Dambekalns,2013-06-06 11:24,Quality Assurance,"",2013-05-22,"","",0,2013-05-22 04:35,"","",1171750,"","Since we've now created a few documents for the new UI/UX and styling implementation we should consider where to put documents like that. They're mostly for developers/designers working on Neos and shouldn't be places for discussion. We need to be a little careful since some of the UI stuff should probably only be released to those interested in contributing. But in general after the release of 1.0 we should have a place for these publicly.

My suggestion:
* Create page on neos.typo3.org with links to specific Google documents
* Make documents read only and share to specific people if they need editing rights
* Disable commenting
* Keep the UI document within the team until release of 1.0"
48436,Coordination Group,Task,Topic #48435: Implement new team structure,New,Should have,Finish Team restructuring,Christian Müller,"",2013-06-06 11:24,"","",2013-05-22,"","",0,2013-05-22 04:26,"","",1171650,"","Decide for active contributors, create role for that in Forge and same for Quality Guardians."
48435,Coordination Group,Topic,"",New,Should have,Implement new team structure,Robert Lemke,Robert Lemke,2013-06-06 11:24,Organisational,"",2013-05-17,"","",0,2013-05-22 04:25,"","",1171600,0.00,This is the umbrella topic for all tasks related to the implementation of the new team structure (http://typo3.org/news/article/neos-and-flow-an-update-for-the-team-structure/)
48434,Coordination Group,Topic,"",New,Should have,Topic workflow for Coordination Group,Robert Lemke,"",2013-06-06 11:24,Organisational,"",2013-05-22,"","",0,2013-05-22 04:23,"","",1171550,"",We'll need a (briefly) documented workflow for how we organize ourselves in the Coordination Group using the issue tracker
48345,Coordination Group,Topic,Topic #48435: Implement new team structure,Accepted,Should have,Establish team account for social media,Robert Lemke,Berit Hlubek,2013-06-06 11:16,Communication,Meeting 06.06.2013,2013-05-21,"","",0,2013-05-17 09:12,"","",1167100,"","We should register an account at http://bufferapp.com which allows all Active Contributors (and certain people form other teams) to post on the Twitter / Facebook / App.net accounts of Neos, Flow and hopefully also the TYPO3 project.

* coordinate with Ben
* coordinate with existing maintainers of the TYPO3 Twitter and Facebook account
* check how the ""awesome"" account at Buffer would be paid (which budget? which credit card?)
* set up guidelines for usage
* make sure that new / leaving Active Contributors are added / removed

Even though a lot of people have access, they must read the guidelines and possibly check with the ""social media leader"" before they first use one of the accounts"
48344,Coordination Group,Task,Topic #48435: Implement new team structure,New,Should have,Define possible access rights and entitlements for Active Contributors,Robert Lemke,Christian Müller,2013-05-22 05:02,Community,"",2013-05-17,"","",0,2013-05-17 09:08,"","",1167050,"","We need to create a list of accounts, access rights and other benefits (typo3.org email address) each Active Contributor is entitled to. This can later be used as a check list."
54740,Website and Communication,Task,"",New,Should have,Online Documentation lacks files and paths for mentioned code snippets,Chr is,"",2014-01-04 09:40,"","",2014-01-04,"","",0,2014-01-04 09:40,"","",1483300,"","There are multiple places where online documentation is *lacking file paths* that the mentioned code samples have to be added to - or modified in.


E.g. this page ...

http://docs.typo3.org/neos/TYPO3NeosDocumentation/IntegratorGuide/PageRendering.html#page-rendering

... lacks the file and path where the mentioned code snippet ...

<pre>
page = Page
page.body.templatePath = 'resource://My.Package/Private/Templates/PageTemplate.html'
</pre>

... should live from now on.


This is especially annoying for Newbies that are not yet familiar with the central files as they have to look for another information elsewhere.
And opening multiple browser tabs just to have every recursively structured subpage of needed documentation in sight is not very ergnonomic."
54444,Website and Communication,Task,"",New,Should have,#1258721059: The security context contained no tokens which could be authenticated.,Bram Verhaegh,"",2013-12-16 05:17,"","",2013-12-16,"","",0,2013-12-16 05:17,"","",1468750,"","After setup,
frontend en backend are not accessible

frontend : #1258721059: The security context contained no tokens which could be authenticated. (also after cleaning all caches)

backend: 404.
"
54319,Website and Communication,Task,"",Accepted,Should have,Missing or wrong RSS Link,Markus Günther,Berit Hlubek,2013-12-12 03:36,Copytext,"",2013-12-11,"","",0,2013-12-11 02:36,"","",1462500,"","In the Footer is a missing link to the RSS feed. Otherwise some javascript is missing that handles the action that should happen.

Actually the button do nothing."
54310,Website and Communication,Task,"",Resolved,Must have,Side menu on the home page overlaps,Markus Günther,Berit Hlubek,2013-12-13 08:25,Frontend,"",2013-12-10,"","",100,2013-12-10 15:21,"","",1462050,"","Hi,

the side menu at the home site overlaps with the main menu.

*Steps to reproduce:*
* go to http://neos.typo3.org/homepage.html
* scroll down to a new content section or click on a menu  item in the side menu
* scroll to the top ...

Now the hover state of the menu item overlap with the hover of the main menu. I used the current Chrome, but it is also on the current Safari and Firefox. I did not test IE.

In the Safari the side menu overlaps not as much as in the other browsers.

"
54309,Website and Communication,Task,"",Resolved,Must have,Imprint content is missing,Markus Günther,Berit Hlubek,2013-12-11 17:23,Copytext,"",2013-12-10,"","",100,2013-12-10 15:14,"","",1462000,"","Hi,

i am not sure if this is the right project for neos.typo3.org issues. I hope so ;)
Great to see the page in the new design and a big ""thank you"" to the whole team for that result.

I have just a small issue... it seems that the content on the imprint page is missing. 

http://neos.typo3.org/imprint.html"
54013,Website and Communication,Task,"",New,Should have,Use Cases for NEOS (vs. 6.x Tree),Andrew Isaak,Mathias Schreiber,2013-11-27 10:05,Copytext,"",2013-11-27,"","",0,2013-11-27 10:05,"","",1447700,"","Hey everyone,

here I am pointing out that it be great to provide a graphic or accordeon slider
to visually explain some sample scenarios for using NEOS (i.e. my guess is it would be more interesting for tech evangelists, startups and new users vs. 6.x which is likely to be more interesting for firms that already use 4.5)
The reality is, Typo3 can not maintain both branches forever. Someday Typo3 ""7"" will no longer be the focus and NEOS should be where our energies flow to (in my case of conceptual nature as I am not a real programmer per se but rather a former tech journalist and sys admin.)

Look forward to your feedback. Thanks for listening.

Andrew"
54011,Website and Communication,Task,"",New,Should have,Guide Migrating from TYPO3 6.X to NEOS,Andrew Isaak,Mathias Schreiber,2013-11-27 09:59,Copytext,"",2013-11-27,"","",0,2013-11-27 09:59,"","",1447600,"","Hey guys,

this is my first issue suggestion on your fine Redmine System here and
I hope it is in the right place.

It would be a big help for users to know how to make the move
from Typo3 4.5 or 6.x to NEOS with pros and cons. This should not take more than a few hours for someone that knows both systems well.

Another suggestion is to create use cases for 6.x vs. NEOS
and finally to provide sample websites based on NEOS or to list well-known sites that plan to make the move.

Thanks for giving it some thought!
Did not add any watchers yet since I'm not quite sure who's doing what yet and didnt want you to get spammed full of messages!

Best,
Andrew"
52626,Website and Communication,Task,"",Closed,Should have,Slider on small devices,Henjo Hoeksma,Henjo Hoeksma,2013-12-12 03:40,Conceptional,3) Build v1,2013-10-09,"","",100,2013-10-09 05:36,"","",1378800,"","Should the slider be available on smaller screensizes?
It scales down, so functionally it will work, but it sure takes up a large chunk of space."
52625,Website and Communication,Task,"",Closed,Should have,Should the main menu contain a dropdown possibility or...,Henjo Hoeksma,Henjo Hoeksma,2013-12-12 03:40,Conceptional,3) Build v1,2013-10-09,"","",100,2013-10-09 05:32,"","",1378750,"","... just not
... is it a section style menu pointing to the sections on the homepage
... ?"
52624,Website and Communication,Task,"",Resolved,Should have,Header navigation on smaller devices,Henjo Hoeksma,Berit Hlubek,2013-12-12 03:35,Conceptional,"",2013-10-09,"","",100,2013-10-09 05:30,"","",1378700,"","What would be a nice way to handle the header navigation on the top-right on smaller devices?

My suggestion would be to hide it and add a placeholder - or - move it to the bottom.

Any suggestions?
"
52528,Website and Communication,Task,"",New,Should have,Text-book: Edit & Preview,Rasmus Skjoldan,"",2013-10-04 04:55,"","",2013-10-04,"","",0,2013-10-04 04:55,"","",1373900,"","There has to be a supplementary section to in-page editing:

""Edit & Preview""

""Tailor your editing interfaces ? and let Preview Central make you see what your users will experience""
"
52459,Website and Communication,Task,"",Accepted,Should have,Technical Excellence,Mathias Schreiber,Mathias Schreiber,2013-10-02 05:49,Copytext,2) Finish Copytext,2013-10-02,"","",0,2013-10-02 05:49,"","",1370550,"","The TYPO3 Neos team is passionate about giving you the best possible experience while accomplishing your daily tasks. This is why we do not accept no as an answer.
The entire code is backed by automated tests so you can be sure that the system acts like it is supposed to.
Also we do not use state of the art technolgies - we define state of the art.
Every component used within Neos is thoroughly tested in different setups and use cases so we can keep up with our promise: Deliver excellence in software.


<pre>
Maybe a bit too over-the-top, but hey :)
Why keep our lights under the table :)
</pre>"
49438,Website and Communication,Task,"",Accepted,Should have,Pages: Work Package Listing,Berit Hlubek,Berit Hlubek,2013-12-12 03:38,"","",2013-12-12,"","",0,2013-06-26 05:09,"","",1221500,"","* Adjust styling to new layout
* Add paypal button"
48641,Website and Communication,Task,"",Resolved,Should have,Changes to masterTemplate,Rasmus Skjoldan,Rasmus Skjoldan,2013-12-11 17:26,"","",2013-06-03,"","",0,2013-05-29 08:48,"","",1181850,"","Remove underline from section orange menu.
Remove border-bottom from header menu
Remove border-bottom from H1
P fontsize: 18px/1.3 em

Let's look at it again after that....

"
48402,Website and Communication,Task,"",Closed,Must have,Pages: Keep the events page up to date,Berit Hlubek,Berit Hlubek,2013-12-12 03:34,"","",2013-05-20,"","",0,2013-05-20 16:12,"","",1169950,"",The events page shows our past and coming code sprints and should be kept up to date.
48401,Website and Communication,Task,"",New,Must have,Pages: Add all team members to the website,Berit Hlubek,Rasmus Skjoldan,2013-12-12 03:36,"","",2013-12-12,"","",0,2013-05-20 14:52,"","",1169900,"","We have to add all team members to the website.
It should be at least the name and the position and it would be nice to also show a picture.

*Idea:*
* Create a NodeType to show a team member with name and picture
* Maybe also show the location (country and city)
* Would be more work but also more personal: also show a sentence next to each member, like in the conference speaker descriptions"
48343,Website and Communication,Task,"",Needs Feedback,Should have,Textbook: UI & tech will only give you the options you need,Rasmus Skjoldan,Rasmus Skjoldan,2013-10-02 05:38,Copytext,2) Finish Copytext,2013-05-17,"","",70,2013-05-17 08:47,"","",1167000,"","*Headline:* Power when you need it

Copy (versionized from the UX page): 

The ultra-simple in-page editing makes editors center their attention on content. If you need to edit SEO data next to the content, Neos provides an inspector for that. If you need more, the inspector will be expandable to the full backend screen providing the user with all property options. That?s not enough? Create custom backend modules. And if even that's not enough, underlying Neos, we have Flow - a first-class web framework which will enable you to build web applications that can be integrated with any other system.

Neos will blend in seamlessly with your website so you as an editor don't have to re-think in order to edit your content.
It is our philosophy to reduce the amount of cognitive load to make editing content fun again.

*Idea and Reasoning*
Help people understand that Neos is somewhat the contrary to TYPO3 CMS in relation to the quantity of features you experience. You start small and build - where the contrary is often the case for clients looking at CMS.

Icon and image style
"
48298,Website and Communication,Task,"",On Hold,Should have,Textbook: Cloud,Mathias Schreiber,Rasmus Skjoldan,2013-10-02 05:38,Copytext,2) Finish Copytext,2013-05-16,"","",80,2013-05-16 11:18,"","",1164800,"","h3. Headline and copytext

h4. Headline: Ready for the cloud

*Copy:* Since TYPO3 Flow is cloud-ready, so is TYPO3 Neos. TYPO3 Neos scales with your business and your demands. You plan an intense marketing campaign? Simply add as many servers to your environment as you require - TYPO3 Neos will handle all the low level configuration for you.

h3. Idea and Reasoning

Cloud computing is the other big buzz right now.

h3. Icon and image style

* clouds (who would've thought....)"
48295,Website and Communication,Task,"",Closed,Could have,Textbook: Deployment options,Mathias Schreiber,Rasmus Skjoldan,2013-12-11 04:51,Copytext,2) Finish Copytext,2013-05-16,"","",80,2013-05-16 11:15,"","",1164650,"","h3. Headline and copytext

h4. Headline: Simple, reliable deployment

*Copy:* Manage your rollouts with ease by using TYPO3 Surf - run tests on the code and content your intend to deploy and only roll out when all tests pass. Never worry about launches again - TYPO3 Neos has your back.

h3. Idea and Reasoning

Mention surf as an acompaning tool, release cycles etc.

h3. Icon and image style

* Some arrow pointing upwards?"
48294,Website and Communication,Task,"",Closed,Could have,Textbook: Connection to Flow,Mathias Schreiber,Rasmus Skjoldan,2013-12-11 04:51,Copytext,2) Finish Copytext,2013-05-16,"","",0,2013-05-16 11:14,"","",1164600,"","h3. Headline and copytext

h4. Headline: Built on a robust foundation

*Copy:* Being built upon the most advanced PHP framework to date - TYPO3 Flow - makes your websites ready for whatever the future holds for you. TYPO3 Flow is secure by default, keeping your developers focussed on their main task - building your application - without having to worry about low level implementations. The ""code once - run everywhere"" approach of TYPO3 Flow makes the move from the application to the website very simple.
Whether you start with your website and build the applications from there or you have your application and need content management added to it - TYPO3 Neos and TYPO3 Flow have your back.

h3. Idea and Reasoning

Focus on Flow, next generation Framework stuff and so on

h3. Icon and image style

* concrete
* Buildings"
48293,Website and Communication,Task,"",Closed,Could have,Textbook: In-Page Editing,Mathias Schreiber,Mathias Schreiber,2013-12-11 04:51,Copytext,2) Finish Copytext,2013-05-16,"","",80,2013-05-16 11:11,"","",1164550,"","h3. Headline and copytext

h4. Headline: Inline editing

*Copy:* You won't need a manual or training to edit content in TYPO3 Neos - because you already know how to do that. It is is as easy as clicking onto the part you wish to edit - and start. TYPO3 Neos? ingenious editing interface lets you focus on your task without you having to jump through hoops because your CMS tells you to do so.

What you write is what you get.


h3. Idea and Reasoning

Focus on ease of use and the natural, organic way of editing content.
Intro.js (usablica.github.io/intro.js/) could show the user around the backend in a fancy way

h3. Icon and image style

* emotional
* show hands etc."
48285,Website and Communication,Task,"",Closed,Could have,Textbook: Extendability,Mathias Schreiber,"",2013-12-11 04:51,Copytext,2) Finish Copytext,2013-05-16,"","",0,2013-05-16 10:43,"","",1164200,"","h3. Headline and copytext

h4. Headline: Easily extendable

*Copy:* Websites are as individual as you. Requirements will change during the lifecycle of your product. This is why we put a lot of effort into making TYPO3 Neos as easily extendable as possible. Utilizing the power of TYPO3 Flow as an application framework makes adding new functionality a breeze.
[Learn more]

h3. Idea and Reasoning

Keywords should be 
* lean
* fast
* powerful when needed

h3. Icon and image style

..."
48284,Website and Communication,Task,"",Closed,Must have,Textbook: Semantic Web / SEO,Mathias Schreiber,Mathias Schreiber,2013-12-11 04:51,Copytext,2) Finish Copytext,2013-05-16,"","",80,2013-05-16 10:38,"","",1164150,"","h3. Headline and copytext

h4. Headline: Semantic SEO

*Copy:* Outrun the competition using TYPO3 Neos advanced semantic features. You can annotate your content according to the RDFa standard feeding the search engines additional meta data in order to deliver machine-readable content right away.

h3. Idea and Reasoning

Since the driving thought behind semantics is to be ranked better in search engines, this section should focus on pointing out how Neos aids the editor in achieving better results.

h3. Icon and image style

* Searchglass (never get's old)"
48279,Website and Communication,Task,"",Closed,Must have,Textbook: Responsive web,Mathias Schreiber,Mathias Schreiber,2013-12-11 04:51,Copytext,2) Finish Copytext,2013-05-16,"","",80,2013-05-16 09:50,"","",1163900,"","h3. Headline and copytext

h4. Headline: Responsive web

*Copy:* When you create responsive websites, your CMS should naturally aid you by being responsive as well. But TYPO3 Neos goes further than that - it will automatically adjust your images for your audiences using progressive enhancement. Your websites will load faster, feel more fluid and generate a better user experience than websites built with any other CMS on the market.
Since the advanced content editing mechanisms in TYPO3 Neos work together with your website you can change your contents directly within a responsive viewport - getting immediate results and reducing the time of testing your contents on different devices.

h3. Idea and Reasoning

Since responsive is the new ""accessible"" and thus the new hot thing on the web, we should make this section a priority.
Focus should be ease of use, reduced testing times etc.

h3. Icon and image style

* Some handheld device
* Animated GIF or HTML5 video showing a finger over some mobile device"
48277,Website and Communication,Task,"",Resolved,Could have,Textbook: [Section Template],Mathias Schreiber,"",2013-05-16 14:42,"","",2013-05-16,"","",0,2013-05-16 09:47,"","",1163800,"","h3. Headline and copytext

h4. Headline: ...

*Copy:* ...

h3. Idea and Reasoning

...

h3. Icon and image style

..."
48272,Website and Communication,Task,"",Closed,Should have,Textbook: Connection to the TYPO3 world,Mathias Schreiber,Mathias Schreiber,2013-12-11 04:51,Copytext,2) Finish Copytext,2013-05-16,"","",80,2013-05-16 09:17,"","",1163550,"","h3. Headline and copytext

h4. Headline: Standing on the shoulders of a giant

*Copy:* TYPO3 Neos is the successor of the world-class CMS, TYPO3. We took the experience of more than 500.000 websites built in TYPO3 CMS and used our collective expertise to build an entirely new kind of CMS.

h3. Idea and Reasoning

This section should emphasize the user that Neos is backed up by one of the (if not the) most widespread used Open Source CMS on the planet.
Text should promote confidence in the product.

h3. Icon and image style

TYPO3 Logo seems legit.
Maybe we could use one of the TYPO3 group pictures from T3BOARD or T3DD in order to transport the whole ""huge community"" spirit."
3,PHPCR,Feature,"",Closed,Should have,Add custom autoloader for phpCR package,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","","","","",0,2006-12-14 14:30,"","",1814200,"","","The phpCR package should supply a custom autoloader for the interfaces and
exceptions, to get rid of source:Packages/phpCR/Resources/PHP/phpCR_Interfaces.php and source:Packages/phpCR/Resources/PHP/phpCR_Exceptions.php

Otherwise we have to adapt those files in the future and the sheer number of includes seems error-prone."
49,PHPCR,Bug,"",Closed,Must have,Fix comments and clean up code in phpCR tests,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,"","","","",0.00,0,2007-04-04 11:31,"","",1814150,"","","Most of the comments in the phpCR_* tests still have HTML code or are just taken from the Jackrabbit tests (""Accessing jcr:uuid .... caused an ValueFormatException"" should be ""... phpCRValueFormatException"").

In general, the code layout is not completely clean (which we should strive for) and the code smells a bit like too many comments.

If you use comments, please add an extra tab before the ""//"" sign so they are indented above the code line they comment."
83,PHPCR,Bug,"",Closed,Must have,phpCR tests need cleanup,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,"","","","","",0,2007-12-19 12:44,"","",1814100,"","","There are a few issues with the phpCR tests. Among them:

* test case class names don't comply with the naming rules: phpCR_SomeTest instead of T3_phpCR_SomeTest
* @package annotations are mostly wrong, referring to phpCRJackrabbit
* some test methods are static
* some methods are not documented / lack doc comments

In general, some tests look more like functional tests than like unit tests - but I might be wrong with that."
2421,PHPCR,Task,"",Resolved,Must have,Adjust license to LGPL,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","",2009-01-07,"","",100,2009-01-07 06:53,"","",12350,"","",.
3844,PHPCR,Bug,"",Resolved,Should have,Type of param $in for importXML(...) not precisely specified,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","",2009-07-07,"","",100,2009-07-07 16:21,"","",1814050,"","","From David Buchmann:

??i read through the session interface. it declares the method importXML($parentAbsPath, $in, $uuidBehavior);??
??the full definition is here: http://github.com/k-fish/PHPCR/blob/545b05799b99ba6aebacec95b10db5c2ce2c1c1d/Classes/SessionInterface.php??
??what type of resource is to be expected here? http://ch.php.net/resource lists several that would be thinkable: ""domxml document"" and ""xml"" as well as ""stream"" and maybe others (i am no streams expert). it would be useful to specify this exactly...??

This applies to WorkspaceInterface and SessionInterface."
3845,PHPCR,Task,"",Resolved,Should have,Iterator behaviour - Java vs PHP,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","",2009-07-07,"","",100,2009-07-07 16:39,"","",18150,"","","From David Buchmann:

iterators are a bit different between java and php. in java, next() advances the iterator one step and then returns the current element. advancing behind the end throws an exception. usually, you do
<pre>
while(iterator.hasNext()) {
  item = iterator.next();
  ...
}
</pre>
in php, next() only advances the pointer to the next element, its return type is void. getting the element is done using current(), it is an error to call current() if you are not at an element. to check if next() moved you past the end, there is the valid() method. iterators can be used in the foreach construct, that relies on this semantics. this typically looks like
<pre>
foreach($iterator as $item) {
  ...
}
</pre>
PHPCR_IteratorInterface extends the php Iterator. in my opinion, it should follow the php iterator semantics, not the java ones. then it could be used with the foreach construct and it would be less confusing.

we should however define the nextNode() and the other nextXY to follow the java semantics, as they are actually discribed in the jcr
specifications. so they would internally do
<pre>
nextNode() {
 $this->next();
 return $this->current();
}
</pre>

and, while criticizing: do we need append method? if the base php iterator does not have it, i do not really see why we should have it here. those iterators are typically used in a search result. we can not add anything to the jcr workspace there, as we do not know where to put it. at least, it should be optional and allowed to throw something like a NotImplemented exception.
"
5161,PHPCR,Task,"",Resolved,Should have,Return type of getImportContentHandler needs to be specified,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","",2009-10-28,"","",100,2009-10-28 09:07,"","",23250,"","","From the jackalope mailing list:

>>> There is also getImportContentHandler() which in Java returns
>>> org.xml.sax.ContentHandler - what would that be best in PHP terms?

>> We should define our own content handler that implements an sax like
>> interface using something like the xml event handlers here.
>>
>> For the current jackalope phase I suggest to not implement that feature.
>> Since I currently don't see a use case for us and it appears to be a bigger
>> task.

> I will also leave this as not implemented, but we probably still should
> have an idea on what to return from that method. I'd suggest to return a
> ready-to-use configured instance of what xml_parser_create() gives you.
> You could then do:
>
<pre>
$handler = $workspace->getImportContentHandler('/import/root', ImportUUIDBehaviorInterface::IMPORT_UUID_CREATE_NEW);

$fp = fopen($url, 'r');
while(!feof($fp)) {
  $line = fgets($fp, 4096);
  xml_parse($handler, $line);
}
fclose($fp);
xml_parser_free($handler);
</pre>
>
> What do you think?

While I agree, that it needs something event based to make that method useful, using just the sax extension (php.net/xml) of php would be quite limiting. In the javaworld you can do your own sax-push-parser with a class without even having an XML file. With using the xml extension, It just can do xml documents/files

I therefore propose to ""invent"" a SAX Interface, which can be extended and someone can subscribe to it's events (like in sax), but on the other side, someone can push those events (not like in the sax case).

The interface should be as easy as possible and something like http://java.sun.com/j2se/1.4.2/docs/api/org/xml/sax/XMLReader.html or http://java.sun.com/j2se/1.4.2/docs/api/org/xml/sax/Parser.html but those 2 examples are certainly over-object-ified for PHP.

The first and example implementation of that interface would be a wrapper for the xml/sax extension mentioned above)

I don't know, if I find the time to ""invent"" something like that (I also didn't find anything on the net for such a beast), but as we won't implement that feature right now, it may be enough to just state: @... interface phpcr_xml_sax@ or something like that and come up with the actual implementation later.

And IIRC this will not be the only place, where there's a org.xml.sax.ContentHandler is needed."
5165,PHPCR,Task,"",Resolved,Should have,Make type for $out in XML export methods consistent with $in parameter in XML import,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","",2009-10-28,"","",100,2009-10-28 10:52,"","",23300,"","","We changed $in to be a URI, this should be applied to the XML export methods as well."
10961,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Robin I want to have my outputted HTML automatically tagged with RDFa,Jochen Rau,"",2010-11-19 09:37,"","","","","",0,2010-11-19 09:37,"","",2915100,"","","","",""
10962,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Roger I want to use an API to query SPARQL endpoints,Jochen Rau,"",2010-11-19 09:37,"","","","","",0,2010-11-19 09:37,"","",2915050,"","","","",""
10963,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Roger I want to use an API to store and retrieve RDF triples,Jochen Rau,"",2010-11-19 09:37,"","","","","",0,2010-11-19 09:37,"","",2915000,"","","","",""
10964,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Margarete I want to tag my content with minimal distraction,Jochen Rau,"",2010-11-19 09:38,"","","","","",0,2010-11-19 09:38,"","",2914950,"","","","",""
10965,Semantic Web Integration (v5),Story,"",Accepted,Should have,"As Robin I want to use existing ontologies (like dbpedia, GoodRelations)",Jochen Rau,"",2010-11-19 09:38,"","","","","",0,2010-11-19 09:38,"","",2914900,"","","","",""
10966,Semantic Web Integration (v5),Story,"",Accepted,Should have,"As Margarete I want to easily find related content (by author, date, keyword ...)",Jochen Rau,"",2010-11-19 09:38,"","","","","",0,2010-11-19 09:38,"","",2914850,"","","","",""
10967,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Robin I want to enable page visitors to search for concepts rather than for terms,Jochen Rau,"",2010-11-19 09:38,"","","","","",0,2010-11-19 09:38,"","",2914800,"","","","",""
10968,Semantic Web Integration (v5),Story,"",Accepted,Should have,"As Roger I want to serialize RDF graphs in different formats (Trutle, RDF/XML)",Jochen Rau,"",2010-11-19 09:39,"","","","","",0,2010-11-19 09:38,"","",2914750,"","","","",""
10969,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Robin I want to import existing graphs into the local triple store,Jochen Rau,"",2010-11-19 09:39,"","","","","",0,2010-11-19 09:39,"","",2914700,"","","","",""
10970,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Robin I want to map my content objects an properties to existing vocabularies (Person.name -> foaf:name),Jochen Rau,"",2010-11-19 09:39,"","","","","",0,2010-11-19 09:39,"","",2914650,"","","","",""
10971,Semantic Web Integration (v5),Story,"",Accepted,Should have,As Roger I want to have a schema for URIs to make them dereferencable,Jochen Rau,"",2010-11-19 09:40,"","","","","",0,2010-11-19 09:40,"","",2914600,"","","","",""
31289,Symfony.Component.Yaml,Bug,"",Resolved,Should have,Yaml component is outdated,Karsten Dambekalns,Karsten Dambekalns,2014-07-17 06:07,"","",2011-10-25,"","",100,2011-10-25 12:35,"","",333750,"","",FLOW3 1.0.0,As discovered through #31212 our yaml component seems outdated. The current repository is at https://github.com/symfony/yaml
6,Testing,Feature,"",Closed,Should have,Tests have different results with different file systems,Robert Lemke,Robert Lemke,2010-10-20 05:40,"","","","","",0,2007-02-19 06:59,"","",1816200,"","On most systems (my Mac at least ;-) all tests are executed in an alphabetical order as the SPL DirectoryIterator returns the package directories and testcase filenames sorted. However, on some systems this is not the case and although that shouldn't happen, the test lead to different results because some undetected dependencies between single tests exist.

As that is a bad thing generally, we should always run the single tests in a random order to detect dependency as early as possible."
7,Testing,Bug,"",Closed,Should have,Some core tests fail when executed in certain order,Robert Lemke,Robert Lemke,2010-10-20 05:40,"","","","","",0,2007-02-19 07:18,"","",1816150,"","Some Core tests fail when they are executed in a certain order. The problem is a double-initialization of the AOP framework.

Sample of test order which fails:

* TYPO3Test
* T3P_Core_PAckageConfFileComponentsConfigurationSourceTest
* T3P_Core_AOPPointcutClassFilterTest
* T3P_Core_AOPPointcutExpressionParserTest
* T3P_Core_ComponentTransientObjectCacheTest
* T3P_Core_PackageTest
** Error in test_getPackageMeta:
    _Core/Classes/PackageManager/T3P_Core_PackageConfFileComponentsConfigurationSource.php:112
    Cannot add components to the proxy blacklist after the AOP framework has been initialized!_"
15,Testing,Feature,"",Closed,Should have,Test selector should contain the last selected test after run,Robert Lemke,Sebastian Kurfuerst,2010-10-20 05:40,"","","","","",0,2007-02-20 10:07,"","",1816100,"",The selectorbox for choosing a package to run the tests for should contain the selected value after the test run so they can be executed again.
16,Testing,Feature,"",Closed,Must have,Add feature for running single tests,Robert Lemke,"",2010-10-20 05:40,"","","","","",0,2007-02-20 10:08,"","",1816050,"","Instead of running whole testcases, it should be possible to run only a single test, eg. while working on the implementation of the feature checked by the test."
18,Testing,Bug,"",Closed,Should have,Test of package Log is not executed although it exists,Robert Lemke,Sebastian Kurfuerst,2010-10-20 05:40,"","","","","",0,2007-02-20 12:47,"","",1816000,"","For some reason the test runner does not run the test of the Log package.
Happens at least in revision 130."
25,Testing,Bug,"",Closed,Should have,Sometimes tests fail but the fail message is not displayed,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,"","","","","",0,2007-02-21 07:27,"","",1815950,"","Somehow depending on the order tests are run, some fail messages are not shown. The number of errors is increased correctly, but the details of the test can't be displayed."
34,Testing,Feature,"",Closed,Should have,Make dependency injection for unit tests possible,Karsten Dambekalns,Robert Lemke,2010-10-20 05:40,"","","","","",0,2007-03-01 07:26,"","",1815900,"",Dependency injection should also be possible for unit tests.
53,Testing,Bug,"",Closed,Should have,TestRunner throws ReflectionException (PHP6),Robert Lemke,Robert Lemke,2010-10-20 05:40,"","","","","",0,2007-05-24 02:58,"","",1815850,"","The TestRunner throws a ReflectionException, no matter what testcase I try to run. It tries to create a new ReflectionClass for a non existing class name - however it gets that class name (with the asian characters) from the get_declared_classes() function.

Fatal error: Uncaught exception 'ReflectionException' with message 'Class ??????? does not exist' in /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Testing/Classes/T3P_Testing_TestRunner.php:68 Stack trace: #0 /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Testing/Classes/T3P_Testing_TestRunner.php(68): ReflectionClass->+construct('??????????????') #1 /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Framework/Classes/TYPO3.php(109): T3P_Testing_TestRunner->run() #2 /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/index.php(32): TYPO3->run() #3 {main} thrown in /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Testing/Classes/T3P_Testing_TestRunner.php on line 68"
59,Testing,Feature,"",New,Should have,Implement MVC pattern for TestRunner,Robert Lemke,Robert Lemke,2010-10-20 05:40,"",1.0.0,"","","",0,2007-07-04 05:11,"","",1816250,"",The TestRunner needs a proper MVC implementation.
81,Testing,Feature,"",Resolved,Must have,Improve component manager separation in Base Test Case,Robert Lemke,Karsten Dambekalns,2011-05-06 05:25,"","","","","",100,2007-12-19 04:49,"","",1816500,"","Currently all tests get a complete copy (including subobjects) of the component manager injected. This happens in source:Packages/Testing/Classes/T3_Testing_BaseTestCase.php#398 . However, the serialize / unserialize method will surely cause problems as soon as we have persistence in place, so we need a finer grained solution here.

The problem is that some unit tests do change component configuration or even package configuration. This needs to be isolated from other tests."
85,Testing,Bug,"",Closed,Should have,"Package ""Testing"" should not manage abstract tests/class",Malte Jansen,Karsten Dambekalns,2010-10-20 05:40,"","","","","",0,2007-12-27 18:42,"","",1815800,"","Abstracts test-classes are treated like normal ones, so they cannot be instanciated.
-> An error occures while testing."
86,Testing,Feature,"",Closed,Must have,Constant 'TYPO3_PATH_PACKAGES' consists of mixed slashes on windows,Malte Jansen,Karsten Dambekalns,2010-10-20 05:40,"","","","","",0,2007-12-29 06:55,"","",1815750,"","The Constant is still working, but it looks is very strange:

'D:\\workspace-typo3\\htdocs\\t3_v50/Packages/'

So, there properbly something wrong with the definition:
T3_Framework.php

<pre>
define('TYPO3_PATH_PRIVATEFILECACHE', TYPO3_PATH_ROOT . 'FileCache/Private/');
define('TYPO3_PATH_PACKAGES', TYPO3_PATH_ROOT . 'Packages/');
define('TYPO3_PATH_FRAMEWORK', TYPO3_PATH_PACKAGES . 'Framework/Classes/' );
</pre>


Solution:


Use the Constant: 'DIRECTORY_SEPARATOR' instead of '/';

"
264,Testing,Bug,"",Resolved,Must have,MainLayout.html not XHTML conform,Malte Jansen,"",2010-10-20 05:40,"","",2008-02-13,"","",100,2008-02-13 06:24,"","",1815700,"","
<pre>
<form action=""testing/new/run"" id=""packageselectorbox"" method=""POST"">
</pre>

method=""POST"" must be lower case: method=""post"""
308,Testing,Feature,"",New,Should have,Improved Test Search,Malte Jansen,"",2011-05-26 12:51,"","",2008-02-14,"","",50,2008-02-14 08:04,"","",1815650,"","Normally you just need to check the whole project only once.
Sometimes one file is to less.
So it would be cool to test a subcompoment/subpackage.

e.g.:
'T3_FLOW3CGL_Model_'

The search must end with an underline. 

Perhaps not final solution, but a quick powerful solution."
344,Testing,Bug,"",Closed,Should have,T3_Testing_BaseTestCase should be abstract,Malte Jansen,Karsten Dambekalns,2010-10-20 05:40,"","",2008-02-20,"",0.00,0,2008-02-20 07:49,"","",1815600,"","This file just extends one file, so it should be registered in the Component Manager."
365,Testing,Feature,"",Resolved,Should have,XML Output from tests on Command Line,Sebastian Kurfuerst,Karsten Dambekalns,2010-10-20 05:40,"","",2008-02-24,"",0.00,100,2008-02-24 15:54,"","",1815550,"","We need the XML Output from the tests on the command line to make it work with Continuous Integration.

Greets,
Sebastian"
371,Testing,Feature,"",Resolved,Should have,Improve speed and memory usage of unit test,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,"","",2008-02-27,"",0.00,100,2008-02-27 07:51,"","",1815500,"","Currently I need way more than 300 MB of memory for PHP in order to run all unit tests - and it could be faster.

"
471,Testing,Bug,"",Resolved,Could have,Crash of Apache on Windows,Malte Jansen,Robert Lemke,2010-10-20 05:40,"","",2008-04-16,"",0.00,100,2008-04-16 14:44,"","",1815450,"","If I run the TestRunner on any package, the apache shuts down (or sometimes restarts).

Following Error is logged:
<pre>
[Wed Apr 16 20:15:23 2008] [notice] Parent: child process exited with status 3221225477 -- Restarting.
</pre>

Via google I found this hint for the php.ini:
<pre>
output_buffering = On
</pre>
The result is, that the first lines are shown, but the apache still shuts down...
"
479,Testing,Bug,"",Resolved,Should have,Unnecessary slash added to path in F3_Testing_Model_TestCaseRepository.php,Jochen Rau,Karsten Dambekalns,2010-10-20 05:40,"","",2008-04-24,"",0.00,0,2008-04-24 04:34,"","",1815400,"","The line

$testsPath = $package->getPackagePath() . '/Tests/';

in the method ""getTestcaseFilenames"" of class ""3_Testing_Model_TestCaseRepository.php"" should be

$testsPath = $package->getPackagePath() . 'Tests/';

as the leading slash was already added in the line

$availablePackagesArr[$filename] = new F3_FLOW3_Package_Package($filename, ($packagesDirectoryIterator->getPathName() . '/'));

in the method ""scanAvailablePackages()"" of class ""F3_FLOW3_Package_Manager.php"".

-- Jochen"
838,Testing,Bug,"",Resolved,Could have,Images not working when Packages directory is not available from Web,Christoph Blömer,Karsten Dambekalns,2010-10-20 05:40,"","",2008-06-20,"",0.00,100,2008-06-20 12:06,"","",1815350,"","Info(Hint) for Revision 957:

The images from testing are not available if the Packages directory is not available from web.
I made a virtualhost ""flow3"" pointing on the Public directory and run the testing.

http://flow3/testing

The Image Path is:
http://flow3/../Packages/Testing/Resources/Media/f3_logo.gif

Resolution is to put the Icons into the /Resources/Public/ directory.

And set the image path to:
/Resources/Testing/Public/f3_logo.gif

In the Packages Documentation it is also mentioned that you could place the files into the directory /Resources/Media/Public/ but it is not copied by the Resource Manager.

Greetings
Christoph



"
1637,Testing,Bug,"",Resolved,Should have,Incorrect constructor F3_Testing_AbstractTestRunner,Malte Jansen,Karsten Dambekalns,2010-10-20 05:40,"","",2008-10-02,"",0.10,100,2008-10-02 12:14,"","",1815300,"","File: http://forge.typo3.org/repositories/entry/package-testing/trunk/Classes/F3_Testing_AbstractTestRunner.php
Line: 82 is not correct

<pre>
$this->componentFactory = $componentFactory;
</pre>

The declaration of the member variable for the member var is missing or is the var automatically declared by FLOW3?"
1638,Testing,Bug,"",Resolved,Should have,Static is not suppose to work in the way it's used in F3_Testing_Model_TestRunner.php,Malte Jansen,Karsten Dambekalns,2010-10-20 05:40,"","",2008-10-02,"","",0,2008-10-02 12:23,"","",1815250,"","File:
http://forge.typo3.org/repositories/entry/package-testing/trunk/Classes/Model/F3_Testing_Model_TestRunner.php

The following variable is defined as static, so you cannot change the content afterwards in the constructor. Especially not with an other object. (See http://de.php.net/manual/en/language.oop5.static.php#85277)
<pre>
public static $componentManager;

	public function __construct(F3::Testing::Model::TestCaseRepository $testCaseRepository, F3::Testing::Model::TestListener $testListener) {
		...
		self::$componentManager = $FLOW3->getComponentManager();

		self::$componentManager->unregisterComponent('F3::FLOW3::Session::SessionInterface');
		self::$componentManager->registerComponent('F3::FLOW3::Session::SessionInterface', 'F3::FLOW3::Session::Transient');
		...
	}
</pre>

So the apache might cause crash on some plattforms with the Testing. I have located the crashing on windows with php5.3alpha2 to this constructor. If it's not called, the Testing does not crash.
"
1649,Testing,Feature,"",Closed,Should have,Allow old Class-Name-Style (with underscore) for testing-filter,Malte Jansen,Karsten Dambekalns,2010-10-20 05:40,"","",2008-10-05,"",0.10,50,2008-10-05 16:28,"","",1815200,"","If you are testing a certain class, you have to enter the class name.
But since namespaces you cannot copy&past the class name anymore. So you have to enter it by your own or you could copy&paste the file name.
You just have to replace the ""_"" through ""::""
"
2442,Testing,Feature,"",Rejected,Must have,Ignore Tests with *Fixture* in Path,Malte Jansen,Karsten Dambekalns,2011-05-06 05:25,"","",2009-01-10,"","",0,2009-01-10 11:44,"","",1816450,"","FLOW3CGL is checking the PackageStructur/NamingConventions for php-files. So we have to have a dummy-testcase.

When the path to a testcase contains ""Fixture"" it should be ignored."
2757,Testing,Bug,"",Resolved,Must have,ClassFilter is not working on windows,Malte Jansen,Bastian Waidelich,2010-10-20 05:40,"","",2009-03-04,"","",100,2009-03-04 04:36,"","",1815150,"","Comparing the ClassName with the FileName does not work, because of non UnixStyledPaths in the 

Class: *AbstractTestRunner*
Function: *readDirectories($testcaseFilenames, $testsDirectoryIterator)*
Just transform the Path to UnixStyled before the check.
@$fileNameWithPath = \F3\FLOW3\Utility\Files::getUnixStylePath($testsDirectoryIterator->getPathname());
if (preg_match('/\/' . str_replace('\\', '\\/', $this->testcaseClassName) . '\.php/', $fileNameWithPath) === 1) {@"
3110,Testing,Task,"",Resolved,Should have,"Don't hide ""code coverage"" checkbox",Bastian Waidelich,Bastian Waidelich,2010-10-20 05:40,"",1.0.0,2009-04-17,"","",100,2009-04-17 03:56,"","",14900,"","The checkbox is hidden when xdebug is not installed. It should rather be disabled in this case, and have a meaningful tooltip like ""to enable code coverage you need to install xdebug"""
3118,Testing,Task,"",Resolved,Should have,Don't run all tests in indexAction,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:40,"","",2009-04-17,"","",100,2009-04-17 08:24,"","",15050,"","When I open ""http://flow3/testing"", testrunner immediately starts running all tests of all packages.
IMO it would be better to have a runAction as in the CLIController so you can first select the packages/tests or enable code coverage before the testrunner starts..
Or is it like this for a particular reason?"
3734,Testing,Bug,"",Resolved,Must have,Tests are no longer run in random order,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","",2009-06-23,"","",100,2009-06-23 10:10,"","",1815100,"","Issue #6 was fixed with r114, now the tests are run in alphabetical order again..."
3822,Testing,Bug,"",Resolved,Should have,Testrunner  executes tests of inactive packages,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:40,"","",2009-07-02,"","",100,2009-07-02 11:31,"","",1815050,"","The package selector in FLOW3s testrunner displays inactive packages. And when ""run all tests"" is selected, tests from inactive packages are executed.
This is a feature not a bug I'd say. The problem: The autoloader does not work for classes of inactive packages."
6386,Testing,Feature,"",New,Should have,Story Based TestCases for BDD,Alexandre Martinez,"",2010-10-20 05:40,"","",2010-02-06,"","",0,2010-02-06 14:50,"","",1815000,"","It would be nice to provide support for writing Story based tests to allow users to do Behaviour Driven Design.
PHPUnit extensions provide a base test case and implementation consists in integrating FLOW3 specific initializations.

See file attached for a suggestion of implementation (well mostly copy/paste from existing BaseTestCase, but it works for me)."
10467,Testing,Bug,"",Resolved,Must have,CodeCoverage: should data/temporary be ignored?,Martin Eisengardt,Karsten Dambekalns,2011-05-06 05:25,"","",2010-10-26,"","",100,2010-10-26 08:12,"","",1816350,"","Currently the testing web controller has a flag to enable code coverage.
However the code coverage is correctly limited to the package we are testing (working as intended). But: The code coverage seems to consume the data/temporary folder too. The manual says that unit testing should be done by calling constructors directly and not using any aop proxies but using mock objects and injecting them into the tested classes. That's rather fine.

Due to a bug within phpunit itself currently the code coverage feature will report notices as soon as it sees the data/temporary package. PHPUnit was fixed.
See http://lists.typo3.org/pipermail/flow3-general/2010-October/000603.html
See PHPUnit issue at http://github.com/sebastianbergmann/phpunit/issues/closed#issue/54

I suggest updating Flow3's PHPUnit package. And maybe the data directory should be blacklisted so that PHPUnit does not try code coverage on the temporary data."
10700,Testing,Bug,"",Resolved,Should have,Classname filter does not work in web interface,Christian Kuhn,"",2011-05-06 05:25,"","",2010-11-10,"","",100,2010-11-09 18:56,"","",1816300,"","Choosing a class or a subpath to run specific tests of a package in the web interface does not work.

This is due to a naming mismatch of all links in the webinterface
""testCaseClassName"" (given)
""testcaseClassName"" (should be)
    ^^^ (lower / uppercase C)

How to test:
- Call http://yourdistribution.foo/testing/
- Choose a specific test"
10881,Testing,Bug,"",Closed,Must have,SeleniumTestCase does not run,Christian Lerrahn,Karsten Dambekalns,2011-05-06 05:25,"","",2010-11-17,"","",0,2010-11-16 23:30,"","",1816400,"","When installing PHPUnit as described in http://www.phpunit.de/manual/current/en/installation.html the SeleniumTestCase will not run
even when there is a Selenium RC server running as suggested in http://www.phpunit.de/manual/current/en/selenium.html 

Execution stops with the error

@PHP Fatal error:  Class 'PHPUnit_Extensions_SeleniumTestCase' not found in /home/umr_test/FLOW3-1.0.0-alpha13-build43/Packages/Framework/Testing/Classes/SeleniumTestCase.php on line 33@

This relates to http://forge.typo3.org/issues/10747 . However, the links provided there do not address this problem."
13007,Testing,Bug,"",New,Should have,Dotfiles are parsed too.,Andreas Lappe,"",2011-02-13 16:26,"","",2011-02-13,"","",0,2011-02-13 16:26,"","",1814950,"","Using vim as ${EDITOR} I have .file.php.swp files while editing them. If I have them for a testcase, the testrunner tries to parse them and fails.
The attached patch fixes this, so only PHP files are parsed."
7092,TYPO3.Blog,Bug,"",Closed,Should have,Problems at login,Nikolas Berger,Bastian Waidelich,2011-06-30 12:59,"","",2010-03-31,"","",0,2010-03-31 08:40,"","",2410750,"","If i try to login and the username or password is wrong then there is no redirection to the login form. That is in the log file:

<pre>
10-03-31 12:27:23 DEBUG     FLOW3                --- Launching FLOW3 in Development context. ---

10-03-31 12:27:24 DEBUG     FLOW3                Router route(): Route ""FLOW3 :: default"" matched the path ""blog/login"".

10-03-31 12:27:25 DEBUG     FLOW3                Dispatching signal F3\FLOW3\Core\Bootstrap::emitFinishedNormalRun ...

10-03-31 12:27:25 DEBUG     FLOW3                  to slot F3\FLOW3\Core\LockManager::unlockSite.

10-03-31 12:27:25 DEBUG     FLOW3                Shutting down ...

10-03-31 12:27:27 DEBUG     FLOW3                --- Launching FLOW3 in Development context. ---

10-03-31 12:27:27 DEBUG     FLOW3                Router route(): Route ""FLOW3 :: Authentication"" matched the path ""flow3/authentication"".

10-03-31 12:27:27 WARNING   FLOW3                Authentication failed: ""Could not authenticate any token. Might be missing or wrong credentials or no authentication provider matched."" #1222204027

10-03-31 12:27:27 DEBUG     FLOW3                Dispatching signal F3\FLOW3\Core\Bootstrap::emitFinishedNormalRun ...

10-03-31 12:27:27 DEBUG     FLOW3                  to slot F3\FLOW3\Core\LockManager::unlockSite.

10-03-31 12:27:27 DEBUG     FLOW3                Shutting down ...

10-03-31 12:27:27 DEBUG     FLOW3                --- Launching FLOW3 in Development context. ---

10-03-31 12:27:32 DEBUG     FLOW3                Router route(): Route ""Blog :: Authentication"" matched the path ""admin/authentication/authenticate"".

10-03-31 12:27:32 WARNING   FLOW3                No credentials given or no account found with username """".

10-03-31 12:27:32 WARNING   FLOW3                Authentication failed: ""Could not authenticate any token. Might be missing or wrong credentials or no authentication provider matched."" #1222204027

10-03-31 12:27:32 DEBUG     FLOW3                Dispatching signal F3\FLOW3\Core\Bootstrap::emitFinishedNormalRun ...

10-03-31 12:27:32 DEBUG     FLOW3                  to slot F3\FLOW3\Core\LockManager::unlockSite.

10-03-31 12:27:32 DEBUG     FLOW3                Shutting down ...

10-03-31 12:27:33 DEBUG     FLOW3                Router route(): Route ""FLOW3 :: Authentication"" matched the path ""flow3/authentication"".

10-03-31 12:27:33 WARNING   FLOW3                Authentication failed: ""Could not authenticate any token. Might be missing or wrong credentials or no authentication provider matched."" #1222204027

10-03-31 12:27:33 DEBUG     FLOW3                Dispatching signal F3\FLOW3\Core\Bootstrap::emitFinishedNormalRun ...

10-03-31 12:27:33 DEBUG     FLOW3                  to slot F3\FLOW3\Core\LockManager::unlockSite.

10-03-31 12:27:33 DEBUG     FLOW3                Shutting down ...

10-03-31 12:27:33 DEBUG     FLOW3                --- Launching FLOW3 in Development context. ---

10-03-31 12:27:38 DEBUG     FLOW3                Router route(): Route ""FLOW3 :: Authentication"" matched the path ""flow3/authentication"".

10-03-31 12:27:38 WARNING   FLOW3                Authentication failed: ""Could not authenticate any token. Might be missing or wrong credentials or no authentication provider matched."" #1222204027

10-03-31 12:27:38 DEBUG     FLOW3                Dispatching signal F3\FLOW3\Core\Bootstrap::emitFinishedNormalRun ...

10-03-31 12:27:38 DEBUG     FLOW3                  to slot F3\FLOW3\Core\LockManager::unlockSite.

10-03-31 12:27:38 DEBUG     FLOW3                Shutting down ...

10-03-31 12:27:38 DEBUG     FLOW3                --- Launching FLOW3 in Development context. ---

10-03-31 12:27:43 DEBUG     FLOW3                Router route(): Route ""FLOW3 :: Authentication"" matched the path ""flow3/authentication"".

10-03-31 12:27:43 WARNING   FLOW3                Authentication failed: ""Could not authenticate any token. Might be missing or wrong credentials or no authentication provider matched."" #1222204027

10-03-31 12:27:43 DEBUG     FLOW3                Dispatching signal F3\FLOW3\Core\Bootstrap::emitFinishedNormalRun ...

10-03-31 12:27:43 DEBUG     FLOW3                  to slot F3\FLOW3\Core\LockManager::unlockSite.

10-03-31 12:27:43 DEBUG     FLOW3                Shutting down ...

10-03-31 12:27:43 DEBUG     FLOW3                --- Launching FLOW3 in Development context. ---

10-03-31 12:27:47 DEBUG     FLOW3                Router route(): Route ""FLOW3 :: Authentication"" matched the path ""flow3/authentication"".

10-03-31 12:27:47 WARNING   FLOW3                Authentication failed: ""Could not authenticate any token. Might be missing or wrong credentials or no authentication provider matched."" #1222204027

10-03-31 12:27:47 DEBUG     FLOW3                Dispatching signal F3\FLOW3\Core\Bootstrap::emitFinishedNormalRun ...

10-03-31 12:27:47 DEBUG     FLOW3                  to slot F3\FLOW3\Core\LockManager::unlockSite.

10-03-31 12:27:47 DEBUG     FLOW3                Shutting down ...

10-03-31 12:27:47 DEBUG     FLOW3                --- Launching FLOW3 in Development context. ---
</pre>

My operating system is Windows XP Home Edition. The message of Firefox is: ""The page isn't redirecting properly."" If i am not logged in and i try to create a post he same happens."
27788,TYPO3.Blog,Feature,"",Resolved,Should have,Make templates HTML5 compatible,Bastian Waidelich,Bastian Waidelich,2011-07-06 05:30,"","",2011-06-30,"","",100,2011-06-30 13:00,"","",164100,"",Currently the Blog example produces some invalid HTML tags/attributes
27789,TYPO3.Blog,Bug,"",New,Should have,Escape Post content,Bastian Waidelich,"",2011-06-30 13:07,"","",2011-06-30,"","",0,2011-06-30 13:07,"","",164150,"","Currently the post content is outputted with the raw view helper disabling the EscapeInterceptor that applies htmlspecialchars() on the content.
This should be avoided in order to prevent XSS attacks!

Probably this was added to be able to create ""rich text"" posts.
I'd suggest to add a simple *format.mediaWiki* view helper (either with the Blog package or even with Fluid) that transforms wiki syntax to (X)HTML.

Comments?"
28142,TYPO3.Blog,Task,"",Resolved,Should have,Rework the complete GettingStarted branch to work with the current master,Thomas Layh,"",2011-10-25 04:30,"","",2011-07-12,"","",100,2011-07-12 16:42,"","",180000,"",The current GettingStarted branch does not work with the current master. The branch is about 10 months old.
28380,TYPO3.Blog,Task,"",Resolved,Must have,GettingStarted Branch: Migration to Vendor Namespaces,Thomas Layh,Thomas Layh,2011-10-28 06:34,"","",2011-07-22,"","",0,2011-07-22 02:51,"","",191750,"",Migration of the GettingStarted branch to vendor namespaces.
29384,TYPO3.Blog,Bug,"",Resolved,Should have,Login form does not work with FLOW3 1.0 beta 1,Robert Lemke,Robert Lemke,2011-08-31 08:30,"","",2011-08-31,"","",100,2011-08-31 07:56,"","",240650,"",The login form for administration login does not work anymore.
30196,TYPO3.Blog,Bug,"",Resolved,Must have,Left over curly brace in XML feed in blog app,Fabian Erni,Karsten Dambekalns,2012-01-04 15:05,"","",2011-09-22,"","",100,2011-09-22 05:22,"","",280350,"","See screenshot

Feed is from TYPO3.Blog app"
31342,TYPO3.Blog,Bug,"",Resolved,Should have,blog example throws compile exception,rottenrice no-lastname-given,"",2011-10-28 06:31,"","",2011-10-27,"","",0,2011-10-27 07:51,"","",336350,"","i hope this is the correct place to report this bug. 

i am using the two git repositories without changes. by accessing http://localhost/TYPO3.Blog the following exception occurs

exception:
#1297263663: The compile run failed. Please check the error output or system log for more information

output before exception:
Uncaught Exception
  The @var annotation for ""TYPO3\Blog\Domain\Model\Blog::$title"" seems to
  be invalid.

repositories used:
git://git.typo3.org/FLOW3/Distributions/Base.git
git://git.typo3.org/FLOW3/Packages/TYPO3.Blog.git
"
31394,TYPO3.Blog,Bug,"",New,Should have,Settings.yaml.example files do not work,rottenrice no-lastname-given,"",2011-10-29 07:18,"","",2011-10-29,"","",0,2011-10-29 07:18,"","",338950,"","In the included example files the TYPO3 namespace is missing.

TYPO3: #missing
FLOW3:
  persistence:
    backendOptions:
      ...

links:
git://git.typo3.org/FLOW3/Applications/Blog.git"
7197,Blog App,Story,"",Accepted,Should have,As a blog editor I want to define my username and password when I launch the app the first time,Robert Lemke,Robert Lemke,2010-10-20 05:52,"","",2010-04-09,"","",0,2010-04-09 10:11,"","",2875900,"","* a form is displayed asking to enter a username and a password
* on submit the user is created and automatically logged in
* after logging out the user is able to login again with the specified username and password"
27279,Blog App,Task,"",New,Should have,Add Selenium tests for the Blog,Sebastian Kurfuerst,"",2011-06-07 12:00,"","",2011-06-07,"","",0,2011-06-07 12:00,"","",139000,"","Should test *basic CRUD functionality* as well as validation errors, and some complex interactions with widgets.

* List blog posts (with pagination -> Widgets)
* Go from blog post listing to single page
* Edit Post
* Edit Post (validation error, with resubmission)
* Create Post -> With Autocompletion widget
* Delete Post"
32837,Blog App,Task,"",New,Should have,Blog App not work after inital checkout,Thomas Peterson,"",2011-12-26 21:38,"","",2011-12-27,"","",0,2011-12-26 21:38,"","",409100,"","Changes:

In Settings.yml
@
FLOW3:
    persistence:
      backendOptions:
        dbname: 'blog'   # adjust to your database name
        user: 'root'     # adjust to your database user
        password: ''     # adjust to your database password

to:
TYPO3:
  FLOW3:
    persistence:
      backendOptions:
        dbname: 'blog'   # adjust to your database name
        user: 'root'     # adjust to your database user
        password: ''     # adjust to your database password
@

And the FLOW3 Package updated to master.
With the current FLOW3 version setup manager is not working because the logout Problem is in this branch.
After an: git checkout master --force it is running."
33786,TYPO3.Comments,Task,"",Resolved,Should have,Submit initial Code,Adrian Föder,Bastian Waidelich,2012-03-13 21:30,"","",2012-02-08,"","",100,2012-02-08 09:26,"","",455700,"",Submit the initial code to Gerrit
34628,TYPO3.Comments,Task,"",Resolved,Should have,Fix/take care of license headers along all files,Adrian Föder,Adrian Föder,2012-03-14 08:42,"","",2012-03-07,"","",100,2012-03-07 04:46,"","",496950,"","Sometimes, you can read for example
<pre>
* This script belongs to the FLOW3 package ""Comments"".                   *
</pre>

while it should rather be ...package ""TYPO3.Comments"".

So generally: it should be made sure that that header is corrected and included at all in every involved file."
34630,TYPO3.Comments,Feature,"",Resolved,Could have,"generic ""Comments"" ViewHelper",Adrian Föder,Adrian Föder,2012-07-31 04:30,"","",2012-03-07,"","",100,2012-03-07 04:53,"","",497050,"","I'm currently writing a generic Comments ViewHelper that'll have the following signature / functionality:

<pre>
/**
 * Returns comments for an entity as collection in order to e.g. <f:for each=""""> it
 * 
 * = Examples =
 *
 * <code title=""Inline notation, foreach usage"">
 * <f:for each=""{c:comments(object: affectedObject)}"" as=""comment"">
 *     <cite>{comment.author.name</cite>
 *     <blockquote>{comment.message}</blockquote>
 * </f:for>
 * </code> 
 */
</pre>

(I personally will use that as a base for converting it to JSON; but the sampled use case is very... useful, I think).

I'll keep it locally and make a Gerrit once the base code is in the master branch."
34641,TYPO3.Comments,Bug,"",Resolved,Should have,Comment's message should be > 255 chars,Adrian Föder,Adrian Föder,2012-05-04 08:30,"","",2012-03-07,"","",100,2012-03-07 08:23,"","",497600,"","Currently the property @message@ is not specially annotated and therefore limited to a max length of 255; which should, for a message, clearly be more."
34666,TYPO3.Comments,Task,"",Accepted,Must have,Reconsider the handling of persons/parties,Adrian Föder,"",2012-03-09 08:58,"","",2012-03-08,"","",0,2012-03-08 05:44,"","",498750,"","With the current implementation, a new comment's author's given first name and email address is gathered as data for retrieving a probably already existing Person instance.

If such a Person entity is used in various contexts at the platform, this might result in a security issue, because you could slip into that user's representation just with spoofing the first name and email address.

So, how could this be prevented?

One use case may be that the author of a comment *must always* be the authenticated user. But if that's not needed, what then? Make that behavior configurable?

Please post any ideas you have."
34763,TYPO3.Comments,Bug,"",Resolved,Must have,Occurence of proxied object,Adrian Föder,Adrian Föder,2012-10-31 04:43,"","",2012-03-12,"","",0,2012-03-12 12:47,"","",503600,"","I just had the case that I came in contact with the proxied representation of my ""parent"" entity, so it wasn't @\Acme\Blog\Domain\Model\Post@ but @TYPO3\FLOW3\Persistence\Doctrine\Proxies\AcmeBlogDomainModelPost@.
The chain was nothing more than

<pre>
http://example.org/acme.blog/post/show?post[__identity]=abcd-12345-ehff
</pre>

controlled by 

<pre>
public function showAction(\Acme\Blog\Domain\Model\Post $post) {
    $this->view->assign('post', $post);
    // get_class($post) is that proxy one, also in all subsequent occurences/usages
}
</pre>


Basically that lead to my CommentsViewHelper not working anymore, but I wonder if that might make trouble also in current, present implementations; in the Widget controller there is also just used @get_class($object)@.
I just absolutely don't know in what cases a proxy occurs and in what it doesn't.
Maybe you can say if that might be a problem."
34765,TYPO3.Comments,Support,"",Closed,Should have,Set the default orderings from outside,Adrian Föder,"",2013-03-07 11:19,"","",2012-03-12,"","",0,2012-03-12 12:54,"","",503700,"","I need support, please :)

The repository has the default orderings set in its repository class,

<pre><code class=""php"">
class CommentRepository extends \TYPO3\FLOW3\Persistence\Repository {

	/**
	 * @var array
	 */
	protected $defaultOrderings = array('creationDate' => \TYPO3\FLOW3\Persistence\QueryInterface::ORDER_DESCENDING); 
...
?>
</code></pre>

how is it possible to overwrite this from outside? Maybe it must even be substituted to a variant that allows setting this via Objects.yaml; but that I don't know surely."
34818,TYPO3.Comments,Feature,"",New,Should have,Provide JavaScript sample for JSON usage,Adrian Föder,"",2012-03-21 09:35,"","",2012-03-14,"","",0,2012-03-14 04:02,"","",506350,"","Bastian wrote:
> It would be cool if we added a 2nd javascript file that does not require jQuery and shows the second usage (transferring JSON).

Well, basically my implementation uses MooTools, and it's very very verbose (I wrote an MVC handler around it...).
I gladly could rewrite some working-dummy-code for MooTools; Question for that is:

* What should be shown/presented?
* And, if not MooTools, what else? Rough pure JavaScript may result in too much stuff that JS Frameworks already do intrinsically. (pro MooTools: it has a self-explanating method naming, unlike jQuery, for example :-P (SCNR :)
"
46111,TYPO3.Comments,Feature,"",New,Could have,Provide security skeleton,Adrian Föder,"",2013-03-07 11:28,"","",2013-03-07,"","",0,2013-03-07 11:11,"","",1056950,"","I need to allow to delete a comment by the author, hence I'd like to provide a deleteAction and an appropriate Policy.yaml snippet which is present per default and can be activated by users.

Question is: should the Policy secure the Repository or the action?  Currently my Policy.yaml for it looks like this,

<pre>
resources:
  methods:
    TYPO3_Comments_RepositoryDeleteComment: 'method(TYPO3\Comments\Domain\Repository\CommentRepository->remove(object.author === current.securityContext.party))'
</pre>

but maybe deleteAction should be secured rather than the Repository->remove() method. What do you think?"
29381,TYPO3.CouchDB,Bug,"",New,Must have,Exception with FLOW3 with default authentication,Fernando Arconada,"",2011-08-31 05:45,"","",2011-08-31,"","",0,2011-08-31 05:45,"","",240500,"","In a page with simple username/password authetication

#1286466489: Constraint TYPO3\FLOW3\Persistence\Generic\Qom\LogicalOr is not supported by CouchDB QueryView (More information)

InvalidArgumentException thrown in file
/var/www/html/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_CouchDB_QueryView_Original.php in line 93."
29382,TYPO3.CouchDB,Task,"",New,Should have,Write a plan to CouchDB package,Fernando Arconada,"",2011-08-31 05:49,"","",2011-08-31,"","",0,2011-08-31 05:49,"","",240550,"",are there any roadmap? any plan to use doctrine ODM?
29383,TYPO3.CouchDB,Task,"",New,Should have,Write doc/example about how to use CouchDB package as secondary datasource,Fernando Arconada,"",2011-08-31 05:54,"","",2011-08-31,"","",0,2011-08-31 05:54,"","",240600,"",How to use traditional datasources MySQL and CouchDB in the same app?
31266,TYPO3.CouchDB,Bug,"",New,Should have,Flow3 complains about missing driver/driverClass option,Karsten Vieth,"",2012-05-16 16:10,"","",2011-10-25,"","",0,2011-10-25 05:46,"","",332650,"","
<pre>
./flow3 doctrine:create

Uncaught Exception
  The options 'driver' or 'driverClass' are mandatory if no PDO instance is
  given to DriverManager::getConnection().

More Information
  Exception code      #0
  File                /var/www/vhosts/xxx/httpdocs/Packages/Framework/Doctrine/Classes/DBAL/DBALException.php


</pre>

"
36233,TYPO3.CouchDB,Task,"",Resolved,Should have,Adjust Command controller to new CLI class definition,Soren Malling,Soren Malling,2012-04-21 20:30,"","",2012-04-17,"","",100,2012-04-17 10:40,"","",576050,"","The namespace to the Cli Commandcontroller has changed, this is to be fixed to use the document command line tools"
37844,TYPO3.ElasticSearch,Bug,"",New,Should have,Always/Globally check respone for excepted result,Adrian Föder,Adrian Föder,2012-06-08 07:51,"","",2012-06-08,"","",0,2012-06-08 07:51,"","",654800,"","",Git 1.2 (master),"each dropping request should be intrinsically have a set of expected results; the result (which always must be a JSON, hence array) could be checked with #31277."
47093,TYPO3.ElasticSearch,Bug,"",Resolved,Must have,realtimeIndexing is not working,rottenrice no-lastname-given,Adrian Föder,2013-04-30 17:30,"","",2013-04-10,"","",100,2013-04-10 05:39,"","",1105300,"","",Flow 2.0.0 beta 1,"you have not finished the flow3-renaming properly ;)

The condition at TYPO3\ElasticSearch\Package:36 will never return true and thus prepareRealtimeIndexing() is never executed. Just rename typo3.flow3:persistence into typo3.flow:persistence.

btw: great work!"
47499,TYPO3.ElasticSearch,Feature,"",Resolved,Should have,Add support for CollectionStringCastTransformer,Dominique Feyer,Dominique Feyer,2013-04-30 17:30,"","",2013-04-23,"","",100,2013-04-23 10:19,"","",1125350,"","","","Currently the implementation doesn't support property with type array. I have a small path to add a transformer class to cast collection objects to string. A small modification need to be done in the objectIndexActionRequired, because array_diff_assoc is used to compare the two array. This function has no support for multi dimensional array"
47589,TYPO3.ElasticSearch,Bug,"",New,Should have,Add a basic repository and query support,Dominique Feyer,Dominique Feyer,2013-05-02 07:07,"","",2013-04-25,"","",0,2013-04-25 09:53,"","",1129800,"","",(any),"Currently the query on ElasticSearch indexes don't use a repository like API. I propose to add a query object and a basic repository, to offer a more Flow style experience."
48378,TYPO3.ElasticSearch,Feature,"",New,Should have,policy management,rottenrice no-lastname-given,"",2013-05-18 11:37,"","",2013-05-18,"","",0,2013-05-18 11:37,"","",1168750,"","","",Currently the ElasticSearch don't consider the policy.yaml
40703,TYPO3.Expose,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,style node list such that it matches the general backend look&feel,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 08:00,"",Sprint 10 (1.0 TP1),"","",0.00,100,2012-09-07 02:14,"","",793950,0.00,"",""
40704,TYPO3.Expose,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,cleanup: remove obsolete code in the package,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 08:00,"",Sprint 10 (1.0 TP1),"","",0.00,0,2012-09-07 02:14,"","",794000,0.00,"",""
40922,TYPO3.Expose,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,Rename TYPO3.Admin to TYPO3.Expose in the code,Karsten Dambekalns,Marc Neuhaus,2012-10-04 08:00,"",Sprint 10 (1.0 TP1),"","",0.00,100,2012-09-14 06:07,"","",804400,0.00,"",""
40930,TYPO3.Expose,Feature,"",New,Should have,Reimplement inline editing/nested editing,Marc Neuhaus,Marc Neuhaus,2012-09-14 10:20,"","",2012-09-14,"","",0,2012-09-14 10:20,"","",804700,"","",As a editor i want to edit child-entities inside the containing entities
4156,TYPO3.ExtJS,Feature,"",Resolved,Must have,Update to v3,Tommy Seus,Karsten Dambekalns,2010-10-20 05:40,ExtJS,3.0.0,2009-08-05,"","",100,2009-08-05 11:21,"","",2385250,"",Could you please update to Version 3 of ExtJS?
6119,TYPO3.ExtJS,Task,"",Resolved,Should have,Update to upstream 3.1.0,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,ExtJS,3.1.0,2010-01-20,"","",100,2010-01-20 05:02,"","",26450,"",.
6667,TYPO3.ExtJS,Bug,"",Resolved,Should have,ExtJS ViewHelper are not working,Erik Frister,Karsten Dambekalns,2010-10-20 05:40,ViewHelper,"",2010-03-03,"",1.00,100,2010-03-02 23:26,"","",2385200,"","Both ViewHelpers (IncludeViewHelper and UxViewHelper) are not working properly. The path to the CSS/JS files is broken. The files reside under ""_Resources/Static/Packages"" instead of ""Resources/Packages"". The paths have to be corrected."
6823,TYPO3.ExtJS,Feature,"",Resolved,Should have,Implement an Ext Direct router for FLOW3,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:40,ExtDirect,"",2010-03-14,"","",100,2010-03-14 10:44,"","",2385150,"","There should be a special Ext Direct router for the FLOW3 MVC.

The router should dispatch Ext Direct transactions to multiple controller actions. This should be transparent for the controller action."
9279,TYPO3.ExtJS,Bug,"",Resolved,Should have,Optional arguments are not supported,Robert Lemke,Robert Lemke,2010-10-20 05:40,ExtDirect,"",2010-08-12,"","",100,2010-08-12 10:48,"","",2385100,"","The ProviderViewHelper registers all controller actions which are annotated with @extdirect. For correct handling within ExtJS, the number of arguments for each action must be registered as well. 

Now the problem is that the ProviderViewHelper just counts the number of arguments of a PHP method and uses this number as an argument count for ExtJS. If, however, an argument is optional and the client side doesn't define that argument, the communication between client and server through ExtDirect fails.

The solution, for now, is to just ignore optional arguments."
9323,TYPO3.ExtJS,Bug,"",Resolved,Should have,Number of arguments of ExtDirect provider actions are registered incorrectly,Robert Lemke,Robert Lemke,2010-10-20 05:40,ExtDirect,"",2010-08-16,"","",100,2010-08-16 07:18,"","",2385050,"",PHP methods annotated with @extdirect are registered as Providers by the ProviderViewHelper. Currently there's a bug in the calculation of the number of required arguments which leads to methods with zero required arguments not being registered correctly.
10248,TYPO3.ExtJS,Task,"",Resolved,Should have,Upgrade package to Ext JS 3.3,Nils Dehl,Karsten Dambekalns,2011-05-06 05:25,ExtJS,"",2010-10-14,"","",100,2010-10-14 04:02,"","",54550,"","Ext JS 3.3 stable is released.
[[http://www.sencha.com/products/js/download.php]]

we should upgrade the package to this new main version of extjs.
 "
25867,TYPO3.ExtJS,Bug,"",Closed,Must have,German 'Umlaute' in a MySQL table-field makes ExtDirect throw an error,Regine Rosewich,Karsten Dambekalns,2012-07-13 10:18,ExtDirect,"",2011-04-10,"","",100,2011-04-10 13:13,"","",2385000,"","When a table-field in a MySQL Database (Collation utf-8-general-ci) contains a German 'Umlaut' an ExtDirect-Request fails with the following error:
<pre>
#1: Warning: json_encode() [<a href='function.json-encode'>function.json-encode</a>]: Invalid UTF-8 sequence in argument in /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_ExtJS_ExtDirect_RequestHandler_Original.php line 170 (More information)
</pre>

For me UTF-8 means that German 'Umlaute' should not be any problem."
26530,TYPO3.ExtJS,Bug,"",On Hold,Must have,Unique-Constraint Errors are not handled by an ExtDirect Request,Regine Rosewich,"",2014-10-01 06:34,ExtDirect,"",2011-05-01,"","",0,2011-05-01 05:00,"","",103950,"","Though it is possible to add unique-constraints to a table with the doctrine 2 ORM (and that works really fine), errors thrown when trying to add duplicate values to a unique-constraint property are not handled by an ExtDirect Request. (Such transactions give back ""Succes: true"").

Any errors of the doctrine 2 ORM should at least throw a ""Success: false"" in an ExtDirect-Request."
27663,TYPO3.ExtJS,Bug,"",Resolved,Should have,"Fatal error class ""F3\ExtJS\ExtDirect\Exception\InvalidExtRequestException"" not found",Michael Klapper,"",2012-07-13 10:13,ExtDirect,"",2011-06-23,"","",100,2011-06-23 07:07,"","",157850,"","If an invalid request is send to the server like the following:

*Post data*
<pre>
{""action"":""Events_Controller_EventController"",""method"":""update"",""data"":[undefined],""type"":""rpc"",""tid"":4}
</pre>

*Fatal error*
<pre>
Fatal error: Class 'F3\ExtJS\ExtDirect\Exception\InvalidExtRequestException' not found in /var/www/events/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_ExtJS_ExtDirect_RequestBuilder_Original.php on line 88
</pre>

*Solution*
Just rename the exception _InvalidExtRequestException_ into _InvalidExtDirectRequestException_ since the name of the exception was changed."
27665,TYPO3.ExtJS,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Should have,Exception of thrown in TYPO3\ExtJS\ExtDirect\RequestHandler::buildJsonRequest() not caught,Michael Klapper,Karsten Dambekalns,2012-12-07 09:35,ExtDirect,"",2011-06-23,"","",100,2011-06-23 08:12,"","",157950,"","If i got an Exception from @TYPO3\ExtJS\ExtDirect\RequestHandler::buildJsonRequest()@ method there is no try catch around the method call to catch the Exception.

The problem on this is that i'm not able to show a error message if such thing happend...

The Exception could be caught in @TYPO3\ExtJS\ExtDirect\RequestHandler::handleRequest()@ and converted to a valid JSON formatted object."
32821,TYPO3.ExtJS,Bug,"",Resolved,Must have,ExtDirect Request Handler needs to be adjusted to refactored Bootstrap,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-12-23 09:53,ExtDirect,"",2011-12-23,"","",0,2011-12-23 09:24,"","",408300,"",ExtDirect Request Handler needs to be adjusted to refactored Bootstrap
37388,TYPO3.ExtJS,Bug,"",Resolved,Must have,"RequestHandler uses uninitialized variable ""$settings""",Bastian Waidelich,"",2012-07-13 10:12,ExtDirect,"",2012-05-22,"","",100,2012-05-22 05:09,"","",632200,"","With 7dcc31680e450aa0df47a2f81a65158c223c41ce the lines
<pre>
$configurationManager = $this->objectManager->get('TYPO3\FLOW3\Configuration\ConfigurationManager');
				$settings = $configurationManager->getConfiguration(\TYPO3\FLOW3\Configuration\ConfigurationManager::CONFIGURATION_TYPE_SETTINGS, 'TYPO3.ExtJS');
</pre>

have been removed, but not the next line (now 106) referring to the - now uninitialized - variable $settings.

A unit test would be nice ;)"
43611,TYPO3.ExtJS,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Must have,ExtDirect Requesthandler not working with current Flow MVC,Karsten Dambekalns,Karsten Dambekalns,2012-12-07 09:35,ExtDirect,"",2012-12-05,"","",100,2012-12-05 03:58,"","",934450,"","The request handler needs to be adjusted, so the (new) session handling works."
1,TYPO3.Flow,Feature,"",Closed,Should have,Use SPL when searching/listing files.,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Package,0.1,"","","",0,2006-12-14 14:21,"","",1790650,"","","The ""SPL"":http://www.php.net/~helly/php/ext/spl/ provides some nice iterators for (recursively) working through directories, there even is a way to nicely implement a !DirectoryIterator variant that omits . and .. automagically. 

This would provide a nice way to replace custom opendir-read-check-for-dot."
2,TYPO3.Flow,Feature,"",Closed,Should have,authorName in PackageInfo.xml should be changed,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Package,0.1,"","","",0,2006-12-14 14:27,"","",1790600,"","","authorName in !PackageInfo.xml is nonsense - there eventually will be more than one author at the same time, and the name gets loaded as single value in source:Packages/Core/Classes/PackageManager/.

Ideas:
* Should rather be maintainerName
* Additionally handle as multi-value?"
4,TYPO3.Flow,Bug,"",Closed,Could have,Default autoloader should handle sub-direcories of Classes directory,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,"",0.1,"","","",0,2006-12-14 14:38,"","",1790550,"","","The phpCRJackrabbit package has classes in subdirectories of the Classes directory; in fact the CGL explicitly allow having subdirectories there.

The default autoloader autoloadPackageClass($className) in source:Packages/Core/Classes/PackageManager/T3P_Core_PackageManager.php#72 does not search those, this needs to be implemented."
5,TYPO3.Flow,Bug,"",Closed,Should have,Remove use of DIRECTORY_SEPARATOR,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,"","","","","",0,2006-12-14 14:54,"","",1789100,"","","Currently a lot of places use the PHP constant DIRECTORY_SEPARATOR. This constant belongs to the directory functions (see http://de.php.net/manual/en/ref.dir.php), i.e. it is not even defined for the usual filesystem functions like fopen nor is it required for include/require. PHP translates a forward slash automagically on Windows.

When specifying paths in php.ini it is even *required* to always use a forward slash, even when on Windows.

What I want to say is: let's remove this ugly thing and just use / everywhere.

For the sake of completeness: when calling local commands with exec() and friends one has to use the ""right"" separator, this is when it might come in handy... "
8,TYPO3.Flow,Feature,"",Closed,Should have,T3P_Core_PAckageConfFileComponentsConfigurationSourceTest->test_getComponentConfigurations_matchesFixutreOfTestPackage always fails,Robert Lemke,Robert Lemke,2010-10-20 05:39,Package,0.1,"","","",0,2007-02-19 07:38,"","",1790500,"","",Currently this test uses a fixture which only matches on roberts system - that should be generalized of course!
9,TYPO3.Flow,Bug,"",Closed,Should have,"AOP Framework doesn't work at all - invalid type ""...BasicClass_AOPProxy""",Robert Lemke,Robert Lemke,2010-10-20 05:39,Reflection,0.1,"","","",0,2007-02-19 11:18,"","",1790450,"","","The T3P_Core_AOPFramework_Tests fail all and the FileCache/.../AOPProxy directory contains no files.

PHP Version: 5.1.6
OS: Gentoo Linux"
10,TYPO3.Flow,Feature,"",Closed,Should have,Register component types automatically from interfaces,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,0.1,"","","",0,2007-02-20 05:58,"","",1790400,"","","From _The Guide_:


h2. Component names and types


By default, the name of a component is identical to the PHP class which implements the component's functions. A class called T3P_MyPackage_MyImplementation will be automatically available as a component with the exact same name. Every part of the system which asks for a component instance with a certain name will therefore - by default - get an instance of the class of that name. It is possible to replace the original implementation of a component by another one. In that case the class name of the new implementation will naturally differ from the component name which stays the same at all times.

If the component name is the same as the name of a PHP interface, it is often referred to as a component type. An interface called T3P_MyPackage_MyInterface will be available as a component name as long as there exists at least one class in the same package implemententing that interface."
11,TYPO3.Flow,Feature,"",Closed,Should have,Add wildcard support for components in Components.ini,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"","","","",0,2007-02-20 06:02,"","",1789050,"","","Currently each component must be configured individually in the _Components.conf_ file. It should be possible to bulk-configure components by using wildcards:

<pre>
   [T3_MyPackage_SomeCompon*]
   scope = prototype
</pre>

See also #339."
12,TYPO3.Flow,Bug,"",Closed,Should have,Add support for autowiring,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-02-20 06:10,"","",1790350,"","",The Component Manager should support autowiring for the constructor arguments during the dependency injection. Though It is still up for discussion if that should be the default behaviour.
13,TYPO3.Flow,Bug,"",Closed,Should have,Implement support for lifecycle methods,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,0.1,"","","",0,2007-02-20 06:14,"","",1790300,"","",The Component Manager (more precisely the object builder) should support at least some initialization life cycle method which is executed in the target object after the setter-based dependencies have been injected. Probably other methods for session-persistent components make sense as well.
14,TYPO3.Flow,Feature,"",Resolved,Should have,Define the packageInfo.xml format,Robert Lemke,"",2010-10-20 05:39,Package,"","","","",100,2007-02-20 10:04,"","",1789000,"","","The structure of meta information for packages stored in the packageInfo.xml file must be defined. This ticket covers the minimum features:

 - define general information like title, author, maintainer etc.
 - create a format for constraints

Constraints are important for checking for the minimum PHP version!

Not included in this ticket is setting up a schema for the xml format."
17,TYPO3.Flow,Bug,"",Closed,Should have,Optimize reflection usage by introducing a cache,Robert Lemke,Robert Lemke,2010-10-20 05:39,Reflection,0.1,"","","",0,2007-02-20 12:00,"","",1790250,"","","As reflection is used in many parts of the Component Manager and the AOP Framework, it might make sense to create some clever way of caching Reflection objects. While the results of the AOP Framework (the proxies) will be cached anyway, the Component Manager still does class reflection for finding component type implementations (source:Packages/Core/Classes/ComponentManager/T3P_Core_ComponentManager.php)."
19,TYPO3.Flow,Feature,"",Closed,Should have,"Add a feature for replacing ""new"" with ""getComponent"" in php source files",Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"","","","",0,2007-02-21 03:03,"","",1788950,"","","The AOP Framework should have a feature (which can be enabled through the Component configuration) which results in parsing the php source files and replace the new operator with a getComponent call. These modified files should be written into the FileCache and the modified classes used as the parent class for AOP proxies or, if no such proxy exists, registered as the implementation class of the component with that class name."
20,TYPO3.Flow,Bug,"",Closed,Should have,Implement support for introductions / intertype-declarations,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-02-21 03:06,"","",1790200,"","",Implement support for introductions / intertype-declarations in the AOP framework.
21,TYPO3.Flow,Bug,"",Closed,Should have,Implement support for pointcut definitions,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-02-21 03:08,"","",1790150,"","",Support for declaring pointcut definitions must be implemented. They should be defined through annotations (@pointcut) and it must be possible to refer to them in advice declarations.
22,TYPO3.Flow,Bug,"",Closed,Should have,Enhance pointcut expression parser: within(),Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-02-21 03:14,"","",1790100,"","",The pointcut expression parser should support the within() statement which allows to filter for target objects of a certain type (class).
23,TYPO3.Flow,Feature,"",Resolved,Should have,"Implement ""context"" support",Robert Lemke,Robert Lemke,2010-10-20 05:39,"","","","","",0,2007-02-21 03:20,"","",1788900,"","","It should be possible to put FLOW3 into different environment contexts. Examples are ""optimized"", ""production"", ""development"" and ""testing"".

Other parts may then behave accordingly, for example the AOP would adjust the caching of the proxy classes depending on the selected mode.

See also #339 about Components.ini format."
27,TYPO3.Flow,Feature,"",Closed,Should have,Add support for visibility modifier in pointcut expressions,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-02-22 08:18,"","",1790050,"","","Add support for a visibility modifier (public, protected, private) in pointcut expressions."
28,TYPO3.Flow,Feature,"",Closed,Should have,Add support for argument modifiers in pointcut expressions,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-02-22 08:20,"","",1790000,"","",Add support for argument modifiers in pointcut expressions: It should be possible to narrow down the set of joinpoints by specifying parameters and what value they should have in the definition of a pointcut
29,TYPO3.Flow,Bug,"",Closed,Should have,Class files in sub directories are not loaded,Robert Lemke,Robert Lemke,2010-10-20 05:39,Package,0.1,"","","",0,2007-02-22 08:34,"","",1789950,"","","Although the T3P_Core_Package finds class files in sub directories, they are not loaded by the T3P_Core_PackageClassLoader. This has an impact on the phpCRJackrabbit classes."
30,TYPO3.Flow,Feature,"",Closed,Should have,Add feature to detect circular pointcut references,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-02-23 09:21,"","",1789900,"","",Theoretically a pointcut can refer to itself in a poincut declaration or circular reference might appear on a deeper level. On a matches() call this would lead to an infinite loop and therefore must be detected.
32,TYPO3.Flow,Feature,"",Resolved,Should have,Design and implement a configuration manager,Robert Lemke,"",2010-10-20 05:39,"","","","","",0,2007-02-28 12:17,"","",1788850,"","",Design and implement a configuration manager
35,TYPO3.Flow,Feature,"",Closed,Should have,Refactor T3P_Core_AOPFramework: Extract build methods,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-03-01 08:58,"","",1789850,"","","The T3P_Core_AOPFramework got a bit too large by the time and it makes sense extracting the whole proxy code building methods into its own class. While doing that, the code snippets should also be externalized and put into template files where it makes sense."
36,TYPO3.Flow,Feature,"",Resolved,Must have,Add automatic documentation in AOP proxy classes,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,"","","","",0,2007-03-01 09:20,"","",1788800,"","",Parameters and maybe some other parts are not yet automatically documented through reflection in the AOP proxy builder. That would be nice.
37,TYPO3.Flow,Feature,"",Closed,Should have,AOP: Test introducing multiple interfaces,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-03-01 10:46,"","",1789800,"","",Some more tests need to be written to test introduction of more than one interface and what happens if interfaces have conflicting method signatures.
40,TYPO3.Flow,Feature,"",Closed,Should have,Check all classes for Array type hinting,Robert Lemke,Robert Lemke,2010-10-20 05:39,"",0.1,"","","",0,2007-03-05 14:01,"","",1789750,"","","There might be places where an array is expected as a parameter but no type hinting is used yet. In these cases, type hinting should be introduced.

Example:
<pre>
protected function mySuperFunction(array $thisIsAnArray) {
 ...
}
</pre>"
41,TYPO3.Flow,Bug,"",Closed,Should have,Custom autoloaders are registered too late,Robert Lemke,Robert Lemke,2010-10-20 05:39,Package,0.1,"","","",0,2007-03-06 07:12,"","",1789700,"","","Currently custom autoloaders are registered by some PHP code contained in the ComponentsConfiguration.php file. This file is included while the Package Manager configures and registers the components from the Classes directory. After that step, the component types are registered.

Due to this order, it might be that an interface of a package is required which is not yet loaded. If that interface can only be loaded by the custom autoloader, but that autloader is not yet registered (because the components of that package are not registered) PHP throws a fatal error.

The solution is to move autoloader registration to an earlier stage, before any component is registered or configured."
43,TYPO3.Flow,Feature,"",Closed,Must have,make extensibility of Components.conf possible,Sebastian Kurfuerst,Robert Lemke,2010-10-20 05:39,Object,"","","",0.00,0,2007-03-09 03:47,"","",1788750,"","",We need some mechanism to make the Components.conf file extendable by other components.
44,TYPO3.Flow,Bug,"",Closed,Should have,Fix injection of straight values with Setter Injection,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,0.1,"","","",0,2007-03-13 04:24,"","",1789650,"","","While demonstrating setter injection, injection of straight values didn't work. Check this (and constructor injection, too), create a test and fix if necessary."
45,TYPO3.Flow,Bug,"",Closed,Should have,Core ComponentObjectBuilder: Create test for different types of constructor arguments,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,0.1,"","","",0,2007-03-14 17:32,"","",1789600,"","",Currently only simple types are tested for constructor injection and probably no test exists for the optional constructor argument feature with types like array etc.
46,TYPO3.Flow,Feature,"",Resolved,Must have,Implement After Advice,Robert Lemke,Andreas Förthner,2010-10-20 05:39,AOP,1.0 alpha 1,"","","",100,2007-03-23 06:15,"","",1794350,"","",Currently only After Returning and After Throwing advices exist. Implement the general After advice as well and make sure that After Returning is only invoked if no exception is thrown!
47,TYPO3.Flow,Feature,"",Resolved,Should have,Implement pointcut designator for annotations,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,"","","","",100,2007-03-26 03:46,"","",1788700,"","",Currently there is no pointcut filter for matching annotations - create it!
51,TYPO3.Flow,Bug,"",Closed,Should have,Two tests for AOP introductions fail,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-05-16 10:14,"","",1789550,"","","Currently these two tests fail:

test_framework_introductionDeclarationBasicallyWorks
test_framework_introductionWithoutAdviceWorks


Full description:

Failure in test_framework_introductionDeclarationBasicallyWorks Detail
/users/shared/sites/t3dev/typo3_5.0/typo3_5.0/packages/framework/tests/t3p_framework_aop_frameworktest.php:126
The method ""newMethod"" does not exist in the target class (T3P_TestPackage_IntroductionTargetClass). Failed asserting that <boolean:false> is identical to <boolean:true>.
Failure in test_framework_introductionWithoutAdviceWorks Detail
/users/shared/sites/t3dev/typo3_5.0/typo3_5.0/packages/framework/tests/t3p_framework_aop_frameworktest.php:139
The method ""anotherMethod"" does not exist in the target class (T3P_TestPackage_IntroductionTargetClass). Failed asserting that <boolean:false> is identical to <boolean:true>.
"
52,TYPO3.Flow,Bug,"",Closed,Should have,T3P_Framework_AOP_Pointcut: too many recursions,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,0.1,"","","",0,2007-05-17 10:16,"","",1789500,"","","The more classes exist in TYPO3 5.0, the more recursions occur in during the pointcut filter matching. That is not the wanted behaviour though and it may result in either xdebug complaining about too many recursions or an exception thrown.

Example:

Fatal error: Uncaught exception 'RuntimeException' with message 'Circular pointcut reference detected in T3P_TestPackage_IntroductionAspect->newMethodAroundAdvice, too many recursions (Query identifier: 0).' in /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Framework/Classes/AOP/T3P_Framework_AOP_Pointcut.php:94 Stack trace: #0 /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Framework/Classes/AOP/T3P_Framework_AOP_ProxyClassBuilder.php(240): T3P_Framework_AOP_Pointcut->matches(Object(T3P_Framework_Reflection_Class), Object(ReflectionMethod), 0) #1 /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Framework/Classes/AOP/T3P_Framework_AOP_ProxyClassBuilder.php(63): T3P_Framework_AOP_ProxyClassBuilder->getMatchingIntroductions(Array, Object(T3P_Framework_Reflection_Class)) #2 /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Framework/Classes/AOP/T3P_Framework_AOP_Framework.php(291): T3P_Framework_AOP_ProxyClassBuilder->buildProxyClass(Object(T3P_Framework_Reflection_Class), Object(T3P_Framework_Compo in /Users/Shared/Sites/t3dev/typo3_5.0/typo3_5.0/Packages/Framework/Classes/AOP/T3P_Framework_AOP_Pointcut.php on line 94"
56,TYPO3.Flow,Bug,"",Closed,Should have,DirectoryIterator returns an Path with /C under Windows,Thomas Peterson,"",2010-10-20 05:39,Object,"","","","",100,2007-06-28 07:59,"","",1788650,"","","This results in an Error:

Warning: Invalid \C{..} sequence in C:\xampp\htdocs\typo35\Packages\Framework\Classes\Component\T3P_Framework_Component_ObjectBuilder.php(74) : eval()'d code on line 1 "
58,TYPO3.Flow,Bug,"",Closed,Should have,"Create support for ""Component Manager aware"" components",Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,0.1,"","","",0,2007-07-04 04:58,"","",1789450,"","","Dependency injection (specifically constructor injection) can be used in most cases when the instance of a component is required whose scope is ""singleton"". However, if a prototype is needed at arbitrary places in the method control flow, the component must refer to the component manager to get one. Because of this, many components already come with a constructor which exists solely for injecting a reference to the component manager so it can be used elsewhere in the component.

This should be solved by creating a marker interface ""T3P_Framework_Component_ManagerAwareInterface"": All components implementing this void interface automatically get some magic functions through AOP introductions which allow them to conveniently retrieve prototypes.
"
60,TYPO3.Flow,Bug,"",Closed,Should have,Problems with constructor arguments and DI in non-adviced constructor interceptors,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,0.1,"","","",0,2007-07-04 08:00,"","",1789400,"","","A constructor argument of a target class will end up correctly in the proxy class (ie. the proxy class builder works). However, the component configuration does not contain that argument but only the componentManager argument which was added by the AOP framework. The result is that autowiring does not work anymore (as the required original argument is not known to the object builder) and the component manager is injected instead of the expected first argument."
61,TYPO3.Flow,Bug,"",Closed,Must have,Errors in Framework_Utility_Environment::getScriptRequestPathAndName with mod_fcgid,Sebastian Kurfuerst,Robert Lemke,2010-10-20 05:39,Utility,0.1,"","","",0,2007-07-13 02:10,"","",1789350,"","","Hello,
I am running PHP with mod_fcgid - and it transmits the path in a wrong way:
I needed to apply the following patch to make it work properly on my installation - but I did not yet find any good ressources about the difference between orig_script_filename and script_filename.
So I currently think that the patch fixes just the symptoms...
My phpinfo() is also attached.
Greets,
Sebastian"
64,TYPO3.Flow,Task,"",Closed,Must have,"More Details for Apache2 ""prefork"" setup?",christoph -,"",2010-10-20 05:39,"","","","","",0,2007-09-20 07:13,"","",0,"","","Hello evererbody,
I just wanted to setup a Ubuntu 7.04 vmware image with apache2 and php6 to test the framework.
I got everything run, but The Framework doesn't worked. The spl_autload_register didn't register any classes. :-(

I found out that the apache2 was installed as a apache2-mpm-worker (multithreaded).
After _apt-get remove apache2-mpm-worker_ and _apt-get install apache2-mpm-prefork_
it worked. Yuhu! :-D

So perhaps somebody of you can add some more details about the installation process. I think it could help other developers, too.

Have fun on T3CON07
I'm sorry that I can't be there ;-)



"
65,TYPO3.Flow,Feature,"",Resolved,Should have,"Move ""Validation"" to its own subpackage",Robert Lemke,Andreas Förthner,2010-10-20 05:39,Validation,"","","","",100,2007-12-07 05:45,"","",1788600,"","","Currently the ""Validation"" features reside in the ""Security"" subpackage of ""Framework"". As discussed, this should be moved to its own subpackage:

Framework/
   Classes/
      Validation/
         T3_Framework_Validation_ValidatorInterface.php
         ...
         Filter/
            T3_Framework_Validation_FilterInterface.php

""Filter"" may become a subpart of ""Validation"" (""FilterInterface"" doesn't exist yet).

"
66,TYPO3.Flow,Feature,"",Resolved,Should have,"Add the feature ""Mapping Results"" to the Property Mapper",Robert Lemke,Andreas Förthner,2010-10-20 05:39,Property,"","","","",100,2007-12-07 06:13,"","",1788550,"","","The Property Mapper doesn't only map properties from one object to another but also invokes the necessary validators and filters. Validation, filtering and other mapping errors should be tracked in an object. 

The interface for !MappingResult should look similar to this:

<pre>
#!php
public function addError(T3_Framework_Error_Error $error);
public function getErrors();
public function hasErrors();

public function addSuppressedField($fieldName);
public function getSuppressedfields();
</pre>

Additionally we probably need a ""!MappingError"" class which extends T3_Framework_Error_Error. This class is then used for true mapping errors. Finally we also need ""!ValidationError"" - but that belongs to the Validation subpackage.

"
67,TYPO3.Flow,Feature,"",Resolved,Should have,"Refine the generic ""Error"" class",Robert Lemke,Andreas Förthner,2010-10-20 05:39,Error,"","","","",100,2007-12-07 06:14,"","",1788500,"","","The T3_Framework_Error_Error class needs at least these additional methods:

getCode();
getMessage();"
68,TYPO3.Flow,Feature,"",Resolved,Should have,Add validateProperty() to the Validator interface,Robert Lemke,Andreas Förthner,2010-10-20 05:39,Validation,"","","","",100,2007-12-07 06:19,"","",1788450,"","","Add validateProperty($object, $propertyName) to the Validator interface.

And while you're there you could rename the $subject argument to $object in validate();"
69,TYPO3.Flow,Feature,"",Resolved,Should have,Add validation to the PropertyMapper,Robert Lemke,Andreas Förthner,2010-10-20 05:39,Property,"","","","",100,2007-12-07 06:27,"","",1788400,"","","Add validation functionality to the Property Mapper.

First we need a way to set the validator - a method like setValidator() should be added to the property mapper.
If no validator was set but map() was called, the Property Mapper should try to find one by asking the T3_Framework_Validation_ValidatorResolver (see #70). If none was found, no validation is done.

While mapping we should probably validate each property *before* setting it in the target object. An open question is if it makes sense to validate the whole target object after mapping.

Validation Errors should be added to the Mapping Results."
70,TYPO3.Flow,Feature,"",Resolved,Should have,Implement a Validator Resolver,Robert Lemke,Andreas Förthner,2010-10-20 05:39,Validation,"","","","",100,2007-12-07 06:31,"","",1788350,"","","As a convenience function (eg. in the Property Mapper) we need a resolver which is able to find a validator for the given object. The interface of T3_Framework_Validation_ValidatorResolver could be as simple as:

<pre>
   public function resolveValidatorName($targetObject);
   public function resolveValidator($targetObject);
</pre>

the first method returns the component name (or NULL if no validator could be found) and the second method returns an actual validator object.

"
71,TYPO3.Flow,Feature,"",Resolved,Should have,Add Validators for generic base types,Robert Lemke,Andreas Förthner,2010-10-20 05:39,Validation,"","","","",100,2007-12-07 06:39,"","",1788300,"","","The framework should provide a few validators which can handle basic types such as:

* Text (ie. text without control characters. Question is if HTML would be a valid text?)
* Float
* Number
* NumberRange
* Integer
* EmailAddress
* NotEmpty
* RegularExpression

(Maybe create tickets for each of them)
Always make sure to be clear about the difference between filter and validator.

"
72,TYPO3.Flow,Feature,"",Closed,Should have,Fix @package and @subpackage annotation in all Framework classes,Robert Lemke,Robert Lemke,2010-10-20 05:39,"",0.1,"","","",0,2007-12-07 08:11,"","",1789300,"","","Some (well, most) of the @subpackage annotations are wrong ..."
73,TYPO3.Flow,Bug,"",Closed,Should have,Fix MVC CLI Request Handler / -Builder,Robert Lemke,Andreas Förthner,2010-10-20 05:39,MVC,0.1,"","","",0,2007-12-07 11:03,"","",1789250,"","","As soon as the Property Mapper and Validator are in place, the MVC CLI Request Handler and -Builder should be fixed.

[[Image(MVC_Failing_Tests.png,200px)]]"
74,TYPO3.Flow,Feature,"",Resolved,Should have,Request Builder doesn't convert POST arguments into Request arguments,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"","","","",100,2007-12-10 07:50,"","",1788250,"","","The Web Request Builder currently ignores POST arguments. GET arguments are implicitly set on calling setBaseURI() in T3_Framework_MVC_Web_Request. However, that should better be moved to the Web Request Builder as well.

"
75,TYPO3.Flow,Feature,"",Resolved,Should have,Move T3_Framework_MVC_URI to a more fitting subpackage,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"","","","",100,2007-12-10 12:25,"","",1788200,"","",The T3_Framework_MVC_URI represents a URI and is not bound to the MVC framework. It better fits where other data types are located - e.g. in the Property subpackage.
76,TYPO3.Flow,Bug,"",Closed,Should have,"Rename test methods, add @test annotation, extend base class",Robert Lemke,"",2010-10-20 05:39,"","","","","",90,2007-12-12 09:19,"","",1788150,"","","PHPUnit supports annotations for some time now. Therefore we should remove the ""test_"" prefix from all test methods and mark the method with a @test annotation instead.

Additionally, test cases should now extend the T3_Testing_BaseTestCase instead of PHPUnit_Framework_TestCase.

Finally, the require_once() for the PHPUnit Base Class is not needed anymore and should be removed.

All this also needs to be documented in the Coding Guidelines."
77,TYPO3.Flow,Bug,"",Closed,Should have,typo in MINUMUM_PHP_VERSION,Tim Eilers,Robert Lemke,2010-10-20 05:39,"",0.1,"","","",0,2007-12-13 18:03,"","",1789200,"","",in File Packages/Framework/Classes/T3_Framework.php the constant MINUMUM_PHP_VERSION is used. Shouldn't it be called MINIMUM_PHP_VERSION?
79,TYPO3.Flow,Bug,"",Closed,Should have,ssl vhost of 5-0 dev website buggy & link in trac-ticket-mails wrong,Tim Eilers,"",2010-10-20 05:39,"","","","","",0,2007-12-14 12:47,"","",1788100,"","","I opened a ticket to a problem yesterday, today i read the email i got because of that. at the bottem there was a link:
<pre>
Ticket URL: <https://5-0.dev.typo3.org/TYPO3/ticket/77#comment:1>
</pre>
the link results into a 404. if you surf a bit around you get only dir listings and not a working website."
84,TYPO3.Flow,Feature,"",Closed,Should have,ComponentManager should not manage abstract classes,Malte Jansen,Robert Lemke,2010-10-20 05:39,Object,0.1,"","","",0,2007-12-21 11:42,"","",1789150,"","","Abstract classes can not run standalone. So they should not be managed by the Component Manager and should not be available as components.
"
87,TYPO3.Flow,Feature,"",Resolved,Should have,Add fallback for servers without mod_rewrite / .htaccess support,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 5,"","","",100,2008-01-14 06:09,"","",1798150,"","",Add fallback for servers without mod_rewrite / .htaccess support
88,TYPO3.Flow,Feature,"",Resolved,Should have,Add forwarding support to MVC controller,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"","","","",100,2008-01-15 06:34,"","",1788050,"","","Add forwarding support to MVC controller ... something like $this->forward($controllerName, $actionName) and other features."
89,TYPO3.Flow,Bug,"",Resolved,Should have,Create proper exceptions for the Utility subpackage,Robert Lemke,Robert Lemke,2010-10-20 05:39,Utility,"","","","",100,2008-01-15 08:33,"","",1788000,"","",The Utility sub package only throws RuntimeExceptions.
90,TYPO3.Flow,Feature,"",Closed,Could have,Add PHP dependency support,Robert Lemke,Christian Jul Jensen,2012-11-07 05:41,Package,"","","","",0,2008-01-15 10:06,"","",1787950,"","","The package manager should support dependencies on PHP extensions and compiling options. A package should just define these dependencies, conflicts etc. in its PackageInfo.xml file."
91,TYPO3.Flow,Feature,"",Closed,Should have,Check how eAccelerator can be supported,Robert Lemke,Robert Lemke,2010-10-20 05:39,"","","","",0.00,100,2008-01-16 10:19,"","",1787900,"","","Currently eAccelerator causes problems because annotations are not cached. Also some other weird behaviour occurred which I didn't check any further.

For now caching is disabled if eAccelerator is detected, but it would be nice to find some way to support it."
116,TYPO3.Flow,Feature,"",Resolved,Must have,Package Manager provides CLI access,Robert Lemke,Christopher Hlubek,2010-10-20 05:39,Package,1.0 alpha 1,2008-01-28,"","",100,2008-01-28 10:04,"","",1794300,"","","The Package Manager should provide a CLI controller which initially should support the ""create"" command for creating a new, empty package.
The command for creating a package could look like this:

<pre>php index.php flow3 package -a create -p MyPackage</pre>
"
215,TYPO3.Flow,Major Feature,"",Resolved,Should have,"The MVC Framework can handle, dispatch and forward GET, POST and CLI requests",Robert Lemke,"",2010-10-20 05:39,MVC,"",2008-02-12,"","",100,2008-02-12 07:08,"","",1787850,"","","The MVC Framework can handle, dispatch and forward GET, POST and CLI requests"
216,TYPO3.Flow,Major Feature,"",Resolved,Should have,AOP proxy classes are cached in production mode,Robert Lemke,"",2010-10-20 05:39,AOP,"",2008-02-12,"",0.00,100,2008-02-12 07:09,"","",1787800,"","",AOP proxy classes are cached in production mode
218,TYPO3.Flow,Major Feature,"",Closed,Should have,Comprehensive reference documentation for the MVC framework,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"",2008-02-12,"","",0,2008-02-12 07:13,"","",1787750,"","",Comprehensive reference documentation for the MVC framework
220,TYPO3.Flow,Major Feature,"",Closed,Should have,"A basic persistence framework, based on annotations, with the content repository as backend",Robert Lemke,"",2010-10-20 05:39,Persistence,"",2008-02-12,"","",0,2008-02-12 07:15,"","",1787700,"","","A basic persistence framework, based on annotations, with the content repository as backend"
222,TYPO3.Flow,Bug,"",Resolved,Should have,Logger test should use a mock instead of file or write the file to FileCache,Robert Lemke,Robert Lemke,2010-10-20 05:39,Log,"",2008-02-12,"","",100,2008-02-12 08:17,"","",1787650,"","","Currently the tests in the Log package (try to) write a real file into the main directory, which usually won't work due to access restrictions."
263,TYPO3.Flow,Bug,"",Resolved,Should have,Object Builder injects constructor arguments of previous builds if no arguments are passed explicitly,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"",2008-02-13,"","",100,2008-02-13 06:11,"","",1787600,"","","Code which exploits the bug:

<pre>
$component1 = $componentManager->getComponent('T3_TestPackage_ClassWithOptionalConstructorArguments', 'someValue');
echo $component1->argument1; // output: ""someValue""
$component2 = $componentManager->getComponent('T3_TestPackage_ClassWithOptionalConstructorArguments');
echo $component2->argument1; // output: still ""someValue"", expected output: """"
</pre>"
266,TYPO3.Flow,Bug,"",Resolved,Should have,Proxied classes loose annotation information,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,"",2008-02-13,"","",100,2008-02-13 07:52,"","",1787550,"","","Currently the annotations are not copied into the target class when a class is proxied by the AOP framework. One effect is that the component manager doesn't get the ""scope"" configuration correctly - but as soon as we use more annotations, it will have other side effects as well."
267,TYPO3.Flow,Feature,"",Resolved,Should have,Method basicAction for T3_FLOW3_MVC_Controller_ActionController,Malte Jansen,"",2010-10-20 05:39,MVC,"",2008-02-13,"","",0,2008-02-13 10:10,"","",1787500,"","","You can use initializeAction() for initialization.
But at this point the $this->view does not exist.
If you have several further inits for the like injections you have to define them for each action (e.g. defaultAction(), runAction()). So it would be cool to have some basicAction(), which is call before the ""real""-action is called."
309,TYPO3.Flow,Task,"",Resolved,Should have,Move Classes/Components.conf to Configuration/,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"",2008-02-14,"","",100,2008-02-14 10:05,"","",1050,"","",The Components.conf file should be renamed to Components.ini and moved to a package specific Configuration directory.
310,TYPO3.Flow,Feature,"",Resolved,Should have,Find a way to simplify setter injection in ActionController (and elsewhere),Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"",2008-02-14,"","",100,2008-02-14 10:13,"","",1787450,"","","Currently we need to write a setter method for all dependencies of an ActionController. The constructor can't be used for DI because it is needed by the base class.

This is a very tedious and repetitive task which could be simplified by just declaring the dependency and get them setter injected automatically."
311,TYPO3.Flow,Task,"",Resolved,Should have,Move PackageConfiguration.php to the package Configuration/ directory and rename it,Robert Lemke,Robert Lemke,2010-10-20 05:39,Package,"",2008-02-14,"","",100,2008-02-14 10:44,"","",1100,"","",Move PackageConfiguration.php to the package Configuration/ directory and rename it
314,TYPO3.Flow,Bug,"",Resolved,Should have,Improve directory structure and naming for views in a package,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"",2008-02-15,"","",100,2008-02-15 05:04,"","",1787400,"","","Currently all views in a package are located in the Classes/View/ directory. The naming scheme for view classes is:

T3_PackageKey_View_ActionName

That's a mistake. The naming convention for views should have been:

T3_PackageKey_View_ControllerName_ActionName

Adapt the MVC view resolver and rename / move existing views to the new directory layout."
315,TYPO3.Flow,Feature,"",Resolved,Must have,"Add ""format"" support to the Request object",Robert Lemke,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 11,2008-02-15,"","",100,2008-02-15 05:38,"","",1806300,"","","The Request object (mainly WebRequest) should contain information about the requested format. Currently it only provides a controller and an action name.
The default format would be ""html"" for web requests and ""text"" for CLI requests.

The router which extracts information for building a web request could determine the requested format from two sources:

* the file extension (.html, .txt, .pdf, .js, .json, .atom, .rss, .xml etc.)
* the HTTP headers (content negotiation) - this is mainly for AJAX requests

See also:
http://www.iana.org/assignments/media-types/
http://en.wikipedia.org/wiki/Content_negotiation
"
319,TYPO3.Flow,Feature,"",Resolved,Should have,"Support setter injection without configuration through ""inject"" methods",Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"",2008-02-18,"","",100,2008-02-18 12:27,"","",1787350,"","","Currently setter injection is only possible via setter methods whose name follows the scheme ""setPropertyName"". These dependencies need to be configured explicitly in the Components.ini file because autowiring is not possible in this case.

It would be nice if there was (additionally) support for ""inject"" methods (setter methods with names like ""injectPropertyName""). By convention these methods would be recognized as setters for dependencies and could be autowired.

inject* methods should be preferred over set* methods."
321,TYPO3.Flow,Major Feature,"",Closed,Should have,The MVC Framework supports RESTful URLs,Robert Lemke,"",2010-10-20 05:39,MVC,"",2008-02-19,"","",0,2008-02-19 02:55,"","",1787300,"","",see also http://en.wikipedia.org/wiki/Representational_State_Transfer
324,TYPO3.Flow,Feature,"",Resolved,Should have,"Add support for ""required"" dependencies via setter injection",Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"",2008-02-19,"","",100,2008-02-19 04:48,"","",1787250,"","","Currently all dependencies injected through autowired setter injection (see #319) are optional.

This should be configurable through a ""@required"" annotation on the inject* method. If an inject method is marked as required, the object builder would throw an exception if the dependencies can't be resolved. Such an exception would not be thrown for optional dependencies.

"
332,TYPO3.Flow,Bug,"",Rejected,Should have,Error screen just displays the beginning of an absolute path,Malte Jansen,Robert Lemke,2010-10-20 05:39,Error,"",2008-02-19,"","",0,2008-02-19 12:34,"","",1787200,"","","A relative path would be more useful, because you normally know, where you are running you installation.
See Screenshot..."
339,TYPO3.Flow,Feature,"",Closed,Should have,Improve the Components.ini format,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"",2008-02-20,"","",0,2008-02-20 04:02,"","",1787150,"","","The current Components.ini format mixes up the actual component configuration, the injection of constructor arguments and properties and other configuration options such as AOP settings. Maybe all these options should be organized in a better way.

We also need to support contexts (see #23) maybe like this:

<pre>
[T3_FLOW3_MVC_Controller_ActionController]

@production: className = ""T3_FLOW3_MVC_Controller_ActionController""
@development: className = ""T3_FLOW3_MVC_Controller_DebuggableActionController""

addToAOPProxyBlackList = TRUE


# Note this: If we had our own .ini parser we could distinguish between these two variants:

constructorArguments.1 = T3_FLOW3_Something
constructorArguments.1 = ""T3_FLOW3_Something""

# The first would inject a reference, the second would inject the string literally

</pre>
"
340,TYPO3.Flow,Major Feature,"",Closed,Should have,The MVC framework provides a default rewriting router and an interface for custom routers,Robert Lemke,"",2010-10-20 05:39,"","",2008-02-20,"","",0,2008-02-20 04:36,"","",1787100,"","",The MVC framework provides a default rewriting router and an interface for custom routers
341,TYPO3.Flow,Feature,"",Closed,Should have,Define a router interface and Implement a rewrite router,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"",2008-02-20,"",0.00,0,2008-02-20 04:37,"","",1787050,"","",Define a router interface and Implement a rewrite router
342,TYPO3.Flow,Feature,"",Resolved,Must have,Support for file uploads,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 7,2008-02-20,"","",100,2008-02-20 06:08,"","",1800050,"","",The MVC framework needs to support file / multipart uploads. It should be implemented in a way that uploads are only accepted if they have been announced on beforehand. Could be implemented with a token which is passed along.
345,TYPO3.Flow,Major Feature,"",Closed,Should have,An initial implementation of the Resource Manager,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Resource,"",2008-02-20,"",0.00,40,2008-02-20 08:00,"","",1787000,"","",An initial implementation of the Resource Manager
363,TYPO3.Flow,Bug,"",Rejected,Should have,Order of includes (not possible to implement a interface in subfolder?),Daniel Poetzinger,Robert Lemke,2010-10-20 05:39,Object,"",2008-02-24,"",0.00,0,2008-02-24 09:25,"","",1786950,"","","I have the following:

Classes/T3_XQuery_ExpressionInterface.php (=Interface)
Classes/MonetDB/T3_XQuery_MonetDBExpression (=a implementation)

I get the Exeption:
""Interface T3_XQuery_ExpressionInterface does not exist..

ReflectionException thrown in file
Packages/FLOW3/Classes/Component/T3_FLOW3_Component_Manager.php in line 336.""

When i move the implementation also in Folder ""Classes"" it works.

So is there a way to resolve this dependencies automatic? E.g. autodetection of Interfaces (by name?) and include interfaces before implementations?"
368,TYPO3.Flow,Major Feature,"",Closed,Should have,Caching Manager with support for different kinds of caches and stores.,Robert Lemke,"",2010-10-20 05:39,"","",2008-02-26,"",0.00,60,2008-02-26 03:38,"","",1786900,"","","The caching framework at least supports caching of arbitrary variables, classes and files. As for the stores, there is a backend for writing caches into files, into memcached and the content repository."
369,TYPO3.Flow,Feature,"",Resolved,Must have,Replace path constants by resource manager calls,Robert Lemke,Robert Lemke,2010-10-20 05:39,Resource,"",2008-02-26,"","",100,2008-02-26 03:40,"","",1786850,"","","The constants for certains paths still have ""TYPO3"" in their name and they are ... constants (eg. TYPO3_PATH_PRIVATEFILECACHE).
These constants should be replaced by a more flexible solution, implemented in the resource subpackage."
370,TYPO3.Flow,Bug,"",Resolved,Should have,T3_FLOW3_Reflection_Class->getProperty() does not return FLOW3s property reflection,Robert Lemke,Robert Lemke,2010-10-20 05:39,Reflection,"",2008-02-27,"","",100,2008-02-27 05:21,"","",1786800,"","","$class = new T3_FLOW3_Reflection_Class(__CLASS__);
var_dump($class->getProperty('someProperty');

output: ReflectionProperty
expected output: T3_FLOW3_Reflection_Property

"
374,TYPO3.Flow,Major Feature,"",Closed,Should have,Speed,Robert Lemke,"",2010-10-20 05:39,"","",2008-02-29,"","",0,2008-02-29 06:05,"","",1786750,"","",Speed
378,TYPO3.Flow,Bug,"",Closed,-- undefined --,Replace Constant TYPO3_PATH_ROOT to FLOW3_PATH_ROOT in index.php,Malte Jansen,Robert Lemke,2010-10-20 05:39,"","",2008-03-04,2008-03-04,"",100,2008-03-04 05:45,"","",1786700,"","",Some how this file was forgotten...
400,TYPO3.Flow,Task,"",Closed,Must have,Security Report of CeBit '08,Malte Jansen,"",2010-10-20 05:39,Security,"",2008-03-05,"","",100,2008-03-05 13:40,"","",1600,"","","Today I was on the CeBit in Hannover. 

I read this article: http://t3n.yeebase.com/aktuell/news/newspost/cebit-kostenlose-quellcode-analyse-von-web-anwendungen/1271/

So I tried it and copy my version on a usb-stick.

So until now there no vulnerable statements. So FLOW3 is pretty secure.


"
401,TYPO3.Flow,Bug,"",Resolved,Must have,Permission problems with /tmp/FLOW3,Johannes K,Robert Lemke,2010-10-20 05:39,Cache,"",2008-03-09,"","",100,2008-03-09 12:01,"","",1786650,"","","I called the index.php from the command line everythings fine:

<pre>
>php index.php


Welcome to FLOW3!

This is the default view of the FLOW3 MVC component. You see this message because no 
other view is available. Please refer to the Developer's Guide for more information 
how to create and configure one.

Have fun! The FLOW3 Development Team
</pre>

Then I called the index.php via webserver : http://localhost/hnes/flow3/Distribution/trunk/
and got the exception in the attachment (really nice stacktrace view by the way).

The problem are the permissions of the  /tmp/FLOW3/ folder after I called index.php from commandline:
<pre>
drwxr-xr-x 3 jk       jk          1024 2008-03-09 16:53 FLOW3
</pre>

Or am I not supposed to use flow3 from commandline, or is there a wrapper, or ...  



"
405,TYPO3.Flow,Feature,"",Resolved,Should have,getRegisteredComponents Method in Component Manager,Michael Feinbier,Robert Lemke,2010-10-20 05:39,Object,"",2008-03-14,"","",100,2008-03-14 18:04,"","",1786600,"","","For implementing a component browser in my ""AOPBrowser"" it would be usefull to have access to the $registeredComponents-Array. This could be done by a getRegisteredComponents() method

I applied a patch implementing that method."
406,TYPO3.Flow,Bug,"",Resolved,Should have,Strange behaviour with PHP-CGI,Michael Feinbier,Robert Lemke,2010-10-20 05:39,Object,"",2008-03-16,"","",100,2008-03-16 09:00,"","",1786550,"","","If PHP runs as a CGI, FLOW3 does strange things with the context.

By default you get this Message when calling an own package (ie /Testing)
??No input file specified.??

This has something to do with the default .htaccess and url-rewriting. I'll try around a little bit with that but a quick-fix is to add
cgi.fix_pathinfo = 0
to your php.ini to make the url_rewriting work

But then, the component manager tries to init wrong/non existing classes. eg
<pre>$this->aopFramework = $this->componentManager->getComponent('T3_FLOW3_AOP_Framework');</pre>
throws 
'Class T3_FLOW3_AOP_Framework_AOPProxy_Development does not exist '

It seems to me, that this has something to do with the 'context'. Im not pretty sure what the 'context' is all about and thus im not sure if this is a bug or a feature.
On other Systems (PHP as apache module) this snippet works perfect.


"
407,TYPO3.Flow,Feature,"",Resolved,Should have,Implement getAspectContainers() for the AOP Framework,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,"",2008-03-17,"","",100,2008-03-17 05:06,"","",1786500,"","",Michael Feinbier needs an getAspectContainers() method to retrieve all defined aspects from the AOP Framework in order to display them in an AOP browser.
408,TYPO3.Flow,Feature,"",Resolved,Should have,Implement getAdvicedMethodsInformation...() for the AOP Framework,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,"",2008-03-17,"","",100,2008-03-17 05:08,"","",1786450,"","","For the AOP browser / debugging we need a method which returns all advices which apply to a given method.

"
409,TYPO3.Flow,Task,"",Resolved,Should have,"Rename ""PackageInfo.xml"" to ""Package.xml""",David Bruehlmeier,Robert Lemke,2010-10-20 05:39,Package,"",2008-03-18,"","",100,2008-03-18 05:23,"","",1650,"","","After the discussion on the mailing list, we agreed to rename the ""PackageInfo.xml"" file in the ""Meta"" directory to ""Package.xml"".

http://lists.netfielders.de/pipermail/typo3-project-5_0-general/2008-March/000843.html"
410,TYPO3.Flow,Major Feature,"",Resolved,Should have,A simple and robust configuration system,Robert Lemke,"",2010-10-20 05:39,"","",2008-03-18,"","",30,2008-03-18 08:42,"","",1786400,"","",A simple and robust configuration system
422,TYPO3.Flow,Feature,"",Rejected,Won't have this time,XMLHttpRequest Request,Michael Feinbier,"",2010-10-20 05:39,MVC,"",2008-03-20,"","",0,2008-03-20 09:45,"","",1786350,"","","I think it would be useful to have an XMLHttpRequest-Object beneath the Web and CLI-Request in the MVC. This Ajax request would be very similar to a Web-Request (maybe a sub-module of that?).
Most JS-Frameworks send a 'X-Requested-With'	=> 'XMLHttpRequest' to the request-header so this request could be easily differenced from a normal web-request."
423,TYPO3.Flow,Task,"",Resolved,Should have,"Rename top-level namespace prefix ""T3"" to ""F3""",Robert Lemke,Robert Lemke,2010-10-20 05:39,"","",2008-03-25,"","",100,2008-03-25 09:55,"","",1700,"","","As discussed in the mailing list, the class prefix ""T3_"" should be renamed to ""F3_"".
See http://lists.netfielders.de/pipermail/typo3-project-5_0-general/2008-February/000808.html

"
424,TYPO3.Flow,Feature,"",Resolved,Should have,Refactoring: Rename Components.ini to Components.php and transfer responsibility to configuration manager,Robert Lemke,Robert Lemke,2010-10-20 05:39,Configuration,"",2008-03-25,"","",100,2008-03-25 10:28,"","",1786300,"","",Currently each package may provide components configuration by means of a Components.ini file placed in the package's Configuration/ directory. This needs to be changed: The configuration file format should be changed to a unified .php configuration format and the files should be parsed and managed by the Configuration Manager.
437,TYPO3.Flow,Bug,"",Resolved,Could have,Identifiers are used as is in the filenames used by the file cache backend,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Cache,"",2008-04-02,2008-04-02,"",100,2008-04-02 05:37,"","",1786250,"","","Things like

Warning: file_put_contents(/tmp//FLOW3/143f698bcb42f2a69b18d164896d265d//Production/Cache/FLOW3_Resource_Manager/0/7/2008-04-02T10;30;27Z_file://FLOW3/Public/MVC/DefaultView_Template.html.cachedata.47f35233ef0cc.temp) [function.file-put-contents]: failed to open stream: No such file or directory in /Users/karsten/Sites/TYPO3v5/Packages/FLOW3/Classes/Cache/Backend/F3_FLOW3_Cache_Backend_File.php line 135 

should not happen... The identifier given to VariableCache in this case was ""file://FLOW3/Public/MVC/DefaultView_Template.html"""
441,TYPO3.Flow,Feature,"",Resolved,Should have,Extract component configuration modifications from AOP Framework initialize method,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,1.0 alpha 1,2008-04-02,"","",100,2008-04-02 15:35,"","",1794250,"","","The initialize() method of the AOP Framework builds proxy classes and then sets the modified component configuration directly through the component manager. 

However, this should be not the responsibility of the AOP framework - it should rather return some information about what classes have been created and the actual component configuration modifications should happen elsewhere. One way to implement this would be a generic post processing mechanism for the component configuration initialization.
"
442,TYPO3.Flow,Feature,"",Resolved,Should have,Cache Backend for Memcached,Robert Lemke,Christian Jul Jensen,2010-10-20 05:39,Cache,"",2008-04-03,"","",100,2008-04-03 03:44,"","",1786200,"","","It would be nice? if we had a cache backend for Memcached (see http://www.danga.com/memcached/)
"
444,TYPO3.Flow,Bug,"",Resolved,Should have,"""func_get_args()"" is not allowed to be an argument",Jochen Rau,Karsten Dambekalns,2010-10-20 05:39,"","",2008-04-03,"","",100,2008-04-03 12:07,"","",1786150,"","","Hi,

The method ""getComponent()"" in the class ""F3_FLOW3_Component_Manager"" has the following call:

$this->getOverridingConstructorArguments($componentConfiguration, array_slice(func_get_args(), 1))

But ""func_get_args()"" is not allowed to be an argument. The PHP-Documentation says:

----
Note: Because this function depends on the current scope to determine parameter details, it cannot be used as a function parameter. If you must pass this value, assign the results to a variable, and pass the variable.
----

I changed the order of the arguments and got the following error message:
 
Fatal error: func_get_args(): Can't be used as a function parameter in /Applications/MAMP/htdocs/flow3/Packages/FLOW3/Classes/Component/F3_FLOW3_Component_Manager.php on line 125

Whether the function call produces an error or not obviously depends on the order of the arguments. This may be a bug in PHP 5.2.x..

I introduced a variable ""$arguments"" and solved the problem for me:

$arguments = array_slice(func_get_args(), 1);
$overridingConstructorArguments = $this->getOverridingConstructorArguments($arguments, $componentConfiguration);

Greetings
Jochen"
459,TYPO3.Flow,Feature,"",Closed,Should have,Implement dependency injection via abstract factory methods,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"",2008-04-16,"",0.00,0,2008-04-16 04:59,"","",1786100,"","","Dependency injection works fine so far as long as components in a singleton scope are requested. Protoype components can't be injected as soon as more than one instance is needed or the requesting class / method needs to have control over the constructor arguments (which is very often the case).

Therefore consumer code currently calls $this->componentManager->getComponent('NameOfProtoypeComponent') in order to get a fresh instance.

This can be optimized by moving the instantiation into an (abstract) factory method:

<pre>
abstract protected function createSomeComponent($argument1, $argument2);
</pre>

This method should be detected by the component manager and automatically be implemented by creating a proxy class. "
474,TYPO3.Flow,Task,"",Rejected,Must have,Refactor the MVC controller class names,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2008-04-21,"","",0,2008-04-21 12:09,"","",2050,"","","For consistency, the following classes should be renamed:

F3_FLOW3_MVC_Controller_ActionController -> F3_FLOW3_MVC_Controller_Action
F3_FLOW3_MVC_Controller_DefaultController -> F3_FLOW3_MVC_Controller_Default
F3_FLOW3_MVC_Controller_RequestHandlingController -> F3_FLOW3_MVC_Controller_RequestHandling
F3_FLOW3_MVC_Controller_PresentationController -> F3_FLOW3_MVC_Controller_Presentation

... and don't forget the documentation."
477,TYPO3.Flow,Task,"",Resolved,Should have,Globally adjust copyright notice,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,"","",2008-04-23,"",0.00,100,2008-04-23 04:52,"","",2150,"","","Due to the new copyright / licensing situation, the copyright notice in all files need to be adjusted:

old: @copyright Copyright belongs to the respective authors
new: @copyright TYPO3 Association"
478,TYPO3.Flow,Feature,"",Resolved,Should have,More speed for object creation,Axel ,Robert Lemke,2010-10-20 05:39,Object,"",2008-04-24,"","",100,2008-04-24 02:45,"","",1786050,"","","I attached the file F3_FLOW3_Component_ObjectBuilder.php with some changes in the methods createComponentObject and injectConstructorArguments.

The objectcreation with eval() is a litte bit slow and i changed this to ReflectionClass::newInstance. This results in a 17% better performance (testet with ApacheBench on the TestPackage) and a more readable injectConstructorArguments - method.
All seems to work fine, but i was not able to run the testcase yet(PHPUnit crashes my apache). Perhabs someone else can test that.

(I'm sorry about my bad english)"
480,TYPO3.Flow,Task,"",Resolved,Should have,Unnecessary methodcall in F3_Flow_Resource_Manager?,Axel ,Karsten Dambekalns,2010-10-20 05:39,Resource,"",2008-04-24,"","",100,2008-04-24 04:59,"","",2200,"","","In the class F3_Flow_Resource_Manager, method ""instantiateResource"" is a call to 
F3_FLOW3_Utility_FileTypes::mimeTypeFromFilename($metadata['name']);

$metadata['mimeType'] should do the job as well. "
486,TYPO3.Flow,Bug,"",Resolved,Should have,Configuration from Components.php is not merged among different packages,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"",2008-04-29,"","",100,2008-04-29 07:22,"","",1786000,"","","The situation: Package A configures some component of package B. If the configuration of package B is processed after that of package A (in F3_FLOW3), all information from package A is lost because the configuration is not merged but replaced."
491,TYPO3.Flow,Bug,"",Resolved,Should have,FLOW3 not working under Windows,Christoph Blömer,Karsten Dambekalns,2010-10-20 05:39,Resource,"",2008-05-08,"",0.00,100,2008-05-08 08:54,"","",1785950,"","","After Revision 784 I get this StackTrace under Windows Vista. 
I also checked it on Ubuntu 8.04. It works on Linux.

So because the Core Developers ""only"" have a Mac Book I post it here ;-)

On Windows Vista I get a ""500 Internal Server Error"" when I use index.php and following StackTrace when I use index_dev.php:

Warning: mkdir() [function.mkdir]: Invalid argument in D:\xampp\htdocs\demo\Packages\FLOW3\Classes\Utility\F3_FLOW3_Utility_Files.php line 112

F3_FLOW3_Error_Exception thrown in file
D:\xampp\htdocs\demo\Packages\FLOW3\Classes\Error\F3_FLOW3_Error_ErrorHandler.php in line 87.

6 F3_FLOW3_Error_ErrorHandler::handleError(2, ""mkdir() [<a href='fu?>]: Invalid argume"", ""D:\xampp\htdocs\demo?W3_Utility_Files.p"", 112, array)

D:\xampp\htdocs\demo\Packages\FLOW3\Classes\Utility\F3_FLOW3_Utility_Files.php:

00110:    if (!is_dir($currentPath) && F3_PHP6_Functions::strlen($directoryName) > 0) {
00111:     $oldMask = umask(000);
00112:     mkdir($currentPath, 0777);
00113:     umask($oldMask);
00114:     if (!is_dir($currentPath)) throw new F3_FLOW3_Utility_Exception('Could not create directory ""' . $path . '""!', 1170251400);


5 F3_FLOW3_Utility_Files::createDirectoryRecursively(""D:/xampp/htdocs/demo?docs\demo\Packages"", 511)

D:\xampp\htdocs\demo\Packages\FLOW3\Classes\Resource\F3_FLOW3_Resource_Publisher.php:
00155:    $metadata = $this->extractResourceMetadata($URI);
00156: 
00157:    F3_FLOW3_Utility_Files::createDirectoryRecursively($destinationPath . dirname($relativeFile));
00158:    if($metadata['mimeType'] == 'text/html') {
00159:     $HTML = F3_FLOW3_Resource_Processor::adjustRelativePathsInHTML(file_get_contents($file), 'Resources/' . $packageName . '/Public/' . dirname($relativeFile) . '/');


4 F3_FLOW3_Resource_Publisher::mirrorPublicPackageResources(""D:/xampp/htdocs/demo?Resources/Public\C"")

D:\xampp\htdocs\demo\Packages\FLOW3\Classes\F3_FLOW3.php:
00271:   $activePackages = $packageManager->getActivePackages();
00272:   foreach ($activePackages as $packageKey => $package) {
00273:    $resourcePublisher->mirrorPublicPackageResources($packageKey);
00274:   }
00275: 
"
495,TYPO3.Flow,Bug,"",Resolved,Should have,memcached cache backend with multiple FLOW3 installations will fail,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Cache,"",2008-05-09,"",0.00,100,2008-05-09 10:44,"","",1785900,"","","_(as reported by Axel Hoogestraat)_

The memcached backend (the filecache, as well) will not work properly, if there is more than on FLOW3 installation on a server.

In F3_FLOW3.php, for example, there is the following code: $componentConfigurationsCache->save('baseComponentConfigurations', $componentConfigurations);

The key 'baseComponentConfigurations' will be overwritten, if another FLOW3 installation will save the same key. But the configuration, that should be saved, could be different.

So, a possible solution is to add an prefix to the key, i think. The prefix could be the installation path of FLOW3 or something like an ID, that is configured in the FLOW3 configuration."
497,TYPO3.Flow,Task,"",Resolved,Should have,Remove createDirectoryRecursively() and replace by recursive mkdir() call,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Utility,"",2008-05-09,"",0.00,100,2008-05-09 11:29,"","",2300,"","","createDirectoryRecursively() in F3_FLOW3_Utility_Files can be removed, as PHP since 5.0.0 supports creating directories recursively with mkdir() through a simple method argument:
 mkdir ( string $pathname [, int $mode [, bool $recursive ]] )"
499,TYPO3.Flow,Bug,"",Resolved,Must have,Replace TYPO3 with FLOW3 in F3_FLOW3_Error_DebugExceptionHandler,Christopher Hlubek,Karsten Dambekalns,2010-10-20 05:39,Error,"",2008-05-09,"",0.00,100,2008-05-09 12:21,"","",1785850,"","","The exception handler outputs ""TYPO3 Exception"" as the title and the text ""Uncaught TYPO3 Exception"" at the top of the stack trace. This should be changed to FLOW3 for consistency."
502,TYPO3.Flow,Feature,"",Resolved,Should have,Make error message from exception handler in production mode more user-friendly,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Error,"",2008-05-09,"",0.00,100,2008-05-09 13:28,"","",1785800,"","","The simple ""500 internal server error"" is misleading, this should be better-looking and at least reveal that the error is caused/raised by FLOW3, and not Apache or some other system-level cause."
507,TYPO3.Flow,Bug,"",Closed,Must have,DebugExceptionHandler prints arguments at wrong place,Tim Eilers,Karsten Dambekalns,2010-10-20 05:39,Error,"",2008-05-09,"",0.00,0,2008-05-09 17:08,"","",1785750,"","","Don't know if i am the only one, or if it is a windows problem again, but i strongly believe the arguments are printed in the wrong order in the stack trace.

for example there is:
<pre>
4 F3_FLOW3::initializeResources(""TestPackage"")
</pre>
but in the code below you see, that this call hasn't any arguments:
<pre>
00123:   $this->initializeResources();
</pre>

In the next place the argument ""TestPackage"" would fit better:
<pre>
5 F3_FLOW3_Resource_Publisher::mirrorPublicPackageResources(""C:/xampp/htdocs/FLOW3/Public/Resources/TestPackage/Public/."")
</pre>
but as you can see, it also has the wrong argument there, and so on and so on...

Additional to that it is very disturbing that the arguments are shortened. if the argument is the browser window, which should be extended to wide, you at least could give the full argument as title parameter in the corresponding span."
513,TYPO3.Flow,Bug,"",Resolved,Must have,Resource manager does not handle links in public files correct,Malte Jansen,Karsten Dambekalns,2010-10-20 05:39,Resource,1.0 alpha 1,2008-05-10,"",2.00,100,2008-05-10 03:58,"","",1794200,"","","See the screenshot with firebug.

_Further details:_
The response for all files is the same file (the html-output).
In the ""Public""-folder the files are stored correctly.

"
670,TYPO3.Flow,Task,"",Resolved,Could have,Change @type annotation in configuration files to @var,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Configuration,"",2008-05-29,2008-05-30,1.00,100,2008-05-29 06:06,"","",2700,"","","As discussed on the list, we should switch to using @var. The configuration parser and documentation have to be adjusted as well, if necessary."
672,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Finish documentation about configuration in FLOW3,Karsten Dambekalns,Sebastian Kurfuerst,2011-08-04 02:43,- Documentation -,1.0 beta 1,2008-07-15,"",2.00,100,2008-05-29 06:33,"","",2750,2.00,"",The documentation about FLOW3 configuration needs to be updated and completed (do we still support PHP based configuration???)
702,TYPO3.Flow,Task,"",Resolved,Could have,RNG schema for Package.xml files is too strict,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Package,1.0 alpha 1,"","",0.00,100,2008-06-03 05:59,"","",2850,"","","A few issues:
* When defining such a file, the schema requires an @upload@ element to be present, which makes it impossible to have a valid file without an upload.
* @parties@ *must* have a @company@ element, which might not always be needed/possible"
718,TYPO3.Flow,Feature,"",Closed,Could have,make docCommentParser static,Robert Lemke,Robert Lemke,2010-10-20 05:39,Reflection,"",2008-06-06,"",0.00,0,2008-06-06 08:08,"","",1785700,"","",Currently the F3_FLOW3_Reflection_DocCommentParser is instantiated for each reflection - that's nonsense.
764,TYPO3.Flow,Feature,"",Resolved,Could have,Implement tagging support for Memcache backend,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Cache,"",2008-06-10,2008-06-11,0.00,100,2008-06-10 11:36,"","",1785650,"","","The caching framework allows for tagging of cache entries. This feature has not yet been implemented for the Memcache backend (but exists for the File backend).

Refer to the File backend's unit tests for how this needs to be implemented."
842,TYPO3.Flow,Bug,"",Closed,Could have, Some test fail on Windows,Christoph Blömer,Robert Lemke,2010-10-20 05:39,"","",2008-06-21,"",0.00,100,2008-06-21 07:08,"","",1785600,"","","I think these tests only fail on windows.

F3_FLOW3_Package_ManagerTest:
Failure in getPackageClassesPathReturnsClassesPathOfTestPackage Detail
D:\xampp\htdocs\demo\Packages\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1524
getPackageClassesPath() did not return the correct path for package ""TestPackage"". Failed asserting that <string:D:/xampp/htdocs/demo/Packages\TestPackage/Classes/> is equal to <string:D:/xampp/htdocs/demo/Packages/TestPackage/Classes/>. getPackageClassesPath() did not return the correct path for package ""TestPackage"".

F3_FLOW3_Cache_Backend_FileTest:
Failure in getCacheDirectoryReturnsThePreviouslySetDirectory Detail
D:\xampp\htdocs\demo\Packages\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1524
getDirectory() did not return the expected value. Failed asserting that <string:C:\Windows\temp\/> is equal to <string:C:\Windows\temp\>. getDirectory() did not return the expected value."
857,TYPO3.Flow,Bug,"",Resolved,Could have,Date is not save correctly in logfile,Malte Jansen,Bastian Waidelich,2010-10-20 05:39,Log,"",2008-06-25,"",0.00,100,2008-06-24 18:11,"","",1785550,"","","On line 75 of http://forge.typo3.org/repositories/entry/package-log/trunk/Classes/F3_Log_SimpleFileLogger.php

The dateformat '%y-%m-%d %T' must look like this '%y-%m-%d %H:%M:%S' although %T should be the same as %H:%M:%S. But windows leaves the time blank.

"
879,TYPO3.Flow,Bug,"",Closed,Could have,setValidator et al. are misleading method names,Robert Lemke,Andreas Förthner,2010-10-20 05:39,MVC,"",2008-06-26,"",0.00,0,2008-06-26 05:19,"","",1785500,"","","Method names such ""setValidator"" imply that the expected argument actually is a validator object. However in F3_FLOW3_MVC_Controller_Argument the expected argument is a class name.

Either rename the method to setNewValidator or change the method signature.

There are also a lot of tests missing for new methods introduced to F3_FLOW3_MVC_Controller_Argument."
880,TYPO3.Flow,Bug,"",Resolved,Must have,F3_FLOW3_MVC_Controller_ArgumentsValidator is untested,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2008-06-26,"",0.00,100,2008-06-26 05:38,"","",1794150,"","","There is no testcase yet for F3_FLOW3_MVC_Controller_ArgumentsValidator and isValidProperty() doesn't work really in a real-world application:

Fatal error: Call to a member function getValue() on a non-object in /Users/Shared/Sites/dev/t3v5/dist/Packages/FLOW3/Classes/MVC/Controller/F3_FLOW3_MVC_Controller_ArgumentsValidator.php on line 116

(as of r844)"
889,TYPO3.Flow,Feature,"",Resolved,Must have,Add a callback pointcut filter,Andreas Förthner,Robert Lemke,2010-10-20 05:39,AOP,"",2008-06-27,"",0.00,100,2008-06-27 08:32,"","",1785450,"","","There should be a pointcut filter, that calls a user function if it should match on a specific pointcut."
890,TYPO3.Flow,Feature,"",New,Should have,Add priority for advice chains,Andreas Förthner,Robert Lemke,2011-10-19 19:43,AOP,"",2008-06-27,"",0.00,0,2008-06-27 08:34,"","",1811100,"","","The order of running the advices in an advice chain, should be configurable over a priority. E.g. security advices have to be called at first."
917,TYPO3.Flow,Bug,"",Closed,Could have,F3_FLOW3_Package_ManagerTest shows 2 errors on WAMP installation,David Bruehlmeier,"",2010-10-20 05:39,Package,"",2008-06-30,"",0.00,0,2008-06-30 02:50,"","",1785400,"","","Hi,

I checked out the distribution from SVN as shown in the podcast. The default view is showing fine. When running the unit tests for the FLOW3 package, I get the following two errors:

<pre>
F3_FLOW3_Package_ManagerTest
Failure in getPackagePathReturnsTheCorrectPathOfTheTestPackage Detail
D:\Entwicklung\Projekte\PHP\FLOW3\Packages\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1524
getPackagePath() did not return the correct path for package ""TestPackage"". Failed asserting that <string:D:/Entwicklung/Projekte/PHP/FLOW3/Packages\TestPackage/> is equal to <string:D:/Entwicklung/Projekte/PHP/FLOW3/Packages/TestPackage/>. getPackagePath() did not return the correct path for package ""TestPackage"".
Failure in getPackageClassesPathReturnsClassesPathOfTestPackage Detail
D:\Entwicklung\Projekte\PHP\FLOW3\Packages\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1524
getPackageClassesPath() did not return the correct path for package ""TestPackage"". Failed asserting that <string:D:/Entwicklung/Projekte/PHP/FLOW3/Packages\TestPackage/Classes/> is equal to <string:D:/Entwicklung/Projekte/PHP/FLOW3/Packages/TestPackage/Classes/>. getPackageClassesPath() did not return the correct path for package ""TestPackage"".
Tests: 6 total, 0 skipped, 0 incomplete, 2 failed, 0 errors
</pre>

I have attached the phpinfo() so you can have a look at my installation (basically Windows XP with Apache 2.2.6 and PHP 5.2.4)

Greetings, Dave"
918,TYPO3.Flow,Bug,"",Resolved,Could have,F3_FLOW3_Cache_Backend_FileTest shows 2 errors on WAMP installation,David Bruehlmeier,Bastian Waidelich,2010-10-20 05:39,Cache,"",2008-06-30,"",0.00,100,2008-06-30 02:53,"","",1785350,"","","Hi,

I checked out the distribution from SVN as shown in the podcast. The default view is showing fine. When running the unit tests for the FLOW3 package, I get the following two errors:

<pre>
F3_FLOW3_Cache_Backend_FileTest
Failure in setCacheDirectoryThrowsExceptionOnNonWritableDirectory Detail
D:\Entwicklung\Projekte\PHP\FLOW3\Packages\FLOW3\Tests\Cache\Backend\F3_FLOW3_Cache_Backend_FileTest.php:81
setCacheDirectory() to non-writable directory did not result in an exception.
Failure in getCacheDirectoryReturnsThePreviouslySetDirectory Detail
D:\Entwicklung\Projekte\PHP\FLOW3\Packages\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1524
getDirectory() did not return the expected value. Failed asserting that <string:C:\WINDOWS\temp\/> is equal to <string:C:\WINDOWS\temp\>. getDirectory() did not return the expected value.
Tests: 17 total, 0 skipped, 0 incomplete, 2 failed, 0 errors
</pre>

I have attached the phpinfo() so you can have a look at my installation (basically Windows XP with Apache 2.2.6 and PHP 5.2.4)

Greetings, Dave
"
1064,TYPO3.Flow,Bug,"",Resolved,Should have,Non-existing configuration options should throw an exception,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Configuration,"",2008-07-15,"",0.50,100,2008-07-15 15:51,"","",1785300,"","","When accessing an option in a configuration container that has not been set (i.e. does not exist) an exception should be thrown. Currently an object is returned in all cases; if using that it may have unexpected results due to automatic typecasting in PHP (e.g. it evaluates to TRUE if used as boolean).

If an exception would be thrown the typo or missing configuration would be visible immediately."
1081,TYPO3.Flow,Bug,"",Resolved,Must have,Fatal Error on Windowsd due to not support functions (POSIX),Malte Jansen,"",2010-10-20 05:39,Utility,"",2008-07-17,"",0.00,100,2008-07-17 10:52,"","",1785250,"","","Following error occurs in the current trunk (r1024):

<pre>
Fatal error: Call to undefined function posix_getpwuid() in D:\workspace-flow3\htdocs\development\Packages\FLOW3\Classes\Utility\F3_FLOW3_Utility_Environment.php on line 283
</pre>

On php.net (http://de.php.net/manual/de/intro.posix.php) it says, that POSIX-functions are not supported on windows."
1092,TYPO3.Flow,Bug,"",Resolved,Should have,MVC - Arguments Validation on Arrays / MVC Validation,Daniel Poetzinger,Robert Lemke,2010-10-20 05:39,"","",2008-07-20,"",0.00,100,2008-07-20 16:47,"","",1785200,"","","Currently no filter to validate an Array (e.g. a serialized form with a certain namespace)

in the current concept something like register the argument in the controller like this would be good:

$this->arguments->addNewArgument('searchFilter','RecursiveTextArray');

or I also would like something like 
$this->arguments->addNewArgument('searchFilter','NoValidation');

also

$this->arguments->addNewArgument('searchFilter',''); throws currently a unfetched fatal error.

"
1132,TYPO3.Flow,Bug,"",Resolved,Should have,F3_FLOW3_Package_ManagerTest produces two failures on WAMP installation,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,Package,"",2008-07-26,"",0.00,100,2008-07-26 06:28,"","",1785150,"","","Running the FLOW3 Testrunner for ""F3_FLOW3_Package_ManagerTest"" results in two failures:
*getPackagePathReturnsTheCorrectPathOfTheTestPackage:*
<pre>
[...]\flow3\Packages\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1524
getPackagePath() did not return the correct path for package ""TestPackage"".
Failed asserting that <string:flow3/Packages\TestPackage/> is equal to <string:[...]/flow3/Packages/TestPackage/>.
getPackagePath() did not return the correct path for package ""TestPackage"".
</pre>"
1133,TYPO3.Flow,Task,"",Resolved,Should have,Create unit tests for F3_FLOW3_MVC_Web_Routing_Router,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,"",2008-07-26,"",0.00,0,2008-07-26 06:41,"","",6150,"","","Until now, only tests for routing components exist. The router itself is not properly covered by the unit tests."
1134,TYPO3.Flow,Bug,"",Resolved,Should have,F3_FLOW3_Utility_EnvironmentTest produces an error on WAMP installations,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,Utility,"",2008-07-26,"",0.00,100,2008-07-26 06:47,"","",1785100,"","","Running the FLOW3 Testrunner for ""F3_FLOW3_Utility_EnvironmentTest"" results raises one failure:
*getPathToTemporaryDirectoryReturnsPathWithTrailingSlash*:
<pre>
[...]\flow3\Packages\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1524
The temporary path did not end with slash (as in DIRECTORY_SEPARATOR). Failed asserting that <string:/> is equal to <string:\>. The temporary path did not end with slash (as in DIRECTORY_SEPARATOR).
</pre>"
1198,TYPO3.Flow,Bug,"",Resolved,Should have,Different return values  for findEntriesByTag in cache fiel backend and memcached backend,Ingo Renner,Karsten Dambekalns,2010-10-20 05:39,Cache,"",2008-08-01,"",0.00,100,2008-08-01 05:55,"","",1785050,"","","The cache backedns file and memcached return different values for the method findEntriesByTag.

While the cache backend returns an array of identifiers, the memcached backend returns complete cache entries."
1199,TYPO3.Flow,Feature,"",Resolved,Must have,Add a method findByTag() to F3_FLOW3_Cache_AbstractCache,Ingo Renner,Karsten Dambekalns,2010-10-20 05:39,Cache,1.0 alpha 1,2008-08-22,"",0.00,100,2008-08-01 05:57,"","",1794100,"","","Although one can store cache entries with tags, one can only load cache entries by identifier. Thus a method findByTag() would be useful."
1200,TYPO3.Flow,Bug,"",Resolved,Must have,F3_FLOW3_Cache_Backend_File does not honor an entries lifetime,Ingo Renner,Karsten Dambekalns,2010-10-20 05:39,Cache,"",2008-08-01,"",0.00,100,2008-08-01 05:58,"","",1785000,"","",The file backend returns cache entries older than their supposed lifetime
1209,TYPO3.Flow,Task,"",Resolved,Could have,Make @required default and add @optional instead,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Object,"","","","",100,2008-08-04 07:48,"","",6450,"","","Setter injection methods can currently be annotated with @required. It seems to be that most injected dependencies are required, so this should be the default and instead optional dependencies should be marked with @optional."
1226,TYPO3.Flow,Feature,"",Resolved,Should have,Package manager should take additional package paths into account,Sebastian Kurfuerst,Robert Lemke,2010-10-20 05:39,Package,1.0 alpha 1,2008-08-05,"","",0,2008-08-05 09:48,"","",1794050,"","","Hey,

it would be really nice if the package manager would take additional package directories into account, so the packages could be located at multiple places.

Greets,
Sebastian"
1235,TYPO3.Flow,Feature,"",Closed,Should have,Check if mod_rewrite is enabled,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,"","",2008-08-06,"","",0,2008-08-06 05:01,"","",1784950,"","","FLOW3 should check (somehow) if mod_rewrite is enabled. Without the check the user will just get an internal server error.

One way to do that is adding an IfModule section into the .htaccess and let the FLOW3 checkEnvironment() care about the details and issue an error message."
1250,TYPO3.Flow,Feature,"",Resolved,Should have,Add support for multiple route parts in one URL pattern segment,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,"",2008-08-08,"","",100,2008-08-08 06:36,"","",1784900,"","","Currently only one route part is allowed between two slashes in a route URL pattern:
news/[id]
we need support for more than one dynamic route part in one segment to enable URL patterns like:
news/[id].[@format]
or
user/[firstName]-[lastName]"
1251,TYPO3.Flow,Feature,"",Resolved,Should have,Add route part handler support,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,"",2008-08-08,"","",100,2008-08-08 06:42,"","",1784850,"","","Route part handlers are classes which follow a certain interface and can resolve one ore more URL segments as well as build up URL parts from given data.
E.g. we'll need a route part handler to resolve titles of TYPO3 pages.
The configuration will look something like

    $c->myRoute
        ->setUrlPattern('[language]/[[page]]/[[pluginOptions]]')
        ->setDefaults(
            array(
                'package' => 'TYPO3',
                'controller' => 'Page',
                'action' => 'default',
                'language' => 'en'
            )
        )
        ->setRoutePartHandlers(
            array(
                'language' => 'F3_L10N_Routing_ISOResolver',
                'page' => 'F3_TYPO3_Routing_PageResolver',
                'pluginOptions' => 'F3_TYPO3_Routing_PluginResolver'
            )
        ); "
1253,TYPO3.Flow,Task,"",Resolved,Should have,Enable lower case URLs,Bastian Waidelich,Robert Lemke,2010-10-20 05:39,MVC,"",2008-08-08,"","",100,2008-08-08 06:48,"","",6550,"","","Currently FLOW3s routing mechanism is case sensitive. As All Packages and Controller start with an upper case letter, this leads to URLs like
http://domain/MyPackage/MyController/Default
which is rather confusing.

Although upper case letters are supported in URLs (after the host part that is), we decided to go with lower case URLs for now as it's common practice.
When needed we'll add some configuration option to re-enable case sensitive URLs globally or on a route(part) basis."
1257,TYPO3.Flow,Bug,"",Resolved,Must have,The dirty monitoring aspect works only for classes actually having a constructor.,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2008-08-11,"","",100,2008-08-08 14:11,"","",1784800,"","","When cerating an entity class, the registerNewObject() advice only works if the target class actually has a constructor. This is caused by the use of @afterreturning in conjunction with __construct.

Two possible ways out of this:
* use introduction if no constructor is present
* instead of using an advice hook into the component factory - if one uses new to create an object it won't be an AOP proxy anyway and persistence fails in any case

"
1264,TYPO3.Flow,Bug,"",Resolved,Must have,"Routes with default values for ""multiple route part"" segments are not resolved correctly",Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,"",2008-08-11,"","",100,2008-08-11 14:06,"","",1784750,"","","With the new possibility to add multiple route parts in one URL pattern segment (see #1250) a new issue emerged:
The route ""[firstName]-[lastName]/[@action]"" is not resolved correctly if defaults are set for lastName and @action and lastName is empty in request URL (e.g. ""john-/list"").
This happens because static route part handler cuts first url segment from request path when matching the hyphen."
1267,TYPO3.Flow,Feature,"",Resolved,Must have,Make CLI requests to controllers in subpackage possible,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,MVC,"",2008-09-23,"","",100,2008-08-12 05:17,"","",1784700,"","","While the web router allows for routing of requests to subpackages, CLI requests to controllers in subpackages are currently impossible."
1268,TYPO3.Flow,Task,"",Resolved,Should have,"CLI options must be written as ""real"" options, being prefixed with a (double) dash",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,MVC,"",2008-09-23,"","",100,2008-08-12 05:24,"","",6650,"","","Currently anything following the first three arguments to a CLI request is considered as options. This should be changed so that only short- or long-style options are considered, anything else should be ""input"", as with traditional CLI tools.

Alternatively this could be anything after a double-dash, to make variable numbers of package/controller/action arguments possible (see #1267)."
1278,TYPO3.Flow,Bug,"",Resolved,Must have,Router matches static route parts even on substrings,Robert Lemke,Bastian Waidelich,2010-10-20 05:39,MVC,"",2008-08-13,"","",100,2008-08-13 10:26,"","",1784650,"","","Consider these two routes:

1) typo3/[@controller]
2) typo3cr/[@controller]

Currently route 1) will match this url pattern:

http://myhost/typo3cr/

... because the static route part does not know that the segment is longer
than 5 characters, the ""typo3"" pattern will match. This is due to the ability
to match patterns like ""typo3/[@controller]/[@action].[@format]""

The static route part does not have the split string information and therefore
cuts off the beginning of the url according to the length of the ""name""."
1280,TYPO3.Flow,Task,"",Resolved,Must have,Tag all classes as @internal - except the released API,Robert Lemke,Robert Lemke,2010-10-20 05:39,- Documentation -,1.0 alpha 1,2008-08-14,2008-09-15,"",100,2008-08-14 09:09,"","",6950,"","","Starting with the first release of FLOW3 we need to communicate which APIs are safe for use in third-party packages and which ones you should better avoid. This should be done through the API documentation - all classes and methods which are documented there, may be used.

In order to create that source of information we need to initially tag all classes as @internal and then remove the annotation from all classes we want to release as public API."
1292,TYPO3.Flow,Feature,"",Resolved,Should have,Introduce @identifier annotation for objects,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2008-08-25,"","",100,2008-08-18 08:50,"","",1784600,"","",With the @identifier annotation an object could mark it's internal identifier as usable towards persistence. The persistence layer would then use that when persisting the object and restore that identifier upon reconstitution of an object.
1315,TYPO3.Flow,Bug,"",Closed,Must have,Routing: URLs with/without trailing slash change meaning of relative links,Matthias Hörmann,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2008-08-22,"","",0,2008-08-22 06:17,"","",1794000,"","","Both the URLs e.g. /typo3cr/setup and /typo3cr/setup/ call the same controller code.

If a relative link to e.g. ""install"" is created in that code it will point to either
""/typo3cr/install"" or ""/typo3cr/setup/install"" depending on the URL used.

Suggested solution:

Add the trailing slash before calling the controller code so both versions
give the same result."
1349,TYPO3.Flow,Bug,"",Resolved,Should have,Remove MVC\View\Template (was: Method MVC\View\Template->substitutePart is not used and empty),Sebastian Kurfuerst,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2008-08-26,"","",100,2008-08-26 08:24,"","",1793950,"","","Hello,

I think that the method F3_FLOW3_MVC_View_Template->substitutePart can be removed, as it looks like the following:

<pre>
	/**
	 * Substitutes a subpart in $content with the content of $subpartContent.
	 *
	 * @param string Content with subpart wrapped in fx. ""###CONTENT_PART###"" inside.
	 * @param string Marker string, eg. ""###CONTENT_PART###""
	 * @param array
	 * @return string Processed input content
	 * @author Robert Lemke <robert@typo3.org>
	 */
	protected function substitutePart($subject, $marker, $replacement) {
	}
</pre>"
1355,TYPO3.Flow,Bug,"",Resolved,Must have,initalize should be initialize,Sebastian Kurfuerst,Karsten Dambekalns,2010-10-20 05:39,MVC,"",2008-08-26,"","",100,2008-08-26 09:37,"","",1784550,"","","Hello,

I just tried to work with the F3_FLOW3_MVC_Controller_ActionController and just stumbled about a really hard-to-spot naming error:

in Function callActionMethod: 
<pre>
if ($this->initalizeView) $this->initializeView();
</pre>
in the if-clause, it should read $this->init*i*alizeView
Of course, the variable name and the variable name comment needs to be changed as well.

Should I just go ahead and fix this?

Greets,
Sebastian"
1402,TYPO3.Flow,Bug,"",Resolved,Should have,Opening Public directory: PHP Error,IT Corporation,"",2010-10-20 05:39,"","",2008-08-28,"","",100,2008-08-28 09:46,"","",1784500,"","","I get this error, if i open the public dirctory in opera:

Warning: require(__DIR__/../Packages/FLOW3/Classes/F3_FLOW3.php) [function.require]: failed to open stream: No such file or directory in C:\Programme\Apache Software Foundation\Apache2.2\htdocs\aa\2\trunk\Public\index.php on line 27

Fatal error: require() [function.require]: Failed opening required '__DIR__/../Packages/FLOW3/Classes/F3_FLOW3.php' (include_path='.;C:\php5\pear') in C:\Programme\Apache Software Foundation\Apache2.2\htdocs\aa\2\trunk\Public\index.php on line 27

PHP Version: 5.2.5 (need i version 5.2.6)
MysqlVersion: 5.0.0
Apache 2
"
1454,TYPO3.Flow,Task,"",Resolved,Should have,Integrate Log Package into FLOW3,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,Log,"",2008-09-02,"","",100,2008-09-02 06:32,"","",8050,"","","Currently Logging resides in its own package ""Log"".
A basic logging mechanism should be integrated into the FLOW3 package (and possibly extended by packages)."
1456,TYPO3.Flow,Bug,"",Resolved,Should have,Empty array causes PDO exception if not documented as @reference,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2008-09-02,"","",100,2008-09-02 11:59,"","",1784450,"","","Consider this model:

<pre>
/**
 *@entity
 */
class {
   /**
    * @var array
    */
   protected $subObjects = array();

}
</pre>

This will result in a PDO exception because the type of the array items cannot be determined and no @reference annotation is given.

Even if multi-value properties of different types are not allowed (yet), there should be some proper handling for these cases."
1501,TYPO3.Flow,Feature,"",Resolved,Should have,MVC: initializeView,Daniel Poetzinger,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2008-09-12,"",1.00,100,2008-09-12 04:08,"","",1793900,"","","Just an idea:

I would like to split the current initializeView into two methods:

detectViewForCurrentAction()  (returns a view or emptyView)

initializeView($view)  (that initialisze a view with controller context)


That way if required you are also able to set your own view in your action like:


myAction() {

//...some logik
$newView=...
$this->initializeView($newView);

...


"
1511,TYPO3.Flow,Feature,"",Resolved,Must have,"Create a ""Not Found"" Controller",Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"",2008-09-14,"","",100,2008-09-14 13:24,"","",1784400,"","","Currently a ""No such controller"" exception is thrown if a matching controller is not found. This exception should either be catched or removed and transformed into a redirection to a 404 Not Found controller.

There should be a default 404 controller and the ability to easily define a custom view or whole controller."
1513,TYPO3.Flow,Feature,"",Resolved,Should have,Add magic call method to the Empty View,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,"",2008-09-15,"","",100,2008-09-15 04:22,"","",1784350,"","","The Empty View is meant as a Special Case for situations in which no matching view could be resolved. However, most views come with their own specific methods (such as setters for models etc.) which then result in a fatal error because the Empty View doesn't have these methods.

A magic __call() method should solve this issue."
1514,TYPO3.Flow,Feature,"",Resolved,Could have,Add Event-Dispatcher,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,SignalSlot,"",2008-09-15,"","",100,2008-09-15 06:04,"","",1784300,"","",Implement Event-Dispatcher pattern in order to get some kind of hook-mechanism into FLOW3.
1518,TYPO3.Flow,Bug,"",Closed,Must have,"FLOW3 crashes during the init, due to namespace",Malte Jansen,"",2010-10-20 05:39,"","",2008-09-15,"","",100,2008-09-15 09:21,"","",1784250,"","","Hi!
I just made a synchronization and now get following error:

<pre>
Fatal error: Class 'F3_FLOW3_Error_DebugExceptionHandler' not found in ...\Packages\FLOW3\Classes\F3_FLOW3.php on line 244
</pre>



F3_FLOW3.php (r1210)
<pre>
242: $errorHandler = new F3::FLOW3::Error::ErrorHandler();
243: $errorHandler->setExceptionalErrors($this->settings->errorHandler->exceptionalErrors);
244: new $this->settings->exceptionHandler->className;
</pre>

So, it's seems to me, that in className the old style of a class Name is used.

System: WindowsXP, Xampp with PHP5.3, mbstring,...
"
1523,TYPO3.Flow,Task,"",Resolved,Should have,Rename Reflection classes,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Reflection,"",2008-09-16,"","",100,2008-09-16 04:21,"","",8450,"","","After the introduction of namespaces, the *_Reflection_Class has been renamed to *::ReflectionClass. Some other classes need to be renamed as well and these classes should be named SomethingReflection rather than ReflectionSomething:

F3::FLOW3::Reflection::ReflectionClass -> F3::FLOW3::Reflection::ClassReflection
F3::FLOW3::Reflection::Method -> F3::FLOW3::Reflection::MethodReflection
F3::FLOW3::Reflection::Property -> F3::FLOW3::Reflection::PropertyReflection
F3::FLOW3::Reflection::ReflectionClassFactory -> (removed)


"
1528,TYPO3.Flow,Feature,"",Resolved,Must have,Add new pointcut designator for checks against configuration,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,AOP,1.0 alpha 1,2008-09-16,"","",100,2008-09-16 11:27,"","",1793850,"","",To allow activation/deactivation of advice it would be nice to have a new pointcut designator that checks against the given configuration path and returns a boolean depending on the configuration value found.
1543,TYPO3.Flow,Feature,"",Resolved,Must have,Support 1-1 object references,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2008-09-17,"","",100,2008-09-17 11:12,"","",1784200,"","","/**
 *@entity
 */
class Site {

	/**
	 * @var F3::TYPO3::Domain::StructureNode
	 * @reference
	 */
	protected $rootNode;

}

Results in:

#1: Catchable Fatal Error: Argument 1 passed to F3::FLOW3::Persistence::Manager::traverseAndInspectReferenceObjects() must be an array, object given, called in /Users/Shared/Sites/dev/t3v5/dist/Packages/FLOW3/Classes/Persistence/F3_FLOW3_Persistence_Manager.php on line 202 and defined in /Users/Shared/Sites/dev/t3v5/dist/Packages/FLOW3/Classes/Persistence/F3_FLOW3_Persistence_Manager.php line 186
"
1634,TYPO3.Flow,Feature,"",Resolved,Should have,Allow omitting the @reference annotation for object properties,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2008-10-02,"","",100,2008-10-02 07:10,"","",1784150,"","","Currently all properties of type object which are supposed to be persisted need to be annotated as a reference:

<pre>
	/**
	 * Content attached to this structure node
	 *
	 * @var F3::TYPO3::Domain::Model::ContentInterface
	 * @reference
	 */
	protected $content;
</pre>

I'd say that this is counter-intuitive for most developers. Ideally the persistence framework would recognize object properties and assume that they are references:

<pre>
	/**
	 * Content attached to this structure node
	 *
	 * @var F3::TYPO3::Domain::Model::ContentInterface
	 */
	protected $content;
</pre>

If the object should not be persisted, @transient is used (as usual).

"
1635,TYPO3.Flow,Bug,"",Resolved,Must have,Routing: Routes should ignore query parameters if not configured,Karsten Dambekalns,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2008-10-02,"","",100,2008-10-02 10:28,"","",1793800,"","","Currently a route behaves weird if a query is given but not configured. Consider this example:

<pre>
$c->TYPO3Route_ServiceWithControllerAndFormat
	->setUrlPattern('typo3/service/v1/[@controller].[@format]')
	->setControllerComponentNamePattern('F3::@package::Service::Controller::@controllerController')
	->setViewComponentNamePattern('F3::@package::Service::View::@controller::@action@format')
	->setDefaults(
		array(
			'@package' => 'TYPO3',
		)
	);
</pre>

Now calling the URLs as following results in...

http://site/typo3/service/v1/sites.json
 => correct output
http://site/typo3/service/v1/sites.json?something
 => An invalid request format (json?something) was given.

Not good. Trying to add ? to the end:
<pre>
$c->TYPO3Route_ServiceWithControllerAndFormat
	->setUrlPattern('typo3/service/v1/[@controller].[@format]?')
</pre>

Still the same results.

Workaround: add ""?[@dummy]"" to the pattern, and it works.
<pre>
$c->TYPO3Route_ServiceWithControllerAndFormat
	->setUrlPattern('typo3/service/v1/[@controller].[@format]?[@dummy]')
</pre>

Expected solution:
* ignore a query if not needed

"
1644,TYPO3.Flow,Bug,"",Resolved,Must have,Redirects after StopAction exceptions not carried out correctly,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,MVC,"",2008-10-03,2008-10-03,"",100,2008-10-03 10:29,"","",1784100,"","","When calling the backend of the TYPO3 package without a valid login one would get the backend HTML delivered - and after that would be the redirect HTML produced by getPreparedController() in case authentication is required. The request inside that method itself was correct, including 302 status code and location header. But, since the StopAction exception was ignored, the dispatcher got the LoginController next and continued processing the reuqest, overriding the ""failure"", and bang - here you are."
1663,TYPO3.Flow,Feature,"",Resolved,Should have,Make session save path configurable for PHP session backend,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Session,1.0 alpha 5,2008-10-08,"","",100,2008-10-08 06:02,"","",1798100,"","",The path should point to our temporary path by default. This is to avoid bugs like the one described in http://lists.netfielders.de/pipermail/typo3-project-5_0-general/2008-October/001180.html
1676,TYPO3.Flow,Feature,"",Resolved,Could have,"FLOW3, Persistence: support for ""magic finder methods""",Bastian Waidelich,"",2010-10-20 05:39,"","",2008-10-11,"","",100,2008-10-11 05:02,"","",1784050,"","","it would be great, if the base repository would offer interceptor methods returning a subset of stored objects based on properties.
This could look something like:

<pre>
$customerRepository->findByName('Skårhøj');
</pre>

returning an array of customer objects with the property ""name"" of ""Skårhøj"". And:
<pre>
$customerRepository->findOneByName('Skårhøj');
</pre>

to return the first matching object. And maybe something like:

<pre>
$customerRepository->find($id);
</pre>

to return a single object with a matching identifier property.


"
1677,TYPO3.Flow,Feature,"",Resolved,Could have,Query: add convenience method returning the first object of a result set,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2008-10-11,"","",100,2008-10-11 05:09,"","",1784000,"","","To retrieve one single object from a repository, one has to do something like this currently:

<pre>
$objects = $query->execute();
if (count($objects) < 1) {
  return NULL;
}
return $objects[0];
</pre>

Something like a ""fetchOne()""-method in F3::TYPO3CR::Query::Query would be helpful:

<pre>
$query->execute()->fetchOne();
</pre>

or probably more like that

<pre>
$query->fetchOne();
</pre>

this could also set the limit to 1 to improve performance."
1724,TYPO3.Flow,Bug,"",Resolved,Must have,Unserialzing of persisted objects will call the __wakeup function,Christian Jul Jensen,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2008-10-15,"","",100,2008-10-15 12:52,"","",1783950,"","","If a user for some reason wants to serializa an object that has been persisted, it will call the persistence frameworks __wakeup function upon unserializing, which will expect stuff to be available in $GLOBALS and then fail.

I didn't test it, just came across looking into the persistence code."
1727,TYPO3.Flow,Bug,"",Resolved,Should have,Unable to install FLOW3/TYPO3v5 (Uncaught FLOW3 Exception),Peter Beernink,Karsten Dambekalns,2010-10-20 05:39,Configuration,"",2008-10-16,"","",100,2008-10-16 02:58,"","",1783900,"","","After checking out FLOW3 (r1360) or TYPO3v5 (r838) from the SVN repository, I get an uncaught FLOW3 Exception (The controller component ""f3::flow3::controller::defaultcontroller"" does not exist.) when I run the install.sh

I've also tried to access the installation without running the installer but than I get a F3::TYPO3CR::StorageException.

I'm running these tests on a debian 4.0 machine, with php5.3a1 compiled on it.
I've attached my install.conf and the output of my install.sh session.

If you need any additional information, I'm happy to provide it."
1785,TYPO3.Flow,Feature,"",New,Must have,Automatic garbage collection for expired cache entries,Robert Lemke,"",2011-10-19 19:43,Cache,"",2008-10-22,"","",0,2008-10-22 17:02,"","",1783850,"","",Expired cache entries - even those of caches which are not registered (anymore) - should be cleaned up from time to time by a garbage collection.
1786,TYPO3.Flow,Feature,"",Closed,Must have,findByTag support for the cache frontend,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Cache,"",2008-10-22,"","",0,2008-10-22 17:04,"","",1783800,"","",Cache entries need to be found by tag through the cache frontend. That method is still missing ...
1787,TYPO3.Flow,Feature,"",Resolved,Must have,Improved cache registration,Robert Lemke,"",2010-10-20 05:39,Cache,1.0 alpha 1,2008-10-22,"","",100,2008-10-22 17:06,"","",1793750,"","",Currently there is no fixed time during the app flow when a cache needs to be registered. That might / will raise problems with garbage collection etc. and therefore needs to be improved (eg. register caches by configuration and not through php code)
1789,TYPO3.Flow,Feature,"",Resolved,Must have,Routing: Implement automatic UUID to object conversion,Bastian Waidelich,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2008-10-23,"","",100,2008-10-23 04:38,"","",1793700,"","","Fluid already converts objects used as arguments for URIs (in forms and action links) to uuids and if no custom route is specified, the router adds them as regular GET parameters:

http://myhost/foo/bar?baz=297f1954-3904-4824-94c9-3b66d46f2e74

In the example above ""baz"" is an controller argument of some object type which has been converted to its uuid by Fluid. What we need now is the counterpart which transparently converts the uuid into an object."
1790,TYPO3.Flow,Feature,"",Resolved,Must have,Routing: optional RouteParts,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2008-10-23,"","",100,2008-10-23 04:40,"","",1793650,"","","We were thinking about a possibility to mark parts of the uriPattern optional. This could look something like:

<pre>
$c->TYPO3Route_ServiceWithControllerAndFormat
    ->setUrlPattern('typo3/service/v1/[@controller].[@format](?orderby=[orderby])')
    ->setControllerComponentNamePattern('F3::@package::Service::Controller::@controllerController')
    ->setViewComponentNamePattern('F3::@package::Service::View::@controller::@action@format')
    ->setDefaults(
        array(
            '@package' => 'TYPO3',
            'orderby' => 'id'
        )
    );
</pre>

the query part would be optional in this example. This would help to drastically reduce the amount of routes. You could do something like this too:
<pre>
$c->myRoute
    ->setUrlPattern('typo3/service/v1/[@controller](.[@format])')
    ...
</pre>
to mark the format suffix optional.

We'll have to resolve some logical challenges though.
E.g. we'll have to dissallow routes like this one:

<pre>
$c->impossibleRoute
    ->setUrlPattern('static/[dynamic1](optional)[dynamic2]')
    ...
</pre>

because the routing mechanismn could not tell where [dynamic1] ends."
1791,TYPO3.Flow,Feature,"",Resolved,Must have,Routing: Implement Caching,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2008-10-23,"","",100,2008-10-23 04:48,"","",1793600,"","","Routes are not cached at the moment.
Todo:
* Whenever calling match() or resolve() the Cache must be checked for applicable entries.
* Whenever a route matches, the current URI and it's ""matchingValues"" must be stored in the Cache.
* Whenever a route was resolved, the current ""routeValues"" and it's ""matchingURI"" must be stored in the Cache."
1794,TYPO3.Fluid,Task,"",Resolved,Should have,"Rename ""DynamicNode""",Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-10-23,"","",100,2008-10-23 09:39,"","",9400,"","","Right now we have four kinds of ""nodes"":
* ObjectAccessorNode
* TextNode
* RootNode
* DynamicNode

(There will be another node for array arguments).

""DynamicNode"" isn't an appropriate name, as all nodes are kind of dynamic (except for the TextNode).

Todo: find a better name ;)"
1795,TYPO3.Fluid,Task,"",Resolved,Should have,Restructure Node Architecture,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-10-23,"","",0,2008-10-23 09:53,"","",9450,"","","Currently we have:
* AbstractNode [implements NodeInterface]
* * ObjectAccessorNode
* * TextNode
* * DynamicNode
* * RootNode

NodeInterface contains four methods renderSubtree(), evaluateSubtree(), addToContext(), removeFromContext(). They are actually only supported by DynamicNode. So we rather need something like:

* AbstractNode
* * ObjectAccessorNode
* * TextNode
* * DynamicNode [implements TreeInterface, ContextNodeInterface]
* * RootNode [implements TreeInterface]

(""TreeInterface"" and ""ContextNodeInterface"" are no adequate names at all, I just can't think of better ones at the moment).


"
1796,TYPO3.Fluid,Task,"",Resolved,Should have,ubiquitous naming,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-10-23,"","",100,2008-10-23 09:58,"","",9500,"","","To avoid introducing a lot of new designators and methods we should unify the naming.
That is (for example):
* renderSubtree() -> renderChildNodes()
* evaluateSubtree() -> evaluateChildNodes()
* $subnodes -> $childNodes
* addSubNode() -> addChildNode()"
1822,TYPO3.Flow,Task,"",Closed,Could have,"Tag SVN before major changes and ""stable"" versions",Daniel Poetzinger,"",2010-10-20 05:39,"","",2008-10-25,"",0.50,0,2008-10-24 18:23,"","",9650,"","","Just a hint or comment:

Would be cool to have sme tags for a working vrsion of the FLOW3 Distribution folder and/or also before major refactorings?

e.g. 
svn co -r 1206 https://svn.typo3.org/FLOW3/Distribution/trunk/

should imho be the last version before namespaces."
1843,TYPO3.Flow,Task,"",Resolved,Must have,Check file cache backend,Karsten Dambekalns,"",2010-10-20 05:39,Cache,1.0 alpha 1,2008-10-27,"","",100,2008-10-27 12:56,"","",9800,"","",Make sure it does all it needs to do and does it well.
1844,TYPO3.Flow,Task,"",Resolved,Must have,Check memcached cache backend,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Cache,1.0 alpha 1,2008-10-27,"","",100,2008-10-27 12:58,"","",9850,"","",Make sure it does all it needs to do and does it well.
1846,TYPO3.Flow,Task,"",Resolved,Must have,Rename getComponent() to create() in component factory,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-10-27,"","",100,2008-10-27 13:01,"","",9900,"","",.
1847,TYPO3.Flow,Feature,"",Resolved,Must have,ComponentFactory->create() throws an exception on trying to create a component of singleton scope,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-10-27,"","",100,2008-10-27 13:03,"","",1793550,"","",.
1848,TYPO3.Flow,Feature,"",Closed,Must have,ComponentManager->getComponent() throws an exception on trying to retrieve a component of prototype scope,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-10-27,"","",0,2008-10-27 13:03,"","",1793500,"","",.
1849,TYPO3.Flow,Feature,"",Resolved,Must have,Inject dependencies after object reconstitution,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Object,1.0 alpha 1,2008-10-27,"","",100,2008-10-27 13:07,"","",1793450,"","",.
1852,TYPO3.Flow,Feature,"",Resolved,Must have,Add YAML configuration source,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Configuration,1.0 alpha 1,2008-10-27,"","",100,2008-10-27 13:10,"","",1793400,"","",.
1856,TYPO3.Flow,Feature,"",New,Should have,The Package Manager checks dependencies between packages on each activation / deactivation,Karsten Dambekalns,Christopher Hlubek,2010-10-20 05:39,Package,"",2008-10-27,"","",0,2008-10-27 13:20,"","",1783750,"","",.
1882,TYPO3.Flow,Feature,"",Resolved,Must have,Objects can be deleted,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 1,2008-10-27,"","",100,2008-10-27 13:53,"","",1793350,"","",.
1884,TYPO3.Flow,Feature,"",Resolved,Should have,Add more query options,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2008-10-27,"","",100,2008-10-27 13:56,"","",1803550,"","","-Querying is very basic right now.-

When doing a query against object properties the following should work:
* equality
** -checking against an object should work-
** checking against a value contained in an array/SplObjectStorage should work
* -lessThan, greaterThan, lessThanOrEqual, greaterThanOrEqual-
* -like-
* something along the lines of IN(...)
"
1891,TYPO3.Flow,Task,"",Resolved,Must have,Adjust license to LGPL,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,"",1.0 alpha 1,2008-10-28,"","",100,2008-10-28 08:03,"","",10100,"","",.
1907,TYPO3.Fluid,Feature,"",New,Could have,Default values for view helpers based on context,Sebastian Kurfuerst,"",2014-03-10 12:53,Core,"",2008-10-29,"","",0,2008-10-29 11:34,"","",2602550,"","","We should supply a mechanism in the ""ViewHelperNode"" which will merge the given parameters with certain default parameters.

The default parameters should be context dependent (However, we don't know yet how this might look like).

This would be helpful for numerous cases:

* <f3:uri.linkTo> -> ""action"", ""controller"", and ""package"" arguments could be supplied if no other parameter given
* Link parameters - we could realize something like ""keepPIVars"" with this feature
* <f3:image> tag - supplying default parameters for maxWidth, maxHeight, ..."
1927,TYPO3.Fluid,Bug,"",Resolved,Should have,Rename context to VariableContainer,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-10-31,"","",0,2008-10-31 08:32,"","",2602500,"","","We just decided, that we should rename the ""Context"" to ""VariableContainer"", as this is more appropriate on what it does.

""Context"" might be used differently - let's see."
1928,TYPO3.Fluid,Bug,"",Rejected,Should have,Fail silently in production mode,Sebastian Kurfuerst,"",2011-05-05 12:27,"","",2008-10-31,"","",0,2008-10-31 08:33,"","",2602450,"","",All runtime exceptions should be caught in production mode and outputted somewhere else.
1929,TYPO3.Fluid,Bug,"",Resolved,Must have,HTMLSPECIALCHAR OUTPUT,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"",1.0.0 alpha 1,2008-10-31,"","",100,2008-10-31 08:35,"","",2603150,"","","HTMLSpecialChar has to be switched on somewhere (where?), and then each view helper will automatically htmlspecialchar the output coming from ObjectAccessors. (""render""-method in ObjectAccessor)"
1930,TYPO3.Fluid,Bug,"",Resolved,Should have,Use class-based view helpers,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-10-31,"","",100,2008-10-31 08:35,"","",2602400,"","","after some really long long discussions with bastian, we decided that view helpers should be class-based. Finally ;-)"
1947,TYPO3.Flow,Feature,"",Resolved,Could have,Implement session scope for object manager,Karsten Dambekalns,Andreas Förthner,2010-10-20 05:39,Object,1.0 alpha 3,"","","",0,2008-11-04 07:26,"","",1796350,"","",We need to implement @@scope session@
1948,TYPO3.Flow,Bug,"",Resolved,Must have,Fatal error when tokens are retrieved from session,Karsten Dambekalns,Andreas Förthner,2010-10-20 05:39,Security,1.0 alpha 1,2008-11-04,"","",100,2008-11-04 07:27,"","",1793300,"","","As soon as a session is present FLOW3 is unable to start up because of
@Fatal error: Call to a member function getPOSTArguments() on a non-object in .../F3_FLOW3_Security_Authentication_Token_UsernamePassword.php on line 145@

This is caused by the token trying to use @$this->environment@ after being fetched from a PHP session in ContextHolderSession. This must be fixed ASAP, e.g. by making sure the inject* methods are called after the context holding the tokens is woken up.

In a later stage this should be using session scope with the component manager (see #1947)."
1985,TYPO3.Fluid,Feature,"",Resolved,Should have,"Rename core classes to ""Core""",Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-07,"","",100,2008-11-07 16:41,"","",2602350,"","",Rename standard classes to core package
1986,TYPO3.Fluid,Bug,"",Resolved,Should have,changes in TemplateView,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-07,"","",100,2008-11-07 16:45,"","",2602300,"","",rename templatePath to templatePattern inside templateview
1987,TYPO3.Fluid,Feature,"",Resolved,Should have,TemplateView,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-07,"","",100,2008-11-07 16:47,"","",2602250,"","","TemplateView should add ""view"" (itself) to context"
1988,TYPO3.Fluid,Feature,"",Resolved,Should have,create multiple facets(=Interfaces) for ViewHelpers,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-07,"","",100,2008-11-07 16:48,"","",2602200,"","","- ""onParse"" facet
- ""useChildNodes"" facet"
1991,TYPO3.Flow,Feature,"",Resolved,Should have,AbstractView should have access to request in initialaizeView(),Sebastian Kurfuerst,"",2010-10-20 05:39,MVC,1.0 alpha 1,2008-11-08,"","",0,2008-11-08 04:24,"","",1793250,"","","Hello,

I think it would make sense if the AbstractView had access to the $this->request in the $this->initializeView method available, as many initializations might need the current controller, ... to resolve a template path, for example.

Greets,
Sebastian"
1992,TYPO3.Fluid,Bug,"",Resolved,Should have,test scope prototype,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-08,"","",100,2008-11-08 04:34,"","",2602150,"","",in viewhelpernode
2109,TYPO3.Flow,Feature,"",Resolved,Should have,Support constructor / factory arguments in Objects injection configuration,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-11-10,"","",100,2008-11-10 11:48,"","",1793200,"","","Currently it is not possible to pass (constructor) arguments or properties (for setter injection) to the object which is supposed to be injected into another object. In order to support this, the configuration syntax for the Objects.* file needs to be enhanced (and while we're at it, cleaned up a bit).

As soon as the object framework supports custom factories, the syntax needs to reflect that, too.

Example:

<pre>
F3\Test\Controller\DefaultController:
??properties:
????cache:?
??????object:
????????factoryClassName:?F3\FLOW3\Cache\Factory
????????arguments:
??????????1:?value:?MyCache
??????????2:?value:?F3\FLOW3\Cache\VariableCache
??????????3:?value:?F3\FLOW3\Cache\Backend\File
??????????4:?value:?{cacheDirectory:?/tmp}
</pre>"
2110,TYPO3.Flow,Feature,"",Resolved,Should have,Add support for custom factories,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-11-10,"","",100,2008-11-10 11:58,"","",1793150,"","","The Object Framework should support custom factories which are used whenever a object of a certain type needs to be instantiated.

Such a factory could be defined / configured in the Objects configuration like this:

<pre>
F3\FLOW3\Cache\CacheInterface
??factoryClassName:?F3\FLOW3\Cache\Factory
</pre>

Now whenever a ""CacheInterface"" object type needs to be intantiated, the Cache Factory's create() method will be called. Of course the arguments for the create() method still have to be defined:

<pre>
$myCache = $this->objectFactory->create('F3\FLOW3\Cache\CacheInterface', 'cacheId', 'F3\FLOW3\Cache\VariableCache', 'F3\FLOW3\Cache\Backend\File');
</pre>
"
2115,TYPO3.Flow,Bug,"",Resolved,Must have,Base href is not correct when calling index_dev.php,Christoph Blömer,Karsten Dambekalns,2010-10-20 05:39,Resource,"",2008-11-11,"","",100,2008-11-11 01:34,"","",1783700,"","","The base href looks like:

Resources/Web/FLOW3/Public/MVC/http://192.168.149.129/

But it should be:

http://192.168.149.129/"
2117,TYPO3.Flow,Task,"",Resolved,Should have,Clean up bootstrap,Robert Lemke,Robert Lemke,2011-08-04 02:57,Core,"",2008-11-11,"","",100,2008-11-11 03:52,"","",10450,"","","The subpackages of FLOW3 are initialized in the bootstrap. Currently this whole process is hardcoded in the FLOW3 class which makes it impossible to deactivate certain subpackages if (not) needed. The range and order of subpackages should be configurable in the FLOW3.php configuration file

"
2118,TYPO3.Flow,Task,"",Resolved,Must have,Decouple MVC and Security,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2008-11-11,"","",100,2008-11-11 03:53,"","",10500,"","","Remove dependencies between MVC and Security Framework (in Dispatcher)

"
2119,TYPO3.Flow,Task,"",Resolved,Must have,"Rename ""component"" to ""object""",Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-11-11,"","",100,2008-11-11 04:46,"","",10550,"","","Although the whole concept of componentry still applies to FLOW3, the name ""component manager"" etc. is rather confusing, especially for developers new to FLOW3. Because technically the component manager and the factory are managing and creating just plain objects, it makes sense to rename them to object manager and object factory.

Certain classes and methods will have to be renamed in a special way (ComponentObjectBuilder > ObjectBuilder) but apart of that, a well-thought global search and replace will do."
2123,TYPO3.Flow,Task,"",Resolved,Should have,Refactor (Object) Framework unit tests,Robert Lemke,Robert Lemke,2010-10-20 05:40,Object,1.0 alpha 8,2008-11-11,"","",100,2008-11-11 08:04,"","",10600,"","","Currently most of the Object Framework's tests are rather functional tests than unit tests. Even worse, most of them depend on a real package, the ""TestPackage"".

The tests should be refactored so they
* are true unit tests
* don't depend on another package but come with their own fixtures

Additionally get rid of using the object manager and/or factory of the ""outer"" FLOW3, making it possible to run the tests completely without needing a FLOW3 instance."
2126,TYPO3.Flow,Task,"",Resolved,Must have,Implement sub routes support (routes should be configured globally in one place),Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,Configuration,1.0 alpha 1,2008-11-11,"","",100,2008-11-11 09:41,"","",10650,"","","Routes should be configured globally at one place to avoid complexity and make it possible to disable/change existing routes in new distributions.
Currently every package can define it's own routes which might cause an unmanageable configuration and leads to the problem that the loading order of the packages matter.
TODO:
* -move all existing route definitions to the global Routes.yml file-
* -make sure, that FLOW3 ConfigurationManager only loads global Routes-
* -allow Packages to suggest Routes or to add Sub Routes (probably not in this release)-"
2156,TYPO3.Flow,Task,"",Resolved,Must have,Optimize autowiring in the Object Builder,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-11-12,"","",100,2008-11-12 06:55,"","",10750,"","","The whole autowiring process (constructor arguments and setter injection) currently happens while actually creating the object (!). That means: reflection, a lot of analysis etc. on each object instantiation.

Autowiring should be moved to elsewhere and made cacheable."
2158,TYPO3.Flow,Bug,"",Resolved,Must have,flushByTag() does not check tags for validity,Robert Lemke,Robert Lemke,2010-10-20 05:39,Cache,"",2008-11-12,"","",100,2008-11-12 08:30,"","",1783650,"","",Neither the File cache backend nor the Memcached backend check if the tag passed to flushByTag() is valid.
2209,TYPO3.Fluid,Feature,"",Resolved,Should have,"Improve ""select"" view helper",Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-26,"","",100,2008-11-26 09:26,"","",2602100,"","","The select view helper needs to handle domain objects as well. 
See http://grails.org/doc/1.0.x/ref/Tags/select.html"
2210,TYPO3.Fluid,Task,"",Resolved,Should have,eclipse integration,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-26,"","",100,2008-11-26 09:28,"","",11100,"","",autocompletion for view helpers
2228,TYPO3.Fluid,Major Feature,"",Rejected,Won't have this time,Default namespaces,Niels Fröhling,"",2010-10-20 05:44,"","",2008-11-27,"","",0,2008-11-27 05:17,"","",2602050,"","","It would very powerfull to turn on a default namespace:
A viewhelper-method like:

<f3::textarea />

Could be used to implement self-correcting and output sensitive templates:

{namespace f3=F3::Beer3::XHTML default}
<textarea />

Immediatly textarea becomes a method, can add default-attributes, like rows/cols and may even be used for complete transformation (into another language: XHTML -> PDF).

--------------------------------------------------------
As reminder of the ongoing discussion here a little log:

Ich verstehe, dass die Logik ist, dass im Falle des XML<->BEER mixes, BEER-tags immer namespace haben? Ist das nicht zu restriktiv. Wäre es nicht besser overlayed default-namespaces zu machen? Ein Beispiel:

<xform type=""text"" >

Im Falle, des wenn die Applikation erkennt, dass mein Browser XForms kann, wird <xform> nicht verändert (default namespace: null). Im anderen Fall wird der default namespace auf xform::iecrap gesetzt und der Tag ist als ViewHelper in iecrap implementiert, und spuckt schön HTML3 aus.

Dies impliziert natürlich sozusagen special handling für XML-basierte templates, da dieselbe Logik nicht für XYZ reicht:

\{xform type,text}

Nun kann man selbstverständlich nichts mit einem namespace-overlay und default-namespace anfangen. Allerdings halte ich die default-namespace Geschichte für sehr wichtig um switchende und overloaded ViewHelpers

Ein weiterer Aspekt ist, dass Du vielleicht Deine ViewHelper in Klassen Kategorisieren möchtest. Sagen wir mal Du erzeugst ein XHTML+XML mit embedded SVG:

{namespace xhtml=F3::Beer3::XHTML default}
{namespace xft=F3::Beer3::XHTML::FireFox::Tools default overlay}
<blabla XHTML-code>
<svg>
   {namespace sft=F3::Beer3::SVG::FireFox::Tools default}
   <blabla SVG-code>
</svg>
<blabla XHTML-code>

So, geht natürlich nicht anders als im Firefox. Deshalb switchend:

{namespace xhtml=F3::Beer3::XHTML default}
{namespaceswitch
    xft=F3::Beer3::XHTML::FireFox::Tools
    xft=F3::Beer3::XHTML::IEcrap::Tools
default overlay}
<blabla XHTML-code der im Falle des IE in HTML verwandelt wird>
<svg>
   {namespaceswitch
       xft=F3::Beer3::SVG::FireFox::Tools 
       xft=F3::Beer3::SVG::IEcrap::Tools 
    default}
   <blabla SVG-code der im Falle des IE in VML verwandelt wird>
</svg>
<blabla XHTML-code der im Falle des IE in HTML verwandelt wird>

Das heisst ViewHelpers würden TagLibraries implementieren können.
Und damit wäreen Beer-Templates Tranformation-Fähig. Allerdings nur für XML-dialekte. Oder für Total-Transformationen.

In einfachen Worten nochmal, wenn Du default-NS hättest, und die namespace-definition weglassen könntest, könntest Du ViewHelper über HTML-Tags definieren.

Evtl. sollte man ganz einfach den Switch in den ViewHelper-constructor legen, und der liefert eine null-Klasse, oder eine korrigierende Klasse.
"
2230,TYPO3.Fluid,Feature,"",Rejected,Should have,Overlay named and default namespaces,Niels Fröhling,"",2010-10-20 05:44,"","",2008-11-27,"","",0,2008-11-27 05:28,"","",2602000,"","","Implement overloading on namespaces:

{namespace f3=F3::Beer3::HTML overlay}
{namespace f3=F3::Beer3::XHTML1 overlay}
{namespace f3=F3::Beer3::XHTML2 overlay}
{namespace f3=F3::Beer3::XHTML2::XFORMS overlay}

Then a tag:

<f3::xform type=""text"" />

is called/searched in cascade:

$in = ...
foreach (all namespaces f3::) {
    if (viewhelper in current namespace has method xform)
       $in = viewhelper->xform(params)
}

It's important to keep the Cascade in mind in repect to default-namespaces, as this enables almost complete OOP behaviour for ViewHelpers as Transformers:

initial
F3::Beer3::XHTML2::XFORMS->xform              $in = <xform type=""text"" />
F3::Beer3::XHTML2->xform                      $in = <input type=""text"" style=""color: red"" />
F3::Beer3::XHTML1->input                      $in = <input type=""text"" style=""color: red"" />
F3::Beer3::HTML->input                        $in = <input type=""text"" color=""red"">
"
2237,TYPO3.Flow,Feature,"",Resolved,Must have,URLs can only be lowercase,Sebastian Kurfuerst,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 6,2008-11-27,"","",100,2008-11-27 14:23,"","",1798750,"","","Hello,

I cannot use upper-cased URLs in case I want to.

I just had a route configuration like:

Mapping_CRUD_RenderingGroupHelpers:
  uriPattern: '[@package]/[@controller]/[@action]/id/[id]/renderingItem/[renderingItemId]'
  defaults:
    @controller: Default
    @action:     index
    @format:     html

(note the big ""I"" in renderingItem).

What happens is that it lowercases the URL during link generation, then you click onto the link, and see the DefaultView of FLOW3, appearently because no route matched... :-(

It'd be really nice to have uppercase URLs if you want them as well. Is there a reason this is prohibited?

Greets, and thanks,
Sebastian"
2244,TYPO3.Flow,Bug,"",Closed,Should have,Exception is not catchable. Exception is still shown after throwStatus,Christoph Blömer,Karsten Dambekalns,2010-10-20 05:39,Error,"",2008-11-29,"","",100,2008-11-29 03:28,"","",1783600,"","","If I excecute the following code in FLOW3 a F3::PHPCR::NodeType::NoSuchNodeTypeException is thrown:

@$taskManagement1 = $this->objectFactory->create('F3::TaskManagement::Domain::TaskManagement');
$taskManagement1->setName('TheTaskManagement');
$this->taskManagementRepository->add($taskManagement1);@

Then I tried to catch the Exception which is thrown and throw a status. 

@try {
    $taskManagement1 = $this->objectFactory->create('F3::TaskManagement::Domain::TaskManagement');
    $taskManagement1->setName('TheTaskManagement');
    $this->taskManagementRepository->add($taskManagement1);
} catch(F3::PHPCR::NodeType::NoSuchNodeTypeException $e) {
    $this->throwStatus(500);
}@

Result: This does not work and no ""500 Internal Server Error"" is shown. Only the Exception itself.

After that I added the throwStatus(500) outside the catch-block to check if that works.
Result:The Status ""500 Internal Server Error"" is shown but also the exception appears.
Is this the correct behavier, that the exception is still shown after throwing the status?
"
2246,TYPO3.Fluid,Bug,"",Resolved,Should have,Tag which disables parsing,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2008-11-29,"","",100,2008-11-29 12:40,"","",2601950,"","","We need some tag between which every string is being taken as literal - else, we get problems because {} in JavaScript is replaced..."
2266,TYPO3.Flow,Task,"",Resolved,Could have,Update MVCFramework.xml [has patch],Irene Höppner,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,"",2008-12-03,"","",100,2008-12-03 16:49,"","",11700,"","","FLOW3:
* Adapted the MVC-documentation to the viewObjectNamePattern and added an example of the standard resolving of the URI"
2284,TYPO3.Flow,Feature,"",Resolved,Must have,Make Reflection caching more intelligent,Robert Lemke,Robert Lemke,2010-10-20 05:39,Reflection,1.0 alpha 1,2008-12-09,"","",100,2008-12-09 03:15,"","",1793100,"","","The Reflection Service caches all the reflection information. If a class is altered, the cache is not automatically cleared because FLOW3 just doesn't know about it - the reflection information becomes inaccurate. Furthermore it is only possible to flush the whole reflection cache and not only the information related to a specific class.

We need some File Alteration Monitoring which automatically monitors all class files (in development context) and flushes the relevant parts of the reflection cache if classes are modified."
2297,TYPO3.Flow,Feature,"",Resolved,Should have,automagic settings injection,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-12-10,"","",100,2008-12-10 06:30,"","",1793050,"","","The object builder (setter autowiring) should have special support for injecting settings.

If a method ""injectSettings"" exists, the object builder will try to retrieve settings for the package the object is in and calls the injectSettings method, passing these settings."
2298,TYPO3.Flow,Bug,"",Resolved,Should have,wrong debug exception handler,Marcel Schlesinger,Karsten Dambekalns,2010-10-20 05:39,"","",2008-12-10,"","",100,2008-12-10 09:57,"","",1783550,"","","file: Configuration/Development/FLOW3.yaml

Line 14:
""F3::FLOW3::Error::DebugExceptionHandler"" -> ""F3\FLOW3\Error\DebugExceptionHandler""

=====

file: Configuration/Testing/FLOW3.yaml

Line 14:
""F3::FLOW3::Error::DebugExceptionHandler"" -> ""F3\FLOW3\Error\DebugExceptionHandler"""
2305,TYPO3.Flow,Feature,"",Resolved,Should have,Automatic flushing of AOP Proxy Cache,Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,1.0 alpha 1,2008-12-12,"","",100,2008-12-12 10:24,"","",1793000,"","","Similar to the automatic flushing of the Reflection Cache (or parts of it) the AOP proxy classes should be rebuilt whenever a class is modified - at least in the development context. However, that's only realistic if rebuilding the cache doesn't take too long so it remains to be seen if this is realistic or not."
2318,TYPO3.Flow,Feature,"",Resolved,Must have,Implement point cut designator methodTaggedWith(),Robert Lemke,Robert Lemke,2010-10-20 05:39,AOP,1.0 alpha 1,2008-12-15,"","",100,2008-12-15 07:03,"","",1792950,"","",Analog to classTaggedWith() we need a pointcut designator which matches methods tagged with a certain annotation.
2342,TYPO3.Flow,Task,"",Resolved,Should have,Routing: Replace square brackets by curly brackets in dynamic Route Parts,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2008-12-19,"","",100,2008-12-19 05:01,"","",11900,"","","Currently we use square brackets to define a dynamic Route Part:
<pre>[@package]/[@controller]/[@action]</pre>
To become more similar to the syntax of the upcoming FLOW3 templating engine Fluid, and to be able to use square brackets in URIs (without the need of implementing an escaping syntax) we decided to change the syntax to:
<pre>{@package}/{@controller}/{@action}</pre>

Additionally, dynamic parts should be enclosed in curly brackets in name patterns too. So instead of:
<pre>F3\@package\MVC\Controller\@controllerController</pre>
it will be
<pre>F3\{@package}\MVC\Controller\{@controller}Controller</pre>"
2359,TYPO3.Fluid,Bug,"",Resolved,Could have,Update Documentation [has patch],Irene Höppner,"",2010-10-20 05:44,"","",2008-12-22,"","",0,2008-12-22 04:17,"","",2601900,"","","Fluid:
* updated documentation to new namespace syntax
* replaced BEER3 with Fluid in documentation"
2365,TYPO3.Flow,Feature,"",Resolved,Should have,Support simple comparisons in Setting Pointcutfilter expression,Robert Lemke,Andreas Förthner,2010-10-20 05:39,AOP,1.0 alpha 1,2008-12-22,"","",100,2008-12-22 11:31,"","",1792900,"","","The -Configuration- Setting Pointcutfilter currently matches if the specified setting evaluates to TRUE or FALSE. A nice enhancement would be the (optional) support for specifying comparisons:

<pre>
@around method(.*->.*) && setting(MyPackage:myOption:mySubOption = foo)
</pre>

The value (""foo"") should be compared with the actual setting using PHP's == operator."
2373,TYPO3.Flow,Bug,"",Resolved,Should have,PHP session issues fatal error if session_save_path is not writable,Christian Jul Jensen,Robert Lemke,2010-10-20 05:39,Session,1.0 alpha 1,2008-12-26,"","",100,2008-12-26 09:06,"","",1792850,"","","By default PHP uses /tmp as save-path for PHP Sessions, if this directory is not writable, PHP will die with a fatal error. FLOW3 should handle this in a more elegant by checking the writable of the save-path. Also the use of /tmp for session storage imposes a security risk on shared hosting, so we might consider making save-path configurable from within FLOW3 and not accepting and unset value (implicitly /tmp) as a valid path."
2375,TYPO3.Flow,Bug,"",Resolved,Should have,Property Mapper: Does not call Property Editor in all cases,Sebastian Kurfuerst,Andreas Förthner,2010-10-20 05:39,"","",2008-12-27,"","",100,2008-12-27 10:39,"","",1783500,"","","When using property editors, I got:

Fatal error: Call to a member function setAs() on a non-object in /.../flow3/Packages/FLOW3/Classes/Property/F3_FLOW3_Property_Mapper.php on line 426

To fix this, I had to apply the attached patch."
2384,TYPO3.Flow,Feature,"",Resolved,Should have,Support for injection of setting values,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2008-12-30,"","",100,2008-12-30 09:37,"","",1792800,"","","Make it possible that, additional to straight values and objects, (the values of) settings can be injected into an object by using the ""setting"" option (like ""object"" or ""value"")"
2386,TYPO3.Flow,Task,"",Resolved,Should have,AbstractView should be ViewInterface,Bastian Waidelich,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2008-12-30,"","",100,2008-12-30 11:34,"","",12050,"","","To reduce concrete dependencies and enforce loose coupling 
""F3\FLOW3\MVC\View\AbstractView"" should be an interface ""F3\FLOW3\MVC\View\ViewInterface"""
2408,TYPO3.Flow,Feature,"",Resolved,Should have,Automatic flushing of object configuration cache,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,1.0 alpha 1,2009-01-05,"","",100,2009-01-05 10:16,"","",1792750,"","",Similar to the automatic flushing of the Reflection Cache (or parts of it) the object configuration cache should be rebuilt whenever a class is modified - at least in the development context.
2444,TYPO3.Flow,Task,"",Rejected,Must have,Refactor Request -> Remove *ObjectNamePattern,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:39,MVC,"",2009-01-11,"",5.00,0,2009-01-11 11:21,"","",12450,"","","We should refactor the MVC_Request, to move all logic out of it.

This means the following:
* Drop $controllerObjectNamePattern (and getters/setters for it)
* Drop $viewObjectNamePattern (and getters/setters for it)
* Presumably, a lot of other stuff can be removed as well due to that refacoring.
* Introduce a new $fullyQualifiedControllerObjectName (including setters/getters) which contains fully qualified Controller name, such as F3\MyPackage\MySubPackage\Controller\SomeController
* Analogous for $fullyQualifiedViewObjectName

The fullyQualifiedControllerName is being set by the MVC\Web\Routing\Router.
"
2454,TYPO3.Flow,Task,"",Resolved,Must have,Change license name in @license-tag to correct naming,Malte Jansen,Karsten Dambekalns,2010-10-20 05:39,"",1.0 alpha 1,2009-01-13,"",0.10,100,2009-01-13 10:13,"","",12600,"","","The License-Name in the @license Tag is wrong. The long header is correct.

The ""General"" is missing...

Just replace
@@license http://www.gnu.org/licenses/lgpl.html GNU Lesser Public License, version 3 or later@
with
@@license http://www.gnu.org/licenses/lgpl.html GNU Lesser General Public License, version 3 or later@"
2481,TYPO3.Flow,Bug,"",Resolved,Should have,"Reflection-Service might crash, due to wrong exception",Malte Jansen,"",2010-10-20 05:39,Reflection,"",2009-01-19,"","",100,2009-01-19 06:46,"","",1783450,"","","http://forge.typo3.org/repositories/changes/package-flow3/trunk/Classes/Reflection/F3_FLOW3_Reflection_Service.php

on line 208:
@if ($this->initialized) throw new \F3\FLOW3\ReflectionException('The reflection service can only be initialized once.', 1232044696);@

must be: \F3\FLOW3\Reflection\Exception

(The Exception does not exist...)
"
2486,TYPO3.Fluid,Bug,"",Resolved,Must have,Template names not resolved correctly (file name case issue),Karsten Dambekalns,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-01-20,"","",0,2009-01-20 07:52,"","",2601850,"","","In r1769 I tried to fix a bug which I experienced, in r1773 I reverted the case-change to the template file names. Now, here is what the problem is:

When you call the XSD generation helper, you simply call http://.../fluid

# Since no controller and action is given, ""Default"" and ""index"" are used
# The template is resolved as "".../Default/index.html"", fine.

Now you fill in the form and press proceed.

# Controller and action are given, ""default"" and ""generatexsd"" are used
# The template is resolved as "".../default/generatexsd.html""
# The file lies in "".../Default/generateXSD.html"" and cannot be found, leading to Exception 1225709595

The FLOW3 MVC part circumvents the problem by using getCaseSensitiveObjectName() when looking for controller or view objects. Since the template is not registered with the object manager, this is of no help here, but a similar mechanism is needed.

*Note:* The problem can only be reproduced on a case-sensitive filesystem."
2505,TYPO3.Flow,Bug,"",Resolved,Must have,RequestHandler can not be changed from the package configuration,Christoph Blömer,Robert Lemke,2010-10-20 05:39,Configuration,"",2009-01-22,"","",100,2009-01-22 06:22,"","",1783400,"","","When trying to add or change the possible RequestHandler for a package, the new RequestHandler is not merged.
This is because the Package Manager is not initialized at that time.

A solution for changing the RequestHandler for a package from inside the package configuration is needed.

This is needed because of additional RequestMethods for the WebDAV protocol."
2506,TYPO3.Flow,Feature,"",Resolved,Should have,Automagic action argument registration,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-01-22,"","",70,2009-01-22 11:35,"","",1792700,"","","Currently arguments of a controller must be registered manually through the <pre>$this->arguments->addNewArgument()</pre> method.

In the future this should be possible per action and by just defining arguments as method arguments (and properly documenting them):

<pre>
/**
 * @param string $uuid
 * @param string $name 
 * @param string $description Description of blog posting
 */
public function updateAction($uuid, $name, $description) {
}
</pre>

How validation is configured requires, however, further research."
2508,TYPO3.Flow,Bug,"",Rejected,Should have,Object variables which obtain their value from Super Globals are not available in child classes,Christoph Blömer,Robert Lemke,2010-10-20 05:39,MVC,"",2009-01-23,"","",0,2009-01-22 23:31,"","",1783350,"","","When a class variable like $this->SERVER obtains the value from a super global like $_SERVER and the global variable is replaced by the SuperGlobalReplacement, the class variable can not be accessed from a child class."
2509,TYPO3.Flow,Feature,"",Closed,Should have,Mapping properties to complex object -> Part-Mappings,Sebastian Kurfuerst,"",2010-10-20 05:39,MVC,1.0 alpha 1,2009-01-23,"","",0,2009-01-23 05:58,"","",1792650,"","","Example: There is a ""Customer"" domain object with 10 properties.
In the View, we render a form to change two of these properties.
-> However, Data Mapping creates an object with all properties, but only two were submitted.

Somehow we need to make the actually sent properties accessible - to only map these to the target domain object then."
2510,TYPO3.Flow,Feature,"",Closed,Should have,Mapping complex objects -> Relations support,Sebastian Kurfuerst,"",2010-10-20 05:39,Property,"",2009-01-23,"","",0,2009-01-23 05:59,"","",1783300,"","","When mapping complex objects, currently relations are not supported. They are however really important :-) (needs to be done somehow in DomainObjectConverter)"
2511,TYPO3.Flow,Task,"",Resolved,Should have,Refactor Package\Meta to Package\MetaData,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Package,"",2009-01-23,"","",100,2009-01-23 07:30,"","",12850,"","","The metadata for a package is organized in the ""Meta"" class, following the ""MetaInterface"". This means we also have ""MetaReader"" and various member variables named according to this schema.

Now, a meta reader reads about reading and what a meta interface is is greek to me. :)

Thus it seems to be a good thing to rename that ""Meta"" to ""MetaData"" and adjust the following uses of the name as well."
2515,TYPO3.Flow,Task,"",Resolved,Must have,Inconsistent class names in sub namespaces,Robert Lemke,Robert Lemke,2010-10-20 05:39,"",1.0 alpha 1,2009-01-26,"","",100,2009-01-26 11:44,"","",12900,"","","In the current code base the naming of classes in sub namespaces is not consistent. After a short discussion we came up with the following rules:

 - The unqualified class name must be meant literally even without the namespace. 
 - The main purpose of namespaces is categorization and ordering

Thes rules prevent us from running into conflicts with reserved keywords.

h2. Bad examples:

<pre>
Fully qualified class name            Unqualified class name     Remarks
--------------------------------------------------------------------------------------------------------------------
\F3\FLOW3\Session\PHP                 PHP                        The class is not a representation of PHP!
\F3\FLOW3\Cache\Backend\File          File                       The class doesn't represent a file!
\F3\FLOW3\Session\Interface           Interface                  Not allowed, ""Interface"" is a reserved keyword
\F3\Foo\Controller\Default            Default                    Not allowed, ""Default"" is a reserved keyword
</pre>

h2. Good examples:

<pre>
Fully qualified class name            Unqualified class name     Remarks
--------------------------------------------------------------------------------------------------------------------
\F3\FLOW3\Session\PHPSession          PHPSession                 That's a PHP Session
\F3\FLOW3\Cache\Backend\FileBackend   FileBackend                A File Backend
\F3\FLOW3\Session\SessionInterface    SessionInterface           Interface for a session
\F3\Foo\Controller\DefaultController  DefaultController          The default controller
</pre>

h2. Edge cases:

<pre>
Fully qualified class name            Unqualified class name     Remarks
--------------------------------------------------------------------------------------------------------------------
\F3\FLOW3\Object\Manager              Manager                    If it's the only manager in that namespace, it's okay
\F3\Foo\Bar\Builder                   Builder                    If it's clear what the builder builds (Bar?), it's okay
\F3\FLOW3\Object\Builder              Builder                    Problem: There's a ""ConfigurationBuilder"" in the same
                                                                 namespace, therefore better rename the Builder to
                                                                 ObjectBuilder
\F3\FLOW3\Object\Factory              Factory                    As long as it is the only factory in that namespace, okay
\F3\FLOW3\MVC\ControllerInterface     ControllerInterface        Consequently the interface belongs to all the
                                                                 controllers in the Controller sub namespace
\F3\FLOW3\MVC\Controller\ControllerInterface                     Better
\F3\FLOW3\Cache\AbstractBackend       AbstractBackend            Same here: In reality this class belongs to the backends
\F3\FLOW3\Cache\Backend\AbstractBackend                          Better
</pre>

Scope of this ticket:
# Refactor class names which don't follow the above rules.
# -Add the above rules to the CGL.-
"
2524,TYPO3.Flow,Task,"",Resolved,Must have,Short filenames for class files,Robert Lemke,Robert Lemke,2010-10-20 05:39,"",1.0 alpha 1,2009-01-28,"","",100,2009-01-28 05:00,"","",13000,"","","The convention for names of class files is changed from 

<pre>
  F3_Package_SubPackage_SubSubPackage_UnqualifiedClassName.php
</pre>
to
<pre>
  UnqualifiedClassName.php
</pre>

See also:
http://lists.netfielders.de/pipermail/typo3-project-5_0-general/2009-January/001761.html
"
2536,TYPO3.Flow,Task,"",Resolved,Must have,Additions to coding guidelines,Robert Lemke,"",2010-10-20 05:39,- Documentation -,1.0 alpha 1,2009-01-30,"","",100,2009-01-30 06:02,"","",13050,"","","Add (and explain) the following rules to the CGLs:

1. Prefer strict comparisons whenever possible. Examples:
<pre>
   if ($template)             // BAD
   if (isset($template))      // GOOD
   if ($template !== NULL))   // GOOD
   if ($template !== ''))     // GOOD
   if (strlen($template) > 0) // BAD! strlen(""-1"") is greater than 0
   if (is_string($template) && strlen($template) >0) // BETTER

   if ($foo == $bar)          // BAD, avoid truthy comparisons
   if ($foo != $bar)          // BAD, avoid falsy comparisons
   if ($foo === $bar))        // GOOD
   if ($foo !== $bar))        // GOOD
</pre>

!trueFalse.jpg!

2. Order of methods:

 1. constructor
 2. injection methods
 3. initialization methods (including initializeObject())
 4. public methods
 5. protected methods
 6. private methods
 7. shutdown method(s)
 8. destructor

3. Avoid double-negation:

Instead of @exportSystemView(..., $noRecurse)@ use @exportSystemView(..., $recurse)@. It is more logical to pass TRUE if you want recursion instead of having to pass FALSE. In general, parameters negating things are a bad idea.
"
2556,TYPO3.Flow,Task,"",Resolved,Should have,Use only mock objects instead of the real object manager / factory in Routing tests,Robert Lemke,Bastian Waidelich,2010-10-20 05:39,MVC,"",2009-02-04,"","",100,2009-02-04 06:09,"","",13100,"","",Currently most of the tests of MVC/Web/Routing/* use real objects instead of mocked ones (especially in the RouteTest). This needs to be cleaned up.
2557,TYPO3.Flow,Bug,"",Resolved,Must have,Links rendered by the Router ignore application context,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2009-02-04,"","",100,2009-02-04 06:18,"","",1792600,"","","If the application context is != production, the URL usually includes the index_*.php segment:

<pre>http://myhost/index_dev.php/foo/bar/baz</pre>

The script filename is, however, removed in rendered links which leads to a context switch:

<pre>http://myhost/foo/bar/baz</pre>
"
2558,TYPO3.Flow,Bug,"",Closed,Must have,Property Injection doesn't work with subclasses,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Object,1.0 alpha 1,2009-02-04,"","",100,2009-02-04 07:29,"","",1792550,"","","A property flagged for property injection will only be injected in the class it has been defined, not in one of the subclasses:

<pre>
class Foo {
   
   /**
    * @var Baz
    * @inject
    */
   protected $baz;
}

class Bar extends Foo {
   
   public function doSomething() {
      $this->baz->doSomething()
   }
}

</pre>

... will result in a fatal error because $this->baz is not defined.
"
2580,TYPO3.Flow,Bug,"",Resolved,Must have,Crash in MVC-Controller,Malte Jansen,"",2010-10-20 05:39,MVC,"",2009-02-05,"","",100,2009-02-05 10:12,"","",1783250,"","","The function initializeAction() of the ActionController does not have the access to the to $this->view, because the first the function is called the view is not initilized.

The function is called twice 
1. while creating the object (after the injections) --> $this->view is empty
2. while callActionMethod() --> the view is initialized

_Expected result:_
The view is available in initializeAction().

_Solution:_
Rename initializeAction() to preAction().


Perhaps some postAction() would also be pretty useful."
2601,TYPO3.Flow,Bug,"",Resolved,Must have,canProcessRequest doesn't accept mocked requests,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-02-09,"","",100,2009-02-09 09:44,"","",1792500,"","",Currently the canProcessRequest() method only checks if the class name of the request 100% matches the class names specified in $this->supportedRequestTypes. Therefore sub classes of these (like mock web requests) are not accepted.
2602,TYPO3.Flow,Feature,"",Resolved,Should have,Automatically render the view if action returns nothing (NULL),Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-02-10,"","",100,2009-02-10 08:57,"","",1792450,"","","To save even more typing while developing a controller, we can tell the action controller to automatically render a view if a) a view exists and b) the action method didn't return anything."
2603,TYPO3.Flow,Feature,"",Resolved,Must have,Implement magic findBy*() and findOneBy*() methods in the base repository,Robert Lemke,Robert Lemke,2010-10-20 05:39,Persistence,1.0 alpha 1,2009-02-10,"","",0,2009-02-10 12:34,"","",1792400,"","","The base Repository should provide some magic __call() method taking care of findBy*() and findOneBy*() method calls, returning the results of searches for a property called after the method:

<pre>
   $result1 = $repository->findByFoo('bar');
   $result2 = $repository->findOneByFoo('bar');
</pre>

$result1 will contain an array of all objects whose property 'foo' is 'bar'.
$result2 will contain the first object which matches a search for 'foo' == 'bar'.

"
2618,TYPO3.Flow,Bug,"",Rejected,Should have,Tweak/Improvment: ActionController,Malte Jansen,Robert Lemke,2010-10-20 05:39,MVC,"",2009-02-12,"","",0,2009-02-11 18:16,"","",1783200,"","","It's not really a bug, but a little tweak for the ActionController...

What about making the following function _final_? Than it cannot be overwritten...

@/**
 * Implementation of the arguments initilization in the action controller:
 * Automatically registers arguments of the current action
 *
 * Don't override this method - use initializeArguments() instead.
 *
 * @return void
 * @author Robert Lemke <robert@typo3.org>
 * @see initializeArguments()
 * @internal
 */
protected function initializeActionMethodArguments() {

}@"
2619,TYPO3.Flow,Bug,"",Resolved,Must have,Deprecated function in \FLOW3\Classes\AOP\PointcutSettingFilter,Malte Jansen,Robert Lemke,2010-10-20 05:39,AOP,"",2009-02-12,"","",100,2009-02-11 18:28,"","",1783150,"","","Following error is thrown while Testing:

_Deprecated: Function split() is deprecated in ~\Packages\Global\FLOW3\Classes\AOP\PointcutSettingFilter.php on line 122_
_Deprecated: Function split() is deprecated in ~\Packages\Global\FLOW3\Classes\AOP\PointcutSettingFilter.php on line 135_

Solution:

Use explode() or preg_split() instead..."
2621,TYPO3.Flow,Feature,"",Resolved,Must have,Support SPLObjectStorage as container for references to other persisted objects,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 1,2009-02-12,"","",100,2009-02-12 05:09,"","",1792350,"","","Currently references to other objects must be stored in an array or as a single property:

<pre>
class Invoice {

   /**
    * @var array
    */
   protected $invoiceDetails = array();

   /**
    * @var Customer
    */
   protected $customer;
}

</pre>

But in many cases it makes sense to store objects in an SPLObjectStorage:

<pre>
class Blog {

   /**
    * @var \SPLObjectStorage
    */
   protected $posts;
}

</pre>

By using the SPLObjectStorage we can assure that no post can be added twice
to a blog.

The Persistence Manager should therefore support SPLObjectStorages
"
2630,TYPO3.Flow,Bug,"",Resolved,Must have,Fatal error: Call to undefined method SplObjectStorage::addAll(),Bastian Waidelich,"",2010-10-20 05:39,Persistence,"",2009-02-13,"","",100,2009-02-13 03:58,"","",1783100,"","","With an updated version of the FLOW3 distribution I'm getting a
<pre>
Fatal error: Call to undefined method SplObjectStorage::addAll() in Packages/Global/FLOW3/Classes/Persistence/Manager.php on line 193
</pre>
on every page.

Environment: Ubuntu, PHP 5.3.0alpha3, Dev- & Production-Context"
2669,TYPO3.Fluid,Feature,"",Closed,Could have,PDF version of the documentation,Fabien Udriot,"",2012-02-17 06:55,"","",2009-02-20,"","",0,2009-02-20 08:04,"","",2601800,"","","In the attachment, there is the PDF version of the documentation.

If you are interested by the script that makes the conversion DocBook -> PDF, let me know.

Cheers."
2683,TYPO3.Flow,Bug,"",Resolved,Should have,Advice can only be declared on public methods,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,AOP,"",2009-02-23,"","",100,2009-02-23 09:37,"","",1783050,"","","Advice can only be declared on public methods. This should work for protected methods, too."
2711,TYPO3.Flow,Task,"",Resolved,Should have,Refactor method names in configuration manager,Karsten Dambekalns,"",2010-10-20 05:39,Configuration,"",2009-02-25,"","",100,2009-02-25 14:40,"","",13400,"","","The methods getSpecialConfiguration() and loadSpecialConfiguration() seem to be misnamed. What is special about them? I guess they should be named simply without the special, so that we have ""settings"" and ""configuration"" in the manager."
2738,TYPO3.Flow,Feature,"",Closed,Should have,"Routing: Configurable appendix for ""formatless"" URIs",Karsten Dambekalns,Bastian Waidelich,2010-10-20 05:39,MVC,"",2009-03-02,"","",0,2009-03-02 05:36,"","",1783000,"","","It should be possible to create ""mycompany/about-us.html"" as well as ""mycompany/about-us/"" or even ""mycompany/about-us/index.html"". That is, if no trailing slash or filename would be generated, something configurable should happen instead.

See realurl's ""appendMissingSlash"" for it's equivalent."
2751,TYPO3.Flow,Bug,"",Resolved,Must have,Routing: generated links must keep index.php if needed,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 5,2009-03-03,"","",100,2009-03-03 09:18,"","",1798050,"","",URI generated must keep index.php if needed (e.g. if mod_rewrite is not available)
2765,TYPO3.Flow,Bug,"",Resolved,Must have,request path is not correctly determined  when FLOW3 isn't installed in webroot,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,MVC,"",2009-03-05,"","",100,2009-03-05 08:48,"","",1782950,"","","When FLOW3 is not installed in the htdocs root, it does not correctly determine the request path of the URI.
Example:
http://localhost/flow3/Public/
Instead of displaying the default view, FLOW3 tries to find the ""Public""-Controller in the ""flow3""-Package and throws a 404.

A temporary solution is to create a virtual host, so you can access FLOW3's root via
http://flow3/ (or the like)"
2815,TYPO3.Fluid,Feature,"",Resolved,Must have,Support for objects as values in hidden fields,Robert Lemke,Robert Lemke,2010-10-20 05:44,"",1.0.0 alpha 1,2009-03-10,"","",100,2009-03-10 11:12,"","",2603100,"","","Currently only types which can be casted to string are support as values in hidden form fields. However, it should be possible to use (domain) objects as values:

<pre>
	<f3:form method=""post"" action=""create"" object=""invoice"">
		<f3:form.textbox name=""properties[title]"" property=""title"" />
		<f3:form.textarea name=""properties[description]"" property=""description"" />
		<f3:form.hidden name=""properties[customer]"" value=""{customer}"" />
		<f3:form.submit>Create Invoice</f3:form.submit>
	</f3:form>
</pre>

Internally Fluid would convert the object into an identity array (not clear yet, if / when it becomes array('__uuid' => '1234...') or array('__identity' => array('title' => 'the title', 'number' => 234)) which then is converted back to an object by FLOW3's MVC framework on processing the request after the form has been submitted."
2816,TYPO3.Flow,Feature,"",Resolved,Must have,Implement redirect to action,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2009-03-10,"","",100,2009-03-10 11:22,"","",1792300,"","","The Abstract Controller currently provides a method ""redirect"" which allows for redirecting to a specified URI. The more common requirement however is to redirect to a certain action / controller / package. Therefore redirect() should take the same (or at least similar) arguments like forward() and an additional method redirectToURI() should be implemented."
2817,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Provide safeguard for preventing multiple submits of a form,Robert Lemke,"",2013-10-31 08:38,MVC,"",2009-03-10,"","",0,2009-03-10 11:31,"","",1782900,"","","We need a mechanism which prevents the user from accidentally submitting a form multiple times. This should be handled both on the client and on the server side.

On the client side a simple JavaScript will check if the form has been submitted and if so displays a message if the user tries to submit it a second time.

On the server side some hash which is unique to that rendered form should be checked to figure out if that particular form instance is already being processed."
2818,TYPO3.Flow,Feature,"",Closed,Should have,Provide safeguard for preventing multiple submits of a form,Robert Lemke,"",2010-10-20 05:39,MVC,"",2009-03-10,"","",0,2009-03-10 11:31,"","",1782850,"","","We need a mechanism which prevents the user from accidentally submitting a form multiple times. This should be handled both on the client and on the server side.

On the client side a simple JavaScript will check if the form has been submitted and if so displays a message if the user tries to submit it a second time.

On the server side some hash which is unique to that rendered form should be checked to figure out if that particular form instance is already being processed."
2819,TYPO3.Flow,Feature,"",Resolved,Must have,"View Helper ""Flash Message""",Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2009-03-10,"","",100,2009-03-10 11:38,"","",1792250,"","","Provide a view helper which allows for handling ""flash messages"", i.e. a short message / chunk of HTML which transports information from one action to another.

Example: the createAction() successfully creates a Thing and submits the message ""Successfully created Thing."" to the view helper. Then a redirect to the indexAction() is carried out. The index view contains an area which displays a flash message, if any. In this case there's one: ""Sucessfully created Thing.""."
2824,TYPO3.Fluid,Bug,"",Resolved,Must have,TemplateView can't be easily extended,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-03-11,"","",0,2009-03-11 18:41,"","",2601750,"","","When using custom views that extend F3\Fluid\View\TemplateView the required cache backend is not properly initialized because FLOW3s dependency injection is active only for configured classes, not their subclasses.
First I thought this was a bug in the DI mechanism. Meanwhile I'm not sure anymore and I don't know, how other DI-frameworks handle this issue.

A solution would be to extract cache handling into an AOP aspect which is active for subclasses too. Patch follows."
2825,TYPO3.Flow,Feature,"",Resolved,Should have,Routing: Route Part options,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2009-03-12,2009-03-16,2.00,100,2009-03-12 07:46,"","",1792200,"","","Route Parts need to be configurable. So that you can write
<pre>
MyRoute:
  uriPattern: {foo}
  routeParts:
    foo:
      options:
        caseSensitive: y
</pre>

Probably Route Part options should be inherited from global configuration."
2832,TYPO3.Flow,Feature,"",Resolved,Must have,"Implement a ""(String)Length Validator""",Robert Lemke,"",2010-10-20 05:39,Validation,1.0 alpha 1,2009-03-12,"","",100,2009-03-12 11:36,"","",1792150,"","","We need a validator which checks a minimum and / or maximum string length.
I suggest that the validator is just named ""LengthValidator""."
2851,TYPO3.Flow,Bug,"",Resolved,Must have,TextValidator is insecure,Jochen Rau,Andreas Förthner,2010-10-20 05:39,Validation,"",2009-03-16,"","",0,2009-03-16 07:13,"","",1782800,"","","The TextValidator is insecure. It filters an input string based on a black list only with ASCII chars:

if (!is_string($value) || preg_match('/<[\/]*[a-z,A-Z,0-9]*>/', $value)) {
[...]
}

XSS injections could be decoded e.g. in hexadecimal format. I propose the following solution:

if ($value !== filter_var($value, FILTER_SANITIZE_STRING)) {
[...]
}

-- jochen"
2852,TYPO3.Flow,Feature,"",Resolved,Should have,Improve viewObjectName determination,Bastian Waidelich,"",2010-10-20 05:39,MVC,1.0 alpha 1,2009-03-16,"","",100,2009-03-16 07:38,"","",1792100,"","","Currently _\F3\FLOW3\MVC\Controller\ActionController_ either calls _resolveViewObjectName()_ or uses _$this->viewObjectName_ to determine the view object name.
That means that you'll have to create a view for every action in your controller, or you set _$viewObjectName_ to a general view class. But you can't have both, e.g. use _F3\Fluid\View\TemplateView_ for all actions and your own views for ajax-requests (e.g. _@format = 'json'_).

A possible solution could be:
rename _$this->viewObjectName_ to _$this->defaultViewObjectName_ in _ActionController_ and always check, whether there exists a custom implementation first."
2853,TYPO3.Flow,Feature,"",Resolved,Should have,"Routing: @action, @format... should be settable via request arguments",Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2009-03-16,"","",100,2009-03-16 07:46,"","",1792050,"","","Currently all ""@-arguments"" (@package, @subpackage, @controller, @action and @format) are checked only for ""route match results"". You can't set the action via _GET / _POST.
Imagine, you have a form with two submit buttons
<pre>
<button name=""@action1"">action 01</button>
<button name=""@action2"">action 02</button>
</pre>
IMO that should be possible.
TODOs for this feature:

1. check these arguments in the router: <pre>if ($request->hasArgument('@action')) {
	$request->setControllerActionName($request->getArgument('@action'));
}
...</pre>

2. modify URIHelper and make action-argument optional
"
2856,TYPO3.Flow,Bug,"",Resolved,Must have,Fatal error: Class 'F3\FLOW3\MVC\Controller\LogicException' not found,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2009-03-16,"","",100,2009-03-16 12:15,"","",1792000,"","","Seems to be a missing slash in ""throw new LogicException"" in F3\FLOW3\MVC\Controller\Arguments.
We have to look for more of these missing slashes for SPL-Classes, I'm sure there are more!"
2957,TYPO3.Flow,Feature,"",Resolved,Must have,Errors and exceptions should be logged to system log,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Error,1.0 alpha 1,2009-03-24,"","",100,2009-03-24 07:21,"","",1791950,"","",.
2974,TYPO3.Flow,Bug,"",New,Must have,Aspect / Proxy Cache is not emptied automatically if an interface used for introduction was modified,Robert Lemke,Robert Lemke,2011-10-21 07:20,AOP,"",2009-03-25,"","",0,2009-03-25 11:28,"","",1782750,"",FLOW3 1.0.0,"On modifying an interface which is used in an aspect for introduction, the whole proxy class cache must be flushed."
2979,TYPO3.Flow,Feature,"",Resolved,Must have,Implement replace() method for the base Repository,Robert Lemke,Robert Lemke,2010-10-20 05:39,Persistence,1.0 alpha 1,2009-03-26,"","",100,2009-03-26 08:39,"","",1791900,"","",The base Repository implementation should implement a method which allows for replacing an object which exists in the repository by another object. This method (or the methods called by this method) must take the identity map and uuid into account.
2982,TYPO3.Flow,Feature,"",Resolved,Must have,"Allow ""-"" as character for identifier in caching framework",Oliver Hader,Robert Lemke,2010-10-20 05:39,Cache,1.0 alpha 1,2009-03-26,"","",100,2009-03-26 13:05,"","",1791850,"","","The caching framework contains the allowed characters that can be used for identifiers.
Since this part was backported to TYPO3 4.3 there's an issue with using the caching framework on pages with negative page IDs (e.g. ""-1""). Therefore a identifier like ""pageId_-1"" would be defined which is not allowed.

In TYPO3 4.3 context this occurs in the context of workspaces/versioning.

The dash ""-"" is currently used in the file backend as separator."
2983,TYPO3.Fluid,Bug,"",Resolved,Should have,Create a LinkViewHelper for TYPO3 v4 Fluid,Sebastian Kurfuerst,Bastian Waidelich,2010-10-20 05:44,"","",2009-03-26,"","",100,2009-03-26 13:19,"","",2601700,"","","Currently, Fluid for TYPO3 v4 does not have the possibility to create links to other pages in TYPO3.
This needs to be fixed urgently..

Something like <f3:link action=""..."" controller=""...""></f3:link> should be possible.

Additionally, the functionality of TYPOLINK needs to be accessed as well (links to a given UID, PID; ...)"
3027,TYPO3.Flow,Bug,"",Resolved,Must have,Rev 2122 results in an Exeption when loading FLOW3 a second time after clearing the chache,Christoph Blömer,Robert Lemke,2010-10-20 05:39,Reflection,1.0 alpha 1,2009-04-02,"","",100,2009-04-02 16:19,"","",1791800,"","","In Development Context I get:
#1166550023: Object ""F3\WebDAV\MVC\RequestHandler_AOPProxy_Development"" is not registered. (More information)

F3\FLOW3\Object\Exception\UnknownObject thrown in file
C:\xampp\htdocs\FLOW3\Packages\Global\FLOW3\Classes\Object\Manager.php in line 242.

In Productin Context I get:
#1166550023: Object ""F3\WebDAV\MVC\RequestHandler_AOPProxy_Production"" is not registered. (More information)

F3\FLOW3\Object\Exception\UnknownObject thrown in file
C:\xampp\htdocs\FLOW3\Packages\Global\FLOW3\Classes\Object\Manager.php in line 242.

Do I need to configure the RequestHandler somehow to work again? Or is this a Bug introduced in this Revision?
"
3029,TYPO3.Flow,Bug,"",Resolved,Must have,Routing is not working correctly on all platforms,Thomas Fritz,Karsten Dambekalns,2010-10-20 05:40,MVC,1.0 alpha 8,2009-04-03,"","",100,2009-04-03 05:50,"","",1803500,"","","I am getting this error when i request any URL with a path part (http://flow3.local/testing , http://flow3.local/testpackage ,...). 
<pre>
Warning: Unknown: Filename cannot be empty in Unknown on line 0

Fatal error: Unknown: Failed opening required '' (include_path='.:/usr/share/php5:usr/share/php') in Unknown on line 0
</pre>

Platform:
Gentoo Linux. 2.6.27-gentoo-r7
Apache/2.2.10 (Unix) with mod_fcgid-2.2 _NOT_ mod_fastcgi-2
PHP 5.3beta1 as CGI/FastCGI
cgi.fix_pathinfo=1 in php.ini



Possible Solution/Workaround:

This part is causing the problem. Change .htaccess from:
<pre>
RewriteRule (.*) index.php/$1
</pre>

to:
<pre>
RewriteRule (.*) index.php
</pre>

...and get the routing information from REQUEST_URI.
Change F3\FLOW3\Utility\Environment#201:
<pre>
         public function getRequestURI() {
                 if (isset($this->SERVER['PATH_INFO'])) {
                         $requestURIString = $this->getRequestProtocol() . '://' . $this->getHTTPHost() . $this->SERVER['PATH_INFO'] . (strlen($this->SERVER['QUERY_STRING']) ? '?' . $this->SERVER['QUERY_STRING'] : '');
                 }
                 else if ($this->SERVER['REQUEST_URI']) {
                         $requestURIString = $this->getRequestProtocol(). '://' . $this->getHTTPHost() . $this->SERVER['REQUEST_URI'];
                 }
                 else {
                         $requestURIString = $this->getRequestProtocol() . '://' . $this->getHTTPHost() . '/';
                 }

                 $requestURI = new \F3\FLOW3\Property\DataType\URI($requestURIString);
                 return $requestURI;
         }
</pre>

"
3030,TYPO3.Flow,Feature,"",Resolved,Could have,Testing framework can send bug report to mailinglist,Thomas Fritz,Karsten Dambekalns,2010-10-20 05:39,Error,1.0 alpha 5,2009-04-03,"","",100,2009-04-03 06:29,"","",1798000,"","","After the test suites are completed and a test failed, ask the Developer if a detailed bug report should be send to the TYPO3 Mailinglist. Of course only if a failed test belongs a to a public package. If you have ever compiled php and did a make test you might actually know what i mean.

This behaviour could also expanded when an exception was thrown."
3034,TYPO3.Flow,Bug,"",Resolved,Should have,The Resolve Handler Resolver doesn't check if potential resolve handlers are registered objects,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-04-03,"","",100,2009-04-03 16:05,"","",1791750,"","","While resolving possible resolve handlers, a list of all classes implementing the ResolveHandlerInterface is compiled. However, it is not checked if these classes are really registered objects which leads to attempting to get objects by their proxy class name."
3041,TYPO3.Flow,Feature,"",Closed,-- undefined --,Caching Framework - ask for validity,Daniel Poetzinger,Robert Lemke,2010-10-20 05:39,Cache,1.0 alpha 5,2009-04-06,"","",0,2009-04-06 02:05,"","",1797950,"","","It woul be useful to ask the cache if it is still valid.

Background:
 If something critical is cached - that for example depends on external (unreliable) interfaces. 

This flow would be useful:
 - check if cache is valid
 - if not check if cached thing is available
  - not available - do nothing just use the (expired cache) again
  - available - flush cache and store new stuff...


Instead of (now):
 - cache is expired
 - cached object needs to be fetched
 - if not available - nothing can be used.

"
3065,TYPO3.Fluid,Bug,"",Resolved,Should have,ObjectFactory is unable to call t3lib_div::makeInstance.,Jochen Rau,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-04-09,"","",100,2009-04-09 15:36,"","",2601650,"","",ObjectFactory is unable to call t3lib_div::makeInstance. See attached image. 
3068,TYPO3.Fluid,Bug,"",Resolved,Must have,Fluid: TranslateViewHelper does only work once,Niels Pardon,Niels Pardon,2010-10-20 05:44,"","",2009-04-10,"","",100,2009-04-10 05:52,"","",2601600,"","","The TranslateViewHelper does only work once. If you put more than one translate tag in your template only the first gets translated.

By looking at the code I think that it gets even worse. The TranslateViewHelper will only work once per HTTP request. That means that only the first translate tag of the first loaded extension will get translated and the following translate tags won't.

The problem seems to be the initialization check. The TranslateViewHelper will not get initialized after the first instance and therefore the member variable $this->LOCAL_LANG which holds the locallang information is empty.

I would suggest to create a LanguageRegistry (a Singleton) which holds the locallang information once per extension. Where should something like this be put? extbase or fluid?"
3071,TYPO3.Fluid,Bug,"",Resolved,Should have,Allow objects implementing Iterator interface in each attribute of for view helper,Niels Pardon,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-04-10,"","",0,2009-04-10 13:16,"","",2601550,"","",I am currently plaing a bit around with porting the extension seminars to extbase and fluid. We already have our own Mappers and Models based on oelib. We are using a class tx_oelib_List which implements PHP's Iterator interface for e.g. M:M relations. Would be great if we could use an object implementing the Iterator interface with Fluid's for view helper.
3075,TYPO3.Fluid,Bug,"",Resolved,Must have,TranslateViewHelper: TypoScript override does not work,Niels Pardon,Jochen Rau,2010-10-20 05:44,"","",2009-04-11,"","",0,2009-04-11 09:11,"","",2601500,"","","The problem is that the configuration manager that is requested in the TranslateViewHelper has an empty array in $this->settings. So somehow the Singleton stuff is not working correctly as the confuiguration manager created in the dispatcher has the right configuration in $this->settings.

I couldn't find out the cause of the problem. Any help is appreciated."
3091,TYPO3.Flow,Feature,"",Resolved,Should have,"Support new method ""initializeXYAction"" in controllers",Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-04-15,"","",100,2009-04-14 19:05,"","",1791700,"","","Controllers should check if a method ""initializeFooAction"" exists for an action ""foo"" and call it before the action ""fooAction"" is called. This method is supposed to replace the current ""initializeArguments"" method which should be removed."
3092,TYPO3.Flow,Feature,"",Resolved,Must have,Support annotation-based validation rules in controller actions,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-04-15,"","",100,2009-04-14 19:11,"","",1791650,"","","It should be possible to define additional validation rules for arguments of a controller action by declaring them in an annotation:
<pre>
/**
 * The foo action
 *
 * @param string $firstArgument This argument contains an email address
 * @param integer $secondArgument This argument contains a number
 * @param F3\Foo\Bar\Model\Baz $thirdArgument This argument is automatically validated by the rules defined in the specified model
 * @return void
 * @validate $firstArgument EmailAddress
 * @validate $secondArgument NumberRange(minimum = 5, maximum = 100)
 */
public function fooAction($firstArgument, $secondArgument, \F3\Foo\Bar\Model\Baz $thirdArgument) {
}
</pre>
"
3093,TYPO3.Flow,Feature,"",Resolved,Must have,Implement annotation based validation rules for models,Robert Lemke,Robert Lemke,2010-10-20 05:39,Validation,1.0 alpha 1,2009-04-15,"","",100,2009-04-14 19:24,"","",1791600,"","","Make these @validate annotations work in a model:

<pre>
	/**
	 * The blog's name. Also acts as the identifier.
	 *
	 * @var string
	 * @validate Alphanumeric, StringLength(minimum = 3, maximum = 50)
	 * @identity
	 */
	protected $name = '';

	/**
	 * A short description of the blog
	 *
	 * @var string
	 * @validate Text, StringLength(maximum = 150)
	 */
	protected $description = '';

</pre>"
3121,TYPO3.Flow,Bug,"",Resolved,Should have,canProcessRequest is not called in ActionControllers,Bastian Waidelich,"",2010-10-20 05:39,MVC,"",2009-04-17,"","",100,2009-04-17 09:03,"","",1782700,"","","It seems, canProcessRequest() is never called in Action Controllers, so CLI-Controllers can be called through the browser currently.
In processRequest() of \F3\FLOW3\MVC\Controller\ActionController s.th. like
<pre>if (!$this->canProcessRequest($request)) throw new \F3\FLOW3\MVC\Exception\UnsupportedRequestType(...)</pre>
is missing. Maybe it is possible to add a <pre>parent::processRequest($request, $response)</pre> instead, as there is quite some duplicated code in both Classes."
3122,TYPO3.Fluid,Bug,"",Resolved,Must have,ViewHelper arguments are not properly passed to render() method,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-04-17,"","",0,2009-04-17 11:36,"","",2601450,"","","If a ViewHelper registers different arguments than it accepts in the render()-method, arguments are not properly injected:
<pre>
class MyViewHelper extends \F3\Fluid\Core\TagBasedViewHelper {
	@param string $someArgument
	public function render($someArgument) {...}
}
</pre>

In this example $someArgument will have the value of the ""additionalAttributes""-argument that was registered in the parent ViewHelper."
3130,TYPO3.Flow,Bug,"",Resolved,Should have,ValidatorResolver does not work for float/numeric/mixed typed method arguments,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,Validation,1.0 alpha 1,2009-04-18,"","",0,2009-04-18 11:44,"","",1791550,"","","While implementing view helpers for Fluid I'm struggling with validation of the view helper arguments:

<pre>
/**
 * @param float $value The value to format
 */
public function render($value) {
}
</pre>

leads to the exception:
<pre>No validator found for argument name ""value"" with type ""float""</pre>

The same for @param numeric and probably some more.

Additionally, we should be able to skip the ""XSS-Filter"" in some cases..:
<pre>
<f3:form.textarea value=""Some 'Test'"" />
</pre>

leads to the exception:
<pre>Validation for argument name ""value"" in view helper ""F3\Fluid\ViewHelpers\Form\TextareaViewHelper"" FAILED. Expected type: ""string""; Given: ""string"".</pre>

internally, the error message is
<pre>
The given subject was not a valid text (contained XML tags). Got: ""Some 'Test'""
</pre>

Maybe
<pre>
@param mixed
</pre>
should be possible to allow to skip validation (Raw).."
3152,TYPO3.Flow,Bug,"",Resolved,Must have,The Reflection does not recognize changes in class files,Robert Lemke,Robert Lemke,2010-10-20 05:39,Reflection,1.0 alpha 1,2009-04-22,"","",100,2009-04-22 10:44,"","",1791500,"","","If a class file is changed in development context, the Reflection Service should re-reflect that class and store the new information. However, currently these changes are not detected and the cache must be flushed manually."
3153,TYPO3.Flow,Feature,"",New,Should have,Support of action based filter rules defined by annotation.,Robert Lemke,"",2015-01-25 12:23,MVC,"",2009-04-22,"","",0,2009-04-22 11:15,"","",1782650,"","","Similar to #3092 there should be a way to declare additional filter rules for the arguments of an action method:

<pre>
/**
 * @param string $theArgument
 * @filter $theArgument LowerCase, Trim
 */
public function theAction($theArgument) {
}
</pre>"
3240,TYPO3.Flow,Bug,"",Resolved,Must have,AOP cache is not emptied if class file is deleted,Robert Lemke,Robert Lemke,2010-10-20 05:39,Monitor,1.0 alpha 2,2009-05-07,"","",100,2009-05-07 08:24,"","",1795350,"","","I'm not 100% sure but this needs to be checked: If a class file is deleted or moved to a different namespace, the AOP Framework still tries to execute the cached proxy code. Maybe that's a bug in the File Monitor?"
3274,TYPO3.Flow,Bug,"",Resolved,Must have,Persistance session is not of scope prototype,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 1,2009-05-12,"","",100,2009-05-12 09:03,"","",1791450,"","","Probably \F3\FLOW3\Persistence\Session should be a prototype cause there is an annotation ""@prototype"" in the code.
That should be ""@scope prototype"" and a test should be added."
3275,TYPO3.Flow,Bug,"",Resolved,Must have,ValidatorResolver can't parse validator arguments containing round brackets,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Validation,1.0 alpha 2,2009-05-12,"","",100,2009-05-12 09:10,"","",1795300,"","","Currently validation arguments defined in @validate annotations cannot contain round brackets ')' because they'd be interpreted as the end of an argument expression. Additionally they can't contain commas and probably not even equal signs.

Make sure that either special characters can be escaped or that the values of the validation arguments have to be put into quotes.

Especially important for the RegularExpressionValidator."
3276,TYPO3.Flow,Feature,"",Resolved,Should have,Support Conjunction and Disjunction Composite validators,Robert Lemke,Christopher Hlubek,2010-10-20 05:39,Validation,1.0 alpha 1,2009-05-12,"","",100,2009-05-12 09:15,"","",1791400,"","","The ChainValidator should be replaced by two new validators: the ConjunctionValidator and the DisjunctionValidator. Both new validators are composite validators (consisting of a number of sub validators). The ConjunctionValidator combines validation results with AND, while the DisjunctionValidator uses OR."
3278,TYPO3.Flow,Bug,"",Resolved,Must have,Resource manager doesn't publish files without extension,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Utility,1.0 alpha 5,2009-05-12,"","",100,2009-05-12 12:42,"","",1797900,"","","If a file to be published doesn't have an extension (""MyPage"" instead of ""MyPackage.html""), the resource publisher throws:

#1: Notice: Undefined index: extension in /Users/Shared/Sites/dev/flow3/forge/Packages/Global/FLOW3/Classes/Utility/FileTypes.php line 425 "
3287,TYPO3.Fluid,Bug,"",Resolved,Must have,add @internal annotations,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-14,"","",100,2009-05-14 06:22,"","",2603050,"","",add @internal annotations
3288,TYPO3.Fluid,Bug,"",Resolved,Should have,ViewHelper fine tuning,Sebastian Kurfuerst,Bastian Waidelich,2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-14,"","",100,2009-05-14 06:25,"","",2603000,"","","- add correct documentation
- rename and move LinkViewHelpers
  link.*
  uri.*
  link -> link.action
  uri -> uri.action 
- *Do we want shortcuts?*
"
3289,TYPO3.Fluid,Feature,"",Resolved,Must have,view context,Sebastian Kurfuerst,"",2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-14,"","",100,2009-05-14 06:27,"","",2602950,"","","we need a view context to pass information from controller to view
TODO: Naming!"
3290,TYPO3.Fluid,Bug,"",Resolved,Must have,add ViewHelperContext,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-14,"","",100,2009-05-14 06:27,"","",2602900,"","","add ViewHelperContext
- getView
- getRequest
- addVariables, ..."
3291,TYPO3.Fluid,Feature,"",Needs Feedback,Should have,Cacheable viewhelpers,Sebastian Kurfuerst,"",2012-11-29 11:00,"","",2009-05-14,"","",0,2009-05-14 06:27,"","",2601350,"","",we need a concept for cacheable viewhelpers
3292,TYPO3.Fluid,Bug,"",Resolved,Should have,viewhelper backend support,Sebastian Kurfuerst,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-05-14,"","",100,2009-05-14 06:28,"","",2601300,"","",we need support for using viewhelpers in BE
3293,TYPO3.Fluid,Feature,"",Resolved,Should have,support for legacy TypoScript (with . at end),Sebastian Kurfuerst,"",2010-10-20 05:44,"",1.0.0 alpha 3,2009-05-14,"","",100,2009-05-14 06:37,"","",2603900,"","","I HATE IT!!! I just entered 20 lines, but now I will just solve the bug..."
3294,TYPO3.Fluid,Bug,"",Resolved,Should have,Introduce reflection cache,Sebastian Kurfuerst,"",2010-10-20 05:44,Core,1.0,2009-05-14,"","",100,2009-05-14 06:38,"","",2603550,"","",Introduce reflection cache
3295,TYPO3.Fluid,Bug,"",Resolved,Should have,implement shorthand syntax,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-14,"","",100,2009-05-14 06:40,"","",2602850,"","",example: {f:date()} - the () are mandatory
3296,TYPO3.Fluid,Bug,"",Resolved,Must have,override templatePath,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-05-14,"","",100,2009-05-14 06:46,"","",2601250,"","",override templatePath with TypoScript
3297,TYPO3.Fluid,Feature,"",Closed,Should have,flash message,Sebastian Kurfuerst,"",2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-14,"","",0,2009-05-14 06:47,"","",2602800,"","",implement flash message
3298,TYPO3.Fluid,Bug,"",Resolved,Should have,"""if"" expression language",Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,Core,1.0.0 alpha 2,2009-05-14,"","",100,2009-05-14 07:04,"","",2603500,"","","""if"" expression language - we need some expression language for IF"
3302,TYPO3.Flow,Feature,"",Resolved,Must have,"Implement a ""Controller Context""",Robert Lemke,Christopher Hlubek,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-14,"","",100,2009-05-14 10:44,"","",1791350,"","","We need a new class ""ControllerContext"" which contains contextual information about a controller:

 * the request object
 * the response object
 * arguments
 * argumentsMappingResults
 * the URI Builder instance

The ControllerContext is a property of the AbstractController. 

ActionController->initializeView() should inject the ControllerContext into the view. The request should not be injected anymore (therefore the view needs to be refactored)."
3303,TYPO3.Flow,Task,"",Resolved,Should have,Rename URIHelper to URIBuilder,Robert Lemke,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-14,"","",100,2009-05-14 10:53,"","",15700,"","","Refactor:

old: \F3\FLOW3\MVC\View\Helper\URIHelper 
new: \F3\FLOW3\MVC\Web\Routing\URIBuilder

"
3305,TYPO3.Flow,Feature,"",Accepted,Must have,Unmodified objects retrieved from a repository should not be validated in the controller,Robert Lemke,Robert Lemke,2014-03-04 08:51,MVC,"",2009-05-14,"","",0,2009-05-14 11:45,"","",1782600,"","",Unmodified objects retrieved from a repository should not be validated in the controller
3306,TYPO3.Flow,Feature,"",Accepted,Should have,Flush routes cache automatically on class file modifications,Robert Lemke,Robert Lemke,2013-05-06 06:34,MVC,"",2009-05-14,"","",0,2009-05-14 12:42,"","",1782550,"","","If a class containing a route part handler is changed, we also need to flush the routes cache because other routes might match now."
3311,TYPO3.Fluid,Task,"",Closed,Should have,Refactor Unit tests,Bastian Waidelich,"",2011-05-05 12:28,"","",2009-05-15,"","",0,2009-05-15 05:24,"","",15750,"","",One unit test should only depend on *one* concrete class. All dependencies must be mocked or put in fixtures to avoid sideeffects and to reduce the adaption work that is needed when changing class/method signatures.
3312,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Allow for easy logging by annotations,Robert Lemke,Robert Lemke,2010-10-20 05:39,Log,"",2009-05-15,"","",0,2009-05-15 05:36,"","",1782500,"","","For debugging but also other purposes, it would be nice to be able to log a method call by just adding an annotation to it.

This logs any call of the method into the SystemLogger with severity level ""DEBUG"" and stores the argument values in the additionalData arg:
<pre>
/**
 * A method
 * 
 * @param string $someArgument
 * @return string 
 * @log before
public function myMethod($someArgument) {
   ...
}
</pre>

This is identical:
<pre>
/**
 * A method
 * 
 * @param string $someArgument
 * @return string 
 * @log before (logger = SystemLogger)
public function myMethod($someArgument) {
   ...
}
</pre>

Here the method invokation is logged to a logger with identifier ""MyLog"", with severity WARNING
<pre>
/**
 * A method
 * 
 * @param string $someArgument
 * @return string 
 * @log before (logger = MyLog, severity = WARNING)
public function myMethod($someArgument) {
   ...
}
</pre>

This logs the method call with a custom message:
<pre>
/**
 * A method
 * 
 * @param string $someArgument
 * @return string 
 * @log before (message = ""Called my method with $someArgument"")
public function myMethod($someArgument) {
   ...
}
</pre>

This logs the method call and the returning:
<pre>
/**
 * A method
 * 
 * @param string $someArgument
 * @return string 
 * @log around
public function myMethod($someArgument) {
   ...
}
</pre>

So basically you have the same types like for AOP advices:

 * @log before
 * @log after
 * @log afterReturning
 * @log afterThrowing
 * @log around

"
3317,TYPO3.Fluid,Feature,"",Resolved,Must have,AbstractFormViewHelper must be adjusted to be able to namespace arguments,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-05-15,"","",100,2009-05-15 10:33,"","",2601200,"","",see http://forge.typo3.org/issues/show/3316
3322,TYPO3.Flow,Task,"",Closed,Should have,Use mocked objects instead of real ones in the RouteTest,Robert Lemke,"",2010-10-20 05:39,MVC,1.0 alpha 2,2009-05-15,"","",0,2009-05-15 15:59,"","",15800,"","",The testcase for F3\FLOW3\MVC\Web\Routing\Route currently uses the real Object Manager and Object Factory for testing. Should be converted to mocks.
3337,TYPO3.Flow,Feature,"",Resolved,Should have,Allow to count lazy-loaded objects without fetching them from the persistence layer,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2009-05-16,"","",100,2009-05-16 05:04,"","",1782450,"","","It should be possible to count objects in a repository without the need to actually fetch and initialize them.
It would be useful to be able to call <pre>count($blog->posts);</pre> without actually fetching all posts."
3339,TYPO3.Fluid,Bug,"",Resolved,Must have,TagBuilder->setContent should not escape HTML,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-05-16,"","",100,2009-05-16 06:18,"","",2601150,"","",TagBuilder->setContent should not escape HTML
3359,TYPO3.Fluid,Bug,"",Resolved,Should have,Restructure Class structure in Fluid Core,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-18,"","",100,2009-05-18 03:29,"","",2602750,"","","I propose to change the Fluid Core classes like that:

Core/
	ViewHelper/
		Facets/
		AbstractViewHelper
		TagBasedViewHelper
		TagBuilder
		ViewHelperContext
		ViewHelperException?
		ViewHelperInterface
		ViewHelperArguments -> Arguments?
	Parser/
		SyntaxTree/
		ParsedTemplateInterface
		ParsingException?
		ParsingState
		TemplateParser

This changes the following public API classes:
Core\TemplateParser -> Core\Parser\TemplateParser.

"
3368,TYPO3.Flow,Task,"",Resolved,Should have,Move setArgumentsFromRawRequestData() from Router to RequestBuilder,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-18,"","",100,2009-05-18 17:32,"","",16000,"","","That method currently doesn't really do anything Routing-related, so it should be moved from
<pre>F3\FLOW3\MVC\Web\Routing\Router</pre>
to
<pre>F3\FLOW3\MVC\Web\RequestBuilder</pre>"
3370,TYPO3.Flow,Feature,"",Resolved,Must have,Add lifetime parameter to set method of cache frontend,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Cache,1.0 alpha 1,2009-05-19,"","",100,2009-05-19 06:15,"","",1791300,"","","The cache frontends do not have a parameter for the lifetime, add it."
3373,TYPO3.Flow,Task,"",Resolved,Must have,Check the fixpermissions script,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,"",1.0 alpha 1,2009-05-19,"","",100,2009-05-19 06:57,"","",16050,"","","The fixpermissions.sh script might not work completely anymore and needs to be updated.
Please also rename it to ""setfilepermissions.sh""
"
3374,TYPO3.Flow,Task,"",Rejected,Could have,Support dedicated package versions per context,Robert Lemke,Karsten Dambekalns,2012-11-07 05:40,Package,"",2009-05-19,"","",0,2009-05-19 07:02,"","",16100,"","","It should be possible to run different versions of a package depending on the application context. This would allow anyone to test new versions in dev context before staging it to production.

As already discussed, the directory structure should be:

/myhome/Packages/Local/Blog/Development/
/myhome/Packages/Local/Blog/Production/

etc.

It should still be possible to have only one version for all contexts:

/myhome/Packages/Local/Blog/

If there are context specific versions or not can be detected by checking for the existence of the Meta/Package.xml"
3375,TYPO3.Flow,Bug,"",Resolved,Must have,PATH_INFO is empty using fastcgi / Windows,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,MVC,1.0 alpha 8,2009-05-19,"","",100,2009-05-19 07:07,"","",1803450,"","","During the T3DD09 someone said that some parts of the routing don't work properly when using fastcgi (on Windows?) because PATH_INFO is always empty on that platform.

Please verify this and check how it can be solved."
3376,TYPO3.Flow,Feature,"",Resolved,Must have,Implement a more attractive and informative default view,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-19,"","",100,2009-05-19 07:11,"","",1791250,"","","The FLOW3 default view should contain more helpful information such as:

 - what you can do next
 - a link to the test runner so you can run all tests
 - a link to online tutorials (next steps, how to create a package etc.)
 - a link to the wiki / releas notes
 - a link to the issue tracker
 - a link to the mailing list
"
3377,TYPO3.Flow,Task,"",Resolved,Must have,Move the manual to a DocBook subdirectory,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 1,2009-05-19,"","",100,2009-05-19 07:15,"","",16150,"","","Currently the manual is located in
<pre>
FLOW3/Documentation/Manual/en/
</pre>
This should be changed to
<pre>
FLOW3/Documentation/Manual/DocBook/en/
FLOW3/Documentation/Manual/HTML/en/
FLOW3/Documentation/Manual/PDF/en/
</pre>
to allow for more formats which will be generated automatically during packaging."
3379,TYPO3.Flow,Task,"",Resolved,Must have,Write installation instructions for Windows,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 1,2009-05-19,"","",100,2009-05-19 08:28,"","",16200,"","",We need some instructions for installing FLOW3 on Windows. Please add these instructions to the FLOW3 DocBook manual.
3380,TYPO3.Flow,Task,"",Resolved,Must have,Write installation instructions for MacOS,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 1,2009-05-19,"","",100,2009-05-19 08:29,"","",16250,"","",We need some instructions for installing FLOW3 on Mac OS X. Please add these instructions to the FLOW3 DocBook manual.
3381,TYPO3.Flow,Task,"",Resolved,Must have,Write installation instructions for Debian,Robert Lemke,Andreas Förthner,2010-10-20 05:39,- Documentation -,1.0 alpha 1,2009-05-19,"","",100,2009-05-19 08:29,"","",16300,"","",We need some instructions for installing FLOW3 on Debian. Please add these instructions to the FLOW3 DocBook manual.
3382,TYPO3.Flow,Feature,"",Resolved,Should have,Make Fluid the default templating engine in FLOW3,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-19,"","",100,2009-05-19 08:39,"","",1791200,"","","Fluid should be the default templating engine in FLOW3. Therefore we need to

- use the Fluid template view as the standard view in the controllers:
<pre>
	/**
	 * Use Fluid as the default template engine
	 * @var string
	 */
	protected $defaultViewObjectName = 'F3\Fluid\View\TemplateView';

	/**
</pre>
- add Fluid to the dependencies of the FLOW3 package"
3385,TYPO3.Fluid,Feature,"",Resolved,Must have,Add method to check for template availability,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:44,"",1.0.0 alpha 1,2009-05-19,"","",100,2009-05-19 10:42,"","",2602700,"","",It must be possible to ask Fluid\TemplateView if it could resolve a template file for the current controller context.
3394,TYPO3.Fluid,Task,"",Resolved,Should have,Adjust PHPDoc Comment of ImageViewHelper,Susanne Moog,Bastian Waidelich,2010-10-20 05:44,"","",2009-05-20,"","",0,2009-05-20 09:09,"","",16450,"","","At a first glance it's not logical that the width and height are expected to be strings whereas maxWidth etc. are expected to be integer values. The PHPDoc comment should better explain, that you can enter image manipulating values into width and height. I'm not really sure about the exact text, but I attached a patch that in my opinion makes it a bit clearer."
3398,TYPO3.Flow,Task,"",Resolved,Should have,Are methods in CLI\Request still used?,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-20,"","",100,2009-05-20 13:16,"","",16500,"","","In the CLI Request I currently find these functions:

<pre>
	/**
	 * Sets the arguments given to this request.
	 *
	 * @param array $arguments
	 * @return void
	 * @author Karsten Dambekalns <karsten@typo3.org>
	 */
	public function setCLIArguments(array $arguments) {

	/**
	 * Returns the arguments given to the request.
	 *
	 * @return array
	 * @author Karsten Dambekalns <karsten@typo3.org>
	 */
	public function getCLIArguments() {
</pre>

Are they still in use? Why do we need special arguments for CLI?"
3400,TYPO3.Flow,Task,"",Resolved,Must have,Is FLOW3\Utility\GenericCollection obsolete?,Robert Lemke,Bastian Waidelich,2010-10-20 05:39,Utility,1.0 alpha 1,2009-05-20,"","",100,2009-05-20 13:50,"","",16550,"","",Is FLOW3\Utility\GenericCollection obsolete? It seems like a SPLObjectStorage can be used instead - or at least the GenericCollection could use one.
3401,TYPO3.Flow,Feature,"",Resolved,Must have,Object validation errors don't have a reasonable structure,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:39,Validation,"",2009-05-20,"","",100,2009-05-20 15:32,"","",1782400,"","","When validating properties of objects with validators, the errors must be nested just like the properties that were validated.

If this is not the case, validation errors cannot be assigned to single properties in after doing the validation. This is needed for the very simple case of displaying input fields with errors in the frontend."
3404,TYPO3.Flow,Bug,"",Resolved,Should have,Refactor ControllerContext to be built only before passing it to the View,Sebastian Kurfuerst,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-21,"","",100,2009-05-21 05:05,"","",1791150,"","","$this->controllerContext should not be available in the Controller, but just be passed on to the View.

There is one question remaining: Should the URIHelper / URIBuilder get this whole object, or just the Request object?

Greets,
Sebastian"
3412,TYPO3.Fluid,Bug,"",Resolved,Should have,ViewHelperNode.php -> convertArgumentValue() -- wrong handling of integers and booleans,Susanne Moog,Bastian Waidelich,2010-10-20 05:44,Core,"",2009-05-22,"","",100,2009-05-22 02:51,"","",2601050,"","","If you enter in some fluid if condition a parameter that is a true boolean like TRUE it gets converted to FALSE by the convertArgumentValue(). Same happens if the value is an integer != 0, it's still evaluated to false. Attached patch fixes it for me."
3413,TYPO3.Fluid,Feature,"",Resolved,Could have,Handing the settings over to the view,Susanne Moog,Sebastian Kurfuerst,2010-10-20 05:44,Core,1.0.0 alpha 2,2009-05-22,"","",100,2009-05-22 02:53,"","",2603450,"","",Hand over $this->settings to the view so it is accessible by {settings} in the template.
3415,TYPO3.Flow,Bug,"",Resolved,Could have,Sorting of $classNamesToReflect in the reflection Service might cause PHP error,Irene Höppner,Karsten Dambekalns,2010-10-20 05:39,Reflection,1.0 alpha 5,2009-05-22,"","",100,2009-05-22 03:56,"","",1797850,"","","In the method F3\FLOW3\Reflection\reflectEmergedClasses() the $classNamesToReflect-array is being sorted before it's being traversed.

Thus packages like FLOW3CGL are reflected before the FLOW3 package (i guess that's the reason..). If these ""earlier"" packages are buggy, they don't run into an exception, but cause a PHP Error:

""PHP Fatal error:  Class 'F3\\FLOW3\\Error\\Exception' not found in /var/www/FLOW3/Packages/Local/FLOW3CGL/Classes/Model/MessageQueue.php on line 78""

"
3433,TYPO3.Flow,Bug,"",Resolved,Must have,Routes in packages are overruled by global configuration,Christopher Hlubek,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-24,"","",100,2009-05-24 04:08,"","",1791100,"","","In the current implementation the route configuration is first loaded from all packages, then overwritten or appended by the global configuration. When matching the routes, the configured routes are matched in reverse order.

# Packages
## Global packages
## Local packages
# Global configuration
# Global context dependent configuration

Since the default routes are in the global configuration, a package cannot put a new route after the default routes or overwrite them. So the route configuration in packages is currently pretty useless and will not be applied. *This is not inituitive.*

There has to be a prioritization at a later stage, but for now it should suffice to have the default routes in the FLOW3 package and an empty global routes configuration. But a problem that arises with this solution is, that the route order will be bound to the order of the packages when loading the configuration. But as local packages come last, the behaviour would be more intuitive."
3434,TYPO3.Flow,Bug,"",Resolved,Should have,getPackageMetaData() will throw an exception,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:39,Package,"",2009-05-24,"","",100,2009-05-24 04:44,"","",1782350,"","","When using the package manager to get a package and read the metadata there will be an exception. The metadata reader is not injected properly, because package objects are not created using the object factory and the metadata reader is not injected."
3435,TYPO3.Flow,Feature,"",Resolved,Should have,A package should be able to return it's documentations,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:39,Package,"",2009-05-24,"","",100,2009-05-24 06:49,"","",1782300,"","","The whole documentation for packages lies in the package's @Documentation@ directory. For each single documentation (e.g. _Manual_) there is a subfolder in this directory. In these documentation directories are folders for formats and finally different languages.

The package should have an object model that reflects this structure."
3441,TYPO3.Flow,Task,"",Resolved,Should have,Routing: Don't process routes in reverse order,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-24,"","",100,2009-05-24 17:25,"","",16750,"","","Currently routes are processed from bottom to top.
We decided to change that as it seems to be more intuitive to work off routes from top to bottom.
It should be enough to remove the array_reverse calls in \F3\FLOW3\Web\Routing\Router."
3443,TYPO3.Fluid,Bug,"",Resolved,Should have,Unreachable code in TemplateView,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,Core,1.0.0 alpha 3,2009-05-25,"","",100,2009-05-25 06:04,"","",2603850,"","","line 246 in F3\Fluid\View\TemplateView can never be reached as there is a return before that:

<pre>
		return $parsedTemplate->render($renderingContext);
		
		
		// TODO -> Never executed???
		if ($sectionToRender !== NULL) {
			$sections = $partial->getVariableContainer()->get('sections');
			if(!array_key_exists($sectionToRender, $sections)) {
				throw new \F3\Fluid\Core\RuntimeException('The given section does not exist!', 1227108983);
			}
			$syntaxTree = $sections[$sectionToRender];
		} else {
			$syntaxTree = $partial->getRootNode();
		}
		$syntaxTree->setRenderingContext($renderingContext);
		return $syntaxTree->evaluate();
</pre>"
3451,TYPO3.Flow,Bug,"",Resolved,Must have,LazyLoadingProxy must mark property as clean after activation,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 1,2009-05-25,"","",100,2009-05-25 09:50,"","",1791050,"","","Make sure we mark the property as clean after setting it on the parent in _loadRealInstance(), so it is not considered dirty because of the activation/replacement..."
3457,TYPO3.Flow,Task,"",Resolved,Must have,Write Routing documentation,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,- Documentation -,1.0 alpha 1,2009-05-25,"","",0,2009-05-25 11:31,"","",17000,"","",Add section about routing to FLOW3 documentation
3463,TYPO3.Flow,Bug,"",Closed,Must have,Short option names for CLI calls do not work anymore,Karsten Dambekalns,"",2011-04-08 06:39,MVC,"",2009-05-25,"","",0,2009-05-25 17:58,"","",1782250,"","",Sometime during the argument registration changes in the past weeks short option names for CLI calls got broken. Using long option names works.
3466,TYPO3.Flow,Task,"",Resolved,Must have,Update / move GPL.txt file in FLOW3 distribution,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 1,2009-05-26,"","",100,2009-05-26 08:15,"","",17100,"","","Currently there's a GPL.txt file (containing GPL v2 text) in the FLOW3 distribution's main directory. Remove that.

In Packages/Global/FLOW3/Documentation/ there are two COPYING files - do we need the on about GPL v3? Can we rename the file containing the LGPL v3 text to ""License.txt"" ?
"
3467,TYPO3.Flow,Feature,"",Resolved,Could have,Implement meaningful / helpful default view for Production context,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 5,2009-05-26,"","",100,2009-05-26 14:19,"","",1797800,"","",In the production context we should display some meaningful information about how to configure FLOW3 to run in a different context (by setting ENV in .htaccess for example) and that only in Development context caches are flushed automatically etc.
3477,TYPO3.Flow,Bug,"",Resolved,Must have,Objects added to a (persistence) repository don't have have a uuid,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 1,2009-05-27,"","",100,2009-05-27 05:04,"","",1791000,"","","Newly created objects which are added to a repository don't have a uuid before they are persisted:

<pre>
	/**
	 * @param \F3\Releazr\Domain\Model\Release $newRelease
	 * @return string
	 */
	public function createAction(\F3\Releazr\Domain\Model\Release $newRelease) {
		$this->releaseRepository->add($newRelease);
		$this->redirect('show', NULL, NULL, array('release' => $newRelease));
	}
</pre>

The redirect in the above example doesn't work because the URI needs to know the UUID of $newRelease which yet doesn't exist.

Solution: Let the (release) repository create a UUID and let the CR take that UUID as a hint for later persistence."
3479,TYPO3.Fluid,Feature,"",Resolved,Should have,Implement ViewHelperVariableContainer,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,Core,1.0.0 alpha 1,2009-05-27,"","",100,2009-05-27 05:54,"","",2602650,"","",Implement ViewHelperVariableContainer
3480,TYPO3.Fluid,Bug,"",Resolved,Must have,SelectViewHelper creates multiple select field by default,Robert Lemke,Sebastian Kurfuerst,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 1,2009-05-27,"","",100,2009-05-27 05:59,"","",2602600,"","","This Fluid HTML

<pre>
<f:form.select property=""versionNumber"" options=""{nextPossibleVersions}"" />
</pre>

is rendered as 

<pre>
<select name=""newRelease[versionNumber][]"">
<option value=""0"">1.0.0-alpha1</option>
<option value=""1"">1.0.0-beta1</option>
</select>
</pre>

even though I didn't specify a ""multiple"" argument. This is not what I'd expect."
3481,TYPO3.Fluid,Bug,"",New,Should have,Use ViewHelperVariableContainer in PostParseFacet,Sebastian Kurfuerst,"",2011-10-21 07:37,Core,"",2009-05-27,"","",0,2009-05-27 06:05,"","",2601000,"",FLOW3 1.0.0,Currently TemplateVariableContainer is used
3487,TYPO3.Flow,Feature,"",Resolved,Must have,Add FLOW3_AOP_Proxy_hasProperty to AOP proxies,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,AOP,1.0 alpha 2,2009-05-27,"","",100,2009-05-27 07:28,"","",1795250,"","",This is need to resolve #3486
3488,TYPO3.Flow,Bug,"",Resolved,Must have,Parameters of actions which have a name containing uppercase characters are not automatically registered,Robert Lemke,"",2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-27,"","",100,2009-05-27 08:25,"","",1790950,"","","Automatic parameter registration works for the regular CRUD actions:

<pre>
public function createAction($myParameter) 
</pre>

but doesn't work if there's an uppercase character in the action name:

<pre>
public function createFooAction($myParameter)
public function createMyBarAction($myParameter)
</pre>

This is due to case conversion problems in the Action Controller and finally fails in this line:

<pre>
	protected function initializeActionMethodArguments() {
		$methodParameters = $this->reflectionService->getMethodParameters(get_class($this), $this->actionMethodName);
</pre>

because $this->actionName contains for example ""createmybarAction"""
3507,TYPO3.Flow,Task,"",Resolved,Must have,Apply new conventions for naming of Domain Models and Repositories,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,"",1.0 alpha 2,2009-05-29,"","",100,2009-05-29 03:49,"","",17150,"","","The naming conventions for domain models, validators and repositories should change to the following scheme:

<pre>
\F3
  \Blog
    \Domain
      \Model
        Blog
        CommentInterface
        AbstractComment
        GoodComment
        Badcomment
      \Repository
        BlogRepository
        PostRepository
      \Validator
        BlogValidator
        EverythingFineValidator
</pre>

This probably requires changes in the resolving mechanism for validators and repositories.
Make sure that also substructures are supported:

<pre>
    \Domain
      \Model
        \Content
          ContentInterface
          AbstractContent
          Page
          Text  
        Site
        StructureNode
      \Repository   
        \Content
          PageRepository
        SiteRepository
        StructureNodeRepository
</pre>

Document the new conventions in the manual."
3513,TYPO3.Flow,Bug,"",Resolved,Must have,Created logfiles are read-only for either command line user or web user,Robert Lemke,Robert Lemke,2010-10-20 05:39,Log,1.0 alpha 1,2009-05-29,"","",100,2009-05-29 05:04,"","",1790900,"","","The logfiles created by the FileBackend automatically are owned by the current user running the script - that may be the webserver's user if FLOW3 is accessed from the web or another user if called from the command line. The problem is that whoever runs FLOW3 first, owns the log file and the default access rights are something like <pre>-rw-r--r-</pre>. If the other user tries to run FLOW3, it will fail because it can't write to the log file.

Therefore we should set the access rights to <pre>-rw-rw---</pre> upon creating the file. This should happen in the open() method of the FileBackend."
3519,TYPO3.Flow,Bug,"",Resolved,Should have,"typo: Misspelling of ""successful"" (was: sucessful)",Steffen Gebert,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2009-05-29,"","",100,2009-05-29 10:43,"","",1790850,"","","sucessful(ly) -> successful(ly)

Greets
Steffen"
3525,TYPO3.Fluid,Feature,"",Resolved,Should have,"translateViewHelper and key=""LLL:EXT:lang/locallang_core.xml:show_item.php.table"" ",Susanne Moog,Bastian Waidelich,2010-10-20 05:44,"","",2009-06-01,"","",100,2009-06-01 10:35,"","",2600950,"","","The translateViewHelper should be able to resolve referenced paths to external lang files given in the form key=""LLL:EXT:lang/locallang_core.xml:show_item.php.table"". "
3529,TYPO3.Flow,Bug,"",Resolved,Must have,Detection of new objects in argument handling fails,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 1,2009-06-01,"","",100,2009-06-01 16:24,"","",1790800,"","","The symptom is @#1237305720: Argument ""newBlog"": Querying the repository for the specified object was not successful.@

When looking closer it turns out that on the first error all is well, but when submitting a second time, the exception is thrown. The reason is, that we rely on a new object to not have an UUID. But with the resolution of #3477 all entities get an UUID upon creation - boom."
3532,TYPO3.Flow,Bug,"",Resolved,Should have,Package Manager creates new packages at wrong location,Tim Eilers,Karsten Dambekalns,2010-10-20 05:39,Package,1.0 alpha 1,2009-06-01,"","",100,2009-06-01 17:56,"","",1790750,"","","(The used OS was Debian Lenny)

Perhaps i did something wrong, but i just followed the instructions of the Welcome package and entered 
<pre>
./flow3 package create MyPackage
</pre>

I expected my package somewhere under the Packages subfolder, but it was created at / ( /MyPackage/ ).

If it is works-as-designed please close this bug, but point me to the option where i can control the folder where the package will be created.

If it is a bug it should be fixed and create a package in the Local subfolder of the Packages subfolder."
3534,TYPO3.Flow,Bug,"",Resolved,Must have,File permission issues,Tim Eilers,Robert Lemke,2010-10-20 05:39,Core,1.0 alpha 3,2009-06-02,"","",100,2009-06-02 05:48,"","",1796300,"","","There are still some file persmission issues, which won't kill you, but are not perfectly clean in sense of security and beautiness:

* package manager creates 777-ed folders
* setfilepermissions.sh gives group write permission to some folders. this maybe fine on MacOS but not on some Linux environments. i think this was done for the logfile problem, but it isnt needed anymore
* setting folder and file permissions should be mentioned in documentation, because it is not everywhere possible to run the setfilepermissions.sh script. it should also cover situations where it is not possible to ""chown"" to webserver user (then set the needed folders to write permission for others aka 777 or 757) or special suexec/fastcgi environments (then changing anything isn't needed at all!).
* Public/Resources needs webservers write permission (perhaps that is already fixed)
* there are rare cases where the CLI user is not root, that should be no problem at the moment, but always kept in mind...
* Data/Temporary is 777-ed at the moment, too. it has to, since both CLI and Web requests create some hash-named folders. perhaps this could be changed to CLI/Web subfolders like it was done for the Logfiles?"
3535,TYPO3.Flow,Bug,"",Resolved,Should have,Temoprary files no longer end up in Data/Temporary,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Environment,1.0 alpha 1,2009-06-02,"","",100,2009-06-02 08:06,"","",1790700,"","",Since the introduction of initializeEnvironment() in F3\FLOW3 the temporary directory base is no longer set to the value given in the configuration (because new is used and the configuration would not be available anyway).
3537,TYPO3.Flow,Bug,"",Resolved,Must have,Subroute placeholders appear in URL if no replaced,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Configuration,1.0 alpha 2,2009-06-02,"","",100,2009-06-02 14:12,"","",1795200,"","","From IRC:
after deleting the welcome package i get strange subroutes for e.g. documentation ""http://flow3-alpha1.local/%3Cwelcomesubroutes%3E?packageKey=FLOW3&documentationName=Manual&language=en&%40action=index&%40controller=Standard&%40package=DocumentationBrowser"""
3544,TYPO3.Flow,Bug,"",Resolved,Must have,CLI logs end up in the Web folder due to bug in Utility\Environment,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Environment,1.0 alpha 2,2009-06-03,"","",100,2009-06-03 02:31,"","",1795150,"","","CLI logs end up in the same folder as Web logs, due to a bug introduced with r2525 (which fixed #3535)."
3550,TYPO3.Flow,Bug,"",Closed,Should have,Uncaught FLOW3 Exception in FileBackend on Windows,David Bruehlmeier,"",2010-10-20 05:39,Cache,"",2009-06-03,"","",0,2009-06-03 13:05,"","",1782200,"","","When starting the 1.0.0-alpha1 welcome screen, an ""Uncaught FLOW3 Exception"" is shown (see below). The exception stays even when reloading the page.

My environment:
* PHP 5.3.0RC1
* Apache/2.2.11 (Win32)
* Windows XP Professional Service Pack 3

<pre>
Uncaught FLOW3 Exception
#1: Warning: touch() [function.touch]: Unable to create file D:/Server/localhost/FLOW3-1.0.0-alpha1/Data/Temporary/5775c602eb68e9f81ff2ed205a288533/default/Cache/Development/Tags/%CLASS%F3_DocumentationBrowser_RoutePartHandlers_FileRoutePartHandler/FLOW3_Reflection^F3_DocumentationBrowser_RoutePartHandlers_FileRoutePartHandler because No such file or directory in D:\Server\localhost\FLOW3-1.0.0-alpha1\Packages\Global\FLOW3\Classes\Cache\Backend\FileBackend.php line 183 (More information)

F3\FLOW3\Error\Exception thrown in file
D:\Server\localhost\FLOW3-1.0.0-alpha1\Packages\Global\FLOW3\Classes\Error\ErrorHandler.php in line 98.
</pre>"
3551,TYPO3.Fluid,Bug,"",Resolved,Should have,HtmlViewHelper outputs htmlspecialchared code,Joerg Schoppet,Sebastian Kurfuerst,2010-10-20 05:44,Core,1.0.0 alpha 2,2009-06-03,"","",100,2009-06-03 13:51,"","",2603400,"","","Hi,

using the HtmlViewHelper at least in typo3 4.3 the output is always htmlspecialchared.

Adding:
@$value = htmlspecialchars_decode($value);@

after line 71 of Tx_Fluid_ViewHelpers_Format_HtmlViewHelper

solve this problem. But I don't know if this is the wanted way."
3559,TYPO3.Flow,Task,"",Resolved,Could have,Get rid of state in Package.xml files,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Package,1.0 alpha 2,2009-06-04,"","",100,2009-06-04 04:21,"","",17350,"","","*Theory:*

The state in Package.xml is redundant (should be in the version number) and will cause inconsistencies over time (just look at the number of extension in TER being beta although stable for years). We should get rid of it."
3560,TYPO3.Flow,Feature,"",Resolved,Should have,Display meaningful error message if temporary path would be too long for OS,Robert Lemke,Bastian Waidelich,2010-10-20 05:39,Utility,1.0 alpha 3,2009-06-04,"","",100,2009-06-04 04:27,"","",1796250,"","","Certain setups (Windows ...) don't allow long path names. If FLOW3 is installed somewhere deep in the file structure, the path + file name for the caches and temp directory can become too long.

Currently this results in an exception thrown when trying to write to that directory (see #3550) but this could be checked earlier, when the temp directory is created in Utility\Environment. A meaningful error message would help to configure FLOW3 correctly."
3567,TYPO3.Flow,Task,"",Resolved,Could have,Define FLOW3_SAPITYPE constant in bootstrap,Bastian Waidelich,"",2010-10-20 05:39,Environment,"",2009-06-04,"","",100,2009-06-04 13:26,"","",17400,"","","IMO global constants are as bad as global variables. So I'm happy there are only 4 constants needed yet in FLOW3.
They're all defined in FLOW3-bootstrap - except FLOW3_SAPITYPE, that's defined in the constructor of F3\FLOW3\Utility\Environment if it hasn't been defined before.
Attached patch fixes this. But maybe \F3\FLOW3\Utility\Environment::getSAPIType() could be a static method too so we wouldn't need to instantiate it at all and could move the Constant-definition up to the other three defines()..."
3568,TYPO3.Flow,Bug,"",Resolved,Should have,PHP version check comes too late on non-namespaced PHP versions,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,"",1.0 alpha 2,2009-06-04,"","",100,2009-06-04 16:59,"","",1795100,"","","Using FLOW3 on PHP < 5.3 ends with a fatal error about an illegal input character (backspace). There is a version check in FLOW3.php, but it comes too late: The parsing is done before any execution, so the backslash in Public/index.php causes a fatal error (as would any backslashes in FLOW3.php)."
3569,TYPO3.Flow,Bug,"",Resolved,Should have,setfilepermissions.sh: with non-writable Temporary folder caches end up elsewhere (CLI mode),Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,Core,1.0 alpha 2,2009-06-04,"","",0,2009-06-04 17:17,"","",1795050,"","","Just had weird fatal errors in CLI mode, and it turned out the cache was in /tmp/ instead of Data/Temporary/ - because the latter was not writable. setfilepermissions.sh set owner and group, but the folder needs to be writable also for the CLI user (analog to the Logs folder)."
3580,TYPO3.Flow,Feature,"",New,Must have,Create an administration panel for the FLOW3 Development context,Robert Lemke,"",2011-10-13 09:21,MVC,"",2009-06-05,"","",0,2009-06-05 04:31,"","",1782150,"","","We need some kind of admin panel which is (can be) displayed on the page rendered by FLOW3 and provides some useful information to the developer. That could be:

* Information about caches, ability to flush certain caches
* Information about routing (which route matched etc.)
* Memory consumption / parse time
* Tail of certain logs ?

The graphical design and code architecture should allow for third party packages to plugin to the panel for providing custom functionality.

Before this ticket can be close we need (solved in separate tickets - please create some):

* A UI concept and after that, an actual design
* A rough concept for the implementation
* The actual implementation"
3581,TYPO3.Flow,Feature,"",Resolved,Must have,Site lock / code cache flushing mechanism,Robert Lemke,Robert Lemke,2010-10-20 05:39,Cache,1.0 alpha 2,2009-06-05,"","",100,2009-06-05 04:36,"","",1795000,"","","We need a concept and implementation for flushing critical caches like the code caches.

In order to flush the code caches, we need to completely lock the application so that no requests come through while the php classes are deleted or rebuilt (which obviously would lead to some fatal error). This locking mechanism should be as simple as the bootstrap checking for the presence of a file (like FLOW3_SITE_LOCK)."
3582,TYPO3.Flow,Task,"",Closed,Should have,Concurrency stress test,Robert Lemke,Robert Lemke,2010-10-20 05:39,- Testing -,1.0 alpha 2,2009-06-05,"","",100,2009-06-05 04:42,"","",17550,"","","Currently we have only few experience with multiple concurrent users accessing FLOW3 at the same time. This ticket is about testing the behavior of FLOW3 when running simultaneous requests.

What we especially need to find out is

* how FLOW3 reacts if caches are empty
* how FLOW3 reacts in production context if caches are filled (theoretically shouldn't be a problem at all)
* if accessing FLOW3 in development context has any side effects on the Production context (shouldn't ...)
* how FLOW3 scales performance wise

Try to detect any race conditions so we can make them atomic.
"
3583,TYPO3.Flow,Task,"",Closed,Must have,Profiling of persistence framework / CR,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 2,2009-06-05,"","",0,2009-06-05 04:59,"","",17600,"","",We need to have an intensive profiling session for figuring out where the weaknesses currently are regarding speed of persistence.
3584,TYPO3.Flow,Task,"",Resolved,Must have,Write a getting started tutorial,Robert Lemke,Robert Lemke,2010-10-20 05:39,- Documentation -,1.0 alpha 3,2009-06-05,"","",100,2009-06-05 05:09,"","",17650,"","","Especially for the welcome package but also in general we need some getting started tutorial which explains the first steps for creating a new package, controller, fluid template, persist stuff etc."
3585,TYPO3.Flow,Major Feature,"",New,Should have,Implement support for value objects,Robert Lemke,"",2013-02-20 08:45,"","",2009-06-05,"","",0,2009-06-05 05:12,"","",1782100,"","","Currently value objects are not truly supported as such - but we want that.
This ticket consists of several sub tasks (see related issues)"
3586,TYPO3.Flow,Feature,"",Resolved,Could have,Assure that value objects are immutable,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-03-16,"",1.00,100,2009-06-05 05:17,"","",1803400,"","","The concept of value objects is that they are solely identified by their value and that if two value objects have the same value, they are considered identical. This allows for sharing the same instance of a value object among other objects - but only if the value doesn't change afterwards.

Make sure that value objects are immutable. Properties of a value object should only be set through the constructor. To enforce that we could intercept any potential setters and throw an exception if they are called."
3587,TYPO3.Flow,Feature,"",New,Could have,Enforce validation rules for value objects already in constructor,Robert Lemke,"",2010-10-20 05:39,Validation,"",2009-06-05,"","",0,2009-06-05 05:21,"","",1782050,"","","Because the values of a value object can't be changed after instantiation, we should assure that only valid value objects exist. This should be done by validating the constructor arguments already in the constructor.

The validation mechanism should be introduced by some aspect (@around the constructor) and throw an exception if validation fails."
3588,TYPO3.Flow,Feature,"",Accepted,Should have,Support value objects in the Object Factory,Robert Lemke,Robert Lemke,2010-10-20 05:39,Object,"","","",12.00,0,2009-06-05 05:24,"","",1782000,"","","The Object Factory should have special support for value objects.

Value objects are in fact a mixture of protoype and singleton - although multiple instances of a class may exist, we should only create one instance with the same constructor arguments. The Object Factory (and Object Manager) should return an existing value object if a new one with exactly the same arguments (properties) is requested."
3592,TYPO3.Fluid,Feature,"",Resolved,Should have,Alias view helper for setting template variables,Christopher Hlubek,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 2,2009-06-05,"","",100,2009-06-05 09:56,"","",2603350,"","","There should be an alias view helper that can set variables in the template.

The following use cases should be supported:

<pre>
<f:alias value=""{foo.bar.baz}"" as=""x"">
{x.name}
</f:alias>
<f:alias map=""{x: foo.bar.baz, y: foo.bar.baz.name}"">
{x.name} or {y}
</f:alias>
</pre>
"
3595,TYPO3.Fluid,Feature,"",Closed,Should have,Convert integer types to boolean for if viewhelper,Balisky Christophe,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 2,2009-06-06,"","",0,2009-06-06 03:13,"","",2603300,"","","Hello, after wndeirng why certain if conditions didn't work in my flow templates, i figures out it was because it didn't convert interger values to boolean correctely. I suggest modifiying the convertArgumentValue method in the Tx_Fluid_Core_SyntaxTree_ViewHelperNode accordingly. Positive integer values superior to 0 are considered true all others are false.

	/**
	 * Convert argument strings to their equivalents. Needed to handle strings with a boolean meaning.
	 * 
	 * @param mixed $value Value to be converted
	 * @param string $type Target type
	 * @return mixed New value
	 * @author Sebastian Kurfürst <sebastian@typo3.org>
	 * @author Bastian Waidelich <bastian@typo3.org>
	 * @todo re-check boolean conditions
	 */
	protected function convertArgumentValue($value, $type) {
		//echo ""<br>$value - $type"";
		if ($type === 'boolean') {
			if (is_string($value)) {
				//echo ""string"";
				return (strtolower($value) !== 'false' && !empty($value));
			}
			if (is_array($value) || (is_object($value) && $value instanceof Countable)) {
				//echo ""array"";
				return count($value) > 0;
			}
			if (is_object($value)) {
					//echo ""object"";
				return TRUE;
			}

			//----> NEW CODE
			if (is_integer($value)) {
				//echo ""integer"";
				return $value > 0;
			}
			// END NEW CODE ---->

			return FALSE;
		}
		return $value;
	}"
3616,TYPO3.Flow,Feature,"",Resolved,Must have,Implement Accounts/UserManagement,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,1.0 alpha 3,2009-06-08,"","",0,2009-06-08 16:04,"","",1796200,"","","We need a general concept how to store users, their assigned roles and custom user identity information. The default implementation should store the users in the Content Repository, but there must be support for external IdentityProviders like an LDAP directory."
3617,TYPO3.Flow,Bug,"",Closed,Should have,AOP exception + fatal error using libssh2,Alexander Buch,Karsten Dambekalns,2010-10-20 05:39,"",1.0 alpha 3,2009-06-08,"","",0,2009-06-08 16:11,"","",1796150,"","","OK here is a strange one:
I'm currently writing a server-administration tool with FLOW3. As I want to connect to other systems as well, I make use of the libssh2 library (http://www.php.net/manual/en/book.ssh2.php).
So my first simple step was basically this:

<pre>
$connection = ssh2_connect('localhost', 22);
ssh2_auth_none($connection, 'myuser');
</pre>

I did this in the StandardController of my package, that i just kickstarted before, so there is nothing in between. The result of this is a RuntimeException somewhere out of the AOP stuff when rendering the View (I guess) [attached that result].
---
It's getting even stranger, when I put the result of the authentication method into a variable like this:

<pre>
$connection = ssh2_connect('localhost', 22);
$supportedAuthenticationMethods = ssh2_auth_none($connection, 'myuser');
</pre>

This results in a fatal error:
<pre>
Fatal error: Call to a member function getVariableContainer() on a non-object in /var/www/localhost/htdocs/flow3/Packages/Global/Fluid/Classes/View/TemplateView.php on line 171
</pre>

As this stuff of course doesnt belong the StandardController (DDD), I put it into its own class => Same result

BTW: I'm using PHP 5.3_RC2, FLOW3_alpha1 and head-revision of libssh2 on a Gentoo 64bit Linux system.
"
3618,TYPO3.Flow,Feature,"",Closed,Should have,Extended ACL possibilities,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,"",2009-06-08,"","",0,2009-06-08 16:16,"","",1781950,"","","Currently ACLs only cover PHP methods as resources. In the future we will need some more functionality like:

* read/write/add/delete persisted domain objects (covered by the JCR Security package)
* add constraints to ACL entries, to authorize based on: object attributes, security context/user attributes, method parameters(?) (maybe this can also be integrated in the privilege definitions)
* automatic query rewriting (a query should only return accessible objects: perhaps already covered by the JCR Security package)
* ResourceManager integration (files)"
3619,TYPO3.Flow,Feature,"",New,Should have,Implement System Policy Support/System Security,Andreas Förthner,Andreas Förthner,2012-05-21 10:15,Security,"",2009-06-08,"","",0,2009-06-08 16:19,"","",1811050,"","","There should be something like a system policy or general system security, that is always enforced and cannot be circumvented. We will need a concept for that."
3620,TYPO3.Flow,Feature,"",Closed,Should have,Implement a request stack,Andreas Förthner,Andreas Förthner,2011-08-04 08:53,MVC,1.0 beta 2,2010-03-08,"",14.00,10,2009-06-08 16:22,"","",1811000,"","",Intercepted requests (e.g. because of a security exception) should be pushed on the stack. After resolving the problem the request should be popped from the stack again and restarted or resumed.
3621,TYPO3.Flow,Feature,"",New,Should have,Implement dynamic firewall filter registration,Andreas Förthner,Andreas Förthner,2012-05-21 10:15,Security,"",2009-06-08,"","",0,2009-06-08 16:25,"","",1810950,"","",This is e.g. needed to support transparent encryption and decryption of request arguments.
3622,TYPO3.Flow,Feature,"",Resolved,Must have,Implement an access view helper,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,1.0 alpha 4,2009-06-08,"","",0,2009-06-08 16:29,"","",1796750,"","","This view helper should expect a resource as argument and render its subnodes only, if the current user has access to the given resource."
3623,TYPO3.Flow,Feature,"",Resolved,Should have,Implement authentication providers,Andreas Förthner,Andreas Förthner,2012-01-27 10:40,Security,"",2009-06-08,"","",0,2009-06-08 16:31,"","",1781900,"","","We should have at least the following:

* generic Username/Password (refactor the existing ones)
* HTTP Basic/Digest
* LDAP"
3624,TYPO3.Flow,Task,"",Resolved,Should have,Write documentation for the security framework,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,1.0 alpha 5,2009-06-08,2009-06-29,"",100,2009-06-08 16:32,"","",17750,"","",.
3633,TYPO3.Flow,Bug,"",Closed,Must have,Local packages path is guessed wrong,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:39,Package,"",2009-06-09,"","",0,2009-06-09 12:51,"","",1781850,"","","A wrong path for local packages (""Packages/Local"") will be used by the package manager if the Global diretcory is linked to another FLOW3 installation.

This means, that new packages will not be created in the local ""Packages/Local"" directory, but in the global install. And - worse - packages will not be found in the local directory.

We should change the guessing algorithm, so that it doesn't rely on the location of the FLOW3 package for the Local package directory."
3635,TYPO3.Fluid,Bug,"",Closed,Must have,Fluid: SelectViewHelper always appends the select-field's name with [],Marcel Rosenberger,Bastian Waidelich,2010-10-20 05:44,"","",2009-06-09,"",0.00,0,2009-06-09 13:14,"","",2600900,"","","The name for a select-field will always be appended by [] whether the field is multiple or not.

<pre>
<f:form.select name=""mySelectField"" options=""{0: 'no', 1: 'yes'}"" value=""0"" />
</pre>

will result to

<pre>
<select name=""mySelectField[]"">
    <option value=""0"" selected=""selected"">no</option>
    <option value=""1"">yes</option>
</select>
</pre>

Note: mySelectField[] instead of mySelectField

The included file is a suggestion to fix the bug."
3639,TYPO3.Flow,Feature,"",Resolved,Should have,Active packages should be saved in a configuration file,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:39,Package,1.0 alpha 2,2009-06-10,"","",100,2009-06-10 04:12,"","",1794950,"","","To activate and deactivate packages, a list of active packages must be saved.

This should be done by providing writeback support for the YAML configuration source and dedicated methods for the package states in the configuration manager."
3649,TYPO3.Flow,Feature,"",Resolved,Must have,Caches should be flushed on package version number changes,Robert Lemke,Robert Lemke,2010-10-20 05:39,Cache,1.0 alpha 2,2009-06-12,"","",100,2009-06-12 05:30,"","",1794900,"","","Usually when upgrading from one FLOW3 version to another the user will experience a PHP fatal error because some interfaces (or other code parts) changed which are not compatible with cached code (eg. the AOP proxy classes). Therefore we need a new cache which stores information about all active packages - as a start that could be simply the version number or even a hash of all version numbers. On initializing the cache framework, this information should be compared with the actual values and if they don't match all caches should be flushed."
3650,TYPO3.Flow,Feature,"",Resolved,Should have,AOP proxies support classes implementing an interface declaring a __construct() signature,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,AOP,1.0 alpha 2,2009-06-12,"","",100,2009-06-12 06:26,"","",1794850,"","","Currently AOP proxy classes add a few parameters to the constructor in order to inject the Object Manager and the Object Factory. The drawback is however that such a constructor won't be compatible to a possible interface which declared a certain constructor signature.

The Adviced and Empty Constructor Builder (and the Proxy Class Template) should be modified in a way that the parameters of a __construct() method are identical to that of the target class. 

* One way to do that is to *not* call parent::__construct() in the proxy's constructor but save the passed arguments temporarily. The constructor returns without any further action.

* The Object Manager and Object Factory can be injected either through a injectFLOW3_AOP_Proxy_ObjectManager() method or by annotating the property $FLOW3_AOP_Proxy_ObjectManager with some @inject annotation.

* The parent constructor is called after all dependencies have been injected and the AOP proxy class has been prepared. That could be before or right at the beginning of initializeObject().

The question is what consequences it would have if the constructor of the target class actually is called after all inject methods.

"
3651,TYPO3.Fluid,Bug,"",Resolved,Should have,Call to a member function getBackend() on a non-object,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,"","",2009-06-12,"","",100,2009-06-12 14:37,"","",2600850,"","","When setting an object as value in View Helpers extending Tx_Fluid_ViewHelpers_Form_AbstractFormViewHelper, a fatal error is thrown.
<pre>
<f:form.textbox value=""{someObject}"" />
</pre>
->
<pre>
Fatal error: Call to a member function getBackend() on a non-object in [TYPO3ROOT]\typo3conf\ext\fluid\Classes\ViewHelpers\Form\AbstractFormViewHelper.php on line 84
</pre>

Reason:
Some left overs from the Fluid backport:
<pre>
if (is_object($this->arguments['value']) && NULL !== $this->persistenceManager->getBackend()->getUUIDByObject($this->arguments['value'])) {
	$name .= '[__identity]';
}
</pre>

This should rather be something like:
<pre>
if (is_object($this->arguments['value']) && is_callable(array($this->arguments['value'], 'getUid'))) {
	$name .= '[uid]';
}
</pre>
as in renderHiddenIdentityField() of the FormViewHelper.
"
3657,TYPO3.Fluid,Bug,"",Resolved,Should have,<f:form.select does not allow to specify selectedValue,Marcel Rosenberger,Bastian Waidelich,2010-10-20 05:44,"","",2009-06-14,"","",0,2009-06-13 18:19,"","",2600800,"","","The following code from documentation does not work:
<pre>
<f:form.select name=""paymentOptions"" options=""{payPal: 'PayPal International Services', visa: 'VISA Card'}"" selectedValue=""visa"" />
</pre>

Error:
<pre>
PHP Fatal error:  Uncaught exception 'Tx_Fluid_Core_Parser_Exception' with message 'Argument ""selectedValue"" 
was not registered.' in typo3\sysext\fluid\Classes\Core\Parser\TemplateParser.php:402
</pre>"
3661,TYPO3.Fluid,Feature,"",Resolved,Should have,<f:form.checkbox   and    <f:form.radio  missing?!,Marcel Rosenberger,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-06-14,"","",100,2009-06-13 18:56,"","",2600750,"","","It would be nice to have <f:form.checkbox and <f:form.radio available in a Fluid-Template.
<input type=""radio"" name=...> is possible but one can't take advantage of arguments like options=""{myarray}"" and property=""..."" as possible with the <f:form.select ViewHelper."
3676,TYPO3.Fluid,Bug,"",Resolved,Must have,SelectViewHelper should automatically use the persistence manager to determine the UID of an object,Sebastian Kurfuerst,Karsten Dambekalns,2010-10-20 05:44,Core,1.0.0 alpha 3,2009-06-15,"","",100,2009-06-15 17:00,"","",2603800,"","","It'd be very nice if the SelectViewHelper would work together with the persistence manager, so lists of objects are correctly added."
3699,TYPO3.Flow,Bug,"",Resolved,Should have,Misleading error message when calling inactive package,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 3,2009-06-18,"","",100,2009-06-18 08:25,"","",1796100,"","","When trying to use an inactive package you currently get a ""404 Not Found - No controller could be resolved which would match your request.""

It would be awesome to get a hint at package activation, the message should inform about the package not being available/active. After all that's different from the package being available but the controller not.
"
3702,TYPO3.Fluid,Feature,"",Resolved,Should have,Inline notation should expect object-parameters by default,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,Core,"",2009-06-18,"","",100,2009-06-18 11:00,"","",2600700,"","","Currently the syntax
<pre>
{f:debug(settings)}
</pre>
will cast the argument to a string.
To use objects as parameters in inline syntax, you'll have to write:
<pre>
{f:debug('{settings}')}
</pre>

It would be nice if it worked like this:
'foo'/""foo"" => 'foo'
foo => {foo}
123 => 123


Question: What happens with named parameters?
I think, the following would be consistent:
<pre>
{f:debug(settings, title='string')}
{f:debug(settings, title=123)}
{f:debug(settings, title=settings.title)}
</pre>"
3714,TYPO3.Fluid,Story,"",Rejected,Could have,Add advanced validation of ViewHelper arguments,Sebastian Kurfuerst,Christian Müller,2011-05-05 12:29,Core,"",2009-06-21,"","",100,2009-06-21 05:03,"","",2600650,"","","We should add a feature to support the @validate annotation inside the ViewHelper render() method comment.

See the ActionController for the code which needs to be included in AbstractViewHelper, and make sure to refactor it to a central place."
3715,TYPO3.Kickstart,Bug,"",Resolved,Must have,Kickstarter generates invalid Repositories,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:48,"",1.0.0 alpha 5,2009-06-21,"","",0,2009-06-21 09:33,"","",2740350,"","","Generated Repository classes (""Kickstart Generator generateRepository"") creates classes with ""@scope"" and ""@entity"" annotations."
3717,TYPO3.Fluid,Feature,"",Resolved,Should have,"""Designators"" for Form view helper",Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-06-22,"","",90,2009-06-22 05:51,"","",2600600,"","","* FormViewHelper needs a new argument ""designator"" / ""namespace""
* Extbase will set the default value for this argument to ""tx_extensionname_pluginname""
* All Form view helpers inside a form will inherit this namespace

so:
<pre>
<f:form>
	<f:form.textbox name=""firstName"" />
</f:form>
</pre>
gets
<pre>
<form action=""..."">
	<input type=""text"" name=""tx_extensionname_pluginname[firstName]"" value="""" />
</form>
</pre>
and
<pre>
<f:form object=""{customer}"">
	<f:form.textbox property=""firstName"" />
	<f:form.textbox name=""foo"" />
</f:form>
</pre>
gets
<pre>
<form action=""..."">
	<input type=""hidden"" name=""tx_extensionname_pluginname[customer][uid]"" value=""123"" />
	<input type=""text"" name=""tx_extensionname_pluginname[customer][firstName]"" value=""Kasper"" />
	<input type=""text"" name=""tx_extensionname_pluginname[foo]"" value="""" />
</form>
</pre>
and finally
<pre>
<f:form object=""{customer}"" namespace=""tx_ttnews"">
	<f:form.textbox property=""firstName"" />
	<f:form.textbox name=""foo"" />
</f:form>
</pre>
gets
<pre>
<form action=""..."">
	<input type=""hidden"" name=""tx_ttnews[customer][uid]"" value=""123"" />
	<input type=""text"" name=""tx_ttnews[customer][firstName]"" value=""Kasper"" />
	<input type=""text"" name=""tx_ttnews[foo]"" value="""" />
</form>
</pre>

Problem: namespace/designator can't be set to """" because then the default value would be used.. So it wouldn't be possible to output:
<pre>
<input type=""text"" name=""id"" value=""123"" />
</pre>"
3725,TYPO3.Fluid,Feature,"",New,Could have,CSS Engine,Sebastian Kurfuerst,Christian Müller,2014-04-03 07:24,ViewHelpers,"",2009-06-22,"","",0,2009-06-22 15:09,"","",2600550,"","","It would be great to have a CSS engine like lesscss, or integrate css cacheer.

http://lesscss.org/index.html
http://www.shauninman.com/archive/2008/05/30/check_out_css_cacheer

This idea was originally proposed by Jens Hoffmann, and I think it can be fully realized as ViewHelpers.

Greets,
Sebastian"
3726,TYPO3.Flow,Bug,"",Resolved,Must have,Links with arguments don't work without routes,Irene Höppner,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 2,2009-06-22,"","",100,2009-06-22 16:38,"","",1794800,"","","If you set an action link with fluid that uses arguments, it generates a URL like this:
http://blog.flow3.local:81/blog/post/index?blog=c31c5c59-d440-49df-a369-6a48ce29d84f
(as long as no routes are defined)

This results in an error:
An error occurred while trying to call F3\Blog\Controller\PostController->indexAction(). Error: Validation errors for argument ""blog"" 

If you add [__identity] to the get-var, everything is fine:
http://blog.flow3.local:81/blog/post/index?blog[__identity]=c31c5c59-d440-49df-a369-6a48ce29d84f

What i found out till now is, that in the validation-objects \F3\FLOW3\MVC\Controller\Argument::getValue() returns the uuid, but not an object...."
3728,TYPO3.Flow,Feature,"",New,Should have,Support arrays of objects as controller arguments,Sebastian Kurfuerst,"",2013-11-16 11:34,MVC,"",2009-06-23,"","",0,2009-06-23 02:12,"","",1781800,"","","Sometimes, you need to receive a variable number of objects of a given type as argument in the controller.

It would be nice to have a syntax like:

/**
 * @param F3\Blog\Post[] $posts An array of posts
 */
public function changeAction(array $posts) {
// do something with the list of posts here.
}

So, the general question is: How do we edit multiple items of the same type (or later, of different types) at the same time?

Greets,
Sebastian"
3730,TYPO3.Flow,Bug,"",Resolved,Should have,Signal Slot Dispatcher does not check if slot class is a registered object,Robert Lemke,Robert Lemke,2010-10-20 05:39,SignalSlot,1.0 alpha 2,2009-06-23,"","",100,2009-06-23 05:51,"","",1794750,"","","If a slot class is not registered as an object at the Object Manager, the Object Manager throws a not very meaningful exception. The dispatcher should check if the object is valid."
3733,TYPO3.Flow,Bug,"",Resolved,Should have,Site should be unlocked by Exception Handler,Robert Lemke,Robert Lemke,2010-10-20 05:39,Core,1.0 alpha 2,2009-06-23,"","",100,2009-06-23 09:43,"","",1794700,"","","If the site was locked and during that run FLOW3 crashes with some exception, the lock is not removed which results in a locked site for a minute (according to the constant in the LockManager).

The exception handler should remove the lock file if the current run locked the site."
3735,TYPO3.Flow,Bug,"",Resolved,Must have,randomizeArrayOrder() does not randomize...,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Utility,1.0 alpha 2,2009-06-23,"","",100,2009-06-23 10:12,"","",1794650,"","","randomizeArrayOrder() (added with r114) uses array_rand(), which does not randomize if as many ""random"" keys are requested as the source array contains. So, it's broken plus it is useless - use shuffle() instead."
3736,TYPO3.Flow,Feature,"",Resolved,Must have,Implement support for Directory status monitoring,Robert Lemke,Robert Lemke,2010-10-20 05:39,Monitor,1.0 alpha 2,2009-06-23,"","",100,2009-06-23 10:19,"","",1794600,"","",Currently the File Monitor and the ModificationTimeStrategy only support file monitoring. Implement support for whole directories.
3740,TYPO3.Flow,Feature,"",Resolved,Must have,Implement a Static Object Container,Karsten Dambekalns,Robert Lemke,2010-10-20 05:40,Object,1.0 alpha 8,2010-01-28,"",52.00,100,2009-06-24 04:37,"","",1803350,"","","As work on #3583 showed, object creation takes a lot more time than desired. Especially autowiring is a good target for further work.

What would mostly solve the speed issues would be a static object container, i.e. automatically generated PHP code which contains all the wiring ? hardcoded."
3742,TYPO3.Flow,Bug,"",Resolved,Must have,getObjectConfigurations() returns original objects,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Object,1.0 alpha 5,2009-06-24,"","",100,2009-06-24 05:30,"","",1797750,"","","getObjectConfigurations() currently returns the original configuration objects, which allows to alter those circumventing the setters intended. It must return cloes instead."
3755,TYPO3.Flow,Task,"",New,Must have,Concurrency stress testing and cache mechanism,Robert Lemke,"",2010-10-20 05:39,- Testing -,"",2009-06-25,"","",0,2009-06-25 03:36,"","",18000,"","","After the first experiences and results from #3582 we need to do some more thorough stress testing to identify race conditions in FLOW3, especially in the caching mechanism. We need to assure that especially the code caches cannot be built multiple times simultaneously which currently is seems to be not always the case."
3790,TYPO3.Flow,Feature,"",Resolved,Should have,Generic error action and validation errors for current request,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:39,MVC,1.0 alpha 2,2009-06-28,"","",100,2009-06-28 12:31,"","",1794550,"","","The user shouldn't have to write a custom error action (altough it should still be possible) for handling argument mapping errors in the @ActionController@.

A generic @errorAction@ should forward to the last action and set the argument mapping errors in the request (I propose @$request->getErrors()@ for accessing the errors, but this must be discussed). The errors can then be retrieved in the form view helpers and special view helpers for rendering error messages."
3791,TYPO3.Fluid,Feature,"",Resolved,Should have,View helper for resource URIs,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 2,2009-06-28,"","",100,2009-06-28 13:08,"","",2603250,"","","The public resources in a project should be easier accessible with the help of a new view helper. The view helper should simply take a filename and an optional package key. The current package key should be taken as a default.

So including an image from the public resources could look like:

<pre>
<img src=""{f:uri.resource 'images/flow3-logo.gif'}"" alt=""FLOW3 logo"" />
</pre>"
3792,TYPO3.Fluid,Bug,"",Closed,Should have,Special tag attributes for form view helpers are missing (e.g. size),Christopher Hlubek,Christopher Hlubek,2010-10-20 05:44,ViewHelpers,"",2009-06-28,"","",100,2009-06-28 13:13,"","",2600500,"","","Form input elements can have a lot of HTML attributes e.g. for the size or maxlength. These are missing for the @TextareViewHelper@ and @TextboxViewHelper@. So currently no size can be set for text input fields! Apart from standard attributes, there are also proprietary attribues (e.g. for auto completion), that should be supported."
3793,TYPO3.Fluid,Feature,"",Resolved,Should have,CSS class for errors in form view helpers,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:44,ViewHelpers,"",2009-06-28,"","",100,2009-06-28 13:30,"","",2600450,"","",Form view helpers should automatically add a CSS class if an error for the property exists. The name of this class should be overridable.
3795,TYPO3.Flow,Bug,"",Resolved,Must have,Arguments in AbstractController are not cleared after forward,Christopher Hlubek,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 2,2009-06-29,"","",100,2009-06-28 18:17,"","",1794500,"","",The arguments object is created in the constructor of the @AbstractController@ class. After a forward the existing controller will be reused (controller is a singleton) and the old arguments object will be used. This leads to strange validation errors for argument mapping.
3801,TYPO3.Flow,Bug,"",Resolved,Must have,ValidatorResolver doesn't accept custom validator classes as validator name,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:39,Validation,1.0 alpha 2,2009-06-29,"","",100,2009-06-29 13:28,"","",1794450,"","","When trying to implement a new Validator for URLs I stumbled upon a problem in the ValidatorResolver: it is currently not possible to add custom validators (not based on the model) e.g. for an E-Mail or URL. It should be possible to add a class name, but the Regexp doesn't allow for backslashes in the pattern."
3802,TYPO3.Fluid,Feature,"",Resolved,Should have,View helper for form errors,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 2,2009-06-29,"","",100,2009-06-29 16:39,"","",2603200,"","",There should be a view helper to display errors for a form or for the whole action. It should iterate over all error messages just like a special for view helper. Additionally it should be possible to specifiy a property for which errors should be displayed.
3806,TYPO3.Flow,Bug,"",Resolved,Must have,Persistence fails when objects and/or lazy loading are involved...,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 2,2009-06-30,"","",100,2009-06-30 09:25,"","",1794400,"","","The fix for #3451 in r2591 has some side effects - even after adding something to a proxied SplObjectStorage it is not marked as dirty, thus the content is no longer persisted.

* activating a lazy loading proxy multiple times (as can happen if it is handed out without being activated first) marks it clean in the parent multiple times
* memorizeCleanState() needs to clone objects not just copy them, so comparison later makes sense
* isDirty() must not use strict comparison on objects - a clone is never same, but can only be equal
"
3814,TYPO3.Fluid,Bug,"",Resolved,Must have,whitespaces at the end of FormViewHelper.php,Benno Weinzierl,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-07-01,"","",100,2009-07-01 11:22,"","",2600400,"","","In file:
root  / fluid  / trunk  / Classes  / ViewHelpers  / FormViewHelper.php 

please remove whitespaces after closing php-tag"
3815,TYPO3.Flow,Bug,"",Closed,Must have,F3\FLOW3\Monitor\FileMonitorTest fails on Windows with alpha2,David Bruehlmeier,"",2010-10-20 05:39,Monitor,"",2009-07-01,"","",0,2009-07-01 15:51,"","",1781750,"","","Failure in detectChangesEmitsDirectoryChangedSignalAndMemorizesDirectoryIfDirectoryHasNotBeenMonitoredPreviously
Detail
E:\Sources\FLOW3_1.0.0-alpha2\Packages\Global\PHPUnit\Resources\PHP\PHPUnit\Framework\Assert.php:1487
Failed asserting that <boolean:false> is true.

Environment:
* Windows XP Professional Service Pack 3
* PHP Version 5.3.0 (final)
* Apache 2.2.11"
3823,TYPO3.Flow,Bug,"",Resolved,Must have,"FileMonitor does not fix ""windows"" paths",Bastian Waidelich,Robert Lemke,2010-10-20 05:39,Monitor,1.0 alpha 3,2009-07-02,"","",100,2009-07-02 13:00,"","",1796050,"","","Several FileMonitorTests fail on Windows due to backslashes in pathes.
Attached patch fixes the issue for me."
3837,TYPO3.Flow,Bug,"",Resolved,Must have,Objects added to a repository are not found if repository doesn't follow naming conventions,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 3,2009-07-07,"","",100,2009-07-07 04:14,"","",1796000,"","","We have a model called \F3\TYPO3\Domain\Model\Structure\Site and a repository called \F3\TYPO3\Domain\Repository\SiteRepository.

_Note that the repository doesn't follow the naming conventions ? it should rather be called \F3\TYPO3\Domain\Repository\Structure\SiteRepository._

If a Site object is added to the (first) repository, it will be sucessfully stored in the CR. However, executing findAll() on the repository won't return any object because the repository's createQuery() method assumes the correct (second) repository name. This is a good thing but should also be enforced while adding objects.

Solution:
Define the model class name during construction / initialization of the repository and use that name everywhere in the repository functions to check objects passed to the repository against it."
3846,TYPO3.Flow,Feature,"",Resolved,Should have,Enforce validation before persisting model objects,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-03-02,"",8.00,100,2009-07-08 03:06,"","",1803300,"","","If there are validation rules defined for a (domain model) object, they should be enforced before actually persisting the object. This includes the property validation rules as well as the (custom) validation rules for the whole object.

Later we also need to think of optimizations in this regard, e.g. if a property is not dirty and the object was reconstituted, there's no need to validate it again.
"
3852,TYPO3.Flow,Feature,"",Resolved,Should have,Implement removeAll() for Repository,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 5,2009-07-09,"","",100,2009-07-09 04:34,"","",1797700,"","","The \F3\FLOW3\Persistence\Repository class should provide a removeAll() method which allows to flush / truncate / ... the given repository.

Would it make sense to also have a removeBy() method? If so ... open another ticket."
3861,TYPO3.Fluid,Feature,"",Resolved,Should have,Backport fluids f:form:errors feature,Nikolas Hagelstein,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-07-09,"","",100,2009-07-09 12:13,"","",2600350,"","",nothing more to say :).
3864,TYPO3.Flow,Feature,"",Resolved,Should have,Implement filtering for log messages,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Log,1.0 alpha 5,2009-07-10,"","",100,2009-07-10 04:12,"","",1797650,"","",Currently all severities are always logged. It should be possible to define filters per backend so only certain log entries are written.
3881,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Complete documentation about MVC,Robert Lemke,"",2012-08-16 16:35,- Documentation -,"",2011-06-20,"",0.00,100,2009-07-13 05:08,"","",18350,0.00,"",The documentation about MVC is still fragmentary and needs to be completed (and updated).
3882,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Document the Signal Slot features,Robert Lemke,Karsten Dambekalns,2011-06-22 06:07,- Documentation -,"",2009-07-13,"","",100,2009-07-13 05:09,"","",18400,"","",FLOW3's Signal and Slot features are currently undocumented.
3883,TYPO3.Flow,Task,"",Resolved,Must have,Mark all public API with @api tags,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 3,2009-07-13,"","",100,2009-07-13 05:12,"","",18450,"","",The blacklisting approach with @internal tags is too error-prone and tedious to implement. We should go for a white list approach instead and mark all functions / methods which are part of the public (supported) API with an @api tag.
3933,TYPO3.Flow,Feature,"",Resolved,Must have,"Support typed parameters for class schemata, persistence, validation",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 3,2009-07-17,"","",100,2009-07-17 08:39,"","",1795950,"","","When a domain model contains an array member variable and expects objects (of a certain kind) in that array, this can currently not be validated automatically. Additionally request parameters cannot be mapped from UUIDs to objects in such cases (because the class schema knows only about the array type).

Solution: Implement typed array using a syntax inspired by Java's Generics so that class schemata can find out about the intended contents of an array:
<pre>
	/**
	 * @var array<\F3\Blog\Domain\Model\Post>
	 */
	protected $relatedPosts = array();
</pre>
That would limit $relatedPosts to values of type \F3\Blog\Domain\Model\Post."
3934,TYPO3.Flow,Task,"",Resolved,Should have,Move class schema handling from Persistence to Reflection,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 3,2009-07-17,"","",100,2009-07-17 08:43,"","",18750,"","",The use and scope of class schemata has outgrown the Persistence scope; thus it should be moved to Reflection.
3945,TYPO3.Flow,Bug,"",Closed,Should have,Cannot redeclare PackageInterface ,Dmitry ,Karsten Dambekalns,2010-10-20 05:39,Core,"",2009-07-18,"","",0,2009-07-18 14:33,"","",1781700,"","","I'm not sure who (FLOW3 or APC) is wrong. But I got error with APC.

[apc-error] Cannot redeclare class f3\flow3\package\packageinterface in <path>\Flow3\Distribution\trunk\Packages\Framework\FLOW3\Classes\Core\Bootstrap.php on line 28.

Configuration:
OS: Windows XP SP3
Apache: 2.2.11
PHP: php-5.3.0-Win32-VC9-x86.zip
APC: php_apc-trunk-20090717-5.3-vc9-x86.zip
"
3950,TYPO3.Flow,Feature,"",Resolved,Should have,Package Manager should warn about duplicate packages,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Package,1.0 alpha 5,2009-07-21,"","",100,2009-07-21 05:08,"","",1797600,"","","Currently it is possible to use the same package key multiple times within the Packages/* directories, for example:

<pre>
Packages/
   Application/
      Blog/
   Framework/
   Shared/
      Blog/
</pre>

The behavior is undefined. We should throw an exception instead to warn about multiple occurrences of a package key."
3955,TYPO3.Flow,Feature,"",Resolved,Must have,Implement limit and ordering for persistence queries,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 3,2009-07-22,"","",100,2009-07-22 04:12,"","",1795900,"","","This needs to be possible:
<pre>
return $query->matching($query->equals('blog', $blog))->setOrderings(array('date' => \F3\FLOW3\Persistence\QueryInterface::ORDER_ASCENDING))->setLimit($limit)->execute();
</pre>"
3956,TYPO3.Flow,Feature,"",Resolved,Could have,Implement a Count Validator,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Validation,1.0 alpha 5,2009-07-22,"","",100,2009-07-22 04:15,"","",1797550,"","","For the blog (and other apps) we need a Count Validator:

<pre>
/**
  * @var \SplObjectStorage<F3\Blog\Domain\Model\Category>
  * @validate Count(atLeast = 1)
  */
protected $categories;
</pre>

The validate should be able to count everything implementing the Countable interface."
3969,TYPO3.Fluid,Bug,"",Closed,Won't have this time," ""Fatal error: Objects used as arrays.."" with PHP 5.2.0",Thomas Waggershauser,Jochen Rau,2010-10-20 05:44,"","",2009-07-23,"","",0,2009-07-23 11:39,"","",2600300,"","","I spend some time now, to understand this error:

Fatal error: Objects used as arrays in post/pre increment/decrement  
must return values by reference in /Users/air/Sites/ 
typo3_src-4.3.0alpha3/typo3/sysext/fluid/Classes/ViewHelpers/Form/ 
SelectViewHelper.php on line 148

It seems to be a php-problem, but I don't really understand, what this  
has to do with references :(

This issue occured using php 5.2.0, after update to 5.2.9, it worked.

-

This is not supposed to be like this, cause TYPO3 only requires 5.2.0 IIRC.

It's something that can be fixed quite easily, e.g. from
foreach ($this->arguments['options'] as $domainObject) {

to

$options = $this->arguments['options']
foreach ($options as $domainObject) {"
3977,TYPO3.Flow,Bug,"",Rejected,Should have,TextValidator is insecure,Robert Lemke,"",2012-03-13 08:13,Validation,"","","",6.00,20,2009-07-24 09:33,"","",1781650,"",FLOW3 1.0.0,"The TextValidator currently allows strings like
<pre>
%3cspan style=""color: #BBBBBB;""%3ea nice text%3c/span%3e
</pre>

It seems like we can't solve this completely with filter_var because then characters like percent, semikolon, quotes etc. can't be used in a text. In general the test case lacks realistic string which should pass the validator."
3985,TYPO3.Fluid,Bug,"",Resolved,Must have,f:form.textbox is not usable anymore without wrapping an f:form element ,Steffen Ritter,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-07-27,"","",100,2009-07-27 04:40,"","",2600250,"","","Hi,
you have been able to use ViewHelper form.textbox as standalone to create an input field.
Since some time (cannot say revision) this is not possible anymore. The ViewHelper tries to access something of the parent Object (formName).

If there is no form wrapped a Fatal error will be raised.

"
3987,TYPO3.Fluid,Task,"",Resolved,Must have,Inconsistent attribute naming in Form view helper,Robert Lemke,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,1.0,2009-09-05,2009-09-05,"",100,2009-07-27 05:27,"","",18900,"","","The action link view helper uses the following attributes for specifying the action:
<pre>
   <f:link.action action=""show"" controller=""Post"" package=""Blog"" ...
</pre>
The form view helper, however, uses other attribute names:
<pre>
   <f:form action=""create"" controllerName=""Comment"" packageName=""Blog"" subpackageName=""Foo"">
</pre>
That is not only incosistent with the link view helper but also in general (we never use ""packageName"" but only ""packageKey"").

Please rename the attributes as follows:

controllerName -> controller
packageName -> package
subpackageName -> subpackage

Note that names like ""controller"", ""package"" etc. should only be used for attributes in Fluid templates. We make the exception there to provide shorter names for the users. Generally in PHP code we'd rather use ""controllerName"", ""packageKey"" etc.
"
3989,TYPO3.Flow,Feature,"",Resolved,Should have,Generate PackageStates.yaml if it doesn't exist,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Package,1.0 alpha 5,2009-07-27,"","",100,2009-07-27 05:52,"","",1797500,"","",The package manager should generated the PackageStates.yaml file if it doesn't exist. In this case all available packages should be listed as active (if that is possible according to their constraints).
3990,TYPO3.Flow,Feature,"",Resolved,Should have,"Allow arbitrary names and locations for ""Web"" directory",Robert Lemke,"",2010-10-20 05:39,Core,1.0 alpha 3,2009-07-27,"","",100,2009-07-27 06:03,"","",1795850,"","","Currently the public directory must be called ""Web"" and reside on directory below FLOW3's root directory.

More specifically the bash script requires the directory to be called ""Web"" because it calls ./Web/index.php. Other parts of FLOW3 seem not to rely on the name because it is not hardcoded.

What's fixed though is the fact that the bootstrap must be accessible via ../Packages/Framework/FLOW3/Scripts/FLOW3.php. Even if the require statement in the index.php script would be adjusted to another structure, the bootstrap would still rely on this relative path.

Unfortunately this doesn't match the reality at most hosters. The following structure (and others) must equally be possible:
<pre>
/var/www/foo/bar/
   myApp/
      Configuration/
      Data/
      Packages/
         Framework/
            FLOW3/
          ...
   log/
   tmp/
   htdocs/
      Resources/
          Packages/
             ...
      .htaccess
      index.php
</pre>

So: Make sure that FLOW3 works with arbitrary names for the Web directory and arbitrary relative paths between Web and the FLOW3.php script."
3994,TYPO3.Fluid,Bug,"",Resolved,Must have,Viewhelpers are instanciated multiple times in ViewHelperNode,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,Core,"",2009-07-27,"","",100,2009-07-27 06:36,"","",2600200,"","","In the evaluate() method of \F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode there is
<pre>
$viewHelper = $objectFactory->create($this->viewHelperClassName);
</pre>

The viewhelper should be stored in a private/protected field to be able to do
<pre>
if ($this->viewHelper === NULL) {
	$this->viewHelper = $objectFactory->create($this->viewHelperClassName);
}
</pre>

This will increase performance and make it possible to store private values in view helpers."
3997,TYPO3.Fluid,Feature,"",Resolved,Should have,Enable bulk assignment of template variables,Robert Lemke,Bastian Waidelich,2010-10-20 05:44,Core,1.0.0 alpha 3,2009-07-27,"","",100,2009-07-27 08:54,"","",2603750,"","","Currenly TemplateView::assign() expects two arguments: the key and the value of the variable to assign. When lots of variables are assigned this is not convenient - a signature for bulk assignments would help.

Enhance assign() so that if the first argument is an array, the function assumes that it is an array of keys and values which will be assigned. In that case the second argument must not be set (and if so, results in an exception).

<pre>

$this->view->assign('foo', 'bar');
$this->view->assign('baz', 'quux');

// same as:

$this->view->assign(array('foo' => 'bar', 'baz' => 'quux');

</pre>"
4013,TYPO3.Flow,Bug,"",Resolved,Should have,Argument handling in RESTController doesn't work correctly,Christoph Blömer,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 5,2009-07-28,"","",100,2009-07-28 05:38,"","",1797450,"","","The RESTController is inherited from the ActionController. Therefore the ArgumentHandling should work as intended.

The problem is due to the following code of the RESTController class.
<pre>
public function processRequest(\F3\FLOW3\MVC\RequestInterface $request, \F3\FLOW3\MVC\ResponseInterface $response) {
    $this->arguments->addNewArgument('id', 'UUID', FALSE);
    parent::processRequest($request, $response);
}
</pre>
Adding an argument in this code portion results in an shift of all arguments of a called method. The value for the 1st argument is now shifted to the second argument.

If addNewArgument is removed from that code it works as intended.

A possible solution would be to move that line into the initializeAction method. The argument is then added to the end of the argument array and not to the beginning.

But actually it also shouldn't be passed to the method if it is not required or specified by the method.
"
4027,TYPO3.Fluid,Bug,"",Resolved,Should have,options-argument of the SelectViewHelper should not be optional,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 3,2009-07-28,"","",100,2009-07-28 14:05,"","",2603700,"","",The SelectViewHelper expects $this->arguments['options'] to be an array. A Select field without options wouldn't make sense anyways. So the options-argument should be required.
4028,TYPO3.Fluid,Bug,"",Resolved,Must have,Email Uri Helper creates a link tag instead of an URI,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 3,2009-07-28,"","",100,2009-07-28 14:17,"","",2603650,"","","\F3\Fluid\ViewHelpers\Uri\EmailViewHelper actually does the same as \F3\Fluid\ViewHelpers\Link\EmailViewHelper - creating a link tag.. Funny, that no one complained about it yet. A classical copy & paste bug."
4051,TYPO3.Fluid,Bug,"",Resolved,Must have,TagBuilder is not resetted when a view helper is initialized multiple times,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,Core,1.0.0 alpha 4,2009-07-29,"","",100,2009-07-29 07:46,"","",2603950,"","","Since r2895 ViewHelpers that belong to the same ViewHelperNode (inside loops) are only instantiated once. This leads to the side-effect, that $this->tag points to the same reference.
If a tag attribute is set it won't be resetted when initialize() is called.

Example:
<pre>
<f:for each=""{0:1, 1:2, 2:3, 3:4}"" as=""foo"">
	<f:link.action class=""{f:if('odd' condition='{foo} % 2')}"">{foo}</f:link.action>
</f:for>
</pre>

Expected result:
<pre>
<a class=""odd"" href=""viewhelpertest/standard"">1</a>
<a href=""viewhelpertest/standard"">2</a>
<a class=""odd"" href=""viewhelpertest/standard"">3</a>
<a href=""viewhelpertest/standard"">4</a>
</pre>

Actual result:
<pre>
<a class=""odd"" href=""viewhelpertest/standard"">1</a>
<a class=""odd"" href=""viewhelpertest/standard"">2</a>
<a class=""odd"" href=""viewhelpertest/standard"">3</a>
<a class=""odd"" href=""viewhelpertest/standard"">4</a>
</pre>

Solution:
Reset TagBuilder instance in initialize()

And we should check, whether there are more side-effects!"
4063,TYPO3.Fluid,Bug,"",Resolved,Must have,CObjectViewHelper erases field data in TypoScript,Christian Zenker,Bastian Waidelich,2010-10-20 05:44,"","",2009-07-29,"","",100,2009-07-29 13:37,"","",2600150,"","","If no cObj is handed, CObjectViewHelper uses cObj from the GLOBALS-array. But this way it erases all data in this cObj that might be used later on in TypoScript.

Example

<pre>
page {
    10 < plugin.tx_myext
    headerData = TEXT
    headerData {
        # will be empty
        field = title
        wrap = <title>|</title>
    }
}

</pre>


The appended bugfix creates a new cObj if none is supported, but I'm not sure, if this is the best solution.
Maybe the parser could support one, or maybe it already does...?"
4082,TYPO3.Flow,Bug,"",Resolved,Must have,FLOW3 uses wrong Packages path via CLI if directories are symlinked,Robert Lemke,Robert Lemke,2010-10-20 05:39,Core,1.0 alpha 3,2009-07-31,"","",100,2009-07-31 05:54,"","",1795800,"","","The paths for scanning directories for packages is currently determined by some relative path to the (real path) of the FLOW3 package. If Packages/Framework/ is in reality a symlink to some other FLOW3 installation (which must be possible), the back path leads to that installation - the wrong Packages path. This is only the case in CLI mode because when access from the web, the path is determined relatively to the Web directory (which is another problem, see #3990).
"
4084,TYPO3.Flow,Feature,"",Resolved,Should have,Make the application context accessible by a read-only setting,Robert Lemke,Robert Lemke,2010-10-20 05:39,Configuration,1.0 alpha 3,2009-07-31,"","",100,2009-07-31 07:28,"","",1795750,"","","In certain areas of FLOW3 it would come handy if the current application context could be retrieved from FLOW3's settings.
Therefore the configuration manager could set ""FLOW3.core.context"" automatically to the current application context."
4085,TYPO3.Flow,Bug,"",Resolved,Must have,Package Manager does not ignore files in directory Packages/,Robert Lemke,Robert Lemke,2010-10-20 05:39,Package,1.0 alpha 3,2009-07-31,"","",100,2009-07-31 07:34,"","",1795700,"","",If there are files in the directory Packages/ the package manager will cause a fatal error because it doesn't distinguish between files and directories while iterating over them.
4088,TYPO3.Flow,Task,"",Closed,Could have,Check maximum allowed path length only when creating of cache files failed,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,Cache,"",2009-07-31,"","",0,2009-07-31 09:38,"","",19500,"","","Currently we're checking the length of each cache file that is generated in the caching FileBackend.
It might be possible to do that check only if touch() returned FALSE to avoid the (small) performance loss due to the many strlen() calls.

This has to be tested and profiled."
4091,TYPO3.Flow,Bug,"",Resolved,Must have,F3\FLOW3\Utility\Files::getUnixStylePath() creates invalid paths on windows,Irene Höppner,Karsten Dambekalns,2010-10-20 05:39,Utility,1.0 alpha 3,2009-07-31,"","",100,2009-07-31 12:06,"","",1795650,"","","C:\h\flow3\intranet\Web

becomes

C://h/flow3/intranet/Web/

Windows doesn't like the // and fails to create directories later.

"
4118,TYPO3.Flow,Bug,"",Resolved,Must have,Package Manager does not clear the code cache on activating / deactivating packages,Robert Lemke,Robert Lemke,2011-08-23 05:26,Package,1.0 beta 1,2009-08-03,"","",100,2009-08-03 06:56,"","",1781600,"","","When packages are activated and especially when they are deactivated, the package manager must assure that all code caches are flushed."
4146,TYPO3.Flow,Feature,"",Accepted,Should have,Support typed parameters for validation,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Validation,"","","",8.00,50,2009-08-04 13:09,"","",1781550,"","",Following up on #3933 validation should make use of typed parameters...
4149,TYPO3.Flow,Bug,"",Resolved,Should have,Link to exceptions wiki page not working anymore,Peter Beernink,Robert Lemke,2010-10-20 05:39,Error,"",2009-08-05,"","",0,2009-08-05 02:49,"","",1781500,"","","Due to the recent reinstall of the wiki.typo3.org website, the links to the explanation of an uncaught exception are not working anymore.

The redirect currently goes to http://wiki.typo3.org/Exception<exceptionID>. 
This should be http://wiki.typo3.org/index.php/Exception<exceptionID>."
4160,TYPO3.Flow,Bug,"",Resolved,Must have,"MVC Controller Argument $dataType should NOT be set to ""Text"" by default",Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:39,MVC,1.0 alpha 5,2009-08-05,"","",0,2009-08-05 16:56,"","",1797400,"","","MVC Controller Argument $dataType should NOT be set to ""Text"" by default. Instead, it would be a lot better to throw an exception if the data type could not be determined.

Just imagine somebody writing the following:
<pre>
 * param array $bla
</pre>
He will only notice that he forgot the @ if the system throws an exception at him. Else, it could sometimes work, and sometimes not...

Greets,
Sebastian"
4166,TYPO3.Flow,Feature,"",Resolved,Must have,Allow disabling validation for action arguments,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 3,2009-08-06,"","",100,2009-08-06 05:01,"","",1795600,"","","In situations where a knowingly incomplete / invalid argument needs to be passed to an action, for example an edit action, it is necessary to disable validation for a single or multiple arguments. This should be possible by calling a disableValidation() method on the argument object or by adding a @dontvalidate $argumentName annotation to an action method."
4167,TYPO3.Flow,Feature,"",Resolved,Must have,Implement an update() method for the base repository,Robert Lemke,Robert Lemke,2010-10-20 05:39,Persistence,1.0 alpha 3,2009-08-06,"","",100,2009-08-06 05:08,"","",1795550,"","","The base repository (\F3\FLOW3\Persistence\Repository) should provide an update() method which allows for convenient updates of an existing object.

The update method expects one argument which is a not-yet persisted clone of the original object. The fact that it is a clone of the original is important because only then it has the same UUID like the original object. If the object is not a clone, you must use replace() instead.

Calling update() will check the uuid of the given object, fetch the currently persisted object with the same uuid, will disconnect the existing object from the repository and persistence framework and connect the new object instead."
4168,TYPO3.Flow,Bug,"",Resolved,Must have,Rules added with @validate will replace existing validation rules,Robert Lemke,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 3,2009-08-06,"","",100,2009-08-06 05:15,"","",1795500,"","","A @validate annotation placed in an action method's comment should add new validation rules to the existing base validation of an argument.
However, it currently replaces existing rules.

The following code currently leads to disabling validation for the $blog argument which should not be possible by a @validate annotation:

<pre>
	/**
	 * Edits an existing blog
	 *
	 * @param \F3\Blog\Domain\Model\Blog $blog The blog to be edited. This might also be a clone of the original blog already containing modifications if the edit form has been submitted, contained errors and therefore ended up in this action again.
	 * @return string Form for editing the existing blog
	 * @validate $blog Raw
	 */
	public function editAction(\F3\Blog\Domain\Model\Blog $blog) {
		$this->view->assign('blog', $blog);
	}
</pre>
"
4169,TYPO3.Flow,Task,"",Resolved,Should have,Add CGL rules for annotations,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 5,2009-08-06,"","",100,2009-08-06 06:15,"","",20000,"","","Since annotations are part of the code in FLOW3, we should add some more rules in the CGL documentation.
E.g. it would be good to have a list of _all_ annotations used in FLOW3 (including @aspect eg).

And it should be stated which annotations are required in which cases.

Additionally the order of annotation tags varies from class to class currently. My suggestion for a defined order is

*For classes:*
<pre>
@version
@license
</pre>

*For constructor and methods in classes:*
<pre>
// parameters/return type
@param
@return
// validation
@validate
@dontvalidate
// authors (we might get rid of this?)
@author
// API related
@api
@since
@deprecated
// additional annotations
@see
@todo
</pre>

*For test cases:*
<pre>
@test
@dataProvider
@expectedException
@author
</pre>

What am I missing?"
4170,TYPO3.Fluid,Bug,"",Resolved,Must have,Form Viewhelper creates hidden identity field even for new objects,Robert Lemke,Robert Lemke,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 3,2009-08-06,"","",100,2009-08-06 08:05,"","",2603600,"","","Every entity has a uuid, no matter if it's new, reconstituted or clone of a reconstituted object.

Earlier the form view helper only rendered the hidden identity field for objects which were not new. However that stood in the way for implementing the new edit mechanism which should expects that the identity of a clone is also render, although a clone is ""new"".

We need a check which assures that the identity field is render for objects being new and clone but nor for object being new and not a clone."
4202,TYPO3.Fluid,Feature,"",Resolved,Should have,"Add ""absolute"" argument to action link viewhelpers",Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,"","",2009-08-09,"","",100,2009-08-09 14:36,"","",2600100,"","","Since r2914 Fluid supports to generate absolute links/URIs by setting the argument $absolute. This is useful for news feeds or email templates for example.
This feature needs to be backported."
4207,TYPO3.Fluid,Feature,"",Resolved,Should have,Make action argument optional in ActionViewHelpers,Jeff Segars,Bastian Waidelich,2010-10-20 05:44,"","",2009-08-10,"","",100,2009-08-09 19:36,"","",2600050,"","","The action view helpers for links and URIs both require the action argument. These view helpers may be used to generate links within the same action and templates may be shared across actions via partials. Thus, it would be helpful for the action to be an option argument like the controller and other arguments."
4218,TYPO3.Fluid,Feature,"",Resolved,Should have,"Support for properties of nested objects using ""property""-argument",Marcel Rosenberger,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-08-10,"","",100,2009-08-10 11:06,"","",2600000,"","","Hi all,

it would be great to be able to use the ""property""-argument to specify values for nested objects. Here is an example:

Given a class ?Club? and a class ?User?. The Club has a property ?user? that references a User-Object.

Club->user = User-Object

With Fluid I want to provide a formular for editing the Club-Object AND User-Object (inside the Club-Object) simultaneously. What I am trying to do is something like:

<pre>
<f:form
	method=""post""
	controller=""Club""
	action=""mailChanges""
	name=""updatedClub""
	object=""{club}""
	arguments=""{club : club}"">

<p>Clubname: <f:form.textbox property=""name"" /></p>
<p>Responsible for Club: <f:form.textbox property=""user.name"" /></p>

[...submit...]

</form>
</pre>

When the formular is submitted the club's name and the name for the responsible should be changed."
4221,TYPO3.Flow,Feature,"",Resolved,Should have,Implement CLI controller for Cache Manager,Robert Lemke,Robert Lemke,2010-10-20 05:39,Cache,1.0 alpha 3,2009-08-10,"","",100,2009-08-10 11:58,"","",1795450,"","","The ./flow3 bash script already supports a command ""./flow3 cache flush"", however this is not yet implemented as a controller for the Cache Manager."
4230,TYPO3.Fluid,Feature,"",Resolved,Should have,Create ViewHelpers for Backend Modules,Steffen Kamper,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-08-12,"","",100,2009-08-12 05:08,"","",2599950,"","","Creating backend modules should be very simple. I started with creating these viewhelpers and grouped them by category.
This grouping needs a patch in fluid as the directory level resolved by fluid is limited to one level.

To show you the way i used them here is my template (now all used in blog_example)
<pre>
{namespace blog=Tx_BlogExample_ViewHelpers}<blog:be.startPage pageTitle=""{title}"" jumpToUrl=""true"" extJs=""true"" />    
<form action="""" method=""post"" enctype=""multipart/form-data"">
<div class=""typo3-fullDoc"">
	<!-- Page header with buttons, path details and csh -->
	<div id=""typo3-docheader"">
		<div id=""typo3-docheader-row1"">
			<div class=""buttonsleft"">
				<div class=""buttongroup"">
					<blog:be.buttons.csh table=""_MOD_web_func"" />
					<blog:be.buttons.save />
				</div>
			</div>
			<div class=""buttonsright"">
				<div class=""buttongroup"">
					<blog:be.buttons.shortcut setList=""{setKeys}"" />
				</div>
			</div>
		</div>
		<div id=""typo3-docheader-row2"">
			<div class=""docheader-row2-left"">
				<div class=""docheader-funcmenu"">
					<blog:be.menus.functionMenu modMenu=""{modMenu}"" key=""{modMenuKey}"" />
					<blog:be.menus.functionMenu modMenu=""{submodMenu}"" key=""{submodMenuKey}"" />
				</div>
			</div>
			<div class=""docheader-row2-right"">
				<blog:be.status.pagePath />
				<blog:be.status.pageInfo />
			</div>
		</div>
	</div>
	<!-- Content of module, for instance listing, info or editing -->
	<div id=""typo3-docbody"">
		<div id=""typo3-inner-docbody"">
		 	<h1>{title}</h1>
			<p>Welcome in the OldStyle backend module!<br />Looks like Standard, but is an Extbase driven module :)</p>	
			
		</div>
	</div>
</div>
</form>
<blog:be.endPage />  
</pre>

attached is a patch for blog_example to show you how they will work"
4231,TYPO3.Fluid,Bug,"",Resolved,Must have,[Fluid] Only one level is possible for directories in ViewHelpers,Steffen Kamper,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-08-12,"","",100,2009-08-12 05:09,"","",2599900,"","","Fluid only resolves one level in Tx_Fluid_Core_Parser_TemplateParser::resolveViewHelperName

Change it to infinetive does the attached patch "
4268,TYPO3.Flow,Task,"",Rejected,Must have,"handle model-attributes, that are not of type string, but user-input",Irene Höppner,"",2011-08-04 02:50,MVC,"","","",6.00,0,2009-08-18 12:41,"","",20300,6.00,"","I'm not sure, if this is a problem or something, I just didn't understand yet...

We have some attribute (""orderdate"") in the model that is of type \DateTime and we want the user to add a date for that in the new-/edit-forms.

What we did and what happened:

h2. 1. Added the attribute + getter-/setter-method to the model class and an input-field to new.html:

<pre>
/**
 *
 * @var \DateTime
 */
protected $orderdate = '';

/**
 *
 * @param \DateTime $orderdate
 * @return void
 */
public function setOrderdate(\DateTime $orderdate) {
	$this->orderdate = $orderdate;
}

/**
 *
 * @return \DateTime
 */
public function getOrderdate() {
	return $this->orderdate;
}
</pre>

<pre>
<label for=""orderdate"">Orderdate</label><br />
<f:form.textbox property=""orderdate"" id=""orderdate"" />
</pre>

*Result:* Exception: Catchable Fatal Error: Argument 1 passed to F3\Blog\Domain\Model\Blog::setOrderdate() must be an instance of DateTime, string given in C:\Programme\xampp\htdocs\flow3\blog\Packages\Application\Blog\Classes\Domain\Model\Blog.php line 127

h2. 2. Removed the type hint from the setter:

<pre>
/**
 *
 * @param \DateTime $orderdate
 * @return void
 */
public function setOrderdate($orderdate) {
	$this->orderdate = $orderdate;
}
</pre>
*Result*: Exception: 1244465558: Expected property of type DateTime, but got string

h2. 3. Added a validator the the attribute:

<pre>
/**
 *
 * @var \DateTime
 * @validate DateTime
 */
protected $orderdate = '';
</pre>

*Result*: error-message:
orderdate: The given subject was not a valid DateTime. Got: ""string""

*But*: We get that message, no matter what we entered into the input-field.

h2. 4. Created the \DateTime-object in the setter, if the parameter is of type string:

<pre>
/**
 *
 * @param \DateTime $orderdate
 * @return void
 */
public function setOrderdate($orderdate) {
	if (is_string($orderdate)) {
		$orderdate = new \DateTime($orderdate);
	}
	$this->orderdate = $orderdate;
}
</pre>

*Result*: Cool, works - as long as the string in the input-form has a proper format like yyyy-mm-dd.
Otherwise another exception: DateTime::__construct() [datetime.--construct]: Failed to parse time string (fgsdfasdfa) at position 0 (f): The timezone could not be found in the database

Ok, could check the string for a proper format in the setter... but we need the same check for several attributes in several classes...

h2. 5. What about writing our own validator?

Doesn't help because the setter comes first and needs a correct string already to create the datetime-object. Same exception like above.


h2. 6. Entered the orderdate-field to edit.html

<pre>
<label for=""orderdate"">Orderdate</label><br />
<f:form.textbox property=""orderdate"" id=""orderdate"" />
</pre>

*Result*: Exception: Warning: htmlspecialchars() expects parameter 1 to be string, object given in C:\Programme\xampp\htdocs\flow3\blog\Packages\Framework\Fluid\Classes\Core\ViewHelper\TagBuilder.php line 161

Added some short hand Fluid-syntax helps in that case:

<pre>
<label for=""orderdate"">Auftragsdatum:<br />
<f:form.textbox property=""orderdate"" value=""{f:format.date('{job.orderdate}' format='d.m.Y')}"" />(Format: dd.mm.yyyy)<br />
</pre>


h2. Conclusion:

There has to be done some conversion between the strings coming from html-forms and attributes of the model that are not of type string. Before that conversion the strings probably have to be validated. 
No idea where to do that best :-)."
4276,TYPO3.Flow,Task,"",Resolved,Should have,Release Notes still points to alpha2,Duo ,"",2010-10-20 05:39,- Documentation -,"",2009-08-20,"","",0,2009-08-19 23:26,"","",20400,"","","The release note wiki page linked from http://flow3.typo3.org/download/ is still pointing to the alpha2 release page and not the alpha3 release page.

http://wiki.typo3.org/index.php/FLOW3_1.0.0_alpha2

should be

http://wiki.typo3.org/index.php/FLOW3_1.0.0_alpha3"
4277,TYPO3.Fluid,Feature,"",Resolved,Must have,Putting form fields in a partial causes error,Irene Höppner,Sebastian Kurfuerst,2010-10-20 05:44,ViewHelpers,"",2010-06-18,2010-06-18,"",100,2009-08-20 04:15,"","",2599850,"","","You often have the same form-fields in a new-template like in an edit-template. So I would like to put them into a partial which is used in the new-form and in the edit-form.
The form-tag itself would stay in the different templates.

So a partial could look like this:

<pre>
<label for=""titel"">Titel/Tätigkeit:</label><br />
<f:form.textbox property=""titel"" size=""70"" id=""titel"" /><br />
<label for=""personentage"">Personentage:</label><br />
<f:form.textbox property=""personentage"" size=""5"" id=""personentage"" /><br />
</pre>

Being included like this:
<pre>
<f:form method=""post"" action=""createOhneProjekt"" object=""{newAuftrag}"" name=""newAuftrag"">
	<f:form.hidden name=""kunde"" value=""{kunde}"" />
		<f:render partial=""auftragNewEditFormPart"" arguments=""{newAuftrag: newAuftrag}""/>	
	<f:form.submit value=""Auftrag Anlegen"" />
</f:form>
</pre>

This results to the exception: *#1243325768: No value found for key ""F3\Fluid\ViewHelpers\FormViewHelper->formName""* "
4279,TYPO3.Flow,Feature,"",Resolved,Should have,setfilepermissions.sh should give a hint on from where to call it,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Core,1.0 alpha 4,2009-08-20,"","",100,2009-08-20 05:44,"","",1796700,"","",setfilepermissions.sh only works if the current directory is the FLOW3 root path. The script should give a clear hint on how to use it if directories like ./Packages or ./Data don't exist.
4280,TYPO3.Welcome,Bug,"",Resolved,Should have,Welcome screen should warn if context != Development,Robert Lemke,Karsten Dambekalns,2010-10-20 05:48,"",1.0.0 alpha 4,2009-08-20,"","",100,2009-08-20 05:55,"","",2739900,"","","The steps mentioned on the welcome screen only work if FLOW3 runs in Development context (because the caches are not flushed automatically in Production context).

There should be a warning if FLOW3 runs in Production context."
4287,TYPO3.Fluid,Bug,"",Resolved,Must have,Missing reference in ext_autoload.php,Xavier Perseguers,"",2010-10-20 05:44,"","",2009-08-21,"",0.00,100,2009-08-21 02:45,"","",2599800,"","","Index: ext_autoload.php
===================================================================
--- ext_autoload.php    (revision 1123)
+++ ext_autoload.php    (working copy)
@@ -38,6 +38,7 @@
     'tx_fluid_core_viewhelper_facets_postparseinterface' => $extensionClassesPath . 'Core/ViewHelper/Facets/PostParseInterface.php',
     'tx_fluid_service_docbookgenerator' => $extensionClassesPath . 'Service/DocbookGenerator.php',
     'tx_fluid_view_templateview' => $extensionClassesPath . 'View/TemplateView.php',
+    'tx_fluid_view_templateviewinterface' => $extensionClassesPath . 'View/TemplateViewInterface.php',
     'tx_fluid_viewhelpers_aliasviewhelper' => $extensionClassesPath . 'ViewHelpers/AliasViewHelper.php',
     'tx_fluid_viewhelpers_baseviewhelper' => $extensionClassesPath . 'ViewHelpers/BaseViewHelper.php',
     'tx_fluid_viewhelpers_cobjectviewhelper' => $extensionClassesPath . 'ViewHelpers/CObjectViewHelper.php', "
4328,TYPO3.Flow,Feature,"",Resolved,Must have,Throw exception when Repository->update() is called with a non-clone,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 5,2009-08-26,"","",100,2009-08-26 03:23,"","",1797350,"","","From the FLOW3 IRC channel:
_wenn ich zum beispiel einen string ändern will muss ich ja $folder->setTitle(Text) anwenden und dann das repository->update($folder)_

This misunderstanding needs to be circumvented, a message should be given."
4333,TYPO3.Flow,Feature,"",Resolved,Should have,Implement log rotation,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Log,1.0 alpha 5,2009-08-26,"","",100,2009-08-26 06:01,"","",1797300,"","",The Log framework should be able to rotate logs after x days or if the log file reaches a certain size and keep a defined number of old log files.
4357,TYPO3.Fluid,Bug,"",Resolved,Must have,A selected object in a form could not be persisted,Jochen Rau,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-08-27,"","",100,2009-08-27 06:08,"","",2599750,"","","Adding a new Blog results in a fatal error:

<pre>
Catchable fatal error:
Argument 1 passed to Tx_BlogExample_Domain_Model_Blog::setAdministrator() must be an instance of
Tx_BlogExample_Domain_Model_Administrator, string given in 
/Users/jocrau/Documents/typoplanet/htdocs/dev/typo3conf/ext/blog_example/Classes/Domain/Model/Blog.php on line 169
</pre>"
4380,TYPO3.Fluid,Feature,"",Resolved,Should have,Implement an ifRole view helper,Andreas Förthner,Andreas Förthner,2010-10-20 05:44,ViewHelpers,"",2009-08-28,"","",0,2009-08-28 10:39,"","",2599700,"","",Analog to the ifAccess view helper the ifRole view helper should render it's contents only if the current user has the specified role(s).
4381,TYPO3.Flow,Bug,"",Resolved,Must have,Resource should be considered as denied if no ACL entry is configured,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,1.0 alpha 4,2009-08-28,"","",100,2009-08-28 10:45,"","",1796650,"","",Currently those resources are ignored in the policy...
4405,TYPO3.Flow,Feature,"",Resolved,Should have,EmptyView is misleading,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 5,2009-08-31,"","",100,2009-08-31 07:59,"","",1797250,"","","When no template is found, FLOW3 uses \F3\FLOW3\MVC\View\EmptyView as view (see ActionController::resolveView()).
Instead we should use the NotFoundView that was introduced in r2888 to display a more meaningful error to the user.

So instead of:
<pre>
if ($viewObjectName === FALSE) $viewObjectName = 'F3\FLOW3\MVC\View\EmptyView';
</pre>

something like
<pre>
if ($viewObjectName === FALSE) {
	$view = $this->objectManager->getObject('F3\FLOW3\MVC\View\NotFoundView');
	$view->assign('errorMessage', 'dummdidumm');
}
</pre>

Then EmptyView could be removed I guess.."
4406,TYPO3.Flow,Feature,"",Resolved,Must have,Implement caching mechanism for configuration files,Robert Lemke,Robert Lemke,2010-10-20 05:39,Configuration,1.0 alpha 4,2009-08-31,"","",100,2009-08-31 09:40,"","",1796600,"","","Currently the YAML configuration files are parsed on each request. They should rather be compiled into one fast-to-include PHP file, at least in production context."
4407,TYPO3.Flow,Bug,"",Resolved,Should have,flow3 script cannot flush caches,Robert Lemke,Robert Lemke,2011-04-15 15:58,Cache,1.0 beta 1,2009-08-31,"","",100,2009-08-31 11:28,"","",1810900,"","","When trying to flush all caches with the flow3 command line script, FLOW3 does instead of flushing the caches output an error message:

<pre>
404 Not Found

No controller could be resolved which would match your request.
</pre>
"
4409,TYPO3.Flow,Bug,"",Closed,Should have,@inject comment property isn't working,ziyad saeed,Karsten Dambekalns,2010-10-20 05:39,Object,1.0 alpha 3,2009-08-31,"","",0,2009-08-31 17:39,"","",1795400,"","","In the Getting Started guide, a blog controller is created that has a blogRepository property.
<pre>
/**
 * @var \F3\Blog\Domain\Repository\BlogRepository
 * @inject
 */
protected $blogRepository;</pre>

When the code is run the blogRepository property is null. The blogRepository object isn't being injected, which in turn gives a ""Call to a member function findAll() on a non-object"" error.

I'm posting this issue here cause no one seems to be monitoring the getting started issue tracker"
4426,TYPO3.Flow,Feature,"",Resolved,Should have,Provide Windows compatible version of the FLOW3 Command Line Tool,Bastian Waidelich,Bastian Waidelich,2011-08-04 02:40,Core,1.0 beta 1,"","","",100,2009-09-03 07:50,"","",1781450,"","","FLOW3 distribution comes with an easy to use command line tool (see http://flow3.typo3.org/documentation/tutorials/getting-started/gettingstarted.kickstart/#gettingstarted.kickstart.commandlinetool).
For the good old Windows users we should supply a similar batch version of the script."
4441,TYPO3.Flow,Bug,"",Resolved,Should have,Route does not correctly replace domain objects in resolve(),Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 4,2009-09-03,"","",100,2009-09-03 14:13,"","",1796550,"","","At the end of \F3\FLOW3\MVC\Web\Routing\Route::resolve() remaining objects are transformed into respective UUIDs.
But there are two issues with that:

*1. values are replaced directly instead of creating an array:*
<pre>
$route->resolves(array('someObject' => $someObject));
</pre>
expected: @?someObject[__identity]=XXXX-XXXX-XXXX-XXXX@ 
actual: @?someObject=XXXX-XXXX-XXXX-XXXX@

-

*2. This does not work for multi dimensional arrays:*
<pre>
$route->resolves(array('foo' => array('someObject' => $someObject)));
</pre>
expected: @?foo[someObject][__identity]=XXXX-XXXX-XXXX-XXXX@
actual: _Exception(!)_

-
 
This might be a chance to _forwardport_ something from extbase. There we have
<pre>
protected function convertDomainObjectsToIdentityArrays(array $arguments) {
	foreach ($arguments as $argumentKey => $argumentValue) {
		if ($argumentValue instanceof Tx_Extbase_DomainObject_AbstractEntity) {
			$arguments[$argumentKey] = array('uid' => $argumentValue->getUid());
		} elseif (is_array($argumentValue)) {
			$arguments[$argumentKey] = $this->convertDomainObjectsToIdentityArrays($argumentValue);
		}
	}
	return $arguments;
}
</pre>
in the new UriBuilder.

Patch follows"
4442,TYPO3.Fluid,Task,"",Resolved,Should have,Rename TagBuilder->render() to TagBuilder->build(),Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,Core,"",2009-09-03,"","",100,2009-09-03 15:36,"","",21150,"","",The render() method might be a bit misleading. The default name for the main method of a Builder is... build().
4443,TYPO3.Flow,Bug,"",Resolved,Should have,Mapping to plain arrays results in empty arrays,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Property,1.0 alpha 4,2009-09-03,"","",100,2009-09-03 17:29,"","",1796500,"","","When mapping an array or object to a plain array, the target array is unchanged, because it is not passed by reference automatically, like objects are."
4445,TYPO3.Flow,Feature,"",Resolved,Should have,setfilepermissions.sh should check if parent directories are accessible,Robert Lemke,Karsten Dambekalns,2010-10-20 05:39,Core,1.0 alpha 7,2009-09-04,"","",100,2009-09-04 04:31,"","",1800000,"","","A very common grinch is the access rights of parent directories: If FLOW3 is installed in /var/www/foo/bar/FLOW3, all of these directories need to be executable for the command line or web user. If this is not the case, the index.php won't even be able to include the bootsrap script etc.

We could warn the user about this fact while he runs the setfilepermissions script: it should check if all parent directories are also accessible by the given users (if that is possible)."
4454,TYPO3.Flow,Bug,"",Resolved,Must have,FileMonitor does not detect new files,Robert Lemke,Robert Lemke,2010-10-20 05:39,Monitor,1.0 alpha 4,2009-09-04,"","",100,2009-09-04 10:20,"","",1796450,"","","If the FileMonitor monitors a directory (registered with monitorDirectory()) it should detect new files. However, it doesn't.
As soon as the FileMonitor's cache is flushed, the new files are detected though."
4457,TYPO3.Flow,Feature,"",Resolved,Should have,Improve UriBuilder,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 4,2009-09-04,"","",100,2009-09-04 13:37,"","",1796400,"","","As discussed in the mailing lists, the current UriBuilder is not really flexible and extensible.
Besides it does not follow the FLOW3 CGL (""URIBuilder"" should be ""UriBuilder"", ""URIFor()"" => ""uriFor()"").

In Extbase the UriBuilder is already rewritten (See #3981). These changes need to be ""forward ported"" to FLOW3.

Patch follows.
"
4458,TYPO3.Fluid,Feature,"",Resolved,Could have,Add CycleViewHelper,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-09-04,"","",100,2009-09-04 14:08,"","",2599650,"","","A cycle view helper is useful for iterating through a predefined set of values in loops. E.g.:
<pre>
<f:cycle values=""{0: 'odd', 1: 'even'}"" as=""zebraClass"">
	<li class=""{zebraClass}"">{foo}</li>
</f:cycle>
</pre>

Patch follows."
4459,TYPO3.Fluid,Feature,"",Resolved,Could have,Add PaddingViewHelper,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-09-04,"","",100,2009-09-04 14:10,"","",2599600,"","","A PaddingViewHelper can be useful to format strings, especially in text/xml templates. It is a wrapper for PHPs str_pad function and can be used like this:
<pre>
<f:format.padding padLength=""10"" padString=""-="">TYPO3</f:format.padding>
</pre>
->
<pre>
TYPO3-=-=-
</pre>

Patch follows."
4460,TYPO3.Fluid,Feature,"",Resolved,Should have,Add GroupedForViewHelper,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-09-04,"","",100,2009-09-04 14:27,"","",2599550,"","","Provide a view helper that allows to iterate through values and group the result by a given key.
This might look like:
<pre>
<f:groupedFor each=""{fruits}"" as=""fruitsOfThisColor"" groupBy=""color"" groupKey=""theColor"">
	<h3>{theColor}:</h3>
	<f:for each=""{fruitsOfThisColor}"" as=""fruit"">
		{fruit.name}<br />
	</f:for>
</f:groupedFor>
</pre>

Patch follows."
4469,TYPO3.Flow,Feature,"",Resolved,Should have,Implement a central command line controller,Robert Lemke,Bastian Waidelich,2011-06-28 06:34,Core,1.0 beta 1,2009-09-07,"","",100,2009-09-07 03:04,"","",1781400,"","","Currently FLOW3 provides a command line interface through the flow3.sh bash script which has a fixed support for certain commands. This logic of this script should be extracted and improved so that we'll end up with very lean flow3.sh and flow3.bat scripts which just pass the command line arguments to a FLOW3CLI.php script.

The FLOW3CLI should allow for simple registration of additional commands so that third party packages can also take advantage of the interface. In the long run this script could also provide an interactive shell which allows for executing the available commands."
4472,TYPO3.Fluid,Feature,"",Closed,Won't have this time,View helper namespaces should be configurable,Bastian Waidelich,"",2010-10-20 05:44,Core,"",2009-09-07,"","",0,2009-09-07 05:29,"","",2599500,"","","Currently custom view helper namespaces can be defined _in_ the templates like
@{namespace ns=\New\Namespace}@

IMO it would be great to be able to configure the namespace in your package/extension configurations. That way you could easily replace custom or even fluid view helpers with your own implementation without touching the original package/extension.

Maybe we could even implement a fallback mechanism:
<pre>
MyPackage:
  fluid:
    namespaces:
      f:
        F3\MyOtherPackage\ViewHelpers
        F3\Fluid\ViewHelpers
      blog:
        F3\MyOtherPackage\ViewHelpers
</pre>

Now @<f:link.action />@ would try to instantiate @\F3\MyOtherPackage\ViewHelpers\Link\ActionViewHelper.php@ and if nout found use @\F3\Fluid\ViewHelpers\Link\ActionViewHelper.php@

If that fallback mechanism is too complex, it might be a possibility to override only single view helpers..
AFAIK, in FLOW3 this is already possible by adding something like
<pre>
F3\Fluid\ViewHelpers\Link\ActionViewHelper:
  className: F3\MyOtherPackage\ViewHelpers\Link\ActionViewHelper
</pre>

to @Objects.yaml@. But I'm not sure if that would be the right approach here..


"
4487,TYPO3.Flow,Bug,"",Resolved,Should have,New Documentation for Xampp,ziyad saeed,Irene Höppner,2010-10-20 05:39,- Documentation -,1.0 alpha 5,2009-09-08,"","",0,2009-09-08 06:57,"","",1797200,"","",The version of xampp available already comes with php 5.3. The documentation need to remove lot of information regarding installing php 5.3
4488,TYPO3.Fluid,Bug,"",Resolved,Must have,SubmitViewHelper ignores name/value attributes,Morton Jonuschat,Bastian Waidelich,2010-10-20 05:44,"","",2009-09-08,"","",100,2009-09-08 08:05,"","",2599450,"","","The Fluid / Form SubmitViewHelper ignores name and/or value attributes given in the tag.

Attached patch fixes this bug.
"
4489,TYPO3.Welcome,Bug,"",Resolved,Should have,FLOW3 welcome page is still wrong,ziyad saeed,Karsten Dambekalns,2010-10-20 05:48,"",1.0.0 alpha 5,2009-09-08,"","",100,2009-09-08 08:44,"","",2740000,"","","Now that alpha4 is released the welcome page for windows is still wrong.
It says that i need to cd into C:\wamp\www\flow3\Public.
The kickstart code it mentions need to be run inside the flow3 directory not inside the Public directory.
There is not public directory anyway. Its renamed to Web."
4492,TYPO3.Fluid,Bug,"",Resolved,Must have,ViewHelper render method arguments not initialized/passed correctly,Frans van der Veen,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-09-08,"","",100,2009-09-08 10:04,"","",2599400,"","","Hi,

Tx_Fluid_Core_ViewHelper_AbstractViewHelper::prepareArguments initializes arguments in the wrong order, or so it appears. This causes the arguments passed to the render() method not having any value.

First registerRenderMethodArguments is called (which set the flag isMethodParameter for the arguments), then initializeArguments is called, which if it has arguments with the same name will overwrite the arguments created by registerRenderMethodArguments.

You can test by changing the 'value' or 'name' parameter in a form.submit tag:
<f:form.submit value=""Gogogo!"" />

Solution: change the order in which initializeArguments and registerRenderMethodArguments() are called in Tx_Fluid_Core_ViewHelper_AbstractViewHelper::prepareArguments. 
(It appears to be working for the form.submit ViewHelper when I do so)

Regards,

Frans"
4518,TYPO3.Flow,Task,"",Resolved,Should have,Installation documentation patch,ziyad saeed,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 5,2009-09-09,"","",100,2009-09-09 12:49,"","",21350,"","",Here is the patch for installation.xml
4551,TYPO3.Welcome,Bug,"",Resolved,Must have,Commandline-code for windows is not correct (has patch),Irene Höppner,Karsten Dambekalns,2010-10-20 05:48,"",1.0.0 alpha 5,2009-09-10,"","",100,2009-09-10 09:20,"","",2739950,"","",The welcome screen shows the wrong commandline commands for windows. The patch contains the correct commands.
4596,TYPO3.Flow,Bug,"",Resolved,Should have,DEVELOPMENT or Development,ziyad saeed,Karsten Dambekalns,2010-10-20 05:39,Core,1.0 alpha 5,2009-09-11,"","",100,2009-09-11 17:41,"","",1797150,"","","Flow3 defaults to production mode if you use DEVELOPMENT as the context.
the context should be case insensitive."
4602,TYPO3.Flow,Bug,"",Resolved,Must have,memcache doesn't work,Irene Höppner,Karsten Dambekalns,2010-10-20 05:39,Cache,1.0 alpha 5,2009-09-12,"","",100,2009-09-12 09:04,"","",1797100,"","","I tried to use memcache for parts of the cache.

Added the following configuration to Caches.yaml:

<pre>
Default:
  backend: F3\FLW3\Cache\Backend\MemcachedBackend
  backendOptions:
    defaultLifetime: 0
    Servers: [localhost:11211]
</pre>

This error occurs:
<pre>
Fatal error: Call to a member function getScriptPathAndFilename() on a non-object in C:\Programme\xampp\htdocs\f3\intranet\Packages\Framework\FLOW3\Classes\Cache\Backend\MemcachedBackend.php on line 175
</pre>

To check, wether the memcached-server is up and running, I used the following PHP-script:

<pre>
<?php

$memcache = new Memcache;
$memcache->connect('localhost', 11211) or die (""Could not connect"");

$version = $memcache->getVersion();
echo ""Server's version: "".$version.""<br/>\n"";

$tmp_object = new stdClass;
$tmp_object->str_attr = 'test';
$tmp_object->int_attr = 123;

$memcache->set('key', $tmp_object, false, 10) or die (""Failed to save data at the server"");
echo ""Store data in the cache (data will expire in 10 seconds)<br/>\n"";

$get_result = $memcache->get('key');
echo ""Data from the cache:<br/>\n"";

var_dump($get_result);

?>
</pre>

The result is:
<pre>
Server's version: 1.2.1
Store data in the cache (data will expire in 10 seconds)
Data from the cache:
object(stdClass)#3 (2) { [""str_attr""]=> string(4) ""test"" [""int_attr""]=> int(123) }
</pre> "
4606,TYPO3.Flow,Bug,"",Resolved,-- undefined --,Spelling error in FLOW3's Package.xml,Andreas Wagner,Karsten Dambekalns,2010-10-20 05:39,"",1.0 alpha 5,2009-09-12,"","",100,2009-09-12 16:56,"","",1797050,"","","The description in Packages/Framework/FLOW3/Meta/Package.xml reads

""FLOW3 is an enterprise PHP application framework making extensive use of software development paradrigms that had not been brought to PHP programming yet.""

There is an ""r"" too much in the word ""paradigms""."
4631,TYPO3.Flow,Bug,"",Resolved,Should have,Using non-domain-objects as arguments should also work.,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:39,MVC,"",2009-09-15,"","",100,2009-09-15 07:33,"","",1781350,"","","It should be possible to have an Object bound to a form which does not have the @entity or @valueobject annotation.

Imagine a case when you have a complex form and want to bind a form-object to that - which should not be persisted in the database."
4638,TYPO3.Flow,Bug,"",Resolved,Should have,Refactor flash message implementation to use session scope,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:39,"","",2009-09-15,"","",100,2009-09-15 09:24,"","",1781300,"","","We should move flash message handling from AbstractController to some separate object which is in the session scope and thus automatically persisted.
Additionally, this object can be put into the ControllerContext, so the API inside the Templates is nicer."
4648,TYPO3.Fluid,Feature,"",Resolved,Should have,Enhance the textbox viewhelpter to be capable of type=password,Nikolas Hagelstein,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-09-16,"","",100,2009-09-16 05:39,"","",2599350,"","","Currently it's not possible to use the textbox viewhelper to render a password (i.e. <input type=""password""...) textfield.
Due to possible changes of namespaces during develepment specifying it by ""hand"" is very error-prone thing.
"
4666,TYPO3.Flow,Bug,"",Resolved,Must have,Reflection service broken,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,Reflection,1.0 alpha 5,2009-09-17,"","",100,2009-09-17 04:30,"","",1797000,"","","Since r3183 FLOW3s reflection service seems to be broken.
in @F3\FLOW3\Reflection\Service::reflectEmergedClasses()@ we iterate through registered classes and call @buildClassSchemata()@ for all classes tagged as @entity@ or @valueobject@.
The problem @isClassTaggedWith($className, 'entity')@ will always return FALSE cause the Service is not initalized at that time."
4667,TYPO3.Fluid,Bug,"",Resolved,Should have,Error class magic only works for object properties....,Nikolas Hagelstein,"",2011-05-05 12:30,ViewHelpers,"",2009-09-17,"","",0,2009-09-17 04:56,"","",2599300,"","","Like:
<pre>
<f:form.textbox property=""whatever"" errorClass=""iFail"" />
</pre>
Should work for:
<pre>
<f:form.textbox name=""whatever"" errorClass=""iFail"" />
</pre>
as well."
4668,TYPO3.Flow,Feature,"",Rejected,Should have,Validation improvement,Nikolas Hagelstein,Karsten Dambekalns,2010-10-20 05:39,Validation,1.0 alpha 5,2009-09-17,"","",0,2009-09-17 05:23,"","",1796950,"","","Sometimes it makes sense to stop validation after the first failure.
E.g. 
@validation NotEmpty, EmailAddress

In this case it makes no sense to face the user with both errorMessages. 

Though this can be resolved with a custom ViewHelper it would be nice if there would be a suitable annotation.
"
4704,TYPO3.Fluid,Feature,"",New,Should have,Improve parsing exception messages,Bastian Waidelich,"",2012-07-11 13:00,Core,"",2009-09-20,"","",0,2009-09-20 10:30,"","",2599250,"","",Fluid Parsing Exceptions should contain the path and linenumber of the affected template for easier bug fixing.
4740,TYPO3.Flow,Bug,"",Resolved,Must have,Default session save path should be per environment,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Session,1.0 alpha 5,2009-09-23,"","",100,2009-09-23 07:25,"","",1796900,"","",After the resolution for #1663 there can be permission issues between CLI and Web due to the shared session directory.
4755,TYPO3.Flow,Bug,"",Resolved,Must have,findAll() does not return the just before added item.,Falk Kühnel,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 5,2009-09-24,"","",100,2009-09-24 10:11,"","",1796850,"","","When adding an item to a repository and immediately thereafter calling the findAll() method, the just added items are not returned.

<pre>
$customer = $this->objectFactory->create('F3\Projects\Domain\Model\Customer');
$customer->setFirstName($this->rand_str(rand(5,32)));
$customer->setLastName($this->rand_str(rand(5,32)));
$this->customerRepository->add($customer);
$this->view->assign('customers', $this->customerRepository->findAll());
</pre>

Happens with revision 3915 on windows vista. Havent tried anything else."
4794,TYPO3.Fluid,Bug,"",Resolved,Must have,Translator view helper does not work when no BE user is logged in,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-09-28,"","",100,2009-09-28 16:54,"","",2599200,"","",Tx_Fluid_ViewHelpers_TranslateViewHelper depends on $GLOBALS['LANG'] which is only available in BE mode (or in FE mode with logged in BE user)
4799,TYPO3.Flow,Bug,"",Resolved,Should have,"MAC, XAMPP and FLOW3",Falk Kühnel,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,1.0 alpha 5,2009-09-29,"","",100,2009-09-29 03:23,"","",1796800,"","","With XAMP 1.7.2a on the MAC, FLOW3 is not running since the PHP parser complains about the declare statements in all the php files.

It seems to have to do with a faulty implementation of the zend string optimizer, but i am not sure.

Just leaving the info here so you might find it, if you run into it."
4824,TYPO3.Flow,Task,"",Resolved,Could have,Remove LoggerInterface::SEVERITY_* and use LOG_* instead,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Log,1.0 alpha 5,2009-09-30,"","",100,2009-09-30 06:01,"","",22150,"","",.
4835,TYPO3.Flow,Task,"",Resolved,Should have,Rename FlashMessages to FlashMessageContainer,Karsten Dambekalns,Robert Lemke,2010-10-20 05:39,MVC,1.0 alpha 5,2009-09-30,"","",100,2009-09-30 15:51,"","",22200,"","",... and adjust dependent code as needed.
4847,TYPO3.Kickstart,Bug,"",Resolved,Could have,Lowercase package name causes an unexplained exception when using kickstart package,Daniel Hofstetter,Karsten Dambekalns,2010-10-20 05:48,"",1.0.0 alpha 7,2009-10-01,"","",100,2009-10-01 10:51,"","",2740450,"","","I'm currently following the ""Getting started"" tutorial and while creating my first package, I used, by accident, ""blog"" as package name (instead of ""Blog"" as in the tutorial):
<pre>
./flow3 kickstart package blog
</pre>
This causes the following error:
<pre>
Uncaught FLOW3 Exception #1220722210: The package key ""blog"" is invalid
thrown in file /home/dho/projects/flowtutorial/Packages/Framework/FLOW3/Classes/Package/Manager.php
in line 238
</pre>
It would be helpful to mention what the criteria are for a valid key. 

I'm using the ""Getting started"" package with flow3 alpha 4."
4850,TYPO3.Flow,Bug,"",Resolved,Must have,errorAction() of the MVC ActionController doesn't work correct,Benjamin Albrecht old 2,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 6,2009-10-01,"","",100,2009-10-01 14:07,"","",1798700,"","","Line 350 of the file ActionController.php doesn't work.

There is the old class ""flashMessages"" in use.

<pre>
$this->flashMessages->add($errorFlashMessage);
</pre>

I've changed this line into
<pre>
$this->flashMessageContainer->add($errorFlashMessage);
</pre>

and the errorAction works again."
4855,TYPO3.Flow,Task,"",Closed,Should have,Investigate APC slam problem,Karsten Dambekalns,Karsten Dambekalns,2011-07-06 10:09,Cache,"",2009-10-02,"","",0,2009-10-02 04:01,"","",22250,"","","See http://t3.dotgnu.info/blog/php/user-cache-timebomb for the problem and http://pecl.php.net/bugs/bug.php?id=16814 as well as http://pecl.php.net/bugs/bug.php?id=16843 for the ""PHP solution"".

Do we need to consider the basic problem and change the way cache entries expire? Or is this solved by our site lock anyway (if it is enabled again)?"
4856,TYPO3.Flow,Bug,"",Resolved,Should have,Use of uninitialized $exception variable in APCBackend->set(),Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Cache,1.0 alpha 6,2009-10-02,"","",100,2009-10-02 04:44,"","",1798650,"","",.
4857,TYPO3.Flow,Bug,"",Resolved,Must have,ValidatorResolver tries to use data type as validator type,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Validation,1.0 alpha 6,2009-10-02,"","",100,2009-10-02 04:49,"","",1798600,"","","When buildMethodArgumentsValidatorConjunctions() iterates over method arguments, it tries to get a validator for each type. This works for simple types, but for objects the class name is used as validator directly. This is a) nonsense and b) causes circular dependency problems to begin with.

The problem is caused @$typeValidator = $this->createValidator($methodParameter['type']);@, since createValidator() expects to get either one of the internal validator shorthands or the fully qualified name of a validator - but not a data type!"
4859,TYPO3.Flow,Bug,"",Resolved,Should have,findOneBy*() in persistence repository does not limit result set size,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 6,2009-10-02,"","",100,2009-10-02 07:20,"","",1798550,"","","The @findOneBy*()@ methods should obviously limit the result set size to, well, 1."
4870,TYPO3.Flow,Bug,"",Resolved,Should have,Tests with RSAWalletServicePHP fail on Windows,David Bruehlmeier,Karsten Dambekalns,2010-10-20 05:39,Security,1.0 alpha 6,2009-10-02,"","",100,2009-10-02 14:56,"","",1798500,"","","<pre>
Error in encryptingAndDecryptingBasicallyWorks Detail
E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php:232
Warning: openssl_pkey_get_details() expects parameter 1 to be resource, boolean given in E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php line 232
Error in checkRSAEncryptedPasswordReturnsTrueForACorrectPassword Detail
E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php:232
Warning: openssl_pkey_get_details() expects parameter 1 to be resource, boolean given in E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php line 232
Error in checkRSAEncryptedPasswordReturnsFalseForAnIncorrectPassword Detail
E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php:232
Warning: openssl_pkey_get_details() expects parameter 1 to be resource, boolean given in E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php line 232
Error in decryptingWithAKeypairUUIDMarkedForPasswordUsageThrowsAnException Detail
E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php:232
Warning: openssl_pkey_get_details() expects parameter 1 to be resource, boolean given in E:\Sources\FLOW3\Packages\Framework\FLOW3\Classes\Security\Cryptography\RSAWalletServicePHP.php line 232
</pre>

My Setup
* Apache/2.2.12 (Win32) DAV/2 mod_ssl/2.2.12 OpenSSL/0.9.8k mod_autoindex_color PHP/5.3.0 mod_perl/2.0.4 Perl/v5.10.0 
* Windows NT SP3
"
4931,TYPO3.Flow,Task,"",Closed,Must have,Check correct behaviour of object replacement in persistence,Karsten Dambekalns,Karsten Dambekalns,2011-04-29 15:43,Persistence,"",2010-03-08,"",8.00,50,2009-10-07 09:06,"","",22600,8.00,"","When an object that is a persisted entity is cloned, we (through AOP) set a cloned flag -and drop the memorized clean state of the object-. Why is that flag still true after calling Repository->update() was the original question. It turns out we need to check the correct behaviour of the persistence in (at least) the following cases:

* cloned object is given to update(), then to add()
* cloned object is given to add(), then update()
* cloned object is given to replace(), what about doing this multiple times?
* the cloned object is given to update() and/or replace(), now the original is in turn added again

Part of the problem is to find out which of those scenarious should be allowed and what the correct behavior would be...

The involved data that is involved with this is (at least):

* FLOW3_Persistence_Entity_UUID
* -FLOW3_Persistence_cleanProperties-
* FLOW3_Persistence_clone

-Along the way we probably need to make sure the memorized clean properties are not thrown away when cloning, because after an update() (or replace()) call we need those properties for correct persistence (and because of my planned solution for #4317).-

Also make sure entities given to replace() get the new UUID also in their internals!"
4952,TYPO3.Flow,Bug,"",Resolved,Should have,Reflection cache of subclasses are not flushed if parent classes change,Robert Lemke,Robert Lemke,2010-10-20 05:39,Reflection,1.0 alpha 6,2009-10-08,"","",100,2009-10-08 08:27,"","",1798450,"","","If a parent class is changed (e.g. new properties are added, properties removed, new methods ...) the reflection cache must also be flushed for all classes inheriting this class directly or indirectly. That is not the case currently."
4960,TYPO3.Flow,Feature,"",Resolved,Must have,There should be a Request hash check when objects are modified,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:39,Security,"",2009-10-09,"","",100,2009-10-09 08:50,"","",1781250,"","","h2. Scenario:

The developer programmed a form to edit a ""Customer"", and he can select one role from a dropdown list.
This field will have the following name: customer[role], and its expected value will be a UUID.

Now, if an attacker replaces this form field by some fields which are named like:
customer[role][__identity] = ...
customer[role][isAdministrator] = TRUE
... he is able to completely change related domain objects which is like SQL-Injections ""built right into the framework"". Nice, eh? :-)

h2. How to solve this issue?

The general idea: If an object is _modified_, make sure that the appropriate form fields have been rendered on the last request. Else, it might be an attack.

h2. Solution

We build a list of all form fields which can be submitted. This list is signed/hashed (with a private key), and the list and the hash of the list are sent in a parameter called __hmac to the server as well.
If the parameter __hmac is set, it verifies the signature and checks that all submitted fields are also inside the form field list. If this is the case, the parameter ""hmacVerified"" inside the Request object is set to TRUE.

Remember we only wanted to enable this feature when data was _modified_? That's why we modified the Argument to remember the _origin_ of the data (which could be directly from the client, from the persistence layer but unmodified, from the persistence layer and modified, and a new object).
If any argument has been mapped with the cases ""persistence layer and modified"" and ""new object"", we make sure the HMAC was validated correctly. If the HMAC was not validated correctly, an exception is thrown.

h2. How to disable it

For building public APIs, a new annotation @dontverifyrequesthash has been introduced. If you annotate your action with this annotation, no HMAC error will be thrown at all, but you have to care about such security issues yourself."
4967,TYPO3.Fluid,Bug,"",Closed,Must have,Missing Event type onchange,Markus Dreyer,Jochen Rau,2010-10-20 05:44,"","",2009-10-11,"","",0,2009-10-11 06:39,"","",2599150,"","",After Jochen added the event Handler tags in TagBasedViewHelper I noticed that the onchange Event is missing.
4968,TYPO3.Fluid,Feature,"",Resolved,Should have,Sorting by OptionLabel for Selectbox,Markus Dreyer,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-10-11,"","",100,2009-10-11 06:50,"","",2599100,"","","I would like to have a sorting option for selectboxes.

sometihng like:

@$this->registerArgument('sortByOptionLabel', 'boolean', 'If true, List will be sorted by label.');@

and in getOptions

@if ($this->arguments->hasArgument('sortByOptionLabel') && $this->arguments['sortByOptionLabel'] === true) {@
@      asort($options);@
@}@
"
4972,TYPO3.Fluid,Bug,"",Closed,Should have,f:format.date does not respect locale.,Nikolas Hagelstein,"",2011-05-06 04:19,"","",2009-10-12,"","",0,2009-10-12 04:04,"","",2599050,"","","The fluid date helper does not respect the locale date format set by e.g. setlocale.
This issue is causef by the fact that the viewhelper makes use of PHP's DateTime object internally which isn't capable of locale time formats. Currently only ""strftime"" seems respect locales."
4984,TYPO3.Fluid,Feature,"",Resolved,Must have,"Add option ""selectAll"" to Select View Helper",Jochen Rau,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-10-13,"","",100,2009-10-13 12:15,"","",2599000,"","","Add an option ""selectAll"" to the Select View Helper. If it is set, all options of a multiple selector are preselected by default."
5003,TYPO3.Fluid,Feature,"",Resolved,Should have,Parse output of view helper 'translate',Thomas Deinhamer,Sebastian Kurfuerst,2010-10-20 05:44,ViewHelpers,"",2009-10-15,"","",100,2009-10-15 18:00,"","",2598950,"","","Expecting you have this html/template source...

@<f:translate key=""any"">The quick brown {dog} jumps over the lazy {fox}.</f:translate>@

... the 'variables' in the brackets won't get replaced anymore.
Therefor it's very complicated to print text with inline variables,
which should then get translated.

Or is there any better approach?

Thanks!"
5020,TYPO3.Fluid,Bug,"",Resolved,Must have,SelectViewHelper produces invalid code,Jochen Rau,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-10-17,"","",100,2009-10-17 07:48,"","",2598900,"","","The Select View Helper produces invalid code with strange output, if the value of the attribute ""options"" is empty. This is caused by the lack of at least one OPTION element.

""A SELECT element must contain at least one OPTION element.""
http://www.w3.org/TR/html4/interact/forms.html#h-17.6 "
5033,TYPO3.Fluid,Feature,"",Resolved,Must have,Improve Shorthand Syntax of ViewHelpers,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-10-19,"","",100,2009-10-19 04:29,"","",2598850,"","","h1. Proposal for shorthand syntax

The goal of this RFC is to propose a re-done shorthand syntax for fluid after some real-world usage.

h2. Current situation

Currently, we refer to ""shorthand syntax"" as another way to call a ViewHelper.

Here, there is a basic example for this:
<pre>{f:bla.blubb(""unnamed argument"" a=""b"" c=""42"" d=""{object}"")}</pre>
This is equivalent to the following:
<pre><f:bla.blubb a=""b"" c=""42"" d=""{object}"">unnamed argument</f:bla.blubb></pre>

* Every argument needs to be quoted
* The first argument is the data inside the tag body, in case it is unnamed.
* Nesting of ViewHelpers is arbitrarily possible:
 <pre>{f:outer("" first VH: {f:bla()} second VH: {f:blubb()}"")}</pre>
 (also inside arguments of ViewHelpers, other VHs can be called)
* ViewHelpers can *not* be called inside arrays

Note: Right now, the shorthand syntax is functionally equivalent like the Tag-based ViewHelper syntax.

h2. Problems with current syntax

In the most common use-case, we write things like
<pre>{f:bla(argument=""{blubb}"" argument2=""{bla}"")}</pre>
There, two things feel strange:

* The ""{?}"" syntax feels weird
* It feels strange that the argument needs to be quoted
* There is no comma between the arguments, which feels strange to programmers
* Named arguments in many languages are delimited by :, and not by =. The a=""b"" syntax feels strange.

h2. Draft for new syntax

We remove the ""Shorthand Syntax"" as it has been described above, and instead extend the ""Object Access"" syntax.

The basic object access syntax looks like this:
<pre>{object} {object.bla.blubb}</pre>

Now, we start to *post-process* this value with a ViewHelper:
<pre>{object.bla->f:postProcess()}</pre>

This could also be chained
<pre>{object.bla->f:postProcess()->f:anotherPostProcess()}</pre>

Additionally, if the ViewHelper does NOT work on any object, the first part can be omitted:
<pre>{f:process()->f:postProcess()}</pre>

h3. Arguments

Arguments look like this:
<pre>{f:bla.blubb(arg1: 'literal string', arg2: 42, arg3: object1.bla, arg4:{a1: ""string""})}</pre>

* All arguments have a name
* The syntax is the same as in JSON arrays, just without the outer brackets
* All string arguments are NOT evaluated, but taken as *literal* strings.
* arg1 is a string (which will not be post-processed)
* arg2 is a number
* arg3 is an object accessor
* arg4 is an array

h2. Comparison

The new syntax has the following limitations:
* There is no equivalent of the following: {f:process(""bla"")}, i.e. there is no {""bla""->f:process()} and I would not introduce it.
* Is is NOT possible anymore to use ViewHelpers as arguments in other shorthand ViewHelpers (but I think this is not a problem, as you could use the XML-based syntax where this works)
* It is currently NOT possible to call ViewHelpers in arrays (but this has not been possible before either)

*Please discuss this with us in the TYPO3 5.0 General Mailing list on lists.typo3.org!*"
5047,TYPO3.Flow,Bug,"",Resolved,Must have,Validationresovler regex fails for more than one validator with options,Nikolas Hagelstein,Karsten Dambekalns,2010-10-20 05:39,Validation,1.0 alpha 6,2009-10-20,"","",100,2009-10-20 07:15,"","",1798400,"","","A validation consisting of 2 validations having options makes the regex fail.
E.g.: @validate $whatever stringLength(minimum=""5""), bla(abc=""123"")
Results in (not the options part):

array(1) {
  [0]=>
  array(5) {
    [0]=>
    string(41) ""stringLength(minimum=""5""), bla(abc=""123"")"" 
    [""validatorName""]=>.
    string(12) ""stringLength"" 
    [1]=>
    string(12) ""stringLength"" 
    [""validatorOptions""]=>
    string(27) ""minimum=""5""), bla(abc=""123"""" 
    [2]=>
    string(27) ""minimum=""5""), bla(abc=""123"""" 
  }
}

Changing
const PATTERN_MATCH_VALIDATORS = '/(?:^|,\s*)(?P<validatorName>[a-z0-9\\\\]+)\s*(?:\((?P<validatorOptions>.+)\))?/i';

To
const PATTERN_MATCH_VALIDATORS = '/(?:^|,\s*)(?P<validatorName>[a-z0-9\\\\]+)\s*(?:\((?P<validatorOptions>[^)]+)\))?/i';
Seems to solve this issue. Could anyone please confirm. Thought this might fail as well for something like ""bla(myoptions=""asfasF)""). 

see http://forge.typo3.org/issues/show/5046 as well.
"
5056,TYPO3.Fluid,Bug,"",Closed,-- undefined --,F3\Fluid\Core\RuntimeException thrown in file TemplateVariableContainer.php,Martin Eisengardt,"",2011-05-06 04:14,"","",2009-10-20,"","",0,2009-10-21 01:59,"","",2598800,"","","I tried to build some kind of tree by invoking a section/for recurse.

Template:
<f:section name=""children"">
	<f:for each=""{parent.children}"" as=""child"">
		{indent}
		Child: {child.name}
		- #{child.objectUuid}
		- <a href=""<f:uri.action action='deletenode' arguments=""{parent:parent,child:child}"" />"">Delete</a>
		- <a href=""<f:uri.action action='createnode' arguments=""{parent:child}"" />"">Create new child</a><br />
		<f:render partial=""admin_index_nodelist"" section=""children"" arguments=""{parent:child, indent:indent}"" />
	</f:for>
</f:section>

Tried to remove a variable ""child"" which is not stored in the context!
37 F3\Fluid\Core\ViewHelper\TemplateVariableContainer::remove(""child"")
36 F3\Fluid\ViewHelpers\ForViewHelper::render(array, ""child"", """", boolean)
35 call_user_func_array(array, array)
34 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate()
33 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes()
32 F3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
31 F3\Fluid\ViewHelpers\SectionViewHelper::render()
30 call_user_func_array(array, array)
29 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate()
28 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes()
27 F3\Fluid\Core\Parser\SyntaxTree\RootNode::evaluate()
26 F3\Fluid\Core\Parser\ParsingState::render(F3\Fluid\Core\Rendering\RenderingContext)
25 F3\Fluid\View\TemplateView::renderPartial(""admin_index_nodelist"", ""children"", array)
24 F3\Fluid\ViewHelpers\RenderViewHelper::render(""children"", ""admin_index_nodelist"", array)
23 call_user_func_array(array, array)
22 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate()
21 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes()
20 F3\Fluid\Core\Parser\SyntaxTree\RootNode::evaluate()
19 F3\Fluid\Core\Parser\ParsingState::render(F3\Fluid\Core\Rendering\RenderingContext)
18 F3\Fluid\View\TemplateView::render()
17 F3\FLOW3\MVC\Controller\ActionController::callActionMethod()
16 F3\FLOW3\MVC\Controller\ActionController::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
15 F3\FLOW3\MVC\Dispatcher::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
14 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
13 call_user_func_array(array, array)
12 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
11 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
10 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::blockIllegalRequests(F3\FLOW3\AOP\JoinPoint)
9 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
8 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
7 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::initializeSecurity(F3\FLOW3\AOP\JoinPoint)
6 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
5 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
4 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
3 F3\FLOW3\MVC\Web\RequestHandler::handleRequest()
2 F3\FLOW3\Core\Bootstrap::run()
1 require(""Z:\ws\bgh-typo3\flow3\Packages\Framework\FLOW3\Scripts\FLOW3.php"")

Please include more helpful information!"
5068,TYPO3.Flow,Feature,"",Resolved,Should have,Implement validation for settings (or configuration in general),Robert Lemke,"",2012-06-18 06:37,Configuration,"",2009-10-21,"","",0,2009-10-21 08:21,"","",1781200,"","","Currently settings, which are typically defined in .yaml files, won't be validated by FLOW3. It would, however, be quite convenient for a developer if he could rely on validated settings.

One way to implement this would be by introducing annotations for yaml comments. The developer would then define the expected datatype and additional validators in his Settings.yaml template file and these rules would be enforced while settings are appplied by the Configuration Manager.

Example:
<pre>
Foo:

  /**
   * @type string
   * @validate StringLenth(minimum = ""10"")
   */
  title: ""The title of something""
</pre>
"
5069,TYPO3.Fluid,Bug,"",Resolved,Must have,Fluid Viewhelper link.email misses universal tag attributes,Morton Jonuschat,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-10-21,"","",100,2009-10-21 08:36,"","",2598750,"","","The EmailViewHelper misses the initialization of the universal tag attributes. Due to this class and misc other tag attributes doesn't work with this viewhelper and an exception gets thrown instead.

This patch adds a call to initialize the universal tag attributes:

<pre>
--- /var/www/_websites/faa/typo3/sysext/fluid/Classes/ViewHelpers/Link/EmailViewHelper.php	2009-10-01 20:31:08.000000000 +0200
+++ EmailViewHelper.php	2009-10-21 14:33:43.000000000 +0200
@@ -51,6 +51,15 @@
 	 */
 	protected $tagName = 'a';
 
+        /**
+         * Arguments initialization
+         *
+         * @return void
+         */
+        public function initializeArguments() {
+                $this->registerUniversalTagAttributes();
+        }
+
 	/**
 	 * @param string $email The email address to be turned into a link.
 	 * @return string Rendered email link
</pre>"
5075,TYPO3.Fluid,Bug,"",Rejected,Must have,Fluid Viewhelper link.email misses universal tag attributes,Nikolas Hagelstein,"",2010-10-20 05:44,ViewHelpers,"",2009-10-21,"","",0,2009-10-21 11:37,"","",2598700,"","","see:
http://forge.typo3.org/issues/show/5069"
5077,TYPO3.Flow,Bug,"",Resolved,Should have,Getting started tutorial links to old flow3 release,Daniel Hofstetter,Karsten Dambekalns,2010-10-20 05:39,- Documentation -,"",2009-10-21,"","",100,2009-10-21 11:58,"","",1781150,"","","The ""Getting Started Distribution"" link in the downloads section in the sidebar of the ""Getting started tutorial"" links to the old alpha3 of flow3. The link should point to http://sourceforge.net/projects/flow3/files/GettingStarted/1.0.0-alpha5 instead."
5107,TYPO3.Fluid,Bug,"",Resolved,Must have,namespaces names cant have more than one letter,Fernando Arconada,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-10-25,"","",100,2009-10-25 13:10,"","",2598650,"","","namespaces names cant have more than one letter in partials called from the layout

- {namespace z=Tx_foor_ViewHelpers} works
- {namespace za=Tx_Mytube_ViewHelpers} throws exception :#1224254792: 
Namespace could not be resolved. This exception should never be thrown! 
27 Tx_Fluid_Core_Parser_TemplateParser::handler_objectAccessor
(Tx_Fluid_Core_Parser_ParsingState, ""z"", ""a:currentAction()"", """")
"
5108,TYPO3.Fluid,Bug,"",Resolved,Must have,Custom ViewHelper couldnt find validator of its own domain,Fernando Arconada,Sebastian Kurfuerst,2010-10-20 05:44,"","",2009-10-25,"","",100,2009-10-25 13:22,"","",2598600,"","","I've a model Tx_Mytube_Domain_Model_Video 

I have created a ViewHelper
<?php
class Tx_Mytube_ViewHelpers_VideoViewHelper extends 
Tx_Fluid_Core_ViewHelper_AbstractViewHelper {

        /**
	 * Renders the video player
	 *
	 * @param Tx_Mytube_Domain_Model_Video $video
	 * @return string the content of the rendered TypoScript object
	 */
          public function render(Tx_Mytube_Domain_Model_Video $video) {
                return ""AAAAAA"";
          }
          
}
?>

and a template

{namespace mytube=Tx_Mytube_ViewHelpers}
<mytube:video video=""{video}""/>

But i having an exception

#1237900534: No validator found for argument name ""video"" with type 
""Tx_Mytube_Domain_Model_Video"" in view helper 
""Tx_Mytube_ViewHelpers_VideoViewHelper"". "
5118,TYPO3.Fluid,Feature,"",Resolved,Must have,Allow ViewHelpers to be Cascading in Shorthand-Syntax,Steffen Ritter,Sebastian Kurfuerst,2010-10-20 05:44,Core,"",2009-10-26,"","",100,2009-10-26 08:58,"","",2598550,"","","If you want to do something like this:
<pre>
<f:if condition=""{h:isactive(current:singleLetter.uid,number:{h:counting(context:'newslettersLatest',increase:'true',show:'true')})}"">
</pre>

it is not possible since nesting of viewHelpers within shorthand syntax is not possible.

The attached patch adapts the regexes for letting this through and additionally parses the subViewHelpers correctly while working on the ""argument-array"" of the outer ViewHelper.

The attached patch ist against v4 fluid."
5135,TYPO3.Fluid,Task,"",Resolved,Should have,Make method names CGL conform in TemplateParser,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:44,Core,1.0.0 alpha 6,2009-10-27,"","",100,2009-10-27 06:16,"","",23150,"","",The TemplateParser class has a few methods named @handler_*()@ which violates the CGL.
5136,TYPO3.Fluid,Task,"",Resolved,Should have,"Cleanup in unit tests: class_exists, comments and license",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:44,"",1.0.0 alpha 6,2009-10-27,"","",100,2009-10-27 06:19,"","",23200,"","",A lot of the unit tests contain the TYPO3 4.x license boilerplate and claim to use GPL v2. There are some extra docblocks scattered around and some tests use checks for @class_exists()@ around @require_once()@.
5137,TYPO3.Fluid,Bug,"",Resolved,Must have,ResourceViewHelper not usable with new shorthand syntax,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 6,2009-10-27,"","",100,2009-10-27 06:23,"","",2604050,"","","Since the resource to be included has no parameter in the view helper, one cannot use shorthand syntax with it."
5138,TYPO3.Fluid,Bug,"",Resolved,Must have,ResourceViewHelper uses hardcoded path to mirrored resources,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 6,2009-10-27,"","",100,2009-10-27 06:26,"","",2604000,"","","The path to the public resource mirror can be configured in FLOW3, so the ResourceViewHelper must follow suit."
5149,TYPO3.Flow,Feature,"",Resolved,Should have,Support counting objects in persistence queries,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Persistence,1.0 alpha 7,2009-10-27,"","",100,2009-10-27 12:04,"","",1799950,"","","To count results currently something like this is needed:
<pre>
function findAllCount() {
  $query = createQuery;
  $videos = $query->execute();
  return count($videos);
}
</pre>

We need something like:
<pre>
function findAllCount() {
  $query = createQuery;
  return $query->count();
}
</pre>

See #4991 for the original request on Extbase."
5150,TYPO3.Fluid,Bug,"",Resolved,Should have,Rewrite ViewHelpers to support new inline notation,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,Core,"",2009-10-27,"","",0,2009-10-27 12:14,"","",2598500,"","","With the new syntax for the Fluid inline notation (aka ""shorthand syntax"") implemented with r3333 we introduced a breaking change:
While
<pre>
{f:format.crop('{blog.title}' maxChars=30)}
</pre>

can be transformed to the new syntax like:
<pre>
{blog.title -> f:format.crop(maxChars: 30)}
</pre>

... there currently is no equivalent for:
<pre>
{f:format.crop('static string' maxChars=30)}
</pre>

because we do not allow the syntax to be applied to static strings.
Obviously you can work around this by using the good old tag syntax, but IMO we should just allow:

<pre>
{'static string' -> f:format.crop(maxChars: 30)}
</pre>

The alternative (as discussed with Karsten) would be to rework all affected view helpers so that you could specify the value like this:
<pre>
{f:format.crop(value: 'static string', maxChars: 30)}
</pre>

Anyways, after thinking about this again, I'm in favor of supporting the above.
There are some exceptions though:
e.g.
<pre>{'css/styles.css' -> f:uri.resource()}</pre>
looks pretty odd and I'd change it to
<pre>{f:uri.resource(path: 'css/styles.css')}</pre>

Affected view helpers:
* format.padding
* format.number
* format.currency
* format.crop
* format.date
* format.nl2br
* format.printf
* cObject (v4 only)
* translate (v4 only)
* html (v4 only)

Affected view helpers that IMO don't need support for inline notation:
* alias
* for / groupedFor
* cycle
* if / then / else
* security.ifGrantedAuthority / security.ifAccess (v5 only)
* be.container (v4 only)
* debug (v4 only)
* errors
* section
* form
* link.*"
5152,TYPO3.Flow,Feature,"",Resolved,Should have,Make package settings available in view,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,1.0 alpha 6,2009-10-27,"","",100,2009-10-27 14:08,"","",1798350,"","","to be able to write
<pre>
{settings.someOption}
</pre>
in your (Fluid) template, the settings should be assigned to the view after initialization."
5153,TYPO3.Flow,Bug,"",Resolved,Should have,Routing: RouterCacheAspect only converts objects in the first dimension of route values,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,MVC,"",2009-10-27,"","",100,2009-10-27 14:18,"","",1781100,"","","in @Classes/MVC/Web/Routing/Aspect/RouterCachingAspect.php@ we currently have
<pre>
foreach ($routeValues as $k => $v) {
	if (is_object($v)) {
		$routeValues[$k] = spl_object_hash($v);
	}
}
</pre>

But $routeValues could be multi-dimensional, so we'll have to convert objects recursively."
5158,TYPO3.Fluid,Feature,"",Closed,Should have,"Add ""true"" and ""false"" to Fluid syntax",Bastian Waidelich,Sebastian Kurfuerst,2013-06-05 04:40,Core,"",2009-10-28,"","",100,2009-10-28 06:58,"","",2598450,"","","Currently
<pre>
{f:uri.resource(path: 'somePath', absolute: true)}
</pre>
throws an exception, because the @true@ is ""translated"" into @{true}@ internally.
<pre>
{f:uri.resource(path: 'somePath', absolute: 'true')}
</pre>
and
<pre>
{f:uri.resource(path: 'somePath', absolute: 1)}
</pre>
is possible, but it would be nicer to add ""true"" and ""false"" as language constructs."
5171,TYPO3.Flow,Bug,"",Resolved,Should have,Property Mapper: different action required when identity query returned more than 1 object,Manuel Strausz,Karsten Dambekalns,2010-10-20 05:39,Property,1.0 alpha 7,2009-10-29,"","",100,2009-10-29 07:57,"","",1799900,"","","Currently, when \F3\FLOW3\Property\Mapper::findObjectByIdentityProperties finds more than 1 object, it returns FALSE, which is the same as if 0 objects where found. There is an error message added to the mapping results, but this doesn't appear anywhere since an exception is thrown first.
The transformToObject method then throws an exception that is worded like this: ""Querying the repository for the specified object was not successful.""
There should be either a more verbose exception message stating that there was an integrity violation problem detected while querying, or a message added to the system logger to at least give a hint towards the real problem.

Alternatively, only the first found object could be returned and just a warning added to the log.

Even if it should not be possible for more than 1 object with the same identity to exist in the persistence backend, we should still take this case into consideration.
"
5180,TYPO3.Flow,Bug,"",Resolved,Should have,"Documentation: Security Framework, 2 examples have a mistake.",Tommy Seus,Andreas Förthner,2010-10-20 05:39,Security,1.0 alpha 6,2009-10-30,"","",100,2009-10-29 19:50,"","",1798300,"","","I think I have found 2 errors in the documentation.

*Example roles definition in the FLOW3.yaml file*

@Customer:@

a Role without an Array ( [] ) didnt work.

@Invalid argument supplied for foreach

Packages/Framework/FLOW3/Classes/Security/ACL/PolicyService.php:
00265:   foreach ($this->roles[$role]  .....@


*Example for the ifAccess view helper*

<f:security.ifAccess resource=""someResource"">
  This is being shown in case you have access to the given resource
</f:if>

The closing tag is not correct.

--
greetings
Tommy"
5182,TYPO3.Flow,Bug,"",Resolved,Must have,Routing: @action should not be case sensitive,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:39,MVC,1.0 alpha 6,2009-10-30,"","",100,2009-10-30 08:22,"","",1798250,"","","With the default routing setup, following is (and should be) possible:
<pre>
http://localhost/TestInG/sTanDard/inDeX
</pre>
However
<pre>
http://localhost/testing/standard/Index
</pre>
throws an exception
<pre>
#1218473352: The action name must start with a lower case letter, ""Index"" does not match this criteria.
</pre>

That should not happen.
I suggest to lower case all MVC parameters in the Router already, so that the request contains the same keys independently from the spelling.
Patch follows"
5185,TYPO3.Flow,Bug,"",Resolved,Should have,ValidatorResolver fails to parse @validate annotations with complex options,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Validation,1.0 alpha 6,2009-10-30,"","",100,2009-10-30 11:54,"","",1798200,"","","When options like @Bar(Quux=123, Pax=""a weird \""string\"" with *freaky* stuff"")@ are given, they are not parsed correctly..."
5237,TYPO3.Fluid,Bug,"",Resolved,Should have,fix v4's resource ViewHelper,Sebastian Kurfuerst,"",2010-10-20 05:44,"","",2009-11-05,"","",100,2009-11-05 05:32,"","",2598400,"","","[!!!][+BUGFIX] Fluid (ViewHelpers): FIxed the Resource ViewHelper to be in sync with FLOW3 again. This means that instead of writing <f:uri.resource>...</f:uri.resource>, you write <f:uri.resource path=""..."" /> or {f:uri.resource(path:'...')}."
5256,TYPO3.Fluid,Bug,"",Resolved,Should have,htmlspecialchars() applied inconsistently and of little use,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:44,Core,"",2009-11-06,"","",100,2009-11-06 09:25,"","",2598350,"","","Observations:
* When a value assigned to Fluid is put into a template, it remains untouched (i.e. angle brackets stay as they are and so forth).
* When a value is passed through a ViewHelper, it is by default run through @HtmlSpecialCharsPostProcessor@
** This can be disabled only by using a setting that is not part of the public API and subject to change

So, the processing of values is not consistent. But there is more:

I would expect to be able to use the values assigned as-is, unprocessed. An example are the templates used in the FLOW3 kickstarter, where angle brackets are completely legal and must not be run through @htmlspecialchars()@.

Therefore I propose the following:
* remove the @HtmlSpecialCharsPostProcessor@ (and possible the whole @ObjectAccessorPostProcessorInterface@ and related code)
* add a ViewHelper that can be used with inline syntax to apply escaping for HTML (e.g. like @{value->f:escapeForHtml}@)

That way the user can decide how to make use of the values."
5257,TYPO3.Fluid,Feature,"",Resolved,Should have,Allow generic post-processing of template content,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:44,Core,"",2009-11-06,"","",100,2009-11-06 09:25,"","",2598300,"","","Currently relative URLs to resources must be created using the resource viewhelper. It would be a lot nicer if that was not needed, and this triggered the idea of post processing values.
For the task at hand it would be sufficient to add the needed code to @evaluate()@ in @TextNode@, but that would not be compatible with Fluid for v4 and it seems to be better to come up with a more generic solution.

Thus the following is proposed:
* classes implementing a certain interface can be registered with Fluid
* each class can be registered to act on only certain types of syntax tree nodes
* after a template is parsed those processors are asked to do their work on the matching nodes

That would allow to plug in a processor to adjust resource URLs as well as apply HTML escaping on all text nodes (see #5256)"
5301,TYPO3.Fluid,Bug,"",Closed,Must have,Select with option multiple throws Fatal Error,Jochen Rau,Sebastian Kurfuerst,2010-10-20 05:44,ViewHelpers,"",2009-11-10,"","",0,2009-11-10 03:58,"","",2598250,"","","The following code results in a fatal error:

<f:form.select id=""categories"" property=""categories"" options=""{categories}"" multiple=""multiple"">

The error message is:

The form field name ""[]"" is invalid. Reason: ""[]"" used not as last argument."
5440,TYPO3.Flow,Task,"",Resolved,Should have,Security should have its own configuration file,Robert Lemke,Andreas Förthner,2010-10-20 05:40,Configuration,1.0 alpha 8,2009-11-19,"","",100,2009-11-19 10:40,"","",23900,"","","Currently all security related options are configured in the FLOW3.yaml configuration file. As this configuration will become more extensive in the future and justifies its own class, we should introduce setting files called ""Security.yaml"" and move all security related options to them.
"
5442,TYPO3.Flow,Feature,"",New,Should have,Destroy session / logout user on deleting an account,Robert Lemke,Andreas Förthner,2012-10-25 02:46,Security,"",2009-11-19,"","",0,2009-11-19 11:50,"","",1781050,"","","On calling remove() , the Account Repository should invalidate the session (or whatever is necessary) of the given account before deleting it."
5446,TYPO3.Flow,Feature,"",Resolved,Should have,Implement PDO based Cache Backend,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 7,2009-11-20,"","",100,2009-11-20 03:44,"","",1799850,"","","We need a cache backend which supports PDO compatible databases.

Hint: Look at TYPO3 4.3."
5480,TYPO3.Flow,Feature,"",Resolved,Should have,JoinPoint should provide a method hasException(),Robert Lemke,Robert Lemke,2010-10-20 05:40,AOP,1.0 alpha 7,2009-11-24,"","",100,2009-11-24 04:09,"","",1799800,"","",When implementing After advices it might be handy to test for a possible exception thrown by the target method. Therefore JoinPoint should provide a method hasException().
5481,TYPO3.Flow,Feature,"",Resolved,Should have,Implement meaningful logging for security / authentication,Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 7,2009-11-24,"","",100,2009-11-24 04:14,"","",1799750,"","","Finding out what's wrong during the authentication process can be cumbersome due to its complexity. Therefore we need some meaningful logging which helps debugging new client code (or the security framework itself) and at the same time audit the authentication mechanism of an application.

Logging should be implemented as an aspect. -Advices should only be active if this is required by current logging threshold.-"
5484,TYPO3.Flow,Bug,"",Resolved,Must have,AOP proxy builder does not add some annotations to built proxy classes,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,AOP,1.0 alpha 7,2009-11-24,"","",100,2009-11-24 06:20,"","",1799700,"","","The proxy classes retain @param annotations, but loose @return if no parameters exist and also any other annotations. That leads to problems with validation and possibly other things."
5485,TYPO3.Fluid,Feature,"",Rejected,Must have,"Missing operators ""==="", ""!=="" and ""!"" in fluid comparism mechanism",Steffen Ritter,"",2011-05-06 04:05,Core,"",2009-11-24,"","",0,2009-11-24 06:48,"","",2598200,"","","implement them :)

Attached patch adds the operators and furthermore adds a unit test to for all operators in different datatypes..."
5512,TYPO3.Fluid,Bug,"",Resolved,Could have,form view helper produces invalid XHTML output,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2009-11-26,"","",100,2009-11-26 07:53,"","",2598150,"","","By default the form view helper inserts hidden fields for referrer & hmac to the generated form at the very top.
I just found out, that this is not XHTML compliant as In XHTML 1.0 Strict mode all inputs have to be put in a block element.

I'd suggest to wrap the auto-generated hidden fields by
<pre>
<div style=""display: none""></div>
</pre>"
5576,TYPO3.Flow,Bug,"",Resolved,Must have,Cache Manager receives bloated configuration array,Robert Lemke,Robert Lemke,2010-10-20 05:40,Configuration,1.0 alpha 7,2009-11-30,"","",100,2009-11-30 07:24,"","",1799650,"","","The Configuration Manager gets the names and options caches configured in Caches.yaml by a setter methods. This array should only contain names of caches (cache identifiers) and their configuration options. In reality however this array contains additional information from *somewhere*:

<pre>
array(31) { [""Default""]=> array(3) { [""frontend""]=> string(40) ""F3\FLOW3\Cache\Frontend\VariableFrontend"" [""backend""]=> string(34) ""F3\FLOW3\Cache\Backend\FileBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } [""FLOW3_AOP_ProxyClassCodes""]=> array(1) { [""frontend""]=> string(38) ""F3\FLOW3\Cache\Frontend\StringFrontend"" } [""FLOW3_AOP_ProxyBuildInformation""]=> array(0) { } [""FLOW3_AOP_TargetClassInformation""]=> array(0) { } [""FLOW3_Cache_ClassFiles""]=> array(0) { } [""FLOW3_Cache_ResourceFiles""]=> array(0) { } [""FLOW3_Configuration""]=> array(0) { } [""FLOW3_Core""]=> array(0) { } [""FLOW3_Monitor""]=> array(0) { } [""FLOW3_Reflection""]=> array(0) { } [""FLOW3_Resource_MetaData""]=> array(0) { } [""FLOW3_Resource_Status""]=> array(1) { [""frontend""]=> string(38) ""F3\FLOW3\Cache\Frontend\StringFrontend"" } [""FLOW3_Security_Policy""]=> array(0) { } [""FLOW3_Security_Cryptography_RSAWallet""]=> array(2) { [""backend""]=> string(34) ""F3\FLOW3\Cache\Backend\FileBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(30) } } [""FLOW3_Object_Configurations""]=> array(0) { } [""FLOW3_MVC_Web_Routing_FindMatchResults""]=> array(2) { [""backend""]=> string(45) ""F3\FLOW3\Cache\Backend\TransientMemoryBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } [""FLOW3_MVC_Web_Routing_Resolve""]=> array(3) { [""frontend""]=> string(38) ""F3\FLOW3\Cache\Frontend\StringFrontend"" [""backend""]=> string(45) ""F3\FLOW3\Cache\Backend\TransientMemoryBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } [""Fluid_SyntaxTreeCache""]=> array(3) { [""frontend""]=> string(40) ""F3\FLOW3\Cache\Frontend\VariableFrontend"" [""backend""]=> string(45) ""F3\FLOW3\Cache\Backend\TransientMemoryBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } [""FLOW3""]=> array(17) { [""Default""]=> array(3) { [""frontend""]=> string(40) ""F3\FLOW3\Cache\Frontend\VariableFrontend"" [""backend""]=> string(34) ""F3\FLOW3\Cache\Backend\FileBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } [""FLOW3_AOP_ProxyClassCodes""]=> array(1) { [""frontend""]=> string(38) ""F3\FLOW3\Cache\Frontend\StringFrontend"" } [""FLOW3_AOP_ProxyBuildInformation""]=> array(0) { } [""FLOW3_AOP_TargetClassInformation""]=> array(0) { } [""FLOW3_Cache_ClassFiles""]=> array(0) { } [""FLOW3_Cache_ResourceFiles""]=> array(0) { } [""FLOW3_Configuration""]=> array(0) { } [""FLOW3_Core""]=> array(0) { } [""FLOW3_Monitor""]=> array(0) { } [""FLOW3_Reflection""]=> array(0) { } [""FLOW3_Resource_MetaData""]=> array(0) { } [""FLOW3_Resource_Status""]=> array(1) { [""frontend""]=> string(38) ""F3\FLOW3\Cache\Frontend\StringFrontend"" } [""FLOW3_Security_Policy""]=> array(0) { } [""FLOW3_Security_Cryptography_RSAWallet""]=> array(2) { [""backend""]=> string(34) ""F3\FLOW3\Cache\Backend\FileBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(30) } } [""FLOW3_Object_Configurations""]=> array(0) { } [""FLOW3_MVC_Web_Routing_FindMatchResults""]=> array(2) { [""backend""]=> string(45) ""F3\FLOW3\Cache\Backend\TransientMemoryBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } [""FLOW3_MVC_Web_Routing_Resolve""]=> array(3) { [""frontend""]=> string(38) ""F3\FLOW3\Cache\Frontend\StringFrontend"" [""backend""]=> string(45) ""F3\FLOW3\Cache\Backend\TransientMemoryBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } } [""DocumentationBrowser""]=> array(0) { } [""ExtJS""]=> array(0) { } [""Fluid""]=> array(1) { [""Fluid_SyntaxTreeCache""]=> array(3) { [""frontend""]=> string(40) ""F3\FLOW3\Cache\Frontend\VariableFrontend"" [""backend""]=> string(45) ""F3\FLOW3\Cache\Backend\TransientMemoryBackend"" [""backendOptions""]=> array(1) { [""defaultLifetime""]=> int(0) } } } [""Kickstart""]=> array(0) { } [""PHP6""]=> array(0) { } [""PHPCR""]=> array(0) { } [""PHPUnit""]=> array(0) { } [""Party""]=> array(0) { } [""TYPO3CR""]=> array(0) { } [""Testing""]=> array(0) { } [""Welcome""]=> array(0) { } [""YAML""]=> array(0) { } }
</pre>"
5577,TYPO3.Flow,Feature,"",Resolved,Should have,Implement postprocessing and validation into the configuration manager,Robert Lemke,Robert Lemke,2010-10-20 05:40,Configuration,1.0 alpha 7,2009-11-30,"","",100,2009-11-30 07:28,"","",1799600,"","","The Configuration Manager should provides some kind of hooks to allow the different submodules of FLOW3 to postprocess and validate their configuration.

Currently this postprocessing is done directly in the Configuration Manager (where it doesn't belong) and validation is done during runtime in the sub modules (which is unnecessary because cached configuration doesn't need to be validated again)."
5579,TYPO3.Flow,Task,"",Resolved,Should have,Replace FLOW3.yaml file by a regular Settings.yaml file,Robert Lemke,Robert Lemke,2010-10-20 05:40,Configuration,1.0 alpha 7,2009-11-30,"","",100,2009-11-30 07:35,"","",24650,"","","Historically it made sense to have a dedicated FLOW3.yaml file. However, in reality it only contains regular settings of the FLOW3 package ? nothing really different from other settings.

The only differences between FLOW3 settings and other package's settings are:

* FLOW3 settings can only be defined in the FLOW3 package itself or in the global configuration directories ? not in any package's Configuration directory
* FLOW3 settings are loaded very early during the boot process, even before the Object Manager is initialized

For consistency and KISS reasons, the options defined in FLOW3.yaml should be moved to a regular Settings.yaml file."
5583,TYPO3.Fluid,Story,"",Closed,Should have,DateFormat View Helper doesn't respect locale setting,Susanne Moog,"",2011-05-06 04:19,ViewHelpers,"",2009-11-30,"","",0,2009-11-30 08:39,"","",2598100,"","","Hi [this is related to fluid, I don't know if this is the right bugtracker],

just found out that the format date viewhelper does not support local date settings (day or month names etc) because it uses the DateFormat object that does not care for the locale.

A short test case shows this:

dateTime->format('l, d. F Y'): Monday, 30. November 2009
strftime('%A, %d. %B %G'): Monday, 30. November 2009

setlocale(LC_ALL, 'de_DE.utf8');

dateTime->format('l, d. F Y'): Monday, 30. November 2009
strftime('%A, %d. %B %G'): Montag, 30. November 2009

(compare ""Monday"" and ""Montag"" in the last part)

Code:

$dateTime = new DateTime();
echo 'dateTime->format(\'l, d. F Y\'):';
echo $dateTime->format('l, d. F Y');
echo 'strftime(\'%A, %d. %B %G\'):';
echo strftime('%A, %d. %B %G');
echo ""\n"";
echo 'setlocale(LC_ALL, \'de_DE.utf8\')' . ""\n\n"";
setlocale(LC_ALL, 'de_DE.utf8');
echo 'dateTime->format(\'l, d. F Y\'):';
echo $dateTime->format('l, d. F Y');
echo 'strftime(\'%A, %d. %B %G\'):';
echo strftime('%A, %d. %B %G');


We could probably use strftime for locales other than en_US (or always?). If you think that reasonable I'll try making a patch at the weekend."
5589,TYPO3.Flow,Bug,"",Resolved,Should have,InitalizeActions typo in FLOW3 Manual,Zach Davis,Karsten Dambekalns,2010-10-20 05:40,- Documentation -,1.0 alpha 7,2009-11-30,"","",100,2009-11-30 13:06,"","",1799550,"","","The FLOW3 manual mentions the ""initializedAction()"" init method on action controllers, while the API docs contain ""initializeAction()"" (no 'd' in the latter).

The typo is here:

http://flow3.typo3.org/documentation/manuals/flow3/flow3.mvcframework/#d0e2242 -- search for ""initializedAction""

I believe it should be ""initializeAction"" as per:

http://flow3.typo3.org/fileadmin/API/FLOW3/F3/FLOW3/MVC/Controller/class-ActionController.html

"
5599,TYPO3.Flow,Bug,"",Resolved,Should have,Various typos in documentation,Michael Sauter,Karsten Dambekalns,2010-10-20 05:40,- Documentation -,1.0 alpha 7,2009-12-02,"","",100,2009-12-01 19:11,"","",1799500,"","","I found a couple of (really) minor bugs and typos while going through the docs ...

In chapter 5, example 5.16, the method ""someAction"" uses $greeter, but that should be $this->greeter.

In chapther 13.2, section ""More-factor authentication strategy"", the last sentence of the first paragraph should read ""This option is disabled by default and can be enabled with the following configuration:"" instead of ""This option is by disabled by default and can be enable with the following configuration:"".

In chapter 13.2, section ""Authentication mechanisms shipped with FLOW3"", in the last sentence in the first paragraph it should be ""please"" instead of ""pleas"".

In chapter 13.3, in the fifth paragraph it should be ""If you want, you could implement your own access decision manager."" instead of ""If you want, could implement your own access decision manager.""

In chapter 13.4, section ""Roles"", the second sentence should be ""A granted authority can be attached to an users security context, to determine which rights should be granted to her."" instead of ""A granted authority can be attached to an users security context, to determine the which rights should be granted to her."""
5612,TYPO3.Flow,Feature,"",Resolved,Should have,Property Mapper should be able to map to target if only a setter exists,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Property,1.0 alpha 8,2009-12-03,"","",100,2009-12-03 03:51,"","",1803250,"","","The property mapper checks if it can set a certain property in the target by consulting the Class Schema of the target class. This assumes that a class property of the same name must exist in order to set a property.

However, we use the ObjectAccess API to ultimately set the property which does not require such class property. It could easily be that only a setter method exists which stores the property somewhere else and this should be sufficient to map the property.

Therefore the map function needs to be refactored to use information from ObjectAccess::isPropertySettable / isPropertyGettable instead of relying on the class schema."
5618,TYPO3.Welcome,Feature,"",Resolved,Should have,Proposal for new notice design on welcome screen,Christopher Hlubek,Christopher Hlubek,2010-10-20 05:48,"",1.0.0 alpha 7,2009-12-03,"","",100,2009-12-03 17:19,"","",2740050,"","","I think the notice/warning for enabling the development context should look nicer.

I can commit the finished CSS (see attached screenshot) if it's okay."
5636,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Under Review,Must have,Form_RadioViewHelper and CheckBoxViewHelper miss check for existing object before it is accessed.,Steffen Ritter,"",2013-11-22 11:14,"","",2009-12-05,"","",0,2009-12-05 12:13,"","",24700,"","","If you have an form for creating an Object currently this will fail with an exception.
The other FormViewHelper use the getValue() function to determine an property-value of object assigned to the form.
Since Checkbox/Radiobox has to compare against a value to decide if selected, they have to fetch the property-value on their own.

in getValue a check on $this->viewHelperVariableContainer->exists('Tx_Fluid_ViewHelpers_FormViewHelper', 'formObject') and an call to $this->addAdditionalIdentityPropertiesIfNeeded(); are performed before acessing the property. If you do so in RadioBox and Checkbox too, no exception anymore.

regards

Steffen"
5658,TYPO3.Flow,Task,"",Resolved,Must have,Inconsistent class names in sub namespaces (Part II),Robert Lemke,Robert Lemke,2010-10-20 05:40,"",1.0 alpha 7,2009-01-26,"","",100,2009-12-07 12:27,"","",24800,"","","From the refactoring before alpha1 there are still a few edge cases concerning the naming of classes which turned out to be disturbing. Especially the rule ""the main purpose of namespaces is categorization and ordering"" was a bit neglected by allowing these special cases.

<pre>
Currently allowed edge case           Future class name
-----------------------------------------------------------------------------------------
\F3\FLOW3\Object\Manager              \F3\FLOW3\Object\ObjectManager
\F3\Foo\Bar\Builder                   \F3\Foo\Bar\BarBuilder
\F3\FLOW3\Object\Factory              \F3\FLOW3\Object\Factory
</pre>

-To be discussed-:
* -Rename ""AbstractFoo"" to ""FooAbstract""-
* Rename ""InvalidFoo"" to ""InvalidFooException"" 

Scope of this ticket:
# Refactor class names which don't follow the above rules.
# Add the above rules to the CGL.
"
5659,TYPO3.Flow,Major Feature,"",Resolved,Must have,Implement content security,Robert Lemke,Andreas Förthner,2011-01-07 05:12,Security,"",2009-12-07,"","",0,2009-12-07 12:45,"","",1781000,"","","This ticket is a placeholder for all commits related to content security. Obviously this feature still needs to be described properly.

In general, content security will be handled by aspects affecting the persistence framework enforcing policies for all kinds of operations related to content (i.e. objects and their properties)."
5660,TYPO3.Flow,Feature,"",Resolved,Must have,Implement support for Object Converters,Robert Lemke,Robert Lemke,2010-10-20 05:40,Property,1.0 alpha 7,2009-12-07,"","",100,2009-12-07 13:01,"","",1799450,"","","Now finally the Property Mapper needs to support custom Object Converters (we previously called the Property Editors). We'll need them to convert a string to DateTime, a file upload array to a Resource object and probably a few more cases.

There should be an interface for Object Converters and all classes implementing this interface should automatically be registered as converters for the Property Mapper. Each converter can be responsible for one or more types (class names), but no two converters may be responsible for the same type."
5774,TYPO3.Flow,Feature,"",New,Should have,Package Manager should clear all cache entries tagged with %PACKAGE%,Robert Lemke,"",2010-10-20 05:39,Package,"",2009-12-17,"","",0,2009-12-17 10:52,"","",1780950,"","","Whenever a package is activate, deactivated or upgraded the Package Manager should flush all cache entries which are tagged with \F3\FLOW3\Cache\Frontend\FrontendInterface::TAG_PACKAGE."
5783,TYPO3.Fluid,Bug,"",Resolved,Must have,The AbstractViewHelper floods the syslog,Jochen Rau,Sebastian Kurfuerst,2010-10-20 05:44,Core,"",2010-06-18,2010-06-18,"",100,2009-12-17 18:11,"","",2598050,"","",See related issue #5605 in Extbase.
5822,TYPO3.Flow,Feature,"",Resolved,Must have,Implement proper resource management,Robert Lemke,Robert Lemke,2010-10-20 05:40,Resource,1.0 alpha 7,2009-12-21,"","",100,2009-12-21 10:55,"","",1799400,"","","The Resource sub package must be redone. It should support:

* automatic publishing of static package resources
* on-demand publication of persistent resources
* import of persistent resources
* upload of persistent resources (file upload)
* flexible publisher which eventually supports Content Delivery Networks"
5833,TYPO3.Kickstart,Bug,"",Resolved,Should have,Inflection viewhelper doesn't work anymore,Robert Lemke,Karsten Dambekalns,2010-10-20 05:48,"",1.0.0 alpha 7,2009-12-22,"","",100,2009-12-22 12:24,"","",2740400,"","","While building models (and also kickstarting other types of classes) the placeholders in the Fluid template are not replaced by their real value anymore:

<pre>
/**
 * A {k:inflect.humanizeCamelCase(""{modelName}"")}
 *
 * @version $Id: $
 * @license http://www.gnu.org/licenses/gpl.html GNU General Public License, version 3 or later
 * @scope prototype
 * @entity
 */
class Paper {

	/**
	 * The {k:inflect.humanizeCamelCase(""title"" lowercase=""true"")}
	 * @var string
	 */
	protected $title;
</pre>

Maybe the view helpers don't work with the current Fluid API anymore?"
5846,TYPO3.Flow,Feature,"",Resolved,Should have,Implement Account Factory,Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 8,2010-03-10,"",1.00,100,2009-12-28 05:19,"","",1803200,"","","Currently the typical code for creating a password-based account looks like this:

<pre>
		$roles = array(
			$this->objectFactory->create('F3\FLOW3\Security\ACL\Role', 'Participant'),
		);

		$salt = substr(md5(uniqid(rand(), TRUE)), 0, rand(6, 10));

		$account = $this->objectFactory->create('F3\Party\Domain\Model\Account');
		$account->setAccountIdentifier($accountIdentifier);
		$account->setCredentialsSource(md5(md5($password) . $salt) . ',' . $salt);
		$account->setAuthenticationProviderName('DefaultProvider');
		$account->setRoles($roles);

		$newPerson->addAccount($account);
		$this->personRepository->add($newPerson);
</pre>

It is not very intuitive and probably error prone for newbies having to write that much code
in order to create an account. Another problem is that we rely on a third developer's ability
to create a secure salt.

We therefore should provide some kind of account factory which allows for easy creation of
typical accounts:

<pre>
   $newAccount = $accountFactory->createAccountWithPassword('identifier', 'password', array('role1', 'role2'));
</pre>

This would also be a good opportunity to move the Account model to the FLOW3 Security sub package because
it belongs more to security than to Party. The setParty() and getParty() methods should refer to a PartyInterface
rather than a specific implementation"
5849,TYPO3.Flow,Feature,"",Resolved,Should have,Rebuild proxy classes if security policy changes,Robert Lemke,Robert Lemke,2012-04-26 08:38,Monitor,1.1 beta 1,2009-12-28,"","",100,2009-12-28 07:16,"","",1780900,"","","We need to monitor the settings (or probably later called ""Policies.yaml"") file and rebuild the AOP proxy classes if it changes.
"
5851,TYPO3.Flow,Task,"",Resolved,Should have,Security Context Holder redundant?,Robert Lemke,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 8,2009-12-28,"","",100,2009-12-28 13:31,"","",25250,"","","It's a bit inconvenient to get hold of the security context because you need to get the Security Context Holder injected first and ask it for the current Security Context.
Maybe we don't need the Security Context Holder at all - what other implementation could be imagined anyway?

If there's no other Context Holder implementation at sight we should remove it altogether and use the Security Context directly (which has a session scope)."
5879,TYPO3.Fluid,Bug,"",Resolved,Should have,It's not possible to make the multiple attribute optional,Kim Lang,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-01-04,2010-06-21,"",100,2010-01-03 19:34,"","",2598000,"","","In my extension i have a flexform where i can configure the attributes of every formfield.
I use the IF inline syntax in the ""view"" to achieve this.

This works well for all attributes except for the multiple attribute.


Example:
<pre>
<f:form.Select 
	property=""{fieldHelper.name}"" 

 	options=""{fieldHelper.config.options}""

	id=""{form.name}_{fieldHelper.name}""

	disabled=""{f:if(condition: fieldHelper.config.disabled, then: 'disabled')}""
	multiple=""{f:if(condition: fieldHelper.config.multiple, then: 'multiple')}""
	
	accesskey=""{fieldHelper.config.accesskey}""
	tabindex=""{f:if(condition: fieldHelper.config.tabindex, then: fieldHelper.config.tabindex)}""
/>
</pre>

The problem is in the SelectViewHelper it checks only if the attribute is given not have a value.
Lines: 111, 125, 213
if ($this->arguments->hasArgument('multiple')) {


this syntax is unfortunately not working:
<pre>
<f:form.Select 
	{f:if(condition: fieldHelper.config.multiple, then: 'multiple=""multiple""')}
/>
</pre>
"
5882,TYPO3.Flow,Feature,"",Closed,Could have,Caching for Package Manager/Package file listing,Manuel Strausz,"",2012-01-26 09:24,Package,"",2010-01-04,"","",50,2010-01-04 08:30,"","",1780850,"","","Currently, everytime FLOW3's Package Manager initializes it will traverse the folder structure via a DirectoryIterator. And for each active package, an array of class files will be built in much the same way.
This doesn't have much of a performance impact when deploying in a linux environment, however it seems to take about 0.5 - 1.0 seconds to do on a windows machine (at least that's the number I got from my tests).
I think the package manager and the packages themselves could really use some caching to solve this performance impact, and could generally be useful to minimize the number of filesystem operations. The difficult part about that is that at this point in the bootstrap process, there isn't any way to access the CacheManager (except by pre-loading it and circumventing the ObjectManager). So a different way of caching would be needed, maybe similarly to the way configuration files are cached."
5889,TYPO3.Flow,Bug,"",Resolved,Could have,Kickstart twice defined as svn:external,Thomas Allmer,Robert Lemke,2010-10-20 05:40,"",1.0 alpha 7,2010-01-05,"","",100,2010-01-05 08:33,"","",1799350,"","","In the base distribution (https://svn.typo3.org/FLOW3/Distributions/Base) the Kickstart is defined twise as svn:external 
just a consmetical fix; but as I just saw it though well report it... :p

<pre>
[...]
Fluid https://svn.typo3.org/FLOW3/Packages/Fluid/trunk/
Kickstart https://svn.typo3.org/FLOW3/Packages/Kickstart/trunk/
Party https://svn.typo3.org/FLOW3/Packages/Party/trunk/
[...]
Kickstart https://svn.typo3.org/FLOW3/Packages/Kickstart/trunk/
</pre>"
5927,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Must have,Write documentation for Cache Framework,Robert Lemke,Karsten Dambekalns,2011-06-21 10:31,- Documentation -,1.0 beta 1,2010-01-08,"","",100,2010-01-08 03:32,"","",25700,"","",The basic use of the cache framework and the setup of its different backends needs to be documented.
5933,TYPO3.Fluid,Feature,"",Accepted,Should have,Optional section rendering,Nathan L,Sebastian Kurfuerst,2012-05-21 10:18,ViewHelpers,"",2010-06-18,2010-06-25,2.00,20,2010-01-08 10:34,"","",2597950,"","","It would be nice to be able to make a section optional.

If a template does not define the ""food"" section, then the default food will be shown if optional is set:
<f:render section=""food"" optional=""true"">
    <p>Default food: potato chips</p>
</f:render>

If a default value is not set, then it will render nothing:
<f:render section=""food"" optional=""true"" />


If optional=""true"" is not set, then an exception will be thrown. This is the normal behavior so nothing should change for anyone unless they add the optional parameter."
5963,TYPO3.Fluid,Bug,"",Closed,Won't have this time,Multiple Select Form helper fails when value is Tx_Extbase_Persistence_ObjectStorage,Nathan L,"",2010-10-20 05:44,ViewHelpers,"",2010-01-11,"","",0,2010-01-11 18:02,"","",2597900,"","","<f:form.select multiple=""true"" size=""4"" property=""dishTypes"" options=""{allDishTypes}"" optionLabelField=""name""></f:form.select>

This failed to mark selected items as selected when recipe->getDishTypes() returns a Tx_Extbase_Persistence_ObjectStorage

See the patch for the change I made to make it functional.

Basically the getOptions method converts the values away from objects.

Actually, this change I made should probably be done in getSelectedValue() but I have no time and have to catch my carpool.



"
5995,TYPO3.Flow,Feature,"",Resolved,Could have,Implicitly call __toString method if action result is an object,Robert Lemke,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 7,2010-01-13,"","",100,2010-01-13 05:57,"","",1799300,"","","If an action method returns an object, the ActionController should check if a __toString method exists and if so call it and append its result to the response content."
5998,TYPO3.Flow,Feature,"",Resolved,Should have,More flexible subpackage directory structure,Robert Lemke,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 7,2010-01-13,"","",100,2010-01-13 06:32,"","",1799250,"","","Currently there is an option to set a @subpackage in a route configuration which will later be translated into a class name by the Request object (see getControllerObjectName()). The pattern for such a class name / object name is hardcoded and reads like this:

<pre>
F3\@package\@subpackage\Controller\@controllerController
</pre>

If an application for its own reasons wants to structure controller differently, routes cannot resolve the object name of the controller anymore. For example if a set of controllers dealing with the account of a user need to be collected in one directory, this structure would be nice:

<pre>
  MyPackage\
     Classes\
        Controller\
           Account\
              RegistrationController.php
              PersonalInfo.php
              CancellationController.php

</pre>

which would result in the following pattern:

<pre>
F3\@package\Controller\@subpackage\@controllerController
</pre>

This is, however, not possible at the moment because the pattern is not configurable and even if so, it would conflict with other packages relying on other patterns. Additionally ""sub package"" doesn't really fit anymore once we refer to a sub structure below ""Controllers"".

We could for example allow @controller to contain namespace separators:

<pre>
   @package: ""MyPackage""
   @controller: ""Account\Registration""
</pre>
"
6003,TYPO3.Fluid,Bug,"",Resolved,Should have,ObjectAccessorNode::evaluate calls ObjectAccessor even if variable is not an object or array,Robert Lemke,Robert Lemke,2010-10-20 05:44,Core,1.0.0 alpha 7,2010-01-13,"","",100,2010-01-13 10:26,"","",2604100,"","","ObjectAccessorNode::evaluate calls ObjectAccessor even if variable is not an object or array.
"
6004,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Closed,Should have,"Checkbox viewHelper throws exception in ""newAction"" method.",Nathan L,Bastian Waidelich,2012-01-18 15:30,ViewHelpers,"",2010-01-13,"","",0,2010-01-13 10:45,"","",26200,"","","I'm not sure if this is a bug or just the way it is supposed to work.  Maybe this should be filed under Fluid or not, I'm not sure. I made changes to my extBase model in order to make it work.

Here is an example scenario:

<pre>
class Myobj {
/**
 * iampretty
 * @param boolean
 */
 protected $iampretty;
    
 // standard getter/setter
}

/**
 * Show a form to create a new object
 *
 * @param Tx_Myext_Domain_Model_Myobj $myobj A new object that is yet to be created
 * @return string A form for providing the objects properties.
 */
function newAction($myobj = NULL) {
    $this->view->assign('myobj',$myobj);
}

<f:form method=""post"" controller=""Example"" action=""create""  name=""myobj"" object=""{myobj}"">

    <f:form.checkbox property=""iampretty"" value=""1"" /> Am I pretty?

<f:/form>
</pre>

This throws an exception: *#1243325768: No value found for key ""Tx_Fluid_ViewHelpers_FormViewHelper->formObject""*

However, if I modify my newAction to look like this, then the error isn't thrown:

<pre>
function newAction($myobj = NULL) {
    if ($myobj == NULL) {
        $myobj = t3lib_div::makeInstance('Tx_Myext_Domain_Model_Myobj');
    }
    $this->view->assign('myobj',$myobj);
}
</pre>


But there is a different issue!  Here is how the checkbox renders:

*Checkbox viewhelpers can only be bound to properties of type boolean or array. Property ""iampretty"" is of type ""NULL"".*

I can make this go away by adding this constructor to my domain object:

<pre>
public function __construct() {	
    $this->iampretty = false;
}
</pre>

Now everything works!  I'm just not sure if it this is how it is supposed to work.  

"
6005,TYPO3.Flow,Bug,"",Resolved,Should have,ObjectAccess::getProperty() behaves not as documented when property does not exist,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-01-13,"","",100,2010-01-13 10:51,"","",1803150,"","","The method should throw an exception as per it's documentation, but returns NULL, which is not really the same thing (think '' vs. NULL)."
6006,TYPO3.Flow,Feature,"",Resolved,Must have,"Base FLOW3 persistence directly on database, not on TYPO3CR",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 7,2010-01-13,"","",100,2010-01-13 10:55,"","",1799200,"","","Once upon a time we decided to use JSR-283 for storing our content. That still makes sense for the CMS, but for the framework it turned out to be too much overhead and being in the way of elegantly using TYPO3CR for the CMS (because it always feels like using something that we shouldn't use because it's infrastructure...).

So, create a FLOW3 persistence backend that directly uses a DB."
6008,TYPO3.Flow,Feature,"",Resolved,Should have,Automatically purge files of removed resources,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Resource,1.0 alpha 8,2010-01-13,"","",100,2010-01-13 10:59,"","",1803100,"","","When a resource object is discarded, the related file should be removed as well.

However, such a mechanism requires that the persistence framework provides some kind of hook to notifiy the resource manager about the removal of resource objects."
6028,TYPO3.Flow,Bug,"",Resolved,Must have,DataMapper cannot handle wrongly typed input.,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 7,2010-01-14,"","",100,2010-01-14 11:24,"","",1799150,"","","When a property value comes back from the persistence depths as string, but is supposed to be an integer (or some other type), it is processed as string. That leads to problems when persisting again and changes data, which obviously should not happen."
6029,TYPO3.Flow,Bug,"",Resolved,Must have,PdoBackend cannot handle uninitialized DateTime properties,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 7,2010-01-14,"","",100,2010-01-14 11:26,"","",1799100,"","","Properties with a declared type of DateTime that have a NULL value break persistence, because the PdoBackend tries to use their value as DateTime object..."
6030,TYPO3.Flow,Bug,"",Resolved,Should have,"Router needlessly lowercases names of package, controller, action",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,MVC,1.0 alpha 7,2010-01-14,"","",100,2010-01-14 11:30,"","",1799050,"","","Templates in Fluid need to be in a path whose parts have to be lowercased, which breaks consistency. That is caused by the Router applying strtolower() on a bunch of values in setControllerKeysAndFormat(). Furthermore some of those calls are double-whoppered, e.g. for the package key. Just check what happens in Request::setControllerPackageKey()..."
6047,TYPO3.Flow,Bug,"",Resolved,Should have,./flow3 - wrong flush cache controller ,Julian Kleinhans,Robert Lemke,2010-10-20 05:40,Core,1.0 alpha 7,2010-01-16,"","",100,2010-01-15 18:18,"","",1799000,"","","Hi,

the commandline script ./flow3 calls a wrong controller by flushing the cache

line 177 
CONTROLLER='Manager'

but there is no ""ManagerController"" only a ""CacheManagerController""

Change this line and it works!

CONTROLLER='CacheManager'"
6059,TYPO3.Flow,Bug,"",Resolved,Must have,./flow3 - wrong package controller,Zach Davis,Robert Lemke,2010-10-20 05:40,Core,1.0 alpha 7,2010-01-16,2010-01-18,"",100,2010-01-16 14:39,"","",1798950,"","","I believe that line 127 should be changed from:

CONTROLLER='Manager'

to:

CONTROLLER='PackageManager'

Seems that when classes were renamed, perhaps they didn't get renamed in the flow3 script (see related bug 6047)"
6069,TYPO3.Flow,Bug,"",Resolved,Must have,PdoBackend cannot handle uninitialized SplObjectStorage properties,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 7,2010-01-18,"","",100,2010-01-18 03:49,"","",1798900,"","","Properties with a declared type of @SplObjectStorage@ that have a NULL value break persistence.

Zachary Davis
> In my application, I have two models: accounts and users. Account models have a property like this:
<pre>
/**
  * @var \SplObjectStorage<\F3\MyApp\Domain\Model\User>
  */
 protected $users;
</pre> 
> Prior to upgrading the FLOW3 source, I was able to persist Account objects without setting the $users property. After upgrading, attempts to persist accounts fail with this error:
> 
> #1: Catchable Fatal Error: Argument 1 passed to F3\FLOW3\Persistence\Backend\PdoBackend::processSplObjectStorage() must be an instance of SplObjectStorage, null given, called in /opt/local/apache2/htdocs/tutorial/Packages/Framework/FLOW3/Classes/Persistence/Backend/PdoBackend.php on line 247 and defined in /opt/local/apache2/htdocs/tutorial/Packages/Framework/FLOW3/Classes/Persistence/Backend/PdoBackend.php line 388 (More information)
> 
> For now, I've fixed it by setting users to an empty SplObjectStorage instance in the User constructor.  "
6073,TYPO3.Flow,Bug,"",Resolved,Must have,ObjectAccess::getProperty() causes warning with array and non-existing property,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 7,2010-01-18,"","",100,2010-01-18 05:33,"","",1798850,"","","If you use getProperty() to ask for a non-existing property on an array, the input is eventually passed to get_object_vars(), which emits a warning because it expects an object."
6087,TYPO3.Fluid,Bug,"",Closed,Won't have this time,"#1251730702: The value must be of type ""Tx_Sffluid_Domain_Model_Customer"", but was of type ""array"". ",Stefan Froemken,"",2010-10-20 05:44,Core,"",2010-01-18,"","",100,2010-01-18 15:14,"","",2597850,"","","Hello...I just try to learn Fluid, but when I want to save some values following error appears:

#1251730702: The value must be of type ""Tx_Sffluid_Domain_Model_Customer"", but was of type ""array"". 

edit.html:
<p class=""bodytext"">Editieren Sie den Kunden:</p>
<f:form method=""post"" action=""update"" name=""customer"" object=""{customer}"">
	<label for=""firstname"">Vorname</label><br />
	<f:form.textbox property=""firstname"" /><br />
	<label for=""lastname"">Nachname</label><br />
	<f:form.textbox property=""lastname"" /><br />
	<f:form.submit class=""submit"" value=""Submit""/>
</f:form>

CustomerController.php:
 <?php
 class Tx_Sffluid_Controller_CustomerController extends Tx_Extbase_MVC_Controller_ActionController {
  protected $customerRepository;

  public function initializeAction() {
   $this->customerRepository= t3lib_div::makeInstance('Tx_Sffluid_Domain_Repository_CustomerRepository');
  }
  public function indexAction() {
   $this->view->assign('zahl', 12);
   $this->view->assign('customers', $this->customerRepository->findAll());
  }
  public function editAction(Tx_Sffluid_Domain_Model_Customer $customer) {
   $this->view->assign('customer', $customer);
  }
  public function updateAction(Tx_Sffluid_Domain_Model_Customer $customer) {
   $this->customerRepository->update($customer);
   $this->flashMessages->add('Der Kunde wurde aktualisiert.');
   $this->redirect('index');
  }
 }

I can't find an error. The code is nearly the same as in blog_example. What's wrong here?!

Stefan Frömken

Fluid: 1.0.2
TYPO3: 4.3.1"
6089,TYPO3.Flow,Bug,"",Resolved,Must have,EmailAddressValidator does not recognize multiple @,Jochen Rau,Karsten Dambekalns,2010-10-20 05:40,Validation,1.0 alpha 8,2010-01-19,"","",100,2010-01-18 18:20,"","",1803050,"","",EmailAddressValidator fails for addresses like 'andreas@foerthner@example.com'. This issue is already resolved in Extbase. Related to #5843.
6092,TYPO3.Flow,Bug,"",Resolved,Must have,Resources imported with importResource() are not published,Robert Lemke,Robert Lemke,2010-10-20 05:40,Resource,1.0 alpha 7,2010-01-19,"","",100,2010-01-19 04:05,"","",1798800,"","","If i call the ResourceManager->importResource direct, the image stores in Data/Persistance/Resources/ but NOT in the public folder _Resouces/Persistent/. So i can't use it in the frontend

[...]
$imageModel = $this->objectFactory->create('F3\Tutorials\Domain\Model\Image');
$imageModel->setTitle('Test');
$imageModel->setOriginalResource($this->recourceManager->importResource('/Users/jk/Desktop/IMG_2474.jpg'));
[...]

if i use the way over the form upload in the frontend it works!
"
6118,TYPO3.Flow,Bug,"",Resolved,Should have,Integer arguments are not validated automatically,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,MVC,1.0 alpha 8,2010-01-20,"","",0,2010-01-20 04:03,"","",1803000,"","","The annotation
<pre>
@param integer $argument
</pre>

does not add a Number or similar validator automatically
"
6120,TYPO3.Flow,Feature,"",Resolved,Should have,Re-implement lazy loading in persistence...,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-01-20,"",22.00,100,2010-01-20 05:11,"","",1802950,"","","We need a replacement for the lazy loading that is gone with alpha 7.

This time build it in a way that makes it really transparent (so that you don't need to take LazyLoadingProxy instances into account)."
6121,TYPO3.Flow,Feature,"",Rejected,Should have,Add validator and filter for HTML,Karsten Dambekalns,"",2012-03-12 08:51,Validation,"","","",6.00,0,2010-01-20 06:15,"","",1780800,"","",We need a validator that can check for malicious content in strings that are supposed to contain some HTML. And it would be nice to have a filter to clean up messy stuff of that kind.
6124,TYPO3.Flow,Task,"",Resolved,Must have,Reorganize and clean up persistence backend,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-01-20,"","",100,2010-01-20 06:51,"","",26550,"","","The new persistence backend layer needs to be cleaned up a little:
* move data mapper alongside backend (they are technically dependent anyway)
* add data mapper interface
* augment backend interface so it is actually useful for creating new backends
"
6135,TYPO3.Flow,Task,"",Resolved,Should have,Authentication Manager has to make sure that only one Party can be authenticated at a time,Andreas Förthner,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 8,2010-01-20,"","",100,2010-01-20 13:07,"","",26700,"","",.
6137,TYPO3.Flow,Feature,"",Resolved,Must have,Implement a PHP Code Cache Frontend,Robert Lemke,Robert Lemke,2010-10-20 05:40,Cache,1.0 alpha 8,2010-01-20,"","",100,2010-01-20 16:23,"","",1802900,"","","The AOP framework and some other parts of FLOW3 (in the future) store and retrieve PHP code using the cache framework. However, this comes with a speed penalty because ? in order to be compatible with all kinds of cache backends - the code must be stored using the String frontend and be parsed during runtime by eval().

We need a frontend which is optimized for caching code and in turn refrains from supporting all backends.
"
6140,TYPO3.Flow,Feature,"",Resolved,Should have,ClassSchema must reset identity property and identifier property when being made value object,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-01-21,"","",100,2010-01-21 04:23,"","",1802850,"","","If a class schema exists, and the type is set to value object, properties only useful for entities must be reset."
6141,TYPO3.Flow,Feature,"",Resolved,Should have,Check prototype on entity/valueobject,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-01-21,"","",100,2010-01-21 04:26,"","",1802800,"","",Entites and value objects must be declared prototype!
6142,TYPO3.Flow,Feature,"",Resolved,Should have,Class schema must check for entity when setting identity and identifier property ,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-01-21,"","",100,2010-01-21 04:28,"","",1802750,"","",It should be possible to set identity and identifier properties only when the class schema type is entity
6143,TYPO3.Flow,Feature,"",Resolved,Could have,Handle expiry time smarter in memcache and APC backends,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 10,2010-06-10,"",1.00,100,2010-01-21 04:30,"","",1804950,"","","The memcache/APC backends should check expirytime limit and act accordingly, i.e. convert to a timestamp if needed (see code in TYPO3 4.3 for a way to handle this)."
6149,TYPO3.Fluid,Feature,"",Resolved,Should have,for: add iteration informations,Stefan Froemken,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-01-21,"","",100,2010-01-21 09:04,"","",2597800,"","","This is a feature request. I first saw this functionality in smarty and I think you should insert this in fluid, too. You're right, when you told me to program this viewHelper on my own. But I think this should be in Core.

Here is my first try changing forViewHelper.php:

	/**
	 * Iterates through elements of $each and renders child nodes
	 *
	 * @param array $each The array or SplObjectStorage to iterated over
	 * @param string $as The name of the iteration variable
	 * @param string $key The name of the variable to store the current array key
	 * @param boolean $reverse If enabled, the iterator will start with the last element and proceed reversely
	 * @param integer $iterate If >= 0, you got a new element {iterate} which counts through the Arrays
	 * @param integer $step If iterate is set, then you can set your prefered stepping 2 = 1,3,5,7,9
	 * @return string Rendered string
	 * @author Sebastian Kurfürst <sebastian@typo3.org>
	 * @author Bastian Waidelich <bastian@typo3.org>
	 * @author Robert Lemke <robert@typo3.org>
	 * @api
	 */
	public function render($each, $as, $key = '', $reverse = FALSE, $iterate = FALSE, $step = 1) {
		$output = '';
		if ($each === NULL) {
			return '';
		}
		if (is_object($each)) {
			if (!$each instanceof Traversable) {
				throw new Tx_Fluid_Core_ViewHelper_Exception('ForViewHelper only supports arrays and objects implementing Traversable interface' , 1248728393);
			}
			$each = $this->convertToArray($each);
		}

		if ($reverse === TRUE) {
			$each = array_reverse($each);
		}

		$output = '';
		foreach ($each as $keyValue => $singleElement) {
			$this->templateVariableContainer->add($as, $singleElement);
			if ($key !== '') {
				$this->templateVariableContainer->add($key, $keyValue);
			}
			if ($iterate !== FALSE) {
				$this->templateVariableContainer->add('iterate', $iterate);
				($step != 1)? $iterate = $iterate + $step: $iterate++;
			}
			$output .= $this->renderChildren();
			$this->templateVariableContainer->remove($as);
			if ($key !== '') {
				$this->templateVariableContainer->remove($key);
			}
			if ($iterate !== FALSE) {
				$this->templateVariableContainer->remove('iterate');
			}
		}
		return $output;
	}

Now you can do something like this:
<f:for each=""{customer.car}"" as=""car"" iterate=""2"" step=""2"">
<tr>
<td>Auto {iterate}</td>
<td>{car.type}</td>
</tr>
</f:for>

and get:
Auto 1: BMW
Auto 3: Audi
Auto 5: VW

or remove step to get:
Auto 1: BMW
Auto 2: Audi
Auto 3: VW
"
6153,TYPO3.Flow,Bug,"",Resolved,Must have,JCR_OPERATOR_LIKE in F3\FLOW3\Persistence\Backend\AbstractSqlBackend,Falk Kühnel,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-01-21,"",1.00,100,2010-01-21 11:30,"","",1802700,"","","This is probably a leftover from the renaming session:

JCR_OPERATOR_LIKE in line 113 should probably be OPERATOR_LIKE
"
6154,TYPO3.Flow,Bug,"",Closed,-- undefined --,F3\FLOW3\Cache\Exception thrown in file FileBackend.php,Vinícius Krolow,Robert Lemke,2010-10-20 05:39,- Error Handler Report -,"",2010-01-21,"","",0,2010-01-21 12:55,"","",1780750,"","","The cache directory ""/home/vkrolow/projects/flow3/Data/Temporary/297cdac9ea3a/Cache/Data/FLOW3_Resource_Status/f/2/"" could not be created.
6 F3\FLOW3\Cache\Backend\FileBackend::set(""packageResourcesPublished"", ""y"", array, NULL)
5 F3\FLOW3\Cache\Frontend\StringFrontend::set(""packageResourcesPublished"", ""y"", array)
4 F3\FLOW3\Resource\ResourceManager::publishPublicPackageResources(array)
3 F3\FLOW3\Core\Bootstrap::initializeResources()
2 F3\FLOW3\Core\Bootstrap::initialize()
1 require(""/home/vkrolow/projects/flow3/Packages/Framework/FLOW3/Scripts/FLOW3.php"")

Please include more helpful information!"
6162,TYPO3.Flow,Bug,"",Resolved,Should have,ReflectionService throws a Runtime Notice,Tommy Seus,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-01-22,"","",100,2010-01-21 22:13,"","",1802650,"","","Runtime Notice: Only variables should be passed by reference in /home/clfn/Development/FLOW3/FLOW3_DIst02/trunk/Packages/Framework/FLOW3/Classes/Reflection/ReflectionService.php line 787

@
00787:      if (current($this->getClassTagValues($className, 'scope')) !== 'prototype') {
@

Fix:
@$vari = $this->getClassTagValues($className, 'scope');
current($vari);
@"
6163,TYPO3.Flow,Bug,"",Resolved,Must have,Namespace-Check throws an Error with PHP 5.3.0. ,Tommy Seus,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 8,2010-01-22,"","",0,2010-01-21 22:23,"","",1802600,"","","Error:
Because FLOW3 uses namespaces, it requires at least PHP 5.3.0, you have 5.3.0 


version_compare(phpversion(), '5.3.0', '>')



Fix:
version_compare(phpversion(), '5.3.0', '>=')
"
6177,TYPO3.Flow,Feature,"",Resolved,Should have,Implement CRUD hooks in persistence,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-01-25,"","",100,2010-01-22 11:04,"","",1802550,"","","We need some hooks to react on persistence events, e.g. to remove a resource file if the related value object is eventually deleted."
6178,TYPO3.Flow,Feature,"",New,Should have,Implement FileType and FileSize validators,Karsten Dambekalns,"",2010-10-20 05:39,Validation,"",2010-01-22,"","",0,2010-01-22 11:08,"","",1780700,"","",.
6188,TYPO3.Flow,Bug,"",Resolved,Must have,"The properties of the AOP proxy should have a more ""internal"" name",Andreas Förthner,Andreas Förthner,2010-10-20 05:40,AOP,1.0 alpha 8,2010-01-23,"","",100,2010-01-23 13:40,"","",1802500,"","","The AOP proxy classes define several properties, e.g. $objectFactory. Now if you try to advice a class having defined one of these properties with the same name, but as static, this ends up in a fatal error.

Solution: Give these properties a name probably nobody else will use, like FLOW3_AOP_Proxy_objectFactory.

Are there any reasons this change would not work? If not, just assign this issue back to me and I will implement it."
6195,TYPO3.Flow,Bug,"",Resolved,Should have,Empty form fields converted to empty string instead of type declared for property,Fabian Guth,Robert Lemke,2010-10-20 05:40,Property,1.0 alpha 11,"","","",100,2010-01-24 15:59,"","",1806250,"","","After submitting an empty form field of an integer property i get the following error:

#1244465559: Expected property of type integer, but got string

F3\FLOW3\Persistence\Exception\UnexpectedTypeException thrown in file
Packages/Framework/FLOW3/Classes/Persistence/Backend/AbstractBackend.php in line 278.

F3\FLOW3\Persistence\Backend\AbstractBackend::checkType(""integer"", """")

After changing the property type to string it validates the Object.

Flow3/PHP is converting empty form fields to empty strings """". It would be better if they are treated as NULL. (Validation actually checks for NULL)
"
6202,TYPO3.Fluid,Bug,"",Rejected,Should have,ActionViewHelper breaks html on empty content,Georg Ortner,"",2010-10-20 05:44,ViewHelpers,"",2010-01-25,"",0.50,0,2010-01-25 08:11,"","",2597750,"","","It's not really a bug, but to me it's not very well designed.

If we do something like:

<pre>
<f:link.action action=""index"">{blog.title}</f:link.action>
</pre>

And blog.title is empty we would get:

<pre>
<a href=""someUri"" otherAttributes="""" />
</pre>

Because right now if there is no content given to a ActionViewHelper it assumes that we don't need a closing tag. This ends up in a broken html.

Of course a link-tag without content doesn't make much sense but I think this can happen easily.

This decision is taken in Fluid/Core/ViewHelper/TagBuilder at line 222

<pre>
if ($this->hasContent() || $this->forceClosingTag) {
    $output .= '>' . $this->content . '</' . $this->tagName . '>';
} else {
    $output .= ' />';
}

</pre>
So far I think there are two possible solutions:

1) We add the following to ActionViewHelper, EmailViewHelper and ExternalViewHelper (and all featured TagBasedViewHelpers which do need the closing tag):

<pre>
$this->tag->forceClosingTag(true);
</pre>

2) We make forceClosingTag default true in TagBasedViewHelper and take care that every child of this class which doesn't need a closing tag sets it on false.


Personally I prefer second because I think the number of TagBasedViewHelpers which do need the closing tag is greater than the others.


Regards "
6204,TYPO3.Flow,Bug,"",Resolved,Must have,Runtime Notice in PropertyMapper Line 249,Tommy Seus,Karsten Dambekalns,2010-10-20 05:40,Property,1.0 alpha 8,2010-01-25,"","",100,2010-01-25 08:49,"","",1802450,"","","Runtime Notice: Only variables should be passed by reference in ***/Packages/Framework/FLOW3/Classes/Property/PropertyMapper.php line 249

current() accepts only variables "
6209,TYPO3.Flow,Bug,"",Resolved,Must have,Not uploading a file for a resource leads to an error,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Property,1.0 alpha 8,2010-01-25,"","",100,2010-01-25 11:53,"","",1802400,"","","Try creating a post without uploading a file and you'll get a nice exception:
<pre>
#1259748358: A valid sha1 hash must be passed to this constructor.
</pre>
The ""uploaded file"" has an error status of UPLOAD_ERR_NO_FILE, so this need to be checked and handled accordingly."
6266,TYPO3.Flow,Bug,"",Resolved,Should have,Config of security/cryptography/hashService/encryptionKey,Georg Ortner,Karsten Dambekalns,2010-10-20 05:40,Configuration,1.0 alpha 8,2010-01-28,"","",100,2010-01-28 09:52,"","",1802350,"","","<pre>
FLOW3:
  security:
    cryptography:
      hashService:
        encryptionKey: 'change this to something *really* unique!'
</pre>

If someone changes this in the global configuration it's going to be overwritten by Packages/Framework/FLOW3/Configuration/Settings.yaml with an empty string.

<pre>
    cryptography:
      hashService:
        # A key used for various tasks, must be unique for a setup!
        encryptionKey:
</pre>

I think this is not how it's supposed to be? Or am I wrong?"
6267,TYPO3.Flow,Major Feature,"",Resolved,Should have,Speed up persistence,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-01-18,"",1.00,100,2010-01-28 10:36,"","",1802300,"","","Do some more profiling, get rid of useless stuff, check dirty checking, ..."
6287,TYPO3.Fluid,Bug,"",Closed,Should have,Fluid User Manual outdated / missing information,Michael Sauter,"",2011-05-06 04:22,"","",2010-01-30,"","",0,2010-01-30 09:23,"","",2597700,"","","I wrote my first ViewHelper and noticed that the manual has some bugs (I guess it's just outdated).

It's mentioned several times that a ViewHelper must extend F3\Fluid\Core\AbstractViewHelper, but this resides in F3\Fluid\Core\ViewHelper\AbstractViewHelper now.

Also, example 2.6 (for loop) doesn't note that the ViewHelper must be of scope prototype, maybe that should be included in the source code? And of course this class should also extend F3\Fluid\Core\ViewHelper\AbstractViewHelper."
6289,TYPO3.Fluid,Feature,"",Resolved,Should have,{settings} not automatically available in partials,Franz Koch,Sebastian Kurfuerst,2010-10-20 05:44,ViewHelpers,"",2010-01-30,"","",100,2010-01-30 15:12,"","",2597650,"","","Hi, I just noticed that the {settings} array is not automatically available in partials, which it should in my eyes.
This is the v4 branch, not sure if it's also the case in v5."
6290,TYPO3.Flow,Bug,"",Resolved,Must have,Dirty checking fails due to order of object reconstitution,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-01-30,"","",100,2010-01-30 15:53,"","",1802250,"","","Here is how it breaks (for the sake of simplicity in a blog with one post):
# A blog post shall be shown
# The active Blog is queried and reconstituted
# During property thawing the posts inside the blog are reconstituted
# During that the posts clean state is memorized - but the Blog contained in the Post at that moment is not yet complete, it's posts property is still NULL.
# The Blog in the Post is cloned in this incomplete state
# Only after that the Blog receives it's Posts

Now, upon persisting the Post is checked for being dirty, and since the current Blog and the cloned Blog differ (the clone has NULL as posts), the whole shebang is persisted again. Which, obviously, is an utter waste of resources.

Now, go on and fix it. :)"
6297,TYPO3.Fluid,Bug,"",Resolved,Must have,Not possible to create link to Typo3-Pages with additional piVars,Mathias Gisch,Sebastian Kurfuerst,2010-10-20 05:44,"","",2010-02-01,"","",100,2010-02-01 05:22,"","",2597600,"","","If I want to create a link to a Typo3-Page and add addtional attributes for old-style pibase-Plugins the Viewhelper throws an exception:

#1237900520: The argument additionalAttributes was registered with type array, but is of type string in viewhelper Tx_Fluid_ViewHelpers_Link_PageViewHelper

Try the following:

<f:link.page pageUid=""{detailsPage}"" additionalAttributes=""{tx_ltpdb_test[argument]: 234}"">Test</f:link.page>"
6298,TYPO3.Fluid,Bug,"",Resolved,Should have,action gets converted to lowercase,Falk Kühnel,"",2010-10-20 05:44,"","",2010-02-01,"","",0,2010-02-01 08:18,"","",2597550,"","","If i recall correctly, this was done to somehow get teh dispatcher to ignore cases for actions.

I am trying to use Fluid with an explicitly called action like this in 4.3:
$view->render('someName'); 
This makes Fluid look for a file called 'somename', which in my oppinion should not be.

TemplateView.php:
<pre>
protected function resolveTemplatePathAndFilename($actionName = NULL) {
...
   $actionName = ($actionName !== NULL ? $actionName : $this->controllerContext->getRequest()->getControllerActionName());
   $actionName = strtolower($actionName);
...
}
</pre>
This is not the right place to do this. this should be done somewhere, in getControllerActionName.
Partials dont get converted to lowercase names btw."
6315,TYPO3.Flow,Bug,"",Resolved,Should have,Input fields with a name attribute with more than 64 characters are  ignored,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Security,1.0 alpha 11,2010-02-02,"","",100,2010-02-02 04:52,"","",1806200,"","","(by Fabian Guth)

Input fields with a name attribute with more than 64 characters are 
ignored.

After hours of digging into the Flow3-Code i realized that its possibly a 
wrong PHP setting. Following test case shows, that input fields with long 
(more than 64 characters) name attributes are ignored.

I would really appreciate any hints on the bad setting variable!
I searched php.ini and http.conf without success.

Test Case:

<pre>
 <?php echo print_r($_POST); ?>

<form action= """" method=""post"">  
 <input type=""text""  
name=""aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa""/>
 <input type=""text""  
name=""bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb""/>
 <input type=""submit"" value=""Submit""/>
</form>
</pre>

Renders following after submit (both fields are filled):

<pre>
Array
(
   [bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb] => b
)
</pre>

As a workaround i edited the Token 
(F3\FLOW3\Security\Authentication\Token\UsernamePassword) to check for a 
short array key. I hope there aren't any side effects. 
I know that it's better to subclass it with a changed ""updateCredentials"" 
method to preserve the patch at the next release.

As i use the default Linux PHP Package, i am afraid its a very common 
setting."
6316,TYPO3.Kickstart,Bug,"",Resolved,Should have,Outdated reference to RenderingContext causes exception,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:48,"",1.0.0 alpha 8,2010-02-02,"","",100,2010-02-02 05:24,"","",2740500,"","","As reported by THomas Fritz:
<pre>
developer@wda ~/vhosts/flow3/www $ ./flow3 kickstart package Blog

Uncaught Exception in FLOW3 #1166550023: Object ""F3\Fluid\Core\Rendering\RenderingConfiguration"" is not registered.
thrown in file Packages/Framework/FLOW3/Classes/Object/ObjectFactory.php in line 97
</pre>"
6317,TYPO3.Flow,Task,"",Resolved,Should have,"Replace ""Granted Authority"" by ""Role""",Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 8,2010-02-02,"","",100,2010-02-02 07:11,"","",27350,"","","The (more general) concept of granted authorities doesn't seem to be necessary, as a ""role"" is the only granted authority we currently need / can imagine.
Therefore let's get rid of the GrantedAuthorityInterface and all other occurrences and use the term / class ""Role"" instead.

Also affects the ifGrantedAuthorityViewHelper."
6323,TYPO3.Flow,Bug,"",Closed,Should have,Classes in the Reflection subpackage should be instantiated via the object framework,Michael Sauter,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-02-02,"","",0,2010-02-02 11:35,"","",1802200,"","","E.g. \F3\FLOW3\Reflection\ClassReflection is instantiated throughout FLOW3 with the new operator, but shouldn't."
6338,TYPO3.Fluid,Bug,"",Closed,Could have,JSON is being parsed as string Array,Rens Admiraal,"",2013-07-17 06:07,"","",2010-02-04,"",10.00,0,2010-02-04 04:32,"","",2597500,"","","We have a fluid template with some inline javascript. The JSON objects in it are being parsed as the literal string 'Array'.

It looks like fluid is parsing all array notations in the content instead of just parsing the arrays used in the viewhelper parameters. There is a workaround for this bug, just add a property to the json containing a viewhelper.

Not working:
 flashes.push({
 	id: 'sponsorMeter',
 	flashvars: {
 		amount:5000,
 		maxAmount:700,
 		link: ""<f:uri.action pageUid='{pages.sponsor}' absolute='true' />"",
 		type:'zip'
 	},
 	parameters: {
 		wmode:'transparent'
 	},
 	width: 150,
 	height: 260,
 	src:'/<f:uri.resource path=""Flash/sponsormeter.swf"" />'
 });

Working (parameters objects has changed):
 flashes.push({
 	id: 'sponsorMeter',
 	flashvars: {
 		amount:5000,
 		maxAmount:700,
 		link: ""<f:uri.action pageUid='{pages.sponsor}' absolute='true' />"",
 		type:'zip'
 	},
 	parameters: {
 		link: ""<f:uri.action pageUid='{pages.sponsor}' absolute='true' />"",
 		wmode:'transparent'
 	},
 	width: 150,
 	height: 260,
 	src:'/<f:uri.resource path=""Flash/sponsormeter.swf"" />'
 });"
6339,TYPO3.Flow,Bug,"",Resolved,-- undefined --,F3\FLOW3\Error\Exception thrown in file ErrorHandler.php,Simon Schaufelberger,Karsten Dambekalns,2010-10-20 05:39,- Error Handler Report -,"",2010-02-04,"","",0,2010-02-04 04:33,"","",1780650,"","","Warning: touch() [<a href='function.touch'>function.touch</a>]: Unable to create file C:/xampp/htdocs/FLOW3/Data/Temporary/a5785fc0b2b4/Cache/Tags/%CLASS%F3_FLOW3_Security_Authentication_Provider_PersistedUsernamePasswordProvider/FLOW3_AOP_ProxyClassCodes^F3_FLOW3_Security_Authentication_Provider_PersistedUsernamePasswordProvider_AOPProxy_Development because No such file or directory in C:\xampp\htdocs\FLOW3\Packages\Framework\FLOW3\Classes\Cache\Backend\FileBackend.php line 208
9 F3\FLOW3\Error\ErrorHandler::handleError(2, ""touch() [&lt;a href='function.touch'&gt;function.touch&lt;/?roxy_Development because No such file or directory"", ""C:\xampp\htdocs\FLOW3\Packages\Framework\FLOW3\Classes\Cache\Backend\FileBackend.php"", 208, array)
8 touch(""C:/xampp/htdocs/FLOW3/Data/Temporary/a5785fc0b2b4/?istedUsernamePasswordProvider_AOPProxy_Development"")
7 F3\FLOW3\Cache\Backend\FileBackend::setTag(""F3_FLOW3_Security_Authentication_Provider_PersistedUsernamePasswordProvider_AOPProxy_Development"", ""%CLASS%F3_FLOW3_Security_Authentication_Provider_PersistedUsernamePasswordProvider"")
6 F3\FLOW3\Cache\Backend\FileBackend::set(""F3_FLOW3_Security_Authentication_Provider_PersistedUsernamePasswordProvider_AOPProxy_Development"", ""namespace F3\FLOW3\Security\Authentication\Provide?					}?				}?			}?		}?		return $adviceChains;?	}?}"", array, NULL)
5 F3\FLOW3\Cache\Frontend\StringFrontend::set(""F3_FLOW3_Security_Authentication_Provider_PersistedUsernamePasswordProvider_AOPProxy_Development"", ""namespace F3\FLOW3\Security\Authentication\Provide?					}?				}?			}?		}?		return $adviceChains;?	}?}"", array)
4 F3\FLOW3\AOP\Framework::initialize(array)
3 F3\FLOW3\Core\Bootstrap::initializeAOP()
2 F3\FLOW3\Core\Bootstrap::initialize()
1 require(""C:\xampp\htdocs\FLOW3\Packages\Framework\FLOW3\Scripts\FLOW3.php"")

Why does it say ""No such file or directory in...""?"
6389,TYPO3.Fluid,Feature,"",Resolved,Should have,Option/Possibility to Disable Object Escaping,Marc Neuhaus,Robert Lemke,2010-10-20 05:44,Core,1.0.0 alpha 8,2010-02-07,"","",100,2010-02-06 19:51,"","",2604250,"","","Currently the ObjectAccessor will always be escaped.
In my Opinion there should be a way to Disable this behavior for certain Objects/Properties

"
6390,TYPO3.Flow,Feature,"",Resolved,Should have,ObjectAccess::getPropertyPath doesn't support Arrays,Marc Neuhaus,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-04-16,"",1.00,100,2010-02-06 21:31,"","",1802150,"","","Would be great to enable the Access of Arrays through the getPropertyPath.

It already used to work with this old implementation of the getProperty function:
static public function getPropertyPath($object, $propertyPath) {
	$propertyPathSegments = explode('.', $propertyPath);
	foreach ($propertyPathSegments as $pathSegment) {
		$object = self::getProperty($object, $pathSegment);
		if ($object === NULL) return NULL;
	}
	return $object;
}

Main Problem seems the isPropertyGettable function because it only checks the Objects getters and doesn't consider all Possibilities supported by the getProperty function.
"
6392,TYPO3.Fluid,Bug,"",Closed,Should have,#1225136013 - This Exception should never be thrown,Falk Kühnel,"",2011-05-06 04:22,"","",2010-02-07,"","",0,2010-02-07 12:52,"","",2597450,"","","#1225136013: This exception should never be thrown, as the array value has to be of some type (Value given: ""array ( 0 => '0:\'\'', 'ArrayPart' => '0:\'\'', 1 => '0:\'\'', 'Key' => '0', 2 => '0', 'DoubleQuotedString' => '', 3 => '', 'SingleQuotedString' => '', 4 => '', )""). Please post your template to the bugtracker at forge.typo3.org.

The bad boy causing this:
<f:format.printf arguments=""{0:''}"">This is what i want you to see: %s.</f:format.printf>
"
6411,TYPO3.Flow,Bug,"",Resolved,Must have,Undefined index classname in DataMapper method mapSingleObject,Alexandre Martinez,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-02-08,"","",100,2010-02-08 14:25,"","",1802100,"","","When the same object is referenced more than once in the data retrieved from database, the classname field is just set once, the second and subsequent references only return an identifier, fine if the order used to map the properties is the same, which cannot be guaranteed because the properties list is returned by reflection.

An exemple to make it clear:

A class named Link has two properties fromCondition and toCondition that reference the same object. The data array used to map the object Link has a classname value only for fromCondition. 

If in the Link class definition fromCondition property preceeds toCondition property definition, everything is fine. 

If the order of properties is reversed, the error is thrown.

Possible fixes could consist in always returning a classname value from database when returning multiple references to the same object or ensuring the properties are always persisted and mapped back to object in the same order.

IMHO depending on properties in fixed order should not be considered.

Bug occurs on xampp for windows 1.7.3 with FLOW3 alpha7, with default sqlite persistence backend. Didn't try it with a MySql backend.

Hope I made it clear enough."
6426,TYPO3.Flow,Feature,"",Closed,Won't have this time,Implement caching backend for other opcode caches.,Nikolas Hagelstein,"",2010-10-20 05:39,Cache,"",2010-02-10,"","",0,2010-02-10 03:15,"","",1780600,"","","Currently the flow3 caching backend as well as its typo3 backport support the APC opcode cache.
Other populare opcode caches e.g. xcache, eaccelerator also offer the the oportunity to store data the shm.

Since the shm storing api accross different opcode caches just varies a little (mainly naming of put/get functions) it might make sense to create a seperated abstract ""opcode cache backend"" class and let the actual opcode code cache specific backend inherited from it.

I attached very a rough (and not fully tested) xcache caching backend class i put together by copy and pasting from the typo3 apc cache back end. Just to illustrated the minor difference.



 





"
6456,TYPO3.Flow,Feature,"",Closed,Should have,Customization/localization of validator errors,Arjen Hoekema,"",2012-03-12 12:47,Validation,"","","",12.00,0,2010-02-12 08:00,"","",1780550,"","","Add the possibility to customize the validation error messages. For example: in Zend Framework each validator has a list of ""message templates"" and for the several types of errors each validator defines its own constants. These messages contain placeholders (%value%) which are replaced.

In the future this could be attached to a localization/translator object."
6462,TYPO3.Flow,Task,"",Resolved,Must have,Rename the ACL subpackage to Policy,Andreas Förthner,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 8,2010-02-14,"","",100,2010-02-13 18:10,"","",28200,"","",Rename the ACL subpackage to Policy
6501,TYPO3.Flow,Bug,"",Closed,-- undefined --,RuntimeException thrown in file Backend.php,Test no-lastname-given,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-02-17,"","",0,2010-02-17 13:06,"","",1802050,"","","Could not create persistence tables with DSN ""sqlite:/var/www/typo3dev.co.uk/flow3/Data/Persistent/Objects.db"". PDO error: could not find driver
7 F3\FLOW3\Persistence\Backend\GenericPdo\Backend::createTables()
6 F3\FLOW3\Persistence\Backend\GenericPdo\Backend::connect()
5 F3\FLOW3\Persistence\Backend\GenericPdo\Backend::initialize(array)
4 F3\FLOW3\Persistence\PersistenceManager::initialize()
3 F3\FLOW3\Core\Bootstrap::initializePersistence()
2 F3\FLOW3\Core\Bootstrap::initialize()
1 require(""/var/www/typo3dev.co.uk/flow3/Packages/Framework/FLOW3/Scripts/FLOW3.php"")

- The above happened during the first install (permissions and virtual host set properly) 
- Debian 5
- PHP 5.3.1

Application requires apparently sqlite which is not necessary application on the given server.

"
6514,TYPO3.Fluid,Bug,"",Resolved,Must have,HMAC error when rendering links inside forms,Christine Gerpheide,Sebastian Kurfuerst,2010-10-20 05:44,"","",2010-02-18,"","",100,2010-02-18 07:47,"","",2597400,"","","When adding a link viewhelper inside of a form, an invalid HMAC exception is thrown on submit:
---
#1255082824: Request hash (HMAC) checking failed. The parameter __hmac was invalid or not set, and objects were modified.  
---

For example, this form throws the error:

<f:form method=""post""  action=""update"" name=""updateList"" object=""{updateList}"" arguments=""{mode : 'rename'}"">                   
<f:link.action action=""index"" >Subscriber Lists</f:link.action>
<f:form.textbox property=""title"" id=""listname"" class=""required"" />
<f:form.submit class=""submit"" value=""Save Changes""/>
</f:form>

If you remove the link.action element, the form will submit successfully, but you should be allowed to add such links inside a form."
6520,TYPO3.Flow,Task,"",Resolved,Should have,Differentiate between NULL and empty array/SplObjectStorage,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 10,2010-06-18,"",5.00,100,2010-02-18 13:21,"","",28500,"","","When reconstituting objects we should only thaw array/SplObjectStorage if we had that when persisting and leave NULL in place otherwise.

Info: thawProperties() NULL check; signatures of mapArray(), mapSplObjectStorage(); collectProperties()"
6521,TYPO3.Fluid,Task,"",Resolved,Should have,"form ViewHelper: add ""objectName"" argument that overrules name attribute",Mam Violeng,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-02-19,"","",100,2010-02-18 21:27,"","",28550,"","","The problem is related to XHTML Strict 1.0 validation which does not allow the attribute ""name"" for form tags, and when use id attribute instead of name then the function $this->request->getArgument('member') does not work anymore (""member"" is the name of the form)."
6529,TYPO3.Flow,Bug,"",Resolved,Should have,Fully support regular expressions for method names in pointcut expressions,Robert Lemke,Robert Lemke,2010-10-20 05:40,AOP,1.0 alpha 8,2010-02-20,"","",100,2010-02-20 05:44,"","",1802000,"","","Currently only a limited set of regular expressions can be used in a pointcut expression, for example:

<pre>
   method(MyClassName->.*Action())
</pre>

However, parentheses are not supported yet, but they would be quite useful for defining policy resources:

<pre>
   method(MyClassName->(new|edit|create|delete|update)Action())
</pre>"
6560,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Closed,Must have,A reset button for formViewHelper [Made and attached],Soren Malling,Sebastian Kurfuerst,2011-09-30 06:27,ViewHelpers,"",2010-02-22,"","",90,2010-02-22 08:42,"","",28850,"","","Hi,

I was lacking the function of creating a reset button in my fluid template so I made a viewHelper for this purpose and attached it here. Please give me feedback whether it's useful or not :)

Regards,

Søren"
6562,TYPO3.Flow,Task,"",Resolved,Must have,Make Object Manager API more consistent,Robert Lemke,Robert Lemke,2010-10-20 05:40,Object,1.0 alpha 8,2010-02-22,"","",100,2010-02-22 09:53,"","",28950,"","","As we're finally approaching a first beta version of FLOW3, it's probably the last chance to make a few changes to the Object Manager API:

 - get rid of the Object Factory and move the create() method to the Object Manager
 - rename getObject() to get()
 - remove all registration / unregistration methods from the Object Manager (we don't need that during runtime)
 - remove too low-level functions from the Object Manager's official API"
6564,TYPO3.Flow,Task,"",Resolved,Should have,Move the YAML parser from its own package to within FLOW3,Robert Lemke,Robert Lemke,2010-10-20 05:40,Configuration,1.0 alpha 8,2010-02-22,"","",100,2010-02-22 10:00,"","",29000,"","","In order to make FLOW3 self-contained, move the YAML parser to the FLOW3 package and removed the dependency to the YAML package."
6570,TYPO3.Fluid,Bug,"",Closed,-- undefined --,RuntimeException thrown in file ViewHelperVariableContainer.php,Arno Dudek,"",2011-05-06 04:23,"","",2010-02-23,"","",0,2010-02-23 11:21,"","",2597350,"","","<pre>
No value found for key ""F3\Fluid\ViewHelpers\FormViewHelper->formObject""
44 F3\Fluid\Core\ViewHelper\ViewHelperVariableContainer::get(""F3\Fluid\ViewHelpers\FormViewHelper"", ""formObject"")
43 F3\Fluid\ViewHelpers\Form\AbstractFormFieldViewHelper::getPropertyValue()
42 F3\Fluid\ViewHelpers\Form\CheckboxViewHelper::render(NULL)
41 call_user_func_array(array, array)
40 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate()
39 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes()
38 F3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
37 F3\Fluid\ViewHelpers\FormViewHelper::render(""createAddressType"", array, NULL, NULL, NULL, NULL, """", NULL, NULL)
36 call_user_func_array(array, array)
35 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate()
34 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes()
33 F3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
32 F3\Fluid\ViewHelpers\SectionViewHelper::render()
31 call_user_func_array(array, array)
30 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate()
29 F3\Fluid\View\TemplateView::renderSection(""mainbox"")
28 F3\Fluid\ViewHelpers\RenderViewHelper::render(""mainbox"", """", array)
27 call_user_func_array(array, array)
26 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate()
25 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes()
24 F3\Fluid\Core\Parser\SyntaxTree\RootNode::evaluate()
23 F3\Fluid\Core\Parser\ParsingState::render(F3\Fluid\Core\Rendering\RenderingContext)
22 F3\Fluid\View\TemplateView::renderWithLayout(""master"")
21 F3\Fluid\View\TemplateView::render()
20 F3\FLOW3\MVC\Controller\ActionController::callActionMethod()
19 F3\FLOW3\MVC\Controller\ActionController::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
18 F3\FLOW3\MVC\Dispatcher::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
17 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
16 call_user_func_array(array, array)
15 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
14 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
13 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::checkRequestHash(F3\FLOW3\AOP\JoinPoint)
12 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
11 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
10 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::blockIllegalRequests(F3\FLOW3\AOP\JoinPoint)
9 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
8 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
7 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::initializeSecurity(F3\FLOW3\AOP\JoinPoint)
6 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
5 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
4 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
3 F3\FLOW3\MVC\Web\RequestHandler::handleRequest()
2 F3\FLOW3\Core\Bootstrap::run()
1 require(""/Library/WebServer/htdocs/FLOW3-1.0.0-alpha7/Packages/Framework/FLOW3/Scripts/FLOW3.php"")
</pre>

Hi!

I have nearly the same problem like http://forge.typo3.org/issues/show/4277 and http://forge.typo3.org/issues/show/6004

Error at rendering of forms only at checkboxes:
The upper Exception thrown if the new-action in the controller is like this:

<pre>
    /**
     * Index action
     *
     * @param \F3\AddressBook\Domain\Model\AddressType $newAddressType
     * @return string
     * @dontvalidate $newAddressType
     */
    public function newAddressTypeAction(\F3\AddressBook\Domain\Model\AddressType $newAddressType = NULL) {
        $this->view->assign('newAddressType', $newAddressType);
    }
</pre>

Workaround for this (like http://forge.typo3.org/issues/show/6004):

<pre>
    /**
     * Index action
     *
     * @param \F3\AddressBook\Domain\Model\AddressType $newAddressType
     * @return string
     * @dontvalidate $newAddressType
     */
    public function newAddressTypeAction(\F3\AddressBook\Domain\Model\AddressType $newAddressType = NULL) {
        if ($newAddressType === NULL) {
            $newAddressType = $this->objectFactory->create('F3\AddressBook\Domain\Model\AddressType');
        }
        $this->view->assign('newAddressType', $newAddressType);
    }
</pre>

If this is done, an form error will shown: ""Checkbox viewhelpers can only be bound to properties of type boolean or array. Property ""default"" is of type ""NULL"".""

The expecting model definitions are:
<pre>
    /**
     * @var boolean
     */
    protected $default;

    /**
     * Sets default
     *
     * @param integer
     * @return void
     */
    public function setDefault($default) {
        $this->default = $default;
    }

    /**
     * Returns default
     *
     * @return integer
     */
    public function getDefault() {
        return $this->default;
    }
</pre>

workaround
<pre>
    /**
     * Sets default
     *
     * @param integer
     * @return void
     */
    public function setDefault($default) {
        $this->default = (boolean) $default;
    }

    /**
     * Returns default
     *
     * @return integer
     */
    public function getDefault() {
        return (boolean) $this->default;
    }
</pre>

In this case, I'm not sure if this should be this way.

And at least if all is done, the checkbox is checked by default, even than when $this->default is set to false."
6581,TYPO3.Flow,Bug,"",Resolved,Must have,"Updated objects considered new, causing exception",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-02-24,"","",100,2010-02-24 06:07,"","",1801950,"","","When updated objects are to be persisted but seen through a property of another object first a ""new"" object is ""seen"" by the persistence layer and results in the same identifier being used twice in the underlying database (leading to a constraint violation)."
6591,TYPO3.Flow,Task,"",Rejected,Should have,Refactor F3\FLOW3\Log\Backend\FileBackend : getFormattedVarDump,Lukas Lentner,"",2012-03-14 05:53,Log,"","","","",50,2010-02-24 12:50,"","",29050,"","","Hi,

I did (my first) refactoring with this function.

Now:
* Smaller
* Less control structures,
* Logic outlines the similarities of an array and an object (to nest) -> I think easier to understand and more consistent

The 'big' change is in fact that I add afterwards the keys of the array/names of the properties. Before we looked after every possibility extra!

A Question:
Why this limitation with the 100 spaces?"
6596,TYPO3.Flow,Bug,"",Resolved,Should have,"Environment variables (context, rewrite urls, ...) are not recognized with FCGI + Apache",Robert Lemke,Robert Lemke,2010-10-20 05:40,Core,1.0 alpha 8,2010-02-25,"","",100,2010-02-25 09:20,"","",1801900,"","","On a Linux server with Apache + FastCGI + PHP the SetEnv directive in the .htaccess file seem to have no effect.

The reason is that directives like
<pre>
   SetEnv FLOW3_CONTEXT
</pre>
end up in PHP's $_SERVER array as ""REDIRECT_FLOW3_CONTEXT"" _under certain circumstances_.

I can't see when / why this happens, but FLOW3 could easily detect this."
6598,TYPO3.Flow,Task,"",Resolved,Should have,"Make global objects, that should be available in runtime evaluations, configurable",Andreas Förthner,Andreas Förthner,2010-10-20 05:40,AOP,1.0 alpha 10,2010-02-25,"","",100,2010-02-25 11:56,"","",29100,"","","At the moment only current.party can be referenced within a pointcut expression. There should be a configuration setting where you can register other objects under the ""current."" scope. The setting must have an unique name like ""party"" and a PHP statement, that retrieves this object like ""$objectManager->getObject('foo')->getSomething();"""
6599,TYPO3.Flow,Task,"",Resolved,Must have,Implement new syntax for policy resources including runtime constraints,Andreas Förthner,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 8,2010-02-25,"","",100,2010-02-25 12:07,"","",29150,"","","example of a Policy.yaml:

<pre>
resources:
  methods:
    Conference_Model_Paper:
      class(F3\Conference\Domain\Model\Paper)
    Conference_Model_UpdateOwnPaper:
      Conference_Model_Paper && method(setTitle()) || method(setDescription(description == 'FLOW3')) && evaluate(this.speaker.person == current.party)
</pre>"
6600,TYPO3.Flow,Task,"",Resolved,Must have,Remove the privilege concept vom ACLs,Andreas Förthner,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 8,2010-02-25,"","",100,2010-02-25 12:10,"","",29200,"","","ACL entries will simply define the access privilege by defining a GRANT or DENY for a resource. Example Policy.yaml entry:

acls:
  Speaker:
    UpdateOwnPaper: GRANT
    ownAccount: GRANT
    deleteAccount: DENY

The policy service should then provide two API methods: hasAccessOnJoinPoint() and hasAccessOnResource()"
6601,TYPO3.Flow,Task,"",On Hold,Could have,Introduce a new roles definition syntax including runtime constraints,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,"",2010-02-25,"","",0,2010-02-25 12:13,"","",29250,"","","The roles definition in the Policy.yaml should look like that in the future:

roles:
  Administrator:
    parentRoles: []
  Speaker:
    parentRoles: [Administrator]
    constraint: party.name == ""andi"" && party.address.street == ""at home""

Note the new feature of runtime constraints!"
6602,TYPO3.Flow,Feature,"",New,Could have,Implement after invocation handling,Andreas Förthner,Andreas Förthner,2011-01-07 05:15,Security,"",2010-02-25,"","",0,2010-02-25 12:19,"","",1780500,"","",The basic idea behind after invocation handling ist to filter return values of methods according to a security policy. We would need a concept for such a policy and a use case for the whole feature.
6603,TYPO3.Flow,Feature,"",New,Must have,Provide a policy management API,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,"",2010-02-25,"","",0,2010-02-25 12:20,"","",1780450,"","",At some point in time we will need a good API to be able to manage the security policy not only through a yaml configuration file.
6604,TYPO3.Flow,Feature,"",Resolved,Must have,Implement QueryRewriting according to the security policy,Andreas Förthner,Andreas Förthner,2010-10-20 05:39,Security,"",2010-03-04,"",30.00,100,2010-02-25 12:30,"","",1780400,"","","Queries to the persistence layer should be automatically rewritten according to the security policy. This will speed up things a lot, as you'll only get objects you'll actually are allowed to see.

One idea was to define constraints for models in the Policy.yaml:

<pre>
resources:
  models:
    F3\Party\Domain\Model\Account:
      ownAccount: this.party == current.party && this.credentialsSourec != 'foo'
</pre>


Another idea came to my mind, that we should discuss:

Often you want to define access for specific models on a per object basis. Meaning you want to define which roles should be allowed to see a specific object. This ends up in adding roles to objects, which we could do by a cool model security advice. We'll have to discuss this in details!"
6605,TYPO3.Flow,Feature,"",Resolved,Should have,Integrate the security policy into resource management,Andreas Förthner,Andreas Förthner,2010-12-08 07:00,Security,1.0 alpha 14,"","",30.00,100,2010-02-25 12:33,"","",1809200,"","","Resources are basically objects that can be secured by model security (see #6604). We'll have to find a solution how secured files have to be handled by the resource manager.

One possiblity would be:

We have a special virtual folder named after the secure session key that holds symlinks to all resources the current user is allowed to access. We could also add a dynamic rewrite rule that restricts access to this folder to the IP of this user. The folder would have to ""expire"" with the user session."
6606,TYPO3.Flow,Task,"",Closed,Must have,RequestHash should be implemented by a firewall filter,Andreas Förthner,Andreas Förthner,2011-02-25 03:45,Security,1.0 beta 1,2010-02-25,"","",0,2010-02-25 12:39,"","",29300,"","",The currently disabled feature of a request hash checking the correctness of a submitted form has to be reimplemented as a firewall filter. It would be nice to extract the feature completely from the form view helper and put it in an advice of the security framework.
6607,TYPO3.Flow,Feature,"",Closed,Must have,Enable security for REST services,Andreas Förthner,Andreas Förthner,2011-09-30 06:24,Security,"",2010-02-25,"","",0,2010-02-25 12:41,"","",1810850,"","","We'll have to check what we need to do for that in regards of authentication, authorization and ""session"" management"
6609,TYPO3.Flow,Feature,"",Closed,Should have,Implement joins for queries,Andreas Förthner,Karsten Dambekalns,2012-03-12 12:48,Persistence,"","","","",0,2010-02-25 13:09,"","",1780350,"","","One possibility for a join implementation could work as follows: 

First a precondition has to be considered: You are only allowed to join objects that have a relation to each other. 

I.e. a person may have several e-mail-adresses. A possible join could now be, to load a person from the repository and directly load (join) all e-mail-adresses with the tld "".de"" this person has onto the person object. The technical effect would be that the person is not loaded with all her e-mail-adresses but only with the joined ones.

Of course this is conceptually not correct, because the person in fact might have other addresses that would not be there by executing this join query. There are two solutions for this:

1. If you write a join query, you have to be aware that the result is only a part of the truth, meaning there could be more objects in the aggregate you didn't get by your query.
2. All objects you didn't get directly (didn't match the join condition) are lazy loaded if you want to access them at a later point. This would need a lazy loading mechanism that can lazy load collections (array, SplObjectStorage) on a per element basis.

To conclude the whole story. Joins in the object world can be used to reduce the objects that have to be loaded at a time. Meaning they are more like a optimization than a conceptual query construct."
6620,TYPO3.Flow,Bug,"",Resolved,Should have,"./flow3 cache flush throws Exception in ""..../Cache/Backend/FileBackend.php line 197""",Thomas Fritz,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 8,2010-02-26,"","",100,2010-02-26 10:13,"","",1801850,"","","developer@wda ~ $ ./flow3 cache flush

Uncaught Exception in FLOW3 #1: Warning: Invalid argument supplied for foreach() in /home/developer/vhosts/flow3/www/Packages/Framework/FLOW3/Classes/Cache/Backend/FileBackend.php line 197
thrown in file Packages/Framework/FLOW3/Classes/Error/ErrorHandler.php
in line 82"
6628,TYPO3.Flow,Bug,"",Resolved,Should have,Default values in F3\FLOW3\Locale\Locale,Arno Dudek,Karol Gusak,2010-10-20 05:39,I18n,"","","","",100,2010-02-27 09:59,"","",1780300,"","","Hi!

If you create an locale object (\F3\FLOW3\Locale\Locale) with only the language, the default values interferes.

For example: If you create locale objects out of the browser env. 'accept-language', the locale settings are like this: de,de-DE;q=0.8,en-EN;q=0.5,en-US; ...

You'll see the first item is only ""de"". After create a locale you get:
->getLanguage() = 'de'
->getRegion() = 'EN'

Perhaps needed here an locale mapping with defaults to avoid this. I've done this once but i'm not shure if the list is completed. The proprty ""script"" is missing. I think it good enough for this time ;)

<pre>
		$this->locale = array(
			'af' => array('encode' => 'UTF-8', 'af_ZA'),
			'am' => array('encode' => 'UTF-8', 'am_ET'),
			'be' => array('encode' => 'UTF-8', 'be_BY'),
			'bg' => array('encode' => 'UTF-8', 'bg_BG'),
			'ca' => array('encode' => 'UTF-8', 'ca_ES'),
			'cz' => array('encode' => 'UTF-8', 'cs_CZ'),
			'da' => array('encode' => 'UTF-8', 'da_DK'),
			'de' => array('encode' => 'UTF-8', 'de_DE', 'de_AT', 'de_CH', 'de_LU'),
			'el' => array('encode' => 'UTF-8', 'el_GR'),
			'en' => array('encode' => 'UTF-8', 'en_GB', 'en_US', 'en_AU', 'en_CA', 'en_IE', 'en_NZ'),
			'es' => array('encode' => 'UTF-8', 'es_ES'),
			'et' => array('encode' => 'UTF-8', 'et_EE'),
			'eu' => array('encode' => 'UTF-8', 'eu_ES'),
			'fi' => array('encode' => 'UTF-8', 'fi_FI'),
			'fr' => array('encode' => 'UTF-8', 'fr_FR', 'fr_CH', 'fr_CA', 'fr_BE'),
			'he' => array('encode' => 'UTF-8', 'he_IL'),
			'hi' => array('encode' => 'UTF-8', 'hi_IN'),
			'hr' => array('encode' => 'UTF-8', 'hr_HR'),
			'hu' => array('encode' => 'UTF-8', 'hu_HU'),
			'hy' => array('encode' => 'UTF-8', 'hy_AM'),
			'is' => array('encode' => 'UTF-8', 'is_IS'),
			'it' => array('encode' => 'UTF-8', 'it_IT', 'it_CH'),
			'ja' => array('encode' => 'UTF-8', 'ja_JP'),
			'kk' => array('encode' => 'UTF-8', 'kk_KZ'),
			'ko' => array('encode' => 'UTF-8', 'ko_KR'),
			'lt' => array('encode' => 'UTF-8', 'lt_LT'),
			'nl' => array('encode' => 'UTF-8', 'nl_NL', 'nl_BE'),
			'no' => array('encode' => 'UTF-8', 'no_NO'),
			'pl' => array('encode' => 'UTF-8', 'pl_PL'),
			'pt' => array('encode' => 'UTF-8', 'pt_PT', 'pt_BR'),
			'ro' => array('encode' => 'UTF-8', 'ro_RO'),
			'ru' => array('encode' => 'UTF-8', 'ru_RU'),
			'sk' => array('encode' => 'UTF-8', 'sk_SK'),
			'sl' => array('encode' => 'UTF-8', 'sl_SI'),
			'sr' => array('encode' => 'UTF-8', 'sr_YU'),
			'sv' => array('encode' => 'UTF-8', 'sv_SE'),
			'tr' => array('encode' => 'UTF-8', 'tr_TR'),
			'uk' => array('encode' => 'UTF-8', 'uk_UA'),
			'zh' => array('encode' => 'UTF-8', 'zh_CN', 'zh_HK', 'zh_TW'),
		);

</pre>"
6640,TYPO3.Flow,Feature,"",Rejected,-- undefined --,NoSQL Persistence Backend,Alexandre Martinez,Karsten Dambekalns,2010-10-20 05:39,Persistence,"",2010-02-28,"","",0,2010-02-28 15:52,"","",1780250,"","","It would be interesting to have an implementation of a NoSQL (CouchDb, MongoDb or the like) storage engine backend for persistence layer. "
6646,TYPO3.Flow,Feature,"",Resolved,Should have,Response should send correct content type header if format is rss / atom,Robert Lemke,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 8,2010-03-01,"","",100,2010-03-01 06:22,"","",1801800,"","","The Web Request Handler could add a Content-Type header to the response which states the correct mime type according to the request's format:

rss.xml => application/rss+xml
rss =>application/rss+xml
atom.xml => application/atom+xml
atom => application/atom+xml

"
6647,TYPO3.Flow,Bug,"",Resolved,Should have,ObjectAccess doesn't know that is*() is also a possible getter method name,Robert Lemke,Robert Lemke,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-03-01,"","",100,2010-03-01 06:56,"","",1801750,"","","ObjectAccess::getProperty() tries to call a method getFoo() in order to retrieve property ""foo"". However, it doesn't know that isFoo() is also a valid getter name for boolean properties."
6660,TYPO3.Flow,Task,"",Resolved,Must have,Write documentation for the new security features in alpha8,Andreas Förthner,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 8,2010-03-02,"","",100,2010-03-02 11:07,"","",29500,"","","- New policy syntax
- New security context handling
- Runtime constraints
"
6661,TYPO3.Flow,Task,"",Resolved,Must have,Write documentation for the new dynamic AOP features,Andreas Förthner,Andreas Förthner,2010-10-20 05:40,AOP,1.0 alpha 8,2010-03-02,"","",100,2010-03-02 11:08,"","",29550,"","",.
6680,TYPO3.Flow,Bug,"",Closed,Must have,Make FLOW3 open_basedir aware,Thomas Fritz,Karsten Dambekalns,2010-10-20 05:40,Environment,1.0 alpha 8,2010-03-03,"","",0,2010-03-03 12:20,"","",1801700,"","","FLOW3 uses the Default Temporary Path for the Operating Systems. In Linux '/tmp' is used for different operations. This behaviour triggers an error on environments where a open_basedir ini setting was set. 
Perhaps it is better to use a Path within the FLOW3 Root Path in 'Data/Temporary' or determine the temporary path out of upload_tmp_dir or session_save_path ini setting."
6681,TYPO3.Flow,Feature,"",Resolved,Should have,Make the php cli executable configurable for the flow3 command,Thomas Fritz,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 8,2010-03-03,"","",100,2010-03-03 12:25,"","",1801650,"","","The Path to the php binary should be configurable outside of the flow3 command line tool to allow an easy update of the flow3 cli tool.
It should also be possible to configure some extra parameters for the cli. For example a path to the configuration file (php.ini)"
6685,TYPO3.Flow,Feature,"",Resolved,Must have,Implement countAll() and countByFoo('bar') in the Persistence Repository,Jochen Rau,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-03-03,"","",100,2010-03-03 15:14,"","",1801600,"","",I have implemented this handy methods in Extbase to invoke $query->matching()->count().
6691,TYPO3.Fluid,Bug,"",Resolved,Could have,Backslash in Textfield ViewHelper,Michael Sauter,"",2010-10-20 05:44,"","",2010-03-04,"","",0,2010-03-04 04:33,"","",2597300,"","","This:
@<f:form.textfield name=""somename"" value=""F3\"" size=""60"" />@

results in the following HTML code:

@<input type=""text"" name=""somename"" value=""F3&quot; size="" />@

I would expect the following (as is the case if you write plain HTML):

@<input type=""text"" name=""somename"" value=""F3\"" size=""60"" />@"
6693,TYPO3.Flow,Bug,"",Resolved,Should have,Request Bash if you use bash in the flow3 shell script,Thomas Fritz,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 8,2010-03-04,"","",100,2010-03-04 09:05,"","",1801550,"","","The first line of flow3 should read as @#!/bin/bash@ instead of@#!/bin/sh@.
There is no symlink on every environment from /bin/sh to /bin/bash and the flow3 script uses bash features. 
At least for all common Linux environments and Mac Environments there is bash available, so we should request it."
6694,TYPO3.Flow,Bug,"",Resolved,Could have,flow3 shell script uses non POSIX commands,Thomas Fritz,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 8,2010-03-04,"","",100,2010-03-04 09:25,"","",1801500,"","","On line 36 (rev3903):
<pre>
FLOW3ROOTPATH=""$(dirname ""$(test -L ""$0"" && readlink ""$0"" || echo ""$0"")"")""
</pre>

@readlink@ is not POSIX compliant. So there is no guarantee that the shell script works on every Unixoid OS - for instance MAC, there is no readlink.

A working solution for the above problem would be:

<pre>
#!/bin/bash
# Path the script is called from.
FLOW3_ORIGINALPATH=""$(pwd)""
cd ""$(dirname $0)""
FLOW3_ROOTPATH=""$(pwd)""
cd ""${FLOW3_ORIGINALPATH}""
</pre>
"
6712,TYPO3.Flow,Feature,"",Accepted,Should have,Implement mixin support,Robert Lemke,Robert Lemke,2011-11-07 18:18,AOP,"","","",18.00,0,2010-03-05 12:46,"","",1780200,"","","With the current implementation of introductions / intertype declarations it is -like in most other AOP frameworks - only possible to introduce interfaces. However, it would be very handy being able to introduce properties along with some methods.

A very common use case would be introducing a new property along with a getter and a setter method:

<pre>
/**
 * @entity
 * @scope prototype
 */
class BonusCustomerDetails {

  /**
    * @var string
    */
   protected $bonusCode;

   public function getBonusCode() {
       return $this->bonusCode;
   }

   public function setBonusCode($bonusCode) {
      $this->bonusCode = $bonuscode;
   }
}
</pre>

This property + methods could be introduced into the Customer class by using a new annotation:

<pre>
/**
 * @mixin F3\Bar\Domain\Model\Customer
 * @entity
 * @scope prototype
 */
class BonusCustomerDetails {

  /**
    * @var string
    */
   protected $bonusCode;

   public function getBonusCode() {
       return $this->bonusCode;
   }

   public function setBonusCode($bonusCode) {
      $this->bonusCode = $bonuscode;
   }
}
</pre>

The @mixin annotation would implicitly generate a new aspect which implements around advices for the getter and setter method. Additionally a new property will be introduced into the Customer class which refers to the BonusCustomerDetails. The implementation of the around advice now simply refers to the original methods within the BonusCustomerDetails."
6718,TYPO3.Flow,Bug,"",Resolved,-- undefined --,UnexpectedValueException thrown in file Session.php,Georg Ortner,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-03-06,"","",100,2010-03-06 04:53,"","",1801450,"","","Object not found
6 SplObjectStorage::offsetGet(F3\Test\Domain\Model\Category_AOPProxy_Development)
5 F3\FLOW3\Persistence\Session::getIdentifierByObject(F3\Test\Domain\Model\Category_AOPProxy_Development)
4 F3\FLOW3\Persistence\Session::unregisterReconstitutedEntity(F3\Test\Domain\Model\Category_AOPProxy_Development)
3 F3\FLOW3\Persistence\PersistenceManager::persistAll()
2 F3\FLOW3\Core\Bootstrap::run()
1 require(""/var/www/mydomain.dev/Packages/Framework/FLOW3/Scripts/FLOW3.php"")

This happens when the remove() Method of a repository is called. But still the Object is removed afterward.  
 
public function createAction() {
    $object = $this->objectManager->create(""F3\Test\Domain\Model\Category"");
    $this->categoryRepository->add($object);
}

public function removeAction( \F3\Test\Domain\Model\Category $category ) {
    $this->categoryRepository->remove($category);
}

I'm using latest revision at this time and mysql as persistance backend.
"
6724,TYPO3.Flow,Feature,"",Resolved,Should have,"Internationalization, locale, multi-language ect.",Arno Dudek,Karol Gusak,2010-10-20 05:39,I18n,"","","","",100,2010-03-06 12:22,"","",1780150,"","","Hi!

(first: sorry for my bad english ;)

I'm testing FLOW3 for my project with multi-language support. For that I needed a view helper which do that like the f:translate. In the attachment is my work now. It's an extended internationalization concept. I thought it's an good idea to put them all into a subpackage called ""Internationalization"". I could imagine to replace this with the current subpackage locale of FLOW3 (FLOW3/Locale/).

I hope you'll find it usefull or even inspired.

For now the package is just an application package. If you think its usefull and shoul be integrated, I will try to write a patch for the FLOW3/Locale/.

The package handles the current used locale and provide many cool features:
- extended locale class with seperatly validation by using the CLDR
- CLDR reader
- language fallback by configuration and/or by getting the accept language of the browser.
- loading of language files
- supported language files are XML (also TYPO3 files) and YAML (better for editing)
- and view helper for translated strings with more cool options

The language file handling is a little bit different to TYPO3. Every language get an own directory:
Resources/Privat/Languages/Standard/en_US or Resources/Privat/Languages/Standard/de_DE
I thought this would be better, if there are also images with text.

The view helper ""localized.string"" comes with new options ""pluralValue"" and ""splitKey"". More view helper, like localized.resource, can come.

= Examples =

Localized strings (e.g. in the YAML-file Standard/en_US/LocalizedStrings.yaml)
<pre>
exampleString1: 'Firstname:'
exampleString2:
  1: 'My %sst %s String for {split: Me, You}'
  2: 'My %snd %s String for {split: Me, You}'
  4: 'My %sth %s String for {split: Me, You}'
</pre>
Example 1
<pre>
<lang:localized.string key=""exampleString1""/> A name
</pre>
Output:
<pre>
Firstname: A name
</pre>
Example 2: Replace strings, Plurals and split options
<pre>
1: <lang:localized.string key=""exampleString2"" packageName=""AnotherPackage"" controllerName=""AnotherController"" replaceStrings=""{0: 1, 1: 'replaced'}"" pluralValue=""1"" splitKey=""0""/>
2: <lang:localized.string key=""exampleString2"" packageName=""AnotherPackage"" controllerName=""AnotherController"" replaceStrings=""{0: 2, 1: 'replaced'}"" pluralValue=""2"" splitKey=""1""/>
3: <lang:localized.string key=""exampleString2"" packageName=""AnotherPackage"" controllerName=""AnotherController"" replaceStrings=""{0: 3, 1: 'replaced'}"" pluralValue=""3"" splitKey=""0""/>
4: <lang:localized.string key=""exampleString2"" packageName=""AnotherPackage"" controllerName=""AnotherController"" replaceStrings=""{0: 4, 1: 'replaced'}"" pluralValue=""4"" splitKey=""1""/>
5: <lang:localized.string key=""exampleString2"" packageName=""AnotherPackage"" controllerName=""AnotherController"" replaceStrings=""{0: 5, 1: 'replaced'}"" pluralValue=""5"" splitKey=""0""/>
</pre>
Output:
<pre>
1: My 1st replaced String for Me
2: My 2nd replaced String for You
3: My 3nd replaced String for Me  // Here you can see ""3nd"" cause this is missing in the language file.
4: My 4th replaced String for You
5: My 5th replaced String for Me  // Plural values greater than or equal to the current value takes the last matching.
</pre>

*Nevermore ""1 Records found"" !!!* :D

lg ad"
6727,TYPO3.Flow,Task,"",Resolved,Should have,Refactor the ConjunctionValidator and DisjunctionValidator,Lukas Lentner,Karsten Dambekalns,2010-10-20 05:40,Validation,1.0 alpha 8,2010-03-15,"",1.00,100,2010-03-07 11:23,"","",29600,"","","Hi,

I changed some comments in the DisjunctionValidator which where copied from the ConjunctionValidator without adapting. I also simplified both validators not needing anymore a variable $result.

Lukas"
6736,TYPO3.Flow,Feature,"",Resolved,Should have,"Allow comfortable chaining of constraints with Query::logicalAnd() and logicalOr(), or not? ;-)",Jochen Rau,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 10,2010-06-10,"",1.00,100,2010-03-08 10:48,"","",1804900,"","","Currently it is very unhandy to chain multiple constraints via logicalAnd() or logicalOr().

I am going to implement two independent approaches in Extbase (marked a non-conform to the api as long as they are not synced with FLOW3).

This issue is related to #6735 of Extbase."
6742,TYPO3.Fluid,Bug,"",Closed,Should have,If / For ViewHelper nesting issue,Frank Mey,"",2010-10-20 05:44,ViewHelpers,"",2010-03-09,"","",100,2010-03-09 06:03,"","",2597250,"","","Hi,

I tried to implement this control structure in a Fluid section:

<pre>
...

<f:if condition=""{datasheet.strUserLang} == ESPE"">
	 
	  <p>Overall Project Data:</p>
	  <a href=""{datasheet.dateipfad}.xlsx"">Excel 2007</a><br />
	  <a href=""{datasheet.dateipfad}_2003.xlsx"">Excel 2003</a><br /><br />
	  <p>country-specific project data:</p>
	  
	  <f:for each""{datasheet.arrProjLang}"" as=""foo""><p>Download your Excelsheets (2007/2003) for country {foo}:</p><a href=""{datasheet.dateipfad}_{foo}.xlsx"">Excel 2007</a><br /><a href=""{datasheet.dateipfad}_{foo}_2003.xlsx"">Excel 2003</a><br />
	  </f:for>
	
 </f:if> 

...
</pre>

Fluid throws an error : 
<pre>
Tx_Fluid_Core_Parser_Exception

Templating tags not properly nested. Expected: Tx_Fluid_ViewHelpers_IfViewHelper; Actual: Tx_Fluid_ViewHelpers_ForViewHelper
</pre>

Isn't it possible to nest if-constructs with for each - loops by now ?
"
6757,TYPO3.Fluid,Task,Feature #26665: Fluid: Implement String comparison,Resolved,Should have,support literal strings in boolean arguments,Peter Niederlag,"",2012-08-11 11:35,Core,"",2010-03-10,"","",100,2010-03-10 04:31,"","",29850,"","","the 'if' viewhelper should support comparison on strings.

This can easily be fixed by adding [a-zA-Z] on $booleanExpressionTextNodeCheckerRegularExpression in Core/Parser/SyntaxTree/ViewHelperNode.php, see attached patch. if works like a charm with this patch.

However I fear, something else probably breaks badly?

"
6761,TYPO3.Flow,Bug,"",Resolved,Must have,Security context in session grows with each load,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Security,"",2010-03-11,"",4.00,100,2010-03-10 07:33,"","",1780100,"","","Since the latest changes to security it seems something goes wrong with object serialization to the session. It grows exponentially with each page load until the memory limit is hit.

Reproducible by logging in and calling the same page again and again... Even failing login tries have that effect."
6773,TYPO3.Flow,Bug,"",Resolved,Should have,Debug Exception Handler does not escape characters in exception message,Robert Lemke,Robert Lemke,2010-10-20 05:40,Error,1.0 alpha 8,2010-03-10,"",0.10,100,2010-03-10 11:55,"","",1801400,"","","The debug exception Handler does not escape characters in exception message, so that strings like ""<type>"" are unnoticed because they are interpreted as tags."
6774,TYPO3.Flow,Feature,"",Resolved,Should have,Improve error message in Property Mapper if type hint of method parameter is invalid,Robert Lemke,Robert Lemke,2010-10-20 05:40,Property,1.0 alpha 8,2010-03-10,"",1.00,100,2010-03-10 12:00,"","",1801350,"","","If the type hint or doc comment of a parameter / property of the target object is invalid, the property mapper doesn't notice but just passes it to Utility\TypeHandling which in turn throws an InvalidArgumentException.

This exception could be caught and a more meaningful mapping error issued by the property mapper."
6778,TYPO3.Kickstart,Bug,"",Resolved,Should have,Model Doc Comment incorrect,Michael Sauter,Christopher Hlubek,2010-10-20 05:48,"",1.0 alpha 13,2010-03-13,"","",0,2010-03-10 16:57,"","",2740550,"","","When creating models, the doc comment of the attribute accessors looks like this:
@* Get/Set the ModelName propertyName>@

Attached patch removes the erroneous &gt; sign in the template."
6779,TYPO3.Fluid,Bug,"",Closed,Could have,{} parsed inconsistently?,Michael Sauter,"",2011-05-06 04:25,"","",2010-03-10,"","",0,2010-03-10 17:17,"","",2597200,"","","If the variable inside {} in Fluid is not found, Fluid displays nothing, so e.g.
@{foo}@
outputs nothing if foo does not exist.
If you have the following in your template (space inbetween brackets):
@{ }@
the output is nothing as well, but
@{}@
results in two brackets.
And this:
@{ foo }@
will output:
@{ foo }@

For example, this causes a problem in the kickstarter package: The syntax of the generated repository file is invalid, because the repository class does not contain anything between the opening and closing brackets ... which means these are not written at all."
6780,TYPO3.Flow,Bug,"",Resolved,Must have,ResourceViewHelper wrong path to persisted resources  ,Georg Ortner,Karsten Dambekalns,2010-10-20 05:40,Resource,1.0 alpha 8,2010-03-11,"",1.00,100,2010-03-11 04:36,"","",1801300,"","","Template code:
<img src=""{f:uri.resource(resource: article.image.originalResource, title: article.image.title)}"" style=""max-width: 100%"" alt=""{article.image.title}"" />

Result:
<img src=""http://mydomain.dev/_Resources/Persistent/78f83c09f79a0951591566bd464c590deb5f9218/.jpg"" style=""max-width: 100%"" alt="""" />

There is one slash too much before the extension:
78f83c09f79a0951591566bd464c590deb5f9218/.jpg



"
6781,TYPO3.Flow,Feature,"",Resolved,Should have,Implement Swift Mailer integration,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,"",1.0 alpha 8,2010-03-18,"",24.00,100,2010-03-11 05:01,"","",1801250,"","",For the App we need a mailer and Swift Mailer seems to be the right choice. We need some integration in form of a separate package.
6786,TYPO3.Flow,Bug,"",Resolved,Must have,Persistence Query Orderings integers ordered like strings,Georg Ortner,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-03-16,"",2.00,100,2010-03-11 08:59,"","",1801200,"","","Code (property order is declared as INT):
<pre>
$query->matching( $query->equals('parentUUID', ''))
    ->setOrderings(array('order' => \F3\FLOW3\Persistence\QueryInterface::ORDER_ASCENDING))
</pre>

The result is:

1
10
12
17
2
29
3

If order was a string this would be fine but for an integer everyone would expect:

1
2
3
10
12
17
29"
6787,TYPO3.Flow,Bug,"",Resolved,Must have,New accounts cannot be persisted and existing accounts cannot be found,Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 8,2010-03-11,"",1.00,100,2010-03-11 10:31,"","",1801150,"","",Since the last commit new accounts cannot be persisted and existing accounts cannot be found
6806,TYPO3.Flow,Bug,"",Resolved,Should have,EmailAddressValidator missing IP addresses,Falk Kühnel,Karsten Dambekalns,2010-10-20 05:40,Validation,1.0 alpha 8,2010-03-15,"",1.00,100,2010-03-12 05:13,"","",1801100,"","","The EmailAddressValidator misses email addresses with ip parts like 249 in them.

I do not know, if this is on purpose (i cant think of a reason why) so i attached a patch."
6807,TYPO3.Flow,Bug,"",Resolved,Must have,"Uncaught Exception in FLOW3 #1264589155: Object ""F3\FLOW3\Object\SessionRegistry"" is not registered",Thomas Fritz,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 8,2010-03-15,"",1.00,100,2010-03-12 05:20,"","",1801050,"","","<pre>
developer@wda ~ $ vhosts/flow3/www/flow3 cache flush
Flushed all caches.

Uncaught Exception in FLOW3 #1264589155: Object ""F3\FLOW3\Object\SessionRegistry"" is not registered.
thrown in file Packages/Framework/FLOW3/Classes/Object/Container/AbstractObjectContainer.php
in line 118
</pre>

This also happens when opening the welcome page.

Revision 3933. Everything deleted in Data/Temporary not Modifications."
6808,TYPO3.Fluid,Bug,"",Resolved,Should have,using f:link.action inside f:form breaks hmac verification,Peter Niederlag,"",2010-10-20 05:44,"","",2010-03-12,"","",100,2010-03-12 06:58,"","",2597150,"","","It seems impossible to link to another Page/Controller/Action/Plugin with f:link.action inside a f:form.

Test-Template:

<pre>
<f:form controller=""Mycontroller"" action=""myaction"" name=""newObject"" object=""{newObject}"">
    <!-- if we don't use a property of newObject the error is not triggered -->
    <f:form.textbox property=""foo"" />

    <f:form.submit name=""mySubmit"" value=""Submit"" />

    <!-- adding a link.action inside form with an Object triggers an ""hmac could not be verified"" error -->
    <!-- for some reason 'action' is dropped in RequestHashService->generateRequestHash() -->
    <!-- this happens only when we use a property of newObject -->
    <f:if condition=""true"">
            <f:link.action action=""baz"" pluginName=""pi3"" controller=""foobar"" pageUid=""14"">Jetzt anschliessen</f:link.action>
    </f:if>
</f:form>
</pre>

Probably that's due to the fact that the Plugin (pix) seems not to be taken into account, when generating the hmac/Requesthash?"
6809,TYPO3.Fluid,Bug,"",Resolved,Must have,using f:link.action inside f:form breaks hmac verification,Peter Niederlag,Sebastian Kurfuerst,2010-10-20 05:44,"","",2010-03-12,"","",100,2010-03-12 06:59,"","",2597100,"","","It seems impossible to link to another Page/Controller/Action/Plugin with f:link.action inside a f:form.

Test-Template:

<pre>
<f:form controller=""Mycontroller"" action=""myaction"" name=""newObject"" object=""{newObject}"">
    <!-- if we don't use a property of newObject the error is not triggered -->
    <f:form.textbox property=""foo"" />

    <f:form.submit name=""mySubmit"" value=""Submit"" />

    <!-- adding a link.action inside form with an Object triggers an ""hmac could not be verified"" error -->
    <!-- for some reason 'action' is dropped in RequestHashService->generateRequestHash() -->
    <!-- this happens only when we use a property of newObject -->
    <f:if condition=""true"">
            <f:link.action action=""baz"" pluginName=""pi3"" controller=""foobar"" pageUid=""14"">Link to somewhere else</f:link.action>
    </f:if>
</f:form>
</pre>

Probably that's due to the fact that the Plugin (pix) seems not to be taken into account, when generating the hmac/Requesthash?"
6822,TYPO3.Fluid,Bug,"",Closed,Should have,unhelpful error message if template cannot be read,Florian Staudacher,"",2011-05-06 04:25,Core,"",2010-03-14,"","",0,2010-03-14 09:28,"","",2597050,"","","I reported this bug there: http://bugs.typo3.org/view.php?id=13810 earlier and was told to put it here, so here it comes:

in typo3/sysext/fluid/Classes/View/TemplateView.php on line 358 the method parseTemplate() should return a helpful error message in case the file cannot be read.
I had forgotten to give the server read access to my template file and the only thing i got over and over was

Tx_Fluid_Core_Parser_Exception
Parse requires a template string as argument, boolean given.

from the typo3/sysext/fluid/Classes/Core/Parser/TemplateParser.php on line 271.
I mean if you know that file_get_contents returns false if there is an error, it's simple to look for the error, but even that involves looking at the code to see how the file gets read.

Please replace with/add a more suiting error message "
6844,TYPO3.Fluid,Feature,"",Resolved,Should have,"Remove ""shut-up"" operator @",Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,Core,1.0.0 alpha 8,2010-03-15,"",2.00,100,2010-03-15 09:55,"","",2604200,"","","Remove the ""shut-up"" operator @ and instead create a new ViewHelper ""raw""."
6846,TYPO3.Flow,Bug,"",Resolved,Should have,The static object container is not rebuilt automatically if the FLOW3 revision changed,Robert Lemke,Robert Lemke,2010-10-20 05:40,Core,1.0 alpha 8,2010-03-15,"",2.00,100,2010-03-15 10:17,"","",1801000,"","","If the FLOW3 revision changes, all caches are flushed. Because the static object container is no regular cache, it is missed and still used even if the FLOW3 revision changed. This can lead to fatal errors if classes have been deleted or otherwise modified."
6847,TYPO3.Flow,Bug,"",Resolved,Must have,Straight value property injection fails with strings in static object container,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Object,1.0 alpha 8,2010-03-15,"",1.00,100,2010-03-15 10:46,"","",1800950,"","","If strings are to be injected as straight values via property injection, the resulting code in the static object container leads to
<pre>
Parse error: syntax error, unexpected ':' in /Users/karsten/Sites/typo3v5/Data/Temporary/f82c7e3cb126/StaticObjectContainer.php on line ...
</pre>or other similar errors.

This is because the generated code looks like (the string misses quotes):
<pre>
$o->setLayoutRootPath(package://TYPO3/Private/TypoScript/Layouts/);
</pre>"
6868,TYPO3.Flow,Feature,"",Resolved,Should have,Classes tagged as value object must have a constructor and no setters,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-03-16,"",2.00,100,2010-03-16 05:20,"","",1800900,"","","To enforce the concept of (immutable) value objects, the class scheme builder should assure that classes which are tagged as properties

* have a constructor method which is used for setting the object's properties
* don't have any setter methods

If these rules are neglected, the persistence framework will run in trouble because it assumes that all values are set after the constructor has been called."
6869,TYPO3.Flow,Feature,"",Resolved,Must have,Enable the property mapper to create value objects,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Property,1.0 alpha 8,2010-03-16,"",2.00,100,2010-03-16 05:28,"","",1800850,"","","Immutable value objects don't have any setter methods. However we want the property mapper to be able creating such objects (e.g. after a form has been submitted). Therefore the transformToObject method needs to be aware of this situation.

If no setter methods could be found (well, if ObjectAccess doesn't allow setting the property), the mapper should check if a constructor parameter of that name exists. The challenge however is that properties cannot be set individually during the for loop but must be collected and then set while creating the object."
6894,TYPO3.Flow,Bug,"",Closed,Must have,F3\FLOW3\Security\Exception\MissingConfigurationException thrown in file HashService.php,Nys ,Karsten Dambekalns,2010-10-20 05:40,- Error Handler Report -,1.0 alpha 8,2010-03-17,"",1.00,100,2010-03-17 08:54,"","",1800800,"","","You must configure an encryption key for the HashService
15 F3\FLOW3\Security\Cryptography\HashService::injectSettings(array)
14 F3\FLOW3\Object\ObjectBuilder::injectProperties(array, F3\FLOW3\Security\Cryptography\HashService)
13 F3\FLOW3\Object\ObjectBuilder::createObject(""F3\FLOW3\Security\Cryptography\HashService"", F3\FLOW3\Object\Configuration\Configuration, array)
12 F3\FLOW3\Object\ObjectManager::getObject(""F3\FLOW3\Security\Cryptography\HashService"")
11 F3\FLOW3\Object\ObjectBuilder::injectProperties(array, F3\FLOW3\Security\Channel\RequestHashService)
10 F3\FLOW3\Object\ObjectBuilder::createObject(""F3\FLOW3\Security\Channel\RequestHashService"", F3\FLOW3\Object\Configuration\Configuration, array)
9 F3\FLOW3\Object\ObjectManager::getObject(""F3\FLOW3\Security\Channel\RequestHashService"")
8 F3\FLOW3\Object\ObjectBuilder::injectArguments(array, array)
7 F3\FLOW3\Object\ObjectBuilder::createObject(""F3\FLOW3\Security\Aspect\RequestDispatchingAspect"", F3\FLOW3\Object\Configuration\Configuration, array)
6 F3\FLOW3\Object\ObjectManager::getObject(""F3\FLOW3\Security\Aspect\RequestDispatchingAspect"")
5 F3\FLOW3\AOP\Advice\AfterThrowingAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
4 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
3 F3\FLOW3\MVC\Web\RequestHandler::handleRequest()
2 F3\FLOW3\Core\Bootstrap::run()
1 require(""C:\xampp\htdocs\tutorial\Packages\Framework\FLOW3\Scripts\FLOW3.php"")

Please include more helpful information!"
6897,TYPO3.Fluid,Bug,"",Resolved,Should have,Fluid: form.select no (pre)selected values in multiple-mode,Jan Roth,Bastian Waidelich,2010-10-20 05:44,"","",2010-03-17,"","",100,2010-03-17 11:47,"","",2597000,"","","If a select-field in my form is multiple=""multiple"" and size > 1 then is no value selected in editActions with correctly assigned property ..."
6902,TYPO3.Flow,Bug,"",Resolved,Should have,$objectName is not meaningful enough in serializeObjectAsPropertyArray(),Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Object,1.0 alpha 8,2010-03-17,"",2.00,100,2010-03-17 15:16,"","",1800750,"","","The method ObjectSerializer::serializeObjectAsPropertyArray() used $objectName as the key for its object registry to cache objects it already has serialized. From looking at the code this might be not clear enough because there can be two instances of the same type which need to be serialized.

Instead of $objectName it might be better to use an SPLObjectStorage as the internal registry and change the signature to
<pre>
public function serializeObjectAsPropertyArray($object)
</pre>
"
6909,TYPO3.Flow,Bug,"",Resolved,Must have,Files for persisted resources no longer deleted upon resource object removal.,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Resource,1.0 alpha 8,2010-03-18,"",2.00,100,2010-03-18 08:53,"","",1800700,"","",.
6911,TYPO3.Flow,Bug,"",Resolved,Must have,SQL error when using setOrderings() without matching(),Peter Beernink,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-03-18,"",1.00,100,2010-03-18 10:36,"","",1800650,"","","Using setOrderings() on a query object without the use of matching() results in the following SQL error.

Example: 
<pre>
$query = $this->createQuery();
return $query->setOrderings(array('lastname' => \F3\FLOW3\Persistence\QueryInterface::ORDER_ASCENDING))->execute();
</pre>
Will give the following SQL error:
<pre>
SQLSTATE[HY000]: General error: 1 no such column: d.parent
</pre>

When adding a $query->matching(), it works as expected.

Tested on alpha7 using the default SQLite."
6913,TYPO3.Flow,Feature,"",Resolved,Should have,Implement a FLOW3 optimized var_dump function,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Error,1.0 alpha 8,2010-03-18,"",7.00,100,2010-03-18 13:41,"","",1800600,"","","Because FLOW3 uses many nested objects, debugging variables can become cumbersome because almost always the object manager is included which in turn has references to most other objects resulting in an endless recursion.

We need an optimize var_dump function which takes this into account."
6914,TYPO3.Flow,Bug,"",Resolved,Should have,Static Object Container cannot handle optional arguments in constructors,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Object,1.0 alpha 8,2010-03-23,"",1.00,100,2010-03-18 13:42,"","",1800550,"","","For a class @Bar@ with 4 optional constructor arguments the code in the static object container looks like this:
<pre>protected function c0294($a=array()) {
  $o=new \F3\Foo\Bar($a[0],$a[1],$a[2],$a[3]);</pre>
If the arguments are not provided this leads to @undefined index@ errors. The default values should be used instead."
6928,TYPO3.Flow,Bug,"",Closed,Should have,ObjectContainerBuilder does not work for factory setups,Karsten Dambekalns,"",2010-10-20 05:40,Object,1.0 alpha 11,"","","",0,2010-03-19 16:39,"","",1806150,"","","When configuring argument injection with a factory object and no name/classname the object container builder throws an exception (after fixing the first symptom), which is:
<pre>
Notice: Undefined index: name in /.../Object/Configuration/ConfigurationBuilder.php line 162
</pre>

The line causing this reads as follows:
<pre>
static protected function parseArgumentOfTypeObject($argumentName, $objectNameOrConfiguration, $configurationSourceHint) {
	if (is_array($objectNameOrConfiguration)) {
		$objectName = $objectNameOrConfiguration['name'];
</pre>

The Objects.yaml used:
<pre>
F3\SwiftMailer\Mailer:
  arguments:
    1:
      object:
        factoryObjectName: F3\SwiftMailer\TransportFactory
        arguments:
          1:
            setting: SwiftMailer.transport.type
          2:
            setting: SwiftMailer.transport.options
</pre>

Setting a classname there is not an option, as it would not be registered anyway. For property injection the case of a missing object name is handled on ConfigurationBuilder by those lines in @parsePropertyOfTypeObject@:
<pre>
if (isset($objectNameOrConfiguration['name'])) {
	$objectName = $objectNameOrConfiguration['name'];
	unset($objectNameOrConfiguration['name']);
} else {
	$objectName = NULL;
}
</pre>

Adding this to @parseArgumentOfTypeObject@ does the trick, but then we come to the error in the object builder:
<pre>
Notice: Undefined index: in /.../Object/Container/ObjectContainerBuilder.php line 280
</pre>

The line causing this reads as follows:
<pre>
if ($argumentValue instanceof \F3\FLOW3\Object\Configuration\Configuration) {
	$argumentValueObjectName = $argumentValue->getObjectName();
	if ($this->objectConfigurations[$argumentValueObjectName]->getScope() === \F3\FLOW3\Object\Configuration\Configuration::SCOPE_PROTOTYPE) {
		$assignments[] = $assignmentPrologue . '$this->getPrototype(\'' . $argumentValueObjectName . '\', array(' . $this->buildMethodParametersCode($argumentValue->getArguments()) . '))';
</pre>

The bottom line is: using a factory with no object/class name does not work (anymore), neither for property nor argument injection."
6949,TYPO3.Flow,Task,"",Resolved,Should have,Rename \F3\FLOW3\MVC\Controller\Context back to \F3\FLOW3\MVC\Controller\ControllerContext,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,MVC,1.0 alpha 8,2010-03-23,"",1.00,100,2010-03-22 05:46,"","",31450,"","","After a discussion with Sebastian we agreed that ""ControllerContext"" fits better."
6967,TYPO3.Flow,Bug,"",Resolved,Must have,ConfigurationManager does not return all settings if asked to do so.,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Configuration,1.0 alpha 8,2010-03-23,"",1.00,100,2010-03-23 09:41,"","",1800500,"","","When calling @getConfiguration()@ with a NULL @$packageKey@ the configurationManager is supposed to return all settings for all active packages. It does not do so, leading to errors later on (in my case in the StaticObjectContainer) due to missing settings."
6968,TYPO3.Flow,Bug,"",Resolved,Must have,DynamicObjectContainer does not build methods for interfaces with only a factory,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Object,1.0 alpha 8,2010-03-23,"",1.00,100,2010-03-23 09:43,"","",1800450,"","","When configuring an interface that has no default implementation to be available through a factory, the static object container that is built does not include any build methods for that interface (type)."
6992,TYPO3.Flow,Bug,"",Resolved,Must have,ValidatorResolver does not build certain validators,Robert Lemke,Robert Lemke,2010-10-20 05:40,Validation,1.0 alpha 8,2010-03-18,"",10.00,100,2010-03-24 14:49,"","",1800400,"","","If object types are specified with a leading backslash, for example in a model:

<pre>
	/**
	 * @var \F3\Party\Domain\Model\PersonName
	 */
	protected $name;
</pre>

... then they are not recognized by the validator resolver because it checks if an object with exactly that name is registered at the Object Manager. However, fully qualified class names must not start with a leading backslash when used in a string ? therefore the Object Manager doesn't know such an object.

Therefore resolveValidatorObjectName() should strip a leading backslash from the given type, should one exist."
6993,TYPO3.Flow,Feature,"",Resolved,Should have,Support declaration of additional validation rules by object accessor syntax,Robert Lemke,Robert Lemke,2010-10-20 05:40,Validation,1.0 alpha 8,2010-03-24,"",7.00,100,2010-03-24 15:04,"","",1800350,"","","It is possible to declare additional validation rules in the doc comment of an action methods:

<pre>
	/**
	 * Creates a new participant + account.
	 *
	 * @param \F3\Conference\Domain\Model\Participant $newParticipant
	 * @param string $password
	 * @return void
	 * @validate $password StringLength(minimum = 5)
	 */
	public function createAction(\F3\Conference\Domain\Model\Participant $newParticipant, $password) {
	...
</pre>

However, it's not possible to declare a validation rule which refers to a sub object of one of the method arguments. In the above example it would be nice to declare that the first name of the person name of the new participant must not be empty (= is required). This could be achieved by supporting the object accessor syntax known from Fluid templates:

<pre>
	/**
	 * Creates a new participant + account.
	 *
	 * @param \F3\Conference\Domain\Model\Participant $newParticipant
	 * @param string $password
	 * @return void
	 * @validate $newParticipant.name.firstName NotEmpty
	 * @validate $password StringLength(minimum = 5)
	 */
	public function createAction(\F3\Conference\Domain\Model\Participant $newParticipant, $password) {
	...
</pre>

In its first implementation, this new syntax will only apply to @validate annotations in action methods.
"
7031,TYPO3.Flow,Task,"",Resolved,Must have,Unsafe masking of a dynamic regex pattern,Marcus Krause,Karsten Dambekalns,2010-10-20 05:40,Security,1.0 alpha 8,2010-04-15,"",1.00,100,2010-03-27 13:35,"","",32200,"","","F3\FLOW3\Security\RequestPattern\Uri has method matchRequest() that uses a dynamic regex pattern.

<pre>
return (boolean)preg_match('/^' . str_replace('/', '\/', $this->uriPattern) . '$/', $request->getRequestUri()->getPath());
</pre>

Masking is done by str_replace(). This is not sufficient; think of a pattern that contains with '\/'. There's a dedicated method preq_quote() that takes care of proper masking.

So masking itself should be
<pre>
preg_quote($this->uriPattern, '/')
</pre>

Please grep through the complete code to possibly find similiar code; I haven't done that (I am using forge repository interface right now)."
7039,TYPO3.Fluid,Bug,"",Rejected,-- undefined --,if ViewHelper: conditions always true,Nikolas Berger,"",2010-10-20 05:44,ViewHelpers,"",2010-03-28,"","",0,2010-03-28 12:31,"","",2596950,"","","My code:

<pre>{foo.bar} 

<f:if condition=""{foo.bar} == test1""><f:then> test1 </f:then></f:if>
<f:if condition=""{foo.bar} == test2""><f:then> test2 </f:then></f:if>
<f:if condition=""{foo.bar} == test3""><f:then> test3</f:then></f:if>
</pre>

The output is:

<pre>test2

test1 
test2 
test3
</pre>

But I expected this result:

<pre>test2

test2 
</pre>

Is my syntax wrong?"
7049,TYPO3.Flow,Bug,"",Resolved,Should have,PropertyMapper tries to change value objects when mapping,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Property,1.0 alpha 8,2010-03-29,"",2.00,100,2010-03-29 06:51,"","",1800300,"","","When the PropertyMapper receives data that ends up in an value object and it detects values to apply after reconstitution it tries to call map(). But value objects are immutable and thus have no setters, this ends up in mapping errors. it should build a new value object instead."
7054,TYPO3.Flow,Feature,"",Resolved,Should have,Make salted md5 generation and validation available through an API,Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 8,2010-03-29,"",1.00,100,2010-03-29 11:00,"","",1800250,"","","The algorithm for generating salted md5 hashes is used for encrypting passwords, for example for the PersistedUsernamePasswordProvider. However, this function is currently hidden in the security framework and not accessible through the public API. In some situations, for example when updating a password (and therefore the AccountFactory cannot be used), it would be handy to be able to use these functions."
7055,TYPO3.Flow,Bug,"",Closed,Should have,possible reflection problem.,Falk Kühnel,Karsten Dambekalns,2010-10-20 05:39,Reflection,"",2010-04-07,"","",0,2010-03-29 11:08,"","",1780050,"","","I have not looked into it in very much detail, but in extbase a problem occured when calling fluid from a pibased franmework. #7053

Since it is a result of the reflected Class and the parameter checking based on the type hints for the constructors, the following code results in an exception:
<pre>
/**
	 * Constructor. Can take an array, and initializes the objects with it.
	 *
	 * @param array $objectArray
	 * @author Sebastian Kurfürst <sebastian@typo3.org>
	 * @api
	 */
	public function __construct($objectArray = array()) {
		if (!is_array($objectArray)) throw new RuntimeException('Context has to be initialized with an array, ' . gettype($objectArray) . ' given.', 1224592343);
		$this->objects = $objectArray;
	}
</pre>

The @param requests an array parameter and the constructor creates an array if the constructor is called without a param.
This should somehow be considered by the reflection mechanisms.


"
7068,TYPO3.Fluid,Bug,"",Resolved,Should have,SelectViewHelper does not support SplObjectStorage as option,Robert Lemke,Robert Lemke,2010-10-20 05:44,ViewHelpers,1.0.0 alpha 8,2010-03-30,"",1.00,100,2010-03-30 05:47,"","",2604150,"","","The SelectViewHelper checks if the specified option source is an instance of ""Iterator"". However, SplObjectStorage is not and therefore cannot be used.

The check should test for Traversable instead."
7069,TYPO3.Flow,Bug,"",Closed,Should have,Value objects no longer used after being replaced are not removed,Karsten Dambekalns,Karsten Dambekalns,2011-09-09 15:46,Persistence,"","","",4.00,0,2010-03-30 05:55,"","",1780000,"","","When a value object is replaced (but not ""actively deleted"") it is not removed from the storage layer. In case of Resource objects the connected file consequently remains as well."
7113,TYPO3.Flow,Feature,"",Resolved,Should have,Make view resolution in ActionController independent from Fluid,Christopher Hlubek,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 11,2010-04-02,"","",100,2010-04-02 05:11,"","",1806100,"","","Currently the view for any ActionController is tied to Fluid. For every action processed, a Fluid @TemplateView@ will be created. Only if a template cannot be found the format is taken into account for the view object name.

This will work out as long as there is no Fluid template for an action that should be rendered with another view. Considering the case that we need format specific views (JSON, PDF, CSV, ...) for the _same_ action that also renders HTML we need to change the current mechanism.

I would propose a priority based resolver like used for the request handlers. So a view would then be resolved by a view resolver that checks if a view implementation can handle the current request (most commonly by checking the format).

"
7138,TYPO3.Fluid,Bug,"",Rejected,Must have,Changes to ObjectAccessor break usage with fluid conditions,Falk Kühnel,"",2011-08-04 02:23,Core,"",2010-04-06,"","",0,2010-04-06 06:56,"","",2596900,"","","Since the Tx_Extbase_Reflection_ObjectAccess::getProperty has changed, conditions on Arrays dont work like they used to:

<pre>
<f:if condition=""{user.otheraddresses.0}"">
</pre>
will cause an Exception
<pre>
#1263391473: The property ""classes"" on the subject was not accessible. 
</pre>
if the array is empty.

I do not know, if this is intended behaviour. Should Fluid take care of this, or the Reflection class?
Also, any unset variables in an array, cause this error, instead of not being shown.



"
7163,TYPO3.Flow,Task,"",Resolved,Could have,Remove code that is not needed anymore,Jochen Rau,Karsten Dambekalns,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-04-15,"",1.00,100,2010-04-08 03:55,"","",33250,"","","After the introduction of the TypeHandling class the following lines can be safely removed from \F3\FLOW3\Reflection\ClassSchema:

<pre>
	/**
	 * Specifies the allowed property types.
	 */
	const ALLOWED_TYPES_PATTERN = '/^\\\\?(?P<type>integer|int|float|double|boolean|bool|string|DateTime|F3\\\\[a-zA-Z0-9\\\\]+|array|ArrayObject|SplObjectStorage)(?:<(?P<elementType>[a-zA-Z0-9\\\\]+)>)?/';
</pre>"
7182,TYPO3.Flow,Bug,"",Resolved,Should have,Throw an exception if class for annotated dataType is missing,Felix Oertel,"",2012-03-14 06:20,MVC,"",2010-08-18,"",1.00,0,2010-04-08 12:48,"","",1779950,"",FLOW3 1.0.0,"Hey,

if you have a typo in the annotation of an argument of your method, FLOW3 throws some kind of confusing exception. Let's assume we want to hand over an object and want to annotate the var @F3\SomePackage\Model\Domain\SomeModel@ but we misspell and actually type @F3\SomePackage\Model\Typo\SomeModel@. What FLOW3 throws is:

@#1: Catchable Fatal Error: Argument 1 passed to F3\SomePackage\Controller\SomeController::someAction() must be an instance of F3\SomePackage\Model\Typo\SomeModel, array given in /some/fancy/path/flow3/Packages/Application/SomePackage/Classes/Controller/SomeController.php line someHighNumber@

That's confusing, because it's no problem that the argument is an array but that the corresponding class is not loaded and the DataMapper is not able to map the argument to an object.

This is generated in F3\FLOW3\MVC\Controller\Argument.php:435 where the value of an argument is simply returned if the corresponding class does not exist. This avoides mapping the argument to an object and we end up with the wrong type but not revealing this to the user.

I think we should catch this @!class_exists()@ and check, if the annotated datatype is user-/framework-defined (matching F3\-schema). If it is, we throw an exception that we were not able to map because of the missing file. If it is an primitive type (incl. validation-related types) it's ok to just return the value.

"
7198,TYPO3.Flow,Bug,"",Resolved,Should have,Reflection Service should ignore leading backslashes in class names,Robert Lemke,Robert Lemke,2010-10-20 05:40,Reflection,1.0 alpha 8,2010-04-09,"",1.00,100,2010-04-09 11:25,"","",1800200,"","","While reflecting classes it could happen that the reflection service caches for example class names of interface implementations with or without a leading backslash, depending on how the class was specified in some annotation. This is error prone and therefore the reflectClass method should silently trim a leading backslash.

While at it, the Object Manager could give some hint in its API methods that an object could probably only not be found because a leading backslash was given - which is not allowed."
7199,TYPO3.Flow,Bug,"",Resolved,Should have,Persistence Manager retrieves repository objects by class name instead of object name,Robert Lemke,Robert Lemke,2010-10-20 05:40,Persistence,1.0 alpha 8,2010-04-09,"",1.00,100,2010-04-09 11:28,"","",1800150,"","",The persistence manager uses the class name as an argument to the Object Manager's get() method. This usually works - until the object name and the class name are different. This seldomly happens but it could.
7203,TYPO3.Fluid,Feature,"",Resolved,Should have,Object accessor could work for associative arrays,Michael Sauter,"",2011-05-06 04:26,Core,"",2010-04-10,"","",50,2010-04-10 03:39,"","",2596850,"","","I'm not exactly sure if this is a bug or a missing feature:

The manual (http://flow3.typo3.org/documentation/manuals/fluid/fluid.usermanual/#d0e161) states that it is possible to traverse associative arrays with the object accessor syntax. 

I thought it should be used like this (correct my if I'm mistaken):
@$foo = array('bar' => array('baz' => 'value'));@
@$this->view->assign('foo', $foo);@
And in Fluid:
@{foo.bar.baz}@
Which would result in:
@value@

This does not work though (r4040). The problem seems to be in Parser/SyntaxTree/ObjectAccessorNode.php. There, either the property of an object is resolved or the variable is directly returned.

Applied patch adds the functionality to traverse associative arrays. It's probably not the cleanest solution though ..."
7216,TYPO3.Flow,Feature,"",Closed,Should have,Custom CLI Controller without Modification of flow3.sh,Marc Neuhaus,Bastian Waidelich,2010-10-20 05:39,Core,"",2010-04-12,"","",0,2010-04-11 19:08,"","",1779900,"","","I'm currently putting an Doctrine2 Package together and wanted to add the Doctrine2 schema-tools to the flow3 cli script.

Wouldn't it make sense to make cli controllers dynamically accessible through the flow3 script without modification to it?

the attached diff is a simple example to achieve something like this"
7221,TYPO3.Flow,Feature,"",Closed,Could have,Automatic accessor methods (especially for models),Michael Sauter,"",2010-10-20 05:39,"","","","","",0,2010-04-12 08:59,"","",1779850,"","","When writing models, there is a lot of code to be written for getters/setters. I understand why __get() and __set() is not a good solution for this problem, but maybe we could do something else to shorten this:

FLOW3 already parses annotations and builds proxies for all mdoels, so why not have something similar to the following example:
<pre>
/**
 * @var string
 * @accessors
 */
protected $title;
</pre>

FLOW3 could then build getTitle() and setTitle() in the proxy class.

I got the inspiration from the Cappucino framework, see more on this topic here: http://cappuccino.org/discuss/2008/10/26/synthesizing-accessor-methods/

In this blog post, they also suggest more options, like ""readonly"", or specifying a custom name for the getter / setter method.

What do you think?"
7243,TYPO3.Fluid,Task,"",Resolved,Must have,let's use UpperCamelCase filenames for templates as well,Felix Oertel,Bastian Waidelich,2010-10-20 05:44,Core,1.0.0 alpha 9,2010-04-13,2010-06-18,"",100,2010-04-13 17:00,"","",33600,"","","hey guys,

please let us stick to lowerCamelCase filenames for templats as we do for all the other files as well.

at the moment you have to use lowercasefilenames which look kind of ugly. on some systems (like my osx) you will never experience this ""problem"", because filesystem is case-intensitive ... things look different if your on BSD e. g.

regards, foertel"
7286,TYPO3.Flow,Bug,"",Resolved,Must have,Undefined FLOW3 root path does not issue an error in CLI mode,Robert Lemke,Robert Lemke,2010-10-20 05:40,Core,1.0 alpha 8,2010-04-15,"",1.00,100,2010-04-15 15:40,"","",1800100,"","","When FLOW3 is run in CLI context, the environment variable FLOW3_ROOTPATH must be set. If this is not the case, FLOW3 will behave unexpectedly.

However, currently the safeguard for assuring that FLOW3_ROOTPATH is set, is broken. See FLOW3's Bootstrap.php.
"
7292,TYPO3.Fluid,Bug,"",Resolved,Must have,escapeViewHelper does not take encoding of resulting web page into account,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,ViewHelpers,"",2010-04-16,"","",100,2010-04-16 04:38,"","",2596800,"","","Uf I use {user.name} and username as a special char, nothing is displayed.
if I use <f:escape value=""{user.name}"" encoding=""iso-8859-1""></f:escape>, it 
works.

Solution: use the same encoding TYPO3 uses for displaying the page, as we assume that data rendered has the same encoding as well."
7389,TYPO3.Fluid,Feature,"",Resolved,Should have,GroupedForViewHelper group by object,Lienhart Woitok,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-04-20,"","",100,2010-04-20 10:02,"","",2596750,"","","Currently it is not possible to group by an object. 

Example :

<pre>
class Foo {
	/** @return array<Bar> */
	public function getBars();
}

class Bar {
	/** @return Baz */
	public function getBaz();
}

class Baz {
}
</pre>

Now, lets loop over them using the Baz objects as key.

<pre>
<f:groupedFor each=""{foo.bars}"" as=""bars"" groupBy=""baz"" groupKey=""baz"">
	{baz.title}:
	<ul>
		<f:for each=""{bars}"" as=""bar"">
			<li>{bar.name}</li>
		</f:for>
	</ul>
</f:groupedFor>
</pre>

I expected output from this loop, something like
<pre>
	A crazy baz title:
	<ul>
			<li>A named bar</li>
			<li>Another named bar</li>
	</ul>
	Second crazy baz title:
	<ul>
			<li>A further named bar</li>
			<li>And yet another named bar</li>
			<li>The last named bar</li>
	</ul>
</pre>

I got nothing. So I dug into this and created the attached patch, enabling the expected behavior."
7407,TYPO3.Flow,Feature,"",Resolved,Should have,Edit nested properties of a domain model within a form,Michael Tauer,Bastian Waidelich,2013-09-24 12:10,Property,"",2010-04-21,"","",100,2010-04-21 12:26,"","",1779800,"","","*Motivation*
This should give some background information and introduce the issue for a special example:
I am planning to build a flexible (and more or less complex) web application based on FLOW3. Therefore I want to localize titles and descriptions for different objects. Because I don't want to implement some properties like titleDE, titleEN, titleES, ... for all the domain models my idea was to define a class named _LocalizedString_ that contains a language key and a string. Every domain model that need different translations for a title or description defines this title/description property as an array of _LocalizedString_ objects. I guess this design decision is comprehensible and I hope I'm not the only one who will do it that way. Now at this point I can't see any solution to edit multiple title strings wihtin a form for the domain model because every single localized title string is no longer a property of the model itself but a property of a nested array of _LocalizedString_ instances.

*Issue*
I think it would be very helpful for the framework to edit also nested properties wihtin forms. This could be defined in the templates somethink like this:
a) for nested property objects
<pre>
<f:form.textbox property=""adress:street:number"" />
<!-- The property ""adress"" contains a nested property ""street"" that itself contains a ""name"" and a ""number"" property.-->
</pre> 
b) for nested arrays
<pre>
<f:form.textbox property=""titles(0):string"" />
<f:form.hidden property=""titles(0):language"" value=""de-DE"" />
<f:form.textbox property=""titles(1):string"" />
<f:form.hidden property=""titles(1):language"" value=""en-GB"" />
<!-- The numbers 0 and 1 are replaceable keys that only define properties of the same nested item -->
</pre> 

Currently I am doing a workaround for the PropertyMapper that will now parse nested properties as well but this is possibly not the best and smartest way to solve the problem. I also suppose that there are more places that have to be changed (possibly the persistance update function). ...and I don't know if all this will work in the end.

Please give a reply if anyone has an idea of solving the problem. I think a good solution could be interesting for many other applications too (e.g. to edit multiple comments of one post, to edit properties of multiple items of a booking order, to encapsulate items of an adress as single class and edit the street and city information directly within the form of a contact) "
7417,TYPO3.Fluid,Bug,"",Resolved,Must have,Missleading exception on wrong data type,Felix Oertel,"",2010-10-20 05:44,Core,"",2010-04-22,"","",100,2010-04-22 05:37,"","",2596700,"","","hi,

in a viewhelper I annotated an argument ""array"" but throw in an object. The missleading exception
@@
was thrown.

In Core/ViewHelper/AbstractViewHelper.php:295 validateArguments() tries to throw an ""wrong type""-exception but generates a new exception itself by calling @strval($this->arguments[$argumentName])@.

We should only output the argument's value if it's a human readable type though skipping objects and arrays."
7426,TYPO3.Flow,Bug,"",Resolved,Should have,Catch fatal error message when running PHP < 5.3,Martin H.,Karsten Dambekalns,2010-10-20 05:40,"",1.0 alpha 9,2010-04-27,"",1.00,100,2010-04-22 07:28,"","",1804200,"","","I thought that I have PHP 5.3 installed but got a fatal error message instead of FLOW3 welcome message.
Finally I realized that I'm still running PHP 5.2 but I didn't get a warning message from FLOW3 system.

The _Web/index.php_ file should be compatible to PHP versions < 5.3 and if the server is running a smaller version than 5.3 it should print an error message and the setup guide from Getting Started tutorial (or a link to it)."
7454,TYPO3.Flow,Bug,"",Resolved,Should have,Manual: Correct spelling of initializeObject(),Michael Sauter,Karsten Dambekalns,2010-10-20 05:40,- Documentation -,1.0 alpha 9,"","",1.00,100,2010-04-24 04:48,"","",1804150,"","","I just copied the method from the manual and wondered why it didn't work ;)

See here: http://flow3.typo3.org/documentation/manuals/flow3/flow3.objectframework/#id37760990

In example 5.4, it says ""intializeObject()"", but should be ""initializeObject()""."
7474,TYPO3.Flow,Feature,"",Resolved,Should have,"Implement a ""LabelValidator""",Robert Lemke,Robert Lemke,2010-10-20 05:40,Validation,1.0 alpha 9,2010-04-26,"","",100,2010-04-26 11:02,"","",1804100,"","","Many models have properties which are used as labels. These usually may contain any (unicode) character, space "" "" and certain punctuation marks. We should provide a validator for this."
7479,TYPO3.Flow,Task,"",Resolved,Should have,Move context configuration defaults to package,Robert Lemke,Robert Lemke,2010-10-20 05:40,Configuration,1.0 alpha 9,"","","",100,2010-04-27 05:27,"","",36350,"","","Currently we deliver certain configuration defaults for the Testing and Production context in the global Configuration/ directories. This is annoying, because it's really defaults of the package, not of the distribution and whenever the options / defaults change in FLOW3, everybody needs to manually update the defaults in their distribution's Configuration/ directory (such as in the TYPO3 distribution).

Additionally it gives a bad user experience: The global Configuration/ directory is meant for configuration options added by the user. These directories should actually be empty with a fresh checked out FLOW3 or TYPO3 distribution.

Solution: Move the defaults into the package's Configuration directory and add support for that into the configuration management."
7480,TYPO3.Flow,Task,"",Resolved,Must have,Integrate PHP6 features in FLOW3,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:39,Utility,"",2010-04-27,"",2.00,100,2010-04-27 06:47,"","",36400,"","","The features of the PHP6 package need to be available, but the package itself should not be there anymore. Move the stuff over to FLOW3 and get rid of t3lib_cs along the way."
7495,TYPO3.Flow,Feature,"",Resolved,Should have,Implement support for persistence of nested arrays,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 9,2010-04-28,"",6.00,100,2010-04-27 09:23,"","",1804050,"","","At the moment nested arrays cannot be persisted (see exception no. 1260284934). However, this is currently needed by the TYPO3 content model - and will surely be used by other packages in the future."
7516,TYPO3.Flow,Feature,"",Resolved,Should have,Create encryption hash if none was defined,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Security,1.0 alpha 10,2010-06-23,"",2.00,100,2010-04-28 09:18,"","",1804850,"","","Currently you'll get an exception if you didn't define an encryption hash:

<pre>
#1258991855: You must configure an encryption key for the HashService
</pre>

Most people won't see this message though because there's a default encryption key defined in the Base distibution. A bad idea, because many people will just leave it like it is.

Therefore we should:

* not provide a default encryption key
* let the HashService generate a random key if none exists and save it into the global Settings.yaml file"
7518,TYPO3.Fluid,Bug,"",Closed,Won't have this time,FLuid breaks on HTML data-* attributes,Morton Jonuschat,"",2010-10-20 05:44,"","",2010-04-28,"","",0,2010-04-28 09:36,"","",2596600,"","","Trying to use HTML5 data-* attributes in Fluid ViewHelpers breaks rendering in different ways, depending on the ViewHelper called.

For example f:link.action doesn't parse the tag completly, rendering breaks with ""You closed a templating tag which you never opened!""

Adding a data-* attribute to f:form.textbox results in the unparsed tag being put into the resulting html.

Regarding the use of data-* tags see the official W3 documentation:

http://dev.w3.org/html5/spec/Overview.html#attr-data

Bug experienced on Extbase/Fluid included with TYPO3 4.4.0beta1"
7564,TYPO3.Flow,Bug,"",Closed,Must have,Dynamic Object Container does not support scope session,Andreas Förthner,Robert Lemke,2010-12-20 11:22,Object,1.0 alpha 14,2010-04-30,"","",0,2010-04-30 10:47,"","",1809150,"","","This ends up in a duplication of session objects that are beeing injected before the static object container is built.

So in my eyes there are two things to do:

* Implement session support for the dynamic object container
* initialize the session before the object container in the FLOW3 bootstrap

"
7567,TYPO3.Flow,Bug,"",Resolved,Must have,During persistence all objects inside array/SplObjectStorage are removed,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 9,2010-04-30,"",3.00,100,2010-04-30 11:11,"","",1804000,"","","Even objects that are still in an array/SplObjectStorage are removed, due to use of the (useless) AbstractBackend->getCleanState() method."
7580,TYPO3.Flow,Bug,"",Resolved,Should have,There's no default context (anymore),Irene Höppner,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 9,2010-05-11,"","",100,2010-05-01 05:11,"","",1803950,"","","Since the possible contexts have been reduced to ""Production"" and ""Development"" you get the following error, if you didn't provide any context:
""FLOW3: Unknown context """" provided, currently only ""Production"" and ""Development"" are supported. (Error #1254216868)""

Ppl that are new to FLOW3 and just downloaded the distribution will be very confused about that. They don't get any hint to the tutorial anymore, because there's no welcome screen.

If there's no context defined, Production should be default.

"
7588,TYPO3.Flow,Feature,"",Resolved,Should have,ObjectAccess::getPropertyPath should support Closures,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:39,"","",2010-05-02,"","",100,2010-05-02 10:20,"","",1779750,"","",We need support for Closures in ObjectAccess::getPropertyPath.
7598,TYPO3.Flow,Bug,"",Resolved,Should have,Automatically set context not checked in Bootstrap,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 9,2010-05-03,"",1.00,100,2010-05-03 05:33,"","",1803900,"","","Exception is thrown in Production context

<pre>
--- Core/Bootstrap.php	(revision 4252)
+++ Core/Bootstrap.php	(working copy)
@@ -170,8 +170,8 @@
 		$this->ensureRequiredEnvironment();
 		$this->context = (strlen($context) === 0) ? 'Production' : $context;
 
-		if ($context !== 'Production' && $context !== 'Development') {
-			exit('FLOW3: Unknown context ""' . $context . '"" provided, currently only ""Production"" and ""Development"" are supported. (Error #1254216868)');
+		if ($this->context !== 'Production' && $context !== 'Development') {
+			exit('FLOW3: Unknown context ""' . $this->context . '"" provided, currently only ""Production"" and ""Development"" are supported. (Error #1254216868)');
 		}
 		$this->FLOW3Package = new \F3\FLOW3\Package\Package('FLOW3', FLOW3_PATH_FLOW3);
 	}
@@ -648,4 +648,4 @@
 	}
 }
 
-?>
</pre>



-----

(Also there is no unittests testing if the bootstrap can be initialised with diffrent contexts - maybe thats useful. The bootstarp is just a accessible mock where the constructor seems not to be called)"
7608,TYPO3.Fluid,Feature,"",New,Could have,Configurable shorthand/object accessor delimiters,Lienhart Woitok,"",2013-11-07 08:08,Core,"",2010-05-03,"","",0,2010-05-03 09:31,"","",2596550,"","","See Mailinglist Thread ""About limitations in Fluid""

For some output formats (like LaTeX) it is not comfortable to use { and } for shorthand syntax as these symbols are used by the target language. Therefore, the possibility to configure the open and close symbols for short hand syntax is necessary. 

Attached patch provides this."
7618,TYPO3.Fluid,Feature,"",Rejected,Could have,Add support for nested evaluation.,Nikolas Hagelstein,"",2013-03-19 03:50,Core,"",2010-05-04,"","",0,2010-05-04 10:59,"","",2596500,"","","Currently it's not possible to do something like:

{myArray.{varContainingArrayKey}}

"
7676,TYPO3.Kickstart,Bug,"",Resolved,Must have,repository kickstarter create invalid PHP,Soren Malling,Karsten Dambekalns,2010-10-20 05:48,"","","","","",100,2010-05-05 16:10,"","",2740300,"","","Using FLOW3 1.0.0 Alpha 8

<pre>
./flow3 kickstart PhotoDatabase image
</pre>

created the following PHP, which is invalid due to missing {}

<pre>
class ImageRepository extends \F3\FLOW3\Persistence\Repository
</pre>

It should be 

<pre>
class ImageRepository extends \F3\FLOW3\Persistence\Repository {

}
</pre>

Sorry if this is fixed in SVN, but couldn't find any other issue on this one"
7682,TYPO3.Flow,Task,"",Resolved,Should have,Replace generic exceptions by proper exceptions,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,"",1.0 alpha 10,2010-06-10,"",2.00,100,2010-05-06 07:00,"","",37400,"","","Well, the subject says all: we shouldn't use RuntimeException, LogicException etc. because they undermine our hierarchical exception architecture. One exception though (pun not intended): InvalidArgumentException."
7687,TYPO3.Flow,Bug,"",Resolved,Should have,ObjectAccess doesn't allow numeric indexes for arrays,Robert Lemke,Robert Lemke,2010-10-20 05:40,Reflection,1.0 alpha 9,2010-05-06,"","",100,2010-05-06 10:22,"","",1803850,"","","When trying to retrieve a value from an array with a numeric index, the ObjectAccess::getProperty() method throws an exception because $propertyName must be a string. However, we should allow integers in for these cases (when $subject is an array or implements \ArrayAccess)."
7688,TYPO3.Flow,Task,"",Resolved,Should have,Don't reflect Exception classes,Robert Lemke,Robert Lemke,2010-10-20 05:40,Reflection,1.0 alpha 9,2010-05-06,"","",100,2010-05-06 10:27,"","",37450,"","","Currently the Reflection Service will even reflect *Exception classes. That's unnecessary because we never instantiate exceptions through the Object Manager nor do we need other reflection information about exceptions.

Therefore we should skip all classes whose name ends with ""Exception"""
7719,TYPO3.Flow,Task,"",Resolved,Must have,Implement Locale class,Karol Gusak,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,"","","",100,2010-05-09 10:10,"","",37650,"","","Locale class is a base for all i18n / l10n functionality in FLOW3. There already exists simple Locale class, so it should be used. "
7720,TYPO3.Flow,Feature,"",Resolved,Must have,Implement automatic locale detection,Karol Gusak,Karol Gusak,2010-10-20 05:39,I18n,"","","","",100,2010-05-09 10:18,"","",1779700,"","","Locale detection can be done in web application framework in three ways: 
* using HTTP ""Accept-Language"" header
* using user preference from cookies (if he already was visiting our website)
* by letting user choose preferred locale by UI

All these methods will be supported by i18n / l10n subsystem."
7721,TYPO3.Flow,Feature,"",Resolved,Must have,Implement locale-aware resource management subsystem,Karol Gusak,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,"","","",100,2010-05-09 10:34,"","",1806050,"","","Existing resource management subsystem needs to be extended in order to provide convenient API for management of locale-dependent resources, like images with text etc. "
7722,TYPO3.Flow,Feature,"",Resolved,Must have,Implement CLDR data reader,Karol Gusak,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,"","","",100,2010-05-09 10:46,"","",1806000,"","","CLDR data contains information in XML format about many different aspects related to localization. FLOW3 18n / l10n subsystem will use following parts of this data:

* Plural forms - what plural forms exists in a language (zero, one, few, many, other) and how quantity relates to them
* Numbers - how to represent decimal numbers, big numbers etc
* Currencies - how values are formatted
* Date and time - short, medium and full formatting of dates and time

Parsing for all of these data types needs to be written separately, as they have not much in common (except all of them are represented in XML format). "
7723,TYPO3.Flow,Feature,"",Resolved,Must have,"Implement message resources support (XLIFF, plural forms)",Karol Gusak,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,"","","",100,2010-05-09 10:52,"","",1805950,"","","Locale-dependent messages (texts) will be stored in XLIFF format. Because of that FLOW3 needs to be capable of reading messages stored in this format, with support for plural forms."
7724,TYPO3.Flow,Feature,"",Resolved,Must have,Implement Message Formatter subsystem,Karol Gusak,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,"","","",100,2010-05-09 11:03,"","",1805900,"","","Message Formatter is a class which formats a string given by substituting placeholders with properly formatted values. Placeholders consists of an unsigned integer enclosed in curly braces. Optionally format type can be set, and this one can set even more precisely by format style. Examples:

* You have {0} items in cart, total value: {1}
* You have {0,number} items in cart, total value: {1,number}
* You have {0,number,integer} items in cart, total value: {1,number,currency}

Format types are classes implementing simple API, so developers can create custom format types, and they can have custom format styles.

Number, Date, and Time format types will be implemented by default.

ViewHelpers for Fluid will be implemented in order to make use of Message Formatter subsystem in template files."
7725,TYPO3.Flow,Feature,"",Resolved,Must have,Implement Input Parser subsystem,Karol Gusak,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,"","","",100,2010-05-09 11:16,"","",1805850,"","","Input Parser is a class which parses user's input based on locale used by him / her, and converts it to the internal representation of a value (number, date, time, currency).

Problems like currency conversion or timezone need to be taken into account.

Additional classes for FLOW3 Validation subsystem will be implemented, and they will use Input Parser's API."
7726,TYPO3.Kickstart,Bug,"",Resolved,Should have,model kickstarter doesn't accept comma seperated model names,Soren Malling,Karsten Dambekalns,2010-10-20 05:48,"","",2010-05-09,"","",0,2010-05-09 11:25,"","",2740250,"","","TurtleJoe:flow3 sorenmalling$ ./flow3 kickstart controller PhotoDatabase Album,Photo
+ .../Packages/Application/PhotoDatabase/Classes/Controller/AlbumController.php
+ .../Templates/Album/index.html
+ .../Packages/Application/PhotoDatabase/Classes/Controller/PhotoController.php
+ .../Templates/Photo/index.html
TurtleJoe:flow3 sorenmalling$ ./flow3 kickstart model PhotoDatabase Album,Photo
+ .../Packages/Application/PhotoDatabase/Classes/Domain/Model/Album,Photo.php

Using comma seperated value when creating controller works perfectly, but using comma seperated values in model creates a file name [commaseperated values].php (as seen above)"
7727,TYPO3.Flow,Bug,"",Resolved,Should have,"Better handling of ""wrong"" parameters in ./flow3",Soren Malling,Robert Lemke,2011-07-06 10:36,Core,1.0 beta 1,2010-05-09,"","",100,2010-05-09 13:44,"","",1779650,"","","Just did a fresh ""svn export ..."" and tried to list the available packages

<pre>
TurtleJoe:flow3 sorenmalling$ ./flow3 package list avaliable

Uncaught Exception in FLOW3 #1186669086: An action ""listavaliableAction"" does not exist in controller ""F3\FLOW3\Package\Controller\PackageManagerController"".
thrown in file Packages/Framework/FLOW3/Classes/MVC/Controller/ActionController.php
in line 148
</pre>

Due to a spelling error i get this ugly error message. I think there should be a better handling of such errors, when FLOW3 goes in to beta/RC mode"
7820,TYPO3.Flow,Bug,"",Resolved,Should have,Configuration Manager doesn't properly check for existence of uriPattern ,Robert Lemke,Robert Lemke,2010-10-20 05:40,Configuration,1.0 alpha 9,2010-05-18,"","",100,2010-05-18 11:15,"","",1803800,"","","If ""uriPattern"" is not set for a route in the YAML file, the Configuration Manager will fail:

<pre>
#1: Notice: Undefined index: uriPattern in /opt/local/apache2/htdocs/Development/FLOW3/Distributions/Base/Packages/Framework/FLOW3/Classes/Configuration/ConfigurationManager.php line 433
</pre>"
7831,TYPO3.Flow,Bug,"",Resolved,Should have,"Router interprets negative integer values of a match result as ""matched""",Robert Lemke,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 9,2010-05-19,"","",100,2010-05-18 18:52,"","",1803750,"","","The DynamicRoutPart::match() method doesn't do strict comparison of the route's return value and therefore wrongly interprets integer values such as ""-1"" as TRUE. This leads to the route part handlers to match although they don't."
7847,TYPO3.Flow,Bug,"",Resolved,Could have,Missing trailing slash in FLOW3_ROOTPATH causes fatal error,Michael Schams,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 9,2010-05-28,"",1.00,100,2010-05-20 03:47,"","",1803700,"","","Trailing slash ""/"" at environment variable FLOW3_ROOTPATH is absolutely required in file .htaccess - a missing trailing slash causes a fatal error and FLOW3 isn't executed.

Correct:
@SetEnv FLOW3_ROOTPATH /var/www/myapp/@

Causes a fatal error:
@SetEnv FLOW3_ROOTPATH /var/www/myapp@

The path to FLOW3.php is generated in file ""Web/index.php"" at run time and a more tolerant behaviour would be desirable.

*Fatal error in logfile* (caused by missing slash between FLOW3_ROOTPATH and ""Packages/..."":
@[Thu May 20 07:06:29 2010] [error] [client 10.9.8.101] PHP Fatal error:  require(): Failed opening required '/var/www/myappPackages/Framework/FLOW3/Scripts/FLOW3.php' (include_path='.:/usr/share/php:/usr/share/pear') in /var/www/myapp/Web/index.php on line 31@

*Possible solution:*
Update ""index.php"" as follows (or similar)

@require(preg_replace('/\/*$/', '', $rootPath) . '/Packages/Framework/FLOW3/Scripts/FLOW3.php');@

This regular expression removes trailing slash/slashes (if exist/s) of $rootPath and adds one between $rootPath and ""Packages/..."". So, path to FLOW3.php is always as expected, regardless of @SetEnv FLOW3_ROOTPATH@ in .htaccess (with/without trailing slash)."
7882,TYPO3.Fluid,Bug,"",Closed,Should have,wrong section rendering with <f.form.textbox />,Mario Näther,"",2010-10-20 05:44,ViewHelpers,"",2010-05-24,"","",0,2010-05-24 11:35,"","",2596450,"","","I have a Section :
<pre><f:section name=""defaultSearch"">
<f:form.textbox name=""text"" class=""date"" value="""" />
</f:section>
</pre>

my html output is right...
<pre>
<input type=""text"" name=""tx_myext_pi1[text]"" value="""" />
</pre>

and i use the renderViewHelper to show the section
<pre><f:render section=""defaultSearch"" /></pre>

my html output is *wrong* (without the *""tx_myext_pi1""* prefix) ...
<pre><input type=""text"" name=""text"" value="""" /></pre>

any ideas who i find the bug?"
7929,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong variable in Memcached backend,Dan Osipov,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 9,2010-05-28,"",1.00,100,2010-05-26 17:16,"","",1803650,"","","Same issue as in TYPO3 4.3:
http://bugs.typo3.org/view.php?id=14455

Patch resolves the problem."
7930,TYPO3.Flow,Feature,"",Resolved,Could have,Show versions in package list,Michael Schams,Karsten Dambekalns,2010-10-20 05:40,Package,1.0 alpha 13,2010-10-11,"","",100,2010-05-27 02:29,"","",1808400,"","","The ""FLOW3 Command Line Interface"" offers a functionality to list available and active packages. In current FLOW3 version 1.0.0-alpha8 the list shows the names of the packages only.

At least the versions of the available packages would be useful and informative - for example:

@./flow3 package list available@

@Available packages:@
@FLOW3                    1.0.0-alpha8@
@DocumentationBrowser     1.0.0-alpha8@
@Fluid                    1.0.0-alpha8@
@ExtJS                    3.2.1@
@Party                    1.0.0-alpha8@
@Welcome                  1.0.0-alpha8@
@Kickstart                1.0.0-alpha8@
@PHPUnit                  3.4.0_1@
@Testing                  0.5.0-alpha8@
@Conference@
@SwiftMailer              4.0.6@

The attached diff extends the PackageManagerController.php to show version numbers (from ""Meta/Package.xml"") in ""available packages"" view. Please treat this diff as an example/suggestion only (e.g. it cuts the package name at 24 characters), more sophisticated solutions are desirable :-)"
7960,TYPO3.Flow,Feature,"",Resolved,Should have,Implement getClassNameByObjectName(),Robert Lemke,Robert Lemke,2010-10-20 05:40,Object,1.0 alpha 9,2010-05-28,"","",100,2010-05-28 07:59,"","",1803600,"","",For the Request Builder we need an API for retrieving the class name by specifying the object name in the ObjectManager.
8056,TYPO3.Flow,Task,"",Closed,Should have,Remove configuration option for mirrorMode,Robert Lemke,Karsten Dambekalns,2012-07-25 08:49,Resource,"","","","",0,2010-06-04 05:54,"","",39400,"","","The resource publisher can mirror resources either be creating symlinks or copying the files. This can be configured through the mirrorMode setting. The default of this setting is ""copy"" to guarantee that file publishing works on any system. What most people want though is ""symlink"" because it's much faster.

This task is about checking the possibility to remove this user setting and let FLOW3 autodetect which method to use. The detection mechanism should consider

* if the OS supports symlinks
* if the webserver is configured to actually follow symlinks"
8061,TYPO3.Welcome,Bug,"",Resolved,Should have,Wrong directory case for resources,Robert Lemke,Karsten Dambekalns,2010-11-11 17:30,"",1.0 alpha 13,2010-11-11,"",1.00,100,2010-06-04 06:24,"","",2740100,"","","The public resources of the Welcome package still use lowercase directory names.

There are also some places in the templates where resources are included by hard coded paths, such as:

<pre>
<script type=""text/javascript"" src=""../../../Public/js/mootools-1.2.2-core-yc.js"">
</pre>"
8063,TYPO3.Flow,Task,"",Resolved,Should have,"Rename the resource stream wrapper's scheme from ""package://"" to ""resource://""",Robert Lemke,Robert Lemke,2010-10-20 05:40,Resource,1.0 alpha 10,2010-06-04,"","",100,2010-06-04 06:37,"","",39500,"","","The ""protocol"" we're currently using for retrieving static resources is ""package://"" - however, that doesn't fit completely. Now that we also want to use the stream wrapper for accessing package-independent persistent resources, we should use the scheme ""resource://"" instead."
8074,TYPO3.Flow,Bug,"",Resolved,Should have,memcached backend: No exception thrown if set() fails and wrong boolean comparison ,Christian Kuhn,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 10,2010-06-10,"",1.00,100,2010-06-06 09:37,"","",1804800,"","",http://bugs.typo3.org/view.php?id=14632
8082,TYPO3.Flow,Feature,"",Resolved,Should have,API for accessing persisted resources,Robert Lemke,Robert Lemke,2010-10-20 05:40,Resource,1.0 alpha 10,2010-06-07,"","",100,2010-06-07 05:46,"","",1804750,"","",Currently there is no clean way to retrieve a resource object representing a persisted resource. The only way to use persisted resource right now is Fluid's resource view helper - but this doesn't help if you want to access resources directly via PHP's file functions.
8088,TYPO3.Flow,Feature,"",Resolved,Should have,API method for retrieving the original filename of recently imported resources,Robert Lemke,Robert Lemke,2010-10-20 05:40,Resource,1.0 alpha 10,2010-06-07,"","",100,2010-06-07 08:39,"","",1804700,"","","When a file is uploaded to FLOW3, there's currently no viable way to get knowledge of the original filename - all you get is a resource object.

It would be helpful if the Resource Manager had an API function for retrieving the imported resources (of the current script run) and get some further information about the import."
8132,TYPO3.Flow,Bug,"",Resolved,Must have,Checking for objects in array properties during persistence is broken,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 10,2010-06-10,"",1.00,100,2010-06-10 06:28,"","",1804650,"","","When an object with an array property containing another object is persisted, the object is removed, as the check mistakenly thinks the object is no longer in the array property (@removeDeletedArrayEntries()@)."
8133,TYPO3.Flow,Feature,"",Resolved,Should have,ObjectAccess::setProperty() should support arrays as a subject,Robert Lemke,Robert Lemke,2010-10-20 05:40,Reflection,1.0 alpha 10,2010-06-10,"","",100,2010-06-10 06:37,"","",1804600,"","",Currently only getProperty() allows to use arrays as $subject - setProperty() doesn't support this.
8156,TYPO3.Flow,Bug,"",Resolved,Must have,ResourceStreamWrapper no longer able to handle non-existent files,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Resource,1.0 alpha 10,2010-06-10,"",2.00,100,2010-06-10 17:03,"","",1804550,"","","The ResourceStreamWrapper no longer works when trying to use it to create files or directories. This is because @evaluateResourcePath()@ checks the resolved path for existence before returning it.

This obviously does not work for a directory or file that is about to be created.

This breaks e.g. the Kickstarter."
8177,TYPO3.Kickstart,Bug,"",Resolved,Must have,Wrong Template name,Patrick Kollodzik,"",2010-10-20 05:48,"","","","","",100,2010-06-11 15:03,"","",2740200,"","","Using FLOW3 Alpha 9

<pre>
./flow3 kickstart package DummyPackage
</pre>

The filename of the index template for the StandardController is in lowercase, wich will result in a 404 error.

If you follow the documention ""Getting Started"" the example in chapter 6.2 will not work."
8179,TYPO3.Fluid,Feature,"",Resolved,Should have,Create Selenium Tests for Fluid Viewhelpertest Package / Extension,Sebastian Kurfuerst,Bastian Waidelich,2010-10-20 05:44,"","",2010-06-11,"","",100,2010-06-11 15:42,"","",2596400,"","",see above ;)
8180,TYPO3.Fluid,Feature,"",Resolved,Should have,Create a ViewhelpertestBackporter,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2010-06-11,"","",100,2010-06-11 15:43,"","",2596350,"","","As a preparation for the selenium tests, create a backporter for the Viewhelpertest."
8206,TYPO3.Flow,Task,"",Resolved,Should have,Update CLDR data to current version,Karsten Dambekalns,Karol Gusak,2010-10-20 05:39,I18n,"","","",1.00,100,2010-06-14 05:28,"","",40150,"","",The CLDR data in the Resources folder is currently 1.6.1 as of 2008-07-23. An upgrade to the current version will a) ensure current locale data and b) make sure we have adjusted (if needed) to any changes in CLDR data before we actually start to use the Locale subsystem in FLOW3.
8207,TYPO3.Flow,Bug,"",Resolved,Must have,CGL naming violation in Locale subsystem,Karsten Dambekalns,Karol Gusak,2010-10-20 05:39,I18n,"","","","",100,2010-06-14 05:32,"","",1779600,"","","Currently the Locale code uses CLDR all uppercase in class names, namespaces and variable names. This violates our (almost 100% strict) naming rules. Instead it should be ""Cldr"" (or ""cldr"" at the beginning of variable names."
8208,TYPO3.Flow,Task,"",Resolved,Must have,Define public API in Locale subsystem,Karsten Dambekalns,Karol Gusak,2010-10-20 05:39,I18n,"","","",1.00,100,2010-06-14 05:43,"","",40200,"","",The Locale subsystem needs to have the public API defined (using @api annotations) on classes and methods that are intended to be used by FLOW3 users.
8233,TYPO3.Fluid,Feature,"",Resolved,Should have,Uri_ImageViewHelper // Link to a resized image,Christian Baer,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-06-15,2010-06-18,"",100,2010-06-15 04:35,"","",2596300,"","","Request: 
I think this is not possible for the moment. Either you display a (resized) image or you link to the original image (fullsize). So I think it would be nice to have a viewhelper for linking to an image, providing width/height settings.

Solution:
Here's the implementation of a ViewHelper that works like ImageViewHelper, but just renders the URI, not the whole <img>-Tag. It is based on the original ImageViewHelper and simply returns the $imageResource. Useful for the creation of XML-files where the URI of a resized image is needed.

"
8247,TYPO3.Fluid,Feature,"",Resolved,Should have,add more uri options to form viewhelper,Susanne Moog,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-06-15,"","",100,2010-06-15 08:01,"","",2596250,"","","The form view helper is missing an addQueryString param (like the link.action view helper) to easily keep the current query params when sending the form (for example you could have other extensions depending on certain params on your form page and would like to keep the current state when sending the form). 

Attached a small patch which enables this feature (though I don't know if it's the correct ""fluid"" way)."
8255,TYPO3.Flow,Bug,"",Resolved,Should have,Invalid exception class reference in signal slot component,Manuel Pichler,Karsten Dambekalns,2010-10-20 05:40,SignalSlot,1.0 alpha 10,2010-06-15,"",1.00,100,2010-06-15 10:40,"","",1804500,"","","The signal slot component throws an InvalidArgumentException[1] without a leading backslash and without a corresponding [[use]]-statement. This results in a fatal error when this branch gets executed.

[1] http://forge.typo3.org/projects/package-flow3/repository/entry/trunk/Classes/SignalSlot/Dispatcher.php#L98"
8258,TYPO3.Flow,Feature,"",Resolved,Should have,call initializeObject() also after Reconstitution,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:40,Object,1.0 alpha 10,2010-06-15,"","",100,2010-06-15 11:04,"","",1804450,"","","for some cases, it makes sense to call the initializer method (initializeObject()) also after reconstituting an object, and re-injecting its dependencies -- so one can set up calculated properties where a dependency is needed for calculation.

We agreed to pass a parameter (constant) to initializeObject, so one can determine if it is the ""NEW"" or the ""RECONSTITUTE""-case.

TODO: also Documentation must be updated."
8299,TYPO3.Flow,Task,"",Resolved,Should have,Clean up handling of NULL in queries,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 10,2010-06-16,"",4.00,100,2010-06-16 11:14,"","",40500,"","","* When using @equals()@ comparison against NULL should work as expected.
* For collections we need @isEmpty()@.
* @contains()@ with a NULL operand should never match."
8317,TYPO3.Flow,Bug,"",Resolved,Should have,Parse Error in FLOW3 script with PHP < 5.3,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:40,Core,1.0 alpha 12,2010-09-26,"",1.00,100,2010-06-17 05:26,"","",1807650,"","","When calling @php Packages\Framework\FLOW3\Scripts\FLOW3.php@ with PHP 5.2.x I'm getting a parse error.
<pre>
$className = '\F3\FLOW3\Core\Bootstrap';
$className::defineConstants();
</pre>
should have been the workaround to prevent the parser from dying with a parse error. But the second line throws
<pre>Parse error: parse error in Packages\Framework\FLOW3\Scripts\FLOW3.php on line 38</pre>
on my windows machine with PHP 5.2.10-dev"
8319,TYPO3.Fluid,Task,"",Resolved,Should have,Add ViewInterface to ViewHelperVariableContainer again,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,Core,"",2010-06-17,"","",100,2010-06-17 10:00,"","",40650,"","","With r4273 all view typehints have been replaced by an ""object"" annotation.
Robert can't remember the exact reason.
I'd suggest to revert this change and see, whether the unit tests still run.
I think, it's really important to work with an interface rather than @object@"
8361,TYPO3.Flow,Bug,"",Closed,Must have,#1176475350: More than one.. when Request Handler Name is cgi-fcgi,Manfred Siegmund,Karsten Dambekalns,2011-07-06 09:50,MVC,"",2010-06-20,"","",0,2010-06-19 19:08,"","",1779550,"","","I installed flow on a domaingo (Domainfactory) Power XL Webhosting.

Beside some restrictions on the hosters part (setenv in .htaccess is invalid and must be set inside the index.php as putenv) the installation was easy and fast with the flow3 online help.
Everything went ok, the welcome page showed up and said i should use ./flow3 functions to deactivate the Welcome package and
setup a MyPackage. (I am testing flow3 on zox-systems.net Domaingo Power XL Webhosting) 

Using the Putty Terminal i can either type ./flow3 .... or sh flow3 ... means i can use the commandos and the flow3 script on the ssh terminal.
When running any flow3 commands i receive a Flow3 Exception #1176475350: More than one request handler with the same priority can handle the request, but only one handler may be active at a time!

After a couple cups of Coffee and the look in the sources (/Packages/Framework/FLOW3/Classes/MVC/CLI/RequestHandler.php line 87) i found following solution.

The return $this->utilityEnvironment->getSAPIName() === 'cli' is only valid for the web output, but triggers the exception above within the shell.
I changed following parts of /Packages/Framework/FLOW3/Classes/MVC/CLI/RequestHandler.php and the output of the Web, the shell works as expected on my Domaingo Power XL installation.

public function canHandleRequest() {
    if($this->utilityEnvironment->getSAPIName() == 'cgi-fcgi'){
	return ($this->utilityEnvironment->getSAPIName() === 'cgi-fcgi');
    }
    #return ($this->utilityEnvironment->getSAPIName() === 'cli');
}

public function getPriority() {
    if($this->utilityEnvironment->getSAPIName() == 'cgi-fcgi'){
      return 0;
    }else{
      return 100;
    }
}

Expect:
There should be a SetEnv or other configuration flag to configure the request handler name in such cases.

"
8411,TYPO3.Flow,Bug,"",Resolved,Must have,QOM logicalNot() does not work as expected,Andreas Förthner,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 10,2010-06-23,"",3.00,100,2010-06-21 11:25,"","",1804400,"","","@$query->logicalNot()@ seems to be completely ignored. To reproduce that bug you can add a new constraint to the query in @BlogRepository->findByBlog()@:

This works as expected (only posts with the title ""FLOW3"" are returned):

@$query->matching($query->logicalAnd($query->equals('blog', $blog), $query->equals('title', 'FLOW3')))...@

This query should return all posts, but not the ones having ""FLOW3"" as title:

@$query->matching($query->logicalAnd($query->equals('blog', $blog), $query->logicalNot($query->equals('title', 'FLOW3'))))...@

The second query ignores the title constraint and returns all posts."
8427,TYPO3.Flow,Task,"",Resolved,Should have,Access roles are not inherited,Michael Schams,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 10,2010-06-22,"","",100,2010-06-21 20:48,"","",41250,"","","Assuming, we defined the following three ACL roles in @Policy.yaml@:

* *administrator*
* *manager*
* *auditor*

""Auditor"" should be the lowest level, ""administrator"" the highest. A typical example would be: admin has access to everything (incl. user management features), ""manager"" and ""auditor"" have access to low level features. Therefore, a good approach would be to inherit all privileges an ""auditor"" has, to the ""manager"" role and all privileges a ""manager"" has, to ""administrator"".

The attached document shows the entries in ""@Policy.yaml@"" as an example. Note the two/four lines highlighted in red (at ""acl"" section). You would expect that you +do NOT+ need those lines, because ""manager"" already has access to Meter/Asset (inherited by ""auditor""), as well as ""administrator"".

But if these lines are removed, an ""Access denied"" exception is thrown when trying to access Asset/Meters with a ""manager"" or ""administrator"" user.

h2. Assumption:

Privileges are not inherited. In this example: GRANT for role ""auditor"" is not passed to ""manager"" (and ""administrator"" in the next level).

h2. Workaround:

Assign all ""admin"" users to ""auditor"" and/or ""manager"" roles, too. Or: include the additional lines in @Policy.yaml@ as shown in attached document."
8432,TYPO3.Flow,Bug,"",Resolved,Must have,Fix Symlink support for Windows OS,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:40,Resource,1.0 alpha 11,2010-06-22,"","",100,2010-06-22 04:57,"","",1805800,"","","With version 5.3 PHP supports symlinks on Windows >= Vista.
symlink($target, $link) works indeed on my Windows 7 machine. But is_link($link) returns FALSE.
That's why the unit test
<pre>
F3\FLOW3\Resource\Publishing\FileSystemPublishingTargetTest::mirrorFileSymLinksTheGivenFileIfTheSettingSaysSo()
</pre> fails on Windows.

A solution might be to use readlink() instead of is_link() as readlink() returns the same for $target and $link (the path to the target).."
8455,TYPO3.Flow,Bug,"",Resolved,Should have,"""Wrong"" default package used in ResourceInterceptor",Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Resource,1.0 alpha 10,2010-06-23,"",1.00,100,2010-06-23 04:23,"","",1804350,"","","When using a resource link in a Fluid template FLOW3's ResourceInterceptor transforms that into a Resource ViewHelper setup. If it doesn't detect a package key in the used URL the current package is used as default.

This doesn't work in TYPO3, as the current package is TYPO3, whereas the template file comes from the site's package. The intuitive behavior would be if the package the template is in was used as default."
8462,TYPO3.Flow,Feature,"",New,Should have,Check subobjects in query rewriting,Andreas Förthner,"",2010-10-20 05:39,Security,"",2010-06-23,"","",0,2010-06-23 08:49,"","",1779500,"","",For usual queries this could be done by adding join conditions. For an object retrieved by UUID this has to be discussed.
8463,TYPO3.Flow,Feature,"",New,Should have,Check security policy for objects reconstituted in the session scope,Andreas Förthner,"",2010-10-20 05:39,Security,"",2010-06-23,"","",0,2010-06-23 08:52,"","",1779450,"","","Currently persited objects that are reconstituted in the session scope are not checked against the security policy. This might be a problem, if a persisted object has changed from one request to the other and the user is no longer allowed to access this object becaouse of the change."
8464,TYPO3.Flow,Feature,"",New,Should have,Write settings using the ConfigurationManager,Karsten Dambekalns,"",2011-12-15 11:06,Configuration,"","","","",0,2010-06-23 09:44,"","",1779400,"","","It should be possible to write settings using the ConfigurationManager, similar to PackageStates.yaml.

Rules:
* constants that have been replaced upon reading should be reversed when writing
* never write changes from a context to global settings
* always write global settings

The last rule assumes that settings changes done through some interface are supposed to affect global settings, context specific changes are done manually.

Question: is this a valid assumption?
"
8468,TYPO3.Fluid,Feature,"",Resolved,Should have,Add debug viewhelper,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-06-23,"","",100,2010-06-23 11:24,"","",2596200,"","","In v4 we have a <f:debug /> viewhelper to dump objects.
We need to forward port this to v5."
8484,TYPO3.Fluid,Bug,"",Closed,Should have,Revise EscapeViewHelper,Bastian Waidelich,Bastian Waidelich,2011-07-11 08:38,ViewHelpers,1.0 beta 1,2010-06-24,"","",0,2010-06-24 08:53,"","",2596150,"","","The current implementation of the EscapeViewHelper is a bit odd IMO.
1. I find it weird to use one ViewHelper to escape html, entities & urls
2. If anything goes wrong, the EscapeViewHelper currently returns the *unchanged* input string.. That is, if you'd write @<f:escape value=""dangerous html"" type=""HTML"" />@ the value would not be htmlspecialchar'ed"
8485,TYPO3.Flow,Bug,"",Resolved,Should have,Policies/ACLs do not work (anymore),Michael Schams,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 10,2010-06-24,"","",100,2010-06-24 08:55,"","",1804300,"","","Attached file @./Configuration/Policy.yaml@ does not work.

*Issue (1)*
line 13: keyword before pointcut expression has to read ""methods"" (with ""s""), not ""method"" as documented in [1]. Keyword was ""method"" (without ""s"") before (in an older SVN revision).

*Issue (2)*
It's unknown how ACLs work now. Previously the syntax in file @Policy.yaml@ was:

<pre>
acls:
  ROLENAME:
   RESOURCE_NAME: GRANT
</pre>

This causes the following exception:

*_Notice: Undefined index: entities in /var/www/.../Packages/Framework/FLOW3/Classes/Security/Policy/PolicyService.php line 401_*

Removing the ""acls:""-section from file @Policy.yaml@ ""fixes"" the problem.

It's assumed that these two issues were introduced by changes in SVN between 23/June/2010 and 24/June/2010.

[1] = http://flow3.typo3.org/documentation/manuals/flow3/flow3.securityframework/
Example 13.10 ""Example resources definition..."""
8489,TYPO3.Flow,Task,"",Resolved,Should have,Merge policies of different packages,Andreas Förthner,"",2010-12-13 10:31,Security,1.0 alpha 14,2010-06-24,"","",0,2010-06-24 10:33,"","",41550,"","",the configuration has to be merged. Currently e.g. the acls of different packages override eachother.
8491,TYPO3.Fluid,Task,"",Needs Feedback,Should have,link.action and uri.action differ in absolute argument,Bastian Waidelich,Karsten Dambekalns,2012-03-07 11:05,ViewHelpers,"",2010-06-24,"","",0,2010-06-24 13:41,"","",41600,"","","In r3548 the ""absolute"" argument of the link.action ViewHelper has been removed with following comment:
""[~TASK][~API] Fluid (ViewHelper): The ActionViewhelper now produces only absolute URIs. The argument ""absolute"" is now obsolete.""

I don't understand why this would make sense.. And if it does, shouldn't the uri.action ViewHelper be changed accordingly?"
8535,TYPO3.Fluid,Bug,"",Resolved,Must have,CheckBoxViewHelper hidden value creates extra data when using multi-valued field names,Balisky Christophe,Bastian Waidelich,2010-10-20 05:44,"","",2010-06-28,"","",100,2010-06-28 13:40,"","",2596100,"","","In fluid 1.2.0

When creating multiple edit grids (in tables for examples)  I use the following syntax to retrieve an array of values to update in my form :

<ul>
  <f:for each=""{articles}"" as=""article"">
    <li>  
     <f:form.checkbox name=""articles[]"" value=""{article.uid}"" />
    </li>
  </f:for>
</ul>

But the new hidden field created to manage empty values actually adds a new entry in the articles array I receive.

This is a regression form previous versions of fluid.

The actual hidden field solution is only valid if uses with mono-valued fields.



"
8540,TYPO3.Fluid,Bug,"",Closed,Should have,Call to undefined method F3\\Fluid\\View\\TemplateView::parseTemplate(),Michael Schams,"",2010-10-20 05:44,"","",2010-06-29,"","",0,2010-06-28 20:52,"","",2596050,"","","PHP Fatal error after changes in *r4654* but also in *r4656*:

<pre>
[Tue Jun 29 00:45:30 2010] [error] [client xx.xx.xx.xx] PHP Fatal error:
Call to undefined method F3\\Fluid\\View\\TemplateView::parseTemplate()
in /home/flow3/www/FLOW3-subversion/trunk/Packages/Framework/Fluid/Classes/View/AbstractTemplateView.php on line 236
</pre>"
8544,TYPO3.Flow,Feature,"",Resolved,Should have,"If no role is authenticated, an ""Anonymous"" role should be returned.",Andreas Förthner,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 10,2010-06-29,"","",100,2010-06-29 07:04,"","",1804250,"","","This can be done in the security context, by returning a fixed role, when no other role is authenticated."
8554,TYPO3.Flow,Bug,"",Resolved,Must have,AOP interceptor removes default value from method argument,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:40,AOP,1.0 alpha 11,2010-08-16,"",2.00,100,2010-06-29 13:45,"","",1805750,"","","When activating an AOP interceptor for a method
<pre>
public function indexAction(array $someArray = array)
</pre>
I'm receiving following runtime notice:
<pre>
Declaration of F3\Viewhelpertest\Controller\StandardController_AOPProxy_Development::indexAction() should be compatible with that of F3\Viewhelpertest\Controller\StandardController::indexAction()
</pre>

The reason is, that in the AOP proxy class the declaration looks like
<pre>
public function indexAction(array $someArray)
</pre>"
8558,TYPO3.Flow,Bug,"",Resolved,Must have,Multiple validations will append to list of errors instead of replacing list from last validation,Christian Lerrahn,Karsten Dambekalns,2010-10-20 05:40,Validation,1.0 alpha 11,2010-08-06,"",2.00,100,2010-06-29 20:42,"","",1805700,"","","If I validate several objects one after the other and then call getErrors() the listed errors will be the set union of all errors in the different single validation processes.

This does not agree with the comments found in

@Classes/Validation/Validator/ValidatorInterface.php@

which state

<pre>
[...]
        /**
         * Checks if the given value is valid according to the validator.
         *
         * If at least one error occurred, the result is FALSE and any errors can
         * be retrieved through the getErrors() method.
         *
         * Note that all implementations of this method should set $this->errors() to an
         * empty array before validating.
         *
         * @param mixed $value The value that should be validated
         * @return boolean TRUE if the value is valid, FALSE if an error occured
         * @api
         */
        public function isValid($value);
[...]
        /**
         * Returns an array of errors which occurred during the last isValid() call.
         *
         * @return array An array of \F3\FLOW3\Validation\Error objects or an empty array if no errors occurred.
         * @api
         */
        public function getErrors();
[...]
</pre>

A piece of code like

<pre>
$validator = $this->validatorResolver->getBaseValidatorConjunction('F3\Foo\Domain\Model\Bar');
if ($validator->isValid($fooBarObject)) {
} else {
 $errorMessages = '';
 foreach ($validator->getErrors() as $error) {
  $errorMessages .= $error->getPropertyName().', ';
 }
}
</pre>

will not give the errors for the last instance of $fooBarObject that was validated but instead the set union of errors from all instances validated up to this point. In other words, if in the first instance the property ""abc"" id not validate and in the second instance the property ""bla"" didn't validate, the error lists will be

instance 1: abc,
instance 2: abc,bla,

instead of

instance 1: abc,
instance 2: bla,"
8576,TYPO3.Flow,Bug,"",Resolved,Should have,Unable to overwrite inherited ACL roles in Policy.yaml,Michael Schams,Andreas Förthner,2010-12-12 12:40,Security,1.0 alpha 14,2010-07-01,"",2.00,0,2010-06-30 22:19,"","",1809100,"","","Roles are inherited correctly but you can not overwrite a previously defined DENY with a GRANT. It's working fine to overwrite a GRANT with a DENY bit not vice versa.

See attached PDF document for clarification.

Please note: this ticket is related to #8427 (see examples there) but describes a (new) system behaviour (bug)."
8648,TYPO3.Fluid,Bug,"",New,Should have,format.crop ViewHelper should support all features of the crop stdWrap function,Bastian Waidelich,"",2011-10-21 07:37,ViewHelpers,"",2010-07-04,"","",0,2010-07-04 07:16,"","",2596000,"",FLOW3 1.0.0,"Right now the format.crop ViewHelper only works partly in BE mode (v4) and is missing some features in v5. Also it can't handle HTML content correctly yet.
All implementations should support the same feature set."
8670,TYPO3.Flow,Bug,"",Resolved,Should have,Non-required action argument throws Exception on unknown get-parameter uid,Sebastian Kurfuerst,Karsten Dambekalns,2010-10-20 05:40,MVC,1.0 alpha 11,2010-08-18,"","",100,2010-07-06 02:21,"","",1805650,"","","see related issue, I think this applies to FLOW3 as well."
8724,TYPO3.Fluid,Task,"",Resolved,Should have,remove not needed argument from renderPartial,Felix Oertel,"",2010-10-20 05:44,Core,"",2010-07-07,"","",0,2010-07-07 06:46,"","",44300,"","","hey,

in Classes/View/TemplateView.php renderPartial() the second argument @$sectionToRender@ is required (no default value) but it is not used in the method ... 

it clearly will be a breaking change if we remove that, but propably it's not too late right now ;)

or is this variable intended to be used later?

regards, foertel

ps: while checkin v5 i see that the TemaplateView looks different there. Is this intended or just un-backported refactoring?"
8732,TYPO3.Fluid,Task,"",Resolved,Should have,Small improvement of ForViewHelper,Michael Feinbier,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-07-08,"","",100,2010-07-08 03:10,"","",44400,"","","In the @Tx_Fluid_ViewHelpers_ForViewHelper@ there's a method @convertToArray()@ which extracts an array from the traversable object via foreach.
This should be replaced by the function @iterator_to_array()@ which does basically the same but more performant on huge objects than foreach'ing manually.

Patches for v4 and v5 branch are attached."
8736,TYPO3.Flow,Feature,"",Resolved,Should have,Implement generic Identity RoutePartHandler,Bastian Waidelich,Bastian Waidelich,2011-09-20 14:03,MVC - Routing,1.0.0,"","","",100,2010-07-08 07:17,"","",1779350,"","","We should provide a generic RoutePart handler, that allows to match/resolve Identities. This should be configurable through the ""options"" setting that was implemented with #2825.
Instead of
<pre>
  uriPattern:    'posts/{post}'
  defaults:
    '@package':    Blog
    '@controller': Post
    '@action':     show
  routeParts:
    post:
      handler: F3\Blog\RoutePartHandlers\PostRoutePartHandler
</pre>
I could imagine something like
<pre>
  uriPattern:    'posts/{post}'
  defaults:
    '@package':    Blog
    '@controller': Post
    '@action':     show
  routeParts:
    post:
      handler: IdentityRoutePartHandler
      options:
        model: F3\Blog\Domain\Model\Post
        pattern: '{date}/{title}'
</pre>

Then you wouldn't need a custom RoutePart handler anymore most cases..

*Note1:* the namespace of the handler can be omitted when it is in the FLOW3 package
*Note2:* the line ""handler: IdentityRoutePartHandler"" could be implicit for domain models
*Note3:* how to handle the date format here? should we somehow support regular expressions in the pattern?"
8749,TYPO3.Fluid,Bug,"",Resolved,Should have,SelectViewHelper throws fatal error on PHP 5.2,Jochen Rau,Bastian Waidelich,2010-12-14 13:21,ViewHelpers,"",2010-07-08,"","",100,2010-07-08 15:37,"","",2595900,"","","Calling the SelectViewHelper leads to the following

Fatal Error: Objects used as arrays in post/pre increment must return value by reference in ... SelectViewHelper on Line 171."
8772,TYPO3.Flow,Task,"",Resolved,Should have,"Rename the ""Locale"" sub package to ""i18n""",Robert Lemke,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,2010-07-09,"","",100,2010-07-09 08:13,"","",45300,"","",The Locale package will eventually contain more functionality than just handling the locale and CLDR. It also offers means to translate labels and otherwise localize FLOW3 applications. Therefore this sub package is really about internationalization.
8773,TYPO3.Fluid,Major Feature,"",Resolved,Should have,Implement support for Widgets,Bastian Waidelich,Sebastian Kurfuerst,2010-10-20 05:44,"",1.0 alpha 12,2010-07-09,"","",100,2010-07-09 08:46,"","",2604300,"","","h2. Considerations:

Widgets...
* ...are a special implementation of a Fluid ViewHelper
* ...behave like ""Plugins in Plugins""
* ...(can) implement their own Controller & Template
* ...should be integratable without the need to modify the orignial Package/Plugin (e.g. add pagination to Blog posts by adding the widget to your custom template)

h2. Possible widgets:

* *Pagination Widget*: If put in the template like _<f:widget.pagination items=""{posts}"" as=""postsOfThisPage"" />_ (syntax is not clear yet) will fetch a subset of posts and make it available as ""postsOfThisPage"". To prevent, that all posts are loaded, we'll need some special lazy loading proxy (see related issue)
* *Autocompletion*
* *Sortable grid*
* *(Google) maps*
* ..."
8774,TYPO3.Flow,Feature,"",Resolved,Should have,Query::execute() should return a Proxy instead of array,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:39,Persistence,"","","","",100,2010-07-09 08:56,"","",1779300,"","","While discussing a widget concept (#8773) we realized, that it would be good to be able to access a query of a resultset before actually retrieving objects from the persistence.
The Query::execute() method could instead of an array return a *LazyQueryResultList* that contains the query object. Only if this list is accessed, the objects would be loaded. But it should be possible to retrieve the related query object without fetching the objects (e.g. through *LazyQueryResultList::getQuery()* or *persistenceManager->getQueryByResult($myLazyQueryResultList)*).

That would enable us for example to copy and modify a query without actually executing it.

h2. Implications

* This will be a breaking change, cause existing array type hints will break
"
8824,TYPO3.Fluid,Task,"",Resolved,Must have,Create an abstract base class for Condition ViewHelpers to remove Code Duplication,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:44,"","",2010-07-12,"","",100,2010-07-12 14:09,"","",45600,"","","In FLOW3, we already have quite some condition ViewHelpers (f:if, f:security.if*). It turns out they all use a private API inside the framework, as they directly implement the ChildNodeAccessInterface, which is no public API.

h3. Proposed solution
Create a new base class \F3\Fluid\Core\ViewHelper\ConditionViewHelper which should be used as a basis of condition-based ViewHelpers.

h3. Breaking change

*This is a breaking change for people who copied the ""if""-ViewHelper and did their own condition evaluation, as the internal workings of the ""if""-ViewHelper changed.*

h3. How to upgrade

Have a look at the new IfViewHelper, and see that it is now far easier to get up and running."
8834,TYPO3.Fluid,Task,"",Resolved,Should have,Add fallback for use of TagBasedViewHelper,Karsten Dambekalns,Bastian Waidelich,2010-10-20 05:44,Core,"",2010-07-13,"","",100,2010-07-13 04:00,"","",45750,"","","As discussed there should be a TagBasedViewHelper that is marked deprecated, logs that fact and extends from AbstractTagBasedViewHelper."
8835,TYPO3.Flow,Task,"",Resolved,Should have,Remove @version annotation from FLOW3 classes,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:40,"",1.0 alpha 11,2010-07-13,"","",100,2010-07-13 05:35,"","",45800,"","","Currently each PHP class contains the following line
<pre>
 * @version $Id: $
</pre>
That is replaced by SVN clients (if configured correctly) before comitting.
With the move to Git that won't be the case any longer, so we should get rid of these annotations.
AFAIK there is no corresponding feature in Git, but IMO we don't need the revision in the file or have any of you ever counted on the @version annotation? Besides, it makes backporting a very tedious job.

*Note:* If we decide to remove this annotation, we'll have to adjust the CGL document on http://flow3.typo3.org/documentation/coding-guidelines/ too"
8842,TYPO3.Flow,Feature,"",Resolved,Should have,Implement Translator class,Karol Gusak,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,"","","",100,2010-07-13 09:15,"","",1805600,"","",The translator class will be used for message (labels) translation. By default XLIFF format will be used as a storage.
8846,TYPO3.Flow,Bug,"",Resolved,Must have,AbstractXmlParserTest dies with a PHP error,Bastian Waidelich,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,2010-07-13,"","",100,2010-07-13 09:34,"","",1805550,"","","The unit test *AbstractXmlParserTest::throwsExceptionWhenBadFilenameGiven()* dies with following PHP error on my machine (Win 7, PHP 5.3):
<pre>
C:\[...]\flow3\Packages\Framework\FLOW3\Classes\Locale\Xml\AbstractXmlParser.php:88
Warning: simplexml_load_file() [<a href='function.simplexml-load-file'>function.simplexml-load-file</a>]: I/O warning : failed to load external entity &quot;foo&quot; in C:\[...]\flow3\Packages\Framework\FLOW3\Classes\Locale\Xml\AbstractXmlParser.php line 88
</pre>"
8849,TYPO3.Flow,Bug,"",Resolved,Must have,Remove var_dump() call in F3\FLOW3\I18n\Cldr\Reader\DatesReader,Bastian Waidelich,Karol Gusak,2010-10-20 05:40,I18n,1.0 alpha 11,2010-07-13,"","",100,2010-07-13 14:06,"","",1805500,"","","Hi Karol and sorry for picking on you ;)
By coincidence I just found a left over var_dump() call in F3\FLOW3\I18n\Cldr\Reader\DatesReader::formatDateTime().

Besides most of the method seem to have an invalid author annotation <pre>@author Karol Gusak <firstname@lastname.eu></pre>"
8852,TYPO3.Fluid,Feature,"",Resolved,Should have,Add method overrideArgument() to AbstractViewHelper,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,Core,"",2010-07-14,"","",100,2010-07-14 03:53,"","",2595850,"","","When registering an argument twice, you'll get an exception
<pre>
#1253036401: Argument ""xyz"" has already been defined, thus it should not be defined again.
</pre>
That's intended, but we need the possibility to override argument registrations (e.g. for the form.checkbox vh that sets the ""value"" argument required)"
8854,TYPO3.Fluid,Bug,Task #26658: Make Form ViewHelpers consistent,Resolved,Must have,form.checkbox ViewHelper throws Exception in newAction,Bastian Waidelich,Bastian Waidelich,2012-01-20 06:22,ViewHelpers,1.1,2010-07-14,"","",100,2010-07-14 03:57,"","",2595800,"",Git master,"When using the form.checkbox ViewHelper in ObjectAccessorMode (bound to a property of the form object) this leads to an error when the form object is NULL (e.g. in the newAction) because the type of the property (array / boolean) can't be determined.
To avoid this issue, we need a new argument ""multiple"" that will make sure, that ""[]"" are appended to the checkbox field name."
8864,TYPO3.Flow,Task,"",Resolved,Should have,We should mention the usage of PHP Error Control Operators in the FLOW3 CGL,Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:40,- Documentation -,1.0 alpha 11,"","","",100,2010-07-14 12:58,"","",45900,"","","Using the @ Error Control Operator (http://www.php.net/manual/en/language.operators.errorcontrol.php) to avoid PHP Warnings and Errors is considered bad practice.
I couldn't find anything about this in the FLOW3 Best Practices / CGL. IMO this should be added."
8865,TYPO3.Flow,Feature,"",Resolved,Should have,FlashMessage should become an object,Dennis Ahrens,Karsten Dambekalns,2011-07-06 09:59,MVC,1.0 beta 1,"","","",100,2010-07-14 14:32,"","",1779250,"","","Would be nice if a FlashMessage becomes an object :)

Currently a FlashMessage is just a string.

I think it would be nice to store more informations related to the message instead of the string. e.g. the DateTime it was created and type and maybe some other informtations which may be useful.

There is a patch with a possible solution available for extbase:

http://forge.typo3.org/issues/7098"
8879,TYPO3.Fluid,Bug,"",Closed,Should have,{ } when using as JavaScript,Adrian Föder,"",2013-12-04 07:01,"","",2010-07-15,"","",0,2010-07-15 07:43,"","",2595750,"",(any),"assuming the following FLUID code:

<pre>
<f:if condition=""foo"">
  <script type=""text/javascript"">
    var myDemoJSObject = {
      key1: 'foo',
      key2: 'bar
    }
  </script>
</f:if>
</pre>


this is outputted as

<script type=""text/javascript"">
var myDemoJSObject = Array
</script>


I think the brackets are regarded as inline view helpers and tried to be parsed. Wouldn't it be senseful to require inline view helpers may NOT have a whitespace after the opening bracket, so it should be (regex) /{\w/ and NOT /{./ or something like that."
8880,TYPO3.Fluid,Bug,"",Resolved,Should have,Be.ContainerViewHelper renders page header too early,Andreas Wolf,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-07-15,"","",100,2010-07-15 07:57,"","",2595700,"","","It is currently impossible to add something to the pageRenderer object in a child view helper of a Be.ContainerViewHelper. This is due to the children being rendered after the header has been rendered.

This bug makes it impossible to e.g. add new JS files inside child view helpers, for example inside a backported includeJavaScript view helper.

Solution: Just reverse the order in which the header and the children are rendered."
8893,TYPO3.Fluid,Bug,"",Resolved,Must have,Negative numeric values are not correctly converted to FALSE,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,Core,"",2010-07-15,"","",100,2010-07-15 13:08,"","",2595650,"","","<pre>
<f:if condition=""-1"">this should not be rendered</f:if>
</pre>
actually renders the content, cause ViewHelperNode::convertToBoolean() does not correclty determine the type as /numeric/.

Solution: move the is_numeric() check *above* the is_string() check."
8913,TYPO3.Flow,Bug,"",Resolved,Must have,Unit test failures because sys_get_temp_dir() doesn't always return directory name with trailing slash,Christian Kuhn,Andreas Förthner,2010-10-20 05:40,- Testing -,1.0 alpha 11,2010-07-17,"","",100,2010-07-16 19:35,"","",1805450,"","","php function sys_get_temp_dir() usually returns something like '/tmp/', but on some systems the trailing slash is missing (for me: a debian stable box, self compiled php 5.3.2, running as cgi). This leads to failing tests, eg. in Cache\Backend\PdoBackendTest

This could be easily fixed by always adding a slash (see attached patch), but leads to double slashes if the method returns with trailing slash.

Maybe it would be better to add / use some wrapper method to add the slash if it's missing?"
8918,TYPO3.Flow,Bug,"",Resolved,Should have,memcached backend: Remove tagIndex,Christian Kuhn,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 11,2010-08-16,"","",100,2010-07-17 13:29,"","",1805400,"","","Problem:
The memcached backend implementation currenty stores this key-value ""structure"" to map our identifier-data-keys relation:
* identifier -> data
* identifier -> keys
* key -> identifiers
* tagIndex -> All known tags

The tagIndex doesn't have any benefit at all, it just leads to more set() and get() calls.

Solution:
Completly remove tagIndex to save some operations which speeds up this backend, unit tests still show green bar.

Numbers:
Performance tests show that the backend speeds up between ~10 to 100% by removing the tagIndex. As an example, attached images show a test which set()'s a raising number of cache entries with a single attached tag to the backend. More numbers can be generated with ext:enetcacheanalytics (forge) in v4.

Notes:
Memcache is a simple key-value store and not designed to store structures of multiple related entries. Our implementation is a misuse, which leads to corrupt caches if memcache evicts entries from cache (because it needs space for new elements), or if single servers fail in a multi server environment."
8923,TYPO3.Flow,Task,Task #27561: Complete documentation,Under Review,Could have,Provide a Nginx Server Configuration for FLOW3,Thomas Fritz,Christian Müller,2014-06-19 10:34,- Documentation -,1.1.1,2010-07-18,"","",0,2010-07-18 06:40,"","",46050,"","","Provide or let the FLOW3 CLI generate a Nginx (or Apache) server configuration file or document it how one can use FLOW3 with nginx.
This is the main FLOW3 server configuration. On my blog i have posted the other configuration files needed: http://fritzthomas.com/php/600-how-to-use-flow3-with-nginx-working-server-configuration/
The only part i could not test are the ""_Resources/Persistent"" Urls. But they should work.
<pre>
server {
        listen          80; 
        server_name     flow3.local *.flow3.local;
        root            /var/www/test/flow3/Web;
        autoindex       off; 
 
        access_log      /var/www/test/logs/access.log combined;
        error_log       /var/www/test/logs/error.log info;
 
        location ~ ""^/_Resources/Persistent/"" {
                rewrite ""^(_Resources/Persistent/.{40})/.+(\..+)"" /$1$2 break;
        }   
 
        location ~ ""^/_Resources/"" {
                access_log off;
                log_not_found off;
                expires max;
                break;
        }   
 
        location / { 
                rewrite "".*"" /index.php last;
        }   
 
        location = /index.php {
                #fastcgi_param   FLOW3_CONTEXT          Development;
                fastcgi_param   FLOW3_CONTEXT           Production;
                fastcgi_param   FLOW3_REWRITEURLS       1;  
                fastcgi_intercept_errors on; 
                fastcgi_split_path_info ^(.+\.php)(/.+)$;
                include includes/fastcgi_params;
 
                # ""Upstream"" defined in nginx.conf
                fastcgi_pass    php-5.3.2; 
        }   
}
</pre>
"
8939,TYPO3.Fluid,Bug,"",Rejected,Should have,format.date does not handle TYPO3/UNIX timestamps,Xavier Perseguers,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-07-19,"","",0,2010-07-19 09:34,"","",2595600,"","","Hi,

I just upgraded an Extbase extensions I developed for TYPO3 4.3 and came across a bug in the format.date ViewHelper. My dates are not displayed anymore as the conversion from unix timestamp to DateTime object is invalid (constructor expects a string representation, not a timestamp).

Enclosed is a patch that solves this issue."
8968,TYPO3.Flow,Bug,"",Resolved,Must have,SQL errors when using setOrderings() with multiple fields,Peter Beernink,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 11,2010-08-18,"",1.00,100,2010-07-20 13:22,"","",1805350,"","","When using setOrderings() with multiple fields, an SQL error is thrown. However, when using only one field, everything works as expected.
Example:
<pre>
$query = $this->createQuery();
return $query
    ->setOrderings(array('lastname' => \F3\FLOW3\Persistence\QueryInterface::ORDER_ASCENDING, 'firstname' => \F3\FLOW3\Persistence\QueryInterface::ORDER_ASCENDING))
    ->execute();
</pre>
Will throw the following error:
<pre>
SQLSTATE[HY000]: General error: 1 ambiguous column name: _orderingtable1.parent

PDOException thrown in file
Packages/Framework/FLOW3/Classes/Persistence/Backend/GenericPdo/Backend.php in line 800.
</pre>

I've tested this on Alpha 10, with both SQLite and MySQL."
8981,TYPO3.Flow,Feature,"",New,Could have,Security/Performance: Provide Webserver Configuration file for common webservers - do not use .htaccess,Thomas Fritz,"",2010-10-20 05:39,"","",2010-07-21,"","",0,2010-07-21 10:41,"","",1779200,"","","For Security, Performance and Compatibility reasons there should be (perhaps optionally) the possibility to let the flow3 CLI generate a Configuration File for all common Webservers like Apache, and delete then the .htaccess file.

The advantages would be:
 - Even if it would be possible to write files like '.htaccess' into the public document directory of the webserver there would be no security issue then.
 - Apache would perform better because 'AllowOverride' could be set to 'None'. So Apache has not to recursively look for a .htaccess file.
 - '.htaccess' is Apache specific and should not be there if not needed."
8989,TYPO3.Fluid,Feature,"",Needs Feedback,Could have,Search path for fluid template files,Christian Winther,"",2012-03-12 13:10,View,"",2010-07-22,"","",0,2010-07-22 04:26,"","",2595550,"","","I'm currently working on a project where multiple extensions need to share some generic views, as well as be able to overwrite them locally.

I have made a patch for fluid that should not break in BC, but add the option for the TemplateView class to scan multiple extensions for view files.

Simply put I have added an ""addExtensionSearchPath"" method to TemplateView that appends extensions to a flat array (if it haven't already been added)

I have also changed so the following methods has a new optional argument called ""extension"" to overwrite the normal behavior of just calling ""getControllerExtensionKey""

* getTemplateRootPath()
* getPartialRootPath()
* getLayoutRootPath()

The protected function expandGenericPathPattern has been updated to iterate the new extensionSearchPaths class property and build search paths like before for each extension.

With the path applied you simple have to do the following in your controller to add a new search path

 $this->view->addExtensionSearchPath($_YOUR_EXT_KEY);

The search paths is processed First In First Out (FIFO) style, so your current extension always takes precedence over any additional searchable extensions added later in the request cycle.

This patch greatly improves the flexibility of the fluid rendering system, and helps keeping things DRY in your apps.

I have attached my patch to this ticket"
8992,TYPO3.Fluid,Feature,"",Resolved,Should have,Forwardport count ViewHelper,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-07-22,"","",100,2010-07-22 09:58,"","",2595500,"","",v5 is currently missing the count ViewHelper that we have in v4.
9005,TYPO3.Fluid,Feature,"",Accepted,Could have,Fluid Template Analyzer (FTA),Bastian Waidelich,Sebastian Kurfuerst,2011-05-06 05:03,"","",2010-07-23,"","",20,2010-07-23 04:55,"","",2595450,"","","We want to implement a wizard like tool, that allows developers to analyze and test their Fluid templates. Following features should be incorporated:

# Display the (highlighted) source code of a Fluid template
## All nodes should be wrapped with <span> tags and meaningful CSS classes
## Partials & Layouts could be linked, so that you only have to click the partial name in order to load the respective partial into FTA
## ViewHelper nodes could be linked with the source code of the corresponding ViewHelper
## Meta information of the node could be added to the span's title attribute (e.g. PHP doc comments of the ViewHelper's render method)
# Display the (highlighted) rendered Fluid template
## All rendered nodes should be wrapped with <span> tags and meaningful CSS classes
## Meta information of the node could be added to the span's title attribute (e.g. source code of this node, parameters of the respective ViewHelper)"
9017,TYPO3.Flow,Feature,"",Resolved,Could have,Implement redis as cache backend,Christian Kuhn,Christian Kuhn,2010-11-15 07:32,Cache,1.0 alpha 13,"","","",100,2010-07-25 15:37,"","",1808350,"","","Redis [1] is a noSQL database with very good scaling characteristics in relation to the amount of entries and data size. This makes redis perfectly fit to our needs as a caching backend. It's a young, but very active project with currently very high development speed.

Performance measurements show that this backend easily outperforms every other existing backend in most use cases, especially when in comes to larger data sizes with tons of entries. All base operations scale O(1) with the number of cache entries (not with the number of affected entries).

There are different adapters for php, this backend implementation uses phpredis, which is a redis implementation as php module [2]

This backend is tested with:
- redis version >= 2.0.0-rc2, version 1.2.0 does not work
- phpredis, git version 0abb9e5ec07b8a8c20b5 from 2010-07-18, prior versions should work, but have a major performance issue with data sizes > 8kb.

This is my first real contribution to FLOW3, i hope code quality is high enough and unit tests have acceptable code coverage. Please give feedback if anything needs to be improved.

The v4 backport of this backend already exists and is in production for early adapters, it will hopefully make it to v4.5, as soon as FLOW3 accepted the implementation.

[1] http://code.google.com/p/redis/
[2] http://github.com/owlient/phpredis"
9037,TYPO3.Fluid,Feature,"",Rejected,Won't have this time,new comparator for CheckboxViewhelper,Thomas Mammitzsch,"",2010-10-20 05:44,ViewHelpers,"",2010-07-26,"","",0,2010-07-26 10:54,"","",2595400,"","","i have a suggestion for a new ""in_array"" comparator in ViewHelperNode. Reason is that i'm creating forms in the frontend, where form definition happens in the backend. Everything works fine, even if i get validation errors, the form shows up prefilled.

The only exception is the CheckboxViewHelper. Because this is an array of values (at least if you have multiple checkboxes with the same name and different values) you can not compare it against a single value currently.
It would be nice if one can check if a value is in that array, to check the checkbox in case of validation errors, a return from a last-check-before-submit page (or generally when the form of the newAction has to be displayed again). I added one case to the evaluateComparator method in ViewHelperNode to do that and it works:

case 'in_array':
    return in_array($leftSide, $rightSide);

of course i also added 'in_array' also to the comparators static array in ViewHelperNode.
Could we add this permanently, what do you mean? "
9090,TYPO3.Fluid,Bug,"",Resolved,Must have,Chaining of ->assign() does not work anymore,Michael Feinbier,Bastian Waidelich,2010-10-20 05:44,View,"",2010-07-30,"","",100,2010-07-30 06:07,"","",2595350,"","","Since the latest release of Fluid the chaining of the ->assign() method does not work anymore
<pre>
$this->view
  ->assign('request', $request)
  ->assign('languages', $this->languageRepository->findActive());
</pre>

Throws error @Fatal error: Call to a member function assign() on a non-object@"
9093,TYPO3.Flow,Bug,"",Resolved,Must have,UUID generated but object is null,Scott MacDonald,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 12,2010-08-25,"",2.00,100,2010-07-30 07:32,"","",1807600,"","","An object is created via a form and the create action redirects to another action to define the view; the second action receives a null argument. 

After setting the second action to run even if it received null and running a debugger, I found that the UUID was generated and even properly appended to the URI, but the UUID refers to nothing.

[from newsgroup/mailing list]:
<pre>
I saw an earlier thread that seemed to be similar to this but there were few details and it wasn't resolved.
 
I completed the flow3 1.0.0 alpha 7 tutorial on the web site then downloaded flow3 1.0.0 alpha 10 to work on my own project. In my project, I have a Disc object in the model:
 
<?php
declare(ENCODING = 'utf-8');
namespace F3\TrackLibrary_PHP\Domain\Model;
 
/**
 * A disc
 *
 * @scope prototype
 * @entity
 */
class Disc {...
 
In DiscController.php, I have a create action and an edit action:
 
    /**
     * Creates a new disc
     *
     * @param \F3\TrackLibrary_PHP\Domain\Model\Disc $disc A fresh Disc object which has not yet been added to the repository
     * @return void
     */
    public function createAction(\F3\TrackLibrary_PHP\Domain\Model\Disc $disc) {
        $this->discRepository->add($disc);
        $this->disc = $disc;
        $this->redirect('edit', \NULL, \NULL, array('disc' => $disc));
    }
 
    /**
     * Edit a disc
     *
     * @param \F3\TrackLibrary_PHP\Domain\Model\Disc $disc
     * @return string
     */
    public function editAction(\F3\TrackLibrary_PHP\Domain\Model\Disc $disc) {...
 
The first two lines in createAction are things I put in there while debugging in order to confirm the issue. The code of editAction doesn't matter because I never get there. The problem is that the $disc argument passed to editAction is NULL. Running a debugger, I found that those first two lines of createAction don't stick: if I get rid of the argument for editAction in order to get it to execute, $this->disc is NULL and $this->discRepository is empty once I enter editAction.
 
Can anyone see what I'm doing wrong? I'm happy to provide more details, if needed.
 
Thanks,
 
Scott</pre>"
9114,TYPO3.Fluid,Bug,"",Resolved,Must have,"TemplateView - still using $viewData instead of $variables - error ""Context has to be initialized with an array, NULL given.""",Stefan Neufeind,"",2010-10-20 05:44,View,"",2010-08-02,"","",0,2010-08-02 04:55,"","",2595300,"","","Error-message is: Context has to be initialized with an array, NULL given.

This is a follow-up to the resolved bug #7053 (filed against extbase). They share in common that initialisation was not done, but the root-cause is different!

With TYPO3 v4.3.3 in sysext/extbase/Classes/MVC/View/AbstractView.php there was an initialisation of viewData to array(). With TYPO3 v4.3.4 this was renamed from viewData to variables (inside AbstractView).

However TemplateView distributed with TYPO3 v4.3.4 still relies on viewData.

Fix: Renaming this to variables makes it work again.


        protected function buildRenderingContext($variableContainer = NULL) {
                if ($variableContainer === NULL) {
                        $variableContainer = $this->objectFactory->create('Tx_Fluid_Core_ViewHelper_TemplateVariableContainer', $this->variables);"
9135,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Rejected,Won't have this time,FormViewHelper cannot get the value of DateTime,Michael Feinbier,Bastian Waidelich,2011-06-28 06:23,ViewHelpers,1.0.0,2010-08-04,"","",0,2010-08-04 11:14,"","",47600,"","","Hey,

not quite shure if i did something wrong but I think I found a misbehaviour in the @AbstractFormViewHelper@. It seems that @DateTime@-Fields are not read correctly.

My model has a property:
<pre>/**
 * Produktdatum
 * @var DateTime
 * @validate NotEmpty
 */
protected $product_date;</pre>

Now if I try to read the value of the field in a form like this:
<pre><f:form.hidden property=""warranty_date"" id=""hidden_warranty_date"" /></pre>
the *value* of the hidden form is *empty*.
The property itself is stored correctly because:
<pre>{f:format.date(date: '{newArticle.warranty_date}', format: 'd-m-Y')}</pre> written just next to the hidden form gives me the correct date.

So I think the @$this->getValue()@ in the @AbstractFormViewHelper@ is not able to determine the value of the DateTime object? Maybe it should echo the Unix-Timestamp? (@12353534)"
9136,TYPO3.Flow,Task,"",Resolved,Should have,Clean up View implementations,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:40,MVC,1.0 alpha 11,2010-08-04,"","",100,2010-08-04 13:47,"","",47650,"","","Currently there are four classes implementing F3\FLOW3\MVC\View\ViewInterface in the FLOW3 package: AbstractView, EmptyView, JsonView and NotFoundView.
Some of them don't implement the interface correctly (assign() should return an instance of $this to allow chaining).
We decided to move the assignment functionality back to the AbstractView.
Obviously the code should still only reference the interfaces.

Besides, the AbstractView needs a cleaned up as it contains a lot of unneeded methods and objects."
9143,TYPO3.Fluid,Feature,"",Resolved,Should have,Backport f:security.ifAuthenticated and f:security.ifHasRole ViewHelpers,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-08-05,"","",0,2010-08-05 04:42,"","",2595250,"","","f:security.ifAuthenticated and f:security.ifHasRole ViewHelpers should be available in v4 too.

Note: The $role attribute of the ifHasRole ViewHelper could be the fe_group:
<pre>
<f:security.ifHasRole role=""{settings.editorUserGroup}"">
  <f:link action=""edit"" />
</f:security.ifHasRole>
</pre>"
9184,TYPO3.Flow,Bug,"",Resolved,Must have,No NULL safe query method,Christian Lerrahn,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 11,2010-08-18,"","",100,2010-08-06 08:31,"","",1805300,"","","As mentioned in

http://lists.typo3.org/pipermail/flow3-general/2010-May/000367.html

there is no NULL safe query method.

However, it is often required e.g. to find objects that have no parent
or no children which is indicated by a NULL value in the respective
fields."
9210,TYPO3.Fluid,Bug,"",Rejected,Won't have this time,imageViewHelper should not throw exception,Felix Oertel,"",2011-12-14 02:52,ViewHelpers,"",2011-10-15,2011-10-15,"",0,2010-08-09 06:37,"","",2595150,"","","Hey guys,

i don't like the imageViewHelper to throw exceptions if an image is not found. it should behave like the underlying cObj::getImgResource() and just don't do anything.

regards, foertel"
9211,TYPO3.Fluid,Feature,"",Rejected,Should have,Improve ViewHelper exception handling,Bastian Waidelich,"",2011-05-06 04:32,Core,"",2010-08-09,"","",0,2010-08-09 07:17,"","",2595100,"","","Currently, if a ViewHelper throws an exception, we catch that in the corresponding ViewHelperNode and simply output the exception message.
Instead, we should handle the exception depending on the current ""context"".

E.g. if in production mode, the exception should be silently ignored (and maybe logged instead). In development context, the message should be outputtet but probably with some more informations about the current template etc.

Question: in FLOW3/TYPO3 v5 we already have the notion of contexts. In v4 we don't have that yet AFAIK. Instead we could use the ""devIPmask"" setting to switch to development context.. Any ideas?"
9214,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Closed,Must have,"Improve handling of bound properties in checkbox, radio and select ViewHelpers",Bastian Waidelich,Bastian Waidelich,2012-05-08 12:09,ViewHelpers,"",2010-08-09,"","",0,2010-08-09 08:43,"","",48050,"","","Currently the behavior for form.checkbox, form.radio & form.select ViewHelpers is not clear and leads to errors when bound to objects. See #8854 for example.

We'll have to define, what output is expected in which case to be able to properly refactor these ViewHelpers."
9244,TYPO3.Fluid,Feature,"",Resolved,Should have,Add support for subproperty and __toString() in GroupedForViewHelper,Xavier Perseguers,Jochen Rau,2012-01-29 12:06,ViewHelpers,"",2010-08-11,"","",100,2010-08-11 03:05,"","",2595050,"","","Problem 1:

I have an array of objects and I want to group them by a property being a ValueObject. The VH should ensure __toString() is called on $currentGroupKey if it's an object.


Problem 2:

I have an array of objects and I want to group them by a property of a property. Let's say we have persons that are linked to a company, I want to group them by company.name:

<pre>
<f:groupedFor each=""{persons}"" as=""personsOfCompany"" groupBy=""company.name"" groupKey=""company"">

   ...

</f:groupedFor>
</pre>"
9246,TYPO3.Flow,Feature,"",Resolved,Should have,Implement locale-aware validators,Karol Gusak,Karol Gusak,2010-10-20 05:40,Validation,1.0 alpha 11,"","","",100,2010-08-11 06:54,"","",1805250,"","",Some locale-aware validators for FLOW3 Validation subsystem should be implemented.
9296,TYPO3.Flow,Task,"",Resolved,Should have,Replace $Revision$ keyword in Bootstrap.php,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"",1.0 alpha 11,2010-08-13,"",1.00,100,2010-08-13 11:25,"","",48350,"","","This is getting hairy with git, and I doubt it would work anyway (as the recorded revision only changes when @Bootstrap.php@ is modified, which might not be the case for every change this safety net should catch)."
9313,TYPO3.Flow,Feature,"",New,Should have,Support for currencies,Karol Gusak,"",2011-12-15 11:44,I18n,"","","","",0,2010-08-15 16:14,"","",1779150,"","","Currencies should probably be handled in a special way in FLOW3. Maybe there should be a @Currency@ class which would store the decimal value and the international currency code?

This would provide a nice way to store and display money amounts."
9327,TYPO3.Flow,Feature,"",Resolved,Should have,Make the resource argument name for REST controllers configurable,Robert Lemke,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 11,2010-08-16,"","",100,2010-08-16 08:47,"","",1805200,"","","The (not yet fully functional) RestController automatically selects the appropriate action depending on the request type (GET, PUT, DELETE etc.) and if a resource was specified. By now the controller assumes that the resource for show() etc. is specified by an argument called ""id"". This is, however, old-fashioned, not really DDD compliant and unflexible.

Let's make ""resource"" the default argument name and allow developers to specify a differing name if necessary."
9356,TYPO3.Flow,Feature,"",Resolved,Could have,Implement getAccount() for the Security Context,Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 11,2010-08-18,"","",100,2010-08-18 04:32,"","",1805150,"","",The \F3\FLOW3\Security\Context could provide a convenience method for retrieving the currently logged in account.
9357,TYPO3.Flow,Bug,"",Resolved,Must have,Entry identifier needs to be sanitized in Cache\FileBackend,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 11,2010-08-18,"",1.00,100,2010-08-18 04:37,"","",1805100,"","",Currently the entry identifier is not checked at all in Cache\FileBackend.
9358,TYPO3.Flow,Bug,"",Resolved,Must have,isEmpty() in queries works only when used with logicalNot(),Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 11,2010-08-17,"",6.00,100,2010-08-18 05:01,"","",1805050,"","","When using the isEmpty() constraint against empty collections, this works only when combined with logicalNot(), due to a logical bug in the SQL used underneath."
9360,TYPO3.Flow,Bug,"",Resolved,Should have,ObjectSerializer does not detect recursion in object references,Robert Lemke,Robert Lemke,2010-10-20 05:40,Object,1.0 alpha 11,2010-08-18,"","",100,2010-08-18 07:21,"","",1805000,"","","Given the following object relations:

<pre>

		$objectA = new $className();
		$objectB = new $className();

		$objectA->child = $objectB;
		$objectB->parent = $objectA;
</pre>

On trying to serialize $objectA with serializeObjectAsPropertyArray(), the object serializer will end up in an infinite loop trying to recursively serialize the two objects."
9403,TYPO3.Flow,Bug,"",Closed,Should have,Authentication does not work,Michael Schams,Karsten Dambekalns,2010-10-20 05:40,Security,1.0 alpha 12,2010-09-02,"","",0,2010-08-22 22:26,"","",1807550,"","","After recent changes (and as far as I can see the issue occurs in alpha-11, too), user authentication with Security Framework does not work any more.

Exception #1222204027:
*Authentication failed: ""Could not authenticate any token. Might be missing or wrong credentials or no authentication provider matched.""*

Submitted data (username and password) are correct (see further information about name of input-tag below).
PHP Suhosin is active but configured to accept 128 characters for POST names (these settings worked in the past):

<pre>
suhosin.post.max_name_length = 128
suhosin.request.max_varname_length = 128
</pre>

Fluid template contains the following <input...> tag naming:

*DOES NOT WORK* (as in older FLOW3 version before revision r5005)
@F3\FLOW3\Security\Authentication\Token\UsernamePassword::username@
@F3\FLOW3\Security\Authentication\Token\UsernamePassword::password@

*DOES NOT WORK* (as in FLOW3-1.0.0-alpha11)
@F3.FLOW3.Security.Authentication.Token.UsernamePassword.username@
@F3.FLOW3.Security.Authentication.Token.UsernamePassword.password@

It also does not work if keywords are shortened (this proves that Suhosin or the length is not the issue) as follows.

*DOES NOT WORK* (< 64 characters)
@F3.FLOW3.Security.Authentication.Token.UsernamePassword.user@

(""user"" instead of ""username"" => string length 60 characters)

If I change FLOW3 core file @Packages/Framework/FLOW3/Classes/Security/Authentication/Token/UsernamePassword.php@ as follows (and naming of the input tag in Fluid templates as well) - +it works+:

Method updateCredentials()

<pre>
$username = \F3\FLOW3\Reflection\ObjectAccess::getPropertyPath($postArguments, 'username');
$password = \F3\FLOW3\Reflection\ObjectAccess::getPropertyPath($postArguments, 'password');
</pre>

Possibly a side effect of revision r5005 and/or issue #6315."
9429,TYPO3.Fluid,Feature,"",Closed,Should have,f:render section with arguments,Dieter Müller,Sebastian Kurfuerst,2011-05-06 04:32,View,"",2010-08-24,"","",0,2010-08-24 08:03,"","",2595000,"","","Why only partials can use arguments ?

I want to transfer some arguments to a sections, but i dont want to make every small peace of code a partial file. I think thats a little to much for smaller projects / templates.

Use within section makes it possible to write small ""functions"" in one templatefile."
9434,TYPO3.Fluid,Bug,"",Resolved,Should have,f:if condition does not treat integers right,Thomas Hempel,Sebastian Kurfuerst,2010-10-20 05:44,ViewHelpers,"",2010-08-24,"","",100,2010-08-24 11:10,"","",2594950,"","","if you compare a discrete value with a negativ number it will always return true.

Example:

In the controller:
<pre>
$this->view->assign('value', -1);
</pre>

In the Fluid template:
<pre>
{value}
<f:if condition=""{value} > -1"">
    <f:then>
        is greater than -1
    </f:then>
    <f:else>
        is smaller or even -1
    </f:else>
</f:if>
</pre>

The result is:
<pre>
-1 is greater than -1 
</pre>

Expected result:
<pre>
-1 is smaller or even -1
</pre>"
9436,TYPO3.Flow,Bug,"",Resolved,Should have,Package Manager doesn't check if directory Packages/Application exists,Robert Lemke,Robert Lemke,2010-10-20 05:40,Package,1.0 alpha 12,2010-08-24,"","",100,2010-08-24 11:38,"","",1807500,"","","On trying to create a new package, the package manager might fail because Packages/Application does not exist."
9444,TYPO3.Fluid,Bug,"",Closed,Should have,All Link_ActionViewHelper and Link_PageViewHelper should return no a-tag when linking to a hidden or non-existant page,Christian Zenker,Sebastian Kurfuerst,2010-10-20 05:44,"","",2010-08-25,"","",0,2010-08-25 03:42,"","",2594900,"","","Right now, if the linked-to page is hidden, deleted or has never even existed an <a>-tag with empty href is returned (effectively linking to the current page or the homescreen if baseUrl is used). This behaviour is unexpected and not compliant with the typolink object - so I would consider this a bug.

Patch is appended."
9454,TYPO3.Fluid,Bug,"",Rejected,Won't have this time,If condition in viewhelper attribute,Daniel Lienert,Adrian Föder,2012-11-14 02:51,ViewHelpers,"",2010-08-25,"","",0,2010-08-25 08:18,"","",2594850,"",FLOW3 1.0.0,"It should be possible to set an attribute in a viewhelper by an if condition.

For example i want to set the attribute onchange conditional by an object property: 
<f:form.checkBox name=""name"" value=""value"" additionalAttributes=""{f:if (condition: '{object.submitOnChange}', then: '{onchange : \'submit()\'}')}"" /> 

Fluid throws the exception: #1237900529: The argument ""additionalAttributes"" was registered with type ""array"", but is of type ""string""."
9456,TYPO3.Flow,Feature,"",Resolved,Should have,MVC arguments should be converted to their target type,Robert Lemke,Robert Lemke,2010-10-20 05:40,MVC,1.0 alpha 12,2010-08-25,"","",100,2010-08-25 10:11,"","",1807450,"","","MVC arguments are mapped from the arguments found in the HTTP request (GET / POST ...) to controller argument objects. Because the raw arguments provided by the requests are strings, they currently also end up as strings in the argument objects.

We should instead transform the arguments to their declared type if possible. As we already know the designated data type for each argument (from the annotations and type hints) that should be easily possible."
9457,TYPO3.Flow,Task,"",Rejected,Should have,Refactor type-conversion into ...Utility\TypeHandling,Sebastian Kurfuerst,Karsten Dambekalns,2012-03-14 06:30,"","",2010-08-25,"","",0,2010-08-25 10:59,"","",48800,"","","At some places througout the code, types are converted from String to specific types.
Example:
Classes/MVC/Controller/Argument.php around line 419.
and in Fluid this is done as well."
9502,TYPO3.Flow,Bug,"",Resolved,Should have,After and After Throwing advices intercept exceptions,Robert Lemke,Robert Lemke,2010-10-20 05:40,AOP,1.0 alpha 12,2010-08-30,"","",100,2010-08-30 08:28,"","",1807400,"","","Both, After and After Throwing advice, should be triggered after returning from a method or on an exception thrown by a method respectively. However, they must not intercept neither the return value nor the thrown exception. The latter is the case though.

So, currently, if one does not rethrow the exception in one's advice, the exception is swallowed by the advice. That's problematic when using AfterThrowing for logging an exception (e.g. AccessDeniedException) and forgetting about throwing the exception afterwards."
9504,TYPO3.Flow,Bug,"",Resolved,Must have,Mapping objects with collection properties fails on empty request argument,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Property,1.0 alpha 12,2010-08-30,"",1.00,100,2010-08-30 09:25,"","",1807350,"","","When an object contains a typed (non-literals only) collection property (array or Traversable) the PropertyMapper wants to fill that collection with the relevant objects. Now when a web form was used and there is nothing coming in (e.g. nothing selected in a select form element), this leads to @foreach@ being used on an empty string - which results in an error."
9514,TYPO3.Fluid,Feature,"",New,Should have,Support explicit Array Arguments for ViewHelpers,Sebastian Kurfuerst,"",2011-05-06 05:03,"","",2010-08-30,"","",0,2010-08-30 13:01,"","",2594800,"","","We have been brainstorming over some additions to fluid syntax.

* Imagine you have a ViewHelper with the following Render Method signature:
<code>function render(array $bla)</code>
* then it would be very nice if one could write the following:
<code><f:xy arr.someArrayKey=""foo"" /> // ""foo"" is not validated, as we do not have any more type information.</code>
* Additionally, one could override specific key/value pairs of array arguments:
<code><f:xy arr=""{myArray}"" arr.someArrayKey=""foo"" /> // ""foo"" is merged into {myArray}</code>

Additionally, one could register specific array keys, and validate them. Imagine the following argument registration:
<code>$this->registerArgument('foo.bar', 'boolean', REQUIRED=TRUE);</code>

* Now, it is validated that foo.bar is a boolean value, which exists; so you would know that $this->arguments['foo']['bar'] is really a boolean and it is set.

h2. What needs to be changed internally:

h3. On compile time: 

* TemplateParser->abortIfUnregisteredArgumentsExist($expectedViewHelperArguments, $argumentsObjectTree);
** if Argument name is ""bla.blubb"", check that either the argument ""bla.blubb"" or the argument ""bla"" has been explicitely registered (and ""bla"" is an array)
* TemplateParser->abortIfRequiredArgumentsAreMissing($expectedViewHelperArguments, $argumentsObjectTree);
** do not abort if ""bla.blubb"" is not registered, but ""bla"" is.

h3. On run-time: Type checking

* change validateArguments in AbstractVH
*# MERGING von ""arr.abcde"" und ""arr"" (Punkt-Syntax überschreibt)
*# VALIDIERUNG (von _allen_ regeln) -> d.h. wenn es eine Regel ""arr.abcde"" gibt, dann wird geschaut ob es diesen Array Key gibt

h2. Examples of possible usage

<f:widget.paginate objects=""{posts}"" configuration.position=""top"" configuration.itemsPerPage=""3"" configuration.linkCurrent=""false"" /> <==>
<f:widget.paginate  objects=""{posts}"" configuration=""{position: 'top', itemsPerPage: 3, linkCurrent: 'false'}"" />

h2. Shorthand Sxntax

Will work like the explicit syntax:
<code>{f:widget.paginate(objects: posts, configuration.position: 'top')}</code>

However, for Arrays, this is NOT ALLOWED:
{foo: {bar: '123'}} == {foo.bar: '123', foo: {bar: '123'}} <== this should be forbidden!

"
9515,TYPO3.Fluid,Bug,"",Resolved,Must have,"form ViewHelper does not render hidden identity field when using ""objectName"" argument",Bastian Waidelich,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-08-30,"","",100,2010-08-30 14:31,"","",2594750,"","","With resolving #6521 you can use the ""objectName"" argument to specify the name of a bound object rather then using the ""name"" attribute.
But if you do so, the rendered hidden identity field is not correct anymore"
9528,TYPO3.Flow,Feature,"",Resolved,Should have,Log remote IP address,Robert Lemke,Robert Lemke,2010-10-20 05:40,Log,1.0 alpha 12,2010-08-31,"","",100,2010-08-31 04:14,"","",1807300,"","","For certain kinds of logs and in certain situations it is helpful to log the remote address of the client using FLOW3.

The AbstractBackend could support an option ""logIpAddress"" which would be enabled or disabled through the logging backend options."
9532,TYPO3.Flow,Bug,"",Resolved,Must have,FLOW3 looses session data / tokens if scope session is used elsewhere,Robert Lemke,Robert Lemke,2010-10-20 05:40,Session,1.0 alpha 12,2010-08-31,"","",100,2010-08-31 05:26,"","",1807250,"","","In the TYPO3 package I started implementing a TYPO3-specific session class:

<pre>
/**
 * A TYPO3 Session
 *
 * @license http://www.gnu.org/licenses/gpl.html GNU General Public License, version 3 or later
 * @scope session
 */
class Session {

	/**
	 * @var \F3\PHPCR\SessionInterface
	 */
	protected $contentRepositorySession;

	/**
	 * Constructs the TYPO3 Session.
	 *
	 * This logs in at the Content Repository with the currently logged in
	 * TYPO3 user and attaches the CR's session to this TYPO3 session.
	 *
	 * @param \F3\PHPCR\RepositoryInterface $contentRepository
	 * @param \F3\FLOW3\Security\Context $securityContext
	 * @author Robert Lemke <robert@typo3.org>
	 */
	public function __construct(\F3\PHPCR\RepositoryInterface $contentRepository, \F3\FLOW3\Security\Context $securityContext) {
		$account = $securityContext->getAccount();
		$workspaceName = ($account !== NULL) ? 'user-' . $account->getAccountIdentifier() : 'live';
		$this->contentRepositorySession = $contentRepository->login(NULL, $workspaceName);
	}

	/**
	 * Returns the current content repository session, if any
	 *
	 * @return \F3\PHPCR\SessionInterface
	 * @author Robert Lemke <robert@typo3.org>
	 */
	public function getContentRepositorySession() {
	 return $this->contentRepositorySession;
	}
}
</pre>

So, essentially TYPO3 Session objects contain a reference to a CR session (which is of scope prototype) and some other objects attached to that session.

Now, when I login to the TYPO3 backend and then afterwards call a controller (in this case a Node service controller) which accesses this TYPO3 session, I loose the UsernamePassword token and therefore need to authenticate again. When I disable the @scope session of the TYPO3 Session class, I don't have to re-authenticate."
9534,TYPO3.Flow,Feature,"",Rejected,Could have,RAND as order posibility,Julian Kleinhans,"",2011-10-13 09:24,Persistence,"","","","",0,2010-08-31 06:01,"","",1779100,"","","It would be cool to have a possibilty to get randomize data.. for example

<pre>
$query = $this->createQuery();
return $query->matching($query->equals('X', $x))
             ->setOrderings(array('date' => \F3\FLOW3\Persistence\QueryInterface::ORDER_RAND))
             ->setLimit($limit)
             ->execute();
</pre>

or 

<pre>
$query = $this->createQuery();
return $query->matching($query->equals('X', $x))
             ->randomizeResult()
             ->setLimit($limit)
             ->execute();
</pre>

actually you cant randomize BEVORE the query executes, so you cant set a limit, must select all results and randomize per plain php code.. "
9536,TYPO3.Flow,Feature,"",Resolved,Should have,Improve logging of security related events,Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 12,2010-08-31,"","",100,2010-08-31 06:58,"","",1807200,"","","Security related actions and events should be logged into its own file / backend because

# they log data might be sensitive
# important information might drown in the amount of other messages

Additionally I'd like to see some hint if a user logged in or was re-authenticated due to an active token found in the session."
9537,TYPO3.Flow,Feature,"",New,Should have,Query criterions should be able to compare whole objects,Bastian Waidelich,"",2011-10-04 12:42,Persistence,"",2010-08-31,"","",0,2010-08-31 07:34,"","",1779050,"","","Currently it is not possible to exclude specific objects from a resultset by using query criterions.

Possible syntaxes:
<pre>
Query::equals(SELF, $object)
Query::equals($object)
Query::is($object)
Query::contains($object)
...
</pre>"
9538,TYPO3.Flow,Bug,"",Resolved,Should have,APC Backend test fails (flushRemovesAllCacheEntries),Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Cache,1.0 alpha 12,2010-08-31,"","",100,2010-08-31 09:14,"","",1807150,"","","On my machine the following test fails:

<pre>
Failure in flushRemovesAllCacheEntries
ApcBackendTest.php:210
BackendAPCTest1 Failed asserting that <boolean:true> is false.
</pre>
"
9539,TYPO3.Flow,Bug,"",Resolved,Must have,WebRedirect entry point does not work anymore,Robert Lemke,Robert Lemke,2010-10-20 05:40,Security,1.0 alpha 12,2010-08-31,"","",100,2010-08-31 09:49,"","",1807100,"","","Since the changed behavior of AfterThrowing advices, the RequestDispatchingAspect does not catch AuthenticationRequired exceptions anymore. Therefore the security framework does not forward to the authentication entry point - or more clearly: On hitting http://host/typo3 you'll see an exception instead of the login screen.
"
9540,TYPO3.Flow,Bug,"",Resolved,Must have,Ordering of result sets does not work,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 12,2010-08-31,"",2.00,100,2010-08-31 09:57,"","",1807050,"","","Ordering doesn't work. No errors appear, but results are in seemingly random order."
9547,TYPO3.Flow,Feature,"",Rejected,Must have,Reactivate HMAC or implement substitute,Bastian Waidelich,"",2011-01-07 05:10,Security,"",2010-09-01,"","",0,2010-09-01 05:50,"","",1779000,"","","Currently Fluid Forms still create a hidden ""__hmac"" field, but apparently that is no longer validated on the server side.
IMO we need this request hash validation to prevent CSRF (http://en.wikipedia.org/wiki/Cross-site_request_forgery) attacks.
A possible alternative solution might be to store the form fields in a request stack (#3620)"
9557,TYPO3.Flow,Bug,"",Rejected,Should have,It's possible to persist multiple entities with the same identity properties,Bastian Waidelich,Christian Müller,2012-03-14 10:19,Persistence,"",2010-09-01,"","",0,2010-09-01 13:27,"","",1809050,"",FLOW3 1.0.0,"I annotated the ""email"" property of my test model with an @identity annotation. Now I would expect the persistence layer to prevent me from storing multiple instances with the same email in a repository.
But that's not the case. Is that a (missing) feature or a bug?"
9568,TYPO3.Flow,Task,"",Resolved,Should have,Improve speed of AOP proxy building / reflection,Robert Lemke,Robert Lemke,2012-03-15 21:41,"",1.1,2010-09-02,"","",100,2010-09-02 11:24,"","",49100,"","","The process of AOP proxy building and the extensive use of relfection has slowed down FLOW3 immensely, especially in Development context.

There are several possible measures to make it faster again - on the one hand in the proxy building mechanism itself, but also in the ReflectionService.

The initialization of the AOP framework currently takes 96% of the overall script execution time (ie. 11,0145364 seconds in my test case).

We should bring this below 2 seconds for the following scenario:

  - TYPO3 base distribution
  - one change in a single class (e.g. a controller)
  - next hit should be below 2 secs."
9569,TYPO3.Flow,Bug,"",Resolved,Should have,RestController handles HEAD requests incorrectly,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,MVC,1.0 alpha 12,2010-09-02,"",1.00,100,2010-09-02 12:04,"","",1807000,"","","HEAD requests are not mapped to show/list like GET, but end up targeting the indexAction."
9585,TYPO3.Flow,Bug,"",Resolved,Should have,PDOException thrown if array contains NULL as value,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 12,2010-09-03,"","",100,2010-09-03 10:21,"","",1806950,"","","<pre>
SQLSTATE[HY000]: General error: 1 table properties_data has no column named null
10 PDO::prepare(""INSERT INTO &quot;properties_data&quot; (&quot;parent&quot;, &quot;name&quot;, &quot;index&quot;, &quot;type&quot;, &quot;null&quot;) VALUES (?, ?, ?, ?, ?)"")
9 F3\FLOW3\Persistence\Backend\GenericPdo\Backend::storePropertyData(""bc924de7-72e7-420e-9019-96fda74d1c4a"", ""contentObject"", array)
8 F3\FLOW3\Persistence\Backend\GenericPdo\Backend::setProperties(array, 1)
7 F3\FLOW3\Persistence\Backend\GenericPdo\Backend::persistObject(F3\TYPO3CR\Domain\Model\Node_AOPProxy_Development)
6 F3\FLOW3\Persistence\Backend\AbstractBackend::persistObjects()
</pre>

This happens if you try to persist an array as follows:

<pre>
   protected $myVar = array(0 => NULL);
</pre>"
9586,TYPO3.Flow,Feature,"",Resolved,Should have,"Support @var/@param type ""object""",Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 12,2010-09-03,"","",100,2010-09-03 10:24,"","",1806900,"","","Currently ""object"" is not supported as param type:

<pre>
class MyClass {

   /**
    * @var object
    */
   protected $myVar;

}
</pre>

results in exception:

<pre>
#1264093630: Invalid type encountered: 'object' 
</pre>"
9587,TYPO3.Flow,Bug,"",Rejected,Should have,ArrayObject cannot be persisted as part of an array,Robert Lemke,"",2012-03-14 07:32,Persistence,"",2010-09-03,"","",0,2010-09-03 10:31,"","",1778950,"",FLOW3 1.0.0,"I tried to persist this:

<pre>
   /**
    * @var array
    */
   protected $myVar = array();
</pre>

resulting in this error:

<pre>
Fatal error: Call to undefined method ArrayObject::FLOW3_AOP_Proxy_getProxyTargetClassName() in /opt/local/apache2/htdocs/Development/TYPO3v5/Distributions/Base/Packages/Framework/FLOW3/Classes/Persistence/Backend/GenericPdo/Backend.php on line 236
</pre>"
9625,TYPO3.Flow,Task,"",Resolved,Must have,Remove references of ObjectFactory,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Object,1.0 alpha 12,2010-09-07,"","",100,2010-09-07 06:28,"","",49600,"","",The ObjectFactory (F3\FLOW3\Object\ObjectFactory) and its interface are deprecated since alpha 8. Therefore: Remove the factory and all its reference for the next release.
9626,TYPO3.Flow,Feature,"",Resolved,Should have,Switch off autowiring for single methods via @autowiring annotation,Robert Lemke,Robert Lemke,2010-10-20 05:40,Object,1.0 alpha 12,2010-09-07,"","",100,2010-09-07 06:38,"","",1806850,"","","It would be nice to be able to switch off autowiring for certain (inject) methods and the constructor by adding an ""@autowiring off"" annotation to the respective method:

<pre>
/**
 * @param Foo $foo
 * @autowiring off
 */
public function injectFoo(Foo $foo) {
   ...
}
</pre>

It should also be possible to switch off autowiring completely for the whole class by means of an @autowiring off annotation (currently that's only possible through some configuration in the Objects.yaml)."
9627,TYPO3.Fluid,Bug,"",Resolved,Should have,Two test failures in Tx_Fluid_ViewHelpers_Persistence_IdentityViewHelperTest,Oliver Klee,"",2011-05-06 04:33,ViewHelpers,"",2010-09-07,"","",0,2010-09-07 06:41,"","",2594700,"","","Tx_Fluid_ViewHelpers_Persistence_IdentityViewHelperTest

renderGetsIdentityForObjectFromPersistenceManager
! Error in test case renderGetsIdentityForObjectFromPersistenceManager
in file /home/klee/eclipse/typo3_src/typo3/sysext/extbase/Tests/BaseTestCase.php
on line 96:
Message:
Class Tx_Fluid_ViewHelpers_Persistence_IdentityViewHelper does not exist

renderOutputsEmptyStringForNullIdentity
! Error in test case renderOutputsEmptyStringForNullIdentity
in file /home/klee/eclipse/typo3_src/typo3/sysext/extbase/Tests/BaseTestCase.php
on line 96:
Message:
Class Tx_Fluid_ViewHelpers_Persistence_IdentityViewHelper does not exist

I'm using the Fluid version from the TYPO3 V4 Core trunk."
9679,TYPO3.Flow,Bug,"",Resolved,Should have,PdoHelper fails if username / password are NULL,Robert Lemke,Robert Lemke,2010-10-20 05:40,Persistence,1.0 alpha 12,2010-09-10,"","",100,2010-09-10 06:46,"","",1806800,"","","By default the username and password passed to the PDO backend are NULL because SQLite does not need a username / password in our case.

The recent refactoring in the static object container now detects that NULL is passed to the PDO backend but a string is expected:

<pre>
#1283859777: Tried to create instance of class F3\FLOW3\Utility\PdoHelper without passing constructor argument $user in Packages/Framework/FLOW3/Classes/Persistence/Backend/GenericPdo/Backend.php line 122
</pre>

This error is triggered when no Objects.db exists and the backend tries to create one.
"
9684,TYPO3.Flow,Bug,"",Resolved,Should have,Datamapper fails to thaw reused objects if in certain order,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 12,2010-09-10,"","",100,2010-09-10 12:40,"","",1806750,"","","Consider the following properties of an entity:

<pre>
	/**
	 * Paths of this workspace, indexed by nodes
	 *
	 * @var \SplObjectStorage
	 */
	protected $nodesAndPaths;

	/**
	 * Nodes of this workspace, indexed by their absolute path
	 *
	 * @var array<\F3\TYPO3CR\Domain\Model\Node>
	 */
	protected $pathsAndNodes = array();
</pre>

If I put a Node object into both containers at the same time, it works if the properties are defined in the above order but it does not if they are defined the other way around."
9707,TYPO3.Flow,Bug,"",Resolved,Must have,Switching autowiring off breaks production context,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Object,1.0 alpha 12,2010-09-13,"","",100,2010-09-13 09:31,"","",1806700,"","","Phoenix exhibits a bug introduced with https://review.typo3.org/57 in commit:e8e03d9f that leads to an UnresolvedDependencyInjection on all but the first requests:
@Uncaught exception #1283859777. Tried to create instance of class F3\FLOW3\Cache\CacheFactory without passing constructor argument $objectManager in  Packages/Framework/FLOW3/Classes/Core/Bootstrap.php line 367. in line 1294 of .../StaticObjectContainer.php.@
"
9709,TYPO3.Flow,Feature,"",Resolved,Should have,Allow ordering to be customizable (more easily) in repositories,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 12,"","","",100,2010-09-13 12:15,"","",1806650,"","","When using findAll() or findBy*() the order of the result cannot be customized without writing your own methods to inject the ordering.

It should be possible to define the (default) ordering to be used in your repository subclass by some easy way."
9710,TYPO3.Flow,Task,"",Resolved,Must have,Refactor QueryResultProxy behaviour,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Persistence,1.0 alpha 12,"","","",100,2010-09-13 12:20,"","",50000,"","","The following seems reasonable:
* rename @QueryResultProxy@ to @QueryResult@
* get rid of @FETCH_*@ and have @execut()@e always return @QueryResult@
* add @QueryResult->getFirst()@ (or similar) to replicate FETCH_OBJECT
* add @toArray()@ (or similar) to @QueryResult@ to ease @iterator_to_array()@ hassle

Hint: inject @DataMapper@ and @PersistenceManager@ to @QueryResult@ to get actual data there instead of through no-loger-existing-FETCH_ARRAY..."
9768,TYPO3.Fluid,Feature,"",Closed,Should have,Idea: Connector to use fluid templates for ###MARKER### based extensions,Jonas Felix,"",2011-05-06 04:33,"","",2010-09-16,"","",0,2010-09-16 09:43,"","",2594650,"","","Imagine:
1.) You install an oldschool extension as comments
2.) You insert the plugin and use the extension as you did it always
3.) You create your own template for the extension with fluid and not with the oldschool .html ###MARKER_BASED###
4.) The TYPO3 built in ###TEMPLATE-CLASS### recognizes the fluid template and instead of replacing markers it collects the marker and suppart data to assign it to the template:
- You get all supparts as an array containing the markers of that supparts as an array
- You get the markers as an array
- You can use them and list them within your fluid extensions
5.) You don't have to change a single line within the comments pi1 php code

How:
- makeitfluid extension xclasses the TYPO3 Template classes, checks if it is fluid or HTML and just uses the regular templating if it's HTML
- it just tries to collect the data and parse the template as fluid if it is fluid :-)
- the extension would need some very special index to remember which subparts and markers belong to which fluid template, and it will be quite difficult to asure that the extension gets the correct HTML code in every constellation
- the makeitfluid extension does everything in the background so no extension has to be changed at all, also fluid or the core don't need any changes :-P

Why:
- Fluid puts the need to change PHP aside in moste cases!
- If you have a fluid template you can perfectly customize and exten existing extensions without any modfication to it selfe.
- You could easily load the commerce module to show a product within an mm_forum post wihtout change the PHP code of one of those extensions!!!
- A lot of oldschool extensions are great, but their templating sucks....

This is of course not something to be put directly into the FLUID extension, but it's a connector extension and maybe you are interessted in such a solution..."
9805,TYPO3.Fluid,Bug,"",Rejected,Must have,"Code mismatch in ""FormViewHelper.php""?!",Gabriel Kaufmann,"",2011-05-06 03:59,ViewHelpers,"",2010-09-17,"","",0,2010-09-17 12:18,"","",2594600,"","","Hello,

I just found this code, after trying to figure out the PHP-Error
<pre>
Fatal error: Call to a member function reset() on a non-object in /[..]/typo3_src-4.4.2/typo3/sysext/fluid/Classes/ViewHelpers/FormViewHelper.php on line 167
</pre> 

<pre>
Looking into that file there is the following code:
00165                            $uriBuilder = $this->controllerContext->getUriBuilder();
00166                            $formActionUri = $uriBuilder
00167                                     ->reset()
00168                                     ->setTargetPageUid($this->arguments['pageUid'])
00169                                     ->setTargetPageType($this->arguments['pageType'])
</pre>


Please note the missing variables in front of the class-functions ""->"" and the missing semicolon. I don't think this can be right - or I missed a change in the PHP-core allowing such things.

The problem appears after trying to use the ""<f:form>[..]<f:/form>"" tag in a fluid-template. Without using this tags, the template works just fine. So i think this is a bug.
"
9855,TYPO3.Flow,Bug,"",Resolved,Should have,Recursive validators cannot be built due to endless recursion,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Validation,1.0 alpha 12,2010-09-20,"","",100,2010-09-20 17:47,"","",1806600,"","","When the ValidatorResolver tries to build a baseValidatorConjunction for a class that has a reference to itself, endless recursion is the result."
9861,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Leave logging up and running as long as possible,Karsten Dambekalns,"",2012-03-15 05:53,Log,"","","","",0,2010-09-21 09:38,"","",1778900,"","","Currently the shutdown phase can/does shut down logging before the request run ends, thus leaving some messages out of the log."
9862,TYPO3.Flow,Bug,"",Resolved,Must have,Base validators are built incorrectly,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Validation,1.0 alpha 12,2010-09-21,"","",100,2010-09-21 10:38,"","",1806550,"","","When a base validator is built, any property that
* has a @validate annotations
* or holds a class for which a base validator exists
gets a validator attached. Then any custom validator for a class is added.

Currently this is not working as expected. Consider this example:
<pre>
class Node {

	/**
	 * Workspace this node is contained in
	 *
	 * @var \F3\TYPO3CR\Domain\Model\Workspace
	 */
	protected $workspace;

	/**
	 * Identifier of this node which is unique within its workspace
	 *
	 * @var string
	 * @validate uuid
	 */
	protected $identifier;
</pre>

This will check the $identifier to be an UUID and it will also check validity on $workspace (if the validator for that is not NULL). But if the uuid validation annotation is removed the $workspace property will no longer be validated as well."
9874,TYPO3.Flow,Bug,"",Resolved,Must have,Recursive validators cannot be used (endless recursion),Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Validation,1.0 alpha 12,2010-09-22,"","",100,2010-09-22 03:25,"","",1806500,"","",A validator that is checking recursive structures ends up in an endless loop when being used.
9901,TYPO3.Flow,Bug,"",Resolved,Must have,"Respect ""toLowerCase"" setting in SubRoutes",Bastian Waidelich,Bastian Waidelich,2010-10-20 05:40,MVC - Routing,1.0 alpha 12,2010-09-24,"","",100,2010-09-24 04:03,"","",1806450,"","","You can force a route to be all lowercase like this:
<pre>
-
  uriPattern: 'foo'
  toLowerCase: yes
</pre>
But currently this setting is not merged into the SubRoutesConfiguration."
9950,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,New,Should have,Binding to nested arrays impossible for form-elements,Christian Opitz,"",2011-10-19 19:48,ViewHelpers,"",2010-09-27,"","",0,2010-09-27 17:57,"","",51800,"","","I want to bind my form to an array with variable nested arrays. I already extended form and set the formName to ---ignore--- to trigger the objectAccessor-Mode - works so far. Now all names are generated perfectly but there is a useless check in getPropertyValue() that makes it impossible to get a value of sth. like
<pre>
<fh:form object=""{gp}"" fieldNamePrefix=""gp"">
    <f:textfield property=""bla.blubb""/>
</form>
<!-- Which renders to: -->
<form...>
    <input type=""text"" name=""gp[bla][blub]""/>
</form>
</pre>

The value can not be detected because there is a check for array in ""AbstractFormFieldViewHelper"":http://forge.typo3.org/projects/package-fluid/repository/revisions/master/entry/Classes/ViewHelpers/Form/AbstractFormFieldViewHelper.php#L152 on line 152.

As far as i can see this check is useless as the Tx_Extbase_Reflection_ObjectAccess::getPropertyPath($formObject, $propertyName); can handle arrays too. So i would be very happy, if you could remove it :)
"
9954,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong path for created package used,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,Package,1.0 alpha 12,2010-09-28,"",1.00,100,2010-09-28 01:48,"","",1806400,"","","<pre>
karsten@kmac:flow3  (master)$ ./flow3 kickstart package Blog
+ .../Packages/ApplicationBlog/Classes/Controller/StandardController.php
+ ...mplates/Standard/Index.html

karsten@kmac:flow3  (master)$ ls -d Packages/*
Packages/Application		Packages/ApplicationBlog	Packages/Framework
</pre>"
9956,TYPO3.Fluid,Feature,"",Rejected,Could have,Allow updating of view-variables,Robert Vock,"",2011-05-06 04:00,ViewHelpers,"",2010-09-28,"","",0,2010-09-28 03:16,"","",2594500,"","","It would be nice, if it is possible to update variables within views.

Working with the AliasViewHelper, I got an error ""Duplicate variable declarations"", because I was using the same name.

But when I want to output a tree and render a section recursively, it would be nice to update variables.

For example code like this could work:
<pre>
<f:section name=""tree"">
  <ul>
    <f:for each=""{entries}"" as=""entry"">
    <li>
      {entry.name}
      <f:if condition=""{entry.hasChildren}"">
        <f:then>
          <f:alias map=""{entries: entry.getChildren}"">
            <f:render section=""tree"" />
          </f:alias>
        </f:then>
      </f:if>
    </li>
    </f:for>
  </ul>
</f:section>
</pre>"
9967,TYPO3.Flow,Bug,"",Resolved,Should have,PerstenceQueryRewriting fails if there is an policy entry that does not result in rewriting constraints,Andreas Förthner,Andreas Förthner,2010-10-20 05:40,Security,1.0 alpha 12,2010-09-28,"","",100,2010-09-28 10:11,"","",1806350,"","",""
9968,TYPO3.Flow,Feature,"",New,Should have,Promote security publishing configuration automatically when persisting models,Andreas Förthner,Andreas Förthner,2013-12-09 16:03,Security,"",2010-09-28,"","",0,2010-09-28 11:11,"","",1778850,"","","When we persist a model that holds a file, we should be able to configure its needed publishing configuration in the policy. The can be done on the basis of securit resource, as shown in the following example:

<pre>
SecurityPublishingConfiguration:
  F3_Blog_Domain_Model_Post_HiddenPosts:
    fileProperty: image
    publishingConfiguration:
      roles: [ Editor, Administrator ]
      expireDate: 2h
</pre>

This would add a publishing configuration with roles and an expire date to all file objects that are attached to posts that match the F3_Blog_Domain_Model_Post_HiddenPosts security resource (entity resource identifier). "
10136,TYPO3.Flow,Bug,"",Resolved,Must have,Localisation class possibly not properly initialised,Christian Lerrahn,Karsten Dambekalns,2010-10-20 05:40,I18n,1.0 alpha 13,2010-10-07,"","",100,2010-10-06 20:52,"","",1808300,"","","The context this bug occurs in is one of a manually validated object. The code is

@$validator = $this->validatorResolver->getBaseValidatorConjunction('F3\Package\Domain\Model\Asset');
if ($validator->isValid($currentAsset)) {...@

This results in an exception
@#1: Catchable Fatal Error: Argument 2 passed to F3\FLOW3\I18n\Parser\NumberParser::parseDecimalNumber() must be an instance of F3\FLOW3\I18n\Locale, null given,...@

If I'm not mistaken the class is never properly initialised. The initialize() method is supposed to create the object which is NULL here but fails to do so.
"
10180,TYPO3.Flow,Bug,"",Resolved,Should have,Text of exception in StringCache,Steffen Kamper,Karsten Dambekalns,2010-11-08 05:30,Cache,1.0 alpha 13,2010-10-10,"","",100,2010-10-10 06:30,"","",1808250,"","","to be synced it would be nice if you change the text in flow3 too.

In v4 we changed the exception message from

'Only strings can be digested by the StringCache. Thanks.'

to

'Given data is of type ""' . gettype($string) . '"", but a string is expected for string cache.'

"
10181,TYPO3.Flow,Bug,"",Resolved,Should have,"""Source"" at the end of a paragraph saying nothing",Tim Eilers,Karsten Dambekalns,2010-10-20 05:40,- Documentation -,1.0 alpha 13,2010-10-10,"","",100,2010-10-10 09:17,"","",1808200,"","","In the documentation of the coding guidelines (AppendixCodingGuidelines.xml) there is the word ""Source"" standing at the end of a paragraph, which is a kind of senseless, at least to me:

<pre>
        <para>As a special exception you may use variable names like
        <varname>$i</varname>, <varname>$j</varname> and <varname>$k</varname>
        for numeric indexes in <function>for</function> loops if it's clear
        what they mean on the first sight. But even then you should want to
        avoid them... Source</para>
</pre>"
10185,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong rule in Coding Guidelines for file naming,Tim Eilers,Karsten Dambekalns,2010-10-20 05:40,- Documentation -,1.0 alpha 13,2010-10-10,"","",100,2010-10-10 14:11,"","",1808150,"","","Either this is a special exception or simply wrong:

<pre>
                <listitem>
                  <para><filename>FLOW3/Package/Manager.php</filename></para>
                  <para>Contains the class
                  <classname>\F3\FLOW3\Package\PackageManager</classname>
                  which is part of the package
                  <package>\F3\FLOW3</package></para>
                </listitem>
</pre>

Shouldn't the filename be ""PackageManager.php"" or the class name ""\F3\FLOW3\Package\Manager""?"
10205,TYPO3.Flow,Bug,"",Resolved,Must have,Object initialization is misused in I18n,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,I18n,1.0 alpha 13,2010-10-11,"",2.00,100,2010-10-11 17:14,"","",1808100,"","","initializeObject() takes no parameters (other than the initialization cause), thus I18n cannot work."
10206,TYPO3.Flow,Bug,"",Resolved,Must have,Cache handling is broken in I18n,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,I18n,1.0 alpha 13,2010-10-11,"",2.00,100,2010-10-11 17:15,"","",1808050,"","",Cache identifiers used (XML file names) are illegal and caching is spread over too many classes without real need. Configuration can be improved by better naming (and possibly cache sharing).
10251,TYPO3.Fluid,Bug,"",Resolved,Should have,Image ViewHelper does not call parent::__construct,Michael Knoll,Bastian Waidelich,2010-10-20 05:44,ViewHelpers,"",2010-10-14,"","",100,2010-10-14 06:29,"","",2594400,"","","Image Viewhelper does not call parent::__construct() and hence no additionalAttributes can be assigned to viewhelper.

Version is 1.3.0alpha2"
10312,TYPO3.Flow,Feature,"",Rejected,Should have,Autogenerate setters and getters,Falk Kühnel,"",2012-03-12 13:28,"","",2010-10-18,"","",0,2010-10-18 05:24,"","",1778800,"","","I like the synthesize functionality from objective-c to autogenerate setters and getters for properties.

Would you think it useful to have such a feature for properties in FLOW3? I would like to simply add a @synthesize comment to autogenerate setters and getters in the proxy class. No functions will be generated if the corresponding function already exists.

I personally would love that feature and it would help to have a much less cluttered code."
10316,TYPO3.Flow,Task,"",Resolved,Should have,Check CldrModelCollection::getRawArray() for correct behaviour,Karsten Dambekalns,Karol Gusak,2010-10-29 04:00,I18n,1.0 alpha 13,"","","",100,2010-10-18 11:02,"","",55300,"","","The CldrModelCollection::getRawArray() method is supposed to always return an array, but sometimes the given path leads to a literal value. http://review.typo3.org/175 adds some fix for this to avoid an error in those cases, but this needs to be check in detail."
10341,TYPO3.Flow,Bug,"",Resolved,Should have,DateTime properties cannot be persisted,Robert Lemke,Robert Lemke,2010-10-25 10:00,Object,1.0 alpha 13,2010-10-19,"","",100,2010-10-19 09:22,"","",1808000,"","","Using the Blog application with FLOW3 1.0.0 alpha 12 results in an exception when trying to create a new blog post:

<pre>
#1265367590: Object ""DateTime"" is not registered. (More information)

F3\FLOW3\Object\Exception\UnknownObjectException thrown in file
Packages/Framework/FLOW3/Classes/Object/Container/AbstractObjectContainer.php in line 267.
</pre>

The reason for this is that the validation framework tries to figure out if DateTime has the scope prototype (because it wouldn't create a validator for it otherwise). However, DateTime is not a registered object at the Object Manager. The check for prototype was introduced while solving #9862.

The solution is to pre-register (certain) built-in PHP classes, such as DateTime. I'm not sure at this point for which other classes it would make sense, therefore this is just about fixing the DateTime behavior."
10343,TYPO3.Flow,Task,"",Resolved,Should have,Sync rounding default value from NumbersParser to NumbersReader,Karsten Dambekalns,Karsten Dambekalns,2010-10-26 04:30,I18n,1.0 alpha 13,2010-10-19,"","",100,2010-10-19 15:37,"","",55600,"","","The default rounding changed from 0 to 0.0 in NumberParser, it should probably also be changed in NumbersReader (in the default number formatting array structure)."
10360,TYPO3.Flow,Feature,"",Resolved,Should have,Make option handling in persistence backends more flexible,Karsten Dambekalns,Karsten Dambekalns,2010-10-25 11:45,Persistence,1.0 alpha 13,2010-10-21,"",1.00,100,2010-10-21 02:09,"","",1807950,"","","I would not skip NULL values in all cases, but only of no setter exists. That way you can set existing settings to NULL. For non-existant setters a warning could be logged (at least in dev context), so you have a chance to notice errors."
10401,TYPO3.Fluid,Bug,"",Resolved,Should have,f:link.external viewHelper should prepend http:// when needed,Christine Gerpheide,Bastian Waidelich,2011-08-04 02:12,ViewHelpers,1.0 beta 1,2010-10-22,"","",100,2010-10-22 12:09,"","",2594350,"","","The link.external viewhelper should add http:// if there is no other protocol present in the URI provided.

Currently, if you add a link like:
<f:link.external uri=""www.google.com"">...</f:link.external>

It will render as:
<a href=""http://mytypo3site.com/www.google.com"">...</a>

Which is obviously not correct as this is an external link.  For such links, http:// should be prepended to the URL when using this viewHelper."
10427,TYPO3.Flow,Feature,"",Resolved,Should have,Support inter-type properties for entites,Martin Eisengardt,"",2012-03-12 13:34,AOP,"","","","",0,2010-10-25 06:44,"","",1778750,"","","AspectJ defines inter-type properties. Flow3 is not using the syntax right now.

*Reason why we need this feature:*
Let us say you want to develop a module that lets you vote on several entites. You do not want to let the module know which types of entities you are voting on. Instead use aspects to extend the entites. First of all each entity will implement a ""Votable"" interface. That is already possible. The second task is to introduce variables in form of a simple counter ""good/bad"". Now you got a problem because currently the persistence framework asks the class service for the class scheme. They will never see those new variables and will never make them persistent.

There will be other use cases where you need to introduce persistent variables into entites. However non-persistent variables are already supported through AOP_Proxy::getProperty/setProperty.

*AspectJ*
Taken from http://www.eclipse.org/aspectj/doc/released/progguide/starting-aspectj.html#inter-type-declarations
<pre>aspect PointObserving {
    private Vector Point.observers = new Vector();
    ...
}</pre>

That example would be translated in PHP/FLOW3 to:
<pre>/**
 * @aspect
 */
class MyAspect {

    private Point::$observers;

}</pre>

Thats not clever because this syntax causes compile errors in php.

*Possible syntax*

<pre>/**
 * @aspect
 */
class MyAspect {

    /**
     * @intertype class(Point), private
     * @var array
     */
    protected $MyAspect_Observers;

}</pre>

The ""intertype"" tag followed by the full qualified target class name (or a pattern) and optional an access level (private/protected/public) will cause the aop framework to add this variable declaration tro the target class. If an interface is specified the variable will be added to each class implementing the interface. It should be possible to use introduces as well. The following aspect whould add the variable $observers to class FooClass:

<pre>/**
 * @aspect
 */
class MyAspect {

    /**
     * @introduces FooInterface, class(FooClass)
     */
    protected $fooInterface;

    /**
     * @intertype class(FooInterface), private
     * @var array
     */
    protected $$MyAspect_Observers;

}</pre>

*Possible problems:*

The above syntax is compatible to php but it may be misleading. Implementors or aspects may expect that ""$this->MyAspect_Observers"" is working. That will not be true. As before you need to access the intertype variable through:
<pre>$joinPoint->getProxy()->FLOW3_AOP_Proxy_getProperty
$joinPoint->getProxy()->FLOW3_AOP_Proxy_setProperty</pre>


"
10428,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong Namespace scope when using PhpFrontend,Robert Lemke,Robert Lemke,2010-10-25 08:00,Cache,1.0 alpha 13,2010-10-25,"","",100,2010-10-25 07:24,"","",1807900,"","","The <pre>__halt_compiler()</pre> instruction in combination with the require mechanism used by the PhpFrontend can cause classes originally being in a global scope to be loaded in the namespace of the last class which has been loaded by the PhpFrontend.

This seems to be a bug in PHP, but until now we were not able to isolate it and write a separate exploit."
10472,TYPO3.Fluid,Feature,"",New,Could have,Fluid Standalone distribution,Bastian Waidelich,"",2012-10-16 09:17,Core,"",2010-10-26,"","",0,2010-10-26 10:14,"","",2594300,"","","Create a script that extracts a Fluid version from the current trunk that is usable without TYPO3.
This means, that all dependencies to TYPO3 or Extbase functions have to be worked-around or moved to the distribution."
10486,TYPO3.Flow,Bug,"",Resolved,Must have,Validation for multiple validators and nested objects broken,Karsten Dambekalns,Christopher Hlubek,2010-10-27 15:00,Validation,1.0 alpha 13,2010-10-27,"","",100,2010-10-27 14:55,"","",1807850,"","","Currently the validation is seriously broken for nested objects and with multiple validators with different options.

The validators were ""created"" as singletons and options are overwritten each time the same validator type was used.

Additionally the check for ""prototype"" should use the constant and not a string to work."
10516,TYPO3.Flow,Bug,"",Closed,-- undefined --,F3\FLOW3\Package\Exception\UnknownPackageException thrown in file PackageManager.php,Martin Eisengardt,"",2010-12-13 10:24,- Error Handler Report -,"",2010-10-28,"","",100,2010-10-28 08:55,"","",1778700,"","","This problem only occurs once under windows vista. Seems that some component is misbehaving/misusing he windows directory separator. It only occurs with empty data/temporary directory. Adding the following code in F3\FLOW3\Resource\Streams\ResourceStreamWrapper, line 499 to change windows style backslash to slash solved the problemfor me. Of course there should be a smarter fix.
$requestedPath = str_replace('\\', '/', $requestedPath);



Package ""FLOW3\Private"" is not available. Please note that package keys are case sensitive.
10 F3\FLOW3\Package\PackageManager::getPackage(""FLOW3\Private"")
9 F3\FLOW3\Resource\Streams\ResourceStreamWrapper::evaluateResourcePath(""resource://FLOW3\Private"")
8 F3\FLOW3\Resource\Streams\ResourceStreamWrapper::pathStat(""resource://FLOW3\Private"", 3)
7 F3\FLOW3\Resource\Streams\StreamWrapperAdapter::url_stat(""resource://FLOW3\Private"", 3)
6 RecursiveDirectoryIterator::hasChildren()
5 F3\FLOW3\I18n\Service::generateAvailableLocalesCollectionByScanningFilesystem()
4 F3\FLOW3\I18n\Service::initialize()
3 F3\FLOW3\Core\Bootstrap::initializeI18n()
2 F3\FLOW3\Core\Bootstrap::initialize()
1 require(""D:\Dev\ws\bghosting_website\com_bghosting_flow3_de?wkflow3\Packages\Framework\FLOW3\Scripts\FLOW3.php"")

"
10524,TYPO3.Flow,Feature,"",Closed,-- undefined --,Support multiple package directories,Martin Eisengardt,"",2012-05-15 09:39,"","",2010-10-29,"","",0,2010-10-29 03:50,"","",1778650,"","","Currently I have trouble developing several seperated modules. To test them each module must either be starting at the local Packages/<something> folder or must contain a copy/reference to the whole framework. That's blowing up my eclipse workspace.

Flow3 should support (at least during development) the directory structure:
<pre>
/workspace-root/framework-project/Packages/Framework/DocumentationBrowser ...
/workspace-root/framework-project/Packages/Framework/ExtJS ...
/workspace-root/framework-project/Packages/Framework/FLOW3 ...
/workspace-root/framework-project/Packages/Framework/FLUID ...
[etc....]
/workspace-root/my-project/Configuration...
/workspace-root/my-project/Data...
/workspace-root/my-project/Packages/MyLib/MyModuleName...
/workspace-root/my-project/Web/index.php
/workspace-root/another-project/Configuration...
/workspace-root/another-project/Data...
/workspace-root/another-project/Packages/MyLib/MyModuleName...
/workspace-root/another-project/Web/index.php
</pre>

** Benefits from this structure
- Eclipse does only have to manage the framework components once
- There is no need to prepare a more complex layout over svn/git
- There may be other use cases where multiple projects are joined together to create an application

** Changes that need to be made
The changes are simple.
1) The defines FLOW3_PATH_CONFIGURATION and FLOW3_PATH_DATA need to be overwritten by htaccess environment variables. Currently Bootstrap does declare them depending on FLOW3_ROOTPATH. In the directory layout above the configuration and data directories are part of the project and not part of the flow3 root.
2) (already possible) FLOW3_ROOTPATH will be set in the htaccess.
3) A new (but optional) environment variable/define FLOW3_PATH_PACKAGES_ADDITIONAL will contain a list of additional directories where to find packages. htacces or the index.php script will have to declare the directories where to find the additional package directories. This will cause the following changes in PackageManager:

<pre>
	/**
	 * Scans all directories in the packages directories for available packages.
	 * For each package a \F3\FLOW3\Package\ object is created and returned as
	 * an array.
	 *
	 * @return void
	 * @author Robert Lemke <robert@typo3.org>
	 */
	protected function scanAvailablePackages() {
		$this->packages = array('FLOW3' => $this->objectManager->create('F3\FLOW3\Package\Package', 'FLOW3', FLOW3_PATH_FLOW3));
	
		$this->scanPathForPackages(FLOW3_PATH_PACKAGES);
		if (defined('FLOW3_PATH_PACKAGES_ADDITIONAL')) {
		    foreach (explode(';', FLOW3_PATH_PACKAGES_ADDITIONAL) as $path) {
		        $this->scanPathForPackages($path);
		    }
		}
		
		foreach (array_keys($this->packages) as $upperCamelCasedPackageKey) {
			$this->packageKeys[strtolower($upperCamelCasedPackageKey)] = $upperCamelCasedPackageKey;
		}
	}
	
	/**
	 * Scans a directory for packages.
	 * 
	 * some of the code was taken from flow3
	 * 
	 * @param string $path
	 * 
	 * @throws \F3\FLOW3\Package\Exception\DuplicatePackageException
	 */
	protected function scanPathForPackages($path)
	{
	    foreach (new \DirectoryIterator($path) as $parentFileInfo) {
			$parentFilename = $parentFileInfo->getFilename();
			if ($parentFilename[0] === '.' || !$parentFileInfo->isDir()) continue;

			foreach (new \DirectoryIterator($parentFileInfo->getPathname()) as $childFileInfo) {
				$childFilename = $childFileInfo->getFilename();
				if ($childFilename[0] !== '.' && $childFilename !== 'FLOW3') {
					$packagePath = \F3\FLOW3\Utility\Files::getUnixStylePath(realpath($childFileInfo->getPathName())) . '/';
					if (isset($this->packages[$childFilename])) {
						throw new \F3\FLOW3\Package\Exception\DuplicatePackageException('Detected a duplicate package, remove either ""' . $this->packages[$childFilename]->getPackagePath() . '"" or ""' . $packagePath . '"".', 1253716811);
					}
					$this->packages[$childFilename] = $this->objectManager->create('F3\FLOW3\Package\Package', $childFilename, $packagePath);
				}
			}
		}
	}
</pre>
"
10539,TYPO3.Flow,Feature,"",Resolved,Should have,Add real inheritance and alias support for CLDR data,Karol Gusak,Karol Gusak,2010-11-26 09:15,I18n,"",2010-10-29,"","",100,2010-10-29 14:30,"","",1778600,"","","CLDR uses concept of ""Locale inheritance"":http://www.unicode.org/reports/tr35/#Locale_Inheritance and ""aliases"":http://www.unicode.org/reports/tr35/#Common_Elements. As for now, the alias resolving and inheritance support are simplified greatly. This should be done before any new I18n features will be added, as changes in the internal parsed data structure are likely."
10595,TYPO3.Flow,Bug,"",Rejected,Should have,ObjectManager should not allow injection of prototypes,Bastian Waidelich,Robert Lemke,2011-08-04 02:41,Object,1.0 beta 1,2010-11-02,"","",0,2010-11-02 09:57,"","",1810800,"","","Currently it is possible to inject prototypes like:
<pre>
public function injectTagBuilder(\F3\Fluid\Core\ViewHelper\TagBuilder $tagBuilder) {
	$this->tagBuilder = $tagBuilder;
}
</pre>
This leads to some unexpected side effects especially when used in *singletons*.
IMO we should prevent this and throw a meaningful exception stating that you need to inject the object manager in order to create prototype instances."
10669,TYPO3.Flow,Bug,"",Closed,Should have,"Login session not ""cleared"" when creating new admin (security framework related?)",Soren Malling,"",2011-03-30 15:11,Security,"",2010-11-08,"","",0,2010-11-08 03:23,"","",1778550,"","","Hi,

Sorry if this one should go into the TYPO3 package - if so, please move it :)

On ""latest.phoenix.typo3.org"" I got the possibility of deleting the main/home page. If I do so, I get the page ""Welcome to TYPO3"" where I can click the ""Enter setup"" link.

Clicking that link, makes it possible to import a new package and create a new admin user. I did so, and entered a new value to the ""password"" field. My user was created and/but my login session was still valid, meaning I could edit content with the admin user having ""wrong"" credentials. 

Logging out and try to login with the admin/password combination didn't give me access, until I used the newly entered combination.

I might expect, that me changing(/creating a new and clearing current?) admin user credentials, should in some way make my session invalid, as it is not the same admin user object? Is this correctly understood? Should this be considered a bug?"
10678,TYPO3.Flow,Bug,"",New,Must have,ReflectionService doesn't reflect methods of child classes correctly when they get reflected before their parent class in the initialization process,Florian Kugler,"",2011-10-21 07:20,Reflection,"",2010-11-08,"","",0,2010-11-08 10:46,"","",1778500,"",FLOW3 1.0.0,"ReflectionService::reflectClass() calls $this->convertParameterReflectionToArray() to reflect the parameters of a method which in turn calls $this->getMethodTagsValues() to retrieve the type hint for the parameter.
However, if a child class gets reflected in the initialization process of ReflectionService before its parent class got reflected, the type hint information for parameters of inherited methods is not detected.

ReflectionService::convertParameterReflectionToArray() tries to retrieve the type hint from the reflection information of the declaring (in this case: parent) class by calling 

$methodTagsAndValues = $this->getMethodTagsValues($method->getDeclaringClass()->getName(), $method->getName());

If the declaring class did not get reflected until this point ReflectionService::getMethodTagsValues() returns an empty array.  

getMethodTagsValues() only calls reflectClass() on a not yet reflected class it is queried about if the initialization process of the ReflectionService is already finished, because of this statement:
if ($this->initialized === TRUE && !isset($this->reflectedClassNames[$className])) $this->reflectClass($className);


For me removing the $this->initialized === TRUE condition in getMethodTagsValues() solved the problem. But I'm not sure if it might brake things somewhere else!?"
10680,TYPO3.Flow,Feature,"",Resolved,Should have,Implement Content Negotiation Support,Robert Lemke,Robert Lemke,2010-11-08 16:30,MVC,1.0 alpha 13,2010-11-08,"","",100,2010-11-08 11:17,"","",1807800,"","","There is now a use case for content negotiation in FLOW3:

For most requests, content negotiation based on the Accept HTTP header does not make sense because most browsers don't send meaningful information in them (some browsers for example say that they prefer ""XML"" over ""HTML"" which the user of course doesn't). However, for REST services it is a handy feature to control the output format by sending a respective Accept header. In some cases this might even be the only way to control the format, for example how else would you GET a resource ""http://myhost/customers/"" in different formats?

A proper implementation could work like this:

* if a format is defined through a @format property in the matching route, this format is used
* if no format has been defined by the route, the Accept header will be analyzed and compared with a list of supported formats by the controller. If another format than ""HTML"" is accepted by the client and the controller supports it, this format is chosen. If no other accepted format matches the supported formats, HTML is used."
10687,TYPO3.Flow,Bug,"",Resolved,Should have,@subpackage cannot be unset when rendering URIs,Robert Lemke,Robert Lemke,2010-11-09 04:45,MVC - Routing,1.0 alpha 13,2010-11-08,"","",100,2010-11-08 17:25,"","",1807750,"","","The UriBuilder's behavior is that if no controller, package, subpackage etc. are specified to the uriFor() method, the _current_ controller, package etc. are used.

That turns out to become a problem if one would like to link from a controller within a subpackage to a controller without a subpackage namespace part: specifying an empty subpackage is recognized as ""not specified"" and results in use of the _current_ subpackage.

A possible fix is to only use the _current_ subpackage if neither a package nor a subpackage have been specified. If only a package but no subpackage is passed to uriFor(), an empty subpackage key should be assumed."
10701,TYPO3.Flow,Bug,"",Closed,Must have,F3\FLOW3\Persistence\Exception thrown in file DataMapper.php,Christian Lerrahn,Karsten Dambekalns,2011-12-15 12:02,Persistence,"",2010-11-10,"","",0,2010-11-10 02:01,"","",1778450,"",FLOW3 1.0.0,"I get the following exception when trying to render a view of my model. The model is very similar to another model
which works. I can't see any structural difference between the views, either.

What is going wrong here? Is this a problem in Fluid or in FLOW3? I can't even tell. :(

I'm sorry if the information I'm providing is not sufficient. Please ask if you need more specific information.

@The object of type ""F3\UtilityMeterReconciliation\Domain\Model\Meter"" is not marked as lazy loadable.
74 F3\FLOW3\Persistence\DataMapper::mapToObject(array)
73 F3\FLOW3\Persistence\DataMapper::mapToObjects(array)
72 F3\FLOW3\Persistence\QueryResult::initialize()
71 F3\FLOW3\Persistence\QueryResult::rewind()
70 F3\Fluid\ViewHelpers\ForViewHelper::render(F3\FLOW3\Persistence\QueryResult, ""meter"", """", boolean, NULL)
69 call_user_func_array(array, array)
68 F3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod(array)
67 F3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender(array)
66 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate(F3\Fluid\Core\Rendering\RenderingContext)
65 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(F3\Fluid\Core\Rendering\RenderingContext)
64 F3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
63 F3\Fluid\ViewHelpers\FormViewHelper::render(""csv"", array, ""Meter"", NULL, NULL, NULL, """", """", array, boolean, boolean, array, NULL, NULL, NULL)
62 call_user_func_array(array, array)
61 F3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod(array)
60 F3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender(array)
59 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate(F3\Fluid\Core\Rendering\RenderingContext)
58 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(F3\Fluid\Core\Rendering\RenderingContext)
57 F3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
56 F3\Fluid\Core\ViewHelper\AbstractConditionViewHelper::renderThenChild()
55 F3\Fluid\ViewHelpers\IfViewHelper::render(boolean)
54 call_user_func_array(array, array)
53 F3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod(array)
52 F3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender(array)
51 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate(F3\Fluid\Core\Rendering\RenderingContext)
50 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(F3\Fluid\Core\Rendering\RenderingContext)
49 F3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
48 F3\Fluid\ViewHelpers\SectionViewHelper::render()
47 call_user_func_array(array, array)
46 F3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod(array)
45 F3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender(array)
44 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate(F3\Fluid\Core\Rendering\RenderingContext)
43 F3\Fluid\View\AbstractTemplateView::renderSection(""contentRight"", array)
42 F3\Fluid\ViewHelpers\RenderViewHelper::render(""contentRight"", NULL, array)
41 call_user_func_array(array, array)
40 F3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod(array)
39 F3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender(array)
38 F3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode::evaluate(F3\Fluid\Core\Rendering\RenderingContext)
37 F3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(F3\Fluid\Core\Rendering\RenderingContext)
36 F3\Fluid\Core\Parser\SyntaxTree\RootNode::evaluate(F3\Fluid\Core\Rendering\RenderingContext)
35 F3\Fluid\Core\Parser\ParsingState::render(F3\Fluid\Core\Rendering\RenderingContext)
34 F3\Fluid\View\AbstractTemplateView::render()
33 F3\FLOW3\MVC\Controller\ActionController::callActionMethod()
32 F3\UtilityMeterReconciliation\Controller\Meter\MeterController_AOPProxy_Development::callActionMethod()
31 call_user_func_array(array, array)
30 F3\UtilityMeterReconciliation\Controller\Meter\MeterController_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
29 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
28 F3\FLOW3\Security\Aspect\PolicyEnforcementAspect::enforcePolicy(F3\FLOW3\AOP\JoinPoint)
27 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
26 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
25 F3\UtilityMeterReconciliation\Controller\Meter\MeterController_AOPProxy_Development::callActionMethod()
24 F3\FLOW3\MVC\Controller\ActionController::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
23 F3\UtilityMeterReconciliation\Controller\Meter\MeterController_AOPProxy_Development::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
22 call_user_func_array(array, array)
21 F3\UtilityMeterReconciliation\Controller\Meter\MeterController_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
20 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
19 F3\FLOW3\Security\Aspect\PolicyEnforcementAspect::enforcePolicy(F3\FLOW3\AOP\JoinPoint)
18 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
17 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
16 F3\UtilityMeterReconciliation\Controller\Meter\MeterController_AOPProxy_Development::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
15 F3\FLOW3\MVC\Dispatcher::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
14 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
13 call_user_func_array(array, array)
12 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
11 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
10 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(F3\FLOW3\AOP\JoinPoint)
9 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
8 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
7 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::initializeSecurity(F3\FLOW3\AOP\JoinPoint)
6 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
5 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
4 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
3 F3\FLOW3\MVC\Web\RequestHandler::handleRequest()
2 F3\FLOW3\Core\Bootstrap::run()
1 require(""/home/umr_test/FLOW3-1.0.0-alpha12-build42/Packages/Framework/FLOW3/Scripts/FLOW3.php"")@"
10718,TYPO3.Flow,Bug,"",Resolved,Must have,Content security: query rewriting fails if no other constraints are set on the query,Florian Kugler,Karsten Dambekalns,2010-11-15 05:15,Security,1.0 alpha 13,2010-11-10,"","",100,2010-11-10 13:14,"","",1807700,"","","The query rewriting aspect fails if the policy constraint is the only constraint on the query.

In @PersistenceQueryRewritingAspect::rewriteQomQuery()@ the policy constraint is added to the query by:
<pre>if ($additionalCalculatedConstraints !== NULL) {
    $newConstraints = $query->logicalAnd($query->getConstraint(), $query->logicalNot($additionalCalculatedConstraints));
    $query->matching($newConstraints);
}</pre>

However, if @$query->getConstraint()@ returns NULL the call of logicalAnd() fails.

This is my quick fix:

<pre>if ($query->getConstraint() !== NULL) {
    $newConstraints = $query->logicalAnd($query->getConstraint(), $query->logicalNot($additionalCalculatedConstraints));
} else {
    $newConstraints = $query->logicalNot($additionalCalculatedConstraints);
}</pre>
"
10821,TYPO3.Fluid,Feature,"",Resolved,Should have,add possibility to output FlashMessageQueue,Tolleiv Nietsch,Bastian Waidelich,2010-11-30 11:13,ViewHelpers,"",2010-11-15,"","",0,2010-11-15 16:55,"","",2594200,"","","It seems that there's no way to output the FlashMessageQueue in a extbase driven be-module.

The attached patch adds a simple ViewHelper which outputs the queue.

It would be good if this could be included into 4.5 beta1 because I'd like to make use of it within the new workspace module.
"
10882,TYPO3.Fluid,Bug,"",Closed,Should have,PaginateViewHelper got wrong example,Georg Ringer,Bastian Waidelich,2010-11-18 07:00,ViewHelpers,"",2010-11-17,"","",70,2010-11-17 01:37,"","",2594150,"","","The example of the PaginateViewHelper is outdated. 
Would be nice to have a working example"
10902,TYPO3.Fluid,Bug,"",Resolved,Must have,Paginate widget produces exception with too high offset,Georg Ringer,Bastian Waidelich,2010-11-18 08:11,ViewHelpers,"",2010-11-17,"","",100,2010-11-17 09:02,"","",2594100,"","","If the offset is too high, an exception is thrown. This neeeds to be avoided as this can happen if there are old links (from search engines, shared links, ...).

example: 
itemsPerPage:3 and 7 records and [__widget_0][currentPage]=4

solution would be to show either the results as if no offset is set or the last pages, including a redirect or at least the correct headers

"
10908,TYPO3.Fluid,Bug,"",Resolved,Should have,Fix and cleanup inline documentation of ViewHelpers,Georg Ringer,Bastian Waidelich,2010-12-30 12:19,ViewHelpers,"",2010-11-17,"","",100,2010-11-17 11:47,"","",2594050,"","","some more cleanups to viewhelpers where the examples in the comments doesn't fit the actual code.

as using fluid should be as easy as possible, copy&past must work out of the box"
10911,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,New,Should have,Tx_Fluid_ViewHelpers_Form_AbstractFormViewHelper->renderHiddenIdentityField should be more reliable,Patrick Schriner,"",2011-09-30 06:29,ViewHelpers,"",2010-11-17,"","",0,2010-11-17 13:25,"","",62950,"","","(Poor title)

<pre><code class=""php"">
$name = $this->prefixFieldName($name) . '[__identity]';
</code></pre>

The problem with this line is that if this lookup resorts to an empty string, fluid will fail during a security check:

<pre><code class=""php"">
#1255072832: The form field name ""[__identity]"" is invalid. Reason: ""[]"" used not as last argument. 

Tx_Extbase_Security_Exception_InvalidArgumentForRequestHashGeneration thrown in file W:\TYPO3Winstaller\htdocs\Dummy\typo3\sysext\extbase\Classes\Security\Channel\RequestHashService.php in line 94.
</code></pre>

I'm pretty sure that a mistake of mine led to renderHiddenIdentityField behaving this way, yet I don't see the point in creating misleading & invalid output."
10929,TYPO3.Flow,Bug,"",Closed,-- undefined --,F3\FLOW3\Package\Exception\UnknownPackageException thrown in file PackageManager.php,Nys ,"",2010-12-13 10:23,- Error Handler Report -,"",2010-11-18,"","",100,2010-11-18 07:18,"","",1778400,"","","Package ""FLOW3\Private"" is not available. Please note that package keys are case sensitive.
10 F3\FLOW3\Package\PackageManager::getPackage(""FLOW3\Private"")
9 F3\FLOW3\Resource\Streams\ResourceStreamWrapper::evaluateResourcePath(""resource://FLOW3\Private"")
8 F3\FLOW3\Resource\Streams\ResourceStreamWrapper::pathStat(""resource://FLOW3\Private"", 3)
7 F3\FLOW3\Resource\Streams\StreamWrapperAdapter::url_stat(""resource://FLOW3\Private"", 3)
6 RecursiveDirectoryIterator::hasChildren()
5 F3\FLOW3\I18n\Service::generateAvailableLocalesCollectionByScanningFilesystem()
4 F3\FLOW3\I18n\Service::initialize()
3 F3\FLOW3\Core\Bootstrap::initializeI18n()
2 F3\FLOW3\Core\Bootstrap::initialize()
1 require(""D:\Programme\xampp\htdocs\FLOW3\Packages\Framework\FLOW3\Scripts\FLOW3.php"")

Please include more helpful information!"
10975,TYPO3.Fluid,Bug,"",Resolved,Should have,Deprecation message about lowercase template files names suggest lowercase file name,Oliver Klee,Bastian Waidelich,2011-01-11 15:58,View,"",2010-11-19,"","",0,2010-11-19 11:46,"","",2594000,"","","This is what the error messages looks like in Fluid 1.3.0a3:


09-11-10 12:57: the template filename ""<extension-path>/Resources/Private/Templates/CareerGadget/build.html"" is lowercase. This is deprecated since TYPO3 4.4. Please rename the template to ""build.html""

The attached patch changes two things in both places that are relevant:

# make the suggested new name upper-first
# change the wording to make it clear this is about two variants of camelCase, not about all-lowercase."
11007,TYPO3.Fluid,Bug,"",Closed,Must have,PaginateController uses wrong offset,Georg Ringer,"",2011-05-06 04:35,Widgets,"",2010-11-22,"","",80,2010-11-22 07:32,"","",2593950,"","","The PaginateController doesn't work with an offset set in the original query.

Example:
7 news records should be displayed with an offset of 2 (explanation could be that the 1st 2 records are rendered with a different plugin). itemsPerPage = 3

1st page should show:
item 4
item 5
item 6
2nd page should show
item 7
-------------------------

currently output is:
1st page:
item 4
item 5
item 6
2nd page:
item 4
item 5
item 6
3rd page:
item 7

------------------------

the possible offset of the query is not checked."
11017,TYPO3.Flow,Bug,"",Resolved,Should have,Using a method visibility inside a pointcut throws an exception,Christopher Hlubek,Christopher Hlubek,2010-11-24 06:00,AOP,1.0 alpha 14,2010-11-23,"","",100,2010-11-23 04:34,"","",1809000,"","","FLOW3 throws an Exception if a pointcut like this is registered.

<pre>
/**
 * Advice for logging service requests
 *
 * @param \F3\FLOW3\AOP\JoinPointInterface
 * @return void
 * @after method(public F3\Foo\Service\.*Service->[a-z].*())
 */
public function logServiceRequest(\F3\FLOW3\AOP\JoinPointInterface $joinPoint) {
}
</pre>

Without ""public"" the pointcut works but it will match non-public methods.

<pre>
15 ReflectionClass::__construct("""")


Packages/Framework/FLOW3/Classes/Reflection/ClassReflection.php:

00042:   */
00043:  public function __construct($className) {

00044:   parent::__construct($className);

00045:  }
00046: 


14 F3\FLOW3\Reflection\ClassReflection::__construct("""")


Packages/Framework/FLOW3/Classes/Reflection/ReflectionService.php:

00836:   $this->log('Reflecting class ""' . $className . '"" (' . ($this->initialized ? '' : 'not ') . 'initialized)', LOG_DEBUG);
00837: 

00838:   $class = new \F3\FLOW3\Reflection\ClassReflection($className);

00839:   $this->reflectedClassNames[$className] = time();
00840: 


13 F3\FLOW3\Reflection\ReflectionService::reflectClass("""")


Packages/Framework/FLOW3/Classes/Reflection/ReflectionService.php:

00552:  public function isMethodPublic($className, $methodName) {
00553:   $className = trim($className, '\\');

00554:   if (!isset($this->reflectedClassNames[$className])) $this->reflectClass($className);

00555:   return (isset($this->methodVisibilities[$className][$methodName]) && $this->methodVisibilities[$className][$methodName] === ' ');
00556:  }


12 F3\FLOW3\Reflection\ReflectionService::isMethodPublic(NULL, ""__construct"")


Packages/Framework/FLOW3/Classes/AOP/Pointcut/PointcutMethodNameFilter.php:

00100:   switch ($this->methodVisibility) {
00101:    case 'public' :

00102:     $visibilityMatches = $this->reflectionService->isMethodPublic($methodDeclaringClassName, $methodName);

00103:    break;
00104:    case 'protected' :


11 F3\FLOW3\AOP\Pointcut\PointcutMethodNameFilter::matches(""F3\CouchDB\EntityByParentIdentifierView"", ""__construct"", NULL, 102)


Packages/Framework/FLOW3/Classes/AOP/Pointcut/PointcutFilterComposite.php:

00084:    list($operator, $filter) = $operatorAndFilter;
00085: 

00086:    $currentFilterMatches = $filter->matches($className, $methodName, $methodDeclaringClassName, $pointcutQueryIdentifier);

00087:    $currentRuntimeEvaluationsDefintion = $filter->getRuntimeEvaluationsDefinition();
00088: 


10 F3\FLOW3\AOP\Pointcut\PointcutFilterComposite::matches(""F3\CouchDB\EntityByParentIdentifierView"", ""__construct"", NULL, 102)


Packages/Framework/FLOW3/Classes/AOP/Pointcut/PointcutFilterComposite.php:

00084:    list($operator, $filter) = $operatorAndFilter;
00085: 

00086:    $currentFilterMatches = $filter->matches($className, $methodName, $methodDeclaringClassName, $pointcutQueryIdentifier);

00087:    $currentRuntimeEvaluationsDefintion = $filter->getRuntimeEvaluationsDefinition();
00088: 


9 F3\FLOW3\AOP\Pointcut\PointcutFilterComposite::matches(""F3\CouchDB\EntityByParentIdentifierView"", ""__construct"", NULL, 102)


Packages/Framework/FLOW3/Classes/AOP/Pointcut/Pointcut.php:

00112:   }
00113: 

00114:   return $this->pointcutFilterComposite->matches($className, $methodName, $methodDeclaringClassName, $pointcutQueryIdentifier);

00115:  }
00116: 


8 F3\FLOW3\AOP\Pointcut\Pointcut::matches(""F3\CouchDB\EntityByParentIdentifierView"", ""__construct"", NULL, 102)


Packages/Framework/FLOW3/Classes/AOP/Builder/ProxyClassBuilder.php:

00294:      if ($this->reflectionService->isMethodFinal($targetClassName, $methodName)) continue;
00295: 

00296:      if ($pointcut->matches($targetClassName, $methodName, $methodDeclaringClassName, $pointcutQueryIdentifier)) {

00297:       $advice = $advisor->getAdvice();
00298:       $interceptedMethods[$methodName]['groupedAdvices'][get_class($advice)][] = $advice;


7 F3\FLOW3\AOP\Builder\ProxyClassBuilder::addAdvicedMethodsToInterceptedMethods(array, array, ""F3\CouchDB\EntityByParentIdentifierView"", array)


Packages/Framework/FLOW3/Classes/AOP/Builder/ProxyClassBuilder.php:

00145: 
00146:   $interceptedMethods = array();

00147:   $this->addAdvicedMethodsToInterceptedMethods($interceptedMethods, array_merge($methodsFromTargetClass, $methodsFromIntroducedInterfaces), $targetClassName, $aspectContainers);

00148:   $this->addIntroducedMethodsToInterceptedMethods($interceptedMethods, $methodsFromIntroducedInterfaces);
00149:   if (count($interceptedMethods) < 1 && count($introducedInterfaces) < 1) return FALSE;


6 F3\FLOW3\AOP\Builder\ProxyClassBuilder::buildProxyClass(""F3\CouchDB\EntityByParentIdentifierView"", array, ""Development"")


Packages/Framework/FLOW3/Classes/AOP/Framework.php:

00244: 
00245:    foreach ($dirtyTargetClassNames as $targetClassName) {

00246:     $proxyBuildResult = $this->proxyClassBuilder->buildProxyClass($targetClassName, $this->aspectContainers, $this->objectManager->getContext());

00247:     if ($proxyBuildResult !== FALSE) {
00248:      $this->targetAndProxyClassNames[$targetClassName] = $proxyBuildResult['proxyClassName'];

</pre>"
11028,TYPO3.Fluid,Bug,"",Closed,Should have,Output of domain and property validator error messages performs always an default error,Armin Ruediger Vieweg,"",2011-05-06 04:35,"","",2010-11-23,"","",0,2010-11-23 12:28,"","",2593900,"","","Hello guys,

I've seen a strange error with validators and its error messages.

When a domain validator and a property validator has been triggered at the same time, the output shows a third error which is basicly located in _Tx_Extbase_Validation_PropertyError_:
<pre>1242859509: Validation errors for property ""title""</pre>

The solution to hide this needless error was an if-condition in fluid-template, but this seems to be very dirty:

<pre>
<f:form.errors for=""myFormname"">
	<f:for each=""{error.errors}"" as=""errorDetail"">
			<f:translate key=""...{errorDetail.code}"" default=""...{errorDetail.message}"" /><br />
	</f:for>
</f:form.errors>

<f:form.errors>
	<f:for each=""{error.errors}"" as=""errorDetail"">
		<f:if condition=""{errorDetail.code} != 1242859509"">
			<f:translate key=""...{errorDetail.code}"" default=""...{errorDetail.message}"" /><br />
		</f:if>
	</f:for>
</f:form.errors>
</pre>

If you ask why there are two @<f:form:errors />@: This is because property error messages and domain error messages must have an seperatly output.

Maybe I'm wrong and there exists a very much more elegant solution, but if not, then it seems to be an error that the default error 1242859509 gets displayed.

Kind Regards"
11034,TYPO3.Flow,Task,"",Resolved,Should have,Remove AbstractXmlModel and AbstractXmlParser from I18n package,Karol Gusak,Karsten Dambekalns,2011-12-21 06:37,I18n,1.1 beta 1,2010-11-23,"","",100,2010-11-23 17:51,"","",63650,"","","The @AbstractXmlModel@ is a base class for XML models, but it's not very useful as it is only extended by @CldrModel@ and @XliffModel@ which don't have much in common. So removing the abstract class will simplify the code. The same goes for @AbstractXmlParser@ class."
11035,TYPO3.Flow,Task,"",Closed,Should have,Divide supported locales into two categories,Karol Gusak,Karsten Dambekalns,2012-05-21 10:40,I18n,1.1,2010-11-23,"","",0,2010-11-23 17:57,"","",63700,"","","There should be two types of locales supported by I18n package. One collection of Locale object would represent a group of locales fully supported by the system (e.g. locales for which translation files and other localized resources are available) - as it is now. The other category would consist of all locales supported by CLDR itself. There should be possibility to use functionality based on CLDR data (like number formatting, parsing etc) for locales which does not belong to the first category (the ""fully supported"" locales)."
11039,TYPO3.Flow,Bug,"",Needs Feedback,Must have,Static object container injects properties to result of factory object,Christopher Hlubek,"",2012-03-14 08:41,"","",2010-11-24,"","",0,2010-11-24 05:08,"","",1778350,"",FLOW3 1.0.0,"If a factoryObjectName is set for an object, the dependencies of the default implementation are injected to the result of the factory anyway (the factory already returns a complete object). A workaround is to set the className to an implementation that doesn't have dependencies.

If a factoryObjectName is configured, there should be no further injection on the result because the type is unknown beforehand."
11056,TYPO3.Flow,Bug,"",Resolved,Should have,findOneBy*() methods should return NULL if no item was found,Bastian Waidelich,Robert Lemke,2010-12-17 08:00,Persistence,1.0 alpha 14,2010-11-24,"","",100,2010-11-24 13:54,"","",1808950,"","","Currently all findOneBy*() methods of repositories return FALSE, if no records where found. As discussed this should be changed to NULL as done in Extbase (see #10958)."
11091,TYPO3.Kickstart,Bug,"",Resolved,Should have,Missing curly bracket on class statement,Michael Klapper,Karsten Dambekalns,2010-12-21 04:00,"",1.0 alpha 14,2010-11-26,"",1.00,100,2010-11-26 05:46,"","",2740650,"","","The generated class looks like:

<pre>
...

/**
 * A repository for TaskLists
 *
 * @package GTasks
 * @subpackage Domain
 * @license http://www.gnu.org/licenses/gpl.html GNU General Public License, version 3 or later
 */
class TaskListRepository extends \F3\FLOW3\Persistence\Repository 
?>
</pre>"
11101,TYPO3.Fluid,Bug,"",Resolved,Should have,Pagination widget creates incorrect absolute URLs,Martin Helmich,Bastian Waidelich,2010-12-02 13:29,Widgets,"",2010-11-26,"","",100,2010-11-26 10:52,"","",2593850,"","","Currently, the paginate widget creates absolute URLs. However, if your TYPO3 is installed in a subdirectory of the document root, this is apparently not respected when generating the URLs.

So, the widget creates URLS like

http://localhost/index.php... instead of
http://localhost/xyz/index.php

Is there actually any reason to use absolute URLs instead of relative ones?

Problem occurs with version 1.3.0beta1a.

Best regards,
Martin Helmich"
11122,TYPO3.Fluid,Bug,"",Closed,Should have,Doc comments for render method not work with tabs,Tomas Majer,Karsten Dambekalns,2012-03-07 15:57,Core,"",2010-11-29,"","",0,2010-11-29 03:27,"","",2593800,"",FLOW3 1.0.0,"There are problem with tabs in doc comments in render method. Fluid crash with exception:

@#1242292003: could not determine type of argument ""text"" of the render-method in ViewHelper ""Tx_My_ViewHelpers_MyViewHelper"". Either the methods docComment is invalid or some PHP optimizer strips off comments.@

Example:
<pre>/**
 * @param	string	$text
 * @return	string
 * @api
 */
public function render($text) {}</pre>"
11169,TYPO3 Flow Base Distribution,Story,"",Resolved,Should have,Implement new operator support,Robert Lemke,Robert Lemke,2011-05-06 03:24,"",1.0 beta 1,"","","",40,2010-11-30 09:15,"","",1766200,0.00,"","Refactor FLOW3 so that the PHP ""new"" operator can be used instead of  ObjectManager->create()"
11207,TYPO3.Flow,Bug,"",Resolved,Must have,Fatal error when PHPUnit is not installed,Bastian Waidelich,Karsten Dambekalns,2010-12-13 10:19,- Testing -,1.0 alpha 14,2010-12-01,"","",100,2010-12-01 07:39,"","",1808900,"","","PHPUnit and vfs(stream) are no longer included with the FLOW3 distribution.
But still, the core relies on those libraries.
Running FLOW3 without the respective PEAR packages installed, PHP dies with a fatal error:
<pre>
Fatal error: require_once() [function.require]: Failed opening required 'PHPUnit/Autoload.php'
</pre>

IIRC the plan is to get rid of the dependency (as long as you don't want to run the unit tests of course).
But anyways, the fatal error should be avoided by checking for the existence of the required PEAR packages IMO"
11240,TYPO3.Flow,Bug,"",Resolved,Must have,Set UNIX_PATHS flag when using RecursiveDirectoryIterator,Bastian Waidelich,Bastian Waidelich,2010-12-13 10:31,I18n,1.0 alpha 14,2010-12-02,"","",100,2010-12-02 12:07,"","",1808850,"","","Currently FLOW3 breaks on Windows, because the I18n service uses the RecursiveDirectoryIterator without setting the 2nd argument to @RecursiveDirectoryIterator::UNIX_PATHS@ in order to use the forward slash as directory separator.
Usually that wouldn't matter, cause PHP file functions accept Windows style paths as well. For paths that use the ""resource"" scheme though, this breaks as the ResourceStreamWrapper gets a path like ""MyPackage\Foo\Bar"" and fails to extract the package key from that.
One solution would be, to call @\F3\FLOW3\Utility\Files::getUnixStylePath()@ on the given path in the stream wrapper.
But specifying the UNIX_PATHS flag is probably the faster solution."
11286,TYPO3.Fluid,Feature,"",Closed,Could have,Alternative syntax for fluid objects inside JavaScript,Fernando Arconada,Bastian Waidelich,2012-11-26 09:53,Core,"",2010-12-05,"","",0,2010-12-05 05:05,"","",2593750,"","",Fluid objects in the way of tags and braces are uncomfortable inside javascript code cause fluid syntax conflicts with JS syntax. So will be great to have a syntax like ##object.property## or what you like that doesnt conflicts
11330,TYPO3.Flow,Bug,"",Resolved,Should have,Uploading resources fails on windows due to a missing directory,Andreas Förthner,Karsten Dambekalns,2010-12-20 15:32,Resource,1.0 alpha 14,2010-12-08,"","",100,2010-12-08 07:27,"","",1808800,"","","If the directory Data/Persisten/Resources is not present on windows (which is the default currently), the uploading doesn't work.

Solution: Either deliver the file in the distributions or create during runtime."
11349,TYPO3.Flow,Bug,"",Resolved,Must have,Request format is not resolved for POST requests,Bastian Waidelich,Bastian Waidelich,2010-12-20 10:41,MVC,1.0 alpha 14,2010-12-09,"","",100,2010-12-09 06:05,"","",1808750,"","","In @\F3\FLOW3\MVC\Controller\ActionController::detectFormat()@ the default format for an action is resolved but there is a switch statement missing for method POST.
Usually that has no effect, cause you normally redirect to another action in POST actions, but it's a bug nevertheless."
11392,TYPO3.Flow,Bug,"",Closed,Should have,No proxy class code exception after clearing temporary data in development context,Christopher Hlubek,Karsten Dambekalns,2011-03-21 07:04,AOP,"",2010-12-10,"","",0,2010-12-10 14:53,"","",1778300,"","","I get occasional exceptions on first access after clearing temporary data in development context:

<pre>
#1229362833: No proxy class code for class ""F3\FLOW3\Core\Bootstrap_AOPProxy_Development"" found in cache.
</pre>"
11421,TYPO3.Flow,Feature,"",Resolved,Should have,Allow linking of resources directories for mirror mode link,Karsten Dambekalns,Christopher Hlubek,2010-12-14 15:00,Resource,1.0 alpha 14,2010-12-12,"","",100,2010-12-13 09:09,"","",1808700,"","","For static resources full directories could be linked instead of single files, to speed up the bootstrap."
11428,TYPO3.Flow,Feature,"",Resolved,Could have,Add performance profiling support,Karsten Dambekalns,Christopher Hlubek,2013-08-14 10:09,Core,"",2010-12-11,"","",0,2010-12-13 10:14,"","",1808650,"","","Add support for performance profiling, e.g. using XHProf http://pecl.php.net/package/xhprof"
11443,TYPO3.Flow,Feature,"",Resolved,Should have,Implement igbinary support,Robert Lemke,Robert Lemke,2010-12-14 16:00,Cache,1.0 alpha 14,2010-12-14,"","",100,2010-12-14 08:43,"","",1808600,"","","From http://opensource.dynamoid.com/ :
_""Igbinary is a drop in replacement for the standard PHP serializer. Instead of time and space consuming textual representation, igbinary stores PHP data structures in a compact binary form. Savings are significant when using memcached or similar memory based storages for serialized data.""_

We should support igbinary and take advantage of it if it is installed."
11526,TYPO3.Flow,Bug,"",Resolved,Must have,NULL values for single values not stored correctly,Karsten Dambekalns,Karsten Dambekalns,2010-12-17 10:00,Persistence,1.0 alpha 14,2010-12-16,"",1.00,100,2010-12-16 16:14,"","",1808550,"","","NULL values in multivalues are handled correctly, but for single values the type is not set to NULL as it should be.

One effect of this is that isEqual(..., NULL) doesn't work reliably."
11594,TYPO3.Flow,Bug,"",Resolved,Must have,Configuration manager throws exception in production context,Karsten Dambekalns,Karsten Dambekalns,2010-12-21 04:30,Configuration,1.0 alpha 14,2010-12-20,"",1.00,100,2010-12-20 07:58,"","",1808500,"","",""
11597,TYPO3.Kickstart,Bug,"",Resolved,Should have,"When used in the Phoenix distributon, an exception is thrown (RenderingContext)",Karsten Dambekalns,Karsten Dambekalns,2010-12-21 04:00,"",1.0 alpha 14,2010-12-20,"","",100,2010-12-20 10:14,"","",2740600,"","","Uncaught Exception in FLOW3 #1264584588: Object ""F3\Fluid\Core\Rendering\RenderingContextInterface"" is not registered (or an interface without default implementation).
"
11621,TYPO3.Flow,Bug,"",Resolved,Should have,Fatal error in ObjectManagerTest,Bastian Waidelich,Bastian Waidelich,2010-12-21 07:30,- Testing -,1.0 alpha 14,2010-12-21,"","",100,2010-12-21 04:55,"","",1808450,"","","When running the FLOW3 testrunner, in about 20% of the cases I'm getting a fatal error ""Cannot redeclare class [XYZ]"" where [XYZ] is a mock class name like ""BarClass4d107922cd5f8"".
The reason is probably, that we're using @uniqid()@ to create the class names, which seems - at least on windows - not to be as unique as it should be.."
11636,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Resolved,Should have,Form viewhelper not functional with method GET,Daniel Lienert,Christopher Hlubek,2013-10-21 14:15,ViewHelpers,"",2010-12-22,"","",100,2010-12-22 01:18,"","",67800,"","","If the GET-method is used, only the url from action is passed to the server, but not the paramaters given there like pageId, controller, action.

These fields should be added as hidden fields in the form."
11659,TYPO3.Flow,Bug,"",Closed,Should have,VariableFrontend tests fail if igbinary php module is active,Christian Kuhn,Karsten Dambekalns,2011-07-25 09:30,Cache,1.0 beta 1,2010-12-22,"","",0,2010-12-22 17:22,"","",1810750,"","","All tests which use a direct serialize() of a given input fail, if igbinary php module is running.

This is because the tests expect that the returned strings are serialized() with the standard php method, but they are in fact serialized by igbinary_serialize().

Todo: Fix all tests in VariableFrontend which use serialize() and take care of igbinary."
11660,TYPO3.Fluid,Feature,"",Closed,Should have,Universal tag attributes do not allow other javascript events than onclick,Nico de Haen,"",2011-05-06 04:37,"","",2010-12-23,"","",0,2010-12-23 02:13,"","",2593700,"","","It should be possible to add events like onblur, onfocus etc. without the need to write an new TagViewHelper. 
Or allow something like
<pre>
 eventHandler=""{onclick:'doThis()',onfocus:'doThat()'}""
</pre>

whish is more generic but has the disadvantage that it's not a valid HTML tag attribute.
"
11683,TYPO3.Flow,Task,"",Resolved,Should have,symlink() is not working on Windows XP,Irene Höppner,Robert Lemke,2011-08-05 11:05,Core,1.0 beta 1,2010-12-24,"","",100,2010-12-24 02:35,"","",68200,"","","That means, that the requirements since alpha14 are Windows Vista, Server 2008 or greater (http://de.php.net/manual/en/function.symlink.php).
Maybe this should be mentioned somewhere in the documentation? Or at some more distinguished place?
Happy Christmas! :-)
"
11740,TYPO3.Fluid,Feature,"",Closed,Should have,Paginate viewhelper should be possible to handle non-query-result objects,Armin Ruediger Vieweg,"",2012-05-03 09:34,Widgets,"",2010-12-27,"","",0,2010-12-27 05:08,"","",2593650,"","","Hello,

sometimes it is necessary to use an object storage or an array instead of an query result. If this is the case, it is not possible to use the default paginate viewhelper anymore, cause it is requiering a _Tx_Extbase_Persistence_QueryResultInterface_.

I've copied the widget and changed it to work with array. This is my *indexAction* of *PaginateController*:
<pre>
	public function indexAction($currentPage = 1) {
		// set current page
		$this->currentPage = (integer)$currentPage;
		if ($this->currentPage < 1) {
			$this->currentPage = 1;
		} elseif ($this->currentPage > $this->numberOfPages) {
			$this->currentPage = $this->numberOfPages;
		}

		$i = 0;
		$itemsPerPage = (integer)$this->configuration['itemsPerPage'];
		$modifiedObjects = array();
		$indexMin = $itemsPerPage * ($this->currentPage - 1);
		$indexMax = $itemsPerPage * $this->currentPage - 1;

		foreach ($this->objects as $object) {
			if ($i >= $indexMin && $i <= $indexMax ) {
				$modifiedObjects[] = $object;
			}
			$i++;
		}

		$this->view->assign('contentArguments', array(
			$this->widgetConfiguration['as'] => $modifiedObjects
		));
		$this->view->assign('configuration', $this->configuration);
		$this->view->assign('pagination', $this->buildPagination());
	}
</pre>

Of cause you would have to remove the requirement of _Tx_Extbase_Persistence_QueryResultInterface_ in *PaginateViewHelper* (Line 76 and 71) and *PaginateController* (Line 34) too.

This example is for arrays only, but if you make a check of the objecttype you can consolidate the support of queryResults (current) and arrays (this code example).

And it is relatively less work."
11749,TYPO3.Flow,Bug,"",Closed,Should have,to long database tablenames,Alexander Wende,Karsten Dambekalns,2011-03-21 07:01,Persistence,1.0 beta 1,2010-12-27,"","",0,2010-12-27 14:45,"","",1810700,"","","Hi,
I work in some projects with extbase and now I have a problem with the Flow3 conversion - so I post it in the Flow3 bugtracker.
In one of the projects I work with a complex domainmodell with many objects. 
The objects are named in german because it doesn't make sense to translate technicals terms.
In some cases the name of the mysql tables is too long. MySQL tablenames haves a limitation of 64 characters. But this is not only a MySQL problem. Oracle tablenames has to be shorter then 31 characters.
Because of the flow3 conversion of tablenames this is a generell problem. But if flow3 should be indepentend of the uses database this problem should be solved. With extbase I change the mapping manual, but that's not very nice.
A simple solution would be to use a hash value instead of the name of the model to create database tablenames. The disadvantage would be that the clearness get lost.

Greetings
Alex"
11893,TYPO3.Flow,Bug,"",Resolved,Should have,The hash identifying a ValueObject isn't sufficient,Jochen Rau,Karsten Dambekalns,2011-07-04 09:05,Persistence,1.0 beta 1,2011-01-05,"","",100,2011-01-04 23:38,"","",1778250,"","","After executing the constructor of a Value Object a hash is generated and stored in FLOW3_Persistence_ValueObject_Hash to identify the Value Object (eg. to support getIdentifierByObject($object)). But the algorithm for generating the hash isn't sufficient for some cases.

Let's assume we have a Value Object \F3\MyExt\Domain\Model\Color with a property $colorNumber=42. This Value Object has the same hash as a Value Object \F3\MyExt\Domain\Model\Length with a property $value=42. The same problem occurs, if a Value Object stores other objects in an SplObjectStorage or uses PHP classes like DateTime.

IMHO the identity of a ValueObject is fully determined only by taking all property values (including SplObjectStorages) *and* the class into account. The test for FLOW3_Persistence_Entity_UUID could possibly be dropped as a Value Object by definition can't reference to Entities."
11948,TYPO3 Flow Base Distribution,Story,"",Resolved,Should have,Security Framework improvements,Sebastian Kurfuerst,"",2011-05-06 03:56,"",1.0 beta 1,"","","",50,2011-01-06 08:14,"","",1766150,0.00,"",""
11950,TYPO3 Flow Base Distribution,Task,Story #11948: Security Framework improvements,Closed,Should have,Re-visit HMAC features,Sebastian Kurfuerst,Andreas Förthner,2011-05-06 02:17,"",1.0 beta 1,"","","",0,2011-01-06 08:14,"","",70350,"","",""
11951,TYPO3 Flow Base Distribution,Task,Story #11948: Security Framework improvements,Closed,Should have,Plan Implementation of Request Stack,Sebastian Kurfuerst,"",2011-05-06 02:17,"",1.0 beta 1,"","",0.00,0,2011-01-06 08:14,"","",70400,0.00,"",""
11953,TYPO3 Flow Base Distribution,Task,Story #11948: Security Framework improvements,Closed,Should have,look through issues in the tracker with the security category,Sebastian Kurfuerst,"",2011-05-06 02:17,"",1.0 beta 1,"","",0.00,0,2011-01-06 08:15,"","",70450,0.00,"",""
11954,TYPO3.Flow,Task,"",Resolved,Should have,Check the current status of i18n / L10n,Sebastian Kurfuerst,Karsten Dambekalns,2011-12-21 06:37,I18n,1.1 beta 1,"","","",50,2011-01-06 08:17,"","",70500,0.00,"",""
11955,TYPO3.Flow,Task,Task #11954: Check the current status of i18n / L10n,Resolved,Should have,assess the current state of the I18n feature,Sebastian Kurfuerst,Karsten Dambekalns,2011-12-21 06:37,I18n,1.1 beta 1,"","","",100,2011-01-06 08:17,"","",70550,"","",""
11956,TYPO3.Flow,Task,Task #11954: Check the current status of i18n / L10n,Resolved,Should have,"check Translate-ViewHelper in incubation state, and migrate it to fluid",Sebastian Kurfuerst,Karsten Dambekalns,2011-05-06 04:11,"",1.0 beta 1,"","","",100,2011-01-06 08:18,"","",70600,"","",""
11957,TYPO3.Flow,Task,Task #11954: Check the current status of i18n / L10n,Resolved,Should have,check how JavaScript strings can be translated,Sebastian Kurfuerst,Rens Admiraal,2011-12-15 13:34,"",1.0 beta 1,"","",0.00,100,2011-01-06 08:19,"","",70650,0.00,"",""
11958,TYPO3 Flow Base Distribution,Story,"",Resolved,Should have,Check loose ends in FLOW3,Sebastian Kurfuerst,"",2011-05-06 04:09,"",1.0 beta 1,"","","",0,2011-01-06 08:20,"","",1766300,0.00,"",""
11964,TYPO3 Flow Base Distribution,Task,"",Closed,Should have,Profile under windows,Sebastian Kurfuerst,Bastian Waidelich,2012-05-08 12:00,"",1.1,"","","",0,2011-01-06 08:23,"","",70900,"","",""
11969,TYPO3.Fluid,Task,"",Closed,Must have,Make widgets' template configurable,Sebastian Kurfuerst,Adrian Föder,2012-12-10 07:08,Widgets,2.0 beta 1,2011-04-01,"",0.00,100,2011-01-06 08:31,"","",71000,0.00,"",""
11970,TYPO3 Flow Base Distribution,Task,Story #11958: Check loose ends in FLOW3,Closed,Should have,Improve error handling in Property Mapper,Sebastian Kurfuerst,"",2011-05-06 02:17,"",1.0 beta 1,"","",0.00,0,2011-01-06 08:31,"","",71050,0.00,"",""
12099,TYPO3 Flow Base Distribution,Task,Story #11169: Implement new operator support,Resolved,Should have,Check feasibility and create rough concept,Robert Lemke,Robert Lemke,2011-05-06 02:12,"",1.0 beta 1,"","",0.00,0,2011-01-11 09:20,"","",71450,0.00,"",""
12100,TYPO3 Flow Base Distribution,Task,Story #11169: Implement new operator support,Resolved,Should have,Implement a generic Proxy Builder,Robert Lemke,Robert Lemke,2011-05-06 02:12,"",1.0 beta 1,"","",0.00,0,2011-01-11 09:20,"","",71500,0.00,"",""
12190,TYPO3.Flow,Bug,"",Resolved,Must have,Aggregate root detection does not work for non-standard repositories,Karsten Dambekalns,Karsten Dambekalns,2011-07-09 06:35,Persistence,1.0 beta 1,2011-01-13,"",2.00,100,2011-01-13 11:17,"","",1810650,"","","If a repository and the model it holds don't match via the naming conventions, the ReflectionService does not detect that the model is an aggregate root."
12204,TYPO3 Flow Base Distribution,Task,Story #11958: Check loose ends in FLOW3,Resolved,Should have,Improve Fluid Resource Interceptor Performance,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-05-06 02:17,"",1.0 beta 1,"","",0.00,0,2011-01-14 02:50,"","",72700,0.00,"","While I profiled the welcome package, I noticed that much time was spent during preg_match -- see attached screenshot ""before"". A quick drill-down showed that this was almost fully spent in the resource interceptor of fluid (99,2% of the time).

That's why I decided to optimize the RegEx a little bit, and add an early return which covers most cases, leading to a much improved behavior (see attached screenshot ""after"").

"
12210,TYPO3.Fluid,Bug,"",Closed,Must have,Widget Bootstrapper Call to undefined method Tx_Extbase_Object_Container_Container::getContainer(),Kevin Ulrich Moschallski,"",2011-01-21 08:34,Widgets,"",2011-01-14,"","",0,2011-01-14 06:10,"","",2593600,"","","When calling a ajax widget i recieve this error:

Call to undefined method Tx_Extbase_Object_Container_Container::getContainer()

I looked into the class and couldn't find such a method.

I replaced it with this:

$objectContainer = t3lib_div::makeInstance('Tx_Extbase_Object_Container_Container');
$objectContainer->registerImplementation($originalClassName, $classConfiguration['className']);

and everything works fine.

Patch attached."
12266,TYPO3.Flow,Bug,"",Rejected,Should have,AccountRepository QueryResult not reflecting correct result,Soren Malling,Karsten Dambekalns,2011-03-21 07:02,Persistence,1.0 beta 1,2011-01-15,"","",0,2011-01-15 14:24,"","",1810600,"","","This might be me, misunderstanding the queryResult return of a findAll function from \F3\FLOW3\Security\AccountRepository but here goes:

Debugging the output of $this->accountRepository->findAll() (using \F3\var_dump) i get the following dump

<pre>
F3\FLOW3\Persistence\QueryResult [prototype]
 dataMapper => F3\FLOW3\Persistence\DataMapper [singleton][filtered]
 persistenceManager => F3\FLOW3\Persistence\PersistenceManager [singleton][filtered]
 query => F3\FLOW3\Persistence\Query [prototype][filtered]
 queryResult => NULL
</pre>

from what I see, my queryResult (the resulting objects?) is empty. But adding the ""->toArray()"" function (or parsing it through <f:for ..><f:debug.. in fluid) I get my expected objects.

So, from my view, it looks like resulting objects isn't attached to the queryResult property?"
12365,TYPO3.Flow,Bug,"",Rejected,Must have,mapAndValidate() and map() behave differently,Robert Lemke,"",2011-05-06 03:27,Property,1.0 beta 1,2011-01-19,"","",0,2011-01-19 05:27,"","",1810550,"","","mapAndValidate() does not expect $target to be passed by reference. As a consequence, a string (object name) can be passed, BUT if an array would be passed, the function would actually do nothing (because the result is never returned)."
12430,TYPO3.Flow,Bug,"",Closed,Must have,F3\FLOW3\I18n\Cldr\Reader\Exception\UnableToFindFormatException thrown in file NumbersReader.php,Christian Lerrahn,Karol Gusak,2011-07-06 13:48,I18n,"",2011-01-21,"","",0,2011-01-21 01:31,"","",1778200,"","","I'm trying to validate data on a object which I created in the code and filled with data from a file.

I presume that the localisation causes this exception somehow. The code used to run with version that did not have localisation, yet.
Is this a bug or a configuration issue?

Number format was not found. Please check whether CLDR repository is valid.
50 F3\FLOW3\I18n\Cldr\Reader\NumbersReader::parseFormatFromCldr(F3\FLOW3\I18n\Locale, ""decimal"", ""default"")
49 F3\FLOW3\I18n\Parser\NumberParser::parseDecimalNumber(""1"", F3\FLOW3\I18n\Locale, ""default"", boolean)
48 F3\FLOW3\Validation\Validator\NumberValidator::isValid(""1"", boolean)
47 F3\FLOW3\Validation\Validator\GenericObjectValidator::isPropertyValid(F3\UtilityMeterReconciliation\Domain\Model\Asset_AOPProxy_Development, ""assetIdentifier"")
46 F3\FLOW3\Validation\Validator\GenericObjectValidator::isValid(F3\UtilityMeterReconciliation\Domain\Model\Asset_AOPProxy_Development, boolean)
45 F3\FLOW3\Validation\Validator\ConjunctionValidator::isValid(F3\UtilityMeterReconciliation\Domain\Model\Asset_AOPProxy_Development)
44 F3\UtilityMeterReconciliation\Controller\File\FileController::parseFileContents(""asset"", ""&quot;Asset_ID&quot;,&quot;Asset_Name&quot;,&quot;Asset_Use&quot;,&quot;Asset_Street_?et, Wandin North VIC 3139&quot;,&quot;Wandin North&quot;,3139,,
?"", array, boolean)
43 F3\UtilityMeterReconciliation\Controller\File\FileController::parseAction(F3\UtilityMeterReconciliation\Domain\Model\File_AOPProxy_Development)
42 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::parseAction(F3\UtilityMeterReconciliation\Domain\Model\File_AOPProxy_Development)
41 call_user_func_array(array, array)
40 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
39 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
38 F3\FLOW3\Security\Aspect\PolicyEnforcementAspect::enforcePolicy(F3\FLOW3\AOP\JoinPoint)
37 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
36 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
35 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::parseAction(F3\UtilityMeterReconciliation\Domain\Model\File_AOPProxy_Development)
34 call_user_func_array(array, array)
33 F3\FLOW3\MVC\Controller\ActionController::callActionMethod()
32 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::callActionMethod()
31 call_user_func_array(array, array)
30 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
29 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
28 F3\FLOW3\Security\Aspect\PolicyEnforcementAspect::enforcePolicy(F3\FLOW3\AOP\JoinPoint)
27 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
26 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
25 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::callActionMethod()
24 F3\FLOW3\MVC\Controller\ActionController::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
23 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
22 call_user_func_array(array, array)
21 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
20 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
19 F3\FLOW3\Security\Aspect\PolicyEnforcementAspect::enforcePolicy(F3\FLOW3\AOP\JoinPoint)
18 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
17 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
16 F3\UtilityMeterReconciliation\Controller\File\FileController_AOPProxy_Development::processRequest(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
15 F3\FLOW3\MVC\Dispatcher::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
14 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
13 call_user_func_array(array, array)
12 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::FLOW3_AOP_Proxy_invokeJoinPoint(F3\FLOW3\AOP\JoinPoint)
11 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
10 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(F3\FLOW3\AOP\JoinPoint)
9 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
8 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
7 F3\FLOW3\Security\Aspect\RequestDispatchingAspect::initializeSecurity(F3\FLOW3\AOP\JoinPoint)
6 F3\FLOW3\AOP\Advice\AroundAdvice::invoke(F3\FLOW3\AOP\JoinPoint)
5 F3\FLOW3\AOP\Advice\AdviceChain::proceed(F3\FLOW3\AOP\JoinPoint)
4 F3\FLOW3\MVC\Dispatcher_AOPProxy_Development::dispatch(F3\FLOW3\MVC\Web\Request, F3\FLOW3\MVC\Web\Response)
3 F3\FLOW3\MVC\Web\RequestHandler::handleRequest()
2 F3\FLOW3\Core\Bootstrap::run()
1 require(""/home/foobar/FLOW3-git/FLOW3/Packages/Framework/FLOW3/Scripts/FLOW3.php"")"
12442,TYPO3.Fluid,Feature,"",Resolved,Could have,Provide format.json ViewHelper,Kevin Ulrich Moschallski,"",2012-05-22 20:38,ViewHelpers,1.1,2011-01-21,"","",100,2011-01-21 09:48,"","",2593500,"","","Hi,

i suggest to add type json to the escape viewhelper.

Sometime you want to render json output with fluid and not with an own json view. The problem is that fluid also uses json like syntax, so if you want to add an object to a json string you run into a problem.

Imagine adding a link with the link viewhelper. It returns a sting with double quotes which need to be escaped for json.

I simply added type json to the escape viewhelper which returns the $value json_encode()'ed.

Tell me what you think.

Regards,
Kevin"
12502,TYPO3.Fluid,Feature,"",Resolved,Should have,translate viewhelper should have optional parameter extensionName,Georg Ringer,"",2012-05-07 05:01,ViewHelpers,"",2011-01-24,"","",100,2011-01-24 09:18,"","",2593450,"","","The translate view helper works great bug would be even better if it would be possible to add the extensionName as argument.

examples:
1) Using a standalone view with Tx_Fluid_View_StandaloneView makes it impossible to work with translationViewHelper without duplicating translations

2) using example #1 can sometimes lead to have no extensionName available, therefore no translation can ever happen

3) having many extension in one project but very often the same translations leads to the problem having duplicate keys.

[pending in v4mvc list]"
12612,TYPO3.Flow,Task,Task #11954: Check the current status of i18n / L10n,Resolved,Should have,Create a JavaScript localization provider / caching / service class,Rens Admiraal,Rens Admiraal,2011-12-15 11:37,"",1.0 beta 1,"","",0.00,100,2011-01-28 07:07,"","",75650,0.00,"",""
12777,TYPO3.Fluid,Bug,"",Resolved,Must have,Empty a tag ends with /> instead of </a>,Xavier Perseguers,Sebastian Kurfuerst,2011-05-06 09:35,ViewHelpers,1.0 beta 1,2011-02-04,"","",100,2011-02-04 08:50,"","",2593400,"","","When creating a link with no content, the result tag is

<a href=""http:///""/>

instead of

<a href=""http:///""></a>

or even better (if no url is provided):

<a href=""""></a>"
12862,TYPO3 Flow Base Distribution,Story,"",Resolved,Should have,"As Roger, I want a clean Property Mapper",Sebastian Kurfuerst,Sebastian Kurfuerst,2011-05-06 03:29,"",1.0 beta 1,"","","",67,2011-02-08 03:11,"","",1766250,0.00,"","{{>toc}}

h2. Goal

*The property mapper maps simple types to Objects*. (Hence, we (for now) drop the Object to Object support, although this could be added later)

*The Property Mapper maps all values present in $source to $target (or a subset thereof)* (right now, it requires a list of properties to be mapped, and if $source[$propertyName] does not exist, an error is thrown)

* We try to strip down the Property Mapper, and make it extensible instead.

h2. Wanted Features

* Support for Object Converters:
** array / ArrayObject / SplObjectStorage
** DateTime use case
** File Upload (Resource objects)
* Partial Validation should be supported
* Property Merging should be supported (pass in existing object as base-object)
* Better error handling in case target property is not found (right now, NULL returned)
* Mapping should be configurable
* Secure by default

h2. Basic Interface

<pre><code class=""php"">
map(mixed $source, string $targetType, PropertyMappingConfigurationInterface $propertyMappingConfiguration = NULL)
</code></pre>

* @$source@ can be:
** all simple values (integer, string, ...)
** ARRAY
** an Object implementing @ArrayAccess@
** *We will drop support for arbitary objects through @ObjectAccess::isPropertyGettable@* (for now)
** else EXCEPTION

* @$target@ is the classname on which the value should be mapped to (or a simple type)

Pseudocode:
<pre><code class=""php"">
map(...) {
	if ($propertyMappingConfiguration === NULL) {
		$propertyMappingConfiguration = $this->buildDefaultPropertyMappingConfiguration();
	}
	$propertyMappingConfiguration->setTargetType($targetType); // Just a convenience shorthand method
	$this->doMapping(....);
}

protected function doMapping(mixed $source, $propertyMappingConfiguration) {
	$typeConverter = $this->somehowDetermineTypeConverter(); // TODO, see below
	
	$object = $typeConverter->convertFrom($source, $propertyMappingConfiguration);
	
	foreach ($typeConverter->getPropertyNames($source) as $sourcePropertyName) {
		$targetPropertyName = $propertyMappingConfiguration->getTargetPropertyName($sourcePropertyName);
		if (!$propertyMappingConfiguration->shouldMap($targetPropertyName)) continue;

		$mappedPropertyValue = $this->doMapping($source[$sourcePropertyName], $propertyMappingConfiguration->getConfigurationFor($targetPropertyName));
		
		$typeConverter->setResultInTarget($target, $targetPropertyName, $mappedPropertyValue);
	}
	return $object;
}
</code></pre>

* The property mapper only *delegates* the actual mapping to *Type Converters*.
* Type converters expose the following information:
** Applicable source types
** The target type the converter can convert to
** A priority
* The used type converter is determined as follows:
** If a TypeConverter is set inside the current @propertyMappingConfiguration@, this one is taken.
** Else, we do the following:
<pre><code class=""php"">
$typeConvertersWhichCanHandleSourceType = // first, we pick all TypeConverters
		// which can handle $sourceType, and put it into an
		// associative array where KEY is the target class name of the converter
$classNamesInInheritanceHierarchy = // $targetType combined with all superclasses
		// and interfaces, ordered from the inside out (so the $targetType
		// is the first element in the list)

foreach ($classNamesInInheritanceHierarchy as $singleTargetClassName) {
	if (isset($typeConvertersWhichCanHandleSourceType[$singleTargetClassName])) {
		return the type converter from $typeConvertersWhichCanHandleSourceType[$singleTargetClassName] with highest priority
	}
}
// Exception if no type converter found
</code></pre>

* Type Converters have to adhere to the following interface:
<pre><code class=""php"">
public function convertFrom($source, $propertyMappingConfiguration);
public function getPropertyNames($source);
public function setMappingResultInTarget($target, $propertyName, $mappingResult);
</code></pre>

* In case a type converter does *not* want to handle a certain element (for whatever reason), he can throw an @DontWantToHandleThisInputException@ inside @convertFrom@. Then, the next Type converter according to the above rules is taken.

* Furthermore, the Property Mapper *can handle renaming of properties*, see the method @getTargetPropertyName@ in the @PropertyMappingConfigurationInterface@

h2. PropertyMappingConfiguration

<pre><code class=""php"">
interface PropertyMappingConfigurationInterface {
	
	/**
	 * @return string
	 */
	public function getTargetType();
	
	
	/**
	 * @return TRUE if the given propertyName should be mapped
	 */
	public function shouldMap($propertyName);
	
	/**
	 * @return PropertyMappingConfigurationInterface the property mapping configuration for the given PropertyName.
	 */
	public function getConfigurationFor($propertyName);
	
	/**
	 * @return string property name of target; can be used to rename properties from source to target.
	 */
	public function getTargetPropertyName($sourcePropertyName);
	
	/**
	 * @return mixed configuration value for the specific $typeConverterClassName. Can be used by Type Converters to fetch converter-specific configuration
	 */
	public function getConfigurationValue($typeConverterClassName, $key);
}
</code></pre>

This interface will have an implementing class ""PropertyMappingConfiguration"", looking like the following:

<pre><code class=""php"">
class PropertyMappingConfiguration implements PropertyMappingConfigurationInterface {
	public function setTargetType($type);
	public function setMapping($sourcePropertyName, $targetPropertyName);
	public function setConfigurationValue($typeConverter, $key, $value);
	
	/**
	 * Returns the default configuration for all sub-objects, ready to be modified
	 */
	public function defaultSubConfiguration();
	
	/**
	 * Returns the configuration for the specific property path, ready to be modified
	 */
	public function at($propertyPath);
	
}
</code></pre>

This API can then be used as follows:

* To globally disable the modification of entities by the property mapper:
 <pre><code class=""php"">$propertyMappingConfiguration->setConfigurationValue('F3....\EntityConverter', 'modificationAllowed', FALSE);</code></pre>
* To disable the modification of sub-entities of the root element:
 <pre><code class=""php"">$propertyMappingConfiguration->defaultSubConfiguration()->setConfigurationValue('F3....\EntityConverter', 'modificationAllowed', FALSE);</code></pre>
* To enable the creation of sub-objects inside a certain element:
 <pre><code class=""php"">$propertyMappingConfiguration->at('subobject1.subsubobject2')->setConfigurationValue('F3....\EntityConverter', 'creationAllowed', TRUE);</code></pre>

Furthermore, there will be a subclass @ControllerPropertyMappingConfiguration@, which has some convenience methods implemented such that people can program against a type-safe API:

<pre><code class=""php"">
class ControllerPropertyMappingConfiguration extends PropertyMappingConfiguration {
	public function allowCreationOfSubObjectsAt($position) {
		$this->at($position)->setConfigurationValue('F3....\EntityConverter', 'creationAllowed', TRUE);
	}
	public function allowModificationOfSubObjectsAt($position) {
		$this->at($position)->setConfigurationValue('F3....\EntityConverter', 'modificationAllowed', TRUE);
	}
}
</code></pre>

h2. Default Property Mapping Configuration

* The default property mapping configuration for the *top level* should configure the @Entity Type Converter@ to *modify* and *create new* objects
* The property mapping configuration further down the hierarchy should configure the @Entity Type Converter@ to *not modify* and *not create* objects.
* The above two things are safety precautions for the user.
* This boils down to the following code:

<pre><code class=""php"">
 $propertyMappingConfiguration->setConfigurationValue('F3....\EntityConverter', 'modificationAllowed', TRUE);
 $propertyMappingConfiguration->defaultSubConfiguration()->setConfigurationValue('F3....\EntityConverter', 'modificationAllowed', FALSE);
</code></pre>

h2. Type Converter examples

Here follow some examples of type converters, to see the concept more easily:

h3. Entity Type Converter

* *Input Type*: String and Array
* *Output Type*: Object
* *Priority*: low

<pre><code class=""php"">
public function convertFrom($source, $propertyMappingConfiguration) {
	if (is_string($source)) {
		if (/* is UUID */) {
			// create and return object
		} else {
			// Exception
		}
	}
	
	if (isset($source['__identity'])) {
		$target = // fetch from persistence
		if (count($source) > 1) {
			if ($propertyMappingConfiguration->getConfigurationValue('F3\....\EntityConverter', 'modificationAllowed') !== TRUE) {
				// throw exception
			}
			$target = clone $target;
		}
	} else {
		if ($propertyMappingConfiguration->getConfigurationValue('F3\....\EntityConverter', 'creationAllowed') !== TRUE) {
			// throw exception
		}
		$target = // new
	}
	
	return $target;
}

public function getPropertyNames($source) {
        if (is_string($source)) return array();
        return all $source property names, *except* __identity;
}

public function setMappingResultInTarget($target, $propertyName, $mappingResult) {
        // Set Property through Object Access
}
</code></pre>

h3. Date Type Converter

* *Input Type*: String and Array
* *Output Type*: DateTime
* *Priority*: low

<pre><code class=""php"">
public function convertFrom($source, $propertyMappingConfiguration) {
    new DateTime($source); // or more advanced...
};
public function getPropertyNames() {
    return array();
}
public function setMappingResultInTarget($target, $propertyName, $mappingResult) {
	// empty, as it is never called
}
</code></pre>

h3. SplObjectStorage/ArrayCollection Type Converter

* *Input Type*: Array
* *Output Type*: SplObjectStorage
* *Priority*: low

<pre><code class=""php"">
public function convertFrom($source, $propertyMappingConfiguration) {
    return new \SplObjectStorage();
};
public function getPropertyNames($source) {
    return array_keys($source);
}

public function setMappingResultInTarget($target, $propertyName, $mappingResult) {
    $target->attach($value);
}
</code></pre>

h2. Error Handling

* Instead of outputting human-readable error messages, the property mapper will throw *exceptions* in case of errors. For things like mandatory properties, specific validators should be used.

h2. Validation / Partial Validation

* The property mapper will *not* execute any validators for the given objects.
* However, it should return a list of mapped properties. This list can be used later, such that the ObjectValidator only needs to validate changed properties.

h2. Naming

*Object Converters will be superseded by this concept, and thrown away.*

*We suggest to change the naming in the following way:*

* PropertyMapper -> TypeMapper / ObjectMapper?
* Object Converter -> Type Converter

h2. Further work

* This concept could be extended lateron to work with *arbitrary* input objects, not just simple types. However, one would then need a way to deal with object inheritance hierarchies on the source side as well.
* Extend the concept such that Half-ready objects as $target are also supported; but we would use an explicit new API function for this:
<pre><code class=""php"">
merge(mixed $source, object $targetObject, PropertyMappingConfigurationInterface $propertyMappingConfiguration = NULL)
</code></pre>"
12863,TYPO3.Fluid,Bug,"",New,Should have,Attributes of a viewhelper can't contain a '-',Georg Ringer,Sebastian Kurfuerst,2011-10-21 07:37,Core,"",2011-02-08,"","",0,2011-02-08 03:25,"","",2593350,"",FLOW3 1.0.0,"It seems that a '-' in the key of an attribute destroys everything

example of viewhelper
<pre>
<f:for each=""{wallpapers}"" as=""wallpaper"">
<w:download allow-Upscaling=""1"" src=""uploads/tx_wallpaper/{wallpaper.image}"">1920 x 1200</w:download><br />
</f:for>
</pre>

gives the error
<pre>
Templating tags not properly nested. Expected: Tx_Fluid_ViewHelpers_ForViewHelper; Actual: Tx_Wallpaper_ViewHelpers_DownloadViewHelper
</pre>

2 possible solutions (IMHO):
- Allow the '-'
- Define allowed chars (a-z,0-9) and throw a correct exception"
12917,TYPO3.Flow,Bug,"",Rejected,Must have,Access denied by using the HashService Setter injection,Julian Kleinhans,Robert Lemke,2011-09-09 08:17,Security,1.0 beta 2,2011-02-09,"","",0,2011-02-09 16:43,"","",1810500,"","","[See https://review.typo3.org/#change,699]

If i use the HashService Setter injection in a protected area as a loggedin user i became an ""Access denied""

this is my Policy.yaml

<pre>
resources:
  methods:
    F3_Tutorials_RestrictedAdminArea: 'class(F3\Tutorials\Controller\Admin\.*)'
roles:
  Administrator: []
acls:
  Administrator:
    methods:
      F3_Tutorials_RestrictedAdminArea: GRANT
</pre>

in the Controller\Admin i used a setter injection for the HashService.

<pre>
public function injectHashService(\F3\FLOW3\Security\Cryptography\HashService $hashService) {
  $this->hashService = $hashService;
}
</pre>

and with this method in my code i become the ""Access denied"" page.. my logs:

<pre>
Successfully re-authenticated tokens for account ""test1"" [logged in F3\FLOW3\Security\Aspect\LoggingAspect::logManagerAuthenticate()]

Access denied (0 denied, 0 granted, 1 abstained) to method F3\Tutorials\Controller\Admin\AccountController::injectHashService(). [logged in F3\FLOW3\Security\Aspect\LoggingAspect::logJoinPointAccessDecisions()]
</pre>

if i used the property injection
<pre>

/**
* @inject
* @var \F3\FLOW3\Security\Cryptography\HashService
*/
protected $hashService;
</pre>

it works without problems.. only with the setter injection There is NO other ACL in a policy.yaml"
12953,TYPO3.Kickstart,Bug,"",Closed,Must have,Missing '?>' in 2 Files causes ./flow3 kickstart to crash,Regine Rosewich,Karsten Dambekalns,2011-07-06 10:02,"","",2011-02-10,"","",0,2011-02-10 11:37,"","",2740150,"","","There are two files:
/FLOW3/Packages/Framework/FLOW3/Classes/Resource/Resource.php
/FLOW3/Packages/Framework/Resources/Private/Configuration/Yaml/Loader.php
where the '?>' misses at the end.

This causes either an PHP error saying that a '}' is unnecessary in the specific file or saying that PHP has not enough memory."
12991,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Resolved,Should have,form.errors ViewHelper should merge property errors,Alexander Stehlik,"",2012-03-12 13:52,ViewHelpers,"",2011-02-11,"","",0,2011-02-11 12:00,"","",78850,"","","At the moment, the form.errors view helper returns, when the first PropertyError with the correct property name was found.

This is not sufficient because someone might add more errors to the errors array for the same property. So if I add a new property error in my validator, it won't get rendered, if the validators defined by @ annotations also added errors for the same property before.

This is what I do in the validator of my domain model:

<pre>
$error = t3lib_div::makeInstance('Tx_Extbase_Validation_PropertyError', 'mypropertyname');
$error->addErrors(array(new Tx_Extbase_Validation_Error('My error message.', 1233456789)));
$this->errors[] = $error;    
</pre>

At first, I reported this as an exbase bug (#9215) but I think this is more a issue of the form.errors view helper.

I'll attached a patch that should fix this issue.

"
12993,TYPO3.Flow,Bug,"",Resolved,Should have,Cache memcache backend: Memcache delete fails,Christian Kuhn,Karsten Dambekalns,2011-03-25 17:00,Cache,1.0 beta 1,2011-02-11,"","",100,2011-02-11 17:32,"","",1810450,"","","The memcache->delete() command fails sometimes, depending on use PHP memcache version. New stable debian squeeze is affected.

TYPO3 v4 committed the fix documented in issue http://bugs.typo3.org/view.php?id=15721 to trunk with revision 10438, this change should be ported to FLOW3."
12994,TYPO3.Flow,Bug,"",Resolved,Should have,Exception message for missing memcache wrong ,Christian Kuhn,Karsten Dambekalns,2011-03-21 07:00,Cache,1.0 beta 1,2011-02-11,"","",100,2011-02-11 17:57,"","",1810400,"","","Problem:
Caching framework memcache backend requires PHP module memcache, but the 
thrown exception nags about memcached (sic!).

Solution:
memcached -> memcache


This was tracked in TYPO3 v4 with http://bugs.typo3.org/view.php?id=16534 and committed to trunk with rev. 10446"
13045,TYPO3.Fluid,Bug,"",New,Should have,Entity decode of strings are different between if-conditions and output of variable,Armin Ruediger Vieweg,"",2011-10-21 07:37,"","",2011-02-15,"","",0,2011-02-14 19:08,"","",2593300,"",FLOW3 1.0.0,"If I assign the following to a variable:
<pre>&lt;ul class=&quot;csc-menu csc-menu-3&quot;&gt;&lt;li class=&quot;csc-section&quot;&gt
</pre>

And want to work with this string in an own viewhelper, I have to html_entity_decode it. If I not do this, the submitted string depends where I call the viewhelper.

-----

*Fluid-Template Example 1:*
<pre>
Cool String: {own:viewhelper subject='{variables}'}
</pre>
My viewhelper gets the subject:<pre>&lt;ul class=&quot; ...""</pre> as expected.

-----

*Fluid-Template Example 2:*
<pre>
<f:if condition=""{own:viewhelper subject='{variables}'}"">
<f:then>
...
</pre>^_Note: My viewhelper counts some html tags in the string and returns an integer._^

The given subject is now: <pre><ul class="" ...</pre>

-----

This is generally no big problem, but it is a little bit inconsistent and not documented.

Kind Regards"
13161,TYPO3 Flow Base Distribution,Task,"Story #12862: As Roger, I want a clean Property Mapper",Resolved,Should have,We also need some better Error / Warning / Notice handling,Sebastian Kurfuerst,"",2011-05-06 02:17,"",1.0 beta 1,"","",0.00,0,2011-02-18 09:29,"","",79900,0.00,"",""
13324,TYPO3.Flow,Bug,"",Resolved,Must have,It's not possible to update entities without repository,Bastian Waidelich,Karsten Dambekalns,2011-09-07 11:03,Persistence,1.0 beta 2,2011-02-24,"","",100,2011-02-24 04:39,"","",1778050,"","","Adding/removing entities to/from a collection of the parent object is possible by using the @attach()@/@detach()@ methods of the @SplObjectStorage@.
But there is no equivalent for *updating* objects yet.

More specific: How could one update a comment of the BlogExample without creating a CommentRepository."
13333,TYPO3.Flow,Bug,"",Resolved,Should have,AOP for methods with references do not work.,Martin Eisengardt,Christian Müller,2012-05-30 15:59,AOP,1.0.5,2011-02-24,"","",100,2011-02-24 09:45,"","",1810350,"",FLOW3 1.0.0,"Tried to log a method call to GenericPod\Backend->storeObject (fourth parameter is a reference to an array)

<pre>
//    
//    /**
//     * logging
//     *
//     * @param \F3\FLOW3\AOP\JoinPointInterface $joinPoint The current join point
//     * @return void
//     * @around method(F3\FLOW3\Persistence\Backend\GenericPdo\Backend->storeObject())
//     */
//    public function logStoreObject(\F3\FLOW3\AOP\JoinPointInterface $joinPoint)
//    {
//        $object = $joinPoint->getMethodArgument('object');
//        $id = $joinPoint->getMethodArgument('identifier');
//        $parent = $joinPoint->getMethodArgument('parentIdentifier');
//        $data = $joinPoint->getMethodArgument('objectData');
//        
//        $this->logger->log('GenericPDOBackend->storeObject(['.get_class($object).'], '.$id.', '.$parent.', ...)');
//        
//        $result = $joinPoint->getAdviceChain()->proceed($joinPoint);
//        return $result;
//    }
</pre>


error/exception:
</pre>
Warning: Parameter 4 to F3\FLOW3\Persistence\Backend\GenericPdo\Backend_AOPProxy_Development::storeObject() expected to be a reference, value given in </pre>
"
13342,TYPO3.Fluid,Task,Task #26658: Make Form ViewHelpers consistent,Resolved,Should have,f:form.checkbox does only render hidden input for first item of same name,martin no-lastname-given,Bastian Waidelich,2012-06-18 11:38,ViewHelpers,"",2011-02-24,"","",100,2011-02-24 12:46,"","",81500,"","",If you attempt to have multiple forms on the same page with inputs that have the same name-attr (i.e. multiple forms for items of the same type) the viewhelper will only render a hidden input for the first item. This means that only the first form will work as expected whereas all subsequent forms will have limited functionality.
13503,TYPO3 Flow Base Distribution,Task,Story #11948: Security Framework improvements,Resolved,Should have,Write policies for TYPO3 package,Robert Lemke,Andreas Förthner,2011-05-06 03:53,"",1.0 beta 1,"","","",0,2011-03-02 04:11,"","",82700,"","",""
13559,TYPO3.Flow,Bug,"",Accepted,Should have,ObjectSerializer failes with persistent objects within arrays,Martin Eisengardt,Karsten Dambekalns,2012-11-08 03:39,Persistence,"",2011-03-02,"","",0,2011-03-02 13:10,"","",1778000,"",FLOW3 1.0.0,"If a persistent object is contained in an array property, the serialization failes. It won't detect the object as persistent but will persist it as if it was a simple data object. This will be broken as soon as the session is resumed/ the object serializer is unserializing this data stream.

The reason is that persistent object detection is only present in method serializeObjectAsPropertyArray. Method buildStorageArrayForArrayProperty only contains a small is_object that won't respect the persistence:
<pre>
if (is_object($value)) {
				$storableArray[$key][self::TYPE] = 'object';
				$storableArray[$key][self::VALUE] = spl_object_hash($value);

				$this->serializeObjectAsPropertyArray($value, FALSE);
			}
</pre>"
13576,TYPO3.Flow,Bug,"",Resolved,Must have,AOP is not initialized during __wakeup(),Karsten Dambekalns,Robert Lemke,2011-03-03 09:57,AOP,1.0 beta 1,2011-03-03,"","",100,2011-03-03 05:39,"","",1810300,"","","Doctrine uses the unserialize trick combined with the prototype pattern, i.e. they store the unserialized object and clone it when needed again. During that clone, upon calling __clone(), the following notice is causing an exception:
<pre>Notice: Undefined index: __clone in ...Blog.php</pre>
Backtrace attached as PDF."
13604,TYPO3 Flow Base Distribution,Task,Story #11169: Implement new operator support,Resolved,Should have,Fix bugs and adjust affected code,Robert Lemke,Robert Lemke,2011-05-06 02:12,"",1.0 beta 1,"","",0.00,0,2011-03-04 03:42,"","",84100,0.00,"",""
13634,TYPO3.Flow,Bug,"",Closed,Must have,Wrong SQL statement in \F3\Persistence\Backend\GenericPdo\Backend.php,Regine Rosewich,Karsten Dambekalns,2011-03-28 11:07,Persistence,"",2011-03-04,"","",0,2011-03-04 18:04,"","",1777950,"","","Hi guys,

upon testing the blog example, I found a wrong SQL-statement generated in the above mentioned class. 


@			/**
			$sql['tables'][] = '""entities"" AS ""_entity"", ""properties_data"" AS ""d""';
			*/
			$sql['tables'][] = '""properties_data"" AS ""d"", ""entities"" AS ""_entity""';@

The commented line contains the wrong code throwing a SQL-Error. 

Hope it helps.

Regine"
13643,TYPO3.Fluid,Feature,"",Resolved,Should have,Create Command for XSD Schema generation,Jascha Dachtera,Bastian Waidelich,2012-05-08 08:38,Command,1.1,2011-03-05,"","",100,2011-03-05 11:00,"","",2593250,"","","Hello,

the Xsd Generation for Fluid ViewHelper Tags doesn't work (since quite some time I think). I created a patch to fix it. However I still don't know how to use it for autocompletion in Eclipse.

This is my first patch so I hope it's created correctly. :)

Greetings, Jascha"
13694,TYPO3.Flow,Task,"",Resolved,Should have,Provide good naming conventions for directories in Resources/,Robert Lemke,Bastian Waidelich,2013-01-11 13:36,- Documentation -,2.0,"","","",100,2011-03-08 09:30,"","",85200,"","","Currently we only have a limited set of naming suggestions for directories below ""Resources"". The current approach for Fluid templates (...../Templates/ControllerName/action.html) will clash with what we might want for TYPO3 Fluid templates (ie. page templates, templates for TypoScript objects etc.), so just using ""Templates"" is not good enough.

Anyway, we need some good defaults which cover a broad range of uses for storing templates but also related media."
13702,TYPO3 Flow Base Distribution,Task,Story #11169: Implement new operator support,Resolved,Should have,Replace remaining uses of objectManager->create() with new and adjust tests accordingly,Robert Lemke,"",2011-05-06 02:12,"",1.0 beta 1,"","","",0,2011-03-09 03:27,"","",85450,"","",""
13703,TYPO3 Flow Base Distribution,Task,Story #11169: Implement new operator support,Resolved,Should have,Fix file monitoring / optimize compile step,Robert Lemke,Robert Lemke,2011-05-06 02:12,"",1.0 beta 1,"","","",0,2011-03-09 03:28,"","",85500,"","",""
13796,TYPO3.Flow,Bug,"",Closed,Should have,"PHP Parse error:  syntax error, unexpected $end	",Regine Rosewich,"",2011-03-17 08:16,"","",2011-03-12,"","",0,2011-03-11 18:12,"","",1777900,"","","When trying to kickstart a new Application from the command-line, I get the following Error:

<pre>
PHP Parse error:  syntax error, unexpected $end in /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/FLOW3_Object_Classes/F3_FLOW3_Validation_ValidatorResolver_Original.php on line 415
</pre>

The mentioned file is, according to the eclipse-Editor, perfectly ok. So it seems almost impossible for me to track the problem."
13890,TYPO3.Flow,Bug,"",Closed,Must have,The compile run failed due to an exception while sending the HTTP request,Julian Kleinhans,Robert Lemke,2011-03-31 15:40,Core,1.0 beta 1,2011-03-17,"","",0,2011-03-17 16:51,"","",1810250,"","","This error comes with a http authorization (htaccess)

file_get_contents(http://domain.de/?FLOW3_BOOTSTRAP_ACTION=compile&FLOW3_BOOTSTRAP_COMPILYKEY=abc123)
Failed to open stream: HTTP request failed! HTTP/1.1. 401 Authorization Required in ...Bootstrap.php line 350

"
13891,TYPO3.Flow,Bug,"",Resolved,Should have,F3\FLOW3\Error\Exception thrown in file ErrorHandler.php,Daniel Poetzinger,Bastian Waidelich,2011-04-01 08:47,- Error Handler Report -,1.0 beta 1,2011-03-17,"","",100,2011-03-17 18:56,"","",1810200,"","","Notice: Undefined index: FLOW3_BOOTSTRAP_COMPILEKEY in /opt/local/apache2/htdocs/Conference/Packages/Framework/FLOW3/Classes/Core/Bootstrap.php line 298
4 F3\FLOW3\Error\ErrorHandler::handleError(8, ""Undefined index: FLOW3_BOOTSTRAP_COMPILEKEY"", ""/opt/local/apache2/htdocs/Conference/Packages/Framework/FLOW3/Classes/Core/Bootstrap.php"", 298, array)
3 F3\FLOW3\Core\Bootstrap::executeCompileSubrequestIfTriggered()
2 F3\FLOW3\Core\Bootstrap::run()
1 require(""/opt/local/apache2/htdocs/Conference/Packages/Framework/FLOW3/Scripts/FLOW3.php"")

Please include more helpful information!"
13906,TYPO3.Fluid,Bug,"",Closed,Should have,"No way to set ""ATagParams""",Daniel Poetzinger,Bastian Waidelich,2011-03-18 11:22,ViewHelpers,"",2011-03-18,"","",0,2011-03-18 10:33,"","",2593200,"","","All linkViewHelpers need a way to set a classname

http://git.typo3.org/TYPO3v4/CoreProjects/MVC/fluid.git?a=blob;f=Classes/ViewHelpers/Link/PageViewHelper.php;h=fe2c9a4762c95dfa802caf6fadb7cce06c14c8a6;hb=HEAD


"
13942,TYPO3 Flow Base Distribution,Task,"Story #12862: As Roger, I want a clean Property Mapper",Resolved,Should have,Restructured Property Mapper,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-05-06 02:17,"",1.0 beta 1,"","","",0,2011-03-21 06:14,"","",88150,"","",""
13943,TYPO3 Flow Base Distribution,Task,"Story #12862: As Roger, I want a clean Property Mapper",Resolved,Should have,Restructured MVC Error Handling ,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-05-06 02:17,"",1.0 beta 1,"","","",0,2011-03-21 06:14,"","",88200,"","",""
13973,TYPO3.Flow,Task,"",Resolved,Should have,Possible table name clash with Doctrine,Karsten Dambekalns,Karsten Dambekalns,2011-04-26 18:30,Persistence,1.0 beta 1,2011-03-22,"","",100,2011-03-22 11:31,"","",88500,"","","When having two entities with the same unqualified classname, they both end up with the same table name by default (ie. Blog\Domain\Model\Post vs. Forum\Domain\Model\Post)."
13974,TYPO3.Flow,Bug,"",Resolved,Should have,Tables are dropped after deactivating a package,Karsten Dambekalns,Karsten Dambekalns,2011-05-09 04:54,Persistence,1.0 beta 1,2011-03-22,"","",100,2011-03-22 11:32,"","",1777850,"","","When a package is deactivated, the way we use the SchemaManager of Doctrine drops related tables. This might be unexpected and unintentional for people..."
13977,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Document incompatibility of Apache's MulitViews and the resource rewrite rule,Andreas Förthner,Karsten Dambekalns,2011-08-24 04:14,- Documentation -,1.0 beta 1,2011-03-22,"","",100,2011-03-22 12:55,"","",88550,"","","The rewrite rule in the .htaccess file used to access the published resources is not compatible with enabled MultiViews in the Apache VHost. This should be documented in the installation instructions for FLOW3.

MultiViews have to be turned off!"
13979,TYPO3.Flow,Bug,"",Resolved,Could have,Problem with deleting package,Dawid ,Karsten Dambekalns,2011-04-11 06:00,Package,1.0 beta 1,2011-03-22,"","",100,2011-03-22 13:54,"","",1810150,"","","Looks like there is some kind of problem with recursive deleting files.

After typing ./flow3 package delete Packagekey i receive

Uncaught Exception in FLOW3 #1: Warning: rmdir(/var/www/flow/public/Packages/Application/Offices/Resources/Private/Templates/Office): Directory not empty in /var/www/flow/public/Packages/Framework/FLOW3/Classes/Utility/Files.php line 140
thrown in file Packages/Framework/FLOW3/Classes/Error/ErrorHandler.php
in line 82

Offices is my test package key.
It looks like it is tring to use rm with out -R parameter"
14017,TYPO3.Fluid,Bug,"",Resolved,Must have,Widgets are not compatible with Doctrine persistance,Peter Beernink,Karsten Dambekalns,2011-03-25 01:30,Widgets,1.0 beta 1,2011-03-24,"","",100,2011-03-24 04:07,"","",2604350,"","","Both the pagination and autocomplete are currently not compatible with the Doctrine persistance layer.

For example, when assigning a result from a repository to the objects attribute of the pagination widget, the following exception is thrown:
<pre>
PaginateViewHelper_Original::render() must be an instance of F3\FLOW3\Persistence\QueryResult, instance of F3\FLOW3\Persistence\Doctrine\QueryResult given
</pre>

I've only tested this with the pagination widget, but as both have the same annotation for $objects, I suspect that also the autocomplete is suffering from this issue.

"
14037,TYPO3.Flow,Feature,"",Resolved,Should have,Translation files (XLIFF) must be possible per package,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:37,I18n,1.1 beta 1,2011-03-24,"","",100,2011-03-24 17:05,"","",1810100,"","","Currently the XliffTranslationProvider uses a hardcoded base path to look for XLIFF files of @resource://FLOW3/Private/Locale/Translations/@.

But it is necessary to have translations in each package, as it does not make sense to have labels for the Blog package in the FLOW3 package.

Also the TranslateViewHelper needs to offer the use of labels from different packages  - e.g. to use labels from the Blog by default but fetch labels for the login screen from a shared file in the FLOW3 package."
25448,TYPO3.Flow,Bug,"",Closed,Must have,Use of undefined constant 'X' during prototype injection,Karsten Dambekalns,Robert Lemke,2011-04-12 06:17,Object,"",2011-03-30,"","",0,2011-03-30 03:26,"","",1777800,"","","When a prototype is needed for DI but has constructor arguments (that can be created through a factory), everything could be fine. But since ProxyClassBuilder, line 398, contains only unfinished code, the proxy class contains code like
<pre>	/**
	 * Autogenerated Proxy Method
	 */
	public function FLOW3_Proxy_injectProperties() {
		$this->mailer = new \F3\SwiftMailer\Mailer(X));
	}</pre>
This then leads to exceptions in FLOW3 because PHP produces a notice: @Use of undefined constant X - assumed 'X' in .../Data/Temporary/902451e70049/StaticObjectContainer.php line ...@

One way to reproduce this is to try and use SwiftMailer."
25472,TYPO3.Flow,Bug,"",Resolved,Should have,Files::emptyDirectoryRecursively() cannot remove directories starting with a dot,Karsten Dambekalns,Karsten Dambekalns,2011-04-07 03:00,Utility,1.0 beta 1,2011-03-30,"","",100,2011-03-30 09:32,"","",1810050,"","","If a directory is to be emptied and it contains more directories whose name starts with a dot, those directories will not be removed."
25490,TYPO3.Fluid,Feature,"",Resolved,Should have,pagination is fairly simple and not usable in bigger projects,Georg Ringer,Bastian Waidelich,2011-04-02 05:00,Widgets,"",2011-03-31,"","",100,2011-03-31 07:13,"","",2593100,"","","The pagination widget is fairly simple and not usable in bigger projects with more than 50 records. The reason is that it just renders all links which are needed. So if there are 1000 records and 10 per page, this results in 100 links on the page.

Therefore it is needed to be able to skip the rendering of links at some point and implement something like:
< | 1 | 2 | 3 | [...] | 190 | 191 | 192.

Additionally the pagination uses some hardcoded labels which could be fixed with the same patch."
25605,TYPO3.Flow,Task,"",Resolved,Should have,In the FLOW3 Bootstrap in handleCommandLineSlaveRequest() persistAll() should be triggered by a signal slot,Andreas Förthner,Karsten Dambekalns,2011-05-18 02:35,Core,1.0 beta 1,2011-03-31,"","",100,2011-03-31 15:41,"","",91300,"","",See the Fixme in the code on line 289.
25607,TYPO3.Flow,Bug,"",Resolved,Should have,Reflection Service does not save emerged class reflections,Robert Lemke,Robert Lemke,2011-04-01 08:30,Core,1.0 beta 1,2011-03-31,"","",100,2011-03-31 16:00,"","",1810000,"","","Because the Reflection Service was not correctly connected to the bootstrap shutdown emerged classes (which were not automatically
registered during compile time) were not saved into the cache and therefore reflected again on every run."
25608,TYPO3.Flow,Bug,"",Resolved,Must have,Adjust functional tests to new proxy class mechanism,Andreas Förthner,Andreas Förthner,2011-04-01 15:17,- Testing -,1.0 beta 1,2011-03-31,"","",0,2011-03-31 16:07,"","",1809950,"","",Functional tests don't work anymore with the new bootstrap and proxy class mechanism.
25609,TYPO3.Flow,Bug,"",Resolved,Should have,Router should skip routes if the target controller does not exist,Bastian Waidelich,Bastian Waidelich,2011-04-19 12:30,MVC - Routing,"",2011-04-01,"","",100,2011-03-31 19:13,"","",1777750,"","","The Router should check if the Controller exists. If not, the route should be skipped when resolving route values.
Furthermore, if no route matches, an exception should be thrown."
25694,TYPO3.Flow,Bug,"",Closed,Should have,Multiple annotations with the same name are not supported by the reflection service,Andreas Förthner,"",2011-09-30 06:22,Reflection,1.0.0,2011-04-01,"","",0,2011-04-01 05:02,"","",1809900,"","","As the returned $tags array is indexed by the annotation name, e.g. two @validate annotations will override eachother."
25695,TYPO3.Fluid,Bug,"",Closed,Must have,Template of widgets can't be changed,Georg Ringer,Christian Müller,2012-09-20 04:58,Widgets,"",2011-04-01,"","",20,2011-04-01 05:19,"","",2593050,"",FLOW3 1.0.0,"Currently the widgets use the default template path only and it is impossible to override those which is kind of a nogo.

Attached patch fixes this. The path can be set via TS. e.g. 

<pre>
plugin.tx_fo.view.widgetRootPath = fileadmin/fo/
</pre>
If using the pagination widget, the index.html needs to be at fileadmin/fo/ViewHelpers/Widget/Paginate/Index.html

One open question: Is this the correct way to go with the part ""ViewHelpers"" inside this path? or should it be fileadmin/fo/Paginate/Index.html?"
25701,TYPO3.Flow,Bug,"",Closed,Should have,Various injection errors in FLOW3,Karsten Dambekalns,"",2011-06-20 04:57,Object,1.0 beta 1,2011-04-01,"","",40,2011-04-01 07:38,"","",1777700,"","","I see these with everything on master as of right now and clean caches:
* Could not autowire property F3\FLOW3\AOP\Builder\ProxyClassBuilder::emptyConstructorInterceptorBuilder because the method parameter in injectEmptyConstructorInterceptorBuilder() contained no class type hint.
* Could not autowire property F3\FLOW3\Command\CoreCommandController::signalSlotDispatcher because injectSignalSlotDispatcher() expects none instead of exactly 1 parameter.

The @EmptyConstructorInterceptorBuilder@ that is to be injectd in the first case does not exist anymore. But @injectSignalSlotDispatcher()@ *has* one parameter.

Is that a known issue?"
25714,TYPO3.Flow,Task,"",Resolved,Should have,Include Randomizer Library as external component,Andreas Förthner,Andreas Förthner,2011-11-04 13:06,Security,"",2011-04-01,"","",100,2011-04-01 12:07,"","",91600,"","",""
25776,TYPO3.Flow,Bug,"",Resolved,Should have,Doctrine proxy class files can't be overwritten by other SAPI type,Robert Lemke,Karsten Dambekalns,2011-04-13 05:00,Persistence,1.0 beta 1,2011-04-05,"","",100,2011-04-05 12:12,"","",1809850,"","","When you run FLOW3 with empty caches for example from the command line, Doctrine proxy classes will be created. However, these files can't be overwritten or trashed by FLOW3 when it's running in web mode because the files are created with read-only permissions for the group. The same happens vice versa (first hit with Web).

The solution would be to create Doctrine proxy files with @-rw-rw-r--@ permissions."
25790,TYPO3.Flow,Bug,"",Closed,Should have,newest Index of FLOW3 throws error,Regine Rosewich,Karsten Dambekalns,2011-06-20 19:17,Error,"",2011-04-06,"","",0,2011-04-06 07:48,"","",1777650,"","","After having updated FLOW3 to the newest Index. I get odd errors when trying to start the FLOW3-Welcome Package
<pre>
Uncaught Exception in FLOW3 #1297263663: Could not load object configuration from cache. This might be due to an unsuccessful compile run. One reason might be, that your PHP binary is not located in ""/Applications/MAMP/bin/php5.3/bin/php"". In that case, set the correct path to the PHP executable in Configuration/Settings.yaml, setting FLOW3.core.phpBinaryPathAndFilename.
thrown in file Packages/Framework/FLOW3/Classes/Core/Bootstrap.php
in line 369
</pre>

The php binary is exactly at the location, the error message says. So this obviously is not the reason for the error. Concerning the unsuccessful compile, I threw away ../FLOW3/Data to force FLOW3 to do a completely new compile ==> same error.

Then I tried to compile from the command-line and got the following error (consider the Way the firs 'FLOW3' is written in the first line, whereas the Folder in the Folder Structure of my MAC is written 'FLOW3')
<pre>
FLOW3: Invalid root path. (Error #1248964375)
""/Applications/MAMP/htdocs/Flow3/Packages/Framework/FLOW3/"" does not lead to
""/Applications/MAMP/htdocs/FLOW3/Packages/Framework/FLOW3/""
</pre>

This error got away when setting the FLOW3_ROOTPATH Environment Variable explicitly to the wanted writing form. But then the error mentionned first was thrown again. 

So as far as I can see, the caching mecanism has a problem. But which one?"
25801,TYPO3.Flow,Bug,"",Resolved,Should have,Request arguments should never contain objects,Bastian Waidelich,Bastian Waidelich,2013-10-23 05:37,MVC,"",2011-04-06,"","",100,2011-04-06 11:05,"","",1777600,"",(any),"Request arguments are serialized in Fluid forms in order to generate the hidden referrer fields that are required to ""replay"" the last request in case of an validation error. If a request argument is a complex type, the value of the @__referrer[arguments]@ hidden field gets huge which poses 3 major issues:
# you'll have to transfer a lot of unnecessary data
# the URI for redirects will grow to a point where the browser dies
# if an object is not serializable, you get serialization errors

Thus RoutePartHandler must not return objects. Instead they should return simple types/arrays understandable by the PropertyMapper (or a dedicated ObjectConverter)

*Discuss:* Should this be enforced in the routing process?"
25802,TYPO3.Flow,Task,"",Resolved,Should have,"Add notion of ""internal request arguments""",Bastian Waidelich,Sebastian Kurfuerst,2011-05-18 06:15,MVC,1.0 beta 1,2011-04-06,"","",100,2011-04-06 11:08,"","",92000,"","","The referrer fields that Fluid adds to all forms currently end up in the target request and thus in the form action of the next form.
Request arguments that start with two underscores should be ""framework internal"".
@Request::getArguments()@ should only return arguments that do *not* start with two underscores and we should add a non-API method -@Request::getReferrer()@- @Request::getReferringRequest()@ that would build a request object on the fly."
25804,TYPO3.Flow,Bug,"",Rejected,Must have,Distribution Base Package is not downloadable,Regine Rosewich,Bastian Waidelich,2011-04-08 05:14,"","",2011-04-06,"","",0,2011-04-06 11:10,"","",1777550,"","","The git-repository http://git.typo3.org/FLOW3/Distributions/Base.git is not clonable. The command
<pre>
git clone --recursive http://git.typo3.org/FLOW3/Distributions/Base.git 
</pre>

fails with the error:
<pre>
warning: remote HEAD refers to nonexistent ref, unable to checkout
</pre>
"
25816,TYPO3.Flow,Bug,"",Resolved,Must have,Improve error handling for invalid types,Robert Lemke,Robert Lemke,2011-09-09 08:21,Utility,1.0 beta 2,2011-04-07,"","",100,2011-04-07 02:50,"","",1809800,"","","After introducing the Utility\TypeHandling functions, an InvalidArgumentException is thrown if some @var annotation uses a wrong type (and certainly also if invalid types are used elsewhere). However, the exception doesn't (and can't) give any hint where the invalid type was declared.

We have two options to improve this:

1) let the TypeHandling functions return FALSE if the type could not be parsed and throw a proper exception in the calling method
2) let the calling method catch the TypeHandling exceptions and rethrow a better exception

I'm all for solution 1)"
25851,TYPO3.Flow,Bug,"",Resolved,Should have,"Methods whose name contain ""protected""  can't be adviced",Robert Lemke,Robert Lemke,2011-04-11 12:30,AOP,1.0 beta 1,2011-04-08,"","",100,2011-04-08 05:17,"","",1809750,"","","Due to a bug in the pointcut expression parser, methods which contain the string ""public"" or ""protected"" in their name cannot be adviced or trigger a Syntax Error exception in the parser."
25853,TYPO3.Flow,Bug,"",Resolved,Must have,Functional tests for persistence are broken,Karsten Dambekalns,Karsten Dambekalns,2011-04-12 09:30,- Testing -,1.0 beta 1,2011-04-08,"","",100,2011-04-08 06:42,"","",1809700,"","","When a database is configured globally it is used instead of the database configured in the FLOW3 package for Testing context.

If that is changed (by adding global configuration for Testing), the tests still fail due to tons of crap."
25858,TYPO3.Flow,Bug,"",Resolved,Should have,General global settings override local context settings,Karsten Dambekalns,Karsten Dambekalns,2011-04-11 06:00,Configuration,1.0 beta 1,2011-04-08,"","",100,2011-04-08 11:23,"","",1809650,"","","When evaluating the configuration of settings in FLOW3 the settings should be evaluated in the following order, later entries overriding previous ones:
# local settings
# global settings
# local context settings
# global context settings

Currently it is like this, though:
# local settings
# local context settings
# global settings
# global context settings

(local means per package, global means, erm, global)

One effect is that the persistence configuration for the Testing context is overwritten by the generic global configuration, which potentially breaks tests and dumps your data..."
25859,TYPO3.Flow,Bug,"",Resolved,Must have,CSRF protection does not work for methods that contain upper case characters,Bastian Waidelich,Andreas Förthner,2011-04-14 11:30,Security,"",2011-04-08,"","",100,2011-04-08 11:37,"","",1777500,"","","I'm trying to protect all methods of certain controllers with following policy rule:
<pre>
resources:
  methods:
    F3_BccVoting_RestrictedControllers: 'class(F3\BccVoting\Controller\(Circular|Elector|Electorate)Controller)'
</pre>

For some reason the @FLOW3-CSRF-TOKEN@ is not attached to links pointing to @F3\BccVoting\Controller\Elector::deleteAll()@. When clicking the link, the ""You are not allowed to perform this action."" exception though.

The problem is probably, that the policy service does not detect the method in the CsrfProtectionAspect because it is lowercased somewhere."
25874,TYPO3.Flow,Bug,"",Resolved,Should have,Security Randomizer produces a Warning on Windows if openssl_* is not available,Bastian Waidelich,Andreas Förthner,2011-04-14 09:00,Security,"",2011-04-11,"","",100,2011-04-11 04:27,"","",1777450,"","","In line 166ff of the Security_Randomizer script we're currently using to create the CSRF tokens a random string is generated with following command:
<pre>
$fp = @fopen('/dev/urandom', 'rb')
</pre>
Despite of the Error Control Operator a warning is produced that leads to an exception in Development mode.
We should check the OS here or try the windows commands first.."
25880,TYPO3.Flow,Bug,"",Resolved,Must have,Increase minimum PHP version,Bastian Waidelich,Bastian Waidelich,2011-04-12 06:30,Core,"",2011-04-11,"","",100,2011-04-11 06:04,"","",1777400,"","","Currently the @MINIMUM_PHP_VERSION@ is set to '5.3.0RC2-dev' in the Bootstrap.
But we're calling @\ReflectionMethod::setAccessible()@ in several places, which is only available with since PHP 5.3.2."
25881,TYPO3.Flow,Bug,"",Resolved,Must have,Inherited methods cannot be adviced,Robert Lemke,Robert Lemke,2011-04-12 05:30,AOP,1.0 beta 1,2011-04-11,"","",100,2011-04-11 06:04,"","",1809600,"","",Due to a bug in the AOP Proxy Class Builder methods of the target class which have been inherited from a parent class but haven't been overridden by the target class are not adviced. The problem is cause by using get_class_methods() instead of the corresponding ReflectionClass method. get_class_methods() only returns the names of methods which are declared directly in the given class while $class->getMethods() also returns those methods which were declared in a parent class.
25882,TYPO3.Flow,Feature,"",Resolved,Should have,Dedicated query log,Robert Lemke,Karsten Dambekalns,2011-05-03 11:30,Persistence,1.0 beta 1,2011-04-11,"","",100,2011-04-11 06:11,"","",1809550,"","","For debugging purposes it would be helpful to log queries executed by Doctrine into a dedicated log (""Query_Development.log"" for example). Like the other logs this should be configurable through settings."
25886,TYPO3.Flow,Task,"",Resolved,Should have,Clean up Request hierarchy and fix type hints,Karsten Dambekalns,Karsten Dambekalns,2011-07-20 03:39,MVC,1.0 beta 1,2011-04-11,"","",100,2011-04-11 07:36,"","",92450,"","","Currently we a hierarchy around RequestInterface like this:
<pre>RequestInterface
  + Request
  |   + Web\Request
  |       + Web\SubRequest
  + CLI\Request</pre>

This could be simplified by getting rid of @Request@ and combining it into @Web\Request@.

Another issue are type hints. Some places say they return @RequestInterface@ (e.g. the @ControllerContext@). This potentially leads to trouble, if one assumes @Request@ is returned, as that has some methods not defined in @RequestInterface@."
25902,TYPO3.Flow,Bug,"",Resolved,Must have,It's not possible to add an entity as link/redirect argument,Bastian Waidelich,Karsten Dambekalns,2011-05-02 15:00,Persistence,1.0 beta 1,2011-04-12,"","",100,2011-04-12 04:03,"","",1809500,"","","It's very common to redirect to a details view after creating an entity:
<pre>
<code class=""php"">
public function createAction(Foo $foo) {
	$this->fooRepository->add($foo);
	$this->redirect('show', NULL, NULL, array('foo' => $foo))
}
</code>
</pre>

But that won't work because the entity is not (yet) known to the Persistence Manager, which is asked for the identity of the object in the Route in order to convert Objects to Identity arrays:
<pre>
...
<code class=""php"">
if (is_object($routeValue)) {
	$uuid = $this->persistenceManager->getIdentifierByObject($routeValue);
</code>
...
</pre>"
25906,TYPO3.Flow,Bug,"",Resolved,Must have,Injection with settings use breaks,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:35,Object,1.0 beta 1,2011-04-12,"","",100,2011-04-12 05:28,"","",1809450,"","","If configuring injection in @Objects.yaml@ and making use of settings for a factory there the generated proxy is broken, because it assumes @$this->settings@ exists.

It should use the static object container to fetch settings instead."
25907,TYPO3.Flow,Task,"",New,Should have,Referrer should only contain the URI of the previous request,Bastian Waidelich,"",2011-04-12 06:00,MVC,"",2011-04-12,"","",0,2011-04-12 06:00,"","",92500,"","","Currently we store all the referrer parts (package, subpackage, controller, action & arguments) of the original request (and it's parent request if it is a sub request) in the hidden referrer fields of each Fluid form.
This is quite expensive and fails for arguments that are not serializable. The latter should be fixed with #25801, but it would be nicer to simply store the (relative?) referrer URI in a hidden field.
It is needed only in case of a validation error and in that case the Router could be used to get package & co from the referrer URI.

*NOTE:* POST arguments will be lost (a POST request to an edit form e.g.)"
25908,TYPO3.Flow,Bug,"",Resolved,Must have,ProxyClassBuilder produces invalid code for prototype arguments,Bastian Waidelich,Robert Lemke,2011-05-03 11:00,Object,"",2011-04-12,"","",100,2011-04-12 06:13,"","",1777350,"","","When using SwiftMailer the ProxyClassBuilder creates following code in @F3_SwiftMailer_Message.php@:
<pre>
<code class=""php"">
private function FLOW3_Proxy_injectProperties() {
	$this->mailer = new \F3\SwiftMailer\Mailer(X);
}
</code>
</pre>

This obviously leads to an exception here.
I got this fixed by changing line 99 of the ProxyClassBuilder from
<pre>
<code class=""php"">
$preparedArguments[] = 'X';
</code>
</pre>
to
<pre>
<code class=""php"">
$preparedArguments[] = '\F3\FLOW3\Core\Bootstrap::$staticObjectManager->get(\'' . $argumentValue . '\')';
</code>
</pre>

Additionally I needed to add following lines to the beginning of the @ObjectManager::create()@ method:
<pre>
<code class=""php"">
if (isset($this->objects[$objectName]['f'])) {
	return $this->buildObjectByFactory($objectName);
}
</code>
</pre>

Not sure, if that is a clean solution, but it seems to fix the issue for me.
"
25922,TYPO3.Flow,Bug,"",Closed,Should have,Proxy classes have to be regenerated when the Objects.yaml has changed,Andreas Förthner,"",2012-04-25 05:59,Object,"",2011-04-12,"","",0,2011-04-12 11:00,"","",1777300,"",FLOW3 1.0.0,Otherwise we might end up in proxies that don't reflect the dependencies configured in the Objects.yaml.
25923,TYPO3.Flow,Task,"",Resolved,Should have,Clean up session files in compile run,Robert Lemke,Christian Müller,2012-05-08 20:39,Session,1.1 beta 1,2011-04-12,"","",100,2011-04-12 11:31,"","",92600,"","","During the compile run, certain / most caches are rebuilt. If an account is currently logged in, it won't be able to access restricted resources after a compile run because the session cookie doesn't have corresponding information in FLOW3 anymore. In this case the user will experience an Access Denied exception (not a nice experience).

If the PHP session data would be trashed during the compile run, the user would get a fresh session cookie on the next hit and instead of the Access Denied would be redirected to an authentication entry point due to a AuthenticationRequiredException."
25961,TYPO3.Flow,Bug,"",Resolved,Should have,HTML should be escaped in the pre output of DebugExceptionHandler,Aske Ertmann,Christian Müller,2012-05-31 08:01,Error,1.0.5,2011-04-14,"","",0,2011-04-14 07:47,"","",1777250,"",FLOW3 1.0.0,"I noticed this today when doing some debugging. Seems the html outputted in the pre tags isn't escaped..

<pre>
<pre>00173:    echo '<html><body><textarea>' . $response . '</textarea></body></html>';
00174:   } else {

</pre>
</pre>"
25965,TYPO3.Flow,Bug,"",Resolved,Must have,"AOP ProxyClassBuilder always detects an aspect as ""changed"" if no Dependency Injection is used in this aspect (f.e. in LazyLoadingObjectAspect)",Sebastian Kurfuerst,Karsten Dambekalns,2011-04-19 05:32,AOP,1.0 beta 1,2011-04-14,"","",100,2011-04-14 10:39,"","",1809400,"","","h2. Problem

If there is an aspect A, which does not need dependency injection, and *another* class C is modified, the ProxyClassBuilder is incorrectly assuming that Aspect A has changed, and triggers a full rebuild of *all* AOP target classes.

From method build() in Aop/Builder/ProxyClassBuilder:
<code class=""php"">
$rebuildEverything = FALSE;
		foreach (array_keys($this->aspectContainers) as $aspectClassName) {
			if ($this->compiler->hasCacheEntryForClass($aspectClassName) === FALSE) {
				$rebuildEverything = TRUE;
				$this->systemLogger->log(sprintf('Aspect %s has been modified, therefore rebuilding all target classes.', $aspectClassName), LOG_INFO);
				break;
			}
		}
</code>

for aspects which do not need Dependency Injection, ""hasCacheEntryForClass"" is always FALSE. This becomes clear when looking into the Object\Proxy\Compiler:
There, the cache is only written for classes where a proxy is needed.

h2. Hotfix

It can be solved by adding empty Dependency Injection (though this is no real solution)... I am not sure how to solve this in a clean way, that's why I first wanted to document it here."
25966,TYPO3.Flow,Bug,"",Resolved,Must have,ResourcePointer breaks if you upload the same file twice,Andreas Förthner,Sebastian Kurfuerst,2011-05-20 03:35,Persistence,1.0 beta 1,2011-04-14,"","",100,2011-04-14 11:08,"","",1809350,"","","As ResourcePointer is no valueobject (for doctrine) anymore, the resource manager creates a second one for the same file, if you upload it twice. Now the sha1 hash is the identifier of the ResourcePointer, and therefore we get a duplicate entry error from the database as we have twice the ""same"" object."
25988,TYPO3.Flow,Bug,"",New,Should have,Useless proxies are built for some classes,Karsten Dambekalns,"",2011-10-21 07:20,Object,"",2011-04-15,"","",0,2011-04-15 09:15,"","",1777200,"",FLOW3 1.0.0,"Consider the proxies for the Package classes, they contain no code except for some checks on constructor arguments. In fact, they are only built at all because of that checking code.

The attached patch fixes this, but can probably be optimized (do we ever need the check)?"
26078,TYPO3.Flow,Task,"",Resolved,Should have,Enforce RouteParts to only return simple types,Bastian Waidelich,Bastian Waidelich,2011-04-20 10:00,MVC - Routing,"",2011-04-18,"","",100,2011-04-18 04:31,"","",93050,"","","After calling @Route::matches()@, @Route::getMatchResults()@ must not contain objects. See #25801 for reasoning.
Additionally we should enforce that @Route::getMatchingUri()@ always returns a string."
26107,TYPO3.Flow,Bug,"",Resolved,Must have,Proxy class builder rebuild classes without AOP on every change,Christopher Hlubek,Christopher Hlubek,2011-05-05 07:00,"","",2011-04-19,"","",100,2011-04-19 05:30,"","",1777150,"","","Since classes that don't get a proxy class (if they don't use DI or AOP) are not put inside the cache, the build method of the ProxyClassBuilder will not find a cache entry inside the classes cache (hasCacheEntryForClass is always false).

So one change of a file still means a lot of time to go through each of these classes and not building an AOP proxy for them on the next run.

One possibility would be to also cache classes without proxy code (means duplication) or to store information somewhere inside the object configuration cache (means some effort to keep it in sync if the class eventually introduces DI or AOP)."
26128,TYPO3.Flow,Bug,"",Resolved,Should have,Doctrine persistence manager compilation should be configurable,Christopher Hlubek,Karsten Dambekalns,2011-05-24 05:35,Persistence,"",2011-04-19,"","",100,2011-04-19 10:11,"","",1777100,"","","The compile method of the Doctrine persistence manager is currently hard-coded inside the FLOW3 Metapackage:

<pre>
class Package extends BasePackage {

	/**
	 * Invokes custom PHP code directly after the package manager has been initialized.
	 *
	 * @param \F3\FLOW3\Core\Bootstrap $bootstrap The current bootstrap
	 * @return void
	 */
	public function boot(\F3\FLOW3\Core\Bootstrap $bootstrap) {
		require_once(__DIR__ . '/../Resources/PHP/AutoLoader.php');

		$bootstrap->registerCompiletimeCommandController('flow3:object');
		$bootstrap->registerCompiletimeCommandController('flow3:core');
		$bootstrap->registerCompiletimeCommandController('flow3:cache');

		$dispatcher = $bootstrap->getSignalSlotDispatcher();
		$dispatcher->connect('F3\FLOW3\Core\Bootstrap', 'finishedRuntimeRun', 'F3\FLOW3\Persistence\PersistenceManagerInterface', 'persistAll');
		$dispatcher->connect('F3\FLOW3\Core\Bootstrap', 'bootstrapShuttingDown', 'F3\FLOW3\Configuration\ConfigurationManager', 'shutdown');
		$dispatcher->connect('F3\FLOW3\Core\Bootstrap', 'bootstrapShuttingDown', 'F3\FLOW3\Object\ObjectManagerInterface', 'shutdown');
		$dispatcher->connect('F3\FLOW3\Core\Bootstrap', 'bootstrapShuttingDown', 'F3\FLOW3\Reflection\ReflectionService', 'saveToCache');

		$dispatcher->connect('F3\FLOW3\Command\CoreCommandController', 'finishedCompileCommand', 'F3\FLOW3\Persistence\Doctrine\PersistenceManager', 'compile');
	}
}
</pre>

If an alternative (generic) persistence is used, there is no need for the compile call, especially since Doctrine puts restrictions on the model.

There should be some kind of configuration option to prevent the Doctrine compilation."
26129,TYPO3.Flow,Task,"",Closed,Should have,Establish simple conventions for qualified and unqualified class names,Robert Lemke,"",2011-09-30 06:21,"",1.0.0,2011-04-19,"","",0,2011-04-19 10:15,"","",93100,"","",Refactor code and update documentation so that fully qualified class names with a leading backslash are allowed (and suggested) everywhere possible.
26132,TYPO3.Flow,Feature,"",Closed,Should have,FloatToFloatConverter missing in F3\Property\TypeConverter,Regine Rosewich,"",2012-03-14 09:19,"","",2011-04-19,"","",0,2011-04-19 11:53,"","",1777050,"","","When trying to updat a table row with float values using the ExtDirect Interface FLOW3 throws an error:
<pre>
Exception while property mapping at property path ""gewicht"":No converter found which can be used to convert from ""float"" to ""float""
</pre>

Copying the existing IntegerToIntegerConverter Class to a FloatToFloatConverter Class and changing this Class correspondingly solves the problem. "
26159,TYPO3.Flow,Bug,"",Resolved,Must have,PersistenceMagicAspect doesn't set unique identifier for value objects,Christopher Hlubek,Christopher Hlubek,2011-05-04 04:00,Persistence,1.0 beta 1,2011-04-20,"","",100,2011-04-20 14:07,"","",1809300,"","","In change _Ia8a607386d69b00183f4b20acd2823296a7cfdff_ the pointcut for the value hash generation was changed to @before@. With the current way of getting properties from the object, every value object gets the same identity. The aspect should consider the method arguments to calculate the value hash."
26196,TYPO3.Flow,Bug,"",Closed,Should have,Doctrine2: Object of class F3\FLOW3\Resource\Resource could not be converted to string,Julian Kleinhans,Karsten Dambekalns,2011-04-28 04:14,Persistence,"",2011-04-23,"","",0,2011-04-23 05:48,"","",1777000,"","","Since Doctrine2 integration i had the following error if i will store a Resource

<pre>
#1: Catchable Fatal Error: Object of class F3\FLOW3\Resource\Resource could not be converted to string in /FLOW3/Packages/Framework/FLOW3/Resources/PHP/Doctrine/DBAL/Statement.php line 98 (More information)
</pre>

For example:
<pre>
$flagResource = $this->resourceManager->importResource('resource://Tutorials/Public/Images/Icons/Germany.png');

$languageModel = $this->objectManager->create('F3\Tutorials\Domain\Model\Language');
$languageModel->setName('German');
$languageModel->setOriginalResource($flagResource);
$this->languageRepository->add($languageModel);
</pre>


Its strange, because F3\FLOW3\Resource\Resource is an entity and not an valueobject thats need a _toString method

"
26358,TYPO3.Flow,Feature,"",Resolved,Must have,Initialize sessions only when necessary,Robert Lemke,Robert Lemke,2011-10-19 19:37,Session,1.0.0,2011-04-27,"","",100,2011-04-27 09:05,"","",1809250,"","","As soon as a session is initialized, a cookie is sent to the browser and therefore making client- or proxy-side caching impossible / hard. We therefore should only initialize a session when really needed, for example after authentication or when objects in a session scope exist."
26365,TYPO3.Flow,Bug,"",Resolved,Should have,Importing resources causes integrity constraint violation: 1062 Duplicate entry,Julian Kleinhans,Sebastian Kurfuerst,2011-05-24 09:35,Resource,1.0 beta 1,2011-04-27,"","",100,2011-04-27 15:55,"","",1776950,"","","Example

<pre>
$flagResource = $this->resourceManager->importResource('resource://Tutorials/Public/Images/Icons/Germany.png');
$languageModel = $this->objectManager->create('F3\Tutorials\Domain\Model\Language');
$languageModel->setName('German');
$languageModel->setImage($flagResource);
$this->languageRepository->add($languageModel);
</pre>

and than

<pre>
  $this->languageRepository->removeAll();
</pre>

Problem:
the hash in the flow3_resource_resourcepointer doesnt delete

if i add the language again

<pre>
$flagResource = $this->resourceManager->importResource('resource://Tutorials/Public/Images/Icons/Germany.png');
$languageModel = $this->objectManager->create('F3\Tutorials\Domain\Model\Language');
$languageModel->setName('German');
$languageModel->setImage($flagResource);
$this->languageRepository->add($languageModel);
</pre>

an uncaught exception throws

<pre>
#23000: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3bed18a6e887a13c69c7f17ef7a00bfaead3ba8d' for key 'PRIMARY'
</pre>


This is the model
<pre>
/**
 * A tutorial language
 *
 * @package Tutorials
 * @subpackage Domain/Model
 * @scope prototype
 * @entity
 */
class Language {

	/**
	 * @var string
	 * @validate Alphanumeric, StringLength(minimum = 1, maximum = 20)
	 */
	protected $name;

	/**
	 * @var \F3\FLOW3\Resource\Resource
	 * @ManyToOne(cascade={""all""})
	 * validate NotEmpty
	 */
	protected $image;

	/**
	 * Sets the languages name
	 *
	 * @param string $name
	 * @return void
	 */
	public function setName($name) {
		$this->name = $name;
	}
	
	/**
	 * Returns the languages name
	 *
	 * @return string
	 */
	public function getName() {
		return $this->name;
	}

	/**
	 * Sets the original resource
	 *
	 * @param \F3\FLOW3\Resource\Resource $originalResource
	 * @return void
	 */
	public function setImage(\F3\FLOW3\Resource\Resource $image) {
		$this->image = $image;
	}

	/**
	 * Returns the original resource
	 *
	 * @return \F3\FLOW3\Resource\Resource $image
	 */
	public function getImage() {
		return $this->image;
	}
	
}
</pre>"
26394,TYPO3.Fluid,Bug,"",Rejected,Must have,Form Viewhelper does not work with html5 custom data attributes,martin no-lastname-given,"",2011-10-03 04:26,ViewHelpers,"",2011-04-28,"","",0,2011-04-28 04:58,"","",97950,"","","@<f:form.textbox property=""name"" data-anything=""some info"" />@

Will produce no output at all. 

It would be great if fluid's tag-processing was more liberal and transparent in general. Maybe switch to DOM instead of the custom implementation?"
26411,TYPO3.Flow,Feature,"",Closed,Must have,More meaningful exception on DB errors,Karsten Dambekalns,Karsten Dambekalns,2011-05-31 03:59,Persistence,1.0 beta 1,2011-04-28,"","",0,2011-04-28 09:32,"","",98500,"","","In case of a wrong Database Connection specification (wrong host, wrong socket, credentials, database not existing, ...) the user should get meaningful exception messages. 

Bug auction task won by T3N."
26481,TYPO3.Fluid,Bug,Task #26658: Make Form ViewHelpers consistent,Resolved,Should have,hidden fields should be rendered in extra section,Sven-S. Porst,Bastian Waidelich,2012-06-18 11:38,ViewHelpers,1.1 RC1,2011-04-29,"","",100,2011-04-29 03:33,"","",101550,"",Git master,"The form.checkbox view helper works in an unexpected way because it creates two, rather than one <input> elements.

This is a problem when using markup like

<pre>
<label>
  <f:form.checkbox ...>
  Checkbox name
</label>
</pre>

as one ends up having two <input>s inside the <label> which is invalid HTML. One has to make the effort to create id and for attributes for both tags to get things working correctly. This could be simpler.

In the long term it may be worth considering to add explicit support for <label> tags to the form field view helpers, to encourage label usage by offering straightforward support for it from the templating engine.

*UPDATE:* The solution would be to render the ""automatically generated"" hidden fields for checkboxes and select dropdowns in the hidden fields section at the beginning of a form"
26482,TYPO3.Flow,Bug,"",Resolved,Should have,Must specify table name with unique constraints and indexes with Doctrine 2,Regine Rosewich,Karsten Dambekalns,2011-05-04 11:00,Persistence,1.0 beta 1,2011-04-29,"","",100,2011-04-29 03:40,"","",101600,"","","If a unique-constraint or an additional index is needed for a table/object, the Doctrine 2 ORM has the possiblity to do this with a special annotation in the head of the class as shown in the following example:
<pre>
@table(uniqueConstraints={@UniqueConstraint(name=""klasse_unique"",columns={""klasse""})})
</pre>
If the full table name is not given in the annotation, like in the example above, the Doctrine 2 ORM generates a table which has exactly the name of the class. This collides with the new table-naming schema which normally names table like <package>_<subfolder of Domain\Model folder - if existing>_<classname>.

If you fully qualify the @table annotation like shown below it works fine.
<pre>
@table(name=""welupdm_stammdaten_klasse"", uniqueConstraints={@UniqueConstraint(name=""klasse_unique"",columns={""klasse""})})
</pre>

It should not be necessary to furnish the fully qualified table-name unless explicitly wanted or needed."
26493,TYPO3.Flow,Bug,"",Resolved,Must have,Repository::countAll() does not return integers,Bastian Waidelich,Karsten Dambekalns,2011-05-04 16:30,Persistence,1.0 beta 1,2011-04-29,"","",100,2011-04-29 06:53,"","",102150,"","",RepositoryInterface::countAll() should return integers. But apparently the doctrine integration does not cast the return type thus <pre>$repository->countAll() === 1</pre> will never be TRUE.
26531,TYPO3.Welcome,Bug,"",Resolved,Should have,Welcome package has fatal errors in link generation,Christian Jul Jensen,Christian Jul Jensen,2011-05-20 14:34,"","",2011-05-01,"","",100,2011-05-01 05:11,"","",104000,"","","It seems that FLOW3 now actually checks the presence of the package/controller/actions that links are generated for.

There are 2 links in the welcome package which are for non-existing combinations resulting in a fatal erros when trying to run the FLOW3 distribution for the first time."
26532,TYPO3.Welcome,Task,"",Resolved,Should have,Text in welcome package is outdated,Christian Jul Jensen,Robert Lemke,2011-07-06 06:32,"",1.0 beta 1,2011-05-01,"","",100,2011-05-01 05:12,"","",104050,"","","The instructional text in the welcome package is no longer valid, since the commandline tool has changed format."
26533,TYPO3.Kickstart,Bug,"",Resolved,Should have,Actions are not callable with new CLI controller,Christian Jul Jensen,Christopher Hlubek,2011-07-06 10:14,"",1.0 beta 1,2011-05-01,"","",100,2011-05-01 05:57,"","",104100,"","","The kickstarter is not usable with the new CLI script.

The actions needs to be changed to commands."
26542,TYPO3.Flow,Bug,"",Resolved,Must have,Autoincrement unique identifiers not working anymore,Martin Brüggemann,Karsten Dambekalns,2011-05-17 15:51,Persistence,1.0 beta 1,2011-05-01,"","",100,2011-05-01 17:15,"","",104550,"","","I used the @Id and @GeneratedValue properties as seen in the blog example package to have short urls with integer identifiers like /ticket/234 instead of FLOW3 standard resource identifiers. Unfortunately it dosn't work with relations.

<pre>
Uncaught Exception in FLOW3 Column name `flow3_persistence_identifier` referenced for relation from F3\Guruhelp\Domain\Model\Message towards F3\Guruhelp\Domain\Model\Ticket does not exist. thrown in file Packages/Framework/FLOW3/Resources/PHP/Doctrine/ORM/Tools/SchemaTool.php in line 485
</pre> 

This is an example model

<pre>
<?php
declare(ENCODING = 'utf-8');
namespace F3\Guruhelp\Domain\Model;

/**
 * @scope prototype
 * @entity
 */
class Ticket {

    /**
     * @identity
     * This ID is only for the ORM.
     *
     * @var integer
     * @Id
     * @GeneratedValue
     */
     protected $id;

[...]
   
    /**
     * @var \F3\Guruhelp\Domain\Model\Project
     * @ManyToOne(inversedBy=""tickets"")
     */
     protected $project;
 
[...]
}
</pre>"
26560,TYPO3.Flow,Feature,"",Resolved,Should have,Use reverse index for AOP matching,Christopher Hlubek,"",2012-03-14 09:46,AOP,"",2011-05-02,"","",0,2011-05-02 10:51,"","",105400,"","","The AOP matching done inside the ProxyClassBuilder is very slow. It doesn't scales well, because the complexity is tied by the number of pointcuts * methods (over all proxyable classes).

Since this number could get very large and the matching is a costly operataion, we should use a reverse index to get only the interesting pointcuts for a given target class.

Most pointcuts like @method(F3\FLOW3\MVC\Web\Routing\Router->resolve())@ could be easily indexed by using the class name and method name as the keys. Also the class and method tags could be used in an index. The setting pointcut filter could be evaluated and skipped. Since we have the 

This could greatly reduce the number of pointcut matchings done for each method."
26565,TYPO3.Flow,Bug,"",Resolved,Must have,Wrong doc comment in proxy class breaks ReflectionService->getMethodTagsValues,Christopher Hlubek,Christopher Hlubek,2011-05-04 11:30,"","",2011-05-02,"","",100,2011-05-02 11:55,"","",105650,"","",The method ReflectionService->getMethodTagsValues does a MethodReflection on the given class. But the new proxy mechanism generates a wrong method doc comment (tag values in one line).
26582,TYPO3.Flow,Bug,"",Rejected,Must have,Repository remove() throws error even if __identity is furnished,Regine Rosewich,Karsten Dambekalns,2011-10-20 09:13,Persistence,1.0.0,2011-05-03,"","",0,2011-05-03 07:24,"","",106500,"","","The attempt to remove an object from the repository throws an error even if the __identity (flow3_persistence_identifier) is furnished. If the object to remove is explicitly
searched with a query before removing it, the remove() works. Maybe the object-constellation causes the error as the 'complete' object consist of an abstract-object and the real-object joined with @InheritanceType(""JOINED"").

The error-message is as follows:
<pre>
A detached entity can not be removed. #0 /Applications/MAMP/htdocs/FLOW3/Packages/Framework/FLOW3/Resources/PHP/Doctrine/ORM/UnitOfWork.php(1264): Doctrine\ORM\UnitOfWork->doRemove(Object(F3\WeluPdm\Domain\Model\Stammdaten\Klasse), Array)
#1 /Applications/MAMP/htdocs/FLOW3/Packages/Framework/FLOW3/Resources/PHP/Doctrine/ORM/EntityManager.php(472): Doctrine\ORM\UnitOfWork->remove(Object(F3\WeluPdm\Domain\Model\Stammdaten\Klasse))
#2 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_Persistence_Doctrine_PersistenceManager_Original.php(147): Doctrine\ORM\EntityManager->remove(Object(F3\WeluPdm\Domain\Model\Stammdaten\Klasse))
#3 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_Persistence_Doctrine_Repository_Original.php(100): F3\FLOW3\Persistence\Doctrine\PersistenceManager_Original->remove(Object(F3\WeluPdm\Domain\Model\Stammdaten\Klasse))
#4 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_WeluPdm_Service_ExtDirect_V1_Controller_Stammdaten_KlassifizierungController_Original.php(200): F3\FLOW3\Persistence\Doctrine\Repository_Original->remove(Object(F3\WeluPdm\Domain\Model\Stammdaten\Klasse))
#5 [internal function]: F3\WeluPdm\Service\ExtDirect\V1\Controller\Stammdaten\KlassifizierungController_Original->removeKlasseAction(Object(F3\WeluPdm\Domain\Model\Stammdaten\Klasse))
#6 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Controller_ActionController_Original.php(283): call_user_func_array(Array, Array)
#7 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Controller_ActionController_Original.php(183): F3\FLOW3\MVC\Controller\ActionController_Original->callActionMethod()
#8 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Dispatcher_Original.php(106): F3\FLOW3\MVC\Controller\ActionController_Original->processRequest(Object(F3\FLOW3\MVC\Web\Request), Object(F3\ExtJS\ExtDirect\TransactionResponse))
#9 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Dispatcher.php(101): F3\FLOW3\MVC\Dispatcher_Original->dispatch(Object(F3\FLOW3\MVC\Web\Request), Object(F3\ExtJS\ExtDirect\TransactionResponse))
#10 [internal function]: F3\FLOW3\MVC\Dispatcher->dispatch(Object(F3\FLOW3\MVC\Web\Request), Object(F3\ExtJS\ExtDirect\TransactionResponse))
#11 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Dispatcher.php(89): call_user_func_array(Array, Array)
#12 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_AOP_Advice_AdviceChain_Original.php(74): F3\FLOW3\MVC\Dispatcher->FLOW3_AOP_Proxy_invokeJoinPoint(Object(F3\FLOW3\AOP\JoinPoint))
#13 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_Security_Aspect_RequestDispatchingAspect_Original.php(131): F3\FLOW3\AOP\Advice\AdviceChain_Original->proceed(Object(F3\FLOW3\AOP\JoinPoint))
#14 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_AOP_Advice_AroundAdvice_Original.php(48): F3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original->setAccessDeniedResponseHeader(Object(F3\FLOW3\AOP\JoinPoint))
#15 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_AOP_Advice_AdviceChain_Original.php(72): F3\FLOW3\AOP\Advice\AroundAdvice_Original->invoke(Object(F3\FLOW3\AOP\JoinPoint))
#16 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_Security_Aspect_RequestDispatchingAspect_Original.php(92): F3\FLOW3\AOP\Advice\AdviceChain_Original->proceed(Object(F3\FLOW3\AOP\JoinPoint))
#17 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_AOP_Advice_AroundAdvice_Original.php(48): F3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original->blockIllegalRequestsAndForwardToAuthenticationEntryPoints(Object(F3\FLOW3\AOP\JoinPoint))
#18 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_AOP_Advice_AdviceChain_Original.php(72): F3\FLOW3\AOP\Advice\AroundAdvice_Original->invoke(Object(F3\FLOW3\AOP\JoinPoint))
#19 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_Security_Aspect_RequestDispatchingAspect_Original.php(75): F3\FLOW3\AOP\Advice\AdviceChain_Original->proceed(Object(F3\FLOW3\AOP\JoinPoint))
#20 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_AOP_Advice_AroundAdvice_Original.php(48): F3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original->initializeSecurity(Object(F3\FLOW3\AOP\JoinPoint))
#21 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_AOP_Advice_AdviceChain_Original.php(72): F3\FLOW3\AOP\Advice\AroundAdvice_Original->invoke(Object(F3\FLOW3\AOP\JoinPoint))
#22 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Dispatcher.php(115): F3\FLOW3\AOP\Advice\AdviceChain_Original->proceed(Object(F3\FLOW3\AOP\JoinPoint))
#23 /Applications/MAMP/htdocs/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_ExtJS_ExtDirect_RequestHandler_Original.php(115): F3\FLOW3\MVC\Dispatcher->dispatch(Object(F3\FLOW3\MVC\Web\Request), Object(F3\ExtJS\ExtDirect\TransactionResponse))
#24 /Applications/MAMP/htdocs/FLOW3/Packages/Framework/FLOW3/Classes/Core/Bootstrap.php(320): F3\ExtJS\ExtDirect\RequestHandler_Original->handleRequest()
#25 /Applications/MAMP/htdocs/FLOW3/Packages/Framework/FLOW3/Classes/Core/Bootstrap.php(174): F3\FLOW3\Core\Bootstrap->handleWebRequest()
#26 /Applications/MAMP/htdocs/FLOW3/Web/index.php(38): F3\FLOW3\Core\Bootstrap->run()
#27 {main}
</pre> "
26658,TYPO3.Fluid,Task,Task #26664: Clean up Form ViewHelpers,New,Won't have this time,Make Form ViewHelpers consistent,Sebastian Kurfuerst,"",2012-06-20 05:37,ViewHelpers,"",2009-12-05,"","",75,2011-05-06 04:03,"","",109950,0.00,"",... should be done on T3DD
26662,TYPO3.Flow,Task,"",Resolved,Must have,Fix and cleanup UriBuilder,Bastian Waidelich,Bastian Waidelich,2011-05-10 05:35,MVC - Routing,"",2011-05-06,"","",100,2011-05-06 04:58,"","",110150,"","","Currently the UriBuilder does not reliably support SubRequests and it has some flaws, that should be fixed.
Some facts:

    * *setRequest()* resets the UriBuilder ($this->reset()) - _correct_

    * *setRequest()* expects an \F3\FLOW3\MVC\RequestInterface - _should be \F3\FLOW3\MVC\Web\Request !?_

    * *setArguments()* prefixes specified arguments, if argumentPrefix is not empty - _incorrect, setArguments should be a simple setter for $this->arguments_

    * *getArgments()* returns all arguments, including non-prefixed - _correct, if setter is fixed_

    * *setFormat()* stores the specified format string lower cased - _probably ok_

    * *setArgumentPrefix()* (non-api) ""Specifies the prefix to be used for all arguments."" - _should be -renamed to setControllerArgumentPrefix()- removed. Prefix comes from Request::getArgumentNamespace()_

    * *reset()* sets argument prefix and all arguments of the parent request if $this->request is a SubRequest - _incorrect. reset(9 should completely reset the UriBuilder (except for the request). parent request arguments should be added in build()_

    * *uriFor()* modifies $this->arguments - _incorrect, modified arguments should be passed to build() as method arguments_


"
26664,TYPO3.Fluid,Task,"",New,Won't have this time,Clean up Form ViewHelpers,Sebastian Kurfuerst,"",2012-06-20 05:37,ViewHelpers,"",2009-12-05,"","",75,2011-05-06 05:04,"","",110200,0.00,"",""
26665,TYPO3.Fluid,Feature,"",Resolved,Should have,Fluid: Implement String comparison,Sebastian Kurfuerst,"",2013-05-15 10:41,"","",2010-03-10,"","",100,2011-05-06 05:13,"","",1765700,0.00,"",""
26669,TYPO3.Flow,Feature,"",Resolved,Must have,Routing should support multidimensional arguments,Bastian Waidelich,Bastian Waidelich,2011-05-17 04:05,MVC - Routing,"",2011-05-06,"","",100,2011-05-06 05:43,"","",110400,"","","In order to create URIs for plugins and other sub requests (e.g. widgets) the routing needs to support default values of type array. Additionally the UriPattern must support the ""Fluid dot syntax"".

An example for such a route:
<pre>
<code class=""yaml"">
-
  name:          'Frontend content with plugin parameters and (HTML) format'
  uriPattern:    '{node}/conference/{f3_conference_typoscript_plugin.@action}.html'
  defaults:
    '@package':    'TYPO3'
    '@controller': 'Frontend\Node'
    '@format':     'html'
    '@action':     'show'
    'f3_conference_typoscript_plugin':
      '@package':    'Conference'
      '@controller': 'Account\Login'
  routeParts:
    node:
      handler:    F3\TYPO3\Routing\FrontendNodeRoutePartHandler
</code>
</pre>"
26687,TYPO3.Flow,Bug,"",Resolved,Must have,UTF-8 support is broken,Martin Brüggemann,Karsten Dambekalns,2011-05-12 04:35,Persistence,1.0 beta 1,2011-05-06,"","",100,2011-05-06 16:32,"","",111300,"","","I just saved some FLOW3 objects with german umlauts and it seems that there's a ""SET NAMES UTF-8"" or some Doctrine2 UTF-8 connection setting missing. Also all autogenerated MySQL tables have latin1_swedish_ci collation. Should be easy to fix this.

These are my connection settings in Settings.yaml

<pre>
FLOW3:
  persistence:
    backendOptions:
      driver: pdo_mysql
      host: 127.0.0.1
      port: 3306
      dbname: guruhelp_local
      user: root
      password: dasistnureinhohlespasswortdaskeinerkennt
      path: guruhelp
</pre>

"
26688,TYPO3.Flow,Feature,"",Closed,Should have,Magic Object Routes,Martin Brüggemann,Bastian Waidelich,2011-05-07 01:59,MVC - Routing,"",2011-05-06,"","",0,2011-05-06 16:48,"","",111350,"","","I'm dreaming of having a more intuitive way of defining default object-controller routes like this:

<pre>
-
  name: 'Ticket'
  uriPattern: 'tickets/{ticket}(.{@format})'
  defaults:
    @package:    Guruhelp
    @controller: Ticket
    @action:     show
    @format:     html
  routeParts:
    ticket:
      handler: F3\Guruhelp\Routing\TicketRoutePartHandler
</pre>

Should look like this:

<pre>
-
  name: 'Ticket'
  uriPattern: 'tickets/{ticket}(.{@format})'
  defaults:
    @package:    Guruhelp
    @controller: Ticket
    @action:     show
    @format:     html
</pre>

And the route configuration should autodetect what identifier to use (uuid or autoincrement integer values, depending on the model-aspect-definition) for resolving the object. Routes like tickets/9fadfc1e-c268-40f1-8190-547448d0d4b8.xml should work ""out-of-the-box"".

Today I have to use such an ugly route:

<pre>
-
  name: 'Ticket detail'
  uriPattern: 'tickets/show(.{@format})'
  defaults:
    @package:    Guruhelp
    @controller: Ticket
    @action:     show
    @format:     html
</pre>

..that resolves in something like this: tickets/show?ticket[__identity]=5f1e5e06-2430-45be-addf-4b5236d27229
"
26692,TYPO3.Fluid,Feature,"",Rejected,Must have,String comparison support for f:if,Martin Brüggemann,Bastian Waidelich,2011-05-24 05:42,ViewHelpers,"",2011-05-07,"","",0,2011-05-07 16:14,"","",111550,"","","I think it's really necessary that <f:if> fully supports simple string comparisons like this:

<pre>
<f:if condition=""{object.type} == 'cat'"">
  <p>I am a cat.</p>
</f:if>
</pre>

Today every string comparison has to be workarounded by setting additional boolean view-variables at the controller.

<pre>
<f:if condition=""{isCat}"">
  <p>I am a cat.</p>
</f:if>
</pre>
"
26745,TYPO3.Flow,Feature,"",New,Should have,MVC should know about entities lying in the session,Andreas Förthner,"",2012-07-10 06:14,MVC,"",2011-05-11,"","",100,2011-05-11 04:37,"","",114200,"","","If you want to prepare/edit/create an entity over some steps before you want persist it in the database, you will put it somewhere in the session. So far so good. As soon as you have an entity lying in the session and want to forward or redirect it to another action the persistence manager will be asked to return the identifier, to encode and decode the object to/from its identity array. As the entity is not yet added to a repository, the persistence manager will return FALSE and the forward/redirect breakes.

We should enable the persistence manager to know about every entity in the session and look at them before asking the underlying persistence layer (e.g. doctrine)."
26765,TYPO3.Flow,Feature,"",Accepted,Should have,Support class schema features for every reflected class,Christopher Hlubek,Karsten Dambekalns,2013-02-14 14:47,Reflection,"",2011-05-11,"","",0,2011-05-11 11:59,"","",115150,"","","Some features of the reflection in FLOW3 are only available through the class schema, e.g.:

* Property types
* Check if a property is an array or multi-valued

The problem is, that the class schema is only generated for entities or value objects. There should be some kind of general class schema for non-persistent classes or reflection service methods to get this information."
26767,TYPO3.Flow,Feature,"",New,Should have,Reflection method to get a method return type and documentation,Christopher Hlubek,"",2011-08-29 15:45,Reflection,"",2011-05-11,"","",0,2011-05-11 12:04,"","",115250,"","","Some use cases like the WSDL export in the SOAP package need more information about classes and methods than the reflection service currently supports. It is possible to get method parameters with type and options for example, but not the method return type.

There should be methods in the reflection service to get the method return type or the documentation of the return annotation."
26783,TYPO3.Flow,Feature,"",Rejected,Could have,Support settings via OS Environment,Robert Lemke,Christian Müller,2012-10-10 05:04,Configuration,2.0 beta 1,2011-05-12,"","",0,2011-05-12 09:52,"","",115950,"","","For sensitive data or other purposes it would be nice to support altering settings by some environment variables.

Example:

(YAML):
FLOW3:
  persistence:
    backendOptions:
      password: 'mypassword'

(.htaccess):

SetEnv FLOW3_FLOW3_PERSISTENCE_BACKENDOPTIONS_PASSWORD ""mypassword""
"
26785,TYPO3.Flow,Feature,"",Resolved,Should have,Doctrine Query Execution Commands,Robert Lemke,Karsten Dambekalns,2011-06-01 05:35,Persistence,1.0 beta 1,2011-05-12,"","",100,2011-05-12 10:00,"","",116050,"","","For the command line in general, but especially for the interactive shell, it would be nice to be able to execute arbitrary DQL / SQL queries and see the raw / polished output."
26786,TYPO3 Flow Base Distribution,Feature,"",Resolved,Must have,Use a safe password hashing mechanism,Christopher Hlubek,Christopher Hlubek,2011-07-18 06:05,"",1.0 beta 1,2011-05-12,"","",100,2011-05-12 10:36,"","",116100,"","","The current AccountFactory uses the @generateSaltedMd5@ method of the @HashService@. Since MD5 is considered to be not safe, we should switch to either sha1 or another method for password hashing (e.g. also use an hmac)."
26843,TYPO3.Fluid,Feature,"",Resolved,Should have,Padding Type in ViewHelper,Lars Malach,Bastian Waidelich,2011-09-13 03:45,ViewHelpers,"",2011-05-17,"","",100,2011-05-16 18:05,"","",118850,"","","Add the padding type as possible parameters to the PaddingViewHelper.

Of Example:
<pre><code class=""php"">
class Tx_Fluid_ViewHelpers_Format_PaddingViewHelper extends Tx_Fluid_Core_ViewHelper_AbstractViewHelper {
	/**
	 * Pad a string to a certain length with another string
	 *
	 * @param integer $padLength Length of the resulting string. If the value of pad_length is negative or less than the length of the input string, no padding takes place.
	 * @param string $padString The padding string
	 * @param string $padType Append the padding at this site (Possible values: right,left,both. Default: right)
	 * @return string The formatted value
	 * @author Bastian Waidelich <bastian@typo3.org>
	 * @api
	 */
	public function render($padLength, $padString = ' ', $padType = 'right') {
		$string = $this->renderChildren();

		$padTypes = array(
			'left' => STR_PAD_LEFT,
			'right' => STR_PAD_RIGHT,
			'both' => STR_PAD_BOTH,
		);
		if (!isset($padTypes[$padType])) {
			$padType = 'right';
		}

		return str_pad($string, $padLength, $padString, $padTypes[$padType]);
	}
}
</code></pre>"
26844,TYPO3.Fluid,Bug,"",Resolved,Should have,Wrong PaddingViewHelper description,Lars Malach,Bastian Waidelich,2011-09-13 03:45,ViewHelpers,"",2011-05-17,"","",100,2011-05-16 18:08,"","",118900,"","","File: PaddingViewHelper.php, Line: 49
(Just a copy of the PrintfViewHelper description)
<pre>
Format the arguments with the given printf format string.
</pre>

Could be:
<pre>
Pad a string to a certain length with another string
</pre>"
26862,TYPO3.Flow,Bug,"",Resolved,Must have,Doctrine\Query is not serializable,Sebastian Kurfuerst,Karsten Dambekalns,2011-06-07 13:35,Persistence,1.0 beta 1,2011-05-17,2011-05-18,"",100,2011-05-17 09:51,"","",119800,"","","For widgets, it is crucial that Query objects are serializable and deserializeable,
so one should be able to do:

 $newQuery = deserialize(serialize($query))
 $newQuery->execute() (or something else)

Maybe a functional test for this would be nice?

One thing I already discovered further is that the properties in QueryResult should be *protected*, not *private*.

Greets,
Sebastian"
26879,TYPO3.Flow,Bug,"",Resolved,Should have,Clone of lazy objects in generic persistence does not initialize the cloned object,Christopher Hlubek,Christopher Hlubek,2011-05-23 08:05,Persistence,"",2011-05-18,"","",100,2011-05-18 11:16,"","",120600,"","","With the LazyLoadingAspect on the @__clone@ method, the object in @thawProperties@ closure references still the original object after a clone. As a result, the cloned object is not initialized but marked as dirty and the persistence state is inconsistent.

As a workaround, the actual proxy in the aspect should be passed to the closure to fix the wrong reference in the case of a clone."
26880,TYPO3.Flow,Bug,"",Resolved,Must have,shutdownObject is not called anymore,Andreas Förthner,Andreas Förthner,2011-05-24 09:37,Object,1.0 beta 1,2011-05-18,"","",0,2011-05-18 11:31,"","",120650,"","","Since the new operator rewrite, shutdownObject is not called anymore, because the registration of shutdown objects got list. This has to be reintegrated into the proxy compilation."
26885,TYPO3.Flow,Bug,"",Resolved,Should have,It's not possible to order by relation properties,Bastian Waidelich,Karsten Dambekalns,2011-12-24 08:14,Persistence,"",2011-05-18,"","",0,2011-05-18 16:03,"","",120900,"",FLOW3 1.0.0,"The following code (in a custom repository) won't work if ""proposedSessionType"" is a relation..

<pre>
<code class=""php"">
protected $defaultOrderings = array(
	'proposedSessionType' => QueryInterface::ORDER_ASCENDING,
);
</code>
</pre>

Also it does not work to order by properties of a relation like:

<pre>
<code class=""php"">
protected $defaultOrderings = array(
	'proposedSessionType.title' => QueryInterface::ORDER_ASCENDING,
);
</code>
</pre>"
26886,TYPO3.Flow,Bug,"",Resolved,Must have,Uploaded resources get lost on validation errors,Bastian Waidelich,Sebastian Kurfuerst,2011-05-20 03:35,Resource,1.0 beta 1,2011-05-18,"","",100,2011-05-18 16:24,"","",120950,"","","If a resource is created through an upload (via ResourceTypeConverter) and a validation error occurs, there is currently no way of retrieving the resource in the referring action (neither from the controller nor in Fluid).

One solution would be to always persist the ResourcePointer on creation and extend the ResourceTypeConverter so that it can handle a serialized string that contains the Resource hash and required meta info (mime type, filename, ...)"
26903,TYPO3.Flow,Bug,"",Resolved,Should have,Flush Doctrine metadata cache with FLOW3 caches,Karsten Dambekalns,Karsten Dambekalns,2012-06-20 14:53,Persistence,1.1 beta 3,2011-05-19,"","",100,2011-05-19 05:33,"","",121800,"",Git 1.1,"When the FLOW3 caches are flushed, the Doctrine caches should also be flushed, and when we compile new metadata as well."
26943,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Add i18n support to domain models,Kevin Ulrich Moschallski,Karsten Dambekalns,2013-05-21 07:28,I18n,"",2011-05-20,"","",0,2011-05-20 09:22,"","",123400,"","","Hi,

i found a doctrine Behavioral Extension which support annotation bases translation for domain models. Look at it here:

http://www.doctrine-project.org/blog/doctrine2-behavioral-extensions

It also has another interesting extension for updating a timestamp property every time an property is changed in a model. Don't know if FLOW3 supports something already, just for notice.

I tried to implement this extension myself in the EntityManagerFactory, but without luck. But i think i18n support for domain models is a major feature missing for beta1.

Regards,
Kevin"
26945,TYPO3.Flow,Feature,"",Resolved,Should have,Rewrite flashMessages to have similar functionality as in v4,Christian Müller,Christian Müller,2011-10-19 19:37,MVC,1.0.0,2011-05-20,"","",100,2011-05-20 09:39,"","",123500,"","",""
26950,TYPO3.Flow,Feature,"",Rejected,Should have,Add AccessDeniedException Handler,Heiko Kromm,"",2012-03-14 09:31,Security,"",2011-05-20,"","",0,2011-05-20 11:00,"","",123700,"","",If I have an AccessDeniedExeption caused by policy restrictions there should be a handler for redirecting to a different action.
26972,TYPO3.Flow,Bug,"",Resolved,Must have,File extension of resources must be lower cased,Bastian Waidelich,Bastian Waidelich,2011-05-23 04:05,Resource,"",2011-05-21,"","",100,2011-05-21 11:51,"","",124100,"","","When uploading a resource with upper case characters in the file extension (for instance ""SomeFile.JPG"") the saved persistent resource will be saved with a lower cased file extension (""<hash>.jpg""). This is correct, because it avoids clashes for two files with the same content (= same hash).
@Resource::getFileExtension()@ already returns the lowercased extension, @Resource::getFilename()@ does not yet."
26986,TYPO3.Flow,Feature,"",Accepted,Should have,Debug toolbar,Fernando Arconada,Christian Müller,2012-06-08 14:41,"","",2011-05-23,"","",0,2011-05-23 05:58,"","",124800,"","",I think that FLOW3 should have a debug toolbar like the Symfony one in developer mode
27015,TYPO3.Flow,Feature,"",Resolved,Should have,__sleep does not respect entities lying in arrays or other collections,Andreas Förthner,Andreas Förthner,2011-09-09 05:06,Object,1.0 beta 2,2011-05-24,"","",100,2011-05-24 09:41,"","",126250,"","","__sleep has to iterate over arrays/collections/splObjectSorage and search for entities that should not be serialized, but stored as identity array."
27045,TYPO3.Flow,Bug,"",New,Should have,Introduced properties are not available in the reflection service during a compile run,Andreas Förthner,"",2013-12-07 05:14,AOP,"",2011-05-26,"","",0,2011-05-26 05:52,"","",127750,"",FLOW3 1.0.0,"The AOP proxy builder must register each introduced property, that the other proxy builders can use the reflection service to ask for them..."
27087,TYPO3.Flow,Bug,"",Resolved,Must have,Command controllers cannot use arguments,Karsten Dambekalns,Christopher Hlubek,2011-05-31 10:31,MVC,1.0 beta 1,2011-05-27,"","",0,2011-05-27 09:37,"","",129850,"","",.
27088,TYPO3.Flow,Bug,"",On Hold,Should have,initializeObject() is called too early when reconstructing entities,Andreas Förthner,"",2013-04-08 11:53,Object,"",2011-05-27,"","",0,2011-05-27 09:40,"","",129900,"",FLOW3 1.0.0,"As it is called in __wakeup(), Doctrine did not yet inject the persisted properties, this is not what we want. The object should be fully initialized (DI and Persistence) when initializeObject() ist called. The same is true for objects fetched from persistence."
27091,TYPO3.Fluid,Feature,"",Closed,Should have,Viewhelpers for strtolower/strtoupper,Georg Ringer,"",2013-06-04 09:58,ViewHelpers,"",2011-05-27,"","",0,2011-05-27 10:08,"","",130050,"","","I would like to see 2 viewhelpers for strtolower() and strtoupper().

At the first this maybe sounds silly because this can be solved with CSS but this is not entirly true. There are languages (e.g. greek) where doing a simple ""text-transform:uppercase"" will be stupid because this can change the meaning of the text. The reason is because CSS is stupid and doesn't take the locale into account but PHP does.

"
27115,TYPO3.Flow,Feature,"",Closed,Must have,AOP should provide a way to change method parameters,Fernando Arconada,"",2011-10-17 17:31,AOP,"",2011-05-29,"","",0,2011-05-29 04:53,"","",131250,"","","Actually even with @around you cant change the called method arguments. There is a getArguments in the joinpoint but there isnt any setArguments, actually you can only change the returned value.
"
27116,TYPO3.Flow,Feature,"",Closed,Should have,Routing: Declared variables only available in POST but not in GET regexpr signature,Fernando Arconada,Bastian Waidelich,2011-09-30 06:08,MVC - Routing,"",2011-05-29,"","",0,2011-05-29 05:03,"","",131300,"","","Variables are declared only in the GET signature but you could have something like
-
  name: 'algo actions'
  uriPattern:    'algo/{@action}(/{myvar})'
  defaults:
    '@package':    Sifpe
    '@controller': Empresa
    '@action':     list
    '@format':     json
  POST:
   vars: [myvar2,myvar3]
   defaults:
    'myvar1': 'somevalue'
    'myvar2': 'somevalue'"
27117,TYPO3.Flow,Feature,Work Package #45088: Improved REST support,Resolved,Should have,Bind routes to HTTP request methods,Fernando Arconada,Bastian Waidelich,2013-06-25 11:36,MVC - Routing,2.0,2011-05-29,2013-04-13,"",100,2011-05-29 05:07,"","",131350,"","","Routes need an option to be limited to certain HTTP methods:


Limit one route to a HTTP method as in Symfony
-
  name: 'empresa actions'
  uriPattern:    'empresa/{@action}(/{empresa})'
  defaults:
    '@package':    Sifpe
    '@controller': Empresa
    '@action':     list
    '@format':     json
  requirements:
        _method:  POST|PUT

as in symfony2
http://symfony.com/doc/current/book/routing.html"
27118,TYPO3.Flow,Feature,"",Rejected,Should have,Routing: json format should use MIME application/json by default,Fernando Arconada,"",2012-03-12 14:02,MVC,"",2011-05-29,"","",0,2011-05-29 05:12,"","",131400,"","","Actually the format specified in routing doesnt have effect in the MIME, by default it's text/html
Whitout changing the View object common formats should be mapped to its MIMEs
JSON-> application/json"
27119,TYPO3.Fluid,Feature,"",Resolved,Should have,Declare namespaces in XML tag,Fernando Arconada,Bastian Waidelich,2013-01-10 10:27,Core,1.1 beta 1,2011-05-29,"","",100,2011-05-29 05:18,"","",131450,"","",One of the great things of FLUID is that is XML but namespace declaration isnt. There should be a way/tag to declare namespaces in a tag. If you could have your template as pure XML you could validate it with XML validation tools
27120,TYPO3.Fluid,Feature,"",Rejected,Should have,filters for ViewHelpers and templates,Fernando Arconada,"",2012-03-12 14:04,"","",2011-05-29,"","",0,2011-05-29 05:26,"","",131500,"","","You dont always want you HTML escaped. ViewHelpers could have filter attribute to avoid HTML escaping or for using you filter

<f:myviewhelper argument=""{blas}"" filter=""raw"" />
<f:myviewhelper argument=""{blas}"" filter=""removeBadWords"" />


<f:section filter=""raw> </f:section>

<f:filter type=""raw"">
   portion of code inside my template
<f:filter>

Filters could be pluggables at Package level or framework"
27170,TYPO3.Flow,Bug,"",Resolved,Must have,countByProperty does not work,Christopher Hlubek,"",2011-06-01 10:05,Persistence,"",2011-05-31,"","",100,2011-05-31 12:05,"","",133900,"","","A magic count method with property (e.g. @countByName@) does not work with the current Doctrine implementation of @count()@ in @F3\FLOW3\Persistence\Doctrine\Query@:

<pre><code class=""php"">
public function count() {
	try {
		$dqlQuery = clone $this->queryBuilder->getQuery();
		$dqlQuery->setHint(\Doctrine\ORM\Query::HINT_CUSTOM_TREE_WALKERS, array('F3\FLOW3\Persistence\Doctrine\CountWalker'));
		return (int)$dqlQuery->getSingleScalarResult();
	} catch (\Doctrine\ORM\ORMException $e) {
		return 0;
	}
}
</code></pre>

The problem seems to be the clone of the query which results in an empty parameter array when executing the cloned query."
27232,TYPO3.Flow,Bug,"",Closed,Should have,"Create unit test for ""Original Request must only be set if there is a validation error""",Sebastian Kurfuerst,Robert Lemke,2012-05-21 10:47,MVC,1.1,2011-06-06,"","",0,2011-06-06 02:00,"","",136900,"",FLOW3 1.0.0,"May 18 2011 [+BUGFIX] (MVC): Original Request must only be set if there
is a validation error
Change-Id: Ic2179e21b97da9ad3cd4e5685f85e961c36edc63

In the commit message you write ""Then, the ""Speaker Profile"" of the
conference site is correctly filled out again."". Imagine that in the
changelog / release notes of the FLOW3 distribution ? doesn't make a lot
of sense. Also this changeset cries for a unit test because the logic /
motivation behind setting the original request could be explained by
that test and secured at the same time."
27233,TYPO3.Flow,Task,"",Resolved,Should have,Rename __CSRF-TOKEN to __csrfToken,Sebastian Kurfuerst,Karsten Dambekalns,2011-09-09 07:35,Security,1.0 beta 2,2011-06-06,"","",100,2011-06-06 02:01,"","",136950,"","","Refers to ""May 16 2011 [+BUGFIX] (MVC): Introduce internal Request Arguments""

Also remember to rename it in the ExtJS package as well!"
27277,TYPO3.Fluid,Bug,"",Resolved,Must have,Make widgets work again after recent changes in the UriBuilder and Request Handling,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-06-30 09:11,Widgets,1.0 beta 1,2011-06-07,"","",100,2011-06-07 10:11,"","",138900,"","",""
27283,TYPO3.Flow,Task,"",Resolved,Should have,Handle @InheritanceType in a correct manner,Rens Admiraal,Karsten Dambekalns,2012-12-12 03:17,Persistence,2.0 beta 1,2011-06-07,"","",100,2011-06-07 14:19,"","",139200,"","","If a model is extended the base class needs to be annotated with InheritanceType. Problem is that we don't know which classes will ever be extended, and Doctrine throws an error when the InheritanceType is set without discriminator map:

Uncaught Exception in FLOW3 Entity class 'F3\FLOW3\Security\Account' is using inheritance but no discriminator map was defined. thrown in file .../ORM/Mapping/MappingException.php in line 202


In such cases the annotation must be ignored by our annotation driver, or the IneritanceType should be set automagically if FLOW3 detects that a model is extended.

Relates to: https://review.typo3.org/#change,2130"
27284,TYPO3.Flow,Bug,"",Resolved,Must have,Signal dispatching through SignalAspect is broken,Karsten Dambekalns,Karsten Dambekalns,2011-06-11 17:35,SignalSlot,1.0 beta 1,2011-06-07,"","",100,2011-06-07 15:45,"","",139250,"","","When using the ""magic"" way of dispatching signals nothing happens, because the aspect does not remove the ""emit"" from the signal's method name. The dispatcher then ignores the request."
27285,TYPO3.Flow,Bug,"",Resolved,Should have,Exception with /** @MappedSuperclass */,Fernando Arconada,Karsten Dambekalns,2012-01-19 20:42,Persistence,1.0.3,2011-06-07,"","",100,2011-06-07 16:28,"","",139300,"",FLOW3 1.0.0,"If you have a mapped superclass in Domain/Model folder you will have an exception unless you mark the class with @entity

Doctrine2 Examples http://www.doctrine-project.org/docs/orm/2.0/en/reference/inheritance-mapping.html dont mark this kind of clasess as @entity

Not sure if it's better to mark as entity, may be yes, but it doesnt seem necessary in Doctrine2. All works ok and no new table is created in DB after tag as @entity

#1295973082 No class schema found for ""F3\Sifpe\Domain\Model\Apunte""
RuntimeException thrown in file
/var/www/html/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_Persistence_Doctrine_Mapping_Driver_Flow3AnnotationDriver_Original.php in line 89."
27286,TYPO3.Fluid,Bug,"",Closed,Should have,FLUID: #1: Warning: htmlspecialchars(): Invalid multibyte sequence in argument,Fernando Arconada,"",2012-03-13 05:05,ViewHelpers,"",2011-06-07,"","",0,2011-06-07 17:12,"","",139350,"",FLOW3 1.0.0,"I have an exception just trying to retrieve objects from DB and displaying in a view
$apuntes = $this->apunteRepository->findAll();
$this->view->assign('apuntes',$apuntes);

Attached an export from my DB and MySQL variables

Note: this tables and data were not created by Doctrine. I have imported them from a mysqldump export from other DB.

------------------------------

Uncaught Exception in FLOW3
#1: Warning: htmlspecialchars(): Invalid multibyte sequence in argument in /var/www/html/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_Fluid_ViewHelpers_EscapeViewHelper_Original.php line 79 (More information)

F3\FLOW3\Error\Exception thrown in file
Packages/Framework/FLOW3/Classes/Error/ErrorHandler.php in line 82.

Go to the FORGE issue tracker and report the issue - if you think it is a bug!

51 F3\FLOW3\Error\ErrorHandler::handleError(2, ""htmlspecialchars(): Invalid multibyte sequence in argument"", ""/var/www/html/FLOW3/Data/Temporary/Development/Cac?F3_Fluid_ViewHelpers_EscapeViewHelper_Original.php"", 79, array)

50 htmlspecialchars(""Santo?a/Laredo 18/8/06"", 2, ""UTF-8"")


/var/www/html/FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_Fluid_ViewHelpers_EscapeViewHelper_Original.php:

00077:   switch ($type) {
00078:    case 'html':

00079:     return htmlspecialchars($value, ENT_COMPAT, $encoding);

00080:    break;
00081:    case 'entities':
"
27322,TYPO3.Flow,Feature,"",On Hold,Should have,"Add support for Appserver-in-PHP, which could result in much faster executions.",Sebastian Kurfuerst,Christopher Hlubek,2012-07-09 12:11,"","",2011-06-09,"","",0,2011-06-09 01:01,"","",141150,"","","Add support for Appserver-in-PHP, which could result in much faster executions.

* https://github.com/indeyets/appserver-in-php

h2. Installation of AiP

* Install php5-posix and php5-pcntl (through MacPorts, APT, ...)
* pear channel-discover pear.indeyets.pp.ru
* pear install indeyets/AppServer
"
27329,TYPO3.Flow,Feature,"",Rejected,Should have,Wrap Doctrine ArrayCollection in some FLOW3 collection,Bastian Waidelich,Karsten Dambekalns,2011-09-30 07:44,Persistence,1.0.0,2011-06-09,"","",0,2011-06-09 10:36,"","",141500,"","","FLOW3 currently uses the ""ArrayCollection"":http://git.typo3.org/FLOW3/Packages/FLOW3.git?a=blob;f=Resources/PHP/Doctrine/Common/Collections/ArrayCollection.php of Doctrine by default to store multivalue properties in models. It comes with nice features such as *map()* and *filter()*.
I suggest to wrap this in a custom FLOW3 collection in order to be able to extend its functionality and to gain more abstraction from Doctrine.
Besides this would make it easier to backport this feature to Extbase so that people already use the ""correct"" type in their models.
e.g.
<pre>
<code class=""php"">
class \F3\FLOW3\Utility\Collections\ArrayCollection extends \Doctrine\Common\Collections\ArrayCollection {
}
</code>
</pre>

@Karsten could you share your opinion on this?"
27332,TYPO3 Flow Base Distribution,Bug,"",Resolved,Could have,Problems with declare(ENCODING = 'utf-8'); in file header,Tim Wagner,Karsten Dambekalns,2011-07-06 10:01,"",1.0 beta 1,2011-06-09,"","",100,2011-06-09 16:12,"","",141650,"","","On MAC OS X 10.6.7 with default PHP installation (no Ports) every time you call command ./flow3_dev or ./flow3 it leads to the following error:

[09-Jun-2011 20:30:25] PHP Parse error:  syntax error, unexpected '*', expecting ',' or ')' in /private/var/www/flow3/Packages/Framework/FLOW3/Scripts/flow3 on line 3

The same error occurs when requesting the welcome page on the browser.

After removing declare(ENCODING = 'utf-8'); from each files header FLOW3 works as expected. "
27369,TYPO3.Flow,Bug,"",Resolved,Should have,"Docu, AbstractController: Clearer difference of forward/redirect",Stefan Neufeind,"",2011-06-11 15:05,"","",2011-06-11,"","",100,2011-06-10 19:30,"","",143500,"","",Make more clear what the difference is.
27375,TYPO3.Flow,Bug,"",Rejected,Should have,simplify email validator,Stefan Neufeind,Stefan Neufeind,2011-07-06 10:18,Validation,"",2011-06-11,"","",0,2011-06-11 12:56,"","",143800,"","",Regex for validation should be simplified (replaced) by using the approprivate filter_var() for that.
27378,TYPO3.Flow,Bug,"",Closed,Should have,JsonView not testable view \F3\FLOW3\Tests\FunctionalTestCase->sendWebRequest,Fernando Arconada,Robert Lemke,2012-06-25 16:16,- Testing -,1.1 RC1,2011-06-12,"","",0,2011-06-12 03:58,"","",143950,"",FLOW3 1.0.0,"If you try to create a Functional test that uses a JsonView you will have an exception
//'CuentaController' and 'list' action uses '\F3\FLOW3\MVC\View\JsonView'
class JsonOutputTest extends \F3\FLOW3\Tests\FunctionalTestCase {
    /**
     * @test
     * @return void
     */
    public function cuentasList() {
        $output = $this->sendWebRequest('Cuenta','Sifpe','list',array(),'json');
        $decoded = json_decode($output,TRUE);
        $this->assertTrue(is_array($decoded));
    }
}



E_ERROR: Call to undefined method Mock_ResponseInterface_a5944a04::setHeader()
#0 /var/www/html/FLOW3/Data/Temporary/Testing/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_View_JsonView_Original.php(137)
PHP Fatal error:  Call to undefined method Mock_ResponseInterface_a5944a04::setHeader() in /var/www/html/FLOW3/Data/Temporary/Testing/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_View_JsonView_Original.php on line 137
PHP Stack trace:
PHP   1. {main}() /tmp/phpunit_Sifpe_falcifer.php:0
PHP   2. MyTestRunner::main() /tmp/phpunit_Sifpe_falcifer.php:814
PHP   3. MyTestRunner::runTest() /tmp/phpunit_Sifpe_falcifer.php:796
PHP   4. PHPUnit_TextUI_TestRunner->doRun() /tmp/phpunit_Sifpe_falcifer.php:485
PHP   5. PHPUnit_Framework_TestSuite->run() /usr/share/pear/PHPUnit/TextUI/TestRunner.php:305
PHP   6. PHPUnit_Framework_TestSuite->run() /usr/share/pear/PHPUnit/Framework/TestSuite.php:693
PHP   7. PHPUnit_Framework_TestSuite->runTest() /usr/share/pear/PHPUnit/Framework/TestSuite.php:733
PHP   8. PHPUnit_Framework_TestCase->run() /usr/share/pear/PHPUnit/Framework/TestSuite.php:757
PHP   9. PHPUnit_Framework_TestResult->run() /usr/share/pear/PHPUnit/Framework/TestCase.php:576
PHP  10. F3\FLOW3\Tests\FunctionalTestCase->runBare() /usr/share/pear/PHPUnit/Framework/TestResult.php:666
PHP  11. F3\FLOW3\Tests\BaseTestCase->runBare() /var/www/html/FLOW3/Packages/Framework/FLOW3/Tests/FunctionalTestCase.php:114
PHP  12. PHPUnit_Framework_TestCase->runBare() /var/www/html/FLOW3/Packages/Framework/FLOW3/Tests/BaseTestCase.php:52
PHP  13. PHPUnit_Framework_TestCase->runTest() /usr/share/pear/PHPUnit/Framework/TestCase.php:628
PHP  14. ReflectionMethod->invokeArgs() /usr/share/pear/PHPUnit/Framework/TestCase.php:738
PHP  15. F3\Sifpe\Tests\Functional\Output\JsonOutputTest->cuentasList() /var/www/html/Sifpe/Tests/Functional/Output/JsonOutputTest.php:0
PHP  16. F3\FLOW3\Tests\FunctionalTestCase->sendWebRequest() /var/www/html/Sifpe/Tests/Functional/Output/JsonOutputTest.php:11
PHP  17. F3\FLOW3\MVC\Controller\ActionController_Original->processRequest() /var/www/html/FLOW3/Packages/Framework/FLOW3/Tests/FunctionalTestCase.php:240
PHP  18. F3\FLOW3\MVC\Controller\ActionController_Original->callActionMethod() /var/www/html/FLOW3/Data/Temporary/Testing/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Controller_ActionController_Original.php:171
PHP  19. F3\FLOW3\MVC\View\JsonView_Original->render() /var/www/html/FLOW3/Data/Temporary/Testing/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_MVC_Controller_ActionController_Original.php:298
"
27379,TYPO3.Flow,Bug,"",Needs Feedback,Must have,add check to clear the database at tearDown in testing,Fernando Arconada,"",2012-03-14 09:41,"","",2011-06-12,"","",0,2011-06-12 04:05,"","",144000,"",FLOW3 1.0.0,"Actually in testing mode the database is cleared completely in static public function tearDownAfterClass() at the end of testing. You dont always want this behaviour, so please add a check in settings to enable this "
27417,TYPO3.Flow,Feature,"",Resolved,Should have,DateTime conversion support,Robert Lemke,Bastian Waidelich,2011-06-21 06:35,Property,1.0 beta 1,2011-06-14,"","",100,2011-06-13 18:43,"","",145850,"","","It should be possible to submit a date through a form via POST and receive a date time object as an argument in a controller. Hence we need a Type Converter supporting array to DateTime conversion. The input format should be configurable, unix timestamp would be a good default."
27482,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,CLI not working on Windows,Bastian Waidelich,Karsten Dambekalns,2011-08-04 02:20,"",1.0 beta 1,2011-06-15,"","",100,2011-06-15 16:53,"","",149050,"","","It seems, Git [1] ""resolves"" symlinks on Windows by creating a file that only contains the relative path to the target file.
E.g. it replaces (http://git.typo3.org/FLOW3/Distributions/Base.git?a=blob;f=flow3;h=2843cf594ee6b2d77c11afdd7ea8ead25d49048b;hb=HEAD) with a file that contains the string ""Packages/Framework/FLOW3/Scripts/flow3"" when one pulls the distribution.
See http://code.google.com/p/msysgit/issues/detail?id=224 for a corresponding bug report in the msysgit project.

Among other things this leads to the situation, that CLI arguments are stripped off when executing Commands through the console.

[1] using ""msysgit"":http://code.google.com/p/msysgit/"
27488,TYPO3 Flow Base Distribution,Task,"",Closed,Must have,Update documentation for 1.0 beta 1,Robert Lemke,"",2011-08-04 02:27,"",1.0 beta 1,2011-06-16,"","",0,2011-06-16 05:25,"","",149300,"","",This is an umbrella task for updating and extending the documentation of the packages in the FLOW3 base distribution.
27490,TYPO3.Flow,Feature,"",Resolved,Must have,Vendor Namespaces Support,Robert Lemke,Robert Lemke,2011-07-04 07:35,Object,1.0 beta 1,2011-06-16,"","",100,2011-06-16 05:28,"","",149400,"","","FLOW3 should support the concept of vendor namespaces and therefore support class names like the following, thus making the ""F3"" namespace obsolete:

\RobertLemke\AutoMakeTemplate\Controller\FooController
\Zend\...
\TYPO3\FLOW3\Package\PackageManagerInterface
\TYPO3\TYPO3\Domain\Model\Site
"
27491,TYPO3.Flow,Feature,"",Resolved,Must have,Support per-package Doctrine migrations,Robert Lemke,Karsten Dambekalns,2011-06-24 12:38,Persistence,1.0 beta 1,2011-06-16,"","",100,2011-06-16 05:28,"","",149450,"","",""
27499,TYPO3.Flow,Feature,"",Resolved,Should have,Refactor TypeConverter API,Bastian Waidelich,Sebastian Kurfuerst,2011-06-24 05:37,Property,1.0 beta 1,2011-06-16,"","",100,2011-06-16 10:35,"","",149850,"","","Currently TypeConverters support multiple source but only one target type.
As discussed with Robert, this should be changed so that you can specify an array of supported TargetTypes.
This makes especially sense when using TypeConverters independently from the PropertyMapper.

The TypeConverterInterface should be adjusted like:

-getSupportedTargetType()
+getSupportedTargetTypes()


@Sebastian I'm assigning this to you, because that should be changed before the backport of the PropertyMapper. Feel free to unasign yourself if you can't to it atm ;)"
27516,TYPO3.Fluid,Bug,"",Resolved,Should have,Translate labels in paginate widget,Alexander Stehlik,Karsten Dambekalns,2015-03-19 08:12,Widgets,"",2011-06-17,"","",100,2011-06-17 08:38,"","",150700,"",Git master,"At the moment, the labels for ""next"" and ""previous"" the paginate widget are hardcoded in the template.

The translate view helper should be used so that the labels can be localized."
27527,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Unable to run tests for F3\FLOW3\Tests\Unit\Security\Authorization\AccessDecisionVoterManagerTest,Michael Klapper,Karsten Dambekalns,2011-07-06 10:16,"",1.0 beta 1,2011-06-18,"","",100,2011-06-18 06:04,"","",151250,"","","When i use the testing package to run the tests on the web i got the following Fatal error.

<pre>
F3 \ FLOW3 \ Tests \ Unit \ Security \ Authorization \ AccessDecisionVoterManagerTest
Fatal error: Call to a member function isRegistered() on a non-object in /var/www/project/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/F3_FLOW3_Security_Authorization_AccessDecisionVoterManager_Original.php on line 180 
</pre>"
27561,TYPO3.Flow,Task,"",Accepted,Could have,Complete documentation,Karsten Dambekalns,"",2013-09-23 06:56,- Documentation -,"",2008-07-15,"",2.00,84,2011-06-20 04:59,"","",152800,2.00,"",'nuff said
27562,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Must have,Update Persistence documentation,Karsten Dambekalns,Karsten Dambekalns,2011-06-24 09:36,- Documentation -,1.0 beta 1,2011-06-20,"","",100,2011-06-20 05:05,"","",152850,"","",It needs to have the Doctrine 2 stuff documented
27563,TYPO3.Flow,Feature,"",Resolved,Should have,Implement simple argument support for CommandController,Robert Lemke,"",2011-07-08 06:35,MVC,1.0 beta 1,2011-06-20,"","",100,2011-06-20 05:14,"","",152900,"","","Currently arguments can only be passed to a CommandController by specifying the argument name:

<pre>
./flow3_dev flow3:package:create --package-key MyPackage
</pre>

For cases like the one above it would be nice to be able to specify the argument without a name:

<pre>
./flow3_dev flow3:package:create MyPackage
</pre>

On the implementation side this could work as follows:

* if no argument name is specified, the argument order must match the order of the command function's arguments
* if an argument without name is specified, all non-optional arguments must be specified without a name in the correct order ? mixing non-optional arguments with and without specifying the name should not be possible (to avoid confusion)
* to make things easier we can (should) make the rule that options (ie. named arguments which are optional in the function's signature) must be specified before any unnamed argument (e.g flow3:package:create --description ""My Package"" --make-it-extra-cool MyPackage)"
27567,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Reorder chapters,Karsten Dambekalns,"",2011-10-19 19:37,- Documentation -,1.0.0,2011-06-20,"","",100,2011-06-20 05:42,"","",153100,"","","The chapters are not ordered in the way we explain(ed) parts of FLOW3 in sessions/workshops/tutorials so far, maybe we should do that..."
27569,TYPO3.Flow,Task,Task #3881: Complete documentation about MVC,Resolved,Must have,Document Routing features and setup,Karsten Dambekalns,Bastian Waidelich,2011-08-24 02:06,- Documentation -,1.0 beta 1,2011-06-20,"","",100,2011-06-20 05:49,"","",153200,"","",.
27573,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Could have,Update installation documentation,Karsten Dambekalns,Karsten Dambekalns,2011-08-24 01:47,- Documentation -,1.0 beta 1,2011-06-20,"","",100,2011-06-20 08:29,"","",153400,"","",.
27583,TYPO3.Fluid,Task,"",Resolved,Should have,Move raw ViewHelper to format.raw,Bastian Waidelich,Bastian Waidelich,2011-06-23 02:35,ViewHelpers,"",2011-06-20,"","",100,2011-06-20 15:05,"","",153900,"","","And adjust affected templates.
For compatibility reasons the old ViewHelper should be marked *deprecated* and kept for a while."
27607,TYPO3.Fluid,Bug,"",New,Must have,"Make Fluid comparisons work when first element is STRING, second is NULL.",Sebastian Kurfuerst,"",2012-03-12 14:18,Core,"",2011-06-21,"","",0,2011-06-21 00:45,"","",155100,"",FLOW3 1.0.0,"Taken from https://review.typo3.org/#patch,unified,2824,2,Classes/Core/Parser/SyntaxTree/ViewHelperNode.php :

> I know it is not in the table on php.net, but the case '' == NULL ($operand1 being string and $operand2 being NULL) should probably be comparable, too (and the PHP interpreter can of course compare them). What do you think?

I definitely agree, so we should implement this in Fluid v5 and provide tests for it, and then backport it."
27611,TYPO3.Flow,Bug,"",Resolved,Should have,Rename and combine TypeConverters,Bastian Waidelich,Bastian Waidelich,2011-06-22 08:35,Property,1.0 beta 1,2011-06-21,"","",100,2011-06-21 07:14,"","",155300,"","","The TypeConverters should be renamed so that each converter belongs to one target type:

<pre>
ArrayCollectionConverter -> ArrayCollectionConverter
ArrayToArrayConverter -> ArrayConverter
ArrayToObjectConverter -> ObjectConverter
ArrayToSplObjectStorageConverter -> SplObjectStorageConverter
BooleanToBooleanConverter -> BooleanConverter
IntegerToIntegerConverter -> IntegerConverter
PersistentObjectConverter -> PersistentObjectConverter
StringToBooleanConverter -> (not needed anymore)
StringToFloatConverter -> FloatConverter
StringToIntegerConverter -> (not needed anymore)
StringToSplObjectStorageConverter -> (not needed anymore)
StringToStringConverter -> StringConverter
</pre>
"
27613,TYPO3.Flow,Task,"",Resolved,Should have,Rename $omitSignalInformation to $passSignalInformation,Karsten Dambekalns,Karsten Dambekalns,2011-07-06 05:35,SignalSlot,1.0 beta 1,2011-06-21,"","",100,2011-06-21 08:00,"","",155400,"","","A flag that comes with double negation by default should be avoided, thus we should invert the name and meaning here.

Note: do we actually need this? If we keep it, maybe make the signal information an array, so it's easier to amend in the future? Currently the simple string with classname and method name is a little limited in expressiveness."
27614,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Update Package documentation,Karsten Dambekalns,Karsten Dambekalns,2011-08-24 02:01,- Documentation -,1.0 beta 1,2011-06-21,"","",100,2011-06-21 08:07,"","",155450,"","",.
27627,TYPO3.Flow,Task,"",Resolved,Must have,Overhaul annotation support/syntax,Karsten Dambekalns,Karsten Dambekalns,2011-10-19 19:25,Reflection,1.0.0,2011-06-21,"","",100,2011-06-21 11:30,"","",156100,"","","I think it would be wise to decide on this before 1.0.0, the earlier the better. It has been discussed here and there in the past, but we need to get this thought through.

So, here are the basic questions:

# Do we adopt UpperCamelCase and case-sensitivity, like Doctrine 2 and Symfony 2 use it?
# Do we switch annotation parsing to the Doctrine Common library?

The case thing means
* consistency with Doctrine annotations we have in place already
* inconsistency with ""normal"" docblock API annotations
* the latter can be softened by using prefixes on annotations and have them lowercased, see http://symfony.com/blog/symfony2-annotations-gets-better for examples

The parser library switch would
* move the burden of maintaining a parser away from us
* force us to adapt the current annotation syntax
* possibly allow more flexibility"
27628,TYPO3.Fluid,Task,"",Resolved,Should have,Split escape ViewHelper into dedicated format ViewHelpers,Bastian Waidelich,Bastian Waidelich,2011-07-27 04:05,ViewHelpers,1.0 beta 1,2011-06-21,"","",100,2011-06-21 11:51,"","",156150,"","","Currently the *f:escape* ViewHelper is targeted at a lot of different use cases (html escaping, url encoding, strip tags, ...).
That makes it harder to test and to extend.
Additionally the current implementation has the severe side-effect that the input value is not escaped at all, if the specified format is not supported."
27637,TYPO3.Flow,Feature,"",Resolved,Should have,Make Value Objects read-only on Doctrine,Karsten Dambekalns,Karsten Dambekalns,2011-10-19 19:37,Persistence,1.0.0,2011-06-22,"","",100,2011-06-22 04:29,"","",156550,"","","Any @valueobject should have the readOnly attribute set for Doctrine 2.1, until value objects are supported for real.

When implementing this, update the persistence documentation accordingly (annotations table for Doctrine use)."
27640,TYPO3.Flow,Bug,Task #3881: Complete documentation about MVC,Resolved,Should have,Document property mapper,Karsten Dambekalns,Sebastian Kurfuerst,2011-10-19 19:37,- Documentation -,1.0.0,2011-06-22,"","",100,2011-06-22 05:34,"","",156700,"","",.
27649,TYPO3.Flow,Task,"",Resolved,Must have,Remove automatic DB schema updates,Karsten Dambekalns,Karsten Dambekalns,2011-07-06 05:05,Persistence,1.0 beta 1,2011-06-22,"","",100,2011-06-22 10:59,"","",157150,"","",Only exception: if an empty database is found the system should try to migrate to the latest state.
27655,TYPO3.Flow,Bug,"",Resolved,Must have,The differing names for basically the same persistence options are confusing,Karsten Dambekalns,Karsten Dambekalns,2011-09-07 11:04,Persistence,1.0 beta 2,2011-06-22,"","",100,2011-06-22 11:39,"","",157450,"","","_path_ and _host_ for Doctrine, _dataSourceName_ for the Generic persistence, and probably some more."
27668,TYPO3.Fluid,Task,"",Resolved,Should have,Change Escape Interceptor to use new format.htmlspecialchars ViewHelper,Bastian Waidelich,Bastian Waidelich,2011-08-04 02:11,Core,1.0 beta 1,2011-06-23,"","",100,2011-06-23 12:54,"","",158100,"","",and mark the existing escape ViewHelper deprecated.
27678,TYPO3.Fluid,Bug,"",Resolved,Should have,Deactivate EscapeInterceptor for certain ViewHelpers,Bastian Waidelich,Bastian Waidelich,2011-07-27 03:35,ViewHelpers,"",2011-06-24,"","",100,2011-06-24 06:56,"","",158600,"","","For some of the provided ViewHelpers one can exchangeably use either the *value* attribute or *childnodes* as input.

So all of the below variants should behave the same:
<pre>
<code class=""html"">
<f:format.plaintext>{foo}</f:format.plaintext>
{foo -> f:format.plaintext()}
<f:format.plaintext value=""{foo}"" />
{f:format.plaintext(value: foo)}
</code>
</pre>

But in fact the first two examples will get an escaped {foo} because by default the EscapeInterceptor is activated.

A solution would be to deactivate the interceptor for those ViewHelper by inserting the line
<pre>
<code class=""php"">
protected $escapingInterceptorEnabled = FALSE;
</code>
</pre>

*NOTE:* This *disables* htmlspecialchars() from beeing applied to childnodes so this must not be done for ViewHelpers that directly output the childnodes again!
"
27695,TYPO3.Flow,Bug,"",Closed,Must have,Production configuration cache not flushed on cache:flush,Karsten Dambekalns,"",2011-10-19 19:37,Cache,1.0.0,2011-06-25,"","",0,2011-06-25 06:27,"","",159450,"","",.
27698,TYPO3.Flow,Feature,"",Resolved,Should have,Roles should use an adequate data type to get persisted as entities ,Johannes K,Rens Admiraal,2013-08-14 10:00,Security,2.0,2011-06-26,"","",100,2011-06-25 19:59,"","",159600,"","","At the moment the roles of an account get saved as a php-serialized array inside ""flow3_security_account"", e.g.: 
<pre>
a:2:{i:0;s:12:""Adminstrator"";i:1;s:4:""User"";}
</pre> 

This is due to (in Packages/Framework/FLOW3/Classes/Security/Policy/Role.php)
<pre>
/**
 * @var array
 */
protected $roles = array();
</pre>

this should be something like this (untested, just to transport the idea, I have no idea of Doctrine)
<pre>
/**
 * @var \Doctrine\Common\Collections\ArrayCollection<\F3\FLOW3\Security\Policy\Role>
 * @ManyToMany
 */
protected $roles = array();
</pre>

so that they will get persisted as the already prepared entities \F3\FLOW3\Security\Policy\Role. "
27721,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Permissions of uploaded resources not correct,Karsten Dambekalns,Karsten Dambekalns,2012-03-15 05:37,Resource,"",2011-06-27,"","",0,2011-06-27 11:50,"","",160750,"",FLOW3 1.0.0,The permissions are not correct and furthermore the setgid bit doesn't have any effect.
27724,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Missing vfsStream produces empty output,Bastian Waidelich,Karsten Dambekalns,2011-06-29 06:01,"",1.0 beta 1,2011-06-27,"","",100,2011-06-27 15:35,"","",160900,"","","PHPUnit dies without output if vfsStream is not available.
This is fixed for me by replacing the line
<pre>
@require_once('vfsStream/vfsStream.php');
</pre>
with
<pre>
@include_once('vfsStream/vfsStream.php');
</pre>
in *UnitTestBootstrap.php*

@Karsten: I'm assigning this to you cause I don't have commit rights for BuildEssentials.git"
27770,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Remove deprecated methods/classes for FLOW3 1.1,Karsten Dambekalns,Karsten Dambekalns,2012-03-12 21:38,"",1.1,2011-06-29,"","",100,2011-06-29 09:32,"","",163200,"","","Everything that was deprecated before 1.0.0 can be removed (@create()@ on the ObjectManager will stay for Fluid *only*, to ease backporting)."
27793,TYPO3.Fluid,Bug,"",Resolved,Should have,"Replace ""f3"" namespace by ""f"" in fixtures & manual",Bastian Waidelich,Karsten Dambekalns,2011-07-04 08:35,"",1.0 beta 1,2011-07-01,"","",100,2011-07-01 06:58,"","",164350,"","","Currently Fluid still uses the ""old"" ViewHelper namespace ""f3"" in some Unit test fixtures and in the user manual. That should be replaced."
27798,TYPO3.Flow,Bug,"",Accepted,Must have,CSRF protection not working for forms in a plugin,Karsten Dambekalns,"",2013-08-14 09:35,Security,2.0.1,2011-07-01,"","",0,2011-07-01 10:33,"","",164600,"",FLOW3 1.0.0,"The CsrfProtectionAspect looks for package, subpackage, ... in the $arguments array, but for the request shown in the attached screenshot the information is one level below..."
27806,TYPO3.Flow,Bug,"",Resolved,Should have,DateTimeConverter should return Error objects for user-errors; and support converting an empty string to NULL,Michael Klapper,Sebastian Kurfuerst,2011-09-07 09:06,Property,1.0 beta 2,2011-07-02,"","",100,2011-07-01 20:11,"","",165000,"","","h2. Returning Error objects

The *TYPO3\FLOW3\Property\TypeConverter\DateTimeConverter* should return an *\TYPO3\FLOW3\Error\Error* instead of throwing an *\TYPO3\FLOW3\Property\Exception\TypeConverterException*.

The advantage of this change is the much better handling of form convertion/validation error messages. The messages are stored as ""validationResults"" in *$this->arguments* of the current ActionController. 

Displaying the messages could be easily done with the Fluid ViewHelper *f:form.validationResults*.

h2. Support ""empty"" DateTime -> Convert to NULL

Right now, the DateTimeConverter is *required*, i.e. it is not possible to define an *optional* DateTime object.

When the DateTime converter returns NULL for the empty string, one can use ""@validate NotEmpty"" for required properties."
27810,TYPO3.Flow,Bug,"",Closed,Must have,ObjectManager returns Subclass sometimes,Johannes K,Christopher Hlubek,2011-09-24 12:17,Object,"",2011-07-02,"","",0,2011-07-02 09:18,"","",165200,"","","I have extended the original DateTimeConverter, to add some special time handling, simplified example

<pre>
namespace F3\Events\Property\TypeConverter

class DateTimeConverter extends \F3\FLOW3\Property\TypeConverter\DateTimeConverter {
	protected $priority = 3;

	protected function overrideTimeIfSpecified(\DateTime $date, array $source) {
		return parent::overrideTimeIfSpecified($date, $source);
	}
}
</pre>

Now the strange part: The Object-Manager returns my subclass:
<pre>
get_class($this->objectManager->get('F3\Events\Property\TypeConverter\DateTimeConverter')) === 'F3\Events\Property\TypeConverter\DateTimeConverter';
get_class($this->objectManager->get('F3\FLOW3\Property\TypeConverter\DateTimeConverter')) === 'F3\Events\Property\TypeConverter\DateTimeConverter';
</pre>

This finally leads to an exception from the propertymapper:
<pre>
#1297951378: There exist at least two converters which handle the conversion from ""string"" to ""DateTime"" with priority ""3"": F3\Events\Property\TypeConverter\DateTimeConverter and F3\Events\Property\TypeConverter\DateTimeConverter 
</pre>

This is not 100% reproducible and seems to depend on cache, but I haven't found the magic setting to make it always reproducible.

Chatlog: http://www.rvantwisk.nl/flow3-irc-log/2011/july/2.html

"
27820,TYPO3.Flow,Bug,"",Resolved,Should have,CLI arguments are not working for camelCased commands,Bastian Waidelich,Robert Lemke,2011-07-08 06:35,MVC,1.0 beta 1,2011-07-03,"","",100,2011-07-03 11:43,"","",165600,"","","If a CLI command method name contains uppercase characters, CLI arguments are not properly resolved because ReflectionService won't find the actual method if you don't call the command in the correct case.

A todo comment for CommandController::resolveCommandMethodName() already states
<pre>
@todo Find exact case of command method!
</pre>

To be in sync with the Web request handling, this shouldn't happen in the controller though, but in the CLI request:
Chaning
<pre>
public function getControllerCommandName() {
	return $this->controllerCommandName;
}
</pre>
to:
<pre>
public function getControllerCommandName() {
	$controllerObjectName = $this->getControllerObjectName();
	if ($controllerObjectName !== '' && ($this->controllerCommandName === strtolower($this->controllerCommandName)))  {
		$controllerClassName = $this->objectManager->getClassNameByObjectName($controllerObjectName);
		$commandMethodName = $this->controllerCommandName . 'Command';
		foreach (get_class_methods($controllerClassName) as $existingMethodName) {
			if (strtolower($existingMethodName) === strtolower($commandMethodName)) {
				$this->controllerCommandName = substr($existingMethodName, 0, -7);
				break;
			}
		}
	}
	return $this->controllerCommandName;
}
</pre>

should do the trick, but I failed injecting the objectManager (for compile time commands)"
27822,TYPO3.Fluid,Bug,"",Resolved,Should have,f:form.select performace,Carsten Bleicker,Bastian Waidelich,2012-01-10 09:43,ViewHelpers,"",2011-07-03,"","",100,2011-07-03 16:07,"","",165700,"",FLOW3 1.0.0,"hi there,
i have actualy a page with 20 select fields.
and it takes up do 20 sek. to render them out.
without select fields page is generated in 0,7 sek.
can somebody can reproduce this with 20 selects like this:
f:form.select options=""{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10}""


maybe the problem is somewhere near the Tx_Fluid_Core_ViewHelper_ArgumentDefinition for registering ?


"
27825,TYPO3.Flow,Bug,"",Closed,Must have,TypeHandling should use the Collection interface as collection type ,Stephan Schuler,Karsten Dambekalns,2011-10-19 19:37,Utility,1.0.0,2011-07-04,"","",0,2011-07-04 04:52,"","",165850,"","","Only the following values are possible collection types that can have an element type annotation for children at the moment:
* array
* \ArrayObject
* \SplObjectStorage
* \Doctrine\Common\Collections\ArrayCollection 

As a \Doctrine\Common\Collections\PersistentCollection is no \Doctrine\Common\Collections\ArrayCollection but implements the \Doctrine\Common\Collections\Collection interface as well, FLOW3 should use the Collection interface for determining if its a collection type."
27826,TYPO3.Fluid,Bug,"",Rejected,Won't have this time,"Missing ""size"" Attribute in the Form.Upload ViewHelper",Tim Lochmüller,Adrian Föder,2012-11-14 05:45,ViewHelpers,"",2011-07-04,"","",0,2011-07-04 05:57,"","",165900,"",FLOW3 1.0.0,"All inputs have the same attribute base. The ""size"" Attribute is missing in the Form.Upload ViewHelper..."
27916,TYPO3.Flow,Task,"",Resolved,Should have,Change default context to Development,Karsten Dambekalns,Karsten Dambekalns,2011-07-09 06:35,Core,1.0 beta 1,2011-07-06,"","",100,2011-07-06 10:48,"","",168750,"","",The default context for CLI and Web should be Development. Document the breaking change for everyone already using it and relying on Production as default context!
27926,TYPO3.Flow,Task,"",Closed,Should have,Disable I18n by feature switch for 1.0,Karsten Dambekalns,Karsten Dambekalns,2011-10-21 07:07,I18n,"",2011-07-06,"","",0,2011-07-06 13:49,"","",169250,"","",.
27938,TYPO3.Fluid,Bug,"",Resolved,Should have,Textfield view helper can not handle zero (not empty) values,Alexander Stehlik,"",2011-08-18 04:07,ViewHelpers,"",2011-07-07,"","",100,2011-07-07 07:03,"","",169850,"","","
When using the form.textfield view helper strings or integers that are 0 (zero) are treated as empty values. So if a user now enters 0 in the form field and then edits the object the form field will not show the ""0"" he entered but an empty field.

This is because in TextfieldViewHelper the empty() function of PHP is used:

<pre>
87 if (!empty($value)) {
88   $this->tag->addAttribute('value', $value);
89 }
</pre>

Since AbstractFormFieldViewHelper::getValue() will return NULL if no value was set, it would be better to use isset() in my opinion.


"
27968,TYPO3.Fluid,Bug,"",Resolved,Must have,DebugViewHelper doesn't use correct Vendor-Namespace,Johannes K,"",2011-07-08 06:35,ViewHelpers,"",2011-07-07,"","",100,2011-07-07 17:18,"","",171350,"","","should be:
<pre>
diff --git a/Classes/ViewHelpers/DebugViewHelper.php b/Classes/ViewHelpers/DebugViewHelper.php
index 456051d..f24ce4b 100644
--- a/Classes/ViewHelpers/DebugViewHelper.php
+++ b/Classes/ViewHelpers/DebugViewHelper.php
@@ -39,7 +39,7 @@ class DebugViewHelper extends \TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper {
 	 */
 	public function render($title = NULL) {
 		ob_start();
-		\TYPO3\var_dump($this->renderChildren(), $title);
+		\TYPO3\FLOW3\var_dump($this->renderChildren(), $title);
 		$output = ob_get_contents();
 		ob_end_clean();
 		return $output;
</pre>
"
27989,TYPO3.Flow,Bug,"",Resolved,Must have,Wrong check in our atomic writes code,Karsten Dambekalns,Karsten Dambekalns,2012-06-27 09:50,Cache,1.1 RC1,2011-07-08,"","",100,2011-07-08 09:29,"","",172400,"",FLOW3 1.0.0,"This is from Cache\Backend\FileBackend, similar stuff is patched into Doctrine's ProxyFactory:

<pre>
if ($result === FALSE) throw new \TYPO3\FLOW3\Cache\Exception('The temporary cache file ""' . $temporaryCacheEntryPathAndFilename . '"" could not be written.', 1204026251);
$i = 0;
$cacheEntryPathAndFilename = $this->cacheDirectory . $entryIdentifier . $this->cacheEntryFileExtension;
while (!rename($temporaryCacheEntryPathAndFilename, $cacheEntryPathAndFilename) && $i < 5) {
	$i++;
}
if ($result === FALSE) throw new \TYPO3\FLOW3\Cache\Exception('The cache file ""' . $cacheEntryPathAndFilename . '"" could not be written.', 1222361632);
</pre>

The second check for $result is moot, because it's not set in the rename loop..."
27995,TYPO3.Flow,Bug,"",Resolved,Should have,Quote arguments in system command on Windows,Bastian Waidelich,Bastian Waidelich,2011-07-19 12:05,Core,"",2011-07-08,"","",100,2011-07-08 11:36,"","",172700,"","","The bootstrap currently does not quote system call arguments on Windows. This leads to errors if the path to your php binary contains spaces.

<pre>
$command = 'SET FLOW3_ROOTPATH=' . FLOW3_PATH_ROOT . '&' . 'SET FLOW3_CONTEXT=' . $this->context . '&' . $this->settings['core']['phpBinaryPathAndFilename'] . ' -c ' . php_ini_loaded_file() . ' ' . FLOW3_PATH_FLOW3 . 'Scripts/flow3' . ' ' . escapeshellarg($commandIdentifier);
</pre>

Should be changed to:

<pre>
$command = 'SET FLOW3_ROOTPATH=""' . FLOW3_PATH_ROOT . '""&' . 'SET FLOW3_CONTEXT=""' . $this->context . '""&""' . $this->settings['core']['phpBinaryPathAndFilename'] . '"" -c ""' . php_ini_loaded_file() . '"" ""' . FLOW3_PATH_FLOW3 . 'Scripts/flow3' . ' ' . escapeshellarg($commandIdentifier) . '""';
</pre>

TODO: Test"
28016,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Cascade remove of cleared ArrayCollection,Henrik Møller Rasmussen,Karsten Dambekalns,2013-02-14 14:46,Persistence,"",2011-07-09,"","",0,2011-07-09 04:45,"","",173750,"",FLOW3 1.0.0,"If an aggregate root calls the clear() method of an ArrayCollection property with cascade=""all"", the child items are not removed from the database.

If however, you iterate through the collection calling remove($item) on the ArrayCollection, the items are removed from the DB. "
28035,TYPO3.Flow,Bug,"",Closed,Should have,FLOW3_REWRITEURLS is not taken into credit,Markus Bucher,Bastian Waidelich,2011-10-11 04:52,MVC - Routing,"",2011-07-09,"","",0,2011-07-09 09:23,"","",174650,"","","When mod_rewrite is not active and thus FLOW3_REWRITEURLS is not set with SetEnv, there is no error showing up during installation process or in Backend. This leads to errors and should be fixed."
28036,TYPO3.Flow,Bug,"",Resolved,Should have,Database password in Settings.yaml is not recognized when it starts with an ampersand,Daniel Lienert,Christian Müller,2011-10-19 19:37,Configuration,1.0.0,2011-07-09,"","",0,2011-07-09 09:28,"","",174700,"","","A password, that starts with an ampersand is not recognized. Ampersand on an other position causes no problem.

user: 'root'        # adjust to your database user
password: '&d4,Fg2'        # adjust to your database password
"
28052,TYPO3.Flow,Feature,"",On Hold,Should have,Possibility to enable or disable accounts,Julian Kleinhans,Julian Kleinhans,2013-05-21 07:28,Security,"",2011-07-09,"","",60,2011-07-09 14:42,"","",175500,"","","At the moment there is no possibility to enable or disable a account
"
28074,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Provide a shell script that installs Phoenix or FLOW3 from git,Markus Bucher,Markus Bucher,2012-03-14 09:49,"","",2011-07-09,"","",0,2011-07-10 19:06,"","",176600,"","","The shell scripts should read the neccessary arguments to:
# checkout the latest version of Phoenix/FLOW3
# add submodules
# register the neccessary git config for pushing to gerrit
# set up the right Settings.yaml
# add the Phoenix test site"
28132,TYPO3.Flow,Task,"",Resolved,Should have,Shallow directory structure for packages,Robert Lemke,Robert Lemke,2011-07-14 11:05,Package,1.0 beta 1,2011-07-12,"","",100,2011-07-12 11:00,"","",179500,"","","With the introduction of vendor namespaces support the directory structure has become quite deep:

Package ""RobertLemke.Foo.Bar"" would reside in:
Packages/Application/RobertLemke/Foo/Bar/Classes/...

As discussed during T3DD11 we'd rather have a more shallow directory structure which also simplifies cloning a package from git:
Packages/Application/RobertLemke.Foo.Bar/Classes/...
"
28136,TYPO3.Flow,Feature,"",New,Should have,HTTP Semantics for Transactions and more,Benjamin Eberlei,"",2012-05-21 10:15,Persistence,"",2011-07-12,"","",0,2011-07-12 13:09,"","",179700,"","","Currently the Repositories are all flushed on every request no matter the type. It should default to only PUT, POST DELETE updating the repositories.

GET Requests should schedule Transactions manually in the controller.

Additionally transactions should be encapsulated in one action and not executed over many different actions. This is problematic because there is no way to stop a transaction. Transactions should be rolled back (no flushing) when an exception is thrown in the controller."
28137,TYPO3.Flow,Feature,"",Closed,Should have,Do not use clone in PersistentObject ParamConverter,Benjamin Eberlei,Karsten Dambekalns,2011-08-29 15:29,Persistence,1.0 beta 1,2011-07-13,2011-07-13,"",100,2011-07-12 13:11,"","",179750,"","","Currently clone is used inside the PersistentObject ParamConverter and objects have to be merged back into persistence context (in case of doctrine) using $em->merge(). This creates unnecessary performance problems where the state of an object is first moved into a new object, then moved back into the persistent object. 

This is a dependency of the previous transaction ticket, since cloning is currently necessary with transactions always being flushed to the database."
28138,TYPO3.Flow,Bug,"",Rejected,Should have,ReflectionService Cache should be case insensitive,Bastian Waidelich,Robert Lemke,2011-07-14 07:24,Reflection,"",2011-07-12,"","",0,2011-07-12 14:48,"","",179800,"","","Currently ReflectionService stores reflected classes and methods in the firstLevel Cache by referring to the correctly cased class/method name.
This should be changed to always use lowercased cache identifiers in order to make ReflectionService work for classes/methods where the case is not known (e.g. CommandController)."
28139,TYPO3.Flow,Bug,"",Resolved,Should have,Remove obsolete fix permissions on flow3_dev,Michael Klapper,"",2011-07-13 04:36,"","",2011-07-12,"","",100,2011-07-12 15:43,"","",179850,"","","Obsolete chmod call on *flow3_dev* - file does not exists any more.

In file: ./Packages/Framework/TYPO3/FLOW3/Scripts/setfilepermissions.sh
<pre>
sudo chmod 770 flow3_dev
</pre>"
28140,TYPO3.Welcome,Task,"",Resolved,Should have,Remove obsolete occurence of flow3_dev,Michael Klapper,"",2011-07-13 04:36,"","",2011-07-12,"","",100,2011-07-12 15:59,"","",179900,"","","On the welcome screen is still the obsolete call to *flow3_dev* available.

"
28172,TYPO3.Flow,Feature,"",Resolved,Should have,Provide CommandManager,Bastian Waidelich,Bastian Waidelich,2011-07-20 03:05,MVC,1.0 beta 1,2011-07-13,"","",100,2011-07-13 06:03,"","",181450,"","","Currently the CLI Command resolving is mostly handled by the CLI Request Builder.
But it still has some glitches (see https://review.typo3.org/#change,3298).
Besides there is some duplicated code, as we need to find available commands in various places.

My suggestion is to add a central service that knows all commands (and in which controller they reside) and can also match an input to existing commands.

The API could be:
<pre>
class CommandManager {

	/**
	 * @return array<Command>
	 */
	public function getAvailableCommands();

	/**
	 * @string $commandIdentifier foo.bar:baz:foos
	 * @return Command
	 * @throws CommandNotFoundException if no matching command is available
	 * @throws AmbiguousCommandIdentifierException if more than one Command matches the identifier (the exception contains the matched commands)
	 */
	public function getCommandByIdentifier($commandIdentifier);

}
</pre>"
28184,TYPO3.Flow,Bug,"",Rejected,Should have,"Unable to create database if entity contains member ""read""",Michael Klapper,Karsten Dambekalns,2012-01-04 15:11,Persistence,"",2011-07-13,"","",0,2011-07-13 15:49,"","",182050,"",FLOW3 1.0.0,"<pre>
/**
 * @scope prototype
 * @entity
 */
class MyModel {

	/**
	 * @var boolean
	 */
	protected $read = false;	
...
}
</pre>

Error message
<pre>


$ ./flow3 typo3.flow3:doctrine:create

Uncaught Exception in FLOW3 #42000: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'read TINYINT(1) DEFAULT NULL, author VARCHAR(255) DEFAULT NULL, datetime DATETIM' at line 1
thrown in file Packages/Framework/Doctrine/Classes/DBAL/Connection.php
in line 618

#0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli()
   /var/www/project/Packages/Framework/TYPO3/FLOW3/Classes/Error/AbstractExceptionHandler.php:60

#1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()

</pre>

When i rename the member from ""$read;"" into ""$wasRead"" every thing works as expected."
28213,TYPO3.Flow,Bug,"",Resolved,Should have,Sites Configuration should overrule package Configuration,Bastian Waidelich,"",2012-05-14 20:38,Configuration,1.0.5,2011-07-14,"","",100,2011-07-14 15:13,"","",183450,"",FLOW3 1.0.0,"This is not really a bug, more a missing feature, but I think, this is rather important:
It's currently not possible to override configuration from within a Sites Package.

For example:
If you want to change the default authentication redirect URI, you could add following to the Settings.yaml of your site package:
<pre>
TYPO3:

   # redirect to login page when trying to access a protected page:
  FLOW3:
    security:
      authentication:
        providers:
          DefaultProvider:
            entryPoint:
              WebRedirect:
                uri: login.html
</pre>

But this will be overriden by the respective configuration in the Settings.yaml of the TYPO3 package.

Of course, you can copy those lines to the global Settings.yaml, but our goal should be to be able to provide all required settings with your site package..

It should be possible to somehow configure the order of how package settings are merged..

*Note:* I'm setting the target version to 1.0 beta 1 because this would probably be a breaking change afterwards.."
28228,TYPO3.Flow,Feature,"",Resolved,Must have,FLOW3 should be usable without Doctrine,Christopher Hlubek,Christopher Hlubek,2011-07-19 12:54,"","",2011-07-15,"","",100,2011-07-15 04:32,"","",184200,"","","FLOW3 should work without the Doctrine package. We should try to move the code that relies on Doctrine to a separate package to make FLOW3 more modular.

If I don't active the Doctrine package in the current version I'll get an exception during compilation:

<pre>
PHP Fatal error:  Class 'Doctrine\ORM\Query\TreeWalkerAdapter' not found in .../Packages/Framework/TYPO3.FLOW3/Classes/Persistence/Doctrine/CountWalker.php on line 24
</pre>

As a general goal we should try to push FLOW3 more into a component based architecture (though we provide the user with a full-stack framework with the base distribution)."
28231,TYPO3.Flow,Feature,"",New,Should have,Allow output to STDERR for CLI Response,Christopher Hlubek,"",2011-07-15 07:32,MVC,"",2011-07-15,"","",0,2011-07-15 07:32,"","",184350,"","",CLI Responses should have a possibility to output content for STDOUT and STDERR separately.
28245,TYPO3.Fluid,Bug,"",Resolved,Should have,Autocomplete Widget modifies query with every request,Bastian Waidelich,Bastian Waidelich,2011-07-19 05:05,Widgets,"",2011-07-15,"","",100,2011-07-15 13:25,"","",185050,"","","The autocomplete widget changes the query by adding constraints in the autocompleteAction of the widget controller.
But as the query is passed by reference this adds new constraints with every request instead of replacing the other ones.
Besides the amount of returned objects should be configurable (limit)."
28257,TYPO3.Flow,Bug,"",Resolved,Should have,Avoid Credentials to be stored in the request,Bastian Waidelich,Karsten Dambekalns,2011-08-26 03:36,Security,1.0 beta 1,2011-07-16,"","",100,2011-07-16 11:03,"","",185650,"","","When you authenticate using the PersistedUsernamePasswordProvider username & password are copied to the *GET Arguments* of the following request when used in SubRequests (plugins / widgets) because POST arguments are merged in the RequestBuilder. To avoid this, we should use ""internal request arguments"" for authentication (see #25802).

Concrete: The strings 'TYPO3.FLOW3.Security.Authentication.Token.UsernamePassword.username' and 'TYPO3.FLOW3.Security.Authentication.Token.UsernamePassword.password' in \TYPO3\FLOW3\Security\Authentication\Token\UsernamePassword::updateCredentials() should be replaced.
It could even be just __username & __password IMO.

*Note:* documentation and referring comments needs to be adjusted. To avoid headache, the token could still check for the old post vars and throw an exception (in dev context) / create a log entry (in other contexts)"
28283,TYPO3.Fluid,Bug,"",Resolved,Should have,Paginate Widget does not highlight current page,Bastian Waidelich,Bastian Waidelich,2014-12-16 05:24,Widgets,"",2011-07-18,"","",100,2011-07-18 04:12,"","",186950,"",(any),"The line
<pre>
$pages[] = array('number' => $i, 'isCurrent' => ($i === $this->currentPage));
</pre>
PaginateController::buildPagination() fails to set 'isCurrent' correctly for certain pages because $i is of type float and thus not (type safe) equal to $this->currentPage."
28294,TYPO3.Flow,Bug,"",Resolved,Must have,Command is not run in compile time if command identifier is abbreviated,Robert Lemke,Robert Lemke,2011-07-19 11:35,Core,1.0 beta 1,2011-07-18,"","",100,2011-07-18 08:43,"","",187500,"","","If a compiletime command is run through an short command identifier such as:
<pre>
./flow3 cache:flush
</pre>
the bootstrap does not recognize the command as a compile time command and runs it in runtime mode. This can lead to unexpected results."
28306,TYPO3.Flow,Bug,"",Resolved,Must have,Optional command line argument is ignored,Robert Lemke,Bastian Waidelich,2011-08-24 04:22,MVC,1.0 beta 1,2011-07-19,"","",100,2011-07-19 04:10,"","",188100,"","","Consider the following command as part of a command controller:

<pre>
public function importCommand($packageKey = NULL) {
   var_dump($packageKey);
}
</pre>

Call the command with <pre>./flow3 foo:import MyPackage.Key</pre>   

Expected result is MyPackage.Key, but actual result is NULL
"
28319,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Access denied will be logged at the wrong location in nested calls,Christopher Hlubek,"",2012-03-14 09:52,Security,"",2011-07-19,"","",0,2011-07-19 09:58,"","",188750,"",FLOW3 1.0.0,"If several method calls that were secured by the PolicyEnforcementAspect are nested, an AccessDeniedException will be logged for the outer method even when the access to the inner method was not allowed.

This is misguiding and makes policy debugging very hard. We should try to log the method that was actually not allowed and try to provide more context for debugging."
28327,TYPO3.Flow,Bug,"",Resolved,Should have,Argument mapping falsely detects tags from method description - ReflectionService RegExp issue,Robert Lemke,Sebastian Kurfuerst,2011-10-19 19:37,Reflection,1.0.0,2011-07-20,"","",100,2011-07-20 03:20,"","",189150,"","","Consider the following doc comment and method signature of a CommandController:

<pre>
	/**
	 * An example command
	 *
	 * The comment of this command method is also used for FLOW3's help screens. The first line should give a very short
	 * summary about what the command does. Then, after an empty line, you should explain in more detail what the command
	 * does. You might also give some usage example.
	 *
	 * It is important to document the parameters with @param tags, because that information will also appear in the help
	 * screen.
	 *
	 * @param string $requiredArgument This argument is required
	 * @param string $optionalArgument This argument is optional
	 * @return void
	 */
	public function exampleCommand($requiredArgument, $optionalArgument = NULL) {
		$this->view->appendContent('You called the example command.');
	}
</pre>

The property mapper will fail on this command because the ""@param tags,"" is detected as an argument definition and then the property mapper tries to convert the first argument into ""tags,"" ... which it can't'."
28373,TYPO3.Flow,Bug,"",Closed,Must have,Error after clearing temporary data,Christopher Hlubek,Robert Lemke,2011-09-09 04:42,Configuration,1.0 beta 2,2011-07-21,"","",0,2011-07-21 14:43,"","",191400,"","","After clearing temporary data in Production and calling the ""./flow3"" script to build up the cache I get the following error message:

<pre>
PHP Catchable fatal error:  Argument 1 passed to TYPO3\FLOW3\Utility\Arrays::getValueByPath() must be an array, null given, called in /var/www/xyz/releases/20110721202831/Packages/Framework/TYPO3.FLOW3/Classes/Configuration/ConfigurationManager.php on line 161 and defined in /var/www/xyz/releases/20110721202831/Packages/Framework/TYPO3.FLOW3/Classes/Utility/Arrays.php on line 159
</pre>

I suspect the cached configuration being wrong in this case."
28399,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Validation message and code should be configurable for bundled validators,Christopher Hlubek,"",2012-12-10 09:52,Validation,"",2011-07-22,"","",0,2011-07-22 11:36,"","",192500,"","","For custom applications the bundled validators of FLOW3 are nice but unusable if different messages and codes have to be used (e.g. for a custom Regex Validator).

It would be more flexible to have two options @code@ and @message@ per Validator (or multiple if more than one message is added) that can be configured by the user. Additionaly a message type (""error"" or ""warning"") would be nice.

The code change is pretty straight forward and should be compatible to the current version:

<pre><code class=""php"">
protected function isValid($value) {
  ...
  // If invalid
  $message = isset($this->options['message']) ? $this->options['message'] : 'Default error message';
  $code = isset($this->options['code']) ? $this->options['code'] : 12345678;
  $this->addError($message, $code);
}
</code></pre>"
28422,TYPO3.Flow,Bug,"",Resolved,Must have,Doctrine persistence does not use correct package key for tables,Christopher Hlubek,Christopher Hlubek,2011-08-23 05:21,Persistence,1.0 beta 1,2011-07-24,"","",100,2011-07-24 05:42,"","",193600,"","","The Flow3AnnotationDriver is using the second namespace part as package key for the table name prefix. This does not work for packages without vendor name or packages with a deeper nesting of vendor names (e.g. 'Com.MyCompany.Foo').
"
28444,TYPO3.Fluid,Feature,"",Closed,Could have,Implement comment ViewHelper or language feature,Christopher Hlubek,Bastian Waidelich,2012-02-04 09:50,ViewHelpers,1.0.3,2011-07-25,"","",100,2011-07-25 04:51,"","",194600,"","","It would be great to have the possibility of commenting out Fluid code / markup without rendering it to the client. A CommentViewHelper that always returns an empty string would be trivial to write, but maybe a language feature for comments would make sense."
28477,TYPO3.Flow,Bug,"",Resolved,Must have,Method visibility filter does not work,Christopher Hlubek,Christopher Hlubek,2011-07-28 13:05,AOP,"",2011-07-26,"","",100,2011-07-26 10:53,"","",196200,"","","The method visibility filter is not doing anything (again). A wrong regexp match parses visibilities like @""public ""@ or @""protected ""@. The check for valid visibilities inside the PointcutMethodNameFilter is uselesss, because it accepts the space behind the visibility.

There is also no real unit test for the @parseDesignatorMethod@ method inside the PointcutExpressionParser and the functional test for protected methods had a wrong visibility (public instead of protected!)."
28486,TYPO3.Flow,Feature,"",Resolved,Should have,"Don't clone, use explicit change tracking instead",Benjamin Eberlei,Karsten Dambekalns,2011-08-26 10:15,Persistence,1.0 beta 1,2011-08-17,"","",100,2011-07-26 16:00,"","",196650,0.00,"","Currently the parameter converter uses ""clone"" to create copies of objects,

Much better would be to automatically set the change tracking to DEFERRED_EXPLICIT for all entities: http://www.doctrine-project.org/docs/orm/2.0/en/reference/change-tracking-policies.html

This would mean changes are only tracked when you explicitly call $em->persist(). You could then switch the implementation of the Doctrine Base Repository to not use ->merge, but ->persist.

This would greatly simplify the code and make it much more robust."
28487,TYPO3.Flow,Bug,"",Resolved,Must have,ActionController ErrorAction forgets SubpackageKey,Torsten no-lastname-given,Sebastian Kurfuerst,2011-09-08 04:35,MVC,1.0 beta 2,2011-07-26,"","",100,2011-07-26 16:21,"","",196700,"","","The method errorAction of TYPO3\FLOW3\MVC\Controller\ActionController forwards like this:

<pre>
$this->forward($referringRequest->getControllerActionName(), $referringRequest->getControllerName(), $referringRequest->getControllerPackageKey(), $referringRequest->getArguments());
</pre>

better would be something like this:

<pre>
$controllerPackageKey = $referringRequest->getControllerPackageKey();
if ($referringRequest->getControllerSubPackageKey() !== NULL) {
	$controllerPackageKey .= '\\' . $referringRequest->getControllerSubpackageKey();
}

$this->forward($referringRequest->getControllerActionName(), $referringRequest->getControllerName(), $controllerPackageKey, $referringRequest->getArguments());
</pre>

"
28525,TYPO3.Flow,Bug,"",Resolved,Should have,Caches are not flushed after creating a package,Robert Lemke,Robert Lemke,2011-07-28 12:35,Package,1.0 beta 1,2011-07-27,"","",100,2011-07-27 15:12,"","",198450,"","","After creating (or deleting, activating, deactivating) a package through the command line, the caches are not flushed. That can lead to interesting, but still unnecessary fatal errors."
28544,TYPO3.Fluid,Feature,"",Resolved,Should have,Compilation of Fluid Templates into PHP files,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-09-13 03:44,Core,"",2011-07-28,"","",57,2011-07-28 10:56,"","",199400,0.00,"",""
28545,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,Resolved,Should have,(v4) fix encoding in HTML special chars VH,Sebastian Kurfuerst,Bastian Waidelich,2011-09-13 03:44,ViewHelpers,"",2011-07-28,"","",100,2011-07-28 10:57,"","",199450,"","",""
28546,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,Resolved,Should have,(v4) add backporter tokens again to TemplateView,Sebastian Kurfuerst,Bastian Waidelich,2011-08-01 14:03,"","",2011-07-28,"","",100,2011-07-28 10:57,"","",199500,"","",""
28547,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,Resolved,Should have,adjust backporter to show unused search/replace pairs,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-08-02 02:22,"","",2011-07-28,"","",100,2011-07-28 10:58,"","",199550,"","",""
28548,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,Resolved,Should have,(v4) fix unit tests,Sebastian Kurfuerst,Bastian Waidelich,2011-08-01 15:34,"","",2011-07-28,"","",100,2011-07-28 10:58,"","",199600,"","",""
28549,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,New,Should have,"make widgets cacheable, i.e. not implement childnodeaccess interface",Sebastian Kurfuerst,"",2011-10-21 07:37,"","",2011-07-28,"","",0,2011-07-28 10:58,"","",199650,"",FLOW3 1.0.0,""
28550,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,New,Should have,"(v4) make widgets cacheable, i.e. not implement childnodeaccess interface",Sebastian Kurfuerst,"",2011-10-21 07:37,"","",2011-07-28,"","",0,2011-07-28 10:58,"","",199700,"",FLOW3 1.0.0,""
28551,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,Accepted,Should have,(v4) backport VHTest,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-10-21 07:37,"","",2011-07-28,"","",80,2011-07-28 10:59,"","",199750,"",FLOW3 1.0.0,""
28552,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,New,Should have,(v5) write ViewHelper test for compiled run; adjust functional test to do two passes (uncached & cached),Sebastian Kurfuerst,"",2011-10-21 07:37,"","",2011-07-28,"","",0,2011-07-28 11:00,"","",199800,"",FLOW3 1.0.0,""
28553,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,New,Should have,improve XHProf test setup,Sebastian Kurfuerst,"",2011-10-21 07:37,"","",2011-07-28,"","",0,2011-07-28 11:01,"","",199850,"",FLOW3 1.0.0,""
28554,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,New,Should have,(v4) implement feature flag to disable caching,Sebastian Kurfuerst,"",2011-10-21 07:37,"","",2011-07-28,"","",0,2011-07-28 11:01,"","",199900,"",FLOW3 1.0.0,""
28556,TYPO3.Fluid,Task,Feature #28544: Compilation of Fluid Templates into PHP files,Resolved,Should have,Collect profiling data,Bastian Waidelich,Sebastian Kurfuerst,2011-08-02 02:22,"","",2011-07-28,"","",100,2011-07-28 11:07,"","",200000,"","","Collect XHProf data of various scenarios:
* Not optimized
* Optimized, creating Compiled templates
* Optimized, compiled"
28557,TYPO3.Fluid,Bug,Feature #28544: Compilation of Fluid Templates into PHP files,Resolved,Should have,Fix parameter type checking in Fluid,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-08-01 07:45,"","",2011-07-28,"","",100,2011-07-28 12:11,"","",200050,"","","#1: Warning: get_object_vars() expects parameter 1 to be object, string given in /opt/local/apache2/htdocs/Quickstart/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Reflection_ObjectAccess_Original.php line 133 (http://typo3.org/go/exception/1)

-> happens when one has <f:form object=""somethingWhichIsAStringButNoObject"" />"
28638,TYPO3.Flow,Bug,"",Resolved,Should have,Signals can't be defined in abstract classes,Bastian Waidelich,Robert Lemke,2011-09-29 06:36,AOP,1.0.0,2011-08-01,"","",100,2011-08-01 06:44,"","",203900,"","","The AOP ProxyClassBuilder produces invalid code when signals are defined in an abstract class.

*Steps to reproduce:*

<pre>
AbstractSignalTest.php
<code class=""php"">
<?php
namespace Foo\Bar;
abstract class AbstractSignalTest {

	public function testSignal() {
		$this->emitTestSignal();
	}

	/**
	 * @signal
	 */
	public function emitTestSignal() {}
}

?>
</code>
SignalTest.php
<code class=""php"">
<?php
namespace Foo\Bar;
class SignalTest extends AbstractSignalTest {

}
?>
</code>
In some controller:
<code class=""php"">
$signalTest = new \Foo\Bar\SignalTest();
$signalTest->testSignal();
</code>
</pre>

*Result:*
<pre>
#1: Notice: Undefined index: emitTestSignal in Development\Cache\Code\FLOW3_Object_Classes\Foo_Bar_AbstractSignalTest.php line 98
</pre>

The problem is, that the proxy code tries to access @$this->FLOW3_AOP_Proxy_targetMethodsAndGroupedAdvices@ which is declared private."
28652,TYPO3.Flow,Feature,"",Resolved,Should have,Exit code support for command-line responses,Robert Lemke,Robert Lemke,2011-08-02 03:36,MVC,1.0 beta 1,2011-08-01,"","",100,2011-08-01 14:30,"","",204600,"","",Commands should be able to define an exit code which is returned when FLOW3 exits.
28672,TYPO3.Flow,Bug,"",Resolved,Must have,Inconsistent configuration overrides for packages,Christopher Hlubek,Christian Jul Jensen,2012-11-28 06:35,Configuration,"",2011-08-02,"","",100,2011-08-02 07:28,"","",205600,"",FLOW3 1.0.0,"If one package overrides configuration of another package the result is not deterministic right now. The order of the loaded packages (from scanning the package paths, not the @PackageStates.php@) determines the order of the configuration.

We need to find a solution for this problem to always have a reliable and deterministic configuration."
28683,TYPO3.Flow,Feature,"",Closed,Should have,CachingFramework should accept cacheIdentifiers with special characters,Bastian Waidelich,"",2012-11-07 08:58,Cache,"",2011-08-02,"","",0,2011-08-02 09:29,"","",206150,"","","Currently the CachingFramework throws an exception if the specified cacheIdentifier contains a backslash for example.
This leads to the fact that we are (sometimes faultily) escaping the identifier in various places.
Instead the CachingFramework should handle this in a central place."
28733,TYPO3.Flow,Bug,"",Resolved,Must have,Implement LockManager for avoiding Race Conditions,Sebastian Kurfuerst,"",2011-08-23 14:35,Cache,1.0 beta 1,2011-08-04,"","",100,2011-08-04 02:34,"","",208650,"","",""
28782,TYPO3.Flow,Bug,"",Resolved,Must have,Can`t create other controller than Standard,Dawid ,Robert Lemke,2011-08-23 05:32,MVC,1.0 beta 1,2011-08-05,"","",100,2011-08-05 10:31,"","",211100,"","","I was checking FLOW3. I`ve downloaded sourcec yesterday.

After creating package (new) with StandardController I`ve typed

flow3.bat typo3.kickstart:kickstart:controller Packagename Something

I didn`t get SomethingController.php but StandardController.php
It ignores the name

Same thing on MacOS and Windows

D:\wamp\www\flow>flow3.bat typo3.kickstart:kickstart:controller Test Kontrolertestowy
+ .../Packages/Application/Test/Classes/Controller/StandardController.php
+ ...Private/Templates/Standard/Index.html"
28783,TYPO3.Kickstart,Feature,"",Resolved,Should have,Overwriting existing file,Dawid ,Robert Lemke,2011-08-29 05:46,"",1.0 beta 1,2011-08-05,"","",100,2011-08-05 10:33,"","",211150,"","","When you create new file like controller, model or repo with a name that already exists the old file is overwritten.
IMO there sould be an extra parameter that gives you possibility to overwrite BUT with out this parameter the new file musn`t overwrite the old one.

For example you can have similar names and misstype and your whole work is out. That is not good"
28806,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,check why flow3.bat is not included in the build,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-08-25 05:08,Build Process,1.0 beta 1,2011-08-07,"","",0,2011-08-07 01:53,"","",212300,"","",""
28814,TYPO3.Flow,Bug,"",Resolved,Should have,Permission issue in Package Manager?,Sebastian Kurfuerst,Robert Lemke,2011-08-25 08:06,"",1.0 beta 1,2011-08-07,"","",100,2011-08-07 11:55,"","",212700,"","","We have had the following report:

http://lists.typo3.org/pipermail/flow3-general/2011-August/001074.html

> Uncaught Exception in FLOW3 #1: Warning: chmod(): Operation not
> permitted in /srv/www/htdocs/flow3/Packages/Framework/TYPO3.FLOW3/Classes/Package/PackageManager.php
> line 451
> thrown in file Packages/Framework/TYPO3.FLOW3/Classes/Error/ErrorHandler.php
> in line 81
> 
> #0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli()
> /srv/www/htdocs/flow3/Packages/Framework/TYPO3.FLOW3/Classes/Error/AbstractExceptionHandler.php:60
> 
> #1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()

.. and should check if we can fix the issue or give the user a better explanation."
28862,TYPO3.Flow,Bug,"",Resolved,Should have,Inconsistent handling of roles as objects and strings in Account,Christopher Hlubek,Rens Admiraal,2013-04-12 08:39,Security,2.1,2011-08-09,"","",100,2011-08-09 05:44,"","",215100,"",FLOW3 1.0.0,"While the public methods of @Account@ that deal with @Role@s use objects, account internally stores only the role identifiers as strings. This should be changed."
28868,TYPO3.Flow,Feature,"",Resolved,Should have,Default Doctrine Annotation for single object relation should be derived automatically,Christian Müller,Karsten Dambekalns,2011-08-25 07:05,Persistence,1.0 beta 1,2011-08-09,"","",100,2011-08-09 08:45,"","",215400,"","","	/**
	 * @var \Me\MyPackage\Domain\Model\DepartmentPerson
	 */
	protected $departmentPerson = NULL;

Will result in strange errors that are not really helpful. Should by default create OneToOne or ManyToOne (maybe better) Relation (tbd) or at least give some warning on compile?"
28883,TYPO3.Welcome,Bug,"",Resolved,Must have,Pre-Beta Documentation link is a bit faulty,Patrick ,Robert Lemke,2011-08-24 04:05,"",1.0 beta 1,2011-08-10,"","",100,2011-08-10 03:35,"","",216150,"","","I've pulled todays version from GIT and tried to hit the link 'Pre-Beta Documentation' from the Welcome page. The link directs me to a non existent URL 'http://flow3.typo3.org/fileadmin/manual/nighly/'. I think it's just a typo 'nighly'->'nightly'.

"
28964,TYPO3 Flow Base Distribution,Feature,"",New,Could have,Integrate Behat tool for BDD,Fernando Arconada,"",2011-08-13 10:03,"","",2011-08-13,"","",0,2011-08-13 10:03,"","",220150,"","",In order to have BDD in FLOW3 should be great to integrate Bethat (http://behat.org/) as is it done for Symfony (or even better for FLOW3)
28972,TYPO3.Fluid,Bug,"",Resolved,Must have,(v5) Bug in new caching mechanism,Peter Beernink,Sebastian Kurfuerst,2011-08-16 03:23,Core,1.0 beta 1,2011-08-14,"","",100,2011-08-14 11:30,"","",220550,"","","After creating a fresh clone of the FLOW3 base distribution, I encountered the following behaviour.
When you run the FLOW3 Welcome package for the first time, everything works as expected however, when you refresh the page, all styling is gone.

It turned out that the HTML output is missing all code between the <f:base> and the first variable, {version} in this case.
Doing some further checking, that whole block is missing from the cached PHP code in the Cache/Code/Fluid_TemplateCache/...html file

Although I've tested this in v5, it might as well be also an issue in v4."
28981,TYPO3.Flow,Feature,"",Resolved,Should have,Implement autocompletion in interactive shell mode,Oliver Hader,Oliver Hader,2011-08-15 14:33,Core,1.0 beta 1,2011-08-15,"","",0,2011-08-15 07:27,"","",220950,"","",The autocompletion in the interactive shell mode shall show all available and non-internal commands.
28995,TYPO3.Flow,Bug,"",Resolved,Must have,Deferred Loading does not work with Doctrine QueryResult,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-08-16 04:05,Persistence,1.0 beta 1,2011-08-16,"","",100,2011-08-16 01:42,"","",221650,"","","When looking into Doctrine\QueryResult, it becomes obvious that the rows are *not* lazily initialized on first access, but initialized *all the time*. This is a severe performance penalty.

In #26862 the Doctrine Query was made serializable; but it was never accessed as the QueryResult was not lazy. This needs to be fixed."
29004,TYPO3.Fluid,Bug,"",Closed,Must have,if viewhelper does not evaluate conditions correctly,Manuel Stofer,Bastian Waidelich,2011-08-16 07:20,Core,"",2011-08-16,"","",0,2011-08-16 05:22,"","",222100,"","","Actually the if viewhelper just typecasts the parameter 'condition' to boolean
which is not what you expect when you read the comments in the header.

In the header of IfViewhelper.php you can find examples like:
<f:if condition=""{rank} % 2"">
    Will be shown if rank % 2 != 0.
</f:if>


But when you do something like this:

<f:if condition=""4 % 2"">
	4 % 2 != 0
</f:if>

<f:if condition=""4 == 5"">
	4 == 5
</f:if>


Fluid outputs: 

4 % 2 != 0
4 == 5


"
29037,TYPO3.Flow,Feature,"Feature #28486: Don't clone, use explicit change tracking instead",Rejected,Should have,Use annotation to mark entities as aggregate root,Karsten Dambekalns,Karsten Dambekalns,2011-08-26 10:15,Persistence,1.0 beta 1,2011-08-17,"","",100,2011-08-17 05:21,"","",223750,"","","* @aggregateRoot annotation (normative)
* Repository CAN exist for non-aggregate root -> EXPLAIN that this is pragmatic, but no clean DDD"
29038,TYPO3.Flow,Feature,"Feature #28486: Don't clone, use explicit change tracking instead",Resolved,Should have,Set useful defaults for cascade attributes in Doctrine,Karsten Dambekalns,Karsten Dambekalns,2011-08-26 07:35,Persistence,1.0 beta 1,2011-08-17,"","",100,2011-08-17 05:23,"","",223800,"","","Use DDD semantics to add cascade attributes all INSIDE aggregate boundaries, NO cascading to other aggregate roots. Manually added cascade wins over automagic, of course.
"
29039,TYPO3.Flow,Task,"Feature #28486: Don't clone, use explicit change tracking instead",Resolved,Should have,Change default policy for Doctrine to DEFERRED_EXPLICIT,Karsten Dambekalns,Karsten Dambekalns,2011-08-26 08:36,Persistence,1.0 beta 1,2011-08-17,"","",100,2011-08-17 05:26,"","",223850,"","","* change tracking policy -> explicit
* no more clone PersistentObjectConverter
* Repository adjustments
** add($obj) -> throw exception when object is not new
** remove($obj) -> throw exception when object is not known in persistence BE
** update($obj) -> throw exception when object is not known in persistence BE, call PersistenceBackend::persist()

Biggest change: without update() call no changes will be persisted, no more automatic persistence."
29040,TYPO3.Flow,Task,"Feature #28486: Don't clone, use explicit change tracking instead",Resolved,Should have,Adjust documentation to new persistence behavior,Karsten Dambekalns,Karsten Dambekalns,2011-08-26 10:14,- Documentation -,1.0 beta 1,2011-08-17,"","",100,2011-08-17 05:27,"","",223900,"","","* changed clone-behavior
* changed Repository::update()
* default cascade attributes
* marking aggregate roots"
29045,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Wakeup of Query sets wrong state if originally no constraint has been set,Ferdinand Kuhl,"",2011-08-17 11:39,"","",2011-08-17,"","",0,2011-08-17 11:21,"","",224150,"","","If I save a Query-Result in a WidgetController and afterwards call $result->getQuery->execute() I receive an empty result, because of the try-catch block around the execute call which simply returns an empty result in case of an exception.

The problem seems to be in the __wakeup() method of \TYPO3\FLOW3\Persistence\Doctrine\Query 
<pre>
	public function __wakeup() {
		$this->queryBuilder->where($this->constraint);
</pre>

everything works fine, if I inject a condition like this:

<pre>
	public function __wakeup() {
		if ($this->constraint)
			$this->queryBuilder->where($this->constraint);
</pre>"
29065,TYPO3.Fluid,Feature,"",Closed,Could have,HTML5 Custom Data Attributes,Thomas Allmer,Sebastian Kurfuerst,2011-09-22 09:09,Core,"",2011-08-17,"","",0,2011-08-17 17:51,"","",225150,"","","Fluid should support the use of HTML5 Custom Data Attributes as described in the W3C Specification[1].

The Patterns need to be changed so that attributes with ""-"" are actually identified as such. Currently fluid breaks with such attributes.
Furthermore ""data-*"" won't fit into the current way of registering attributes with a full name and type. Fluid will probably need a solution which allows a registration of patterns for attributes. (always with string as type?)

[1]: http://dev.w3.org/html5/spec/elements.html#embedding-custom-non-visible-data-with-the-data-attributes"
29066,TYPO3.Flow,Bug,"",Resolved,Must have,Doctrine::QueryResult->getQuery() does not clone the query before returning it,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-08-18 04:49,Persistence,1.0 beta 1,2011-08-18,"","",100,2011-08-18 00:28,"","",225200,"","",".. This means the original query gets modified, which is wrong.

We should also create a test case for this."
29158,TYPO3.Flow,Bug,"",Resolved,Must have,Exception is created but not thrown,Sascha Egerer,Karsten Dambekalns,2011-08-23 08:13,Persistence,1.0 beta 1,2011-08-22,"","",100,2011-08-22 09:28,"","",229650,"","","In the Flow3AnnotationDriver class an exception is created but not thrown because ""throw"" is missing."
29201,TYPO3.Flow,Feature,"",Resolved,Must have,Make generic persistence follow new paradigms,Karsten Dambekalns,Christopher Hlubek,2011-08-31 11:06,Persistence,1.0 beta 2,2011-08-24,"","",100,2011-08-24 01:09,"","",231750,"","","This means:

* persist only after @update()@ has been called
* dirty check only instances given to @update()@"
29202,TYPO3.Flow,Task,Task #27561: Complete documentation,New,Should have,Provide a Cherokee Server Configuration for FLOW3,Karsten Dambekalns,"",2011-08-24 01:45,- Documentation -,"",2011-08-24,"","",0,2011-08-24 01:45,"","",231800,"","",Explain how to set up Cherokee so it works with FLOW3.
29213,TYPO3.Flow,Task,"",Resolved,Must have,Make table name correspond to full model class name,Karsten Dambekalns,Karsten Dambekalns,2011-08-26 04:35,Persistence,1.0 beta 1,2011-08-24,"","",100,2011-08-24 06:40,"","",232350,"","",To avoid name clashes the generated table names should be based on the FQCN of a model.
29244,TYPO3.Flow,Bug,"",Resolved,Should have,cloning models don't reset persistence identifier,Torsten no-lastname-given,"",2011-08-26 09:06,Persistence,"",2011-08-25,"","",100,2011-08-25 08:56,"","",233900,"","","Adding cloned models to repository throws ""SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry"" Exception.

This solves the issue:
<pre>
public function __clone() {
	$this->FLOW3_Persistence_Identifier = \TYPO3\FLOW3\Utility\Algorithms::generateUUID();
}
</pre>

"
29257,TYPO3 Flow Base Distribution,Feature,"",Rejected,Should have,Doctrine migrations couldn't be specified by environment,Fernando Arconada,Karsten Dambekalns,2011-08-29 05:47,"","",2011-08-25,"","",0,2011-08-25 17:36,"","",234550,"","",From command line you can execute doctrine migrations only in production environment
29258,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Provide a way to override classes by environment,Fernando Arconada,"",2012-03-14 14:29,"","",2011-08-25,"","",0,2011-08-25 18:01,"","",234600,"","","In FLOW3 you can define several environments in your configuration. But, how could you override a class (ie. a controller) depending of the environment?.

If you always can clone your server you dont need environments, even in configuration.

I'm thinking in something like

MyPackage
 Classes
  mycontroller.php
  ValidationEnvironment
    mycontroller.php


The class is only overrided if it is defined for this environment
Cause the feature could decrease the performance of the framework it could be enabled/disabled by a config option
"
29266,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,"Transfer ""Introduction"" chapter to ReST",Sebastian Kurfuerst,Karsten Dambekalns,2012-06-25 12:50,- Documentation -,1.1,2011-08-26,"","",100,2011-08-26 04:26,"","",234950,"","",see attachment
29268,TYPO3.Flow,Task,Task #27561: Complete documentation,Closed,Should have,Transfer / Rewrite MVC chapter,Sebastian Kurfuerst,Robert Lemke,2012-07-31 11:40,- Documentation -,1.1,2011-08-26,"","",30,2011-08-26 04:27,"","",235050,"","",""
29271,TYPO3.Flow,Bug,"",Closed,Should have,Query setOrdering doesn't work on relations,Torsten no-lastname-given,"",2012-03-14 10:07,Persistence,"",2011-08-26,"","",0,2011-08-26 06:27,"","",235200,"",FLOW3 1.0.0,"TYPO3\FLOW3\Persistence\Doctrine\Query->setOrdering does not work on related fields:


Currently:
<pre>
	public function setOrderings(array $orderings) {
		$this->orderings = $orderings;
		$this->queryBuilder->resetDQLPart('orderBy');
		foreach ($this->orderings AS $propertyName => $order) {
			$this->queryBuilder->addOrderBy($this->queryBuilder->getRootAlias() . '.' . $propertyName, $order);
		}
		return $this;
	}
</pre>

Better:
<pre>
	public function setOrderings(array $orderings) {
		$this->orderings = $orderings;
		$this->queryBuilder->resetDQLPart('orderBy');
		foreach ($this->orderings AS $propertyName => $order) {
			$this->queryBuilder->addOrderBy($this->getPropertyNameWithAlias($propertyName), $order);
		}
		return $this;
	}
</pre>"
29290,TYPO3.Fluid,Bug,"",Resolved,Must have,Additional Identity Properties not set on mapping error,Torsten no-lastname-given,Bastian Waidelich,2013-09-26 10:36,ViewHelpers,"",2011-08-26,"","",100,2011-08-26 16:24,"","",236050,"",FLOW3 1.0.0,"After a mapping error occurred, no additional identity properties are set and FLOW3 tries to create a new object.

Could be easily fixed in TYPO3\Fluid\ViewHelpers\Form\AbstractFormFieldViewHelper

currently:
<pre>
	protected function getValue() {
		$value = NULL;

		if ($this->arguments->hasArgument('value')) {
			$value = $this->arguments['value'];
		} elseif ($this->hasMappingErrorOccured()) {
			$value = $this->getLastSubmittedFormData();
		} elseif ($this->isObjectAccessorMode() && $this->viewHelperVariableContainer->exists('TYPO3\Fluid\ViewHelpers\FormViewHelper', 'formObject')) {
			$this->addAdditionalIdentityPropertiesIfNeeded();
			$value = $this->getPropertyValue();
		}
		if (is_object($value)) {
			$identifier = $this->persistenceManager->getIdentifierByObject($value);
			if ($identifier !== NULL) {
				$value = $identifier;
			}
		}
		return $value;
	}
</pre>


Better:
<pre>
	protected function getValue() {
		$value = NULL;

		if ($this->arguments->hasArgument('value')) {
			$value = $this->arguments['value'];
		} elseif ($this->hasMappingErrorOccured()) {
			$this->addAdditionalIdentityPropertiesIfNeeded();
			$value = $this->getLastSubmittedFormData();
		} elseif ($this->isObjectAccessorMode() && $this->viewHelperVariableContainer->exists('TYPO3\Fluid\ViewHelpers\FormViewHelper', 'formObject')) {
			$this->addAdditionalIdentityPropertiesIfNeeded();
			$value = $this->getPropertyValue();
		}
		if (is_object($value)) {
			$identifier = $this->persistenceManager->getIdentifierByObject($value);
			if ($identifier !== NULL) {
				$value = $identifier;
			}
		}
		return $value;
	}
</pre>"
29292,TYPO3.Flow,Bug,"",Resolved,Must have,Typing help on FLOW3 shell exits,Hari K T,Robert Lemke,2011-09-06 06:06,Command,1.0 beta 2,2011-08-27,"","",100,2011-08-26 23:20,"","",236150,"","","I have typed ./flow3 flow3:core:shell and the shell prompt came .

When typing help , it throws the below error.

<pre>
hari@hari-Vostro1510:/media/Linux/flow3$ ./flow3 flow3:core:shell
FLOW3 Interactive Shell

FLOW3 > help

Uncaught Exception in FLOW3 #1: Catchable Fatal Error: Argument 1 passed to TYPO3\FLOW3\Command\CoreCommandController::echoSubProcessResponse() must be an array, null given, called in /media/Linux/flow3/Packages/Framework/TYPO3.FLOW3/Classes/Command/CoreCommandController.php on line 246 and defined in /media/Linux/flow3/Packages/Framework/TYPO3.FLOW3/Classes/Command/CoreCommandController.php line 303
thrown in file Packages/Framework/TYPO3.FLOW3/Classes/Error/ErrorHandler.php
in line 81
Reference code: 20110827084131a1af4f

#0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli()
   /media/Linux/flow3/Packages/Framework/TYPO3.FLOW3/Classes/Error/AbstractExceptionHandler.php:60

#1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()

hari@hari-Vostro1510:/media/Linux/flow3$ ./flow3 flow3:core:shell
FLOW3 Interactive Shell

FLOW3 > 

Bye!
hari@hari-Vostro1510:/media/Linux/flow3$ 

</pre>"
29295,TYPO3.Flow,Bug,"",Closed,-- undefined --,Uncaught Exception in FLOW3 SQLSTATE[HY000]: General error: 1005 Can't create table 'phoenix.#sql-3dc_28' (errno: 150),Hari K T,Christian Müller,2011-11-07 15:55,Persistence,"",2011-08-27,"","",0,2011-08-27 08:31,"","",236300,"",FLOW3 1.0.0,"Hi ,

I was trying the Blog Tutorial . As I was not having the cheat sheet , at some point I downloaded the Blog Package from the git .

I did a migration and it throws the below errors . Is it a bug ?

<pre>

hari@hari-Vostro1510:/media/Linux/flow3$ ./flow3 doctrine:migrate

Uncaught Exception in FLOW3 SQLSTATE[HY000]: General error: 1005 Can't create table 'phoenix.#sql-3dc_28' (errno: 150)
thrown in file Packages/Framework/Doctrine/Classes/DBAL/Connection.php
in line 618

#0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli()
   /media/Linux/flow3/Packages/Framework/TYPO3.FLOW3/Classes/Error/AbstractExceptionHandler.php:60

#1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()

hari@hari-Vostro1510:/media/Linux/flow3$ 
</pre>"
29300,TYPO3.Flow,Bug,"",Resolved,Should have,Bug activating Package ./flow3 package:activate TYPO3.Faker,Hari K T,Robert Lemke,2011-10-21 07:24,Package,"",2011-08-27,"","",100,2011-08-27 13:30,"","",236550,"",FLOW3 1.0.0,"<pre>
hari@hari-Vostro1510:/media/Linux/flow3$ ./flow3 setup:profilingdata
The required package TYPO3.Faker is not active.hari@hari-Vostro1510:/media/Linux/flow3$ ./flow3 package:activate TYPO3.Faker
Flushed all caches.
PHP Fatal error:  Call to a member function dispatch() on a non-object in /media/Linux/flow3/Packages/Framework/TYPO3.FLOW3/Classes/SignalSlot/SignalAspect.php on line 49
hari@hari-Vostro1510:/media/Linux/flow3$ 

</pre>"
29303,TYPO3.Fluid,Bug,"",Resolved,Should have,TYPO3\Fluid\View\TemplateView getTemplateRootPath should be public,Fernando Arconada,"",2013-03-19 10:37,View,"",2011-08-28,"","",100,2011-08-28 05:30,"","",236700,"",FLOW3 1.0.0,"if TYPO3\Fluid\View\TemplateView setTemplateRootPath is public then the getTemplateRootPath should be also

The opposite have sense: set as protected and get as public. But if you could write you should be able to read what you have write"
29326,TYPO3.Flow,Bug,"",Resolved,Should have,./flow3 core:setfilepermissions should not rely on sudo without proper test,Steffen Müller,"",2013-02-15 11:21,Command,1.0 beta 2,2011-08-29,"","",100,2011-08-29 11:48,"","",237850,"","","@./flow3 core:setfilepermissions@ calls sudo without a proper test if it is installed and correctly setup.
On systems without sudo this leads to gazillions of ugly failing sudo calls within the find loop.

This can be reproduced on standard debian installation which is shipped without sudo.

I suggest not to rely on sudo at all, but prompt the user for running @./flow3 core:setfilepermissions@ as root or with sudo himself."
29358,TYPO3.Flow,Feature,"",Resolved,Should have,Enable use of @ (shut-up-operator),Ferdinand Kuhl,"",2011-09-05 07:06,Error,"",2011-08-30,"","",100,2011-08-30 11:23,"","",239350,"","","The FLOW3 error and exception handler does a good job. But if you have to integrate foreign code, suppressing foreign errors (E_STRICT or similar) is the only possibility to get this code to work.

PHP suggests to check (error_reporting() === 0) in order to realize if error_handling have been temporarily disabled.

I temporarily added to lines to the ErrorHandler::handleError function:

<pre><code class=""php"">if(error_reporting() === 0)
			return;</code></pre>"
29374,TYPO3.Flow,Bug,"",Resolved,Should have,ActionController doesn't initialize Errors correctly,Bastian Waidelich,Bastian Waidelich,2011-08-31 04:25,MVC,1.0 beta 2,2011-08-31,"","",100,2011-08-31 04:23,"","",240150,"","","The ActionController doesn't use the correct controller API in
getErrorFlashMessage(), arguments are not passed to the error FlashMessage resulting in the following message:
<pre>
An error occurred while trying to call %1$s->%2$s()
</pre>

As work around you can override the method @getErrorFlashMessage()@ in your controller."
29387,TYPO3.Flow,Feature,"",Needs Feedback,Should have,A token with wrong credentials should throw an exception,Christopher Hlubek,Andreas Förthner,2011-08-31 09:32,Security,"",2011-08-31,"","",0,2011-08-31 09:32,"","",240800,"","",It would be better if a token that has wrong credentials causes an exception in the AuthenticationProviderManager. I don't see any case right now where we would want to proceed with invalid / wrong credentials in a token.
29389,TYPO3.Flow,Feature,"",Resolved,Should have,Provide simple code migration mechanism,Bastian Waidelich,Karsten Dambekalns,2012-05-02 20:39,"",1.1,2011-08-31,"","",100,2011-08-31 09:58,"","",240900,"","","For people up-/downgrading from one FLOW3 version to another, there should be some tool that executes required migrations etc.

This could be a simple FLOW3 CLI Command IMO.
Changes that need to replace code could be put in @<Package>/Migrations/Php/Version<timestamp>.php@ (just like Doctrine migrations.
A consequence of that would be that changes must not break CLI (at least after caches have been flushed).

Some issues/questions:

* Do we need to provide a *downgrading* mechanismn?
* How can we track from which to which version the user is up-/downgrading?
* Do we need some automatic backup solution if anything goes wrong?"
29392,TYPO3.Flow,Bug,"",Resolved,Should have,Persistence\Generic\AbstractBackend does not cascade persist correctly,Karsten Dambekalns,Karsten Dambekalns,2011-09-02 06:06,Persistence,1.0 beta 2,2011-08-31,"","",100,2011-08-31 12:09,"","",241050,"","","When using the generic persistence some updates are not correctly persisted. One example is a change to the name of an account holder in the Blog (the username itself is changed correctly).
This at least occurred when using the PDO backend."
29395,TYPO3.Fluid,Bug,"",Resolved,Should have,SelectViewHelper with multiple=true cannot work with Collections,Ferdinand Kuhl,"",2011-11-08 00:37,"",1.0.1,2011-08-31,"","",0,2011-08-31 13:36,"","",241200,"",FLOW3 1.0.0,"When using collections as preselected values for SelectView-Helper with option multiple=""1"" the preselection is only possible when you have a ""public"" identity field.

The preselection for lists does only work if ""optionValueField""-Argument is set, which you cannot use with the internal flow3-identity.

First part of the solution is:
<pre><code class=""php"">
/**
 * Retrieves the selected value(s)
 *
 * @return mixed value string or an array of strings
 * @author Bastian Waidelich <bastian@typo3.org>
 */
protected function getSelectedValue() {
	$value = $this->getValue();
	if (!$this->hasArgument('optionValueField') && ! is_array($value)) {
		return $value;
	}
</code></pre>

(Important is the & ! is_array())

But than further the code runs in the next problem selecting by using $this->arguments['optionValueField'] to retrieve the value.
"
29405,TYPO3.Flow,Bug,"",New,Must have,"When storing a new entity inside the session, it will be fully serialized instead of just the reference being stored",Sebastian Kurfuerst,"",2013-04-04 05:34,Session,"",2011-09-01,"","",0,2011-09-01 03:15,"","",241700,"",FLOW3 1.0.0,"When having the following code:

<pre><code class=""php"">
$newEntity = new MyEntity();
$newEntityRepository->add($newEntity);

$someObjectWithSessionScope->setEntity($newEntity);
</code></pre>

Then, $newEntity is FULLY serialized; although it should only be stored as UUID reference in the session.

As an example, this happens when running the BlogExample setup; after creating an initial user -- this user is directly logged in, but the Account is fully stored in the session.

This leads to very weird bugs, in my case I wanted to store a reference to $account in another entity; and doctrine then told me that the object was not known yet.

The issue is in DependencyInjection\ProxyClassBuilder::buildSerializeRelatedEntitiesCode around line 239:


<pre><code class=""php"">
if (\$this->\$propertyName instanceof \\TYPO3\\FLOW3\\Persistence\\Aspect\\PersistenceMagicInterface && !\\TYPO3\\FLOW3\\Core\\Bootstrap::\$staticObjectManager->get('TYPO3\\FLOW3\\Persistence\\PersistenceManagerInterface')->isNewObject(\$this->\$propertyName) || \$this->\$propertyName instanceof \\Doctrine\\ORM\\Proxy\\Proxy) {
				if (!property_exists(\$this, 'FLOW3_Persistence_RelatedEntities') || !is_array(\$this->FLOW3_Persistence_RelatedEntities)) {
			
</code></pre>

Basically this check somehow needs to be adjusted, such that:
1) New objects *which are scheduled for addition* are serialized as UUID
2) New objects *which are NOT scheduled for addition* are serialized completely.

@Karsten: Any hints on how we can check that? It seems that PersistenceManagerInterface.::isNewObject also returns TRUE when the object is not known at all to the unit of work. Maybe we need to extend PersistenceManagerInterface then?
"
29406,TYPO3.Kickstart,Bug,"",Resolved,Should have,kickstart:commandcontroller renders appendContent() code,Robert Lemke,Karsten Dambekalns,2011-09-09 03:38,"",1.0 beta 2,2011-09-01,"","",100,2011-09-01 03:46,"","",241750,"","","The code rendered by this kickstart command renders 

   $this->response->appendContent(sprintf('You called the example command and passed ""%s"" as the first argument.', $requiredArgument));

but should render

   $this->outputLine('You called the example command and passed ""%s"" as the first argument.', array($requiredArgument));"
29407,TYPO3.Flow,Bug,"",Resolved,Should have,help command does not display description,Robert Lemke,Bastian Waidelich,2011-09-08 11:35,Command,1.0 beta 2,2011-09-01,"","",100,2011-09-01 03:50,"","",241800,"","","The command-line help command doesn't display the long help text of a single command.

Example:

   ./flow3 help kickstart:package

only displays this help text:

<pre>
Kickstart a new package

USAGE:
./flow3 kickstart:package <packageKey>

ARGUMENTS:
  packageKey           The package key, for example ""MyCompany.MyPackageName""
</pre>

This text is missing:
<pre>
Creates a new package and creates a standard Action Controller and a sample template for its Index Action.
For creating a new package without sample code use the package:create command.
</pre>"
29412,TYPO3.Flow,Task,"",Resolved,Should have,Remove generic PDO backend,Karsten Dambekalns,Karsten Dambekalns,2011-09-05 14:36,Persistence,1.0 beta 2,2011-09-01,"","",100,2011-09-01 05:05,"","",242050,"","","With the integration of Doctrine the old PDO based persistence backend is obsolete. The generic persistence basics will stay, for use by things like the CouchDB package."
29414,TYPO3.Flow,Bug,"",Resolved,Must have,Deletion of packages results in fatal error,Robert Lemke,Robert Lemke,2011-09-06 05:36,Command,1.0 beta 2,2011-09-01,"","",100,2011-09-01 06:54,"","",242150,"","","Most package operations (package:delete, package:deactivate etc.) and possibly also flow3:cache:flush result in a fatal error like this one:
<pre>
$ ./flow3 package:delete TYPO3.T3con11Typo3Org
Flushed all caches.

Fatal error: Call to a member function dispatch() on a non-object in /opt/local/apache2/htdocs/sites/flow3.org/Packages/Framework/TYPO3.FLOW3/Classes/SignalSlot/SignalAspect.php on line 49
</pre>
"
29415,TYPO3 Flow Base Distribution,Task,"",Resolved,Could have,Remove @license tags and add general license information,Robert Lemke,Karsten Dambekalns,2011-09-29 06:32,"",1.0.0,2011-09-01,"","",100,2011-09-01 06:59,"","",242200,"","",We should remove all @license tags in class doc comments and instead place a general LICENSE.txt file in the Documentation or Meta directory of each package. The general file comment block could also be simplified and mention that license file.
29416,TYPO3.Flow,Bug,"",Resolved,Must have,Aggregate root detection for Person vs AbstractParty is broken,Karsten Dambekalns,Karsten Dambekalns,2011-09-30 06:24,Persistence,1.0.0,2011-09-01,"","",100,2011-09-01 07:23,"","",242250,"","","The association from Account to Person is cascaded during persist, because the fact that Person has a PersonRepository is not detected from the type hint to AbstractParty in the Account class."
29419,TYPO3.Flow,Bug,"",Resolved,Should have,"It is impossible to use the Collection interface in ""type hints""",Karsten Dambekalns,Karsten Dambekalns,2011-09-09 09:21,Utility,1.0 beta 2,2011-09-01,"","",0,2011-09-01 09:16,"","",242400,"","","Currently it is not possible to use the Collection interface for @param or @var annotations, because the TypeHandling doesn't consider it a valid collection type. For the sake of decoupling it should be possible to do so, though."
29425,TYPO3.Flow,Bug,"",New,Should have,Deletion of a blog post with resources fails with FK constraint error,Karsten Dambekalns,"",2011-10-21 07:20,Persistence,"",2011-09-01,"","",0,2011-09-01 12:04,"","",242700,"",FLOW3 1.0.0,"[Debug this and update this issue to contain a ""neutral"" description.]"
29449,TYPO3.Flow,Bug,"",Resolved,Must have,Add safeguard preventing to reflect Doctrine Proxies,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-09-05 06:36,Reflection,1.0 beta 2,2011-09-01,"","",100,2011-09-02 00:58,"","",243350,"","","In some custom application of mine, I have accidentally reflected a doctrine proxy class; which lead to the ReflectionService being called like this:

<pre>ReflectionService::reflectClass('TYPO3\FLOW3\Persistence\Doctrine\Proxies\SandstormMediaWorkflowDomainModelProcessInstanceProxy')</pre>

The ReflectionService reflected the class, returned the expected result and then *saved* the information about the above classname in the cache.

Unluckily, the above class implements multiple interfaces:

* @Doctrine\ORM\Proxy\Proxy@
* @TYPO3\FLOW3\AOP\ProxyInterface@ (as also some aspects apply to the above class)

Now, on the next FLOW3 run, the following happens:

* The @Object\Configuration\ConfigurationBuilder@ iterates through all available class names, thus it will also iterate over @Doctrine\ORM\Proxy\Proxy@
* The @ConfigurationBuilder@ then asks @ReflectionService::getDefaultImplementationClassNameForInterface('Doctrine\ORM\Proxy\Proxy')@
* The ReflectionService returns *our above initial class (....Proxies\SandstormMedia.....Proxy)*; because that's the only known implementation of the Proxy interface
* then, various weird things can happen... for example @ReflectionService::getMethodTagsValues(...)@ might fail because the ...Proxy class could not be loaded by the autoloader.

This leads to errors like:

<pre>Uncaught Exception in FLOW3 Class TYPO3\FLOW3\Persistence\Doctrine\Proxies\SandstormMediaWorkflowDomainModelProcessInstanceProxy does not exist thrown in file Packages/Framework/TYPO3.FLOW3/Classes/Reflection/ReflectionService.php in line 595 #0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli() Packages/Framework/TYPO3.FLOW3/Classes/Error/AbstractExceptionHandler.php:60 #1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()
</pre>

So, the behavior is as follows:

* on first hit, everything works.
* on second hit, *at compile time*, the system seems to break randomly (took me quite some time to figure out what happens)

h2. Root Cause

The issue was caused by some custom package of mine, calling the ReflectionService in a wrong/unspecified way. I did $reflectionService->getClassSchema(get_class($object));
where $object was a doctrine proxy. And this lead to the above behavior.

h2. Possible Solutions

We somehow need to prevent the above root cause. For that, I see three possibilities, all of them adding a check to @ReflectionService::reflectClass()@

# fail silently when detecting that the incoming class name is a doctrine proxy
# throw an exception when detecting that the incoming class name is a doctrine proxy
# when detecting a doctrine proxy, find out the class name the user *really* wanted to reflect instead, and return this reflection data instead.

3) might have some side-effects; as we would need to touch most of the methods in the ReflectionService, everywhere @$this->reflectClass()@ is called. That's *why my preferred solution is 2)*.

h2. How to continue

I'll fix this issue; I'd just like your opinion which solution you like most.

Greets, Sebastian"
29452,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong use of sys_get_temp_dir() in unit tests,Karsten Dambekalns,Karsten Dambekalns,2011-09-06 04:06,- Testing -,1.0 beta 2,2011-09-02,"","",100,2011-09-02 04:08,"","",243500,"","","When running the unit tests, two warnings are emitted in EnvironmentTest:
@PHP Warning:  sys_get_temp_dir() expects exactly 0 parameters, 1 given in .../TYPO3.FLOW3/Tests/Unit/Utility/EnvironmentTest.php on line xx@
"
29457,TYPO3.Fluid,Bug,"",Resolved,Must have,Template Compiler creates invalid Class names,Bastian Waidelich,"",2011-09-07 05:36,Core,1.0 beta 2,2011-09-02,"","",100,2011-09-02 13:56,"","",243750,"","","The ""identifier"" of a compiled template is based on the last modification timestamp and on the name of the original template/partial/layout.
In Core/Compiler/TemplateCompiler::store() this identifier is used as part of the class name for the compiled template without sanitizing the string first. This leads to invalid class names (= fatal error) if the identifier contains (for example) a dash.

*Note:* This also affects v4 and needs to be backported!"
29476,TYPO3.Flow,Feature,"",New,Should have,Provider rendering time and query count for request,Robert Lemke,"",2011-09-05 03:22,"","",2011-09-05,"","",0,2011-09-05 03:22,"","",244700,"","",It would be nice if FLOW3 could calculate the rendering time and the amount of queries executed for a single request and then make that information available to the developer. A simple way to do that could be by adding an HTML comment or HTTP response header. Later on the admin tool should support it of course.
29486,TYPO3.Flow,Bug,"",Resolved,Should have,injectSettings() doesn't receive always the settings of its own package,Robert Lemke,Robert Lemke,2011-09-05 13:06,Object,1.0 beta 2,2011-09-05,"","",100,2011-09-05 06:18,"","",245200,"","","injectSettings() should always receive the settings of that package the inject method is declared in. That is, we should derive the package key for the settings from the name of the class containing the injectSettings() method.

Currently this is not the case for settings injection defined in the Objects.yaml and referring to a different class (see related issue)."
29488,TYPO3.Flow,Bug,"",Resolved,Should have,AuthenticationManager::authenticate() does not throw Exception for invalid credentials,Carsten Bleicker,Bastian Waidelich,2011-10-19 19:37,Security,1.0.0,2011-09-05,"","",100,2011-09-05 08:51,"","",245300,"","","if i send empty login data the result of authentication is allways true here.
can somebody reproduce this? exception is also not thrown.
talking about this part:
<pre>public function authenticateAction() {

	$authenticated = FALSE;
	try {
		$this->authenticationManager->authenticate();
		$authenticated = TRUE;
	} catch (\TYPO3\FLOW3\Security\Exception\AuthenticationRequiredException $exception) {
		// No Exception is thrown if user sends empty form?
		var_dump($exception);
	}

	/**
	 * At this point $authenticated is allways true if user sends empty form?
	 */ 
	var_dump($authenticated);
	die();

	if ($authenticated) {
	........
}
</pre>"
29489,TYPO3.Flow,Feature,"",Closed,Should have,Simple remote packages support,Robert Lemke,Robert Lemke,2012-11-12 03:51,Package,"",2011-09-05,"","",0,2011-09-05 09:39,"","",245350,"","","FLOW3 should offer some basic package management based on Git repositories.

This needs to be further specified; for the time being, this ticket acts as an anchor for this feature."
29506,TYPO3.Flow,Task,"",Resolved,Should have,Entities lying in the session should be lazy loaded,Andreas Förthner,Andreas Förthner,2011-09-07 06:37,Persistence,1.0 beta 2,2011-09-06,"","",100,2011-09-06 05:06,"","",246150,"","",This can be done be (de)serializing only lazy loading proxies instead of the original object.
29508,TYPO3.Flow,Bug,"",Closed,-- undefined --,multipart/form-data cannot be saved!,Andreas Keßler,Sebastian Kurfuerst,2011-09-19 07:01,Resource,"",2011-09-06,"","",0,2011-09-06 05:26,"","",246250,"","","Hey guys,

I have a form with an upload for a audio file. Since I changed the enctype of my form to ""multipart/form-data"" the form could not be saved anymore. No matter if I want to upload a file or not.

Controller and Model were set in the way it is described in http://flow3.typo3.org/fileadmin/manual/nightly/TheDefinitiveGuide/PartIII/ResourceManagement.html

This is my first bug report ever. I hope you find all necessary info in it.

Greets,
Andreas Keßler

Required argument ""song"" is not set.
20 TYPO3\FLOW3\MVC\Controller\AbstractController::mapRequestArgumentsToControllerArguments()

19 TYPO3\FLOW3\MVC\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

18 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

17 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

16 call_user_func_array(array, array)

15 TYPO3\FLOW3\MVC\Dispatcher::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

14 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

13 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\AOP\JoinPoint)

12 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

11 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

10 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)

9 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

8 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

7 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::initializeSecurity(TYPO3\FLOW3\AOP\JoinPoint)

6 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

5 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

4 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

3 TYPO3\FLOW3\MVC\Web\RequestHandler_Original::handleRequest()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
29514,TYPO3.Flow,Feature,"",Resolved,Should have,AOP advices should be able to change method arguments,Andreas Förthner,Andreas Förthner,2011-12-21 06:37,AOP,1.1 beta 1,2011-09-06,"","",100,2011-09-06 09:21,"","",246550,"","",This can be done by adding a simple setter in the corresponding joinpoint.
29543,TYPO3.Flow,Task,"",Resolved,Should have,Clarifiy persistence behavior for inheritance in entities / aggregate roots,Karsten Dambekalns,Karsten Dambekalns,2011-09-30 06:25,Persistence,1.0.0,2011-09-07,"","",100,2011-09-07 11:58,"","",247950,"","","For aggregate roots being part of an inheritance chain, how should their repositories behave? Consider this example:

<pre>
AbstractParty
   +- Person
          +- User
</pre>

A @PersonRepository@ exists, no @UserRepository@ exists.

# Should the @PersonRepository@ also handle @User@ instances?
# Should it be possible to switch such behavior on/off?
# Or do we require developers to create a repository for every entity in such a chain?
# are the above options to be combined?"
29547,TYPO3.Flow,Feature,"",Resolved,Should have,@identity should make property unique in Database,Torsten no-lastname-given,Christian Müller,2012-05-03 08:40,Persistence,1.1,2012-04-30,"","",100,2011-09-07 15:37,"","",248150,0.00,"","A Property with the @indentify annotation is currently not unique in the database. 

So you could for example add 2 accounts with the same accountIdentifier. That shouldn't work."
29564,TYPO3.Flow,Feature,"",Closed,Should have,Change \TYPO3\FLOW3\Property\TypeConverter\DateTimeConverter in order to compose a DateTime property from two input fields,Andreas Keßler,Bastian Waidelich,2012-01-30 07:28,Property,"",2011-09-08,"","",0,2011-09-08 06:32,"","",249000,"","","It should be able to set one \DateTime property from two inputs

<pre>
<input type=""text"" name=""event[date][date]"" value=""{event.date -> f:format.date(format:'d.m.Y')}"" />
<input type=""text"" name=""event[date][time]"" value=""{event.date -> f:format.date(format:'H:i')}""/>
<f:form.hidden name=""event[date][dateFormat]"" value=""d.m.Y H:i"" />
</pre>

The changes could be made in \TYPO3\FLOW3\Property\TypeConverter\DateTimeConverter:121 and could look like this

<pre>
$time = """";
                        
if(isset($source['time']) && is_string($source['time'])) {
    $time = "" "".$source['time'];
}
                        
$dateAsString = $source['date'].$time; // original line 121
</pre>"
29572,TYPO3.Flow,Feature,"",Resolved,Should have,The resource manager should be able to create a resource directly from binary content,Andreas Förthner,Andreas Förthner,2011-12-21 06:37,Resource,1.1 beta 1,2011-09-08,"","",100,2011-09-08 08:35,"","",249400,"","",""
29576,TYPO3.Flow,Bug,"",Resolved,Must have,An advice parent class is not executed when its called via parent:: from its non-adviced subclass,Andreas Förthner,Andreas Förthner,2011-09-09 05:06,"",1.0 beta 2,2011-09-08,"","",100,2011-09-08 09:49,"","",249600,"","",""
29578,TYPO3.Flow,Feature,"",Resolved,Should have,You should be able to pass entities that have not yet been persisted as uri arguments,Andreas Förthner,Andreas Förthner,2011-12-21 06:37,MVC,1.1 beta 1,2011-09-08,"","",100,2011-09-08 11:09,"","",249700,"","",This can be achieved by storing these entities in session scope until they get persisted.
29582,TYPO3.Flow,Bug,"",Closed,Must have,you should be able to pass any kind of objects to action methods,Fernando Arconada,Karsten Dambekalns,2012-03-15 02:35,Property,"",2011-09-09,"","",0,2011-09-09 03:38,"","",249900,"",FLOW3 1.0.0,"if you try to pass an object not related to persistence manager to an actionmethod you will get an exeption:
Uncaught Exception in FLOW3
#1302628242: The given object is unknown to the Persistence Manager

This this wrong, for example if you want to implement an exception handler that would be called by other method and not from a web request. In general is wrong to think that all action will be called by a web request"
29603,TYPO3.Fluid,Bug,"",Closed,Must have,__toString() usage for rendering the compiled Fluid template breaks the concept of security exceptions,Andreas Förthner,"",2012-06-01 04:54,Core,1.0.5,2011-09-09,"","",0,2011-09-09 09:26,"","",250950,"",FLOW3 1.0.0,"PHP does not allow to throw exceptions within a __toString() method. Therefore security exception don't work while rendering the Fluid template. We somehow have to call a method to render a node and not just concatenate the objects as string and use the interal __toString() functionality. This is a really stupid PHP behaviour, that is documented here: http://php.net/manual/en/migration52.incompatible.php"
29694,TYPO3.Flow,Bug,"",Resolved,Must have,\TYPO3\FLOW3\Resource\Resource is missing the __toString Method,Torsten no-lastname-given,Karsten Dambekalns,2012-05-11 08:38,Resource,1.0.5,2011-09-12,"","",100,2011-09-12 09:06,"","",255450,"",FLOW3 1.0.0,"Hi,
the __toString method mentioned here:
<pre>
http://flow3.typo3.org/fileadmin/manual/nightly/TheDefinitiveGuide/PartIII/ResourceManagement.html
</pre>
is currently not present.

Would be great if someone could add this:
<pre>
public function __toString() {
  return (string)$this->getResourcePointer();
}
</pre>

So the described functionality 
<pre>
file_get_contents('resource://' . $resource); 
</pre>
will work."
29761,TYPO3.Flow,Bug,"",Resolved,Must have,@ignorevalidation annotation expects parameter name without $ (dollar sign),Karsten Dambekalns,Karsten Dambekalns,2011-09-21 09:36,MVC,1.0.0,2011-09-14,"","",100,2011-09-13 18:03,"","",258750,"","","When using the @ignorevalidation annotation, the parameter name must be given without a dollar sign, which is extremely counter-intuitive.

This was introduced with https://review.typo3.org/#change,816"
29777,TYPO3.Flow,Bug,"",Resolved,Should have,Removal of symlinked package resources fails,Robert Lemke,Robert Lemke,2011-09-14 16:05,Utility,1.0.0,2011-09-14,"","",100,2011-09-14 08:29,"","",259550,"","","The File System Resource Publisher removes invalid directories or symbolic links from the _Resources/Static/Packages/ folder. This rarely happens, but it does happen if some package providing static resources is deactivated.

In that case FLOW3 failed to remove the symbolic link because the removeDirectoriesRecursively() function did not consider symlinks (only directories).

For reproducing this bug, use a TYPO3 Phoenix installation and let the TYPO3.ExtJS symlink in _Resources/Static/Packages/ point to some invalid directory. On the next web hit, FLOW3 should crash."
29791,TYPO3.Kickstart,Bug,"",Resolved,Must have,"When kickstarting models with collections, invalid code is generated",Karsten Dambekalns,Bastian Waidelich,2012-12-12 16:12,"","",2011-09-14,"","",100,2011-09-14 16:49,"","",260250,"",FLOW3 1.0.0,"Not in all cases, but when using collections with element type hints, the generated code is wrong:

@./flow3 kickstart:model TYPO3.Blog Blog 'posts:\Doctrine\Common\Collections\Collection<\TYPO3\Blog\Domain\Model\Post>'@

results in setter code like

<pre>	/**
	 * Sets this Blog's posts
	 *
	 * @param \Doctrine\Common\Collections\Collection<\TYPO3\Blog\Domain\Model\Post> $posts The Blog's posts
	 * @return void
	 */
	public function setPosts(\Doctrine\Common\Collections\Collection<\TYPO3\Blog\Domain\Model\Post> $posts) {
		$this->posts = $posts;
	}</pre>

which results in a nasty error like

<pre>PHP Parse error:  syntax error, unexpected '<', expecting '&' or T_VARIABLE in .../Model/Blog.php on line xx</pre>"
29792,TYPO3.Flow,Bug,"",Resolved,Must have,exceeding arguments are ignored if a command has optional arguments,Karsten Dambekalns,Bastian Waidelich,2011-10-19 19:37,MVC,1.0.0,2011-09-14,"","",100,2011-09-14 16:51,"","",260300,"","","When kickstarting a model with

@./flow3 kickstart:model TYPO3.Blog Blog title:string description:string@

the generated code will not contain any trace of the title property. A ""workaround"" is possible: Calling

@./flow3 kickstart:model TYPO3.Blog Blog dummy:prop title:string description:string@

will result in a model with @title@ and @description@ (and without @dummy@).

That could very well be a problem of CLI argument handling, though."
29794,TYPO3.Kickstart,Feature,"",New,Should have,Initialize collections in generated models,Karsten Dambekalns,"",2011-09-14 17:23,"","",2011-09-14,"","",0,2011-09-14 17:23,"","",260400,"","",When a model is generated all properties of type @ArrayCollection@ should be initialized in the constructor.
29883,TYPO3.Kickstart,Feature,"",Resolved,Should have,Display a hint to update database schema,Robert Lemke,Robert Lemke,2011-09-18 16:35,"",1.0.0,2011-09-16,"","",100,2011-09-16 04:05,"","",264700,"","",The kickstart commands which create new models should display a hint that a schema update is necessary.
29895,TYPO3.Flow,Bug,"",Resolved,Should have,"""help <identifier>"" command does not work any longer",Karsten Dambekalns,Karsten Dambekalns,2011-09-18 07:36,Command,1.0.0,2011-09-16,"","",100,2011-09-16 06:15,"","",265300,"","","With the fix for #29792 the ""help <identifier>"" command stopped working. This is caused by the assumption of optional arguments being usable when used unnamed. The mentioned fix make it required to use optional arguments in a named form (as intended), thus this no longer works."
29905,TYPO3.Flow,Bug,"",Resolved,Must have,Enable property mapping of Value Objects,Sebastian Kurfuerst,Christopher Hlubek,2011-09-16 11:56,Property,1.0.0,2011-09-16,"","",100,2011-09-16 11:53,"","",265800,"","","If a value object is edited through a Fluid form, we should not try to fetch it from persistence, but need to re-create it from scratch due do the value object semantics.

Thus, we need to discard the __identity property in that case."
29907,TYPO3.Flow,Feature,"",Resolved,Must have,"Redirect to /login instead of raising a ""Entity not found."" exception if the userdata of an active session has been deleted",Martin Brüggemann,Karsten Dambekalns,2013-09-26 19:05,Security,2.1,2011-09-16,"","",100,2011-09-16 13:30,"","",265900,"","","If you are logged in into a secured FLOW3 project and delete the corresponding db user (for whatever reasons). There's an exception ""Entity not found."" raised instead - maybe caused by the invalid cookie data. It would be nicer, if the user would be redirected to the login page defined by ""entryPoint:WebRedirect:uri:""."
29908,TYPO3.Flow,Bug,"",Resolved,Must have,@HasLifecycleCallbacks and Doctrine2-Events like @PrePersist don't work.,Martin Brüggemann,Karsten Dambekalns,2011-09-20 05:05,Persistence,1.0.0,2011-09-16,"","",100,2011-09-16 13:37,"","",265950,"","","If you activate @HasLifecycleCallbacks in your model and build a @PrePersist function like the following one - it doesn't work (or I'm to stupid to get it work ;)

<pre>
<?php
declare(ENCODING = 'utf-8');
namespace Test\Animals\Domain\Model;

/**
 * @scope prototype
 * @entity
 * @HasLifecycleCallbacks
 */
class AnimalOwner {
    
    [...] 

    /**
     * @PrePersist
     */
    public function beforePersist(){
	echo ""I don't have a cat."";
	exit;
    }
}
</pre>

Or is there something missing in my model code?"
29910,TYPO3 Flow Base Distribution,Feature,"",Closed,Should have,Frontend development toolbar,Martin Brüggemann,Robert Lemke,2011-09-16 13:53,"","",2011-09-16,"","",0,2011-09-16 13:43,"","",266050,"","","I like using the Symfony2 web profile toolbar. Reading FLOW3 logs during development feels stupid. There should be some basic debug-informations like Overall-Performance/simple Profiling, used Fluid-Templates, DQL-Queries and additional informations in the DEVELOPMENT-Frontend."
29972,TYPO3.Flow,Feature,"",Under Review,Should have,Configurable Redirects,Bastian Waidelich,Tim Kandel,2013-10-02 09:43,MVC - Routing,"",2011-09-18,"","",0,2011-09-18 07:56,"","",269150,"","","We need a new Entity ""Redirect"" (in MVC/Web/Routing/Redirect) with the properties *sourceUri*, *destinationUri*, *-hasMoved-* *statusCode* and possibly *counter* and *host*.
Before a request is matched to package, controller and action, the router should check if a redirect is configured and return the respective redirect headers if that's the case."
29976,TYPO3.Flow,Bug,"",Resolved,Must have,CSRF token is always the same,Bastian Waidelich,"",2011-10-14 19:40,Security,1.0.0,2011-09-18,"","",100,2011-09-18 09:33,"","",269350,"","","This is probably a Windows issue (Windows 7, 64bit):
The blog example generates links like ""posts/new?__csrfToken=00000000000000000000000000000000"" for protected actions."
29977,TYPO3.Flow,Task,"",Resolved,Should have,URIs should be lower case by default,Bastian Waidelich,Bastian Waidelich,2011-09-22 13:05,MVC - Routing,1.0.0,2011-09-18,"","",100,2011-09-18 09:38,"","",269400,"","","Currently you can force generated URIs to be lower cased by adding ""toLowerCase"" to the Route configuration.
This should be the default though. The configuration option could be renamed to ""keepCase"" (This works for the whole route and for individual RouteParts)"
29978,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong default value 'Text' for $dataType in TYPO3\FLOW3\MVC\Controller\Arguments::addNewArgument(),Johannes K,"",2011-09-30 17:35,- Error Handler Report -,"",2011-09-18,"","",100,2011-09-18 09:43,"","",269450,"","","The default value 'Text' for $dataType in the signature of the method
<pre>
public function addNewArgument($name, $dataType = 'Text', $isRequired = TRUE, $defaultValue = NULL)
</pre>

should be 'string' because there is no TypeConverter for 'Text'.  

If I use
<pre>
$this->arguments->addNewArgument('test');
</pre>
and passes a value for test, I get this Exception:

<pre>
TYPO3\FLOW3\Property\Exception\InvalidTargetException thrown in file TYPO3_FLOW3_Property_PropertyMapper_Original.php

Could not find a suitable type converter for ""Text"" because no such class or interface exists.
25 TYPO3\FLOW3\Property\PropertyMapper_Original::findFirstEligibleTypeConverterInObjectHierarchy(""5"", ""string"", ""Text"")
24 TYPO3\FLOW3\Property\PropertyMapper_Original::findTypeConverter(""5"", ""Text"", TYPO3\FLOW3\MVC\Controller\MvcPropertyMappingConfiguration)
23 TYPO3\FLOW3\Property\PropertyMapper_Original::doMapping(""5"", ""Text"", TYPO3\FLOW3\MVC\Controller\MvcPropertyMappingConfiguration, array)
22 TYPO3\FLOW3\Property\PropertyMapper_Original::convert(""5"", ""Text"", TYPO3\FLOW3\MVC\Controller\MvcPropertyMappingConfiguration)
21 TYPO3\FLOW3\MVC\Controller\Argument_Original::setValue(""5"")
20 TYPO3\FLOW3\MVC\Controller\AbstractController::mapRequestArgumentsToControllerArguments()
19 TYPO3\FLOW3\MVC\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)
18 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)
17 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)
16 call_user_func_array(array, array)
15 TYPO3\FLOW3\MVC\Dispatcher::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)
14 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)
13 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\AOP\JoinPoint)
12 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)
11 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)
10 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)
9 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)
8 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)
7 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::initializeSecurity(TYPO3\FLOW3\AOP\JoinPoint)
6 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)
5 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)
4 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)
3 TYPO3\FLOW3\MVC\Web\RequestHandler_Original::handleRequest()
2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()
1 TYPO3\FLOW3\Core\Bootstrap::run()
</pre>
"
29979,TYPO3.Flow,Bug,"",Closed,Should have,PersistenceManager::getIdentifierByObject() only returns first Id property,Bastian Waidelich,"",2014-05-14 10:57,Persistence,"",2011-09-18,"","",0,2011-09-18 10:02,"","",269500,"",FLOW3 1.0.0,"The doc comment for @\TYPO3\FLOW3\Persistence\PersistenceManagerInterface::getIdentifierByObject()@ says, that the return type is ""mixed"".
Usually that is the UUID of the object (string).
If the object has an @Id property, that will be returned insted.
In case the object has multiple @Id properties, only the first of those is returned.

Example:
Mode:
<pre>
class ObjectPathMapping {

	/**
	 * @var string
	 * @Id
	 */
	protected $objectType;

	/**
	 * @var string
	 * @Id
	 */
	protected $uriPattern;

	/**
	 * @var string
	 * @Id
	 */
	protected $pathSegment;
[...]
}
</pre>

Now, only the value of $objectType would be returned. Instead I'd expect an array that contains the Id properties - or a serialized representation!?"
29982,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong table structure for multiple ManyToOne relations,Alexander Stehlik,Karsten Dambekalns,2011-10-14 18:58,Persistence,1.0.0,2011-09-18,"","",100,2011-09-18 10:33,"","",269650,"","","I stumbled upon an issue when using two @ManyToOne properties in one model, that both point to the same related model (in my case it was a transaction that had an ""account"" and a ""sourceOrTargetAccount"" property. Both had the following annotation:

<pre>
/**
 * @var \My\Namespace\MyPackage\Domain\Model\Account
 * @ManyToOne(cascade={""persist""})
 */
</pre>

After calling _doctrine:update_ there was only one column in the transaction table called *mypackage_account* that referenced values in the account table. Additionally I realised that the values of the sourceOrTargetAccount property were stored in this column. The value of the _account_ property was not stored anywhere.

To fix this, I used the _@JoinColumn_ annotation to specify the column:

<pre>
@JoinColumn(name=""source_or_target_account"", referencedColumnName=""flow3_persistence_identifier"")
</pre>

Maybe this behaviour is expected? If so this probably should be added to the docs.
 "
30017,TYPO3.Flow,Bug,"",Resolved,Should have,Functional tests see data from previous tests,Robert Lemke,Robert Lemke,2011-09-19 07:07,- Testing -,1.0.0,2011-09-19,"","",100,2011-09-19 05:49,"","",271400,"","","Data stored by functional tests are only flushed after a whole test case ran through, not after each individual test. This leads to unpredictable side effects."
30018,TYPO3.Flow,Feature,"",Resolved,Should have,For functional tests: provide function for forgetting instances,Robert Lemke,Robert Lemke,2011-09-19 07:07,Object,1.0.0,2011-09-19,"","",100,2011-09-19 05:53,"","",271450,"","","In some situations during functional testing, it is necessary to drop a registered singleton instance before / after running a single test, to make sure that a fresh one is used for the next test.

One example is the TYPO3CR NodeRepository which keeps track of added objects. Instead of implementing a special tearDown() method for that NodeRepository, it would be much cleaner to just drop the instance and thus getting a fresh NodeRepository for the next test."
30040,TYPO3.Flow,Bug,"",Resolved,Should have,Missing quotes in system() command in initializeForRuntime(),Adrian Föder,Bastian Waidelich,2011-11-16 06:36,Core,1.0.1,2011-09-19,"","",100,2011-09-19 10:35,"","",272550,"",FLOW3 1.0.0,"As a hardcore Windows user I again experienced a problem regarding the quotes for a system() command, in my case resolving to something like
system('c:\Program Files\Zend.....')

which ended as >> ""C:\Program"" is not an existing..... <<


so I fixed line 420 of Core/Bootstrap.php; changing from
<pre>
$command = escapeshellcmd($this->settings['core']['phpBinaryPathAndFilename']) . ' -c ' . escapeshellarg(php_ini_loaded_file()) . ' -v';
</pre>

...to
<pre>
$command = '""' . escapeshellcmd($this->settings['core']['phpBinaryPathAndFilename']) . '"" -c ' . escapeshellarg(php_ini_loaded_file()) . ' -v';
</pre>


This works now."
30052,TYPO3.Kickstart,Bug,"",Resolved,Should have,No @return annotations rendered on action methods,Karsten Dambekalns,Karsten Dambekalns,2011-09-29 06:32,"",1.0.0,2011-09-19,"","",100,2011-09-19 16:26,"","",273150,"","","The default should be @return void, as we assume Fluid is used."
30138,TYPO3.Fluid,Bug,"",Closed,Should have,"Bad error message ""TYPO3\FLOW3\Persistence\Doctrine\QueryResult could not be converted to string"" if necessary namespace hasn't been loaded ",Martin Brüggemann,Bastian Waidelich,2013-10-23 05:31,Core,"",2011-09-20,"","",0,2011-09-20 17:54,"","",277450,"",FLOW3 1.0.0,"If you write your own paginator widget, try to load it in your fluid template but forget to define the necessary namespace, there's the following error displayed:

<pre>
#1: Catchable Fatal Error: Object of class TYPO3\FLOW3\Persistence\Doctrine\QueryResult could not be converted to string in /Volumes/Data/Users/herr/Sites/_ZFWSPACE/guruhelp/Data/Temporary/Development/Cache/Code/Fluid_TemplateCache
[...]
</pre>

If the correct namespace is defined at the beginning of the viewhelper (f.e. {namespace g=Company\Testproject\ViewHelpers}) the user defined widget loads correctly and everything is fine. "
30163,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,var_dump recursion error,Rens Admiraal,"",2011-09-21 10:05,"","",2011-09-21,"","",100,2011-09-21 06:17,"","",278700,"","",If you dump an object which is in the blacklist of the debugger you have a chance on recursion since the actual dumped object is not checked against this array. For example the PersistenceManager. A dump of this object ends up in a memory exhausted error in PHP.
30192,TYPO3.Flow,Bug,"",Closed,Must have,TYPO3\FLOW3\MVC\Exception\InfiniteLoopException thrown in file TYPO3_FLOW3_MVC_Dispatcher_Original.php,Fabian Erni,Karsten Dambekalns,2011-10-19 04:06,- Error Handler Report -,"",2011-09-22,"","",0,2011-09-22 05:02,"","",280150,"","","Exception occures when trying to update a blog post (TYPO3.Blog) with invalid data (spaces in link title). 



Could not ultimately dispatch the request after 101 iterations.
18 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

17 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

16 call_user_func_array(array, array)

15 TYPO3\FLOW3\MVC\Dispatcher::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

14 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

13 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\AOP\JoinPoint)

12 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

11 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

10 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)

9 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

8 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

7 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::initializeSecurity(TYPO3\FLOW3\AOP\JoinPoint)

6 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

5 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

4 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

3 TYPO3\FLOW3\MVC\Web\RequestHandler_Original::handleRequest()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()"
30223,TYPO3.Flow,Bug,"",Resolved,Must have,Column names for association properties are generated wrong,Karsten Dambekalns,Karsten Dambekalns,2011-10-11 18:00,Persistence,1.0.0,2011-09-23,"","",100,2011-09-23 04:01,"","",281650,"","","As discovered by Bastian, column names for associations are created in model tables not with the property name but the name that is to be used for join tables.

*Examle:*
<pre>/**
 * @var \TYPO3\FLOW3\Resource\Resource
 */
 protected $foo;</pre>

would create a column named @flow3_resource_resource@ instead of the expected @foo@."
30234,TYPO3.Flow,Bug,"",Closed,Should have,Compiled proxies override parent instance,Christopher Hlubek,Christopher Hlubek,2011-09-25 05:24,Object,1.0.0,2011-09-23,"","",0,2011-09-23 05:27,"","",282200,"","",A subclass of a singleton does override the parent instance in the object manager inside the constructor. See the functional test in the submitted patch for more information.
30253,TYPO3.Kickstart,Feature,"",Resolved,Should have,Make views aware of already existing properties on models,Christian Jul Jensen,Christian Jul Jensen,2011-09-30 06:28,"",1.0.0,2011-09-24,"","",100,2011-09-23 19:23,"","",283150,"","","Currently the generate always just have one property 'name', even if the model already exist and has other properties. The kickstarter should inspect the models and generate appropriate fields in the views for model properties."
30254,TYPO3.Flow,Bug,"",Resolved,Should have,The ResourceStreamWrapper should also return the resource path for non-existing persistent resources,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-09-24 12:05,"","",2011-09-24,"","",100,2011-09-23 19:36,"","",283200,"","","For file upload, we need to make sure that the ResourceStreamWrapper also returns the path for a non-existing persistent resource; so one can do:
<pre>
file_put_contents('resource://2908293473.....3434', 'Some resource content');
</pre>

We need that for TYPO3 Image uploads to work."
30255,TYPO3.Flow,Bug,"",Resolved,Should have,ObjectConverter needs to deal with constructor injection properties,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-09-24 14:35,Property,1.0.0,2011-09-24,"","",100,2011-09-23 19:43,"","",283250,"","","When a normal object is converted, the generic ObjectConverter is called (not the PersistentObjectConverter).

When this object relies on constructor arguments and does not provide setters for all options, that will break.

I'll prepare a patch which fixes the issue.

We need this for image upload in Phoenix"
30256,TYPO3.Flow,Feature,"",Resolved,Could have,Package help in CLI,Christian Jul Jensen,Bastian Waidelich,2012-05-08 11:34,Command,1.1,2011-09-24,"","",100,2011-09-24 08:17,"","",283300,"","","Would be nice to get help for one specific package fx. './flow3 help kickstarter' would display only the kickstart part of the help screen, maybe with some additional info about the commands"
30258,TYPO3.Flow,Feature,"",New,Should have,Support optional package dependencies,Christopher Hlubek,"",2011-09-24 12:34,"","",2011-09-24,"","",0,2011-09-24 11:41,"","",283400,"","","FLOW3 should support optional package dependencies to enable the usage of classes inside a package that belong to a suggested (optional) package. Right now the reflection service will die with a fatal error.

Possible solutions:

h1. 1. Blacklisting of class folders

The Package.php could blacklist folders inside @Classes@ depending on available packages. This way , the class that relies on an optional package would not be reflected and loaded.

h1. 2. Fake empty class

The classloader could fake an empty class (with throw statements on access) just to satisfy the reflection of a class."
30260,TYPO3.Flow,Bug,"",Resolved,Must have,CLI CommandManager throws exception for ambiguous commands,Bastian Waidelich,Bastian Waidelich,2011-09-28 08:36,MVC,1.0.0,2011-09-24,"","",100,2011-09-24 13:21,"","",283500,"","",@CommandIdentifier::getShortestIdentifierForCommand()@ currently fails to return the complete CommandIdentifier when getShortCommandIdentifiers() did not find an unambiguous alias.
30261,TYPO3.Flow,Bug,"",Resolved,Must have,CLI Help throws exception if related comments are not available,Bastian Waidelich,Bastian Waidelich,2011-09-28 13:05,Command,1.0.0,2011-09-24,"","",100,2011-09-24 13:24,"","",283550,"","","The @flow3:help:help@ command parses ""see"" annotations of the commands and retrieves their method description.
This leads to an exception if the target command is not available (e.g. if the respective package is not loaded).
For example: @flow3 help package:create@ throw an exception if the kickstarter package is not installed."
30262,TYPO3.Flow,Bug,"",Resolved,Must have,ObjectConverter expects to be configured as ArrayToObjectConverter,Karsten Dambekalns,Karsten Dambekalns,2011-09-25 06:36,Property,1.0.0,2011-09-24,"","",100,2011-09-24 13:32,"","",283600,"","","When checking for property mapping configuration the ObjectConverter asks for the ""ArrayToObjectConverter"" configuration."
30268,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,Setpermissions path incorrect,Felix Kopp,Karsten Dambekalns,2011-09-30 06:23,- Documentation -,1.0.0,2011-09-25,"","",100,2011-09-25 06:29,"","",283900,"","",In Readme file on Base root
30300,TYPO3.Flow,Feature,"",Resolved,Should have,Support mapping to subclass by argument,Christopher Hlubek,Christopher Hlubek,2011-12-21 06:38,Property,1.1 beta 1,2011-09-26,"","",100,2011-09-26 11:09,"","",285500,"","","When type hierarchies are used for modeling, it's necessary to map to a special subclass when creating new entities. This should be possible by a special (request) parameter in the source array of a type converter. For security reasons, this feature must be configured explicitly through a mapping configuration.

*Example:*

<pre>
class MyProject\MySpecialUser extends MyProject\User

source = {
  __type: 'MyProject\MySpecialUser',
  name: 'Foo'
}

targetType = 'MyProject\User'
</pre>

In this example, the created type should be an instance of @MyProject\MySpecialUser@.

The configuration could be given through a property mapping configuration like this:

<pre>
class MyObjectController {

	/**
	 * @return void
	 */
	protected function initializeCreateAction() {
		$argument = $this->arguments->getArgument('newMyObject');
		$configuration = $argument->getPropertyMappingConfiguration();
		$configuration->allowOverrideTargetType();
	}

}
</pre>

If the given type parameter is not an instance of the target type, an exception should be thrown."
30312,TYPO3.Flow,Bug,"",Resolved,Should have,Entity class name is not properly detected in Repository::__construct(),Bastian Waidelich,Thomas Hempel,2011-11-07 09:07,Persistence,1.0.1,2011-09-27,"","",100,2011-09-27 03:54,"","",286100,"",FLOW3 1.0.0,"If a package key contains the string ""Repository"", model class names are not correctly resolved in the Repository constructor because the line:
<pre>
$this->entityClassName = str_replace(array('\\Repository\\', 'Repository'), array('\\Model\\', ''), get_class($this));
</pre>
fails to detect the correct position of the substring and should be replaced by something like:
<pre>
$this->entityClassName = preg_replace(array('/\\Repository\\/', '/Repository$/'), array('\\Model\\', ''), get_class($this));
</pre>

See #30306"
30317,TYPO3.Flow,Feature,"",Resolved,Should have,Support mapping from integer to string,Christopher Hlubek,"",2011-09-28 09:36,"","",2011-09-27,"","",100,2011-09-27 05:16,"","",286350,"","",The StringConverter should be extended to support mapping from integer to string.
30351,TYPO3.Flow,Bug,"",Resolved,Must have,Can't use AOP with Repository,Fernando Arconada,Robert Lemke,2011-09-28 09:07,AOP,1.0.0,2011-09-27,"","",100,2011-09-27 08:32,"","",288050,"","","If you write an aspect of a Repository and this Repository is injected via DI in your controller then FLOW3 fires an Exception when you load your controller


Proof of Concept package and exception screenshot in the next URL 

http://goo.gl/ntfGm

It happens FLOW3 master commit 87863f3dd1db5786c03ba9c2ee4f91b7b718ec59"
30378,TYPO3.Flow,Feature,"",Closed,Could have,Cookie authentication,Adrian Föder,"",2012-01-13 11:03,Security,"",2011-09-28,"","",0,2011-09-28 05:13,"","",289400,"","","It would be nice having a proof cookie authentication possibility on board. I did a bit of research and found the following blog entry:

http://www.jasondavies.com/blog/2009/05/27/secure-cookie-authentication-couchdb/

Briefly said, this idea sets a cookie of form

<pre>
username + ':' + timestamp + ':' + HMAC(username + ':' + timestamp)
</pre>

Whenever a request arrives having this cookie set and of course matching the hash, the user is considered authenticated.
The most interesting thing is that the cookie is re-set after e.g. 10 minutes, so that hijacking this cookie is limited to a time window of 10 minutes.
Vice versa this means that an expired timestamped cookie is disregarded.


As I need this functionality for my project, I would be delighted to write this; but I think I need some kind of mentor that takes me by the hands, even to discuss some things.

What do you mean?"
30379,TYPO3.Flow,Bug,"",Resolved,Must have,Object persistence has side effects in functional tests,Robert Lemke,Robert Lemke,2011-09-28 08:36,- Testing -,1.0.0,2011-09-28,"","",100,2011-09-28 05:25,"","",289450,"","","Unpersisted objects which have been added, but not persisted (no Entity Manager flush() called) will still be present in following tests and thus generate side effects."
30380,TYPO3.Flow,Bug,"",Resolved,Should have,Optimistic Locking / @version annotation is not functional,Robert Lemke,Robert Lemke,2011-09-28 08:36,Reflection,1.0.0,2011-09-28,"","",100,2011-09-28 05:28,"","",289500,"","",FLOW3 seems to ignore the @version annotation which is needed for Doctrine's Optimistic Locking feature.
30417,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Package dependency names in Package.xml files need update,Benjamin Heek,Karsten Dambekalns,2011-10-19 19:27,"",1.0.0,2011-09-29,"","",100,2011-09-29 06:05,"","",291350,"","","In the Package.xml of the package TYPO3.FlOW3 there is a dependency on the package `Fluid`. 
But that name is invalid, because it has to be `TYPO3.Fluid`"
30418,TYPO3.Flow,Feature,"",New,Should have,Package bootstrapping following dependencies,Benjamin Heek,"",2011-10-21 07:38,Core,"",2011-09-29,"","",0,2011-09-29 06:09,"","",291400,"","","It would be nice if packages are bootstrapped in correct order, following the dependency constraints that are described in the Package.xml of a package

"
30423,TYPO3.Flow,Feature,"",New,Should have,Rendering template of other action without forward,Christopher Hlubek,"",2013-01-21 08:03,MVC,"",2011-09-29,"","",0,2011-09-29 06:59,"","",291600,"","","Rendering a template of another action without doing a forward is currently too complicated. It should be possible by just calling

<pre>
$this->view->render('actionName');
</pre>

The problem is a call to @resolveView@ which automatically uses a @NotFoundView@ for the view."
30424,TYPO3.Flow,Bug,"",New,Must have,Forward object arguments with changes,Christopher Hlubek,"",2011-10-21 07:20,MVC,"",2011-09-29,"","",0,2011-09-29 07:03,"","",291650,"",FLOW3 1.0.0,"Updated or cloned objects cannot be used as an argument in @forward@ right now, because they are always converted to an identity array and are not persisted yet. This must be possible.

There should be a two-way transform of source array into objects and objects into a source array (identity + updated properties)."
30425,TYPO3.Flow,Bug,"",New,Should have,New methods are not updated in Policies during Development,Christopher Hlubek,"",2011-10-21 07:20,Security,"",2011-09-29,"","",0,2011-09-29 07:06,"","",291700,"",FLOW3 1.0.0,"Adding a new method (e.g. inside a Controller) that is guarded by a Policy (such that a PolicyEnforcementAspect is applied to the method) in Development does always trigger an ""Access denied"" because the method is not known in the Policy cache.

This should work for development."
30428,TYPO3.Flow,Feature,"",New,Should have,Cloning of request arguments,Christopher Hlubek,"",2011-09-29 07:26,MVC,"",2011-09-29,"","",0,2011-09-29 07:26,"","",291850,"","","It should be possible to have two instances of the same entity in a controller action by specifying a ""@clone"" annotation for a parameter. This is needed if an original object and an updated object need to be passed to the view.

We have / will get identity problems with that of course, but we should find a solution for that.

One use case would be the update of an address with advanced address validation / correction. The user should be able to see a corrected version and a original version of the address if there are any corrections."
30436,TYPO3.Flow,Bug,"",Resolved,Must have,Access denied exception after session timeout with CSRF,Christopher Hlubek,Christopher Hlubek,2011-10-14 08:06,"","",2011-09-29,"","",100,2011-09-29 11:37,"","",292250,"","",An access of a CSRF protected action with an invalidated session throws an Exception (e.g. @\TYPO3\FLOW3\Security\Exception\AccessDeniedException@). This exception cannot be catched in any way. Also a reauthentication using an entry point is not possible right now.
30467,TYPO3.Flow,Bug,"",Resolved,Should have,Doctrine fails to initialize AOP and DI in some cases,Andreas Förthner,Andreas Förthner,2011-12-20 09:06,Persistence,1.0.2,2011-09-30,"","",100,2011-09-30 04:23,"","",293700,"",FLOW3 1.0.0,"When a Doctrine lazy loading proxy for an object is created for some specific purpose (e.g. when initializing session objects relating to an entity) but filled afterwards ""on the fly"" if this object is part of a wide range ""findBy"" call through some query, Doctrine initializes the lazy loading proxy but does not call __wakeup and therefore not initialize AOP and DI."
30491,TYPO3 Flow Base Distribution,Bug,"",Closed,Must have,Commands with only one optional argument don't work,Martin Brüggemann,Robert Lemke,2011-09-30 17:35,"","",2011-09-30,"","",0,2011-09-30 16:44,"","",294900,"","","I kickstarted a command controller and added one command action with one optional argument:

<pre>
[...]

class TestCommandController extends \TYPO3\FLOW3\MVC\Controller\CommandController {

    /**
     * Render the documentation for a specific package.
     * 
     * @param string $packageKey The unique package key
     * @return void
     */
    public function renderCommand($packageKey = NULL) {
	echo 'THIS IS '.$packageKey; 
        exit;
    }
</pre>

If I start the controller with:

<pre>
./flow3 test:render TYPO3.TheDefinitiveGuideToFLOW3
</pre>

it outputs:

<pre>
THIS IS 
</pre>

If I make the argument $packageKey required everything works fine and de render command outputs:

<pre>
THIS IS TYPO3.TheDefinitiveGuideToFLOW3
</pre>

Bug or feature?"
30493,TYPO3.Flow,Bug,"",Resolved,Should have,CLI argument handling chokes on = use,Karsten Dambekalns,Christian Müller,2011-11-10 05:36,Command,"",2011-10-01,"","",100,2011-09-30 18:02,"","",295000,"",FLOW3 1.0.0,When a value for an argument is given like @--name=value@ the result is an uncaught exception #1297759968.
30526,TYPO3.Kickstart,Bug,"",Resolved,Should have,When kickstarting models with DateTime properties invalid templates are generated,Bastian Waidelich,"",2011-10-06 03:36,"","",2011-10-03,"","",100,2011-10-03 09:52,"","",296550,"","","When kickstarting models that contain properties of type
DateTime, CRUD Views throw exceptions because the property
can't be converted to string implicitly.
This can be fixed by wrapping DateTime properties in
format.date ViewHelpers in the affected templates."
30536,TYPO3.Flow,Bug,"",Resolved,Should have,URI builder does not work correctly with arguments of subrequests,Andreas Förthner,"",2011-12-23 12:33,MVC,"",2011-10-04,"","",100,2011-10-04 03:52,"","",297050,"",FLOW3 1.0.0,"see https://review.typo3.org/#change,2001"
30542,TYPO3.Flow,Bug,"",Resolved,Must have,Static Route Parts are not reset,Bastian Waidelich,Bastian Waidelich,2011-10-19 19:37,MVC - Routing,1.0.0,2011-10-04,"","",100,2011-10-04 07:07,"","",297350,"","","@StaticRoutePart::resolve()@ sets the value to the route parts name (= the corresponding URI part).
@RoutePart::match()@ merges the route parts value into the resulting request arguments. The value of the route part must be reset to NULL before the route parth is processed.
The StaticRoutePart currently fails to do so. Usually this has no effect because match() is always called *before* resolve() but it fails when using FLOW3 with an app server like AiP."
30543,TYPO3 Flow Base Distribution,Bug,"",Closed,Should have,Classes disappearing cause havoc,Soren Malling,"",2011-10-19 19:42,"","",2011-10-04,"","",0,2011-10-04 07:32,"","",297400,"","","After ""pulling"" to commit a1c1304a26fd6e9173adccf58c6adb2b462d820f I got the following error in FLOW3 CLI

<pre>
aafie4300:typo3v5 sorenmalling$ ./flow3 

Uncaught Exception in FLOW3 #1265213849: The object ""TYPO3\Media\Domain\Repository\ImageRepository"" which was specified as a property in the object configuration of object ""TYPO3\TYPO3\Controller\Backend\ContentController"" (automatically registered class) does not exist. Check for spelling mistakes and if that dependency is correctly configured.
thrown in file Packages/Framework/TYPO3.FLOW3/Classes/Object/DependencyInjection/ProxyClassBuilder.php
in line 423
Reference code: 201110041021325e21dd

#0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli()
   /opt/local/apache2/htdocs/typo3v5/Packages/Framework/TYPO3.FLOW3/Classes/Error/AbstractExceptionHandler.php:49

#1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()

PHP 5.3.3 (cli) (built: Nov 17 2010 14:44:01) 
Copyright (c) 1997-2010 The PHP Group
Zend Engine v2.3.0, Copyright (c) 1998-2010 Zend Technologies

Uncaught Exception in FLOW3 #1297263663: The compile run failed. Please check the error output or system log for more information.
thrown in file Packages/Framework/TYPO3.FLOW3/Classes/Core/Bootstrap.php
in line 414
Reference code: 201110041021322c68e5

#0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli()
   /opt/local/apache2/htdocs/typo3v5/Packages/Framework/TYPO3.FLOW3/Classes/Error/AbstractExceptionHandler.php:49

#1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()


</pre>

Karsten mentions in his ""tweeting"" with me

<pre>
Ah, well. Classes disappearing cause havoc, true.
</pre>

Sorry, can't give better explanation ATM"
30555,TYPO3.Fluid,Feature,"",New,Could have,Make TagBuilder more extensible,Thomas Allmer,"",2012-06-29 06:41,Core,"",2011-10-04,"","",0,2011-10-04 15:18,"","",298000,"","","As a developer for Viewhelpers I would like to Extend available Viewhelper and probably modify some tag attributes based on various options without totally forking the viewhelper.

For that I need the possibility to get and set the value of tag attributes.

These Functions could look like this:

<pre>
	/**
	 * Sets the value of an attribute in the $attributes-collection
	 *
	 * @param string $attributeName name of the attribute to be added to the tag
	 * @return string
	 * @author Thomas Allmer <at@delusionworld.com>
	 * @api
	 */
	public function setAttribute($attributeName, $attributeValue, $escapeSpecialCharacters = TRUE) {
		return $this->addAttribute($attributeName, $attributeValue, $escapeSpecialCharacters);
	}

	/**
	 * Gets the value of an attribute in the $attributes-collection
	 *
	 * @param string $attributeName name of the attribute to be added to the tag
	 * @return string
	 * @author Thomas Allmer <at@delusionworld.com>
	 * @api
	 */
	public function getAttribute($attributeName) {
		return $this->attributes[$attributeName] ? $this->attributes[$attributeName] : '';
	}
	
	/**
	 * Checks if the tag has a certain attribute
	 *
	 * @param string $attributeName name of the attribute to be added to the tag
	 * @return string
	 * @author Thomas Allmer <at@delusionworld.com>
	 * @api
	 */
	public function hasAttribute($attributeName) {
		return $this->attributes[$attributeName] ? TRUE : FALSE;
	}
</pre>
"
30614,TYPO3.Flow,Bug,"",Resolved,Must have,Use of undefined policies throws exception,Peter Russ,"",2012-05-18 12:58,Security,"",2011-10-06,"","",0,2011-10-06 17:25,"","",300850,"",FLOW3 1.0.0,"Notice: Undefined index: Test in /srv/c/cdas/src/shared/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Security_Policy_PolicyService_Original.php line 317
35 TYPO3\FLOW3\Error\ErrorHandler::handleError(8, ""Undefined index: Test"", ""/srv/c/cdas/src/shared/Data/Temporary/Development/?3_FLOW3_Security_Policy_PolicyService_Original.php"", 317, array)

This happens due the fact, that there are roles available which are not define in any Policy. I would expect that in such a case a Access denied would occure. To fix just check if the key is set ;-) (see attached patch)

Keep on rocking...."
30633,TYPO3.Flow,Bug,"",Resolved,Should have,endless recursion when using the wrong php binary,Yves Poersch,Robert Lemke,2011-10-19 19:37,Core,1.0.0,2011-10-07,"","",100,2011-10-07 10:53,"","",301800,"","","If I uses non cli-php to call flow3, it will get an endless recursion.

It will be better to stop after 100 call, or so what?

P.S.: *wink* @ robert ;) thanks alot!"
30714,TYPO3.Flow,Bug,"",Closed,Should have,\TYPO3\FLOW3\var_dump() memory use causes fatal error debugging objects.,Alexander Schnitzler,"",2013-01-21 11:12,Error,"",2011-10-10,"","",0,2011-10-10 06:04,"","",305750,"",FLOW3 1.0.0,"During some FLOW3 CRUD testing, I got an error several times I wanted to debug objects that have related objects.

Something like \TYPO3\FLOW3\var_dump(new SomeObject()) always worked, more complex object trees caused PHP run out of memory.

In my example (see attached picture) I just created a ""new""-form to create a new Message-Object that has a User-Object related as the sender of the message. Yet the debugging of that simple thing failed."
30777,TYPO3.Fluid,Feature,"",Resolved,Should have,Catch Routing Exceptions in uri and link ViewHelpers,Bastian Waidelich,Bastian Waidelich,2012-06-05 09:16,ViewHelpers,1.0.0,2011-10-11,"","",100,2011-10-11 05:14,"","",308750,"","","Developers having a hard time figuring out what went wrong, if FLOW3 dies with a Routing Exception. Especially when you have a template that contains an invalid link.* or uri.* view helper, the exception ""Could not resolve a route...."" is very misleading.

I'd suggest to catch Routing Exceptions in the respective ViewHelpers and turn them into ViewHelper Exceptions. That way we can output a more meaningful error message (when we have a proper Fluid debug mode, the faulty template line will be outputted in dev context).

BTW: We might also do this for @ActionController::redirect()@"
30778,TYPO3.Flow,Bug,"",Resolved,Should have,Exceeding Request arguments should only be appended to URI if configured,Bastian Waidelich,Bastian Waidelich,2011-10-19 19:37,MVC - Routing,1.0.0,2011-10-11,"","",100,2011-10-11 05:14,"","",308800,"","","Currently when creating URIs/Links via the UriBuilder arguments that are not part of the configured route values are *appended* to the resulting URI as *query string*. This makes it difficult to get a reliable behavior.
Example:
Given following Routes.yaml
<pre>
<code class=""yaml"">
-
  uriPattern: 'foo/static'
  defaults:
    '@package':    'Acme.Demo'
    '@controller': 'Standard'
    '@action':     'index'

-
  uriPattern: 'foo/{dynamic}'
  defaults:
    '@package':    'Acme.Demo'
    '@controller': 'Standard'
    '@action':     'index'
</code>
</pre>

Now @<f:uri.action action=""index"" arguments=""{dynamic: 'bar'}"" />@ would result in the URI *foo/static?dynamic=bar*.
This could be solved by moving the second route above the first one,  but than the *matching* wouldn't work as expected because the URI *foo/static* would match the dynamic route then.

We do need the feature of appended query strings for fallback routes and if you want to explicitly use them.
As a solution I'd suggest to append the exceeding arguments only when configured in the respective route:

<pre>
<code class=""yaml"">
-
  uriPattern: 'foo/{dynamic}'
  defaults:
    '@package':    'Acme.Demo'
    '@controller': 'Standard'
    '@action':     'index'
  appendExceedingArguments: true
</code>
</pre>"
30825,TYPO3.Flow,Task,"",Resolved,Should have,Cleanup of (Flash)Messages API,Christian Müller,Christian Müller,2011-10-13 17:07,"","",2011-10-12,"","",100,2011-10-12 05:17,"","",311150,"","","To have a nice API for 1.0 cleanup of FlashMessage, FlashMessageContainer and Message objects is needed. Additionally usage in controllers should be cleaned up."
30826,TYPO3.Flow,Task,"",Resolved,Should have,Use Symphony YAML parser for settings instead of Horde/YAML,Christian Müller,Christian Müller,2011-10-19 19:37,Configuration,1.0.0,2011-10-12,"","",100,2011-10-12 05:37,"","",311200,"","",Ideally make a separate Symphony YAML package out of it.
30848,TYPO3.Flow,Task,"",Resolved,Should have,Make PHP session configurable,Martin Brüggemann,Martin Brüggemann,2011-10-19 03:59,Session,1.0.0,2011-10-12,"","",100,2011-10-12 09:22,"","",312300,"","","I'm using FLOW3 in a subdomain environment and need a way to have valid session cookies for all subdomains of a php session. It's easy to implement by adding some parameters in the start method of PHPSession.php

<pre>
    $cookieParameters['lifetime'],
			    $cookieParameters['path'],
			    $cookieParameters['domain'],
			    $cookieParameters['secure'],
			    $cookieParameters['httponly']
			);
</pre>

The cookie params could be set by adding the following yaml options.

<pre>
TYPO3:
  FLOW3:
    session:
      PHPSession:
        cookie:
        lifetime: 3600
        path:     '/'
        domain:   '.domain.com'
        secure:   false
        httponly: false
</pre>"
30857,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Set the RewriteBase configuration in the .htaccess by default,Rens Admiraal,Rens Admiraal,2011-10-21 07:39,"","",2011-10-12,"","",100,2011-10-12 13:58,"","",312750,"","","Apache server does not allow modules to reconfigure the DOCUMENT_ROOT, this can cause problems with mod_rewrite, and will cause problems with mod_vhost_alias.

This is fixed in a recent commit of apache, but can still affect a lot of installations. AFAIK it does not hurt to set the RewriteBase directive by default, so it might be worth to set it.

Apache commit which fixes this in apache: http://svn.apache.org/viewvc?view=revision&revision=1132494"
30858,TYPO3.Flow,Bug,"",Resolved,Must have,Proxy Class Builder ignores optional arguments with NULL default,Christian Müller,Christian Müller,2011-10-19 19:37,"",1.0.0,2011-10-12,"","",100,2011-10-12 14:35,"","",312800,"","",""
30861,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Remove declare(ENCODING) line ,Julian Wachholz,Karsten Dambekalns,2011-10-14 19:08,"",1.0.0,2011-10-12,"",0.50,100,2011-10-12 15:13,"","",312950,0.50,"","Since the declare() statement was dropped from FLOW3 sources, it should be removed everywhere.

The following files still have the declare(ENCODING = 'utf-8'); line:

./Packages/Framework/TYPO3.FLOW3/Tests/Unit/Security/Cryptography/Pbkdf2HashingStrategyTest.php
./Packages/Framework/TYPO3.FLOW3/Tests/Unit/Security/Cryptography/AlgorithmsTest.php
./Packages/Framework/TYPO3.FLOW3/Classes/Core/LockManager.php
./Packages/Framework/TYPO3.FLOW3/Classes/Security/Cryptography/PasswordHashingStrategyInterface.php
./Packages/Framework/TYPO3.FLOW3/Classes/Security/Cryptography/Pbkdf2HashingStrategy.php
./Packages/Framework/TYPO3.FLOW3/Classes/Security/Cryptography/Algorithms.php
./Packages/Framework/TYPO3.FLOW3/Classes/Security/Cryptography/SaltedMd5HashingStrategy.php
"
30890,TYPO3.Flow,Feature,"",Accepted,Should have,Developer Toolbar,Christian Müller,Christian Müller,2013-05-21 07:28,MVC,"",2011-10-13,"","",0,2011-10-13 09:17,"","",314350,"","","Create a toolbar that can be enabled to provide easy debugging features and help to the FLOW3 developer.

Some ideas (to be updated):

- Logfiles
- Exceptions
- Code browsing?
- Cache flush
- Statistical data (memory usage, request time)?
- DQL console
- Configuration Reader / Editor
- Fluid Inspector?
"
30914,TYPO3.Flow,Bug,"",Resolved,Should have,"Proxy methods for methods with ""by reference"" return type are broken",Andreas Förthner,Christian Müller,2012-05-30 16:00,AOP,1.0.5,2011-10-14,"","",100,2011-10-14 03:39,"","",315500,"",FLOW3 1.0.0,"The proxy class builder ignores the by-reference & in the proxy method, and therefore you get an PHP fatal error."
30929,TYPO3.Flow,Bug,"",Resolved,Should have,Routing does not always work if splitString is optional,Bastian Waidelich,Bastian Waidelich,2011-10-17 11:35,MVC - Routing,"",2011-10-14,"","",100,2011-10-14 08:21,"","",316250,"","","If the route part following an identity route part optional like
<pre>{post}(.html)</pre>
the IdentityRoutePart creates a correct link but matching of the URI without the optional part fails, if the dynamic part contains the split string (in this example if the post contains the string "".html"").
Instead always the complete request path should be matched against."
30933,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Check for unique constraints on add(),Thomas Hempel,Karsten Dambekalns,2014-10-01 06:36,Persistence,"",2011-10-14,"","",0,2011-10-14 09:10,"","",316400,"","","If you define a uniqueConstraints in a Model you want to have that checked as soon as the add() method of your repository is called. If you don't do that it might lead into some problems later in your controller.

For example you have the following model:

<pre>
/**
 * @scope prototype
 * @entity
 * @Table(name=""acme_demo_domain_model_mymodel"", uniqueConstraints={@UniqueConstraint(name=""name_idx"", columns={""name""})})
 */
class MyModel {
	/**
	 * @var string
	 */
	protected $name;
	
	[snip]
}
</pre>

The propety name has a doctrine unique contraints which means that i can only exists once in the database.

Now you have this controller

<pre>
class AcmeDemoCommandController extends \TYPO3\FLOW3\MVC\Controller\CommandController {

	/**
	 * Add a MyModel
	 *
	 * Adds a MyModql with a given name
	 *
	 * @param string $name The name of the repository
	 * 
	 * @return void
	 */
	public function addCommand($name) {
		try {
			$newModelInstance = new \Acme\Demo\Domain\Model\MyModel($name);
			$this->MyModelRepository->add($newModelInstance);
		} catch (\Exception $e) {
			$this->outputLine('The MyModel could not be created!');
			return -1;
		}
		
		$this->outputLine('New MyModel was created.');
	}

}
</pre>

On the command line you do the following:

<pre>
./flow3 AcmeDemo:add foo
</pre>

This works the first time as expected.

When you execute it the second time, you get an Exception because the name ""foo"" is already present in the database. You get the Exception even though you put the code in a try catch blog is, this is because the method to actually save the changes is called after your code. The responsible method is persistAll().

This leads to some more problem which I put into a seperate issue. For now let me tell you that it doesn't work.

It would be really cool if the add would return something that tells me if an object can be persisted or not. Otherwise I had to check all my DB constraints manually whenever I work with my model. And if I understood DDD corectly, this is not the Domain of my controller. ;-)"
30934,TYPO3.Flow,Bug,"",Resolved,Should have,persistAll() should only be called if EntityManager is still alive,Thomas Hempel,Karsten Dambekalns,2011-12-19 05:06,Persistence,1.0.2,2011-10-14,"","",100,2011-10-14 09:12,"","",316450,"",FLOW3 1.0.0,"In some cases it can happen, that the EntityManager is closed at the end of an controller. This *can* be a valid situation. See #30933 for more information.

It would be good if the persistAll() method is only called if the EntityManager is really functioning."
30935,TYPO3.Fluid,Bug,"",Resolved,Should have,Catch ViewHelper exceptions and log them in production context,Bastian Waidelich,Christian Müller,2015-06-15 03:45,Core,"",2011-10-14,"","",100,2011-10-14 09:14,"","",316500,"",FLOW3 1.0.0,"from line 241 of the AbstractViewHelper:
<pre>
<code class=""php"">
try {
	return call_user_func_array(array($this, 'render'), $renderMethodParameters);
} catch (\TYPO3\Fluid\Core\ViewHelper\Exception $exception) {
	// @todo [BW] rethrow exception, log, ignore.. depending on the current context
	return $exception->getMessage();
}
</code>
</pre>

As the todo comment states, this should be caught in production context and logged to prevent information disclosure.
Code could look something like:
<pre>
<code class=""php"">
try {
	return call_user_func_array(array($this, 'render'), $renderMethodParameters);
} catch (\TYPO3\Fluid\Core\ViewHelper\Exception $exception) {
	if ($this->objectManager->getContext() === 'Development') {
		return $exception->getMessage();
	} else {
		$this->systemLogger->log([...]);
		return '';
	}
}
</code>
</pre>"
30937,TYPO3.Fluid,Bug,"",New,Should have,CropViewHelper stringToTruncate can't be supplied so it can't be easily extended,Thomas Allmer,"",2011-10-21 07:37,ViewHelpers,"",2011-10-14,"","",100,2011-10-14 10:32,"","",316600,"",FLOW3 1.0.0,"the CropViewHelper always gets its content via $this->renderChildren(); so you can't provide the text when using the Inline notation. It also makes it pretty hard to extend this viewhelper.

It should be like it is with most of the other viewhelper:
- add optional $stringToTruncate parameter
- set it to $this->renderChildren() if NULL
- see change below

<pre>
	/**
	 * Render the cropped text
	 *
	 * @param integer $maxCharacters Place where to truncate the string
	 * @param string $stringToTruncate What do you want to crop
	 * @param string $append What to append, if truncation happened
	 * @param boolean $respectBoundaries If TRUE and division is in the middle of a word, the remains of that word is removed.
	 * @param boolean $respectHtml If TRUE the cropped string will respect HTML tags and entities. Technically that means, that cropHTML() is called rather than crop()
	 * @return string cropped text
	 * @author Andreas Pattynama <andreas.pattynama@innocube.ch>
	 * @author Sebastian Kurfürst <sebastian@typo3.org>
	 * @author Bastian Waidelich <bastian@typo3.org>
	 * @author Felix Oertel <oertel@networkteam.com>
	 */
	public function render($maxCharacters, $stringToTruncate = NULL, $append = '...', $respectWordBoundaries = TRUE, $respectHtml = TRUE) {
		if ($stringToTruncate === NULL) {
			$stringToTruncate = $this->renderChildren();
		}
</pre>"
30980,TYPO3.Kickstart,Bug,"",Resolved,Could have,Generating ActionControllers using a comma separated list creates wrong Models and Repositories,Julian Wachholz,Karsten Dambekalns,2011-10-19 05:05,"",1.0.0,2011-10-16,"","",100,2011-10-16 11:55,"","",318700,"","","Using the following command:

    ./flow3 kickstart:actioncontroller --generate-related --generate-actions Acme.Demo Animal,Zoo

One would expect the Kickstarter to create 2 Models and 2 corresponding Repositories:

Model/Animal.php
Model/Zoo.php
Repository/AnimalRepository.php
Repository/ZooRepository.php

Instead, the following Model and Repository are created:

Model/Animal,Zoo.php
Repository/Animal,ZooRepository.php

"
31002,TYPO3.Flow,Bug,"",New,Should have,Generated __sleep method handles static properties as members.,Stephan Schuler,"",2011-10-21 07:20,Reflection,"",2011-10-17,"","",0,2011-10-17 07:51,"","",319800,"",FLOW3 1.0.0,"The __sleep method generated by \TYPO3\FLOW3\Object\DependencyInjection\ProxyClassBuilder::buildSerializeRelatedEntitiesCode tries to handle ""static"" properties.
Since ""$this->property"" throws an exception where self::$property should be used, the PhpSession::close() method catches an Exception ""SplObjectStorage::serialize() must return a string or NULL"".

I would suggest to treat static properties as transient by default."
31015,TYPO3.Flow,Bug,"",Resolved,Must have,Second classloader in ReflectionService doesn't know about packages,Karsten Dambekalns,Karsten Dambekalns,2011-10-18 03:37,Reflection,1.0.0,2011-10-17,"","",100,2011-10-17 12:47,"","",320450,"","",There should be reuse of the classloader already created in Bootstrap.
31019,TYPO3.Fluid,Feature,"",Resolved,Should have,FlashMessages ViewHelper should render message title and severity,Bastian Waidelich,Bastian Waidelich,2011-11-10 09:36,ViewHelpers,"",2011-10-17,"","",100,2011-10-17 15:27,"","",320600,"","","Currently <f:flashmessages /> renders the FlashMessages only by converting them into a string implicitly. That only returns the message Body of the respective FlashMessage. In order to render FlashMessages according to their type, the *severity* should be rendered into the flash message as CSS class. Besides the title of a message should be rendered, if specified."
31021,TYPO3.Flow,Feature,"",Resolved,Should have,PropertyMappingConfiguration should support not mapping of properties,Christian Jul Jensen,Christian Jul Jensen,2012-05-15 09:24,Property,1.1,2011-10-17,"","",100,2011-10-17 15:55,"","",320700,"","","Currently the shouldMap method of the PropertyMappingConfiguration always returns TRUE, it should be possible to configure it to ignore mapping of certain data/properties."
31042,TYPO3.Flow,Bug,"",Resolved,Must have,Throwing an exception throws an exception....,Adrian Föder,Karsten Dambekalns,2011-10-18 09:40,Reflection,1.0.0,2011-10-18,"","",100,2011-10-18 03:22,"","",321600,"","","after running the master branch intended to become RC1, I have @Uncaught Exception in FLOW3 #1: Warning: current() expects parameter 1 to be array, null given in [...]Packages\Framework\TYPO3.FLOW3\Classes\Reflection\ReflectionService.php line 932@. The mentioned line is

<pre>
throw new \TYPO3\FLOW3\Reflection\Exception(sprintf('Classes tagged as entity or value object must be of scope prototype, however, %s is declared as %s.', $className, current($classTagValues)), 1264103349);
</pre>

In fact, the @$classTagValues@ variable is *not set* in this function."
31052,TYPO3.Flow,Bug,"",Resolved,Must have,PackageManager::createPackage() creates invalid annotation,Bastian Waidelich,Bastian Waidelich,2011-10-19 19:37,Package,1.0.0,2011-10-18,"","",100,2011-10-18 05:08,"","",322100,"","","The @PackageManager::createPackage()@ that is called by the @flow3 package:create@ command still creates a Package.php file with a ""@scope"" annotation."
31061,TYPO3.Flow,Bug,"",Resolved,Must have,defective and maybe obsolete is_link() mirror function,Adrian Föder,Bastian Waidelich,2011-10-19 19:37,Utility,1.0.0,2011-10-18,"","",100,2011-10-18 06:14,"","",322500,"","","in \TYPO3\FLOW3\Utility\Files the function is_link is defective. The function returns

<pre>
return $normalizedPathAndFilename !== $normalizedTargetPathAndFilename
</pre>


in my concrete case the both variables had the values

<pre>
c:/users/afoeder/phpstormprojects/[...]/flow3/data/temporary/development/cache/data/flow3_monitor/
c:/users/afoeder/phpstormprojects/[...]/flow3/data/temporary/development/cache/data/flow3_monitor
</pre>

(note the trailing slash at the first one, $normalizedPathAndFilename). This leads to an incorrect function result and therefore @::emptyDirectoryRecursively@ does not work because it's relying on that function.


Anyhow, this function is a wrapper because of a bug; see the annotation @If http://bugs.php.net/bug.php?id=51766 gets fixed we can drop this.@
This seems fixed, hence the function could be removed and usages can be renamed to the native is_link() function."
31070,TYPO3.Flow,Bug,"",Resolved,Should have,Symlink related Unit Tests fail on some Windows systems,Bastian Waidelich,Bastian Waidelich,2011-11-10 05:06,- Testing -,"",2011-10-18,"","",100,2011-10-18 08:40,"","",322950,"",FLOW3 1.0.0,"Depending on the system configuration and the current Windows Username, the PHP function @sys_get_temp_dir()@ returns an abbreviated path to the temporary directory.
Details: By default, this function returns @C:\Windows\TEMP@ for me. But running the unit tests from CLI, it returns @C:\Users\BWAIDEL~1\AppData\Local\Temp\@ - That breaks our @\TYPO3\FLOW3\Utitlity\Files::is_link()@ work around.

To fix this, we should use @realpath(sys_get_temp_dir())@ or @tempnam()@ instead."
31082,TYPO3.Kickstart,Bug,"",Resolved,Must have,Kickstarter does not use addFlashMessage(),Bernhard Fischer,Karsten Dambekalns,2011-10-19 04:33,"",1.0.0,2011-10-18,"","",100,2011-10-18 13:53,"","",323550,"","",acording to ID: 1f9a0e65 the kickstarter should also use addFlashMessage() instead of flashMessageContainer->add()
31083,TYPO3.Flow,Bug,"",Resolved,Should have,Missing Lazy annotation in migration script,Julian Kleinhans,Julian Kleinhans,2011-10-18 16:05,Core,1.0.0,2011-10-18,"","",100,2011-10-18 15:10,"","",323600,"","",The Lazy annotation is missing in the migration-annotation.php script
31087,TYPO3.Flow,Bug,"",Closed,Must have,Uncaught Exception: invalid annotation,Julian Kleinhans,"",2011-10-20 16:15,Reflection,"",2011-10-19,"","",0,2011-10-18 18:23,"","",323800,"","","I get a totally strange exception 

<pre>
Uncaught Exception The @var annotation for ""Kj187\Tutorials\Domain\Model\Category::$context"" seems to be invalid. More Information Exception code #1284132314 File /Volumes/Server/data/htdocs/privat/tutorials3/Packages/Framework/TYPO3.FLOW3/Classes/Reflection/ReflectionService.php Exception reference #20111019001416e73202 
</pre>

Here is the Category::$context 

<pre>
	/**
	 * @var string
	 * @FLOW3\Identity
	 */
	protected $context;
</pre>

after a little debug session i found the reason. 
The problem is the optional second trim parameter in ReflectionService.php line 1119

<pre>
$declaredType = trim(implode(' ', $this->getPropertyTagValues($className, $propertyName, 'var')), ' \\');
</pre>

My PHP version is 5.3.8 and i use apache2 on a mac os x system based on mac ports

It works if i remove the second param, or if i wrap this line with a second trim function 
<pre>
$declaredType = trim(trim(implode(' ', $this->getPropertyTagValues($className, $propertyName, 'var')), ' \\'));
</pre>

any ideas ? 
discussion ?

or shoud i write this as a patch ?
"
31104,TYPO3.Flow,Bug,"",Resolved,Should have,package:import is broken due to changed git repository names,Karsten Dambekalns,Karsten Dambekalns,2011-10-19 08:08,Package,1.0.0,2011-10-19,"","",100,2011-10-19 06:26,"","",324600,"","","The stripping of ""TYPO3."" from project names in git is no longer needed."
31111,TYPO3.Flow,Bug,"",Resolved,Must have,Compiler::renderAnnotation() drops boolean values,Karsten Dambekalns,Karsten Dambekalns,2011-10-19 10:35,Object,1.0.0,2011-10-19,"","",100,2011-10-19 09:55,"","",324950,"",""," When rendering annotations into proxy classes, boolean values for options get lost."
31119,TYPO3.Fluid,Bug,"",Resolved,Must have,AjaxWidgetContext is not stored in session,Bastian Waidelich,Bastian Waidelich,2011-10-19 19:39,Widgets,1.0.0,2011-10-19,"","",100,2011-10-19 12:30,"","",325300,"","",The AjaxWidgetContextHolder is missing an *@FLOW3\Session(autoStart=true)* annotation that initiates the session.
31128,TYPO3.Flow,Task,"",Rejected,Should have,We should only have one source of random bytes,Christian Müller,Christian Müller,2011-10-20 03:52,Utility,"",2011-10-20,"","",0,2011-10-20 03:47,"","",325750,"","","Currently for generation of the persistent security token we use self made code in TYPO3.FLOW3/Classes/Utility/Algorithms.php but for example the CSRF token use the method from TYPO3.FLOW3/Resources/PHP/iSecurity/Security_Randomizer.php to generate random bytes.

We should unify that and use TYPO3\FLOW3\Utility\Algorithms::generateRandomBytes as wrapper for random byte creation."
31134,TYPO3.Flow,Bug,"",Resolved,Should have,Functional tests of controllers don't reset arguments,Christopher Hlubek,"",2011-11-07 09:07,MVC,"",2011-10-20,"","",100,2011-10-20 06:18,"","",326050,"",FLOW3 1.0.0,"Using @sendWebRequest@ to one controller with two different @arguments@ arrays will not reset the array in the controller.

Not tested against current trunk but I'm quite sure it won't work there too."
31160,TYPO3.Flow,Bug,"",Resolved,Should have,Scripts/migrate-annotations.php should work with symlinks,Marco Huber,Karsten Dambekalns,2011-10-25 06:06,"",1.0.1,2011-10-21,"","",100,2011-10-21 03:25,"","",327350,"",FLOW3 1.0.0,"In an environment with symlinks (the Folder Packages/Framework is included by a symlink) the script doesn't find the packages under Packages/Application, because the script uses the absolute path to Scripts/migrate-annotations.php.

I extended the script so you can give a second parameter with an absolute path."
31167,TYPO3.Fluid,Feature,"",Resolved,Could have,Stateless AJAX Widgets,Bastian Waidelich,Bastian Waidelich,2011-11-10 11:36,Widgets,"",2011-10-21,"","",100,2011-10-21 05:25,"","",327700,"","","Currently an AJAX Widget stores the *WidgetContext* in the *WidgetContextHolder* which again puts it in the current user session.
This should be configurable so that the context can be passed to the target widget action via GET/POST.
*Note:* This requires that the request handler verifies the HMAC of the widget request!"
31179,TYPO3.Flow,Bug,"",Resolved,Must have,injectSettings is called more than once for object instantiation,Fernando Arconada,Christian Müller,2012-07-18 06:25,Configuration,1.1 RC2,2011-10-21,"","",100,2011-10-21 15:52,"","",328300,"",FLOW3 1.0.0,"When defining @injectSettings@ in a class, one expects it to be called *once* per instantiation. In fact it is called as often as the class hierarchy is deep, i.e. when _StandardController extends AbstractController extends ActionController_ the @injectSettings@ method of _StandardController_ will be called three times."
31189,TYPO3.Fluid,Bug,"",Resolved,Should have,Make TextareaViewHelper HTML5 aware,rottenrice no-lastname-given,Bastian Waidelich,2012-07-30 03:00,ViewHelpers,1.1,2011-10-22,"","",100,2011-10-22 10:05,"","",328800,"",Git 1.0,"1. the code example seems to be deprecated. ""rows"" and ""cols"" are required attributes but are not used in the example.

2. i suggest to use ""rows"" and ""cols"" as optional attributes. in html5 they are no longer tagged as required. furthermore you want to set the width and height of a textarea in css instead of using an html attribute ...

links:
http://api.typo3.org/fluid/master/class-Tx_Fluid_ViewHelpers_Form_TextareaViewHelper.html
http://www.w3.org/TR/html5/the-button-element.html#the-textarea-element"
31192,TYPO3.Flow,Bug,"",Resolved,Should have,Update session cookie lifetime on activity,Julian Wachholz,Robert Lemke,2012-03-20 21:39,Session,1.1 beta 1,2011-10-22,"","",100,2011-10-22 12:18,"","",328950,"",Git master,"The lifetime of a session cookie (TYPO3\FLOW3\Session\PhpSession) is fixed.
After the time specified (default 1 hour) the cookie gets deleted, no matter how long ago the last activity of the user was.

The cookie's expiration date should be updated on every request.

This would, for example, prevent a session expiration while filling out a form.."
31210,TYPO3.Flow,Bug,"",New,Must have,constructor of proxy class not compatible with interfaces defening a constructor,Jordy de Jong,"",2011-11-07 16:02,Object,"",2011-10-24,"","",0,2011-10-24 05:05,"","",329850,"",FLOW3 1.0.0,"I have a class which implements an interface. This interface defines a constructor with a parameter. FLOW3 creates a proxy class which constructor is not compatible which the definition of the constructor in the interface.


example:


interface SomeClassInterface
{
    public function __construct($options = null);
}

class SomeAbstractClass implements SomeClassInterface
{
    public function __construct($options = null)
    {
       // do stuff...
    }
}

class MyClass extends SomeAbstractClass
{

}


FLOW3 creates the following:

class MyClass_Original extends SomeAbstractClass
{

}

class MyClass extends MyClass_Original
{
	public function __construct() {
		$arguments = func_get_args();

		if (!isset($arguments[0])) $arguments[0] = NULL;
		call_user_func_array('parent::__construct', $arguments);
	}
}




the constructor in the proxy method is not compatible with the constructor defined in the original interface"
31215,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Configuration/README refers to unused files,Karsten Dambekalns,Karsten Dambekalns,2011-11-07 07:57,- Documentation -,1.0.1,2011-10-24,"","",100,2011-10-24 06:08,"","",330100,"",FLOW3 1.0.0,"The README mentions FLOW3.yaml and Package.yaml, both of which are no longer used."
31261,TYPO3.Flow,Feature,"",New,Should have,Virtual objects - generate proxy classes for interfaces,Christopher Hlubek,"",2011-10-25 04:23,Object,"",2011-10-25,"","",0,2011-10-25 04:23,"","",332400,"","","It should be possible to declare an interface and configure an object (e.g. singleton based on a prototype with arguments) for it in @Objects.yaml@. Right now you have to write a factory class to have different singletons based on the same prototype object.

h3. Example:

*Objects.yaml*

<pre><code>
TYPO3\Example\MyInterface:
  scope: singleton
  className: TYPO3\Example\MyClass # <- scope: prototype
  arguments:
    1:
      value: Foo

TYPO3\Example\MyDebugInterface:
  scope: singleton
  className: TYPO3\Example\MyClass # <- scope: prototype
  arguments:
    1:
      value: Bar
  properties:
    debug:
      value: true
</code></pre>

There should be a generated proxy class for the interface that implements the interface. Dependency injection with the interface type should work with that automatically.

I think instantiating the interface with @new \TYPO3\Example\MyInterface()@ has not to work since it's also contra-intuitive to the default PHP behaviour. So DI or the ObjectManager must be used for that."
31262,TYPO3.Flow,Feature,"",New,Should have,Named arguments in Objects.yaml for constructor arguments,Christopher Hlubek,"",2011-10-25 04:26,Object,"",2011-10-25,"","",0,2011-10-25 04:26,"","",332450,"","","Working with positional arguments in constructor injection configuration is cumbersome.

It should be possible to use named arguments alternatively since it should be easy to get argument names by reflection.  "
31269,TYPO3.Flow,Task,"",Resolved,Should have,Display line number of exception in CLI mode,Robert Lemke,Robert Lemke,2011-11-22 06:44,Command,1.0.1,2011-10-25,"","",100,2011-10-25 06:03,"","",332800,"","","If an exception occurs in command line mode, only the file name but not the line number of the location causing the exception is displayed. For non-FLOW3 exceptions (like notices etc.) it's therefore difficult to find the actual root cause."
31270,TYPO3.Flow,Bug,"",Resolved,Must have,Proxy classes loose @return and @throws annotations,Karsten Dambekalns,Karsten Dambekalns,2011-11-07 10:36,Object,1.0.1,2011-10-25,"","",100,2011-10-25 06:11,"","",332850,"",FLOW3 1.0.0,"The proxy classes built by FLOW3 no longer contain @throws and @return annotations. This breaks code relying on that, like the SOAP WSDL generator."
31277,TYPO3.Flow,Feature,"",Resolved,Should have,Schema based validation for arrays,Bastian Waidelich,Martin Ficzel,2012-06-18 13:38,Validation,2.0 beta 1,2011-10-25,"","",100,2011-10-25 06:47,"","",333200,"","","As discussed on the last Code Sprint, some schema based validation similar to 
http://json-schema.org/ for arrays would be very useful for FLOW3.

h1. Goal

The JSON schema should be used to verify the syntax of:

* Settings
* Routes
* Image Processing Instructions
* Content Type Definitions
* Security Settings

Currently a typo in those sometimes leads to very confusing effects. By validation against a pre-made schema, we can tell the user meaningful errors. We could even integrate that in the exception handling: If an exception happens, we could validate the configuration, as an error in configuration most likely results in exceptions.

*Generally, we want to use schemata to validate arrays.*

h1. Specification

we should forward-port JSON-schema from http://tools.ietf.org/html/draft-zyp-json-schema-03 to PHP. We are only listing the differences here. We will refer to this work as *PHP schema*. Some major differences are:

* JSON schema validation does only distinguish between *valid* and *invalid*. We should furthermore have a third, in-between style; something like ""Bad smell"", which hints to errors. TODO how to implement it?
* We aim for an implementation of 1. - 5.25 of JSON Schema Draft 03.

h2. 3.1. Terminology

For this specification, *schema* will be used to denote a PHP Schema
definition, and an *instance* refers to a PHP value that the schema
will be describing and validating.

h2. 5.8. dependencies

* TODO do we need them?

h2. 5.20 default

* We don't need this.

h2. 5.23 format

We support the following additional formats:

* classname: A class name which is *known to the object manager* // TODO: should it be classname or objectname?

h2. 5.26. extends, 5.27 id, 5.28. ref, 5.29 $schema

* We don't need this.

h2. 6 Hyper Schema

* We don't need this.

h1. Implementation

Implementation-wise, the validator should be split into two parts: One for the implementation of the PHP schema, the second part for the FLOW3-specific additions.

* We should use \FLOW3\FLOW3\Error\Result
* the system should be developed test-driven.

h1. Future Work

The schema could even be self-learning to some extend (see https://github.com/kore/XML-Schema-learner for a similar example)."
31284,TYPO3.Welcome,Task,"",Resolved,Should have,add notice remove routes on deactivate welcome package,Karsten Vieth,Bastian Waidelich,2011-11-16 06:36,"",1.0.1,2011-10-25,"","",100,2011-10-25 10:18,"","",333550,"","","Point 4:
Remove the Welcome package (optional)
./flow3 package:deactivate TYPO3.Welcome


please add
Remove welcome routes from Configuration/Routes.yaml

"
31294,TYPO3.Flow,Bug,"",Closed,Must have,SkipCsrfProtection doesn't work for actions without parameters anymore,Martin Brüggemann,Karsten Dambekalns,2011-12-21 06:38,Security,1.1 beta 1,2011-10-25,"","",100,2011-10-25 15:32,"","",334000,"",FLOW3 1.0.0,"I tried to use the @FLOW3\SkipCsrfProtection with the following indexAction:
<pre>
        /**
	 * List action for this controller.
	 * @return string
	 * @FLOW3\SkipCsrfProtection
	 */
	public function indexAction() {
	    
	}
</pre>

Unfortunately this doesn't work anymore. It works again if I add a dummy parameter like this:
<pre>
        /**
	 * List action for this controller.
	 * @return string
	 * @FLOW3\SkipCsrfProtection
	 */
	public function indexAction($bernd = 'katze') {
	    
	}
</pre>

Maybe it's a small fix to change FLOW3s @DoctrineAnnotation\Target in Annotations\SkipCsrfProtection.php from ""METHOD"" to ""PROPERTY"" like this:

<pre>
<?php
namespace TYPO3\FLOW3\Annotations;

/*                                                                        *
 * This script belongs to the FLOW3 framework.                            *
 *                                                                        *
 * It is free software; you can redistribute it and/or modify it under    *
 * the terms of the GNU Lesser General Public License, either version 3   *
 * of the License, or (at your option) any later version.                 *
 *                                                                        *
 * The TYPO3 project - inspiring people to share!                         *
 *                                                                        */

use Doctrine\Common\Annotations\Annotation as DoctrineAnnotation;

/**
 * @Annotation
 * @DoctrineAnnotation\Target(""PROPERTY"")
 */
final class SkipCsrfProtection {}

?>
</pre>

But I'm not deep enough into this annotation stuff to imagine any side effects :)"
31311,TYPO3.Flow,Bug,"",Resolved,Must have,Logout must not rely on a session,Bastian Waidelich,Bastian Waidelich,2011-10-27 04:36,Security,1.0.1,2011-10-26,"","",100,2011-10-26 07:07,"","",334800,"",FLOW3 1.0.0,"@AuthenticationProvider::logout()@ currently throws an Exception if no session has been initialized yet (due to the ""loggedOut"" signal, the Session listens to)."
31339,TYPO3.Flow,Task,"",On Hold,Could have,Search,rottenrice no-lastname-given,"",2012-06-21 06:17,- Documentation -,"",2011-10-27,"","",0,2011-10-27 07:18,"","",336200,"","",a search would be nice. at the moment i use google what is not pleasant.
31363,TYPO3.Flow,Bug,"",Resolved,Should have,Windows newline in annotation block throws exception,Christof Rodejohann,Karsten Dambekalns,2011-12-21 11:06,Reflection,1.0.2,2011-10-27,"","",100,2011-10-27 14:11,"","",337400,"",FLOW3 1.0.0,"If a class annotation contains Windows newline character instead of the expected UNIX version, FLOW3 will quit with an Uncaught Exception.

Because of this a fresh clone from /FLOW3/Distributions/Base.git might fail under some circumstances (Windows and git config ""core.autocrlf = true""). This can be avoided with a correct git configuration, which is now documented in the wiki ( http://forge.typo3.org/projects/flow3/wiki/Installation_hints8 ). An example exception thrown by this configuration can be found here: http://pastebin.de/raw/?id=19666 and the bug under http://forge.typo3.org/issues/31087 is related to this issue.

The expected behavior is FLOW3 working with Windows new-line in annotations block.

PS: Thx to the #flow3 IRC channel and afoeder for figuring this out."
31373,TYPO3.Flow,Feature,"",Rejected,Could have,Annotation to enforce validation on setter,Christian Müller,"",2012-03-14 12:46,Validation,1.1,2011-10-28,"","",0,2011-10-28 04:03,"","",337900,"","",Something like @FLOW3\ValidateOnSet which you can annotate to a setter in a model. On each call the generated proxy should check the validation rules for this property before setting and if validation fails throw some error.
31380,TYPO3.Fluid,Bug,"",Resolved,Should have,DocComment of Form.ValidationResultsViewHelper is incorrect,Adrian Föder,Karsten Dambekalns,2012-05-30 15:56,ViewHelpers,1.0.5,2011-10-28,"","",100,2011-10-28 10:36,"","",338250,"",Git 1.0,"The current DocBlock says:
<pre>
 * <f:form.validationResults>
 *   <f:if condition=""{validationResults.flattenedErrors}"">
 *     <ul class=""errors"">
 *       <f:for each=""{errors}"" as=""error"">
 *         <li>{error.code}: {error}</li>
 *       </f:for>
 *     </ul>
 *   </f:if>
 * </f:form.validationResults>
</pre>
(see the comment at the getFlattenedErrors() function:
@ Get a list of all Error objects recursively. The result is an array,
	  where the key is the property path where the error occured, and the
	  value is a list of all errors (stored as array)@)



so due to that error result nesting, it should read:

<pre>
<f:form.validationResults>
	<f:if condition=""{validationResults.flattenedErrors}"">
		<dl class=""errors"">
			<f:for each=""{validationResults.flattenedErrors}"" as=""errors"" key=""propertyPath"">
				<dt>{propertyPath}</dt>
				<dd><dl>
					<f:for each=""{errors}"" as=""error"">
						<dt>{error.code}</dt>
						<dd>{error}</dd>
					</f:for>
				</dl></dd>
			</f:for>
		</dl>
	</f:if>
</f:form.validationResults>
</pre>

(disregard the fact that I use dl's here, although I like them more when it comes to nestings)"
31451,TYPO3.Fluid,Bug,"",Closed,Should have,Fluid XSD Generator uses removed method,Julian Wachholz,Bastian Waidelich,2012-02-23 14:54,"","",2011-10-31,"","",0,2011-10-31 06:40,"","",341750,"",Git master,"When trying to generate an XSD to use with my Editor the following Exception gets thrown:

    Fatal error: Call to undefined method TYPO3\FLOW3\Object\ObjectManager::getRegisteredObjects() in TYPO3\Fluid\Service\AbstractGenerator.php:70

This method has either been removed or renamed, but unfortunately couldn't find out where it went.

(This could also be seen as task to update the Fluid controllers to the new Syntax, e.g. use @FLOW3\Inject instead of injectFoo methods)"
31452,TYPO3.Flow,Bug,"",Resolved,Should have,IgnoreValidation with argumentName does not work for ActionController,Christopher Hlubek,Christopher Hlubek,2011-11-02 04:36,MVC,1.0.1,2011-10-31,"","",100,2011-10-31 06:44,"","",341800,"",FLOW3 1.0.0,"The following code will not work as expected:

<pre>
/**
 * @param \TYPO3\FLOW3\Tests\Functional\MVC\Fixtures\Controller\TestObjectArgument $argument
 * @FLOW3\IgnoreValidation(argumentName=""$argument"")
 */
public function showObjectArgumentAction(TestObjectArgument $argument) {
	return $argument->getEmailAddress();
}
</pre>

The ActionController still use getMethodTagsValues to get ignored arguments."
31474,TYPO3.Flow,Bug,"",Resolved,Should have,DoctrineCommandController::dqlCommand() uses removed method TYPO3\FLOW3\MVC\CLI\Request::getCommandLineArguments(),Johannes K,Johannes K,2011-11-04 08:06,Command,1.0.1,2011-10-31,"","",100,2011-10-31 14:18,"","",342900,"",FLOW3 1.0.0,"The method TYPO3\FLOW3\MVC\CLI\Request::getCommandLineArguments() does not exist anymore.
DoctrineCommandController::dqlCommand should call the method TYPO3\FLOW3\MVC\CLI\Request::getExceedingArguments() instead
"
31482,TYPO3.Kickstart,Feature,"",Resolved,Should have,"Usage of ""./flow3 kickstart:model"" should be better",Dietrich Heise,Bastian Waidelich,2012-11-21 06:14,"","",2011-11-01,"","",100,2011-11-01 06:27,"","",343300,"","","./flow3 help kickstart:model 

Outputs

USAGE:
  ./flow3 kickstart:model [<options>] <package key> <model name>


Should be something like

USAGE:
  ./flow3 kickstart:model [<options>] <package key> <model name> [<argument:type>]..."
31484,TYPO3.Flow,Feature,"",Needs Feedback,Could have,possibility to modify inner workings of proxy class builder,Jordy de Jong,"",2012-03-14 13:10,"","",2011-11-01,"","",0,2011-11-01 07:32,"","",343400,"","","It would be nice if there was some way to modify the inner workings of the Proxy Class Builder.

My use case: we want to be able to define the properties of our domain models, and the corresponding validations, in an external data dictionary / meta data repository. This way, properties can be easily be added to the domain without the the need for a developer. Also this way package X can easily add properties to a domain model defined in package Y, without the need for ""tedious"" developer work like creating new extending classes, adding getters and setters, etc. When generating the proxy classes for our domain model, I would like to be ablo to read the defined meta data for the domain model and use this to add properties to the generated domain model classes.

I'm not sure if this scenario fits the FLOW3 philosophy (if it is, maybe it's somthing we can contribute to the project) but at least it would be nice if it was possible to build this without hacking FLOW3"
31494,TYPO3.Kickstart,Bug,"",Resolved,Should have,Generated create action in CRUD controller has wrong doc comment,Andreas Wolf,Andreas Wolf,2011-11-02 04:36,"",1.0.1,2011-11-01,"","",100,2011-11-01 16:33,"","",343850,"",FLOW3 1.0.0,"In the create action of a CRUD controller, the parameter is $newSomething, while the docblock says it's $something. This leads to e.g. a warning in PHPstorm."
31500,TYPO3.Flow,Bug,"",Under Review,Must have,Argument validation for CLI requests is not done,Karsten Dambekalns,Karsten Dambekalns,2014-02-24 08:00,Validation,"",2011-11-02,"","",0,2011-11-02 03:29,"","",344150,"",FLOW3 1.0.0,"There is no code in place to validate CLI arguments. A first patch is available at https://review.typo3.org/#change,6014 - it's clearly WIP, though."
31502,TYPO3.Flow,Bug,"",Resolved,Must have,Validation during persistence got lost in Doctrine addition,Karsten Dambekalns,Karsten Dambekalns,2011-12-19 16:37,Validation,1.0.2,2011-11-02,"","",100,2011-11-02 03:34,"","",344250,"",FLOW3 1.0.0,When Doctrine 2 was introduced our own persistence backend was removed - but it was the place where validation upon persistence was invoked. This was not discovered as there was no test covering this and argument validation is still working.
31520,TYPO3.Flow,Bug,"",Rejected,Should have,Reflection Service's getPropertyAnnotations() doesn't respect @var annotations,Adrian Föder,Karsten Dambekalns,2011-12-14 09:38,Reflection,"",2011-11-02,"","",0,2011-11-02 13:34,"","",345150,"",FLOW3 1.0.0,"When calling 
@getPropertyAnnotations()@ or
@getPropertyAnnotation()@
of @\TYPO3\FLOW3\Reflection\ReflectionService@

the @var annotations are omitted as if they weren't there.

In contrast, e.g. @getPropertyTagValues()@ works for that."
31522,TYPO3.Flow,Bug,"",Resolved,Must have,ReflectionService prevents model from extending abstract base model without repository,Marc Neuhaus,Karsten Dambekalns,2012-07-18 05:31,Reflection,1.1 RC2,2011-11-02,"","",100,2011-11-02 15:10,"","",345250,"",FLOW3 1.0.0,"Hey!

i ran into some difficulties with using a base class for my models. The ""ensureAggregateRootInheritanceChainConsistency"" function of the ReflectionService prevents me from extending my Models from another class. 

I attached a diff to allow the extending from abstract classes.

Greetings Marc"
31642,TYPO3.Flow,Bug,"",Resolved,Should have,call a cli script with absolute path doesn't work,Dietrich Heise,Bastian Waidelich,2012-12-12 03:16,Cli,2.0 beta 1,2011-11-07,"","",100,2011-11-07 06:07,"","",351150,"",FLOW3 1.0.0,"[foobar ~]$ /var/www/htdocs/flow3
string(59) ""/var/www/htdocs/Packages/Framework/TYPO3.FLOW3/Classes/Core""
string(0) """"
FLOW3: Invalid root path. (Error #1248964375)
""/"" does not lead to
""/var/www/htdocs/Packages/Framework/TYPO3.FLOW3/""

If the script is called from the directory /var/www/htdocs

[foobar /var/www/htdocs]$ ./flow3
FLOW3 1.0.0 (""Development"" context)
usage: ./flow3 <command identifier>

See './flow3 help' for a list of all available commands.

"
31658,TYPO3.Fluid,Bug,"",Resolved,Should have,Inconsistency: Change argument handling of widget ViewHelpers,Sebastian Kurfuerst,"",2011-11-08 00:06,ViewHelpers,1.1 beta 1,2011-11-08,"","",100,2011-11-08 00:01,"","",351850,"",FLOW3 1.0.0,"* Change action parameter from ""action"" to ""@action""
* Add ""@format"" parameter
"
31667,TYPO3.Fluid,Bug,"",Resolved,Should have,AJAX widgets broken when called inside a loop,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-11-12 14:56,Widgets,1.0.1,2011-11-08,"","",100,2011-11-08 05:35,"","",352300,"",FLOW3 1.0.0,"As ViewHelpers are supposed to be stateless they were create once per
RenderingContext and reused whenever the RenderingContext fits.
Some ViewHelpers are not stateless, e.g. AJAX widgets.

AJAX widgets push their WidgetContext into an AjaxWidgetContextHolder
before they get rendered.

As soon as AJAX-WidgetViewHelpers were used multiple times within the
same RenderingContext (widgets in ForViewHelpers for example) differet
widgets share the same ViewHelper containing the same WidgetContext.
Because the WidgetContext contains all statefull information about a
widget, only the last rendered widget gets stored in the ContextHolder.
That makes equal AJAX widgets within a for-loop impossible because
each GUI representation interacts with only the last rendered PHP object.
"
31677,TYPO3.Flow,Bug,"",Resolved,Must have,Using current.securityContext Policies.yaml entities section triggers Parser Error,Ferdinand Kuhl,"",2012-04-26 08:38,Security,1.1,2011-11-08,"","",100,2011-11-08 07:52,"","",352750,"",Git master,"If you use some Content Security Rule like:

resources:
  entities:
    DigiComp_Fairdrive_Domain_Model_Disposition:
      DigiComp_Fairdrive_ForeignDispositions: this.createdfrom != current.securityContext.party

FLOW3 will crash completely with:

: Parse error: syntax error, unexpected $end in [...]FLOW3/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Security_Aspect_PersistenceQueryRewritingAspect_Original.php(374) : eval()'d code"
31678,TYPO3.Flow,Feature,"",Resolved,Should have,Support BCrypt (Blowfish crypt) password hashing,Christopher Hlubek,Christopher Hlubek,2011-12-21 06:38,Security,1.1 beta 1,2011-11-08,"","",100,2011-11-08 08:03,"","",352800,"","",Password hashing with BCrypt should be supported and used as the default password hashing strategy.
31679,TYPO3.Flow,Feature,"",Resolved,Should have,Support multiple password hashing strategies,Christopher Hlubek,Christopher Hlubek,2011-12-21 06:38,Security,1.1 beta 1,2011-11-08,"","",100,2011-11-08 08:40,"","",352850,"","","The security framework should support multiple password hashing strategies. An identifier could be used to differentiate between different implementations. The hashed passwords should be self-descriptive, such that they contain an identifier for the password hashing strategy to use for validating the hashed password.

This allows an easy transition from PBKDF2 to BCrypt or other hashing strategies in the future. It also allows for the usage of different security levels in one application ."
31683,TYPO3.Flow,Bug,"",Closed,Should have,$joinPoint->getMethodArguments() looses the reference of the argument,Fernando Arconada,"",2012-03-14 13:13,AOP,"",2011-11-08,"","",0,2011-11-08 10:21,"","",353050,"",Git master,"For example
I have a aspect:
<pre>
         /**
	 * Register every exception 
	 *
	 * @FLOW3\AfterThrowing(""class(F2\MyPackage\.*)"")
	 * @param \TYPO3\FLOW3\AOP\JoinPointInterface $joinPoint
	 * @return void
	 */
	public function logException(\TYPO3\FLOW3\AOP\JoinPointInterface $joinPoint) {
		if ($joinPoint->hasException()) {
			$exception = $joinPoint->getException();
			$this->logger->log('Excepcion: ' . $joinPoint->getClassName() . ' ' . $exception->getMessage());
		}
	}
</pre>

Now I tried to write a RoutePartHandler, the  removeMatchingPortionFromRequestPath()  uses one argument by reference.
<pre>
class FileRoutePartHandler extends  \TYPO3\FLOW3\MVC\Web\Routing\DynamicRoutePart{
    protected function findValueToMatch($routePath)
    {
        $matches = array();
        preg_match('/^[0-9]{4}\/[0-9]{2}\/[0-9]{2}\/[a-z0-9\-]+/', $routePath, $matches);
        $result = (count($matches) === 1) ? current($matches) : '';
        return $result;
    }

}
</pre>

Then FLOW3 fires an exception (see attachment)


If I disable the Aspect then It works
"
31696,TYPO3.Flow,Bug,"",Resolved,Should have,TYPO3\FLOW3\Persistence\Doctrine\Query __sleep  __wakeup cycle defect,Ferdinand Kuhl,Sebastian Kurfuerst,2011-11-12 15:05,Persistence,1.0.1,2011-11-09,"","",100,2011-11-09 02:13,"","",353700,"",FLOW3 1.0.0,"If you pass a query result to an ajax-widget and execute it there, it substantially changes from the original query.

If you used complex ""where"" - criterions which involves joins, the parameters at the ajax-side leads to an error, because the joins will vanish during this process.
"
31698,TYPO3.Flow,Feature,"",Resolved,Should have,HMAC Convenience methods in HashService,Bastian Waidelich,Bastian Waidelich,2011-12-21 06:38,Security,1.1 beta 1,2011-11-09,"","",100,2011-11-09 03:49,"","",353800,"","","The Cryptography\HashService currently comes with two methods for creating & validating HMAC hashes: @generateHmac()@ and @validateHmac()@.
That requires the user to deal with the actual string and it's hash individually.
I suggest to add two methods @appendHmac()@ and @validateAndStripHmac()@ that allows the user to simply append the HMAC to a given string."
31765,TYPO3.Fluid,Feature,"",Resolved,Should have,Forward to Action of widgetController,Carsten Bleicker,Bastian Waidelich,2014-07-11 14:39,Widgets,"",2011-11-11,"","",100,2011-11-11 12:40,"","",357150,"","","widget controller has 2 actions:
1. indexAction
2. createAction

after createAction i want to forwad to the indexAction again.
but doesnt work. getting a white page withoud any result by using $this->forward('index).
any ideas to do something like a forward inside of the widget controller?

thanks
carsten"
31773,TYPO3.Flow,Bug,"",Resolved,Should have,"Query Parameter ""_"" triggers Notice ""Uninitialized string offset: 1"" ",Johannes K,Johannes K,2011-11-14 13:36,MVC,1.0.1,2011-11-12,"","",100,2011-11-12 08:14,"","",357550,"",FLOW3 1.0.0,"If FLOW3 gets a Request with a parameter named ""_"" the code check for an internal argument in TYPO3\FLOW3\MVC\Web\Request::setArgument() fails with a PHP Notice: Uninitialized string offset: 1 in line 362

http://flow3.localhost/?_=123

This happens e.g. in jQuery ajax calls do to avoid caching"
31777,TYPO3.Flow,Feature,"",Resolved,Should have,SubRoutes should allow routes starting or ending with /,Alexander Berl,Bastian Waidelich,2012-11-26 10:35,MVC - Routing,"",2011-11-12,"","",100,2011-11-12 12:46,"","",357750,"","","*Following scenario:*

I have a new FLOW3 application and want to include another application with a special route prefix. I choose the Blog example for simplicity leading to the following Routing setup in my global Routes.yaml:

<pre>
-
  name: 'Blog'
  uriPattern: 'blog/<BlogSubroutes>'
  defaults:
    '@package':    'TYPO3.Blog'
    '@format':     'html'
  subRoutes:
    BlogSubroutes:
      package: TYPO3.Blog
</pre>

This causes a FLOW3 Exception when calling the uri /blog with the message:
<pre>
The URI pattern ""blog/"" of route ""Blog :: Fallback rule"" ends with a slash, which is not allowed. You can put the trailing slash in brackets to make it optional.
</pre>

However, putting the slash into round brackets isn't a solution, since multiple optional route parts aren't allowed, which cannot be prevented when including external applications, and when calling /blog I end up at /blogadmin/setup which is obviously not the intended Fallback route way, nor the correct path.
""flow3 routing:list"" doesn't complain about this route btw.

The solution would be to remove the slash from the uriPattern and edit the TYPO3.Blog Routes.yaml to have all non-Fallback routes start with a slash.
However, then the Blog could not be inserted as the main Route, i.e. uriPattern: '<BlogSubroutes>', without editing the Routes.yaml file again, to avoid the Exception that Routes may not *start* with a slash.

*Feature Request:*
Hence I suggest to change the behaviour to allow SubRoutes to end with a slash, if not generally, then at least for the case that the subroute is empty (i.e. the Fallback case).

The line of code in question is TYPO3\FLOW3\MVC\Web\Routing\Route:542 as of FLOW3 1.0
<pre>
if (substr($this->uriPattern, -1) === '/') {
	throw new \TYPO3\FLOW3\MVC\Exception\InvalidUriPatternException('The URI pattern ""' . $this->uriPattern . '"" of route ""' . $this->getName() . 
		'"" ends with a slash, which is not allowed. You can put the trailing slash in brackets to make it optional.', 1234782997);
}
</pre>
Since the routes are merged by the ConfigurationManager beforehand it's not easy to check if the current subroutes' uriPattern is empty at this location. This would either require keeping the subroute parts in the Route object, or the easy solution would be to just remove these lines and possibly replace them with
<pre>
$this->uriPattern = rtrim($this->uriPattern, '/');
</pre>

which I'm not sure about the consequences yet.
"
31779,TYPO3.Flow,Bug,"",Closed,Should have,Command execution on Windows breaks with special chars in path,Alexander Berl,Bastian Waidelich,2012-02-12 13:44,Core,"",2011-11-12,"","",0,2011-11-12 17:38,"","",357850,"",Git master,"Currently, FLOW3 has problems executing shell commands on Windows when the php binary path contains special characters such as backslash, whitespace or round brackets.

*Steps to reproduce*
Setup FLOW3 on a windows machine (here using ZendServer CE on Windows7 x64) having PHP binary in a folder that contains whitespaces or other special characters.
Configure php binary path in Settings.yaml like this:
<pre>
    core:
      phpBinaryPathAndFilename: 'C:\Program Files (x86)\Zend\ZendServer\bin\php.exe'
</pre>


*Expected*
The correct escaped path should be:
<pre>
""C:\Program Files (x86)\Zend\ZendServer\bin\php.exe""
</pre>


*Actual*
_escapeshellcmd()_ escapes the path as:
<pre>
C:^\Program Files ^(x86^)^\Zend^\ZendServer^\bin^\php.exe 
</pre>

This leads to error messages like the following (in German, but the problem should be clear) when executing flow3 shell commands (e.g. ""flow3 routing:list"")
<pre>
Der Befehl ""C:\^Program"" ist entweder falsch geschrieben oder
konnte nicht gefunden werden.
</pre>

and prevents the cache compilation to work automatically in Development context.

*Solution*
The correct escaping is achieved by replacing the _escapeshellcmd_ call by _escapeshellarg_ for Windows OSes.
The attached patch wraps this choice in a new protected function escapeShellCmd inside TYPO3\FLOW3\Core\Bootstrap.
"
31781,TYPO3.Flow,Bug,"",Resolved,Should have,Report issue link in Debug Exception is incorrect,Alexander Berl,"",2011-11-16 09:06,Error,"",2011-11-13,"",0.00,100,2011-11-12 18:52,"","",357950,"",Git master,"Function _getCreateIssueLink_ of TYPO3\FLOW3\Error\DebugExceptionHandler:181 returns a link to
http://forge.typo3.org/projects/package-flow3/issues/new?...
where it should be
http://forge.typo3.org/projects/package-typo3-flow3/issues/new?...
"
31788,TYPO3.Flow,Feature,"",Rejected,Should have,[PERFORMANCE] cache implementation for AnnotationReader in Flow3AnnotationDriver,rottenrice no-lastname-given,Karsten Dambekalns,2012-03-07 10:07,Reflection,"",2011-11-13,"","",0,2011-11-13 10:54,"","",358300,"","","doctrine has classes to cache the parsed annotations. with cached annotations you can boost the parsetime by ~200ms (=15%, tested with TYPO3.Blog).

some caching strategies:
<pre>
$this->reader = new \Doctrine\Common\Annotations\CachedReader(
    new \Doctrine\Common\Annotations\IndexedReader(new \Doctrine\Common\Annotations\AnnotationReader()), 
    new \Doctrine\Common\Cache\ApcCache()
);
</pre><pre>
$this->reader = new \Doctrine\Common\Annotations\CachedReader(
    new \Doctrine\Common\Annotations\IndexedReader(new \Doctrine\Common\Annotations\AnnotationReader()), 
    new \Doctrine\Common\Cache\ArrayCache()
);
</pre><pre>
$this->reader = new \Doctrine\Common\Annotations\FileCachedReader(
    new \Doctrine\Common\Annotations\IndexedReader(new \Doctrine\Common\Annotations\AnnotationReader()), 
    CACHING_DIR
);
</pre>

it would be better to use the Objects.yaml to set the caching strategy instead of using __construct()


<pre>
/**
 * @var \Doctrine\Common\Annotations\AnnotationReader
 */
protected $reader;
</pre>i think it is better to use the interface \Doctrine\Common\Annotations\Reader 

--
class: TYPO3\FLOW3\Persistence\Doctrine\Mapping\Driver\Flow3AnnotationDriver"
31789,TYPO3.Flow,Bug,"",Closed,Must have,methodAnnotatedWith in AOP doesn't work,Marc Neuhaus,Karsten Dambekalns,2011-12-16 05:30,AOP,1.0.2,2011-11-13,"","",100,2011-11-13 17:06,"","",358350,"",FLOW3 1.0.0,"There is a problem with the PATTERN_MATCHPOINTCUTDESIGNATOR in the class PointcutExpressionParser.php on line 133.

if you try to create an methodAnnotatedWith aspect it fails, because the regex captures only method and not methodAnnotatedWith.

Greetings Marc"
31803,TYPO3.Flow,Feature,"",Resolved,Should have,Accessing Query Builder,Carsten Bleicker,"",2015-03-05 08:31,Persistence,"",2011-11-14,"","",100,2011-11-14 09:28,"","",359050,"","","Hi Folks,
i need a special query with additional fields in select statement and a HAVING.
for example:
$query = ""SELECT ort, plz, (
 "".$radius."" * SQRT(2*(1-cos(RADIANS(geo_b)) * 
 cos("".$rad_b."") * (sin(RADIANS(geo_l)) *
 sin("".$rad_l."") + cos(RADIANS(geo_l)) * 
 cos("".$rad_l."")) - sin(RADIANS(geo_b)) * sin("".$rad_b."")))) AS Distance 
 FROM plz Having Distance <= "".$umkreis."" 
 ORDER BY Distance
"";


as far as i know i can add special fields with:
$this->queryBuilder()->add(); by the queryBuilder of \TYPO3\FLOW3\Persistence\Doctrine\Query.
But the query builder is protected and there is no getter for it.
It is a good or a bad idea to add public function getQueryBuilder into the Query Class to enable a usage like:
$this->query->getQueryBuilder->add('select'...)?

if anybody could tell me how to do the query above, please tell me.

thanks a lot!
carsten"
31896,TYPO3 Flow Base Distribution,Feature,"",Resolved,Must have,Make Surf release job interact with release plugin on website,Karsten Dambekalns,Karsten Dambekalns,2011-11-22 11:14,Build Process,1.0.1,2011-11-17,"","",100,2011-11-17 16:45,"","",363650,"","",The Surf release job should register the created release and the corresponding downloads
31905,TYPO3.Flow,Bug,"",Resolved,Should have,getInterceptedRequest is NULL but ACL matches correctly DENY,Carsten Bleicker,"",2012-05-08 08:38,Security,1.0.5,2011-11-18,"","",100,2011-11-18 03:29,"","",364100,"",FLOW3 1.0.0,"hi folks,
i had defined an policy for one method wich allows only access if a role exists.
if i call this method without any matching token i will be redirected to the defined WebRedirect.
so anything works fine. but the getInterceptedRequest() of the security contenxt is NULL. it only holds
an interceptRequest if the security matches a second time again. I think there is something wrong with the session?

f.e:
getInterceptedRequest() is NULL if:
# init very first visit of my site provides a form wich sends to the controller with policy.
# submitting this form
# i will get redirected to login
# getInterceptedRequest() is NULL

getInterceptedRequest() is filled correctly if:
# init very first visit of my site provides a form wich sends to the controller with policy.
# submitting this form
# i will get redirected to login
# getInterceptedRequest() is NULL
# *going back*
# submitting again
# getInterceptedRequest() is filled correctly

any ideas?

"
31909,TYPO3.Flow,Feature,"",Resolved,Should have,Add more routing: cli-informations ,Martin Ficzel,"",2011-12-21 06:38,MVC - Routing,1.1 beta 1,2011-11-18,"","",100,2011-11-18 05:27,"","",364300,"","","The routing should be explorable from the cli. I suggest to implement the following commands:

# routing:show show informations for a single route
# routing:resolve show the generated path for a given controller
# routing:route show the controller a request would be routed to"
31912,TYPO3.Flow,Bug,"",Closed,Should have,Redirect in AbstractController and WebRedirect,Carsten Bleicker,Bastian Waidelich,2011-11-18 06:42,MVC,1.0.1,2011-11-18,"","",0,2011-11-18 06:04,"","",364450,"",FLOW3 1.0.0,"the redirecting works atm by default with http refresh header.
there should be a change for AbstractController::redirectToUri to:
$this->response->setHeader('Location', (string)$uri, true);
and in WebRedirect::startAuthentication to:
$response->setHeader('Location', $plainUri, true);



"
31931,TYPO3.Flow,Bug,"",Resolved,Should have,AuthenticationController is not working anymore,Christian Müller,Christian Müller,2012-01-13 11:02,MVC,1.0.3,2011-11-18,"","",100,2011-11-18 10:24,"","",365400,"",FLOW3 1.0.0,"The AuthenticationController has not been adapted to the recent changes in the FlashMessage API. Furthermore, users reported that the redirect to the previous request (on error) did not work. It work though after removing the second condition in the following if-statement in the PhpSession->start() method:

 if ($this->started === FALSE && isset($_COOKIE[session_name()])) {

(remove the isset(...))

"
31939,TYPO3.Fluid,Bug,"",Resolved,Must have,preselection with a multiple form.select with a M:N relation,Matthias Habegger,"",2013-01-21 11:22,ViewHelpers,"",2011-11-19,"","",100,2011-11-19 05:37,"","",365800,"",FLOW3 1.0.0,"I have a M:N relation between my two model ""book"" and ""category"".


Now I try to create a multiple select with the SelectViewHelper like that:
<pre>
<f:form.select property=""categories"" options=""{categories}"" optionLabelField=""name"" multiple=""multiple"" size=""7"" />
</pre> 

{categories} is a variable assigned in the controller.
that works fine, all, categories are shown in the select.


The problem is, that none of my preselected categories are selected.

The html output looks like that:
<pre>
<input type=""hidden"" name=""book[categories]"" value="""" />
<select id=""categories"" multiple=""multiple"" size=""7"" name=""book[categories][]"">
<option value=""0bc305ec-8aff-4fa8-bdeb-476d7c21c841"">Novels</option>
<option value=""8c2221e3-a3fd-4ce2-8f7e-66aac9eed5f5"">Second Category</option>
<option value=""c1ca0c2d-08c4-4b22-b9c7-69bbd42de840"">Third category</option>
</select>
</pre>

I analized the problem and it seems, that the method ""getSelectedValue"" in the ""SelectViewHelper"" can't handle multiple preselects.

I think the problem is also in the blog-tutorial when you try to edit post which already has related posts, they are not selected."
31942,TYPO3.Flow,Feature,"",Rejected,Should have,new act like objectmanager->create?,Carsten Bleicker,Karsten Dambekalns,2011-12-14 09:59,Object,"",2011-11-19,"","",0,2011-11-19 07:23,"","",365950,"","","hi folks,
maybe its usefull that new acts like the objectmanager to make it easy to change objects by object.yaml?
for examlpla:
new MyModel();
this could be analyzed by looking for interface implementation for this object.
if it has, take a look in objects. yaml config for this interface config and initialized the defined
class. what do you think?

concret problem for me was, that i had to add a public function to the doctrine query object to get access
to the queryBuilder parameter. i had to add in objects.yaml a new persistencemanager and a new query object.
if i would have the upper functionality the new \TYPO3\FLOW3\Doctrine\PersistenceManager::createQueryForType() knows
about my new Query Object.

kind regards
carsten"
31955,TYPO3.Fluid,Feature,"",New,Should have,f:uri.widget,Carsten Bleicker,"",2011-11-22 06:27,Widgets,"",2011-11-21,"","",0,2011-11-21 04:52,"","",366600,"","","f:link.widget should have the possibility to make the links absolute
and should be able to set controller etc of parentRequest to stay on the current page
if <f:base> is in use. at the moment there are only relative links, right?
there should also be a <f:from.widget> wich should clean the current widget config out of the
subrequest. otherwise all widget get params will be added again and after 10 klicks on the form
the uri will be more then allowed characters."
31957,TYPO3.Flow,Task,"",Resolved,Could have,Use curly braces instead of hashes in NotFoundView,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,MVC,1.1 beta 1,2011-11-21,"","",100,2011-11-21 05:13,"","",366700,"","","The NotFoundView and it's template use ### as variable delimiter. This is inconsistent with Fluid using curly braces, even if at that point there is no Fluid anywhere nearby."
31974,TYPO3.Flow,Bug,"",Resolved,Must have,Date formatting in translations is broken,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,I18n,1.1 beta 1,2011-11-22,"","",100,2011-11-21 18:20,"","",367550,"",Git master,"Well, it doesn't work. At all. The ""default"" format length is not read correctly and from there errors propagate."
31975,TYPO3.Flow,Bug,"",Resolved,Must have,Plural forms in XLIFF translations do not work,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,I18n,1.1 beta 1,2011-11-22,"","",100,2011-11-21 18:24,"","",367600,"",Git master,Using plurals forms does not work like it should.
31997,TYPO3.Flow,Bug,"",Resolved,Should have,Security Context::hasRole should also work recursively; this makes <f:security.ifHasRole> work recursively as well,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-03-20 09:39,Security,1.1,2011-11-22,"","",100,2011-11-22 11:12,"","",368700,"",FLOW3 1.0.0,"Security Context::getRoles() returns ALL roles, while Security Context::hasRole checks only inside the first-level roles of the token. This needs to be fixed and made consistent.

"
32005,TYPO3.Welcome,Bug,"",Resolved,Should have,Links to FLOW3 website are broken,Karsten Dambekalns,Karsten Dambekalns,2011-12-08 11:36,"",1.0.2,2011-11-22,"","",100,2011-11-22 15:43,"","",369100,"",FLOW3 1.0.1,.
32014,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,Some unit tests break when run with PHPUnit 3.6,Karsten Dambekalns,Karsten Dambekalns,2011-12-22 02:48,- Testing -,1.0.2,2011-11-23,"","",100,2011-11-23 04:23,"","",369550,0.00,FLOW3 1.0.1,"When using PHPUnit 3.6 to run the unit tests, some tests fail. Partly this is caused by new restrictions in PHPUnit (one must no longer expect the generic Exception class) partly the more strict behavior of PHPUnit uncovers real bugs in the tests. Affected are tests in FLOW3 and Fluid."
32015,TYPO3.Flow,Bug,Bug #32014: Some unit tests break when run with PHPUnit 3.6,Resolved,Must have,Unit tests fail with PHPUnit 3.6,Karsten Dambekalns,Karsten Dambekalns,2011-12-19 16:06,- Testing -,1.0.2,2011-11-23,"","",100,2011-11-23 04:23,"","",369600,"",FLOW3 1.0.1,.
32016,TYPO3.Fluid,Bug,Bug #32014: Some unit tests break when run with PHPUnit 3.6,Resolved,Must have,Unit tests fail with PHPUnit 3.6,Karsten Dambekalns,Karsten Dambekalns,2011-12-09 09:06,"",1.0.2,2011-11-23,"","",100,2011-11-23 04:24,"","",369650,"",FLOW3 1.0.1,.
32035,TYPO3.Fluid,Task,"",New,Should have,Improve fluid error messages,Georg Ringer,"",2012-01-27 09:59,Core,"",2011-11-23,"","",0,2011-11-23 09:01,"","",370550,"","","The error messages of fluid could be a bit more helpful

Instead of 'Argument ""fo"" was not registered' use 'Argument ""fo"" was not registered for ""f:image""'

Instead of 'Required argument ""src"" was not supplied for ""f:image""'

so it is far easier to search for the error.

I don't know how a filename could be handled as this would be even more helpful"
32049,TYPO3.Flow,Bug,"",Resolved,Should have,Check for stripped comments not working,Karsten Dambekalns,Karsten Dambekalns,2011-12-09 11:36,Core,1.0.2,2011-11-24,"","",100,2011-11-24 05:58,"","",371200,"",FLOW3 1.0.1,"The bootstrap checks for the presence of doc comments, to avoid problems with some bytecode caches that strip comments.

That check is not working correctly (FALSE is returned but the check expects an empty string). In case an error is seen, the exception cannot be thrown as well (no classloader available at that point)."
32084,TYPO3.Flow,Feature,"",Resolved,Must have,Configurable base URI,Christopher Hlubek,Christopher Hlubek,2011-12-21 06:38,Core,1.1 beta 1,2011-11-25,"","",100,2011-11-25 05:34,"","",372950,"","","In certain situations and setups (FLOW3 behind loadbalancers, SSL offloading or using AiP) the base URI cannot be derived safely from a request. The base URI used in various parts of the system has to be configurable by the settings."
32105,TYPO3.Flow,Bug,"",New,Must have,IgnoreValidation ignored if ACL is set for this controller action,Carsten Bleicker,"",2011-11-26 05:22,Security,"",2011-11-26,"","",0,2011-11-26 05:22,"","",374000,"",FLOW3 1.0.0,"/**
* Creates a Chat to a specific Person
* @param \BLEICKER\Test\Domain\Model\Person $personToChatWith 
* @FLOW3\IgnoreValidation(""$personToChatWith"")
*/
public function createChatAction(\BLEICKER\Test\Domain\Model\Person $personToChatWith) {
....
}


the @FLOW3\Ignorevalidation has no effect if there is an acl for this controller action is defined so that all
model validations are executed.



"
32106,TYPO3.Flow,Feature,"",Accepted,Should have,Support for Object source in PropertyMapper,Marc Neuhaus,"",2013-06-24 03:59,Property,"",2011-11-26,"","",0,2011-11-26 08:45,"","",374050,"","","Hi,

i'm trying to ditch my old TypeConverters in my Admin Package. I'm trying to replace them with the core TypeConverters by added some Converters to convert from float, boolean, etc to string.

One thing i can't do with the default propertyMapper is to convert from a object like DateTime or a Collection.

Currently i use an extended version of the propertyMapper that allows objects as source type in the determineSourceType function.
I attached a diff for the changes i made.

Would be great to get this into core.

Greetings Marc"
32156,TYPO3.Flow,Feature,"",Rejected,Must have,"No detach() for Doctrine possible, memory problem with large data sets",Peter Russ,Karsten Dambekalns,2012-12-10 07:05,Persistence,2.0 beta 1,2011-11-29,"","",0,2011-11-29 06:12,"","",376500,"","","Running huge queries (i.e. some 10k results) we found that detaching an object isn't available in FLOw3 although there is such a method in Doctrine.
So we decided to add that to the persistence layer. This helps a lot also not completly solving problem of growing memory usage."
32285,TYPO3.Flow,Bug,"",Resolved,Must have,Logout doesn't work anymore in FLOW3 1.0.1,Peter Beernink,Bastian Waidelich,2011-12-21 10:36,Security,1.0.2,2011-12-04,"","",100,2011-12-04 09:16,"","",382950,"",FLOW3 1.0.1,"After updating from FLOW3 1.0.0 to 1.0.1 it is not possible anymore to logout from an authenticated session.


The issue to be introduced by commit:970c615. When I revert those changes I am able to logout again.

I've also tested it on the Blog package. There the same behavior is shown.
It displays the flash message, but in the footer the administration link is still displayed and accessible.


"
32291,TYPO3.Flow,Bug,"",Closed,Should have,Current package version missmatch,Bernhard Fischer,Karsten Dambekalns,2011-12-14 09:45,Package,1.0.2,2011-12-05,"","",0,2011-12-05 03:19,"","",383250,"",FLOW3 1.0.1,"package:list shows the wrong version for the TYPO3.FLOW3 package
it is still 1.0.0 and should be 1.0.1"
32294,TYPO3.Flow,Feature,"",New,Should have,Lazy initialization of loggers,Christopher Hlubek,"",2011-12-05 04:29,"","",2011-12-05,"","",0,2011-12-05 04:29,"","",383400,"","",Log backends could be lazily initialized on first access to append(). Right now each backend is opened on creation of the logger which is not optimal.
32329,TYPO3.Flow,Feature,"",Resolved,Should have,Make target in XLIFF optional if source language equals target language,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,I18n,1.1 beta 1,2011-12-06,"","",100,2011-12-06 07:00,"","",385150,"","","When an XLIFF file does not contain target elements, the source should be used if the source-language of the file equals the target language of translation."
32333,TYPO3.Flow,Feature,"",Resolved,Must have,Modular and configurable bootstrap,Robert Lemke,Robert Lemke,2011-12-21 06:38,Core,1.1 beta 1,2011-12-06,"","",100,2011-12-06 07:52,"","",385350,"","","The bootstrap contains a big amount of specific initialization methods. The order of execution and selection of initialization methods is hardwired in the Bootstrap class. This makes it impossible for package developers to provide alternative boot sequences for specific tasks (such as for a very optimized caching mechanism) and in general results in a rather function-based, sequential code than being object-oriented. 

It thus should be possible to register Request Handlers for specific purposes and those should be in charge of the actual boot sequence which is executed."
32339,TYPO3.Fluid,Feature,"",Resolved,Should have,ResourceViewHelper should support I18n,Karsten Dambekalns,Karsten Dambekalns,2012-12-10 07:16,ViewHelpers,2.0 beta 1,2011-12-06,"","",100,2011-12-06 11:02,"","",385650,"","","The default behavior for the ResourceViewHelper should be to use a localized version if a resource, if available."
32346,TYPO3.Flow,Bug,"",Resolved,Must have,allObjectsPersisted is not triggered after each test,Robert Lemke,Robert Lemke,2011-12-21 06:38,- Testing -,1.1 beta 1,2011-12-06,"","",100,2011-12-06 13:20,"","",386000,"",Git master,"The tearDown() method of the base functional test case clears the persistence manager's state so it is ready for the next test, avoiding side effects.

However, certain repositories (such as the TYPO3CR NodeRepository) rely on the signal ""allObjectsPersisted"" which triggers their internal cleanup function. If this signal is not, sent, the next test will still see added objects stored directly in the repository.

The solution is to call persistAll() in the tearDown() method, even if the just executed test doesn't require it."
32370,TYPO3.Flow,Bug,"",Resolved,Must have,Function getObjectByIdentifier of Generic PersistenceManager not complete ,Benjamin Heek,Karsten Dambekalns,2011-12-21 06:38,Persistence,1.1 beta 1,2011-12-07,"","",100,2011-12-07 07:46,"","",387150,"",FLOW3 1.0.1,"class: TYPO3\FLOW3\Persistence\Generic\PersistenceManager
method:getObjectByIdentifier
line: 207

code:
<pre>
$objectData = $this->backend->getObjectDataByIdentifier($identifier);
</pre>

the method call to `getObjectDataByIdentifier` must also send the $objecttype

<pre>
$objectData = $this->backend->getObjectDataByIdentifier($identifier,$objectType);
</pre>

NOTE:
why is the $objectType default set as `NULL` and not just a required argument?

"
32398,TYPO3.Flow,Feature,"",Resolved,Should have,Freezable Cache Backend,Robert Lemke,Robert Lemke,2011-12-21 06:38,Cache,1.1 beta 1,2011-12-08,"","",100,2011-12-08 09:56,"","",388550,"","","Certain caches are static once they've been filled with data. One example is the classes cache in FLOW3 ? after all proxy classes have been compiled, the cache must never be touched again *in Production context*.

Especially in the mentioned case, a cache backend could work with greatly improved performance if it knew that no changes are to be expected. It could create an index of existing cache entries which is loaded upfront. Existing cache entries could then be loaded right away without the need to check for expiry times or existence."
32415,TYPO3.Flow,Bug,"",Resolved,Must have,Authentication + Doctrine event listeners = apache segfault,Fernando Arconada,Karsten Dambekalns,2012-01-13 11:01,"",1.1,2011-12-09,"","",100,2011-12-09 08:02,"","",389400,"",Git master,"here it is the proof of concept
https://github.com/farconada/F2.PoC

If yout try to login whith a valid username password the apache segfaults
If you disable
$this->persistenceManager->injectEntityManager($entityManager);
the all works


ideas?"
32420,TYPO3.Flow,Bug,"",Resolved,Must have,classesFromSubMatchingPackagesAreLoaded() fails with PHPUnit 3.6,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,- Testing -,1.1 beta 1,2011-12-09,"","",100,2011-12-09 08:51,"","",389650,"",Git master,"The test creates two directories in vfs that are already created in setUp(). That raises a warning, the resulting output triggers a test failure with PHPUnit 3.6."
32421,TYPO3.Flow,Task,"",Resolved,Should have,The functional testcase prints useless output,Karsten Dambekalns,Christopher Hlubek,2011-12-21 06:38,- Testing -,1.1 beta 1,2011-12-09,"","",100,2011-12-09 09:08,"","",389700,"","","@echo (""FLOW3 functional test run\n\n"");@

'nuff said"
32424,TYPO3.Flow,Bug,"",Resolved,Should have,The functional test requesthandler should be used for web requests,Christopher Hlubek,Christian Jul Jensen,2011-12-12 03:06,"","",2011-12-09,"","",100,2011-12-09 10:29,"","",389850,"",Git master,The FunctionalTestCase still has a reference to the @MockWebRequestHandler@ that's not used anymore. The FunctionalTestRequestHandler should be available to all tests as a property and be used in simulated web requests to provide the correct context with the current mock request.
32425,TYPO3.Flow,Bug,"",Accepted,Must have,IpAddressRange methods not completly implemented,Marco Huber,Karsten Dambekalns,2012-06-28 04:23,Security,"",2011-12-09,"","",0,2011-12-09 10:30,"","",389900,"",(any),"The method matchRequest in \TYPO3\FLOW3\Security\RequestPattern\IpAddressRange returns always false and doesn't check the IP-Address.

In the attachet file I used the methods from the good old t3lib_div...

Should I push the patch to gerrit?"
32451,TYPO3.Fluid,Bug,"",Resolved,Should have,Adjust Ajax Widgets to new Bootstrap,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-12-19 09:36,Widgets,1.1 beta 1,2011-12-12,"","",100,2011-12-12 01:51,"","",391200,"",Git master,"The new FLOW3 Bootstrap (#32333) implements new request handlers.
Now, Fluid needs to be adjusted to the new request handlers. however, there is one problem:
The Fluid request handler determines if it can be used depending on whether a certain GET variable is set. For that, it uses the @TYPO3\FLOW3\Utility\Environment@; which is however not yet initialized when canHandleRequest is called.

A workaround would be to use $_GET directly; but can we find a clean solution to this?"
32466,TYPO3.Flow,Bug,"",Resolved,Must have,Strange exception: Invalid annotation,Daniel Ostmann,Karsten Dambekalns,2011-12-15 11:27,Reflection,1.0.2,2011-12-12,"","",100,2011-12-12 04:09,"","",391850,"",FLOW3 1.0.0,"On my localhost everything was fine. When i upload the framework to my server, i got this exception:
<pre>
Uncaught Exception
  The @var annotation for
  ""Pixelbrand\MemberManager\Domain\Model\Contribution::$created"" seems to
  be invalid.

More Information
  Exception code      #1284132314
  File                /var/www/doms/cm.pixelbrand.biz/public_html/Packages/Framework/TYPO3.FLOW3/Classes/Reflection/ReflectionService.php line 1121
  Exception reference #201112120946518ea6d6
</pre>

I tried different upload types (ASCII, binary, auto - i use FileZilla as FTP client), and i tried different linebreaks (NL,CR,both). Nothing works at all...

The lines that throw the exception are:

<pre>
	/**
	 * The created date
	 * @var \DateTime
	 */
	protected $created;
</pre>

I got the same exception when i changed the annotation from DateTime to string or bool.

I think, if i remove this property, then the next one would throw another exception like above. I think so, because it is the first file in model directory and the first property in this model class.

This seems to be similar to #31087.

I'm using PHP5.3.8 with FLOW1.0.1 but this happened to 1.0.0 as well."
32470,TYPO3.Flow,Task,"",Resolved,Should have,Add a cli-command to show and explore the current configuration,Martin Ficzel,Martin Ficzel,2011-12-23 12:29,Configuration,1.1,2011-12-12,"","",0,2011-12-12 05:52,"","",392050,"","","Since the configuration of FLOW3 is complex and comes from many different files it should be possible to show the currently active framework-configuration for better understanding an debugging.

I suggest to implement a ""configuration"" cli-command for that purpose. At first the command-controller will only have a showCommand method but later on it can be extended to evaluate and to write the configuration."
32499,TYPO3.Flow,Bug,"",Resolved,Must have,setfilepermissions doesn't work with ACL correctly,Karsten Dambekalns,Karsten Dambekalns,2011-12-16 14:36,Core,1.0.2,2011-12-13,"","",100,2011-12-13 06:05,"","",393500,"",FLOW3 1.0.1,"After setting up fresh, the set file permissions didn't work correctly."
32503,TYPO3.Flow,Task,"",Resolved,Should have,Clean up emptyDirectoryRecursively() and hex2bin(),Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,Utility,1.1 beta 1,2011-12-13,"","",100,2011-12-13 07:30,"","",393700,"","","The @hex2bin()@ method is violating CGL as if the was no tomorrow and @emptyDirectoryRecursively()@ works but the removal of a symlink is, well, awkward."
32507,TYPO3.Flow,Task,"",Resolved,Should have,Some PHP source files have the execute bit set,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,"",1.1 beta 1,2011-12-13,"","",100,2011-12-13 09:50,"","",393900,"","","Classes/Session/Aspect/LazyLoadingAspect.php
Classes/Session/Aspect/LazyLoadingProxyInterface.php
Classes/Utility/Files.php
Classes/Utility/TypeHandling.php
"
32519,TYPO3.Flow,Bug,"",Resolved,Must have,(Unit test) failures with new class loader,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,Core,1.1 beta 1,2011-12-13,"","",100,2011-12-13 16:02,"","",394500,"",Git master,Two test cases fail with the new class loader. At least in one case that could also break in real life use (package creation).
32530,TYPO3.Flow,Bug,"",Resolved,Must have,forgetClass() cannot forget classes that have left the building,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,Reflection,1.1 beta 1,2011-12-14,"","",100,2011-12-14 04:42,"","",395050,"",Git master,"If a class has been removed, it cannot be forgotten by the new ReflectionService. This is caused by the a @class_implements()@ call on the class name to be forgotten."
32531,TYPO3.Flow,Feature,"",Resolved,Must have,Optimize ReflectionService,Karsten Dambekalns,Robert Lemke,2011-12-21 06:38,Reflection,1.1 beta 1,2011-12-14,"","",100,2011-12-14 04:49,"","",395100,"","",The ReflectionService is slow and uses a whole lot of memory. That needs to be enhanced.
32550,TYPO3.Flow,Bug,"",Resolved,Must have,Files::emptyDirectoryRecursively affects targets of symlinks,Bastian Waidelich,Bastian Waidelich,2011-12-21 16:06,Utility,1.0.2,2011-12-14,"","",100,2011-12-14 10:51,"","",396050,"",FLOW3 1.0.0,@\TYPO3\FLOW3\Utility\Files::removeDirectoryRecursively()@ fails to properly unlink directory symlinks on Windows. Thus @\TYPO3\FLOW3\Utility\Files::emptyDirectoryRecursively()@ iterates through the *target* files of a symlinked folder and removes them!
32552,TYPO3.Flow,Bug,"",Resolved,Must have,PackageStates are saved on each request,Bastian Waidelich,Robert Lemke,2011-12-19 17:07,Package,"",2011-12-14,"","",100,2011-12-14 11:36,"","",396150,"",Git master,"@\TYPO3\FLOW3\Package\PackageManager::initialize()@ always invokes @loadPackageStates()@ which contains the lines
<pre>
if ($this->packageStatesConfiguration === array() && $this->bootstrap->getContext() !== 'Production') {
	$this->scanAvailablePackages();
	[...]
</pre>
@scanAvailablePackages()@ in turn calls @savePackageStates()@ which deletes all shortcut paths and recreates them.

If I get it right this means, that all shortcut paths are recreated for each request. Is this intended?"
32574,TYPO3.Flow,Bug,"",Accepted,Should have,FLOW3 enters fork bombs when using cgi-fcgi vs cli,Jacob Floyd,Karsten Dambekalns,2012-03-07 11:21,Core,"",2011-12-14,"","",0,2011-12-14 17:23,"","",396950,"",Git master,"h3. How I discovered the bug.

I installed FLOW3 (and Typo3 Phoenix) via git yesterday on my shared host. Everything worked fine on CLI including flow3:core:compile. But when I would hit the site via my browser, FLOW3 entered an endless loop of forking new processes (fork bomb) until the ulimit max number of processes (100) is reached, when it gave this error:

@#1: Warning: system() [<a href='function.system'>function.system</a>]: Unable to fork [XDEBUG_CONFIG=&quot;idekey=FLOW3_SUBREQUEST&quot; FLOW3_ROOTPATH='/home/cognifir/public_domains/TYPO3v5/' FLOW3_CONTEXT='Development' &quot;/usr/bin/php&quot; -c '/home/cognifir/.php/php.ini' '/home/cognifir/public_domains/TYPO3v5/Packages/Framework/TYPO3.FLOW3/Classes/Core/../../Scripts/flow3.php' 'typo3.flow3:core:compile'] in /home/cognifir/public_domains/TYPO3v5/Packages/Framework/TYPO3.FLOW3/Classes/Core/Booting/Scripts.php line 423@

Occassionally I'd also get this error in the php5 error log:

@[14-Dec-2011 13:14:22] PHP Fatal error:  Out of memory (allocated 54263808) (tried to allocate 7680 bytes) in /home/cognifir/public_domains/TYPO3v5/Data/Temporary/Development/Cache/Code/Fluid_TemplateCache/typo3_template_fb28020226817cc1696e7cec37ba5786d3434e0e.php on line 65@

However neither of these error messages are particularly helpful, they only point at two symptoms (1) running out of available processes (2) running out of available memory.

By running the command FLOW3 was trying to run I get the following Result:
<pre>
$ XDEBUG_CONFIG=""idekey=FLOW3_SUBREQUEST"" FLOW3_ROOTPATH='/home/cognifir/public_domains/TYPO3v5/' FLOW3_CONTEXT='Development' 
""/usr/bin/php"" -c '/home/cognifir/.php/php.ini' '/home/cognifir/public_domains/TYPO3v5/Packages/Framework/TYPO3.FLOW3/Classes/Core/../../Scripts/flow3.php' 
'typo3.flow3:core:compile'

X-Powered-By: PHP/5.3.8
Content-type: text/html

The FLOW3 command line script or sub process was executed with a 'cgi-fcgi' PHP binary. Make sure that you specified a CLI capable PHP binary in your PATH or FLOW3's Settings.yaml.
</pre>

h3. Resolution

To resolve this, I uncommented (as I wasn't using it before) and set @phpBinaryPathAndFilename: '/user/local/bin/php'@ in Settings.yaml.

h3. Next steps

* I think it would be great to catch this error and exit with a useful exception/error message instead of entering the endless loop of spawning new flow3 processes over and over.
* Also, a note in the manual about using phpBinaryPathAndFilename to point to the CLI php would be helpful. Also, this suggests that it is not just for Windows like the example Settings.yaml indicates."
32587,TYPO3.Flow,Feature,"",Resolved,Could have,Make property mapping exception more verbose,Adrian Föder,Adrian Föder,2011-12-15 09:06,Property,1.0.2,2011-12-15,"","",100,2011-12-15 05:17,"","",397600,"","","Currently an exception while property mapping reads as following:

<pre>
Property ""bazbar"" could not be set in target object of type ""Foo\Bar\Baz\Xyz"".
</pre>

For debugging purposes it would be helpful if it gets

<pre>
Property ""bazbar"" with value type ""Doctrine\Common\Collections\ArrayCollection"" could not be set in target object of type ""Foo\Bar\Baz\Xyz"".
</pre>"
32591,TYPO3.Flow,Task,"",Resolved,Should have,"Remove configuration-types ""Package"" and ""PackageStates"" from configurationManager",Martin Ficzel,Martin Ficzel,2011-12-21 06:38,Configuration,1.1 beta 1,2011-12-15,"","",100,2011-12-15 06:36,"","",397800,"","","The configuration-types ""Package"" and ""PackageStates"" seem to be leftovers from some refactorings. Since they are currently not used any more the code should be removed. "
32599,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Essential packages are not protected,Karsten Dambekalns,Karsten Dambekalns,2011-12-19 15:08,"",1.0.2,2011-12-15,"","",100,2011-12-15 09:30,"","",398200,"",FLOW3 1.0.1,"Some of the packages in the base distribution should be protected (again):

* FLOW3
* Yaml
* Doctrine (all three in master)
* Party
* Fluid"
32606,TYPO3.Flow,Task,"",Resolved,Should have,Provide conventions for ids in XLIFF files,Karsten Dambekalns,Karsten Dambekalns,2012-06-25 11:53,I18n,1.1 RC1,2011-12-15,"","",100,2011-12-15 11:38,"","",398550,"","",.
32607,TYPO3.Flow,Feature,"",Needs Feedback,Should have,Export localized strings for JS consumption,Karsten Dambekalns,Karsten Dambekalns,2013-05-21 07:28,I18n,"",2011-12-15,"","",0,2011-12-15 11:42,"","",398600,"","",We need a way to export all messages of a locale for use in JS on the client side.
32619,TYPO3.Flow,Feature,"",Resolved,Could have,DateTimeRangeValidator,Adrian Föder,Adrian Föder,2012-01-05 01:47,Validation,1.1,2011-12-16,"","",100,2011-12-16 05:03,"","",399200,"","","Provide an additional Validator that checks for Date and Time ranges, i.e. boundaries.

Feel free to add your thoughts regarding naming and option-features here or @Gerrit."
32629,TYPO3.Flow,Bug,"",Closed,Should have,globalObjects are not available in the security (current.securityContext.party),Matthias Habegger,Karsten Dambekalns,2012-02-27 11:35,Security,"",2011-12-16,"","",0,2011-12-16 10:23,"","",399700,"",Git master,"In the file Packages\Framework\TYPO3.FLOW3\Classes\Security\Aspect\PersistenceQueryRewritingAspect.php line 374 is 
<pre>
eval('$globalObject = ' . $this->globalObjects[$objectAccess[1]]);
</pre>
but should be something like
<pre>
$className = '\\' . $this->globalObjects[$objectAccess[1]];
$globalObject = new $className;
</pre>
or in the policy.xml the securityContext is not available, for example
<pre>
resources:
  entities:
    Habex_Library_Domain_Model_Book:
      Habex_Library_OwnBooks: this.owner == current.securityContext.party
</pre>

Even then the current.securityContext seems not to be available."
32631,TYPO3.Flow,Feature,"",Resolved,Should have,Provide command to mark all migrations as executed,Karsten Dambekalns,Karsten Dambekalns,2012-01-17 21:26,Persistence,1.1,2011-12-16,"","",100,2011-12-16 11:14,"","",399800,"","","When setting up a fresh instance of FLOW3 it is not really needed to migrate the DB through all steps. A simple create is a lot faster. To easily mark the DB as fully migrated a new command is needed:

<pre>
./flow3 doctrine:migrationversion all --add
</pre>

The ""all"" will then actas on all available migrations."
32656,TYPO3.Kickstart,Bug,"",Resolved,Should have,"Generated Entities should contain ""use Doctrine\ORM\Mapping as ORM;"" statement",Sebastian Kurfuerst,Sebastian Kurfuerst,2011-12-21 06:38,"",1.1 beta 1,2011-12-18,"","",100,2011-12-18 04:03,"","",401050,"",FLOW3 1.0.1,"Generated Entities should contain ""use Doctrine\ORM\Mapping as ORM;"" statement, as the user most probably needs this later when adjusting the kickstarter output."
32657,TYPO3.Kickstart,Bug,"",Resolved,Should have,Kickstarter should not generate scope prototype in models,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-12-21 06:38,"",1.1 beta 1,2011-12-18,"","",100,2011-12-18 04:20,"","",401100,"",FLOW3 1.0.1,"Kickstarter should not generate scope prototype in models, as prototype is the default scope."
32660,TYPO3.Kickstart,Feature,"",Resolved,Should have,Create empty test case when creating a domain model,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-01-29 20:45,"",1.1,2011-12-18,"","",100,2011-12-18 05:54,"","",401250,"","","In order to encourage TDD, we should create an empty base test case when creating a domain model."
32663,TYPO3.Flow,Bug,"",Resolved,Should have,flow3:doctrine:migrationgenerate should return better explanations,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-12-21 06:38,Command,1.1 beta 1,2011-12-18,"","",100,2011-12-18 08:08,"","",401400,"",FLOW3 1.0.1,"Instead of:
<pre>Generated new migration class to ...</pre>

the command output should read something like:
<pre>
Generated new migration class!

Next Steps:
- Move ... to YourPackage/Migrations/Mysql/
- Review and adjust the generated migration.
- (optional) execute the generated migration using ./flow3 doctrine:migrate
</pre>

As this is much more understandable, and less error-prone, especially to new users."
32665,TYPO3.Flow,Bug,"",Closed,Must have,CLI Requests must still work even if firewall rejectAll is set,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-04-18 16:48,Security,1.0.4,2011-12-18,"","",0,2011-12-18 08:52,"","",401500,"",FLOW3 1.0.1,"h2. How to reproduce

just set:

<pre>
TYPO3:
  FLOW3:
    security:
      firewall:
        rejectAll: true
</pre>

and then run ""./flow3 help"" or any other command. You get:

<pre>
Uncaught Exception
  The requst was blocked, because no request filter explicitly allowed it.

More Information
  Exception code      #1216923741
  File                /Volumes/data/htdocs/FLOW3Base/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Security_Authorization_FilterFirewall_Original.php line 90
  Exception reference #20111218144757968c54
</pre>

This obviously needs to be fixed."
32691,TYPO3.Flow,Bug,"",Resolved,Should have,Arguments code of introduced methods is not generated in the proxy classes,Andreas Förthner,Andreas Förthner,2011-12-21 06:38,AOP,1.1 beta 1,2011-12-19,"","",100,2011-12-19 09:11,"","",402800,"",FLOW3 1.0.0,"This ends in a fatal error, as the proxy method does not match the signature of the one in the interface."
32697,TYPO3.Flow,Bug,"",Resolved,Should have,Files::is_link() returns TRUE for vfs paths on Windows,Bastian Waidelich,Bastian Waidelich,2011-12-21 06:38,Utility,1.1 beta 1,2011-12-19,"","",100,2011-12-19 10:02,"","",403100,"",Git master,"@\TYPO3\FLOW3\Utility\Files::is_link()@ was introduced to circumvent PHPs buggy behavior with Symlinks on Windows (see http://bugs.php.net/bug.php?id=51766).

This work around does not work for stream wrappers. That breaks some unit tests making use of vfs paths."
32700,TYPO3.Flow,Bug,"",Resolved,Should have,Validation does not work for collections,Andreas Förthner,Andreas Förthner,2012-01-29 08:47,Validation,1.1,2011-12-19,"","",100,2011-12-19 11:17,"","",403250,"",Git master,"Model validation stops as soons as a property is of type collection. What one would expect here is, that all objects inside this colleciton get validated as well."
32707,TYPO3.Flow,Bug,"",Accepted,Must have,Bad Bad FileBackend,Daniel Poetzinger,Karsten Dambekalns,2013-05-21 07:33,Cache,2.0.1,2011-12-19,"",2.00,0,2011-12-19 15:25,"","",403600,"",Git 1.0,"http://git.typo3.org/FLOW3/Packages/TYPO3.FLOW3.git?a=blob;f=Classes/Cache/Backend/FileBackend.php;h=ab724f855e1d6a3007056d0010c6ba00138a01e9;hb=8daf64af85dbcd3030cc3d259e262d70d50daf92

The FileBackend is not working under middle to high load and also not working relyable on shared filesystems

The main reason is the set function:
- All fileoperations need to be atomic - so why is ->remove() called and after this the file is written to some temp file and then renamed.
=> It should work by just removing the ->remove call, the rename method will replace the existing entry.

Also the while (!rename($temporaryCacheEntryPathAndFilename, $cacheEntryPathAndFilename) && $i < 5) seems to be unnecessary - why is this done?


Other improvements might be to get rid of the extra cache meta data for expire time - maybe using filemtime is faster at the end (it avoids expensive file_get_contents two times)"
32719,TYPO3.Flow,Bug,"",Resolved,Must have,Entity changes do not update the Doctrine proxies,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,Persistence,1.1 beta 1,2011-12-20,"","",100,2011-12-20 05:06,"","",404200,"",Git master,"The file monitor does not notify about changes to entities any more, it seems."
32723,TYPO3.Flow,Bug,"",Resolved,Must have,Files unit tests create but don't remove a lot of temporary files,Robert Lemke,"",2011-12-21 16:06,- Testing -,1.1 beta 1,2011-12-20,"","",100,2011-12-20 06:07,"","",404400,"",Git master,"The tests in TYPO3\FLOW3\Tests\Unit\Utility\Files generate various temporary files through PHP's tempnam() function.

However, these files are never removed again, which led to our CI server having > 400,000 files in /tmp

The test case should use a subdirectory in $TMP and have a teardown method which removes that subdirectory recursively."
32724,TYPO3.Flow,Bug,"",Resolved,Must have,Functional tests die with fatal error,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,I18n,1.1 beta 1,2011-12-20,"","",100,2011-12-20 06:35,"","",404450,"",Git master,"<pre>PHP Fatal error:  Call to a member function get() on a non-object in /Volumes/HDD/Users/karsten/Sites/flow3/Packages/Framework/TYPO3.FLOW3/Tests/Functional/I18n/FormatResolverTest.php on line 29
</pre>"
32725,TYPO3.Flow,Bug,"",Resolved,Must have,Folder removal sometimes fail in tests,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 06:38,Utility,1.1 beta 1,2011-12-20,"","",100,2011-12-20 08:19,"","",404500,"",Git master,"On the CI server we see errors like

<pre>1) TYPO3\FLOW3\Tests\Unit\Resource\Publishing\FileSystemPublishingTargetTest::publishStaticResourcesLinksTheSpecifiedDirectoryIfMirrorModeIsLink
TYPO3\FLOW3\Utility\Exception: Could not unlink file ""/tmp/FLOW3FileSystemPublishingTargetTestTarget/_Resources/Static/.."".</pre>

Note the double dot at the end."
32726,TYPO3.Flow,Bug,"",Closed,Must have,Cryptography Strategies don't have Singleton annotation,Adrian Föder,Adrian Föder,2012-01-04 07:35,Security,1.0.3,2011-12-20,"","",100,2011-12-20 09:50,"","",404550,"",FLOW3 1.0.1,"e.g. \TYPO3\FLOW3\Security\Cryptography\Pbkdf2HashingStrategy doesn't have @FLOW3\Scope(""singleton"")  annotation which leads to

<pre>
#1265370540: Cannot set instance of object ""TYPO3\FLOW3\Security\Cryptography\PasswordHashingStrategyInterface"" because it is of scope prototype. Only session and singleton instances can be set. 
</pre>

Adding that annotation fixes the issue.

Due to the fact that Pbkdf2 isn't default anymore it's likely that it hasn't been discovered earlier, but I wonder BCrypt also hasn't that annotation set and it seems to work?"
32729,TYPO3.Flow,Task,"",Resolved,Should have,Enhance help texts and parameter names for Doctrine commands,Karsten Dambekalns,Karsten Dambekalns,2012-01-17 21:26,Command,1.1,2011-12-20,"","",100,2011-12-20 10:21,"","",404700,"","",The help texts and parameter names for (some of) the commands in DoctrineCommandController could be enhanced.
32733,TYPO3.Flow,Task,"",Resolved,Should have,Rename i18n setting from locale to i18n,Karsten Dambekalns,Karsten Dambekalns,2012-01-30 20:41,I18n,1.1,2011-12-20,"","",100,2011-12-20 11:38,"","",404900,"","",In the FLOW3 settings the i18n section is still named locale (artifact from ancient times).
32735,TYPO3.Flow,Task,"",Resolved,Should have,Move Translations folder up one level,Karsten Dambekalns,Karsten Dambekalns,2012-01-28 09:17,I18n,1.1,2011-12-20,"","",100,2011-12-20 12:05,"","",405000,"","",The folder for translations (XLIFF files) in a package is currently @Resources/Private/Locale/Translations@. Make it @Resources/Private/Translations@ instead.
32736,TYPO3.Flow,Task,"",Resolved,Should have,Remove defaultLocale from i18n settings,Karsten Dambekalns,Karsten Dambekalns,2012-01-30 20:41,I18n,1.1,2011-12-20,"","",100,2011-12-20 12:12,"","",405050,"","",The defaultLocale should be removed from the i18n settings and made a protected member of the i18n Service class. Then the defaultLocaleIdentifier setting could be renamed to defaultLocale instead.
32738,TYPO3.Flow,Bug,"",Resolved,Should have,Unit tests fail with PHPUnit 3.6.5,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 10:06,- Testing -,1.0.2,2011-12-20,"","",100,2011-12-20 16:48,"","",405150,"",FLOW3 1.0.1,"The very latest PHPUnit breaks our workaround for tests producing output. They output things because some warning is produced and we so far did not use the shut-up operator.

It seems there is no way around this anymore, since the trick of using @outputBuffering seem to no longer work."
32762,TYPO3.Flow,Bug,"",Resolved,Must have,Folder removal fails in tests,Karsten Dambekalns,Karsten Dambekalns,2011-12-21 16:36,Utility,1.0.2,"","","",100,2011-12-21 16:15,"","",406350,"",Git 1.0,"The same error as we already had it for master now appears on the FLOW3-1.0 branch.

On the CI server we see errors like

<pre>1) TYPO3\FLOW3\Tests\Unit\Resource\Publishing\FileSystemPublishingTargetTest::publishStaticResourcesLinksTheSpecifiedDirectoryIfMirrorModeIsLink
TYPO3\FLOW3\Utility\Exception: Could not unlink file ""/tmp/FLOW3FileSystemPublishingTargetTestTarget/_Resources/Static/.."".</pre>

Note the double dot at the end."
32823,TYPO3.Flow,Bug,"",Resolved,Must have,Make combination of Account identifier and authentication provider name globally unique,Sebastian Kurfuerst,Rens Admiraal,2012-05-07 16:58,Security,1.1,2011-12-23,"","",100,2011-12-23 10:10,"","",408400,"",FLOW3 1.0.0,... this should be enforced through a DB constraint.
32826,TYPO3.Flow,Bug,"",Resolved,Must have,Resource PublishingConfiguration is not persisted (missing Doctrine annotation),Thomas Heilmann,Karsten Dambekalns,2012-07-18 05:21,Security,1.1 RC2,2011-12-23,"","",100,2011-12-23 16:05,"","",408550,"",FLOW3 1.0.1,The publishingConfiguration property of the Resource does not get persisted. An abstract publishing configuration class should be used instead of the interface that is used at the moment; and the proper @ORM annotation has to added.
32827,TYPO3.Flow,Bug,"",Closed,Must have,TYPO3\FLOW3\Exception thrown in file Bootstrap.php,Frederik Krogh,Karsten Dambekalns,2012-03-07 11:10,Core,"",2011-12-24,"","",0,2011-12-23 19:37,"","",408600,"",FLOW3 1.0.0,"It seems like the PHP binary ""C:/Program Files (x86)/EasyPHP-5.3.8.1/php/php.exe"" cannot be executed by FLOW3. Set the correct path to the PHP executable in Configuration/Settings.yaml, setting FLOW3.core.phpBinaryPathAndFilename.
3 TYPO3\FLOW3\Core\Bootstrap::initializeForRuntime()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()

I have tryed running it on both xampp, wampp, easyphp and manual apache and php, and NOTHING works ..."
32829,TYPO3.Flow,Bug,"",Resolved,Should have,Mapping to a subclass by __type property fails if subclass adds fields,Andreas Wolf,Andreas Wolf,2013-08-14 09:39,Property,1.1.1,2011-12-24,"","",100,2011-12-24 07:22,"","",408700,"",FLOW3 1.0.0,"I have a hierarchy of classes for which an object should be created from a form. For that, I use the feature added with #30300. This all works well until I have a new field in my subclass that is not present in the base class. Then I get the following message on submitting my form:

<pre>
#1297759968: Exception while property mapping at property path """": Property ""text"" was not found in target object of type ""MyCompany\MyPackage\Domain\Model\BaseClass"".
</pre>

This is caused by the subtype resolving done after the subproperties to map are found. The whole magic is done in @PropertyMapper::doMapping()@: First the type converter is created, then all subproperties (of the base class, as annotated in my controller action) are fetched in @getSourceChildPropertiesToBeConverted()@. After this, the object should be created, but the mapping fails first because the property does not exist.

The solution is to do the final type resolution directly after creating the type converter, before the call to @getSourceChildPropertiesToBeConverted()@."
32830,TYPO3.Flow,Bug,"",Resolved,Should have,Validation on persist breaks with Doctrine Lazy Loading Proxies ,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-01-17 21:26,Persistence,1.0.3,2011-12-24,"","",100,2011-12-24 08:34,"","",408750,"",FLOW3 1.0.2,"Hey everybody,

I am currently experiencing an error with the Validate-On-Persist:

<pre>
Fatal error: Call to a member function getClassName() on a non-object in /.../Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Persistence_Doctrine_PersistenceManager_Original.php on line 112
</pre>

The stack trace is attached.

After debugging a little deeper, it appears that this happens when a lazily-loaded entity is updated. In this case, the get_class($object) in ReflectionService returns something like ""Doctrine\....Proxies\FooBarDomainModelBar"" --> and obviously our Reflection Service cannot deal with this.

"
32832,TYPO3.Flow,Feature,"",Resolved,Should have,Implement context-specific validation through Validation Groups,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-04-27 08:38,Validation,1.1,2011-12-24,"","",100,2011-12-24 15:13,"","",408850,"","","Sometimes, validation should only be executed on persist, sometimes on the controller invocation. Especially when building multi-step forms, one needs to be able to partially validate an object and store the invalid object in the database.

I'd suggest the concept of ""Validation Groups"" from Symfony: http://symfony.com/doc/current/book/validation.html#validation-groups

Each Validate annotation can get one or multiple validationGroups assigned; the ""Default"" validation group is used if none is specified.

When validating in the persistence layer, we use ""Default"" and ""Persistence"" as validation group; i.e. only validators which have either Default or Persistence assigned as validationGroup get executed.

When being inside a controller invocation, the used validation groups should be configurable; using ""Default"", ""Controller"" if none is specified.

"
32869,TYPO3.Flow,Bug,"",New,Must have,Security config tokenClass doesnt throw exception if not found the class,Fernando Arconada,"",2012-03-19 05:53,Security,"",2011-12-29,"","",0,2011-12-29 06:05,"","",410700,"",Git master,"You have to configure a FQCN for tokeClass config. This is not consistent with providerClass that doesnt need to use a FQCN for FLOW3 classes.
Also if FLOW3 cant find the tokenClass it doesnt trigger any exception but the provider class isnt called"
32873,TYPO3.Flow,Bug,"",Accepted,Must have,Value changes for logged in account are not persisted due to session serialization,Aske Ertmann,Karsten Dambekalns,2012-02-01 06:43,"","",2011-12-29,"","",0,2011-12-29 09:06,"","",410900,"",Git master,"Scenario: Change accountIdentifier or credentialsSource on an account (\TYPO3\FLOW3\Security\Account), while being logged in with that account. No values are persisted to the database, because the account is fetched from the serialized session and not loaded from the database. This happened using a fluid form with the account being send to an update action, and then using the accountRepository->update method.

It doesn't matter if the account is fetched originally through the accountRepository or the securityContext, which makes sense since it's just being passed as form data with an identifier..

I've looked in the session files (Temporary/Development/Sessions), where I can se the serialized account (TYPO3\FLOW3\Security\Account)

Quote from Andi: I think this was introduced with the 1.1 stuff and the new bootstrap?"
32928,TYPO3.Flow,Task,"",Rejected,Should have,Cleanup ControllerContext,Bastian Waidelich,"",2012-03-14 13:22,MVC,"",2012-01-02,"","",0,2012-01-02 06:47,"","",413650,"","","@\TYPO3\FLOW3\MVC\Controller\ControllerContext@ could use some cleanup:
- arguments (\TYPO3\FLOW3\MVC\Controller\Arguments) are never used -> deprecate
- flashMessageContainer (\TYPO3\FLOW3\MVC\FlashMessageContainer) is global, thus no need to have it in the controller context -> deprecate"
32930,TYPO3.Fluid,Feature,"",Resolved,Must have,Create a Standalone View,Fernando Arconada,Sebastian Kurfuerst,2012-01-29 13:34,View,1.1,2012-01-02,"","",100,2012-01-02 08:48,"","",413750,"","","Fluid need a Standalone Template to be able to render emails for example. Consider that template rendering could be done inside aspects and services where there is no ControllerContext, Request, Response..."
32959,TYPO3.Flow,Bug,"",Resolved,Should have,Exception thrown on missing role definition,MKI-Miro ,Andreas Förthner,2012-05-18 12:59,Security,1.0.5,2012-01-04,"","",0,2012-01-04 04:31,"","",415200,"",FLOW3 1.0.2,"Notice: Undefined index: Visitor in C:\f3cache\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_FLOW3_Security_Policy_PolicyService_Original.php line 296
39 TYPO3\FLOW3\Error\ErrorHandler::handleError(8, ""Undefined index: Visitor"", ""C:\f3cache\Development\Cache\Code\FLOW3_Object_Cla?3_FLOW3_Security_Policy_PolicyService_Original.php"", 296, array)

38 TYPO3\FLOW3\Security\Policy\PolicyService_Original::getAllParentRoles(TYPO3\FLOW3\Security\Policy\Role)

37 TYPO3\FLOW3\Security\Context_Original::getRoles()

36 TYPO3\FLOW3\Security\Context::getRoles()

35 call_user_func_array(array, array)

34 TYPO3\FLOW3\Security\Context::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

33 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

32 TYPO3\FLOW3\Session\Aspect\LazyLoadingAspect_Original::callMethodOnOriginalSessionObject(TYPO3\FLOW3\AOP\JoinPoint)

31 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

30 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

29 TYPO3\FLOW3\Security\Context::getRoles()

28 call_user_func_array(array, array)

27 TYPO3\FLOW3\Session\Aspect\LazyLoadingAspect_Original::callMethodOnOriginalSessionObject(TYPO3\FLOW3\AOP\JoinPoint)

26 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

25 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

24 TYPO3\FLOW3\Security\Context::getRoles()

23 TYPO3\FLOW3\Security\Aspect\PersistenceQueryRewritingAspect_Original::rewriteQomQuery(TYPO3\FLOW3\AOP\JoinPoint)

22 TYPO3\FLOW3\AOP\Advice\AbstractAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

21 TYPO3\FLOW3\Persistence\Doctrine\Query::execute()

20 TYPO3\FLOW3\Persistence\Repository_Original::findAll()

19 Intranet\RealityTerasa\Controller\FlatController_Original::indexAction()

18 call_user_func_array(array, array)

17 TYPO3\FLOW3\MVC\Controller\ActionController_Original::callActionMethod()

16 TYPO3\FLOW3\MVC\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

15 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

14 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

13 call_user_func_array(array, array)

12 TYPO3\FLOW3\MVC\Dispatcher::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

11 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

10 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\AOP\JoinPoint)

9 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

8 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

7 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)

6 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

5 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

4 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

3 TYPO3\FLOW3\MVC\Web\RequestHandler_Original::handleRequest()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
32984,TYPO3.Flow,Bug,"",Resolved,Must have,ArrayMergeRecursiveOverrule does not override arrays with simple types,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-01-17 21:26,Utility,1.1,2012-01-05,"","",100,2012-01-05 01:56,"","",416200,"",FLOW3 1.0.0,"While working on some improvements for the Configuration subsystem, I stumbled over the following issue in arrayMergeRecursiveOverrule:

If the first element contains an array, and the second element contains a simple type at a certain position, the ORIGINAL array is used. I think that's a bug, preventing to reset arrays in configuration.

The following test demonstrates this:

<pre><code class=""php"">
'inputArray1' => array(
	'k1' => 'v1',
	'k2' => array(
		'k2.1' => 'v2.1'
	),
),
'inputArray2' => array(
	'k2' => 'v2a',
	'k3' => 'v3'
),
// That's what SHOULD happen IMHO
'expected' => array(
	'k1' => 'v1',
	'k2' => 'v2a',
	'k3' => 'v3'
)
// That's what happens currently
'actual' => array(
	'k1' => 'v1',
	'k2' => array(
		'k2.1' => 'v2.1'
	),
	'k3' => 'v3'
)
</code></pre>

This has drastical implications on configuration handling, as it makes it impossible to override an array with NULL:

<pre>
// per-package settings.yaml
Foo:
  Bar:
    Baz: value

// global settings.yaml
Foo:
  Bar: NULL

// Expected:
array('Foo' => array('Bar' => NULL))

// Actual (right now)
array('Foo' => array('Bar' => array('Baz' => 'value')))
</pre>
"
32985,TYPO3.Flow,Feature,"",New,Should have,Implement Processing Rules when merging numerically-indexed arrays,Sebastian Kurfuerst,"",2012-05-30 03:35,Utility,"",2012-01-05,"","",0,2012-01-05 02:25,"","",416250,"","","*This is an improvement to the @Utility\Arrays::arrayMergeRecursiveOverrule@ function, leading to enormous flexibility gains for YAML Configuration Handling.*

Description of the problem and possible solution:

<pre>
	 * Sometimes, you need to merge numerically indexed PHP arrays; and as this function does
	 * the merging by key, this can lead to undesired results, as the following example demonstrates:
	 *
	 * $array1 = array('a1', 'b1', 'c1', 'd1');
	 * $array2 = array('a2', 'b2', 'c2');
	 * -> the resulting array is now array('a2', 'b2', 'c2', 'd1'), which is usually
	 *    not the desired result. Often, you want to append, prepend or replace the collection.
	 *
	 * To define the behavior with indexed collections, a *Processing Rule* can be specified
	 * in the second array using the special *__processingRule* Array Key. The following
	 * Processing Rules are supported:
	 *
	 * APPEND
	 * ------
	 * The most common processing rule. Appends $array2 to $array1, renumbering the
	 * numerical indices in $array2 and (if necessary) overriding the associative indices in $array1.
	 *
	 * Example:
	 * $array1 = array('a1', 'b1', 'c1', 'd1');
	 * $array2 = array('__processingRule' => 'APPEND', 'a2', 'b2', 'c2');
	 * --> Result: array('a1', 'b1', 'c1', 'd1', 'a2', 'b2', 'c2');
	 *
	 * PREPEND
	 * -------
	 * Prepends $array2 before $array1, renumbering the numerical indices in
	 * $array1 and (if necessary) overriding the associative indices in $array2.
	 *
	 * Example:
	 * $array1 = array('a1', 'b1', 'c1', 'd1');
	 * $array2 = array('__processingRule' => 'PREPEND', 'a2', 'b2', 'c2');
	 * --> Result: array('a2', 'b2', 'c2', 'a1', 'b1', 'c1', 'd1');
	 *
	 * REPLACE
	 * -------
	 * Completely replaces $array1 with $array2.
	 *
	 * Example:
	 * $array1 = array('a1', 'b1', 'c1', 'd1');
	 * $array2 = array('__processingRule' => 'REPLACE', 'a2', 'b2', 'c2');
	 * --> Result: array('a2', 'b2', 'c2');
</pre>

With this addition, the following becomes possible in YAML configuration files:

<pre>
// per-package Settings.yaml

  Foo:
    Bar: [t1, t2]

// global Settings.yaml


  Foo:
    Bar:
      __processingRule: PREPEND
      0: o2
      1: o3

// Output:
array('Foo' => array('Bar' => array('o2', 'o3', 't1', 't2')));
</pre>

As soon as the Symfony YAML parser supports custom callbacks for *YAML Tags*, the processing rules could be written as:

<pre>
  Foo:
    Bar: !PREPEND
      0: o2
      1: o3
</pre>

... which is again even nicer :)"
32990,TYPO3.Flow,Feature,"",Rejected,Should have,Account party property should be persistable through the account,Aske Ertmann,Aske Ertmann,2012-01-05 07:59,Persistence,"",2012-01-05,"","",0,2012-01-05 05:00,"","",416500,"","","Before:
* @ORM\ManyToOne(inversedBy=""accounts"")
After:
* @ORM\ManyToOne(inversedBy=""accounts"",cascade={""all""})

In order to make account party properties changes through a fluid form with the account as the property."
32991,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong default password hashing strategy,Karsten Dambekalns,Karsten Dambekalns,2012-05-03 20:38,Security,1.1,2012-01-05,"","",100,2012-01-05 05:33,"","",416550,"",Git master,"In https://review.typo3.org/5756 the default hashing strategy was changed to BCrypt.

Later, in https://review.typo3.org/6598, support for multiple strategies was added. But that change make PBKDF2 the default again."
33018,TYPO3.Flow,Feature,"",New,Should have,Translator should support override of labels from other packages,Christopher Hlubek,"",2012-01-06 07:05,I18n,"",2012-01-06,"","",0,2012-01-06 07:05,"","",417800,"","","We are somewhat limited in the extensibility of translations with the current approach. The use case would be a package that defines labels for a reusable component (e.g. a controller with flash messages) or the default labels of FLOW3. How can a user package override these values?

Even if we will not implement this right away we should make sure that our current implementation and API supports this use case, because re-use will be limited if translations of packages cannot be overriden.

Of course there could be problems with loading order of resources but I think the abstraction with XliffModel could support this use case by chaining multiple XliffModels to allow for a inheritance of translations. The question would remain how this could be configured."
33024,TYPO3.Flow,Bug,"",Accepted,Must have,Exception when validating a float in a Model with the Number validator,Jonny ,Karsten Dambekalns,2012-03-07 16:08,I18n,"",2012-01-06,"","",0,2012-01-06 10:38,"","",418100,"",FLOW3 1.0.2,"Warning: array_merge(): Argument #1 is not an array in /Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_I18n_Cldr_CldrModel_Original.php line 356
29 TYPO3\FLOW3\Error\ErrorHandler::handleError(2, ""array_merge(): Argument #1 is not an array"", ""asses/TYPO3_FLOW3_I18n_Cldr_CldrModel_Original.php"", 356, array)

28 array_merge(boolean, array)

27 TYPO3\FLOW3\I18n\Cldr\CldrModel_Original::resolveAliases(array, ""dates/calendars/calendar[@type=&quot;roc&quot;]/dateTimeFormats/dateTimeFormatLength"")

26 TYPO3\FLOW3\I18n\Cldr\CldrModel_Original::resolveAliases(array, ""dates/calendars/calendar[@type=&quot;roc&quot;]/dateTimeFormats"")

25 TYPO3\FLOW3\I18n\Cldr\CldrModel_Original::resolveAliases(array, ""dates/calendars/calendar[@type=&quot;roc&quot;]"")

24 TYPO3\FLOW3\I18n\Cldr\CldrModel_Original::resolveAliases(array, ""dates/calendars"")

23 TYPO3\FLOW3\I18n\Cldr\CldrModel_Original::resolveAliases(array, ""dates"")

22 TYPO3\FLOW3\I18n\Cldr\CldrModel_Original::resolveAliases(array, """")

21 TYPO3\FLOW3\I18n\Cldr\CldrModel_Original::initializeObject(1)

20 TYPO3\FLOW3\I18n\Cldr\CldrModel::__construct(array)

19 TYPO3\FLOW3\I18n\Cldr\CldrRepository_Original::getModelForLocale(TYPO3\FLOW3\I18n\Locale)

18 TYPO3\FLOW3\I18n\Cldr\Reader\NumbersReader_Original::parseFormatFromCldr(TYPO3\FLOW3\I18n\Locale, ""decimal"", ""default"")

17 TYPO3\FLOW3\I18n\Parser\NumberParser_Original::parseDecimalNumber(0, TYPO3\FLOW3\I18n\Locale, ""default"", boolean)

16 TYPO3\FLOW3\Validation\Validator\NumberValidator_Original::isValid(0)

15 TYPO3\FLOW3\Validation\Validator\AbstractValidator::validate(0)

14 TYPO3\FLOW3\Validation\Validator\GenericObjectValidator_Original::checkProperty(0, SplObjectStorage, TYPO3\FLOW3\Error\Result)

13 TYPO3\FLOW3\Validation\Validator\GenericObjectValidator_Original::validate(Spielmeister\Common\Domain\Model\Transaction)

12 TYPO3\FLOW3\Validation\Validator\ConjunctionValidator_Original::validate(Spielmeister\Common\Domain\Model\Transaction)

11 TYPO3\FLOW3\Persistence\Doctrine\PersistenceManager_Original::validateObject(Spielmeister\Common\Domain\Model\Transaction)

10 TYPO3\FLOW3\Persistence\Doctrine\PersistenceManager_Original::onFlush(Doctrine\ORM\Event\OnFlushEventArgs)

9 Doctrine\Common\EventManager::dispatchEvent(""onFlush"", Doctrine\ORM\Event\OnFlushEventArgs)

8 Doctrine\ORM\UnitOfWork::commit()

7 Doctrine\ORM\EntityManager::flush()

6 TYPO3\FLOW3\Persistence\Doctrine\PersistenceManager_Original::persistAll(""TYPO3\FLOW3\Core\Bootstrap::finishedRuntimeRun"")

5 call_user_func_array(array, array)

4 TYPO3\FLOW3\SignalSlot\Dispatcher::dispatch(""TYPO3\FLOW3\Core\Bootstrap"", ""finishedRuntimeRun"", array)

3 TYPO3\FLOW3\Core\Bootstrap::emitFinishedRuntimeRun()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


In Model:
<pre>
	/**
	 * The value
	 * @var float
     * @FLOW3\validate(type=""Number"")
	 */
	protected $value;


	/**
	 *
	 * @param float $value 
	 * @return void
	 */
	public function setValue($value) {
		$this->value = floatval($value);
	}
</pre>

When trying to persistent a Model with this Validation, i throws this Exception as shown.

I Think it may have something to do with the localization.

When changing it to float validation, it works fine."
33031,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,Readme.txt contains wrong tutorials URL,Felix Kopp,Karsten Dambekalns,2012-03-07 11:01,- Documentation -,1.0.4,2012-01-07,"","",100,2012-01-07 15:22,"","",418450,"",FLOW3 1.0.2,"First paragraph, http://flow3.typo3.org/documentation/tutorials can not be found.
Rather put http://flow3.typo3.org/documentation/quickstart.html ?"
33040,TYPO3.Flow,Task,"",Rejected,Could have,rename the default controller as DefaultController,Fernando Arconada,Karsten Dambekalns,2012-03-07 10:20,MVC,"",2012-01-08,"","",0,2012-01-08 06:12,"","",418900,"","",The code could be more readable if the default controller is renamed from StandardController to DefaultController
33043,TYPO3.Fluid,Bug,"",Resolved,Should have,f:identity.json wrong namespace,Pascal Walter,Karsten Dambekalns,2012-03-07 15:23,ViewHelpers,1.1,2012-01-08,"","",100,2012-01-08 08:00,"","",419050,"",FLOW3 1.0.2,"<pre>
/**
* @var \F3\FLOW3\Persistence\PersistenceManagerInterface
*/
protected $persistenceManager;

</pre>

It works because the property is injected via method-injection but its still wrong :)
Maybe there are some more miss spellings like this. Did someone search for them after namespace changed from \F3\?
"
33048,TYPO3.Flow,Bug,"",Resolved,Should have,flow3.bat gives wrong feedback,Daniel Felix,Karsten Dambekalns,2012-03-12 21:38,Core,1.0.4,2012-01-08,"","",100,2012-01-08 14:16,"","",419300,"",FLOW3 1.0.2,"Hi,

this is just a very little issue, but your flow3.bat gives  some wrong feedback.

If i callflow3.bat I currently get this feedback:

FLOW3 1.0.2 (""Development"" context)
usage: *./flow3* <command identifier>

See '*./flow3* help' for a list of all available commands.

This is quite wrong.

The correct response should be:
FLOW3 1.0.2 (""Development"" context)
usage: *flow3.bat* <command identifier>

See '*flow3.bat* help' for a list of all available commands."
33049,TYPO3.Flow,Feature,"",New,Could have,Allow configuration of context without environment variable (needed for IIS),Daniel Felix,"",2012-03-07 14:51,Core,"",2012-01-08,"","",0,2012-01-08 14:21,"","",419350,"","","Hi there,

I found some configuration in some of the Framework Packages corresponding the persistence:core:context. The comment just says that this should be set by the enviroment.

This is quite a good idea, but just for Apache Users. I tried FLOW3 on IIS, and as you self wrote on your Kickstart Tutorial - you haven't tested it on IIS.

Well the point is... IIS doesn't support VirtualHosts, so there is no way for me to define the needed context.

I've done a workaround and added a line of code to the @Web/index.php@
<pre>putenv(""FLOW3_CONTEXT=Development"")</pre>
But this won't be a great deal if i have a config like the @core:context@.

Maybe you could give this setting in the global @Settings.yaml@ a try."
33055,TYPO3.Flow,Bug,"",New,Must have,AccessDeniedException instead of WebRedirect,Patrick Pussar,"",2014-04-17 09:54,Security,"",2012-01-09,"","",0,2012-01-09 01:37,"","",419650,"",FLOW3 1.0.0,"After defining some restrictions via ACLs on a controller method and defining a WebRedirect I get an AccessDeniedException instead of a redirect.

After do some dirty hack in RequestDispatchingAspect.php:
//} catch (\TYPO3\FLOW3\Security\Exception\AuthenticationRequiredException $exception) { // PPUSSAR: Hot-Patch to get Web-Redirect working
} catch (\TYPO3\FLOW3\Security\Exception $exception) {

it works as expected.

Whether the catch method is to restrictive or the wrong exception is thrown."
33058,TYPO3.Flow,Feature,"",Rejected,Should have,Choice for XML Configuration,Aftab Naveed,Karsten Dambekalns,2012-03-07 10:06,Configuration,"",2012-01-09,"","",0,2012-01-09 04:05,"","",419800,"","","Though YAML seems to be much simpler then XML, but companies whose staff is trained to use XML instead of YAML. It would be a nice idea to have Configuration parser which could either use XML or YAML based on developer choice.
"
33069,TYPO3.Flow,Task,Task #51183: CLI improvements,New,Should have,"Make command output sparse, implement generic verbose switch",Christopher Hlubek,"",2013-08-19 08:33,Command,"",2012-01-09,"","",0,2012-01-09 10:09,"","",420300,"","",Following the Unix rules we should make the built-in command output less verbose. We should introduce a generic verbose switch that could be used to generate additional output.
33078,TYPO3.Flow,Bug,"",New,Should have,No Redirect to Login,Jörg Ohnheiser,"",2012-03-07 11:45,Security,"",2012-01-10,"","",0,2012-01-10 02:36,"","",420750,"",FLOW3 1.0.2,"I think this is a Bug with the Security Subsystem.

I'm only getting a Exception when i'm not login or i've no rights to access the controller.

But i'm awaiting a redirect to login when i've no Login Data or?

i've attached my policy and setting yaml file.




<pre>
You are not allowed to perform this action.
10 TYPO3\FLOW3\Security\Authorization\Interceptor\AccessDeny_Original::invoke()

9 TYPO3\FLOW3\Security\Authorization\RequestFilter_Original::filterRequest(TYPO3\FLOW3\MVC\Web\Request)

8 TYPO3\FLOW3\Security\Authorization\FilterFirewall_Original::blockIllegalRequests(TYPO3\FLOW3\MVC\Web\Request)

7 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)

6 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

5 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

4 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

3 TYPO3\FLOW3\MVC\Web\RequestHandler_Original::handleRequest()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!
</pre>"
33097,TYPO3.Flow,Task,"",Resolved,Should have,Usage of preg_match allows side-effects,Adrian Föder,Adrian Föder,2012-01-19 20:42,I18n,1.1,2012-01-10,"","",100,2012-01-10 11:13,"","",421700,"","","as of http://php.net/function.preg-match the function could also return FALSE if an error occurs (see Return Values and Changelog sections). At some places there is, e.g.,

<pre>
if (preg_match(self::PATTERN_MATCH_LOCALEIDENTIFIER, $localeIdentifier, $matches) === 0) throw new....
</pre>

used. This would let a return of FALSE pass by untouched."
33106,TYPO3.Flow,Bug,"",Resolved,Must have,Behavior of QueryResult for Doctrine and Generic differs,Karsten Dambekalns,Karsten Dambekalns,2012-01-17 21:26,Persistence,1.1,2012-01-11,"","",100,2012-01-11 03:46,"","",422150,"",FLOW3 1.0.2,"One example is @offsetGet()@ - Generic returns NULL if the key doesn't exist, Doctrine crashes. This needs to be checked and fixed in the QueryResult for Doctrine."
33112,TYPO3.Flow,Feature,"",Resolved,Should have,Create .Shortcuts directory if it is missing,Robert Lemke,Robert Lemke,2012-01-17 21:26,Package,1.1,2012-01-11,"","",100,2012-01-11 04:56,"","",422450,"","","FLOW3 currently creates or updates the Packages/.Shortcuts/ directory only if the package states have changed. That is correct in theory, but if one messes with the package directories by manually moving around packages, you might get lost.

Therefore it would be nice if the .Shortcuts directory would be created if it does not exist. This would add stability but also allow a developer to just remove a broken .Shortcuts directory and it would be regenerated on the next hit."
33117,TYPO3.Fluid,Feature,"",Rejected,Could have,returning plain \DateTime object in Format\DateViewHelper,Adrian Föder,Adrian Föder,2012-05-08 10:13,ViewHelpers,1.1,2012-01-11,"","",0,2012-01-11 07:01,"","",422700,"","","The DateTime ViewHelper allows passing by a string that is converted to a DateTime object, which again is formatted against the requested pattern.

The current signature is

<pre>
/**
	 * Render the supplied DateTime object as a formatted date.
	 *
	 * @param mixed $date either a \DateTime object or a string that is accepted by \DateTime constructor
	 * @param string $format Format String which is taken to format the Date/Time
	 * @return string Formatted date
	 * @api
	 */
	public function render($date = NULL, $format = 'Y-m-d')
</pre>

Providing an additional option ""asObject"" or such, that returns the \DateTime object without formatting, would allow the user to compare Dates with the IfViewHelper, because Date object could be compared with < or > each other (http://de2.php.net/manual/en/datetime.diff.php, Example #2).

So this should allow something like
<pre>
<f:if condition=""{model.date} < {f:format.date(date: 'now', asObject: 'true')}"">
The date is due.
</f:if>

I know that this might not fit 100% into ""formatting"" and it additionally changes the return type via parameter (kind of ""FlagArgument"" http://martinfowler.com/bliki/FlagArgument.html), but maybe you're fine with it, because it's useful and the functionality is only almost one LOC away."
33139,TYPO3.Flow,Bug,"",Resolved,Could have,Confusing error message if a CommandController is outside /Controller/ directory,Christof Rodejohann,Karsten Dambekalns,2012-05-30 14:38,Command,1.0.5,2012-01-12,"","",100,2012-01-12 06:24,"","",423800,"",FLOW3 1.0.2,"If you create a CommandController which is not in the /Controller/ directory of a package you will get an error saying ""Invalid controller class name [...] 1305100019""

I understand how this is correct, but still this message is confusing. A check for the right directory and a suitable error message might be the best solution. But a simple hint to check for the directory might solve this easily.

The error is thrown in
FLOW3/Packages/TYPO3.FLOW3 / Classes / MVC / CLI / Command.php  Line 60
"
33142,TYPO3.Flow,Task,"",Resolved,Should have,"Ignore Tags / Annotations in external libraries, find some good solution",Christian Müller,Karsten Dambekalns,2012-02-13 20:43,Reflection,1.1,2012-01-12,"","",100,2012-01-12 07:09,"","",423950,"","","for now we have the ignore list of tags in Packages/Framework/TYPO3.FLOW3/Classes/Reflection/ReflectionService.php

For external libraries with lots of custom tags this is a problem, of course we can patch master specifically all the time, but maybe we should think about another solution. So a possible way would be to have a core ignore set and allow additions by configuration or just a globally configurable ignore list. Maybe there are other ideas?"
33143,TYPO3.Fluid,Feature,"",Resolved,Could have,Allow Format.Currency ViewHelper regard Locale,Adrian Föder,Adrian Föder,2012-09-17 06:06,ViewHelpers,2.0 beta 1,2012-01-12,"","",0,2012-01-12 08:42,"","",424000,"","","The Format.Currency ViewHelper currently only renders its formatting ""hard-coded"". Allow usage of the Locale and Cldr functionality."
33145,TYPO3.Flow,Bug,"",Closed,Must have,Annotation parser for interfaces gets confused,Christof Rodejohann,Karsten Dambekalns,2012-06-25 15:55,Object,1.1 RC1,2012-01-12,"","",0,2012-01-12 09:03,"","",424100,"",FLOW3 1.0.2,"With the following constellation

Example.php
containing the class Example with a scope singleton

and

ExampleInterface.php
containing the interface ExampleInterface which is not implemented in the class Example.

in the same directory, the interface annotation parser will throw the following exception:

""Scope annotations in interfaces don't have any effect, therefore you better remove it from My\Package\ExampleInterface in order to avoid confusion."" (Exception code #1299095595)

Removing the scope from Example solves the exception in ExampleInterface."
33148,TYPO3.Flow,Bug,"",Resolved,Must have,CLDR locale chaining doesn't work correctly,Adrian Föder,Karsten Dambekalns,2012-02-01 20:43,I18n,1.1,2012-01-12,"","",100,2012-01-12 11:32,"","",424250,"",Git master,"Simply said, the chaining in order to get also de.xml when de_DE.xml is asked for, doesn't work correctly.

The problem is mostly that the CldrRepository's findLocaleChain() that is responsible for that functionality, relies on a function localizationService->getParentLocaleOf(); while this function asks a localeCollection that never seems being populated correctly.

I'll add a test that should describe it better; anyhow I don't know if the mocking is correct (show inline PHP comment)"
33158,TYPO3.Flow,Bug,"",Closed,Could have,Problems setting PHP binary path on Windows,Giovanni Romero Pérez,Rens Admiraal,2012-06-28 04:59,Core,"",2012-01-13,"","",0,2012-01-12 19:11,"","",424700,"",FLOW3 1.0.2,"Windows Server 2008 R2 SP1
Apache 2.2 PHP 5
I still set FLOW3.core.phpBinaryPathAndFilename in  Configuration/Settings.yaml

I tries with:

core:
  phpBinaryPathAndFilename: 'C:\\www\\bin\\php\\php.exe'

and

core:
  phpBinaryPathAndFilename: 'C:/www/bin/php/php.exe'



It seems like the PHP binary ""C:\php/php"" cannot be executed by FLOW3. Set the correct path to the PHP executable in Configuration/Settings.yaml, setting FLOW3.core.phpBinaryPathAndFilename.
3 TYPO3\FLOW3\Core\Bootstrap::initializeForRuntime()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
33177,TYPO3.Flow,Task,"",Resolved,Should have,Polish authentication a little bit.,Karsten Dambekalns,Karsten Dambekalns,2012-04-18 16:43,Security,1.1,2012-01-13,"","",100,2012-01-13 11:06,"","",425650,"","",The AuthenticationController and some related code show some tiny dents if looking closely :)
33191,TYPO3.Flow,Bug,"",Rejected,Should have,TypeConverter from string to array,Pascal Walter,"",2012-03-14 13:40,Property,"",2012-01-14,"","",0,2012-01-14 05:47,"","",426350,"",FLOW3 1.0.2,"I discovered this bug by using a <f:form.select name=""items"" /> in a form. In case the user doesn't select anything, the array items is empty. But the normal Property TypeConverter from FLOW3 just convertes arrays to arrays. So I forked it and supported string to array conversion, which is pretty easy. I attached my customized TypeConverter how fits me needs. But I dont think its best practice or best coding style.

Maybe you guys come up with a better solution for that."
33215,TYPO3.Fluid,Feature,"",New,Should have,RFC: Dynamic values in ObjectAccess paths,Christopher Hlubek,"",2014-02-19 11:33,"","",2012-01-16,"","",0,2012-01-16 05:48,"","",427550,"","","Sometimes it's necessary to include a dynamic value from a Fluid variable inside an object access path. Some use cases would be:

* Get the value of an array or object depending on a key in a foreach loop
* ...

A possible syntax amendment could look like this:

<pre><code>
<p>{myobject[propertyName]}</p>
</code></pre>

Where @propertyName@ is a template variable itself:

<pre><code>
$this->view->assign('propertyName', 'foo');
$this->view->assign('myobject', $myObject);
</code></pre>

In this context it would evaluate to the value of @{myobject.foo}@. This is consistent to the way JavaScript defines its object access syntax with variables."
33226,TYPO3.Flow,Feature,"",Resolved,Should have,Add Getter for validator options and child validators,Bastian Waidelich,Bastian Waidelich,2012-01-25 20:43,Validation,"",2012-01-16,"","",100,2012-01-16 13:02,"","",428100,"","","Validation options are set through the constructor but there is currently no way of accessing the options afterwards.
This would make sense in order to transform validation rules into another format (e.g. to apply them on the client side).
Similar issue for the CompositeValidators: There is currently no way to retrieve the child validators."
33258,TYPO3.Flow,Major Feature,"",Accepted,Should have,Implement support for Assetic,Sebastian Kurfuerst,"",2014-02-24 02:05,"","",2012-01-17,"","",0,2012-01-17 08:21,"","",429700,"","","We still need a clean solution to handle assets; and https://github.com/kriswallsmith/assetic would be a great fit to integrate.

First off, we need to create a concept for it."
33268,TYPO3.Flow,Task,"",Resolved,Must have,Document new YAML behaviour for Upgrade to 1.1,Christopher Hlubek,Karsten Dambekalns,2012-03-07 10:33,Configuration,1.1,2012-01-17,"","",100,2012-01-17 10:41,"","",430150,"","","The YAML parser changed its behaviour in some intricate ways. One of it is the (now correct) processing of escape sequences within double quoted strings (http://yaml.org/spec/1.2/spec.html#id2787109).

Unfortunately some FLOW3 users could have used the double quote syntax to express object names or pointcut expressions (e.g. in a Policy file) where the escape sequence could produce an unwanted result and AOP or security fails silently.

<pre>
resources:
  methods:
    Foo_Bar: ""method(MyPackage\Domain\Model\Poo->test()""
</pre>

The class would not match @MyPackage\Domain\Model\Poo@ but rather @MyPackage\Domain\Model?oo@. To use double quoted strings the @\@ character would need to be escaped with another backslash.

We should document the new behaviour and discourage usage of double quotes in YAML files as a CGL. Additionaly we could think about a migration script for configuration files."
33274,TYPO3.Fluid,Bug,"",Closed,Should have,Viewhelpers extending AbstractFormFieldViewHelper should add additionalIdentityProperties even if there is an error on the field,Zach Davis,Zach Davis,2012-01-31 15:15,ViewHelpers,"",2012-01-18,"","",0,2012-01-18 00:46,"","",430450,"",FLOW3 1.0.2,"In a FLOW3 app, I have a form that has fields that reference an Account object and the Party property on the account object. This works fine because when Fluid renders form fields it calls the addAdditionalIdentityPropertiesIfNeeded in the AbstractFormFieldViewHelper class, which adds hidden identity fields for the properties.

However, when any part of the form is invalid a mapping error is triggered. The form field viewhelper sees the mapping error and no longer adds the property identities, which leads to a situation where the user corrects the error in the form, only to have FLOW3 try to create new property objects.

The fix is simple, and I think it's a no-brainer. We need to change the conditional logic in the getValue method on the AbstractFormFieldViewHelper from this:

@
if ($this->hasArgument('value')) {
    $value = $this->arguments['value'];
} elseif ($this->hasMappingErrorOccured()) {
    $value = $this->getLastSubmittedFormData();
} elseif ($this->isObjectAccessorMode() && $this->viewHelperVariableContainer->exists('TYPO3\Fluid\ViewHelpers\FormViewHelper', 'formObject')) {
    $this->addAdditionalIdentityPropertiesIfNeeded();
    $value = $this->getPropertyValue();
}
@

To this:

@
if ($this->hasArgument('value')) {
    $value = $this->arguments['value'];
} elseif ($this->hasMappingErrorOccured()) {
    $this->addAdditionalIdentityPropertiesIfNeeded();
    $value = $this->getLastSubmittedFormData();
} elseif ($this->isObjectAccessorMode() && $this->viewHelperVariableContainer->exists('TYPO3\Fluid\ViewHelpers\FormViewHelper', 'formObject')) {
    $this->addAdditionalIdentityPropertiesIfNeeded();
    $value = $this->getPropertyValue();
}
@

Notice that we've added the call to addAditionalIdentityPropertiesIfNeeded to the second section of the statement. Even if there's an error, we should still add identity properties, right?

If the change sound right, let me know and I'll submit a patch to gerrit.

Zach"
33284,TYPO3.Fluid,Bug,"",Rejected,Won't have this time,AbstractViewHelper::renderChildren removes the {some_digit} placeholders needed for translation,Sebastian ,Karsten Dambekalns,2012-02-24 10:28,Core,1.1,2012-01-18,"","",0,2012-01-18 05:51,"","",430950,"",Git master,"Somewhere in renderChildren the {some_digit} placeholders are being removed.

I traced it so far and can't go further as I don't know how to debug the closure function.

To be clear... the example from the flow3 documentation guide:
<pre><f:translate source=""someLabelsCatalog"" arguments=""{0: 'foo', 1: '99.9'}>Untranslated {0} and {1,number}</f:translate></pre>

becomes:
<pre>Übersetzt  and 99,9</pre>


I don't know if maybe this was necessary at some step and is related to some important design decision or if it is a glitch.
If it's a glitch I hope someone can find it.

Otherwise I would suggest creating a StringFormatter like I did for myself, so one can then use:
<pre><f:translate source=""someLabelsCatalog"" arguments=""{0: 'foo', 1: '99.9'}>Untranslated {0,string} and {1,number}</f:translate></pre>

Here is the StringFormatter
<pre>
<?php
namespace TYPO3\FLOW3\I18n\Formatter;

/*                                                                        *
 * This script belongs to the FLOW3 framework.                            *
 *                                                                        *
 * It is free software; you can redistribute it and/or modify it under    *
 * the terms of the GNU Lesser General Public License, either version 3   *
 * of the License, or (at your option) any later version.                 *
 *                                                                        *
 * The TYPO3 project - inspiring people to share!                         *
 *                                                                        */

use TYPO3\FLOW3\Annotations as FLOW3;

/**
 * Formatter for numbers.
 *
 * @FLOW3\Scope(""singleton"")
 * @api
 */
class StringFormatter implements \TYPO3\FLOW3\I18n\Formatter\FormatterInterface {


	/**
	 * Formats provided value using optional style properties
	 *
	 * @param mixed $value Formatter-specific variable to format (can be integer, \DateTime, etc)
	 * @param \TYPO3\FLOW3\I18n\Locale $locale Locale to use
	 * @param string $styleProperties Integer-indexed array of formatter-specific style properties (can be empty)
	 * @return string String representation of $value provided, or (string)$value
	 * @api
	 */
	public function format($value, \TYPO3\FLOW3\I18n\Locale $locale, array $styleProperties = array()) {
		return (string)$value;
	}

}

?></pre>"
33293,TYPO3.Flow,Bug,"",New,Should have,Injection to private variable results in injection of the the wrong class,Christof Rodejohann,"",2012-01-18 10:41,"","",2012-01-18,"","",0,2012-01-18 10:41,"","",431400,"",FLOW3 1.0.2,"If you annotate a private declared class variable to inject some class this annotated class won't be injected. Rather the class itself will be injected.

Here is an example:
http://pastebin.com/LJW14jqs

This is a command controller created via kickstarter in a freshly kickstarted package. PhpSession is injected as an example.

With $currentSession declared as protected (which can be seen in the above example) the output is as expected:

<pre>
You called the example command and class name is ""TYPO3\FLOW3\Session\PhpSession"".
</pre>

With $currentSession declared as private the output is the following:

<pre>
You called the example command and class name is ""RD\TEST\Command\TestCommandController_Original"".
</pre>

I am a little confused whether this follows some OOP pattern or is simply a bug. Either way, this can't be the intended behavior."
33297,TYPO3.Flow,Bug,"",Closed,Won't have this time,flow3 package:list throws an error,Christopher Seidel,Karsten Dambekalns,2012-03-10 05:32,"","",2012-01-18,"","",0,2012-01-18 11:38,"","",431600,"",FLOW3 1.0.2,"Hi together,

thanks for FLOW3. I'm developing for about one year with it and now i discovered a bug which is not an open task, or maybe i just didn't find it. If you use the ./flow3 package:list to list the packages on the system it throws an error if there is somewhere a file with ""#"". Of course this is not normal but it throws the following:

Uncaught Exception
  opendir(/var/www/Packages/Application/Seidel.Buecherliste/Resources/Public/Images):
  failed to open dir: Too many open files

More Information
  Exception code      #0
  File                /var/www/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Resource_Streams_ResourceStreamWrapper_Original.php line 87

Thanks so far for your work!
"
33300,TYPO3.Flow,Bug,"",Resolved,Should have,Validators should allow empty values,Bastian Waidelich,Bastian Waidelich,2013-08-01 04:06,Validation,1.1,2012-01-18,"","",100,2012-01-18 13:38,"","",431750,"",Git master,"Currently most of the provided validators do not accept empty values. This makes it impossible to have an optional email address for example (without using the disjunction validator).
If an email is required one should add two validation rules, NotEmpty and EmailAddress to the respective property."
33302,TYPO3.Fluid,Feature,"",Resolved,Should have,form.button ViewHelper,Bastian Waidelich,Bastian Waidelich,2012-01-20 06:21,ViewHelpers,1.1,2012-01-18,"","",100,2012-01-18 15:10,"","",431850,"","","<button /> elements are more flexible than <input type=""submit"" /> as they allow to render arbitrary child elements and can transmit own values which makes them really usable in multi-page forms for example.
In the meantime all major browser support buttons for submitting & resetting so we should add a respective ViewHelper."
33308,TYPO3 Flow Base Distribution,Task,"",New,Should have,General date and time handling rules,Adrian Föder,"",2012-03-06 10:05,"","",2012-01-19,"","",0,2012-01-19 02:35,"","",432150,"","","h1. Date and time handling discussion

_This issue is considered as invitation for discussion, comment as you like._

h2. Introduction

When handling trivially said ""date and time"", running in technical difficulties is waiting to happen. The purpose of this document is to carry-together this difficulties and lastly, possibly, provide a best practice both in the Framwork API and in documentation, how to handle date and times in user's applications.

h2. Professional considerations

h3. Different meanings of ""point in time""

Regarding a ""time"", ""event"" or generally saying ""point in time"" could result in two meanings. _(The author likes to have this terms ubiquitous, so feel free to improve them)_

h4. Physical Point In Time

The @Physical Point In Time@ means a time stamp that describes a ""physical"" time of an occurrence without doubt. That might be the creation or modification time of a record, the moment of a happening like the exact time of the birth of a person or the time where a football goal was achieved.
It describes an event that occurs on a specific point of the global, physical timeline no matter where or under what conditions this was (like DST or such).

h4. Logical Point In Time

The @Logical Point In Time@ is a time the user is familiar or comfortable with without caring about localization and such. If a user invites to a party saying it begins at 19 o'clock he means the time all people know and are used to around the event. 19 o'clock than means 19 o'clock at the location where the party happens under the circumstances around that date, e.g. active DST etc. It's the time being seen when you look at your watch.

h3. Date Only

In some use cases, the date only may matter; mostly usual when describing a birth date. In such cases timezone and DST doesn't matter, only the day-date is important. It even would be contra-productive to even attempt to store a time besides that date, because it's intrinsically unimportant.


h2. Technical considerations

Basically the author came up to the following idea: MySQL's @DATETIME@ format stores a date and time as-is, so without any automatic timezone conversion (*unlike* @TIMESTAMP@ does). _TODO: find source of this statement_ 

So it could be a general best practice to decide that every @Point In Time@ is to be stored and therefore assumed to be in UTC. That's what UTC is made for: to describe an event happening at a @Physical Point In Time@.

If a @Date Only@ is required, it could be an idea to force UTC 0:00 as corresponging time (unfortunately DateTimes are always bound together in most implementations we know, therefore no *real* @Date Only@ is provided)

Before storing and after retrieving is has to be decided what the intention of the date is: @Physical or Logical Point In Time@ or @Date Only@. Dependant of this, the adjustments could be made, i.e. deciding what Timezone the user intended to provide resp. what timezone he expects.

If the user, for example, provides an invitation to a party in Stuttgart, taking place May 30, 19 o'clock, this is a @Logical Point In Time@. Disregarding locational aspects, we assume DST and therefore store May 30, 18 o'clock in the Database (which is implicitly UTC because per design)."
33311,TYPO3.Flow,Bug,"",Resolved,Must have,AuthenticationProviderManager::isAuthenticated does not work in authentication request,Kira Backes,Christian Müller,2012-02-29 20:38,Security,"",2012-01-19,"","",100,2012-01-19 04:27,"","",432300,"",Git master,"If the client does not have a session and the client authenticates, then a new session is created. The method isAuthenticated checks if the current session canBeResumed(), but that method again checks for the session in $_COOKIE. Since the session was just created, the isAuthenticated method never works in the authentication request. It only starts working in all subsequent requests, since the new session is then available in $_COOKIE."
33371,TYPO3.Flow,Feature,"",Resolved,Must have,HTTP 1.1 Support,Robert Lemke,Robert Lemke,2012-06-20 15:16,Http,1.1 RC1,2012-05-17,"","",100,2012-01-22 11:15,"","",435200,0.00,"","Implement proper HTTP 1.1 support.

This issue is a stub for the corresponding FLOW3 1.1 key feature (until I come up with some better description)"
33394,TYPO3.Fluid,Feature,"",Needs Feedback,Should have,Logical expression parser for BooleanNode,Tobias Liebig,Tobias Liebig,2014-08-14 08:10,Core,"",2012-01-23,"","",90,2012-01-23 13:01,"","",436300,"","","In boolean ViewHelper attributes, like the f:if condition, one might want to use boolean expressions and boolean operators like && (and), || (or) or ! (not).

The @BooleanNode@ needs to parse this logical expressions."
33397,TYPO3.Flow,Bug,"",Resolved,Should have,Difference for ManyToMany with JoinTable annotation and without,Christian Müller,Karsten Dambekalns,2012-08-31 05:35,Persistence,2.0 beta 1,2012-01-23,"","",100,2012-01-23 14:44,"","",436450,"",FLOW3 1.1.0 beta 2,"There is a difference between joinColumn creation with JoinTable annotation and without for ManyToMany relations. In case there is a JoinTable annotation (and no options for columns are set) the automatic creation inverses the columns so the join works but the columns are named wrong / used wrong.

So if you join class A and Class B the resulting join table will have columns for A identifier and B identifier but the inserted identifiers are exactly the opposite. This does not happen if the JoinTable Annotation is dropped completely.

Thanks to Kira Backes for noticing.

The fix is simple but probably a breaking change."
33398,TYPO3.Flow,Task,"",Resolved,Could have,Use boolean instead of bool in docblocks (CGL),Karsten Dambekalns,Karsten Dambekalns,2012-01-26 08:45,"",1.1,2012-01-23,"","",100,2012-01-23 15:23,"","",436500,"","",In some places _bool_ is used in docblocks (e.g. for return and param types) instead if the preferred _boolean_.
33410,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Production Settings.yaml.example is not useable as is,Christian Müller,Christian Müller,2012-05-21 11:03,"",1.0.5,2012-01-24,"","",100,2012-01-24 05:54,"","",437100,"",Git master,"The Production context Settings.yaml.example contains the following lines:

TYPO3:
  FLOW3:
    persistence:
      backendOptions:
        dbname: 'quickstart' # adjust to your database name
        user: ''             # adjust to your database user
        password: ''         # adjust to your database password
      doctrine:
        # If you have APC, you should consider using it for Production,
        # also MemcacheCache and XcacheCache exist.
        # cacheImplementation: 'Doctrine\Common\Cache\ApcCache'

If used as is this will clean the doctrine settings as everything below doctrine is commented out, so an empty value is assigned. This leads to unsuspected errors that are difficult to track down to this.

A safe example should have the doctrine key commented out too."
33417,TYPO3.Flow,Bug,"",Resolved,Should have,kickstart:package does not update .Shortcuts,Robert Lemke,Christian Müller,2012-03-12 21:38,Package,1.1,2012-01-24,"","",100,2012-01-24 11:54,"","",437450,"",Git master,"For some reason the .Shortcuts sub directory for the new package is not created after a new package has been kickstarted. Tested this with kickstart:actioncontroller --generate-related, but I assume that it's the same with kickstart:package"
33421,TYPO3.Fluid,Bug,"",Resolved,Should have,AbstractFormFieldViewHelper does not resolve property path,Bastian Waidelich,Bastian Waidelich,2012-01-26 08:46,ViewHelpers,"",2012-01-24,"","",100,2012-01-24 13:33,"","",437650,"",Git master,"When binding a form field to a property like
<pre>
<f:form.textfield property=""some.property"" />
</pre>

The resulting element name attribute should be:
<pre>
[...] name=""formPrefix[formObjectName][some]property""
</pre>

This works as long as a form object name is specified (<f:form objectName=""xyz"" />) but it fails to resolve the property path if not:

<pre>
[...] name=""formPrefix[some.property]""
</pre>"
33460,TYPO3.Flow,Bug,"",Resolved,Should have,Missing function visiblity declarations,Aske Ertmann,Karsten Dambekalns,2012-02-29 20:38,"",1.1,2012-01-26,"","",100,2012-01-26 07:33,"","",439600,"",Git master,"I found a missing visiblity declaration in \TYPO3\FLOW3\MVC\Web\Routing\Route, and thought I'd search to see if there were more.. With this ""grep -rin $'\t'function *"" in the FLOW3 package folder I found 6 occurrences..

<pre>
TYPO3.FLOW3/Classes/Cache/Frontend/FrontendInterface.php:109:	function flush();
TYPO3.FLOW3/Classes/MVC/Web/Routing/Route.php:472:	function extractInternalArguments(array &$arguments) {
TYPO3.FLOW3/Classes/Persistence/Doctrine/Mapping/Driver/Flow3AnnotationDriver.php:673:			function ($className) {
TYPO3.FLOW3/Classes/Persistence/Doctrine/Service.php:164:			function ($message) use ($that) {
TYPO3.FLOW3/Classes/Utility/Environment.php:505:					function(&$value, $key) {
TYPO3.FLOW3/Tests/Functional/AOP/Fixtures/Name.php:27:	function __construct($name) {
</pre>

The Route function ""extractInternalArguments"" should be protected, as discussed with Bastian, since it's would require to construct a new route and it's not part of the api (@api) so I could likely change. It's stems from this commit: https://review.typo3.org/#change,5779

I haven't looked for further details about the other occurrences.."
33465,TYPO3.Flow,Bug,"",New,Should have,Some vital commands to recover the system fail when recovery is needed,Karsten Dambekalns,"",2012-01-26 09:51,Command,"",2012-01-26,"","",0,2012-01-26 09:51,"","",439850,"",Git master,"There are several ways to bring the system into an unstable state, like activating a package that depends on another, unavailable package.

In those cases deactivating that package using the commands for that purpose is not possible, as all needed commands die too early."
33469,TYPO3.Flow,Feature,Task #36800: Streamline Resource object API,Rejected,Should have,Support for temporary Resources,Bastian Waidelich,"",2013-08-02 11:03,Resource,"",2012-01-26,"","",0,2012-01-26 11:05,"","",440050,"","","Currently all resources need a Database, because the resource manager uses it in order to store resource pointers.
It should be possible to work with resources without having to use the (doctrine) persistence layer."
33487,TYPO3.Fluid,Feature,"",Closed,Could have,Configure from what package to use Templates/Partial/Layouts,Soren Malling,Bastian Waidelich,2013-07-29 07:58,Core,"",2012-01-27,"","",0,2012-01-27 05:48,"","",440900,"","","This could be considered as a discussion, and not a final feature request.

My feature wish, is to make is possible to configurate from which package to use templates/partials/layout file.

Purpose:

Create a application, and create a secondary application only containing the template files/different layout.


This is most likely possible through AOP, but wouldn't it make sense to have it as a actual configuration property? "
33493,TYPO3.Fluid,Feature,"",Resolved,Could have,Allow DebugViewHelper output only the type of the input variable,Adrian Föder,Adrian Föder,2012-05-08 20:39,ViewHelpers,1.1,2012-01-27,"","",100,2012-01-27 08:43,"","",441200,"","","Due to the var_dump drawback that sometimes the memory consumption is too large or the list just becomes too long, I suggest a flag that only outputs the type of the intended variable instead of its dump."
33494,TYPO3.Fluid,Feature,"",Resolved,Should have,Verify state and future intentions of a persistence identity VH,Adrian Föder,Adrian Föder,2012-06-18 04:37,ViewHelpers,1.1 RC1,2012-01-27,"","",100,2012-01-27 09:50,"","",441250,"","","Currently, there is an Identity.JsonViewHelper that has two major drawbacks:

* the Code Example talks about a Persistence.Identity ViewHelper that only outputs raw @97e7e90a-413c-44ef-b2d0-ddfa4387b5ca@, for example
* the actual output of the Identity.JsonViewHelper is @json_encode(array('__identity' => $identifier))@

additionally, in the Conference package there's a @Identity.Uuid@ that basically also outputs raw @97e7e90a-413c-44ef-b2d0-ddfa4387b5ca@.


I do not agree with the following things in the current situation:

* I think there should be a better name than Persistence.Identity; the ""namespace"" Persistence doesn't feel good to me. Let's discuss this, maybe you agree.

* Outputting JSON would not make much sense; at least I'd expect the RAW value put out that could than be edited further (in this case I agree with the code sample's behaviour or the Conference's Identity.Uuid's(same).

Maybe the Format.Json VieHelper I just pushed could be involved, at least as post-processor using ViewHelper chaining or similar.

I really think we should clean up here some things.

--

While writing this, I think at least correcting the Code Example should be duty, and there should be a new flag called e.g. ""rawIdentifier"" that only returns the plain ID string with no JSON around.

But, well, the VH's name is already JSON, so...
what? :)

Just tell me some guidelines, I will gladly do it."
33495,TYPO3.Flow,Bug,"",Resolved,Should have,No alternative entry point type can be configured,Robert Lemke,Robert Lemke,2012-04-11 08:38,Security,1.1,2012-01-27,"","",100,2012-01-27 10:58,"","",441300,"",Git master,"Theoretically it is possible to use another type of entry point than the pre-configured WebRedirect. In practice, however, it is not possible to override the pre-defined type due to a bug in the corresponding parsing function in AuthenticationProviderManager.

While being on it, the setting names and structure could need some improvement to assert that only one entry point can be defined at all. The result should look like this:

        providers:
          DefaultProvider:
            provider:   'PersistedUsernamePasswordProvider'
            token:      'TYPO3\FLOW3\Security\Authentication\Token\UsernamePasswordHttpBasic'
            entryPoint: 'HttpBasic'
            entryPointOptions:
              realm: 'Blog'
"
33519,TYPO3.Flow,Bug,"",Resolved,Must have,Route always appends a question mark even if the route already has arguments,Aske Ertmann,Aske Ertmann,2012-05-15 09:21,MVC - Routing,1.1,2012-01-29,"","",100,2012-01-29 16:48,"","",442500,"",Git master,"The Route class (MVC\Web\Routing\Route) always append additionalParameters etc., with a question mark in front even though the url could have arguments already. This happens if a routehandler resolves everything & creates the argument string by it self."
33530,TYPO3.Flow,Bug,"",Closed,Must have,SubRequest should return format of root request,Bastian Waidelich,Bastian Waidelich,2012-05-08 09:43,MVC,1.1,2012-01-30,"","",0,2012-01-30 07:19,"","",443050,"",Git master,"The SubRequest is currently missing getter and setter for the request format.
This is required for Fluid for example where the rendering is bound to the current request. If that request is a SubRequest (e.g. in Plugins or Widgets) the format should inherit the format of the root request."
33531,TYPO3.Flow,Feature,"",Resolved,Should have,DateTimeConverter should support DateTime subclasses,Bastian Waidelich,Bastian Waidelich,2012-05-03 08:40,Property,1.1,2012-01-30,"","",100,2012-01-30 08:05,"","",443100,"","","Currently DateTimeConverter only accepts target types of 'DateTime'.
It should be possible to convert sub-types too."
33537,TYPO3.Flow,Task,"",Closed,Won't have this time,Rename NotEmpty Validator to Required,Bastian Waidelich,Bastian Waidelich,2012-05-08 12:02,Validation,"",2012-01-30,"","",0,2012-01-30 10:19,"","",443400,"","","The NotEmpty validator has a special meaning as it is executed for empty values (NULL or '') too. ""NotEmpty"" is a bit misleading and I would suggest to rename that to ""Required"".
For compatibility reasons the NotEmpty validator should be kept as subclass with @obsolete annotation."
33539,TYPO3.Flow,Feature,"",Rejected,Should have,Append query arguments from RoutePart handlers,Aske Ertmann,Bastian Waidelich,2013-08-26 05:04,MVC - Routing,"",2012-01-30,"","",0,2012-01-30 12:17,"","",443500,"","","It would be nice if we could append query arguments from routepart handlers, e.g. a appendArguments method, where it would be possible to add other query parameters which aren't a part of the returned path. In Phoenix we need this for modules since the route part handler for modules creates a query string, which causes this problem: #33519. It would be better if it could just add some arguments, and all the logic about creating the querystring, removing empty values, converting objects to identifiers etc."
33551,TYPO3.Fluid,Bug,"",New,Must have,View helper values break out of a partial scope,Stephan Schuler,Sebastian Kurfuerst,2013-06-05 08:41,Core,"",2012-01-31,"","",0,2012-01-31 06:05,"","",444100,"",(any),"If a partial is called at least twice which has a certain view helper inside, the last occurence of the inside value breaks out of the partials scope and will be the result of all usages of this view helper from now on.

This only appears when the first call triggers the caching mechanism but executes the uncached template (AbstractTemplateView::render() $parsedTemplate is instance of ""TYPO3\Fluid\Core\Parser\ParsingState"").
As soon as the template is a compiled one (AbstractTemplateView::render() $parsedTemplate is instance of ""TYPO3\Fluid\Core\Compiler\AbstractCompiledTemplate""), the result is as expected.

Main template:
<pre>
<html>
	<head>
		<title>Little bug</title>
	</head>
	<body>
		<ol>
			<li><f:escape type=""xml"">I am pre partial</f:escape></li>
			<f:render partial=""Demo"" arguments=""{value: 'I am the first node within a partial'}"" />
			<f:render partial=""Demo"" arguments=""{value: 'I am not the first but the second node within a partial'}"" />
			<li><f:escape type=""xml"">I am post partial</f:escape></li>
		</ol>
	</body>
</html>
</pre>

Demo-Partial:
<pre>
<li><f:escape type=""xml"">{value}</f:escape></li>
</pre>

The expected result would be:
<pre>
1. I am pre partial
2. I am the first node within a partial
3. I am not the first but the second node within a partial
4. I am post partial
</pre>

But the given result is:
<pre>
1. I am pre partial
2. I am the first node within a partial
3. I am not the first but the second node within a partial
4. I am not the first but the second node within a partial
</pre>"
33562,TYPO3.Flow,Bug,"",Resolved,Should have,FileBackend didnt use defaultLifetime if lifetime is null,Mike Franke,Karsten Dambekalns,2012-02-15 20:46,Cache,1.0.3,2012-01-31,"","",100,2012-01-31 10:27,"","",444600,"",Git master,"FileBackend.php#L191
<pre>
$expiryTime = ($lifetime === NULL) ? 0 : (time() + $lifetime);
</pre>

should be

<pre>
$lifetime = ($lifetime === NULL) ? $this->defaultLifetime : $lifetime;
$expiryTime = ($lifetime === 0) ? 0 : (time() + $lifetime);
</pre>"
33569,TYPO3.Fluid,Bug,"",Resolved,Should have,AbstractFormFieldViewHelper always converts entities to identities,Bastian Waidelich,Bastian Waidelich,2012-02-01 08:52,ViewHelpers,"",2012-01-31,"","",100,2012-01-31 15:19,"","",444950,"",Git master,AbstractFormFieldViewHelper::getValue() currently always tries to convert objects by calling PersistenceManager::getIdentifierByObject(). This makes it impossible for custom ViewHelpers to access the unmodified value.
33570,TYPO3.Fluid,Bug,"",Resolved,Should have,UploadViewHelper must not convert resources if errors occurred,Bastian Waidelich,Bastian Waidelich,2012-02-01 08:52,ViewHelpers,"",2012-01-31,"","",100,2012-01-31 15:25,"","",445000,"",Git master,"If getMappingResultsForProperty() contains errors, uploaded resources should not been converted."
33581,TYPO3.Flow,Feature,"",Resolved,Should have,Extend configuration/context,Peter Russ,Sebastian Kurfuerst,2012-05-09 09:28,Core,1.1 beta 1,2012-02-01,"","",100,2012-02-01 04:32,"","",445550,"","","So far FLOW3 context is limited to Development, Testing and Production. 
Further there is no way that operation/admin can add or overule configuration e.g. to set credentials which should not be store in a dev repro.

h2. FLOW3_SUBSYSTEM

To give more flexibility to the configuration a new environment constant is added *FLOW3_SUBSYSTEM*:
this could hold e.g. machine or vhost name

If this is set Configuration will be created that way:
Configuration/Settings.yaml
Configuration/<FLOW3_CONTEXT>/Setting.yaml
Configuration/<FLOW3_CONTEXT>/<FLOW3_SUBSYSTEM>.Setting.yaml

The benefit of that is that you can run e.g. Production Context on a machine for staging with slightly different settings e.g. for the database or a LDAP.

h2. FLOW3_STATIC_CONFIGURATION

Credentials or settings that should be set by operations/admin can be define by providing the absolute path and filename without '.yaml' in *FLOW3_STATIC_CONFIGURATION*.

If this is set Configuration will be created that way:
Configuration/Settings.yaml
Configuration/<FLOW3_CONTEXT>/Setting.yaml
Configuration/<FLOW3_CONTEXT>/<FLOW3_SUBSYSTEM>.Setting.yaml
<FLOW3_STATIC_CONFIGURATION>.yaml

Only small changes in Web/index.php, Bootstrap and ConfigurationManager are required.

Patch attached
"
33587,TYPO3.Flow,Feature,Task #36800: Streamline Resource object API,New,Should have,Automatically remove unused Resources,Bastian Waidelich,"",2013-11-11 12:21,Resource,"",2012-02-01,"","",0,2012-02-01 06:35,"","",445850,"","","Currently you have to delete unused Resources manually (resource & resource pointer records from the database and the actual file & possibly symlink) when a resource is no longer needed.
This should be a feature of FLOW3.
Because it is not always possible to determine whether a resource is still in use a CLI command could remove the ones that are not referenced and older than x minutes."
33589,TYPO3.Flow,Task,"",Resolved,Should have,Issue warning / error when trying to @inject into private property,Robert Lemke,Adrian Föder,2012-02-06 20:46,Object,1.1,2012-02-01,"","",100,2012-02-01 09:02,"","",445950,"","","Class properties declared as private cannot be used for property injection by using the @FLOW3\Inject annotation because the proxy class can only set it in its own scope. If private properties are really necessary, constructor or setter injection can be used as a workaround.

FLOW3 should throw an exception on detecting an inject annotation on a private property."
33601,TYPO3.Flow,Bug,"",Resolved,Should have,Logging of incorrect doc comments in reflection is broken,Karsten Dambekalns,Karsten Dambekalns,2012-02-02 08:44,Reflection,1.1,2012-02-01,"","",100,2012-02-01 12:07,"","",446550,"",Git master,"If one enables
<pre>TYPO3:
  FLOW3:
    reflection:
      logIncorrectDocCommentHints: TRUE</pre>
nothing happens, as the settings are not available in the ReflectionService."
33621,TYPO3.Flow,Bug,"",Resolved,Should have,Filebackend reports error when trying to rename file due to concurrent proccesses,Peter Russ,Bastian Waidelich,2014-02-25 09:34,Cache,2.0.1,2012-02-02,"","",100,2012-02-02 08:19,"","",447500,"",FLOW3 1.0.2,"Due to concurrent processes it happens that a temp-cache-file gets renamed while an other process is just writing it.
Further there is an error in the error handling.

We fixed both.
# added an exclusive lock for the writing operation
# added counters for a break to avoid an endless loop due to file system errors
# added timers for getting the process to sleep
# fixed error handling"
33628,TYPO3.Fluid,Bug,"",Needs Feedback,Must have,Multicheckboxes (multiselect) for Collections don?t work,Kira Backes,Christian Müller,2012-06-28 04:27,ViewHelpers,"",2012-02-02,"","",0,2012-02-02 09:48,"","",447850,"",FLOW3 1.0.0,"Let?s say I have a search and there are 20 categories which are selectable (I can select one, three or even all of them) then I would like all selected categories to be loaded into a collection, so I can search in those categories. For this use-case there is the following code:

Action
<pre>
	/**
	 * Submit search action
	 *
	 * @param \Doctrine\Common\Collections\ArrayCollection<\Package\Name\Domain\Model\Category> $categories
	 * @return void
	 */
	public function submitSearchAction(\Doctrine\Common\Collections\ArrayCollection $categories) {
</pre>

Template
<pre>
		<f:for each=""{categories}"" as=""category"" iteration=""it"">
			<div style=""width: 300px; float: left;"">
				<f:form.checkbox  id=""category{it.cycle}"" name=""categories[]"" value=""{category}"" />
				<label for=""category{it.cycle}""><f:translate>{category.name}</f:translate></label>
			</div>
		</f:for>
</pre>

Now the problem is that the CheckBoxViewHelper always renders an empty hidden field with an empty value for check boxes. Due to this hidden field with an empty value FLOW3 tries to load the Category with the persistence identifier of """", which throws an exception. When I remove the hidden field (in a hacky way) then everything works as expected.

<pre>
#1297759968: Exception while property mapping at property path ""0"": Object with identity """" not found.

Nested Exception
#1297933823: Object with identity """" not found.
TYPO3\FLOW3\Property\Exception\TargetNotFoundException
</pre>"
33639,TYPO3.Flow,Bug,"",Rejected,Won't have this time,"Error in mySQL Statements with columnnames like ""from"" or ""char""",Jan Roth,Karsten Dambekalns,2012-02-09 03:40,Persistence,"",2012-02-02,"","",0,2012-02-02 14:22,"","",448400,"",FLOW3 1.0.2,"The mySQL Statements must be escaped with `columnname`

SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from VARCHAR(255) DEFAULT NULL, PRIMARY KEY(flow3_persistence_identifier)) ENGIN' at line 1"
33645,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong return value getPasswordHashingStrategyAndIdentifier(),Karsten Dambekalns,Karsten Dambekalns,2012-03-05 20:38,Security,1.1,2012-02-03,"","",100,2012-02-03 06:29,"","",448700,"",Git master,"getPasswordHashingStrategyAndIdentifier is supposed to return an array, but in case a strategy identifier has been requested already, an object will be returned and break the calling code."
33698,TYPO3.Flow,Bug,"",Resolved,Must have,ObjectAccess::setProperty must work with numeric indexes,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-02-29 20:38,Reflection,1.1 beta 1,2012-02-06,"","",100,2012-02-06 01:04,"","",451350,"",FLOW3 1.0.0,"When trying to set a value to an @ArrayAccess@ object with a numeric index, the ObjectAccess::setProperty() method throws an exception because $propertyName must be a string.

However, we should allow integers there as well.

This changeset is needed for the refactored TYPO3 Phoenix Rendering."
33705,TYPO3.Flow,Task,"",Resolved,Should have,Inconsistent spelling of sub package and class names,Robert Lemke,Robert Lemke,2012-04-11 08:38,"",1.1,2012-02-06,"","",100,2012-02-06 08:58,"","",451700,"","","The FLOW3 package contains, for historical reasons, sub packages and in consequence namespaces and class names which don't follow the naming conventions which specify UpperCamelCase.

To be in line with the conventions, these namespaces should be renamed, for example ""AOP"" should become ""Aop"". However, package keys are not affected and thus ""FLOW3"" stays ""FLOW3""."
33707,TYPO3.Flow,Bug,"",Resolved,Must have,It is possible to authenticate with an expired account,Patrick Pussar,Karsten Dambekalns,2012-02-22 08:47,Security,1.0.3,2012-02-06,"","",100,2012-02-06 09:24,"","",451800,"",FLOW3 1.0.0,authenticationManager->authenticate() works even with expired account: account->getExpirationDate() is in the past.
33710,TYPO3.Flow,Feature,"",New,Should have,Configuration based on Domain,Marc Neuhaus,"",2012-02-06 10:08,"","",2012-02-06,"","",0,2012-02-06 10:08,"","",451950,"","","i know you can change the Configuration based on the Context through apache config and htaccess.

I'm currently forced to work with Drupal, and the only ""good"" thing about it so far is the concept of handling multisites. 

Basically it selects the settings.php based on the domain names.

Example:
default/settings.php
dev.my-domain.com/settings.php
www.my-domain.com/settings.php

For a detailed explanation take a look here: http://drupal.org/documentation/install/multi-site


I think it would be really neat to have this behavior in FLOW3. 

Example:

Configuration/Settings.yaml
Configuration/www.my-domain.com/Settings.yaml
Configuration/dev.my-domain.com/Settings.yaml
Configuration/localhost.my-domain/Settings.yaml

By the way, Subfolders are handled like this:

localhost.my-domain -> localhost/my-domain
192.168.1.23.my-domain -> 192.168.1.23/my-domain

Greetings Marc"
33719,TYPO3.Flow,Bug,"",Closed,Should have,.Shortcuts symlinks use absolute path,Rens Admiraal,Rens Admiraal,2012-05-07 16:53,Package,1.1,2012-02-06,"","",100,2012-02-06 15:34,"","",452400,"",Git master,"The symlinks in the .Shortcuts folder use absolute paths. This is an issue in chrooted environments where the path to the document root can be a different one then the path in the webserver process.

This causes the symlinks to be working in only one situation: during CLI execution or during a HTTP request, depending on which generated the symlink."
33720,TYPO3.Flow,Bug,"",Resolved,Should have,\TYPO3\FLOW3\I18n\Xml\* Namespace doesn't exists,Tolleiv Nietsch,Tolleiv Nietsch,2012-02-08 08:47,I18n,1.1,2012-02-06,"","",100,2012-02-06 16:09,"","",452450,"",Git master,The namespace is used but never defined - the suggested patch changes the 1.5 occurrences to use the right Classes...
33789,TYPO3.Flow,Bug,"",Resolved,Could have,PersistentObjectConverter may break with < PHP 5.3.4,Karsten Dambekalns,Karsten Dambekalns,2012-03-12 21:38,Property,1.1,2012-02-08,"","",100,2012-02-08 10:22,"","",455850,"",Git master,The use of @newInstanceArgs()@ inside the @PersistentObjectConverter@ breaks for PHP older than 5.3.4 if a class has no constructor (see https://bugs.php.net/52854).
33801,TYPO3.Flow,Task,"",Rejected,Could have,"Add a ""mixed"" type converter",Ondrej Hatala,Bastian Waidelich,2014-05-11 06:57,Property,"",2012-02-09,"","",0,2012-02-09 03:32,"","",456450,"","","Problem:
""mixed"" is used as a default type in case you don't explicitly provide proper type but there is no such converter, resulting in ambiguous behaviour.

Example:
When you create a command with a parameter in CommandController, and don't provide it's type properly by the @param annotation, ""mixed"" is determined as a default. When trying to use this command, you will get an Exception with message ""Exception while property mapping at property path """":Could not find a suitable type converter for ""mixed"" because no such class or interface exists.""

Suggested solution: 
Create a ""mixed"" type converter that would be essentially NOP, thus making your code work the way you expect it to."
33811,TYPO3.Flow,Bug,"",Resolved,Must have,Not all caches are flushed (automatically) if needed,Karsten Dambekalns,Robert Lemke,2012-04-26 08:38,Cache,1.1,2012-02-09,"","",100,2012-02-09 07:36,"","",456950,"",Git master,"At least these are affected:

* Fluid template cache (e.g. when changing a ViewHelper class)
* XLIFF / locale cache (after XLIFF files have been changed)"
33812,TYPO3.Fluid,Task,"",Resolved,Must have,Rename key to id in TranslateViewHelper,Karsten Dambekalns,Karsten Dambekalns,2012-02-16 20:47,ViewHelpers,1.1,2012-02-09,"","",100,2012-02-09 07:53,"","",457000,"","","Since the key attribute refers to the trans-unit id in XLIFF, it is more intuitive to rename the attribute to id."
33814,TYPO3.Fluid,Feature,"",Resolved,Should have,Hint how to allow string comparison in IfViewHelper,Adrian Föder,Adrian Föder,2012-02-22 08:48,ViewHelpers,1.1,2012-02-09,"","",100,2012-02-09 08:43,"","",457100,"","","currently, string comparisons are not directly supported. With a trick, it can be achieved nevertheless (@{0: foo.bar} == {0: 'stringToCompare'}@).
The Code example should mention that trick at least until ""real"" comparisons are allowed."
33817,TYPO3.Fluid,Feature,"",Resolved,Could have,SwitchViewHelper,Adrian Föder,Bastian Waidelich,2013-05-29 08:36,ViewHelpers,"",2012-02-09,"","",100,2012-02-09 09:28,"","",457250,"","","Fluid should provide a Switch VH that behaves like the well-known switch-case structure.

Syntax suggestion:
<pre>
<f:switch comparand=""{foo.bar}"">
  <f:switch.case comparand=""valuecase1"">
    <span>Output in this case.</span>
  </f:switch.case>

  <f:switch.case comparand=""nothervaluecase"">
    <a>Output in another case.</a>
  </f:switch.case>

  <f:switch.case comparand=""third"">
    <a>Output in another case.</a>
  </f:switch.case>

  <f:switch.default>
    Default value if nothing else matches.
  </f:switch.default>
</f:switch>
</pre>


There's an already present implementation here: http://fedext.net/fed-viewhelpers/loops-conditions/switch/ but tbh I at least don't agree with the ""default"" implementation because it could collide with the value being ""default"" as string:
<pre>
<fed:switch value=""{switchValue}"">
  <fed:case case=""1"">
      <p>Case was 1</p>
  </fed:case>
  <fed:case case=""default"">
    <p>Case was default</p>
  </fed:case>
</fed:switch>
</pre>"
33836,TYPO3.Flow,Task,"",Resolved,Should have,Add better error handling to XML file parsing,Karsten Dambekalns,Karsten Dambekalns,2012-02-15 20:46,I18n,1.1,2012-02-10,"","",100,2012-02-10 08:21,"","",458200,"","",When parsing XML files the exception thrown in case of errors does not differentiate between filesystem and parsing errors. Plus no hints on the XML errors are given to the user.
33838,TYPO3.Flow,Feature,"",Resolved,Should have,Add a way to configure Doctrine Mapping Type,Dominique Feyer,Karsten Dambekalns,2015-03-06 04:30,Persistence,"",2012-02-10,"","",100,2012-02-10 08:43,"","",458300,"","","As I need some JSON object storage in FLOW3, i need to use a custome Doctrine Mapping Type to handle to conversion between object and database. 

As the documentation of Doctrine2 say here:
http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/basic-mapping.html#doctrine-mapping-types

Doctrine looks really flexible on this point, and if you found a solution to enable this in FLOW3 this could amazing.

The main problem is that $bootstrap->getEarlyInstance('Doctrine\ORM\EntityManager') or getObjectManager()->get('Doctrine\ORM\EntityManager') always return NULL in the boot method of the file package.php"
33862,TYPO3.Flow,Feature,"",Resolved,Should have,a shorthand for custom validators,Stefan Neufeind,Stefan Neufeind,2012-05-15 09:26,Validation,1.1,2012-02-12,"","",100,2012-02-11 18:44,"","",459500,"","","Instead of using the fully qualified classname (which is long) Extbase has a shorthand of the form <ExtName>:<ValName>. This will resolve to Tx_<ExtName>_Validation_Validator_<ValName>Validator there.

For FLOW3 instead of <ExtName> the <PackageName> could be used to create a class name.

(Thanks go to Martin Kutschker for that suggestion.)
"
33882,TYPO3.Flow,Bug,"",Rejected,Should have,XliffParser does not allow id-less translation,Kira Backes,Karsten Dambekalns,2012-02-16 05:10,I18n,"",2012-02-13,"","",0,2012-02-13 08:10,"","",460500,"",Git master,"If I want to translate completely without IDs I?m still forced to add IDs in the translation .xlf, because the id-less translation entries are overwritten at the following code (line 47 TYPO3.FLOW3/Classes/I18n/Xliff/XliffParser.php):

<pre>
				$parsedData['translationUnits'][(string)$translationElement['id']][0] = array(
					'source' => (string)$translationElement->source,
					'target' => (string)$translationElement->target,
				);
</pre>

This is fixed by replacing the previous code with the following:

<pre>
				$translationElementId = (string)$translationElement['id'];
				if ($translationElementId === '') {
					$translationElementId = uniqid();
				}
				$parsedData['translationUnits'][$translationElementId][0] = array(
					'source' => (string)$translationElement->source,
					'target' => (string)$translationElement->target,
				);
</pre>"
33883,TYPO3.Flow,Bug,"",Resolved,Should have,"Repositories must be singleton, but no checks are done on this",Kira Backes,Karsten Dambekalns,2012-05-03 08:40,Persistence,1.1,2012-02-13,"","",100,2012-02-13 08:17,"","",460550,"",Git master,"I have models with injected repositories and due to some change in the last 2 weeks in master I can no longer use FLOW3, since the following error comes up:
<pre>
Undefined method 'getDefaultOrderings'. The method name must start with either findBy or findOneBy! 
</pre>

This was tracable to the fact that \TYPO3\FLOW3\Reflection\ObjectAccess::isPropertyGettable checks for is_callable, which returns true for every method in Repositories (due to the magic __call method) which in turn causes \TYPO3\FLOW3\Validation\Validator\GenericObjectValidator::getPropertyValue to not use the direct property access, even though it would be needed."
33900,TYPO3.Fluid,Feature,"",Resolved,Should have,Change debug view helper for new extbase debugger,Alexander Schnitzler,Alexander Schnitzler,2012-07-10 02:27,ViewHelpers,"",2012-02-13,"","",100,2012-02-13 18:02,"","",461350,"","","Since Jochen Rau merged the backport of the FLOW3 Debugger into the extbase master the Fluid view helper should be changed, too."
33932,TYPO3.Flow,Bug,"",Resolved,Must have,AOP Proxy Compiler does not handle numeric annotation parameters,Alexander Berl,Karsten Dambekalns,2012-05-30 15:58,AOP,1.0.5,2012-02-15,"","",100,2012-02-14 18:37,"","",462950,"",Git 1.0,"In the TYPO3\FLOW3\Object\Proxy\Compiler::renderAnnotation function, there is currently no case for numeric annotation members, which leads to such values being parsed out of the original code.

When this happens, an Exception is thrown in Doctrine Annotation Parser that an identifier is expected instead of "")"".

*Test Case:*
- Create new annotation with an integer class member (e.g. ""amount"").
- Annotate a method or class with the annotation, setting the amount via _@annotation(amount=X)_

*Expected:*
The proxy class contains the same annotation _@annotation(amount=X)_

*Actual:*
The proxy class contains the annotation _@annotation(amount=)_ and a parsing exception is thrown within Doctrine.


If the parameter is set directly, no exception is thrown, but the parameter is also parsed out of the proxy class docblock (i.e. _@annotation_ instead of _@annotation(X)_)

*Solution:*
Add a elseif case inside renderAnnotation that checks for is_numeric:
<pre>
	} elseif (is_numeric($optionValue)) {
		$optionValueAsString = $optionValue;
</pre>"
33937,TYPO3.Flow,Feature,"",Accepted,Should have,"Convenience method to resolve public ""resource://"" paths",Bastian Waidelich,Karsten Dambekalns,2014-04-15 05:40,Resource,"",2012-02-15,"","",0,2012-02-15 05:25,"","",463200,"","","It would be helpful to have an easy way to resolve the 'resource://...' path 
to static resources.
Currently we end up using code like the following a lot:
<pre>
protected function resolveResourcePath($resourcePath) {
	$matches = array();
	preg_match('#resource://([^/]*)/Public/(.*)#', $resourcePath, $matches);
	if ($matches === array()) {
		throw new \TYPO3\Fluid\Core\ViewHelper\Exception('Resource path ""' . $resourcePath . '"" can\'t be resolved.', 1328543327);
	}
	$packageKey = $matches[1];
	$path = $matches[2];
	return $this->resourcePublisher->getStaticResourcesWebBaseUri() . 'Packages/' . $packageKey . '/' . $path;
}
</pre>"
33959,TYPO3.Flow,Feature,"",Resolved,Should have,Make quantity optional when using single numeric arguments in translations,Karsten Dambekalns,Karsten Dambekalns,2012-02-23 20:43,I18n,1.1,2012-02-15,"","",100,2012-02-15 17:15,"","",464250,"","","When using plural forms, the quantity to be used for finding the correct plural form has to be given explicitly. This is cumbersome when using a single numeric argument, as it means to pass the same value twice. Here is an example:

@<f:translate arguments=""{0: post.numberOfComments}"" quantity=""{post.numberOfComments}"">@

It would be nice if for single numeric arguments the quantity could be determined automatically:

@<f:translate arguments=""{0: post.numberOfComments}"">@
"
33968,TYPO3.Flow,Bug,"",Closed,Should have,Missing privileges to create symlinks in Windows cause exception,Richard Lederer,Rens Admiraal,2012-05-30 16:01,Resource,1.0.5,2012-02-16,"","",0,2012-02-16 03:52,"","",464700,"",FLOW3 1.0.2,"Warning: symlink() [<a href='function.symlink'>function.symlink</a>]: Cannot create symlink, error code(1314) in C:\xampp\htdocs\FLOW3\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_FLOW3_Resource_Publishing_FileSystemPublishingTarget_Original.php line 117
9 TYPO3\FLOW3\Error\ErrorHandler::handleError(2, ""symlink() [&lt;a href='function.symlink'&gt;function.sym?link&lt;/a&gt;]: Cannot create symlink, error code(1314)"", ""C:\xampp\htdocs\FLOW3\Data\Temporary\Development\C?Publishing_FileSystemPublishingTarget_Original.php"", 117, array)

8 symlink(""C:/xampp/htdocs/FLOW3/Packages/Framework/TYPO3.FLOW3/Resources/Public"", ""C:/xampp/htdocs/FLOW3/Web/_Resources/Static/Packages/TYPO3.FLOW3"")

7 TYPO3\FLOW3\Resource\Publishing\FileSystemPublishingTarget_Original::publishStaticResources(""C:/xampp/htdocs/FLOW3/Packages/Framework/TYPO3.FLOW3/Resources/Public/"", ""Packages/TYPO3.FLOW3/"")

6 TYPO3\FLOW3\Resource\Publishing\ResourcePublisher_Original::publishStaticResources(""C:/xampp/htdocs/FLOW3/Packages/Framework/TYPO3.FLOW3/Resources/Public/"", ""Packages/TYPO3.FLOW3/"")

5 TYPO3\FLOW3\Resource\ResourceManager_Original::publishPublicPackageResources(array)

4 TYPO3\FLOW3\Core\Bootstrap::initializeResources()

3 TYPO3\FLOW3\Core\Bootstrap::initializeForRuntime()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
33970,TYPO3.Flow,Feature,"",Resolved,Should have,Add translation files for bundled validator error messages,Karsten Dambekalns,Karsten Dambekalns,2012-02-23 20:43,I18n,1.1,2012-02-16,"","",100,2012-02-16 04:50,"","",464800,"","",""
33971,TYPO3.Flow,Bug,"",Resolved,Should have,Missing id attributes in XLIFF files are not reported to the user,Karsten Dambekalns,Karsten Dambekalns,2012-04-26 20:38,I18n,1.1,2012-02-16,"","",100,2012-02-16 05:10,"","",464850,"",Git master,"XLIFF requires id attributes, but if they are missing, FLOW3 does not complain. Instead, _something_ happens in the XLIFF parser. An exception would be the better alternative to that."
33973,TYPO3.Flow,Bug,"",Resolved,Must have,Duplicate error id used in StringValidator,Karsten Dambekalns,Karsten Dambekalns,2012-03-05 20:38,Validation,1.0.3,2012-02-16,"","",100,2012-02-16 05:56,"","",464950,"",FLOW3 1.0.2,"StringValidator uses the error id 1238108068, but that is used in StringLengthValidator as well."
33975,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Tweak existing XLIFF files according to translation team feedback,Karsten Dambekalns,Karsten Dambekalns,2012-02-16 20:47,"",1.1,2012-02-16,"","",100,2012-02-16 06:17,"","",465050,"","","The XLIFF file miss @xml:space=""preserve""@, a trans-unit must look like:
<pre><trans-unit id=""mlang_labels_tablabel"" xml:space=""preserve"">
  <source>Webpages and databasecontent</source>
</trans-unit></pre>
Each trans unit must have the @xml:space=""preserve""@ attribute, this is needed by Pootle to avoid some weird problem.

An other point, please add @product-name=""package.name""@ to the file element, we use it for v4 core, and it's sometime useful to have this information in the XLIFF."
34018,TYPO3.Flow,Bug,"",Closed,Must have,Annotation with a numeric value is not correctly generated,Georg Großberger,Karsten Dambekalns,2012-02-29 05:08,Object,1.0.4,2012-02-16,"","",0,2012-02-16 14:40,"","",467200,"",Git 1.0,"I have a domain model declared abstract with the following annotation:
<pre>
 * @ORM\InheritanceType(""SINGLE_TABLE"")
 * @ORM\DiscriminatorColumn(name=""location_type"", type=""string"", length=10)
</pre>

When running a new request I got an exception from Doctrine with the message 
_[Syntax Error] Expected PlainValue but found ')' ..._ 

After some digging I found the problem: TYPO3\FLOW3\Object\Proxy\Compiler::renderAnnotation recreated the annotation, messing up the ""length"" property. In the proxy, Doctrine tries to parse, the annotation was turned into:
<pre>
 * @\Doctrine\ORM\Mapping\InheritanceType(""SINGLE_TABLE"")
 * @\Doctrine\ORM\Mapping\DiscriminatorColumn(name=""location_type"", type=""string"", length=)
</pre>

The problem is, that scalar values are only added if they are strings or boolean. 
Adding a 
<pre>
} elseif (is_scalar($optionValue)) {
	$optionValueAsString = (string) $optionValue;
}
</pre>
after the ""elseif (is_array($optionValue))"", solved the problem.
"
34048,TYPO3.Flow,Bug,"",Closed,Must have,ResolveValidator breaks on DateTime method arguments,Kira Backes,Bastian Waidelich,2012-04-25 17:40,Validation,1.0.5,2012-02-17,"","",0,2012-02-17 12:42,"","",468700,"",Git 1.0,"When a dateTime argument is set in a method the ResolveValidator breaks, he tries to create a DateTime (instead of a validator)

Fixable by the following:

Change \TYPO3\FLOW3\Validation\ValidatorResolver::resolveValidatorObjectName  (line 278)

<pre>
		if ($this->objectManager->isRegistered($validatorType)) {
</pre>

to

<pre>

		if ($this->objectManager->isRegistered($validatorType) &&
				$this->reflectionService->isClassImplementationOf($this->objectManager->getClassNameByObjectName($validatorType), 
						'TYPO3\FLOW3\Validation\Validator\ValidatorInterface')) {
</pre>"
34050,TYPO3.Flow,Bug,"",Resolved,Must have,DatetimeParser code documentation is wrong,Kira Backes,Karsten Dambekalns,2012-06-26 06:35,I18n,1.1 RC1,2012-02-17,"","",100,2012-02-17 12:56,"","",468800,"",FLOW3 1.0.0,"The public methods expect a DateTime object, which they then forward as a string to the internal methods, which then break when using substr on a DateTime object."
34110,TYPO3.Flow,Bug,"",Resolved,Should have,Proxy Class strips off Class Doc Comments,Bastian Waidelich,Bastian Waidelich,2012-02-27 20:43,Object,1.0.3,2012-02-20,"","",100,2012-02-20 06:17,"","",471700,"",Git 1.0,"The Proxy Class replaces the class doc comment of the original class with <pre>Autogenerated Proxy Class</pre>.
Instead it should keep the comments of the source class."
34133,TYPO3.Flow,Feature,"",New,Could have,RFC: Handle Semicolons in Path part of URIs as Scoped Path Parameters,Jacob Floyd,"",2012-02-21 09:17,Property,"",2012-02-21,"","",0,2012-02-21 05:27,"","",472850,"","","h1. Scoped Path Parameters

The URI RFCs hint at what I think will make an awesome, unique, feature for Flow3, and Typo3 Phoenix: Scoped Path Parameters. It's a powerful feature that could allow all sorts of search faceting, ""matrices (Tim Berners-Lee's 1996 thoughts on the possibility of Matrix URIs - We'd have to use JavaScript to achieve the same relative Matrix effect today)"":http://www.w3.org/DesignIssues/MatrixURIs.html, or scoped parameters available for use in packages.

One of the possible uses for a path parameter in Typo3 might be to view historical versions of pages or branches of the page tree. You could set the version parameter on a particular part of the hierarchical path (not necessarily the final segment that identifies the page) and get past published versions of a page in that branch. Workspaces are great for queuing future work and pushing it through the required workflow stages, but workspaces are awkward for managing past versions. But I digress - what exactly is a path parameter?

h2. What is a _Path Parameter_?

> A URI path pa­ram­e­ter is part of a path seg­ment that oc­curs after its name. Path pa­ram­e­ters offer a unique op­por­tu­ni­ty to con­trol the rep­re­sen­ta­tions of re­sources. Since they can't be ma­nip­u­lat­ed by stan­dard Web forms, they have to be con­struct­ed out of band. Since they're part of the path, they're se­quen­tial, un­like query strings. Most im­por­tant­ly, how­ev­er, their be­haviour is not ex­plic­it­ly de­fined. - ""HTTP Path Parameter Syntax (HTTP Path Parameter Syntax by Dorian Taylor)"":http://doriantaylor.com/policy/http-url-path-parameter-syntax

Consider the latest version of the URI spec (""3986 (Uniform Resource Identifier [URI]: Generic Syntax)"":http://datatracker.ietf.org/doc/rfc3986/) which says:

> URI producing applications
> often use the reserved characters allowed in a segment to delimit
> scheme-specific or dereference-handler-specific subcomponents.  For
> example, the semicolon ("";"") and equals (""="") reserved characters are
> often used to delimit parameters and parameter values applicable to
> that segment.  The comma ("","") reserved character is often used for
> similar purposes.  For example, one URI producer might use a segment
> such as ""name;v=1.1"" to indicate a reference to version 1.1 of
> ""name"", whereas another might use a segment such as ""name,1.1"" to
> indicate the same.  Parameter types may be defined by scheme-specific
> semantics, but in most cases the syntax of a parameter is specific to
> the implementation of the URI's dereferencing algorithm.
> - ""3986 (Uniform Resource Identifier [URI]: Generic Syntax - Section 3.3 Last Paragraph)"":http://tools.ietf.org/html/rfc3986#section-3.3

Though ""3986 (Uniform Resource Identifier [URI]: Generic Syntax)"":http://datatracker.ietf.org/doc/rfc3986/ has an EBNF definition that allows for parameters in the path (like &quot;name;v=1.1&quot;), I think it's clearer to see in the previous version (""2396 (Uniform Resource Identifiers [URI]: Generic Syntax)"":http://datatracker.ietf.org/doc/rfc2396/ ) where it shows that each path_segment (separated by a ""/"" can be followed by parameters.
[...]

h2. Examples

So, In a path like @/foo/bar/baz@, you could add parameters that apply to a particular branch of the page tree: @/foo;v=1.1/bar;authgroup=employee/baz;views=map,calendar@

This means that @http://www.blah.com/some;param1=foo/crazy;param2=bar/path.html@ is a perfectly valid url (see ""this article (What Every Developer Should Know About URLs by Alan Snorkin)"":http://www.skorks.com/2010/05/what-every-developer-should-know-about-urls/ and ""this page (HTTP Path Parameter Syntax)"":http://doriantaylor.com/policy/http-url-path-parameter-syntax on the subject).

h3. Other examples

* @/products;filter=family-friendly/videos;rating=pg?q=dragon@

* @/foo/abc/bar/def@
@/foo;v=2.8/abc/bar/def;diff=with-current@
@/foo;L=en/abc/bar;L=de/def@
@/foo/abc;w=draft/bar/def;diff=with-other-authors@

* @/map;type=topo/south-america/Brasil/São-Pualo;type=subway,cycle@

* @/users;auth-group=super/John-Smith@
is obviously a different view of the same resource:
@/users/John-Smith@
only this one is the public view, and the other is the super-user view

If I were to implement amazon.com's faceted search with path parameters, it might do this:
With Path Params: @http://www.amazon.com/Movies-TV;format=DVD,Blu-Ray;genre=drama;stars=3+;price=$0.01-$20/Movies;actor=Christopher-Lee;director=Alan-Gibson@
> Original: @http://www.amazon.com/gp/search/ref=sr_nr_p_36_0?bbn=2649512011&qid=1329629982&rh=n%3A2625373011%2Cp_n_format_browse-bin%3A2650304011%7C2650305011%2Cn%3A%212625374011%2Cn%3A2649512011%2Cp_72%3A3014476011%2Cp_n_theme_browse-bin%3A2650368011%2Cp_36%3A3052254011&rnid=3052254011&low-price=0.01&high-price=20&x=0&y=0#/ref=sr_nr_p_n_feature_three_br_2?rh=n%3A2625373011%2Cp_n_format_browse-bin%3A2650304011%7C2650305011%2Cn%3A%212625374011%2Cn%3A2649512011%2Cp_72%3A3014476011%2Cp_n_theme_browse-bin%3A2650368011%2Cp_36%3A1-2000%2Cp_n_feature_three_browse-bin%3A2651257011&bbn=2649512011&ie=UTF8&qid=1329630193&rnid=2651254011@

h2. Implementation

* TYPO3\FLOW3\Property\DataType\Uri breaks things down into the different URI components
* TYPO3\FLOW3\MVC\Web\Routing\UriBuilder deals with URIs throughout Flow3

UriBuilder\setArguments allows prefixed query args: @array('prefix1' => array('foo' => 'bar')) gets ""&prefix1[foo]=bar""@. This could also be done with a path parameter (which intrinsically has a 'scope', ie, earlier pages or templates in the rootline won't be able to use a parameter set on their children. The parameter applies only from that level on.) @&prefix1[foo]=bar@ might become @my-controller/prefix1;foo=bar/fun-stuff@.


h3. Routing

I think that Flow3 needs to handle the path parameters by default. Packages should not be required to create special routes just to handle these parameters - they should be loaded in some kind of array that is accessible from within the package. The default handling could be changed if required for a particular installation (see defaults below).

So, I'd imagine that routing would happen like this (or something like it):
# Separate a given URI (possibly an requested resource) into the various parts, like now: host, user, path, query ...
# Additionally parse the path segment to place all of the path params in a path_param array - something that helps respect the 'scoped' nature of these parameters - They are much more specific than the general query string parameters.
# Strip all of the path parameters from the path and process routing as usual.
#* This is important - routing matches only on the path-segments, not on the path parameters. A new kind of routing rule could be used to redirect a request based on one or more of the path parameters, but the requested resource *does not change* based on the params. The view might look different, or have additional features, but the path sans parameters and path with parameters identifies _the *same* node_.

h3. Defaults and Security

Accessing the same node, no matter the path parameters is important. Be default, or at least to begin with, path parameters should be detected, stripped, and the request should be redirected with a '302 Found' to the same URL sans the parameters. Then when someone begins to use path parameters in their package, the package can enable them - probably with a special routing rule that turns them on, but only for a particular branch or segment of the path and/or tree.

Back to the point of path parameters not changing the node in the content tree: Allowing redirection to other nodes could introduce some security issues with url spoofing that would not be fun to deal with. Right now, the most common use of the semicolon is to hack insecure software. Tomcat uses the path parameter to pass JSESSIONID when cookies can't easily be included in some request. This Tomcat feature has been the basis for hacking and phishing as some browsers didn't understand the semicolon. To make sure Flow3 doesn't have the same problem - I think support for path parameters is a must, even if all that's done is drop them.

h2. Final thoughts

Even though some browsers might have issues (the articles I saw online were somewhat dated, so the issues may have been resolved) I think Flow3 should support this, because browsers are not the only content consumers around. Flow3 can be the basis for some robust APIs that are merely for inter-server communication. Browsers also don't support HTTPs PUT or DELETE on form elements, but Flow3 is getting amazing support for those... Please Support Path Parameters.

Another important path parameters side effect (hopefully) would be improved and more robust caching of pages that require authentication (say of a particular usergroup).

As a side note, the specs also indicate that semicolons can be used in place of ampersands in the query string. I don't know if Flow3 supports that right now, but I think it should. (If needed, I can file another feature request about that.)"
34134,TYPO3.Flow,Bug,"",Needs Feedback,Should have,PropertyMapper throws unnecessary exception,Kira Backes,Christian Müller,2014-02-19 04:14,Property,"",2012-02-21,"","",0,2012-02-21 06:07,"","",472900,"",Git master,"In the case of models with non-optional constructor arguments, you get an exception when one of those subproperties has an error in the TypeConverter. This can be fixed by changing the following (\TYPO3\FLOW3\Property\PropertyMapper:162)

<pre>
			$currentPropertyPath[] = $targetPropertyName;
			$targetPropertyValue = $this->doMapping($sourcePropertyValue, $targetPropertyType, $subConfiguration, $currentPropertyPath);
			array_pop($currentPropertyPath);
			if ($targetPropertyValue !== NULL) {
				$convertedChildProperties[$targetPropertyName] = $targetPropertyValue;
			}
</pre>

To the following:

<pre>
			$currentPropertyPath[] = $targetPropertyName;
			$targetPropertyValue = $this->doMapping($sourcePropertyValue, $targetPropertyType, $subConfiguration, $currentPropertyPath);
			if ($this->messages->forProperty(implode('.', $currentPropertyPath))->hasErrors()) {
				return NULL;
			}
			array_pop($currentPropertyPath);
			if ($targetPropertyValue !== NULL) {
				$convertedChildProperties[$targetPropertyName] = $targetPropertyValue;
			}
</pre>"
34154,TYPO3.Flow,Bug,"",Resolved,Must have,ObjectValidator has exponential growth factor,Kira Backes,Rens Admiraal,2012-05-08 10:16,Validation,1.1,2012-02-21,"","",100,2012-02-21 11:42,"","",473900,"",Git master,"In the onFlush method of the PersistenceManager all objects are validates, this is a problem especially for many connected entities. Look at the times needed:

<pre>
Validate Insertion Count: 174
onFlush Validation Duration: 9s

Validate Insertion Count: 234
onFlush Validation Duration: 43s

Validate Insertion Count: 246
onFlush Validation Duration: 129s
</pre>

At about 300 entities this is already taking hours to validate, so the system is completely unusable."
34169,TYPO3.Flow,Feature,"",Resolved,Must have,Encapsulate i18n configuration so it can be passed around and modified easily,Karsten Dambekalns,Karsten Dambekalns,2012-02-23 20:43,I18n,1.1,2012-02-22,"","",100,2012-02-22 05:05,"","",474650,"","","The behavior of the i18n component needs to be configurable, down to per request in some cases. Thus a configuration object to hold configuration should be available."
34170,TYPO3.Flow,Bug,"",Resolved,Must have,XLIFF models are created with wrong locale,Karsten Dambekalns,Karsten Dambekalns,2012-02-23 20:43,I18n,1.1,2012-02-22,"","",100,2012-02-22 05:11,"","",474700,"",Git master,"If a translation is requested but no (exact) match is found, a different locale may take effect (e.g. en instead of en_UK). The XLIFF model created will refer to the en XLIFF file, but claim it's locale is en_UK. This leads to further problems with translations (like missing labels if no target elements are present in XLIFF files)."
34171,TYPO3.Flow,Bug,"",Resolved,Must have,translateById() returns NULL if no arguments need to be replaced,Karsten Dambekalns,Karsten Dambekalns,2012-02-23 20:43,I18n,1.1,2012-02-22,"","",100,2012-02-22 05:13,"","",474750,"",Git master,"If @translateById()@ is able to find a translation but is not given any arguments to embed in the output, NULL is returned."
34172,TYPO3.Flow,Feature,"",Resolved,Must have,Implement fallback rules for i18n,Karsten Dambekalns,Karsten Dambekalns,2012-02-23 20:43,I18n,1.1,2012-02-22,"","",100,2012-02-22 05:15,"","",474800,"","","Currently the only fallback applied when resolving translations is the implicit chain in locale, e.g. en_UK > en

It should be possible to define an order for fallback instead, so that one can say _requested_ > de > za > _default_ should be used."
34177,TYPO3.Flow,Feature,"",Resolved,Should have,Make Resource use with file operations easier,Karsten Dambekalns,Karsten Dambekalns,2012-05-11 08:38,Resource,1.1,2012-02-22,"","",100,2012-02-22 06:54,"","",475050,"","","To use a @Resource@ with file operations, one can use the @resource://?@ scheme and the @__toString()@ method of any @ResourcePointer@.

To make this a little easier, casting of @Resource@ to string should return the SHA1 (as is the case with the ResourcePointer already). A @getUri()@ method to return a ready to use @resource://?@ string would also be useful."
34185,TYPO3.Flow,Feature,"",Resolved,Could have,SignalSlot Dispatcher should check if Slot method is declared static and act accordingly,Christian Müller,Karsten Dambekalns,2012-05-08 20:39,SignalSlot,"",2012-02-22,"","",100,2012-02-22 09:05,"","",475450,"","","Currently if you connect a $classname + $methodname as slot it will instantiate the class to call $methodname on the instance, even if the method is declared static. I think it wouldn't be a problem to call it static in this case to avoid problems with class instances that shouldn't be there normally."
34186,TYPO3.Fluid,Bug,"",Closed,Should have,Setting a value always resets the field on mapping errors,Kira Backes,Bastian Waidelich,2015-02-25 04:29,ViewHelpers,"",2012-02-22,"","",0,2012-02-22 09:41,"","",475500,"",Git 1.0,"If I set a value on any field of the form it gets reset every time there
is a mapping error, so the user has to reenter the field every time.

Could easily be fixed by changing the order of the if-clause in
\TYPO3\Fluid\ViewHelpers\Form\AbstractFormFieldViewHelper::getValue"
34231,TYPO3.Fluid,Task,"",Resolved,Should have,Move link.widget & uri.widget ViewHelpers to Widget subfolder,Bastian Waidelich,Bastian Waidelich,2012-05-14 20:38,Widgets,1.1,2012-02-24,"","",100,2012-02-24 09:40,"","",477750,"","","Widget related ViewHelpers should be in the Widget subfolder of Fluid (as in v4).
@link.widget@ should be @widget.link@, @uri.widget@ should be @widget.uri@.
Existing ViewHelper classes should extend the moved classes and marked deprecated."
34232,TYPO3.Fluid,Feature,"",Resolved,Should have,Translation support in SelectViewHelper,Karsten Dambekalns,Karsten Dambekalns,2012-03-19 21:38,ViewHelpers,1.1,2012-02-24,"","",100,2012-02-24 10:29,"","",477800,"","",The SelectViewHelper should offer translation of option labels.
34293,TYPO3.Flow,Bug,"",Resolved,Should have,Typo in TYPO3\FLOW3\Session\Aspect\SessionObjectMethodsPointcutFilter::matches(),Johannes K,Johannes K,2012-02-26 20:55,Session,1.0.4,2012-02-26,"","",100,2012-02-26 11:54,"","",480800,"",Git 1.0,"l.74: __desctruct should read __destruct

<code class=""php"">
if (preg_match('/^__wakeup|__construct|__desctruct|__sleep|__serialize|__unserialize|__clone|shutdownObject|initializeObject|inject.*$/', $methodName) !== 0) {
    return FALSE;
}
</code>"
34304,TYPO3.Flow,Task,"",Resolved,Should have,"Add abstract classes for entrypoint, provider & token in security authentication",Aske Ertmann,Aske Ertmann,2012-02-29 20:38,Security,1.1,2012-02-26,"","",100,2012-02-26 16:05,"","",481250,"","","There's a lot of duplicated code in the security authentication, we should create some abstract classes to prevent this."
34309,TYPO3.Fluid,Task,"",New,Could have,Unknown ViewHelpers cause exception - should be handled more graceful,Lars Düsing,"",2012-03-07 12:40,ViewHelpers,"",2012-02-26,"","",0,2012-02-26 17:24,"","",481500,"","","Current git. Backend -> Login -> Management -> User Settings

Object ""TYPO3\Fluid\ViewHelpers\Form\TextboxViewHelper"" is not registered.
46 TYPO3\FLOW3\Object\ObjectManager::get(""TYPO3\Fluid\ViewHelpers\Form\TextboxViewHelper"")

45 TYPO3\Fluid\Core\Parser\TemplateParser_Original::initializeViewHelperAndAddItToStack(TYPO3\Fluid\Core\Parser\ParsingState, ""f"", ""form.textbox"", array)

44 TYPO3\Fluid\Core\Parser\TemplateParser_Original::openingViewHelperTagHandler(TYPO3\Fluid\Core\Parser\ParsingState, ""f"", ""form.textbox"", "" property=&quot;accountIdentifier&quot; "", boolean)

43 TYPO3\Fluid\Core\Parser\TemplateParser_Original::buildObjectTree(array)

42 TYPO3\Fluid\Core\Parser\TemplateParser_Original::parse(""&lt;fieldset&gt;?	&lt;legend&gt;Account&lt;/legend&gt;??	&lt;div class=?			&lt;/f:for&gt;?			&lt;/ul&gt;?		&lt;/div&gt;?	&lt;/f:if&gt;?&lt;/fieldset&gt;"")

41 TYPO3\Fluid\View\AbstractTemplateView::renderPartial(""Module/Shared/EditUserSettingsForm"", NULL, array)

40 TYPO3\Fluid\ViewHelpers\RenderViewHelper_Original::render(NULL, ""Module/Shared/EditUserSettingsForm"", array, boolean)

39 call_user_func_array(array, array)

38 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

37 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

36 {closure}()

35 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()

34 TYPO3\Fluid\ViewHelpers\FormViewHelper_Original::render(""update"", array, NULL, NULL, NULL, TYPO3\FLOW3\Persistence\Doctrine\Proxies\__CG__\TYPO3\FLOW3\Security\Account, """", """", array, boolean, boolean, array, NULL, NULL, NULL)

33 call_user_func_array(array, array)

32 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

31 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

30 FluidCache_TYPO3_TYPO3__Module_Management_UserSettings_action_index_d27cd389edf3cbd52046311e12184a2cb263dec6::section_040f06fd774092478d450774f5ba30c5da78acc8(TYPO3\Fluid\Core\Rendering\RenderingContext)

29 TYPO3\Fluid\View\AbstractTemplateView::renderSection(""content"", array, boolean)

28 TYPO3\Fluid\ViewHelpers\RenderViewHelper_Original::render(""content"", NULL, array, boolean)

27 call_user_func_array(array, array)

26 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

25 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

24 FluidCache_TYPO3_TYPO3__Module_Management_UserSettings_layout_BackendModule_f2946d21abf7b9b9c1a8b6de9e4127661f5436c8::render(TYPO3\Fluid\Core\Rendering\RenderingContext)

23 TYPO3\Fluid\View\AbstractTemplateView::render()

22 TYPO3\FLOW3\MVC\Controller\ActionController_Original::callActionMethod()

21 TYPO3\FLOW3\MVC\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\MVC\Web\SubRequest, TYPO3\FLOW3\MVC\Web\SubResponse)

20 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\SubRequest, TYPO3\FLOW3\MVC\Web\SubResponse)

19 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\SubRequest, TYPO3\FLOW3\MVC\Web\SubResponse)

18 TYPO3\TYPO3\Controller\Backend\ModuleController_Original::indexAction(array)

17 call_user_func_array(array, array)

16 TYPO3\FLOW3\MVC\Controller\ActionController_Original::callActionMethod()

15 TYPO3\FLOW3\MVC\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

14 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

13 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

12 call_user_func_array(array, array)

11 TYPO3\FLOW3\MVC\Dispatcher::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

10 TYPO3\FLOW3\AOP\Advice\AdviceChain::proceed(TYPO3\FLOW3\AOP\JoinPoint)

9 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\AOP\JoinPoint)

8 TYPO3\FLOW3\AOP\Advice\AroundAdvice::invoke(TYPO3\FLOW3\AOP\JoinPoint)

7 TYPO3\FLOW3\AOP\Advice\AdviceChain::proceed(TYPO3\FLOW3\AOP\JoinPoint)

6 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)

5 TYPO3\FLOW3\AOP\Advice\AroundAdvice::invoke(TYPO3\FLOW3\AOP\JoinPoint)

4 TYPO3\FLOW3\AOP\Advice\AdviceChain::proceed(TYPO3\FLOW3\AOP\JoinPoint)

3 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

2 TYPO3\FLOW3\MVC\Web\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
34322,TYPO3.Kickstart,Bug,"",Resolved,Should have,./flow3 kickstart:package produces Uncaught Exception,ToBe ,Christian Müller,2012-07-09 12:05,"","",2012-02-27,"","",100,2012-02-27 08:35,"","",482150,"",FLOW3 1.0.0,"./flow3 kickstart:package MyCompany.Dummy1 
ends in an Uncaught Exception Class MyCompany\Dummy1\Controller\StandardController does not exist

>>
tobe@DebianSamsungP400:/mnt/iscsi_shared/www/flow3$ ./flow3 kickstart:package MyCompany.Dummy1
Created .../MyCompany.Dummy1/Classes/Controller/StandardController.php
Created .../MyCompany.Dummy1/Resources/Private/Templates/Standard/Index.html

tobe@DebianSamsungP400:/mnt/iscsi_shared/www/flow3$ ./flow3 package:list
Uncaught Exception
  Class MyCompany\Dummy1\Controller\StandardController does not exist

More Information
  Exception code      #-1
  File                /mnt/iscsi_shared_local/www/flow3/Packages/Framework/TYPO3.FLOW3/Classes/Reflection/ReflectionService.php line 962

ACTIVE PACKAGES:
 Doctrine.Common          2.2.0          Doctrine Common
 Doctrine.DBAL            2.2.1          Doctrine DBAL
 Doctrine.ORM             2.2.0          Doctrine ORM
 MyCompany.Dummy1
 Symfony.Component.Yaml   2.1.0          Symfony Components YAML Library
 TYPO3.FLOW3              1.0.0          FLOW3
 TYPO3.Fluid              1.0.0          Fluid Templating Framework
 TYPO3.Kickstart          1.0.0          FLOW3 Kickstarter
 TYPO3.Party              1.0.0          Party Information Framework
 TYPO3.Welcome            1.0.0          Welcome package with default view for FLOW3
<<

I tried it many times at different symstems and hardware, and yes the file is created and filled with content...

The bug happens often, my workaround is to
>>
kickstart:package MyCompany:Dymmy1
kickstart:package MyCompany:Dymmy2
package:delete MyCompany:Dymmy2
<<
and now ./flow3 package:list runs without failures.

"
34324,TYPO3.Fluid,Bug,Task #11969: Make widgets' template configurable,Closed,Must have,Template of widgets can't be changed,Christian Müller,Karsten Dambekalns,2012-03-07 10:50,Widgets,"",2011-04-01,"","",20,2012-02-27 09:16,"","",482250,"",FLOW3 1.0.0,"Currently the widgets use the default template path only and it is impossible to override those which is kind of a nogo.

Attached patch fixes this. The path can be set via TS. e.g. 

<pre>
plugin.tx_fo.view.widgetRootPath = fileadmin/fo/
</pre>
If using the pagination widget, the index.html needs to be at fileadmin/fo/ViewHelpers/Widget/Paginate/Index.html

One open question: Is this the correct way to go with the part ""ViewHelpers"" inside this path? or should it be fileadmin/fo/Paginate/Index.html?"
34399,TYPO3.Flow,Bug,"",Resolved,Must have,Remove Default Authentication Provider configuration,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-02-29 20:38,Security,1.1 beta 1,2012-02-28,"","",100,2012-02-28 16:49,"","",485850,"",Git master,"The default authentication provider was always configured at the first position and could not be removed; which lead to really strange issues with Entry Points.

For example, we broke Phoenix by that ;)"
34404,TYPO3.Flow,Bug,"",New,Should have,JsonView transformObject does not respect _descendAll configuration,Alexander Berl,"",2012-02-28 19:12,"","",2012-02-29,"","",0,2012-02-28 19:12,"","",486100,"",Git master,"When configuring a jsonView for a domain object, the '_descendAll' configuration is currently not taken into account, leading to the need to configure all properties for traversal.


The part of TYPO3\FLOW3\MVC\View\JsonView::transformObject line 199+

<pre>
				if (!is_array($propertyValue) && !is_object($propertyValue)) {
					$propertiesToRender[$propertyName] = $propertyValue;
				} elseif (isset($configuration['_descend']) && array_key_exists($propertyName, $configuration['_descend'])) {
					$propertiesToRender[$propertyName] = $this->transformValue($propertyValue, $configuration['_descend'][$propertyName]);
				}
</pre>

should be

<pre>
				if (!is_array($propertyValue) && !is_object($propertyValue)) {
					$propertiesToRender[$propertyName] = $propertyValue;
				} elseif (isset($configuration['_descendAll'])) {
					$propertiesToRender[$propertyName] = $this->transformValue($propertyValue, $configuration['_descendAll']);
				} elseif (isset($configuration['_descend']) && array_key_exists($propertyName, $configuration['_descend'])) {
					$propertiesToRender[$propertyName] = $this->transformValue($propertyValue, $configuration['_descend'][$propertyName]);
				}
</pre>

A further *nice-to-have feature* would be a *real* __descendAll_ configuration that just carelessly descends all objects, though it probably should still deal with recursion of domain objects or stop at a specific recursion depth.
Something like an int configuration __recursionDepth_ would work:
<pre>
				} elseif (isset($configuration['_recursionDepth']) && $configuration['_recursionDepth'] > 0) {
					$configuration['_recursionDepth']--;
					$propertiesToRender[$propertyName] = $this->transformValue($propertyValue, $configuration);
				
</pre>

_On a side note:_ The current implementation for configuration settings behaves differently for arrays / ArrayAccess objects and other objects.
While for arrays, __descendAll_ overrules __only_ and __exclude_ settings, for an object __only_ and __exclude_ overrule __descend_ (and with the patch above also __descendAll_).
"
34407,TYPO3.Flow,Bug,"",Resolved,Should have,"NotFoundView should ""throw"" 404",Adrian Föder,Adrian Föder,2012-03-07 08:39,MVC,1.1,2012-02-29,"","",100,2012-02-29 04:05,"","",486250,"",Git master,"The NotFoundView currently sends itself out with HTTP status 200, saying it was a 404 error. It should instead say 404 Not Found."
34408,TYPO3.Flow,Bug,"",Closed,Should have,CollectionValidator goes in endless recursion,Pankaj Lele,Karsten Dambekalns,2012-02-29 05:23,Validation,1.1,2012-02-29,"","",0,2012-02-29 04:24,"","",486300,"",Git master,"This is a case when 2 domain objects are associated with ManyToMany relation. If the owning side object is created/updated/deleted via ActionController the page load hangs and after few minutes it goes out of memory. 

I imagine Post m:n Tags, when Post is created the Post::tags property is validated with CollectionValidator then it again tries to validate Tag::posts property and goes in recursion."
34414,TYPO3.Flow,Feature,"",Resolved,Could have,JsonView's _exposeObjectIdentifier configurable,Adrian Föder,Adrian Föder,2012-05-29 03:07,MVC,2.0 beta 1,2012-02-29,"","",100,2012-02-29 07:11,"","",486600,"","","The configuration setting for the MVC JsonView allows exposing an object's persistence identifier.
Currently, that configuration value is only regarded when TRUE and resulting in a fixed '__identity' key.
It could be improved with allowing either TRUE or a specific value which will become the respective key.

so,

<pre>
  blog:
    _exposeObjectIdentifier: TRUE
</pre>
will result in @{""__identity"":""e4f40dfc-8c6e-4414-a5b1-6fd3c5cf7a53""}@ (matching the current behaviour), while

<pre>
  blog:
    _exposeObjectIdentifier: 'guid'
</pre>
will result in @{""guid"":""e4f40dfc-8c6e-4414-a5b1-6fd3c5cf7a53""}@
"
34423,TYPO3.Flow,Bug,"",Resolved,Should have,Missing $context member declaration in ObjectManager,Karsten Dambekalns,Bastian Waidelich,2012-02-29 20:38,Object,1.1,2012-02-29,"","",100,2012-02-29 12:22,"","",487050,"",Git master,The ObjectManager refers to $this->context which doesn't exist.
34426,TYPO3.Flow,Task,"",Resolved,Should have,How to receive the correct class name for an object?,Andreas Förthner,Andreas Förthner,2012-05-10 09:11,Reflection,1.1 beta 1,2012-02-29,"","",100,2012-02-29 17:09,"","",487200,"","","Currently there is no helper method to find the correct class name of a given object. The reflection service should provide such a method.

For now I would say we only have to handle doctrine lazy loading proxies and return the parente class for them.

Can someone imagine different situations where get_class($object) does not return the correct (expected) class name from a users perspective?"
34428,TYPO3.Fluid,Feature,"",Rejected,Should have,FLUID comments <!--- ... --->,Michael Knoll,Bastian Waidelich,2012-03-09 07:36,Core,"",2012-02-29,"","",0,2012-02-29 17:54,"","",487300,"","","I opened up this issue as a reference for a branch committed to gerrit. Here are some thoughts about this feature:

http://mimi.kaktusteam.de/blog-posts/2012/02/fluid-comments/

There is also a discussion in the mailing list:

http://lists.typo3.org/pipermail/typo3-project-typo3v4mvc/2012-February/011837.html

A patch / diff for FLUID 1.3.0 is available here:

http://mimi.kaktusteam.de/uploads/media/fluid_comments.diff"
34448,TYPO3.Flow,Bug,"",Resolved,Should have,Integrity constraint violation on FLOW3 resource tables,Jonas ,Karsten Dambekalns,2012-06-01 13:37,Persistence,"",2012-03-01,"","",100,2012-03-01 11:01,"","",488300,"",FLOW3 1.0.3,"I have an own model/class/controller, called ""award"" with a property mapped to the standard FLOW3 resource table.

	/**
	 * The image
	 * @var \TYPO3\FLOW3\Resource\Resource
	 * @ORM\ManyToOne(targetEntity=""\TYPO3\FLOW3\Resource\Resource"")
	 */
	protected $image;
	
	
This works fine, the images get uploaded and the resource and resourcepointer tables are correctly filled. Then I created two of my award models and uploaded the same image for every one. Still all works fine, the resourcepointer table stays with only one entry and the resource table filled up with the same 'resourcepointer'-field for every record.

The error occurs when I try to delete my award-object. It seems FLOW3 tries to delete the only record of the resourcepointer table even though there still exist references from my other award-object.
This naturally fails and the following error pops up:

<pre>SQLSTATE[23000]: Integrity constraint violation: 1451 Cannot delete or update a parent row: a foreign key constraint fails (`praemien`.`typo3_flow3_resource_resource`, CONSTRAINT `typo3_flow3_resource_resource_ibfk_1` FOREIGN KEY (`resourcepointer`) REFERENCES `typo3_flow3_resource_resourcepointer` (`hash`)
13 PDOStatement::execute(array)
12 Doctrine\DBAL\Connection::executeUpdate(""DELETE FROM typo3_flow3_resource_resourcepointer WHERE hash = ?"", array)
11 Doctrine\DBAL\Connection::delete(""typo3_flow3_resource_resourcepointer"", array)
10 Doctrine\ORM\Persisters\BasicEntityPersister::delete(TYPO3\FLOW3\Persistence\Doctrine\Proxies\TYPO3FLOW3ResourceResourcePointerProxy)
9 Doctrine\ORM\UnitOfWork::executeDeletions(TYPO3\FLOW3\Persistence\Doctrine\Mapping\ClassMetadata)
8 Doctrine\ORM\UnitOfWork::commit()
7 Doctrine\ORM\EntityManager::flush()
6 TYPO3\FLOW3\Persistence\Doctrine\PersistenceManager_Original::persistAll(""TYPO3\FLOW3\Core\Bootstrap::finishedRuntimeRun"")
5 call_user_func_array(array, array)
4 TYPO3\FLOW3\SignalSlot\Dispatcher::dispatch(""TYPO3\FLOW3\Core\Bootstrap"", ""finishedRuntimeRun"", array)
3 TYPO3\FLOW3\Core\Bootstrap::emitFinishedRuntimeRun()
2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()
1 TYPO3\FLOW3\Core\Bootstrap::run()</pre>"
34464,TYPO3.Flow,Feature,"",Resolved,Should have,Content security acls should follow the same concept as method security acls,Andreas Förthner,Andreas Förthner,2012-04-27 08:38,Security,1.1,2012-03-02,"","",100,2012-03-02 09:57,"","",489100,"","",Currently method security acls follow a whitelist approach and content security acls follow a blacklist approach. This should be streamline to a whiteliste approach for both.
34466,TYPO3.Flow,Bug,"",Resolved,Should have,Roles are not cleared after every test in functional tests,Andreas Förthner,Andreas Förthner,2012-04-28 08:37,Security,1.1,2012-03-02,"","",100,2012-03-02 10:00,"","",489200,"",Git master,If you do not call authenticateRoles() in one test this will not end in no roles being authenticated as expected. Instead the roles from the last test are still there.
34467,TYPO3.Kickstart,Bug,"",Closed,Should have,Less Backslashes in the Annotation,Matthias Witte,Karsten Dambekalns,2012-03-07 11:49,"","",2012-03-02,"","",0,2012-03-02 11:18,"","",489250,"",FLOW3 1.0.3,"I've done the guide on http://flow3.typo3.org/documentation/guide/partii.html

So i wanted to add a Comment model to enhance the blog.

Ive used kickstarter to add a new model with this command:

@./flow3 kickstart:model TYPO3.Blog Comment author:string text:string post:\TYPO3\Blog\Domain\Model\Post@

The annotation for the get and set method gone wrong:

	/**
	 * Get the Comment's post
	 *
	 * @return \TYPO3\Blog\Domain\Model\TYPO3BlogDomainModelPost The Comment's post
	 */
	public function getPost() {
		return $this->post;
	}

	/**
	 * Sets this Comment's post
	 *
	 * @param \TYPO3\Blog\Domain\Model\TYPO3BlogDomainModelPost $post The Comment's post
	 * @return void
	 */
	public function setPost($post) {
		$this->post = $post;
	}

In my opinion there have to be more backslashes in dhe @param annotations.

Hope someone will understand this :D"
34527,TYPO3.Flow,Bug,"",Resolved,Must have,Add method in repositories does also update,Kira Backes,Karsten Dambekalns,2012-05-30 14:38,Persistence,1.1 beta 2,2012-03-05,"","",100,2012-03-05 05:26,"","",491900,"",Git 1.0,"The add method in repositores does also update existing entities, this is a dangerous security flaw, as it allows an attacker to misuse creation forms (i.e. a register form) and change existing entities."
34545,TYPO3.Flow,Bug,"",Resolved,Could have,Hint at wrong usage of @ORM\MappedSuperclass not displayed,Ondrej Hatala,Karsten Dambekalns,2012-06-25 14:42,Persistence,1.1 RC1,2012-03-05,"","",100,2012-03-05 13:37,"","",492800,"",FLOW3 1.1.0 beta 1,"Doctrine 2 allows usage of @MappedSuperclass without @Entity, but in FLOW3 @Entity annotation is necessary. That's why the hint was added (http://forge.typo3.org/issues/27285).

Nowadays this behaviour is broken, because TYPO3\FLOW3\Reflection\ReflectionService::ensureAggregateRootInheritanceChainConsistency() is executed before the first call to Flow3AnnotationDriver::getClassSchema() and fails.

Proposed solution: add check to ensureAggregateRootInheritanceChainConsistency() do not try to check aggregate roots for schema-less objects.

It is however highly probable that sooner or later this same problem will happen again, so it may be advisable to deal with it in better way."
34547,TYPO3.Flow,Bug,"",Resolved,Must have,wrong variable name inside rename() of StreamWrapperAdapter,Bernhard Fischer,Bernhard Fischer,2012-03-06 09:10,Resource,1.0.4,2012-03-06,"","",100,2012-03-06 02:35,"","",492900,"",FLOW3 1.0.0,The rename function uses the variable $path which should be $path_from. No error occurred so far because the rename function isn't used.
34555,TYPO3.Flow,Bug,"",Resolved,Should have,StreamWrapperAdapter::stream_lock does not return StreamWrapper result,Bastian Waidelich,Bastian Waidelich,2012-03-23 09:39,Resource,1.1,2012-03-06,"","",100,2012-03-06 06:30,"","",493300,"",FLOW3 1.0.0,"While writing unit tests for the StreamWrapperAdapter, I came upon this issue: @StreamWrapperAdapter::stream_lock()@ does not return the results of the actual stream wrapper. But according to the docs this ""returns TRUE on success or FALSE on failure."".

Apart from that the StreamWrapperAdapter is lacking unit tests currently

Most of the functions in StreamWrapperAdapter call @createStreamWrapper()@ in order to retrieve the actual StreamWrapper. The method looks like this:
<pre>
<code class=""php"">
protected function createStreamWrapper($path) {
	if ($this->streamWrapper === NULL) {
		$explodedPath = explode(':', $path, 2);
		$scheme = array_shift($explodedPath);
		$this->streamWrapper = self::$objectManager->create(self::$registeredStreamWrappers[$scheme]);
	}
}
</code>
</pre>

If I get it right, this means that the streamWrapper is only instantiated the *first* time this method is called. @createStreamWrapper('sheme1://foo'); createStreamWrapper('sheme2://bar');@ would return the same instance.

*NOTE:* As Karsten mentioned in the comments, this is probably not true as PHP will create a fresh instance of the adapter for every use. But this should be secured with tests (also to prevent issues like #34547)"
34608,TYPO3.Flow,Bug,"",Resolved,Must have,ResourceStreamWrapper::seek gives exactly the wrong bool value,Ferdinand Kuhl,"",2012-03-12 21:38,Resource,1.0.4,2012-03-06,"","",100,2012-03-06 13:54,"","",495950,"",Git master,"The ResourceStreamWrapper does:

@return fseek($this->handle, $offset, $whence);@

The documentation to fseek says:
> Upon success, returns 0; otherwise, returns -1.

But PHP evaluates 0 to FALSE and -1 to TRUE. So the return value is always wrong. :("
34614,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,Evil packed bz2 package,Jan Roth,Karsten Dambekalns,2012-05-30 15:55,Build Process,1.0.5,2012-03-06,"","",100,2012-03-06 16:50,"","",496250,"",FLOW3 1.0.3,"in the FLOW3-1.0.3.tar.bz2 file is a bad fileentry for ./ . if you untar this bz2 file as root, you change your directory owner and group for your current directory.
That is very bad...... After i untar it, i can't not login via ssh and public key to my maschine, because openssh can't access my authorized_keys file.

Please fix this issue, it was very time expensive..."
34620,TYPO3.Flow,Bug,"",Resolved,Must have,Wrong return value for getAccessDecisionVoters(),Bernhard Fischer,Bernhard Fischer,2012-03-12 21:38,Security,1.0.4,2012-03-06,"","",100,2012-03-06 18:19,"","",496550,"",FLOW3 1.0.0,"The return value of the function getAccessDecisionVoters() in the AccessDecisionVoterManager should return a array. It doesn't really matter because this function is never referenced.
Type hinting for $securityContext is missing the leading \ and hinting for $authenticationManager in the PolicyEnforcement is also wrong."
34643,TYPO3.Fluid,Task,"",Resolved,Should have,variable annotations missing prepending backslash,Bernhard Fischer,Bernhard Fischer,2012-03-08 08:38,"",1.1,2012-03-07,"","",100,2012-03-07 09:30,"","",497700,"","",Automated scan found some incorrect annotations.
34648,TYPO3.Flow,Feature,"",Resolved,Must have,Implement a way to authenticate with a file based encrypted key,Aske Ertmann,Aske Ertmann,2012-05-10 20:39,Security,1.1,2012-03-07,"","",100,2012-03-07 11:23,"","",497900,"","","For the setup wizard we need a file based encryped key provider. For this we need a password token which only has a password credential. We also need an authentication provider for validating the keys and some service for retrieving, persisting & generating keys."
34660,TYPO3.Kickstart,Bug,"",Resolved,Should have,variable annotations missing prepending backslash,Bernhard Fischer,Bernhard Fischer,2012-03-08 08:38,"",1.1,2012-03-08,"","",100,2012-03-08 01:17,"","",498500,"",Git master,Automated scan found some incorrect annotations.
34672,TYPO3.Flow,Bug,"",Resolved,Must have,Production context is not working,Kira Backes,Karsten Dambekalns,2012-04-27 08:38,Reflection,1.1,2012-03-08,"","",100,2012-03-08 09:48,"","",499050,"",Git master,"When running an application (that uses Collections) in Production context the following exception is thrown:

<pre>
  Catchable Fatal Error: Argument 2 passed to
  TYPO3\FLOW3\Validation\Validator\GenericObjectValidator_Original::addPropertyValidator()
  must implement interface
  TYPO3\FLOW3\Validation\Validator\ValidatorInterface, null given, called
  in
  /var/development/flow3/finderON/Data/Temporary/Production/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Validation_ValidatorResolver_Original.php
  on line 240 and defined in
  /var/development/flow3/finderON/Data/Temporary/Production/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Validation_Validator_GenericObjectValidator_Original.php
  line 148
</pre>

.

Can be fixed by changing TYPO3\FLOW3\Reflection\ReflectionService.php:433
(Method isClassImplementationOf)

<pre>
		$this->loadOrReflectClassIfNecessary($className);
</pre>

to

<pre>
		$this->loadOrReflectClassIfNecessary($className);
		$this->loadOrReflectClassIfNecessary($interfaceName);
</pre>"
34674,TYPO3.Flow,Feature,"",Accepted,Should have,NotFoundView is not injected in ActionController,Kira Backes,Robert Lemke,2012-07-22 04:59,MVC,"",2012-03-08,"","",0,2012-03-08 12:47,"","",499150,"","",Should be injected in the ActionController so a user can overwrite it and show its custom NotFoundView when an action does not exist (it is already injected in the NotFoundController).
34675,TYPO3.Flow,Bug,"",Rejected,Should have,NotFoundView is not used for missing actions,Kira Backes,Karsten Dambekalns,2012-12-10 10:08,MVC,1.1.1,2012-03-08,"","",0,2012-03-08 13:06,"","",499200,"",FLOW3 1.1.0 beta 1,When an action is missing instead of an exception the NotFoundView should be used.
34682,TYPO3.Fluid,Bug,"",Under Review,Should have,Radio Button missing checked on validation error,Kira Backes,"",2013-11-20 14:58,ViewHelpers,"",2012-03-09,"","",0,2012-03-09 05:30,"","",499550,"",Git master,"The checked state of a radio button is not properly checked in the case of a validation error, this should be checked by comparing the value to the lastSubmittedFormData"
34749,TYPO3.Flow,Task,"",Resolved,Should have,Provide some examples how to nest inline VH's,Adrian Föder,Adrian Föder,2012-06-25 10:56,- Documentation -,1.1,2012-03-12,"","",100,2012-03-12 06:39,"","",502900,"","","It would be useful to have some more examples how to nest different variables, array and ViewHelpers; for example, how could

<pre>
...arguments=""{foo: bar, sample: baz -> f:nother.vh(more: stuff)}""
</pre>

be achieved; or may that even be correct?"
34751,TYPO3.Kickstart,Feature,"",Resolved,Should have,Kickstarting a package should generate a layout with base viewhelper,Christian Müller,Christian Müller,2012-04-26 20:38,"","",2012-03-12,"","",100,2012-03-12 07:50,"","",503000,"","",Without that any work based on the original template will not work out as you miss the base tag and it is in line with the kickstart:action command.
34783,TYPO3.Flow,Feature,"",Closed,Should have,Provide utility method to get unproxied class name,Adrian Föder,"",2012-03-16 09:00,Persistence,"",2012-03-13,"","",0,2012-03-13 05:55,"","",504600,"","","In some cases, @get_class($object)@ returns the Doctrine proxy class; and not the actual, intended class name.

In Doctrine itself, there is a method @Doctrine\Common\Util\ClassUtils...@

<pre><code class=""php"">
   /**
     * Get the real class name of an object (even if its a proxy)
     *
     * @param object
     * @return string
     */
    public static function getClass($object)
</code></pre>

which basically does some str_replace; unfortunately it doesn't work with FLOW3 proxies due to a different naming scheme.

A possibility is to provide a method that
<pre><code class=""php"">
if ($object instanceof \Doctrine\ORM\Proxy\Proxy) {
   return get_parent_class($object);
}
</code></pre>

but that's probably not very clean.

So, a reliable method to achieve that should be provided by FLOW3."
34811,TYPO3.Flow,Bug,"",Resolved,Should have,"Ghost command ""getflow3"" introduced with recent change",Karsten Dambekalns,Karsten Dambekalns,2012-03-13 21:41,Command,1.1,2012-03-13,"","",100,2012-03-13 16:57,"","",506000,"",Git master,"The fix for the ""./flow3"" invocation hint on Windows introduced a ""ghost command"" because methods in command controllers whose names end in ""Command"" are handled as, well, commands? :)"
34816,TYPO3.Flow,Feature,"",New,Should have,Long text encryption,Pankaj Lele,"",2012-03-14 03:33,Security,"",2012-03-14,"","",0,2012-03-14 03:33,"","",506250,"","","It should be possible to encrypt / decrypt a long plain text using the TYPO3\FLOW3\Security\Cryptography\RsaWalletServicePhp. This way 2 FLOW3 applications can talk with each other in encrypted way and the key trust is already established using the security:import*key commands. 

Currently the ""encryptWithPublicKey($plaintext, $uuid)"" method is only capable of encrypting a short text (only few characters depending on the length of the key) which is perfectly fine as it uses the openssl_public_encrypt.

Please provide another method or whatever best thing which is possible to encrypt/decrypt long text. It should be done probably with the openssl_seal and openssl_open PHP methods. This type of code is already written in the TYPO3.Surf package TYPO3\Surf\Encryption\OpenSslEncryptionService"
34817,TYPO3.Flow,Task,"",Resolved,Could have,Have a way to clear all sessions,Christian Müller,Christian Müller,2012-05-08 20:39,Session,1.1,2012-03-14,"","",100,2012-03-14 03:42,"","",506300,"","",""
34827,TYPO3.Flow,Feature,"",Resolved,Should have,Precompiled reflection data for rather static packages,Robert Lemke,Robert Lemke,2012-03-19 09:38,Reflection,1.1 beta 1,2012-03-14,"","",100,2012-03-14 06:46,"","",506800,"","","Packages which are usually not touched during development (such as FLOW3, Fluid etc.) don't need to be monitored for changes and thus could provide some precompiled reflection data which could be loaded if caches were flushed.

Such packages could be marked by a new ""frozen"" state which can be set and removed through a command line command."
34837,TYPO3.Flow,Bug,"",Resolved,Should have,flow3:cache:flush should care about the .Shortcuts state,Adrian Föder,Christian Müller,2012-03-23 07:14,Core,1.1 beta 1,2012-03-14,"","",100,2012-03-14 10:05,"","",507300,"",Git master,"Currently, after renaming a package path (name; from @Foo@ to @Acme.Foo@) manually, @flow3:cache:flush@ resulted in an error a class couldn't be found (naming the correct, new namespace).

So, for example, the old namespace was
<pre>
Foo\ViewHelpers\BarViewHelper
</pre>
while the new one, after renaming, is
<pre>
Acme\Foo\ViewHelpers\BarViewHelper
</pre>
(located in Packages/Application/Acme.Foo/Classes/....); and the corresponding error message was
<pre>
Class Acme\Foo\ViewHelpers\BarViewHelper could not be found 
</pre>
which means, he correctly looked for the new, actually intended one; but didn't have the file available.

The reason was that .Shortcuts didn't contain that (new) package path's representation.
IRC suggestion was to remove .Shortcuts completely, in order to get it rebuilt from scratch, when calling @flow3:cache:flush@."
34864,TYPO3.Flow,Bug,"",Rejected,Must have,inproper escape of attribute names,Nicholas Gray,Karsten Dambekalns,2012-03-19 06:35,Persistence,"",2012-03-14,"","",0,2012-03-14 18:14,"","",508650,"",FLOW3 1.0.3,"hi all,

I named an attribute ""order"" in my model and thus ran into problems running ""./flow3 doctrine:update"", since it was not escaped and then treated as MySQL command.

Here is the Error:

Uncaught Exception
  SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error
  in your SQL syntax; check the manual that corresponds to your MySQL
  server version for the right syntax to use near 'order position INT
  DEFAULT NULL' at line 1"
34866,TYPO3.Flow,Feature,"",Resolved,Should have,Allow fluently working with PropertyMappingConfiguration,Adrian Föder,Adrian Föder,2012-05-29 03:03,MVC,2.0 beta 1,2012-03-15,"","",100,2012-03-15 04:54,"","",508750,"","","Consider the following use case:

<pre><code class=""php"">
<?php

class SampleController extends \TYPO3\FLOW3\MVC\Controller\ActionController
	/**
	 * this magic method is automatically called prior the appropriate createAction
	 */
	public function initializeCreateAction() {
		$concreteClassName = $this->dummyFindOutConcreteProductProductClassName();
		
		/* @var $this->arguments['product'] \TYPO3\FLOW3\MVC\Controller\Argument (just for this example, please don't use in production code */
		$this->arguments['product']->setDataType($concreteClassName);
		
		$this->arguments['product']->getPropertyMappingConfiguration()->setTargetType($intendedRatingClassName);
		$this->arguments['product']->getPropertyMappingConfiguration()->setTargetTypeForSubProperty('author', 'TYPO3\Party\Domain\Model\Person');
		$this->arguments['product']->getPropertyMappingConfiguration()->allowCreationForSubProperty('author');
		$this->arguments['product']->getPropertyMappingConfiguration()->allowCreationForSubProperty('author.name');
		
	}

	/**
	 * Create a new product; expect any concrete product type.
	 * @param \Acme\Northwind\Domain\Model\AbstractProduct $product So far any kind of product
	 * @return void
	 */
	public function createAction(\Acme\Northwind\Domain\Model\AbstractProduct $product) {
	}
}
?>
</code></pre>

so most possible setter methods of @\TYPO3\FLOW3\Property\PropertyMappingConfiguration@, and hence @\TYPO3\FLOW3\MVC\Controller\MvcPropertyMappingConfiguration@ should @return $this@ in order to allow a fluent coding, e.g. 
<pre><code class=""php"">
		$this->arguments['product']->getPropertyMappingConfiguration()
		     ->setTargetType($intendedRatingClassName);
		     ->setTargetTypeForSubProperty('author', 'TYPO3\Party\Domain\Model\Person');
		     ->allowCreationForSubProperty('author');
		     ->allowCreationForSubProperty('author.name');

</code></pre>
"
34867,TYPO3.Flow,Feature,"",Resolved,Should have,Allow setting target type in MVC Argument,Adrian Föder,Adrian Föder,2012-03-23 07:31,MVC,1.1,2012-03-15,"","",100,2012-03-15 05:03,"","",508800,"","","Consider the following use case:

<pre><code class=""php"">
<?php

class SampleController extends \TYPO3\FLOW3\MVC\Controller\ActionController
	/**
	 * 
	 */
	public function initializeCreateAction() {
		$concreteClassName = $this->dummyFindOutConcreteProductProductClassName();
		$this->arguments['product']->setDataType($concreteClassName);
	}

	/**
	 * @param \Acme\Northwind\Domain\Model\AbstractProduct $product
	 */
	public function createAction(\Acme\Northwind\Domain\Model\AbstractProduct $product) {
	}
}
?>
</code></pre>

Due to the fact that sub property's target types are settable, it makes sense (and is required for that use case) to allow setting the target type of an @TYPO3\FLOW3\MVC\Controller\Argument@, too."
34872,TYPO3.Flow,Bug,"",Resolved,Must have,Singleton validators never have their options passed,Karsten Dambekalns,Adrian Föder,2013-04-05 05:38,Validation,2.0,2012-03-15,"","",100,2012-03-15 06:05,"","",509050,"",FLOW3 1.0.3,"The @ValidatorResolver@ does not pass options to validators that are singletons:
<pre>
			case Configuration::SCOPE_PROTOTYPE:
				$validator = new $validatorObjectName($validatorOptions);
				break;
			case Configuration::SCOPE_SINGLETON:
				$validator = $this->objectManager->get($validatorObjectName);
				break;
</pre>

Since singletons cannot get constructor arguments via @get()@ but only through object configuration, we should at least check for options given to a singleton here and inform the developer about a probably bug in his code?"
34875,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Clean up code (style),Karsten Dambekalns,Karsten Dambekalns,2012-06-25 09:26,"",1.1 RC1,2012-03-15,"","",100,2012-03-15 06:25,"","",509200,"","","There are a number of glitches in coding style and cleanliness, like leading backslashes in @use@ statements, unused variables, wrong code documentation?"
34879,TYPO3.Flow,Bug,"",Accepted,Must have,Proxied object is not update()able,Adrian Föder,Karsten Dambekalns,2013-01-22 09:17,Persistence,"",2012-03-15,"","",0,2012-03-15 07:18,"","",509400,"",Git 1.1,"in my use case, I have objects as children of a parent object.
I access these children via the <for each=""""> ViewHelper, and do further processing with each accrued object.
Such an accrued object is, in my case, a proxy representation of the actual object; during the further processing I modify that object (especially calling ->add() on it).

Still being the Proxy, I call persistenceManager->update() with it, but that gives the Exception
> The object of type ""TYPO3\FLOW3\Persistence\Doctrine\Proxies\AcmeDemoDomainModelProductProxy"" given to update must be persisted already, but is new.

also persistenceManager->isNewObject() claims it was a new object, but it definitely isn't."
34900,TYPO3.Flow,Feature,"",Resolved,Should have,New role: ANONYMOUS,Robert Lemke,Andreas Förthner,2012-05-08 20:39,Security,1.1 beta 1,2012-03-15,"","",100,2012-03-15 15:45,"","",510450,"","",Introduce a magic role which matches only if no account is currently authenticated.
35007,TYPO3.Flow,Bug,"",Resolved,Must have,Functional tests do not work with MySQL database,Christopher Hlubek,Karsten Dambekalns,2012-04-30 20:37,- Testing -,1.1,2012-03-19,"","",100,2012-03-19 10:15,"","",515700,"",Git master,"If persistence is enabled in functional tests and a MySQL database is configured, I get the following error when executing the test on a clean database:

<pre>
1) Planetflow3\Tests\Functional\Controller\StandardControllerTest::indexActionWithoutParametersDisplaysRecentItems
PDOException: SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'persistence_testentity' already exists

/Volumes/Data/Work/FLOW3/Planetflow3/Packages/Framework/Doctrine.DBAL/Classes/Connection.php:633
/Volumes/Data/Work/FLOW3/Planetflow3/Packages/Framework/Doctrine.ORM/Classes/Tools/SchemaTool.php:671
/Volumes/Data/Work/FLOW3/Planetflow3/Data/Temporary/Testing/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Persistence_Doctrine_PersistenceManager_Original.php:271
/Volumes/Data/Work/FLOW3/Planetflow3/Packages/Framework/TYPO3.FLOW3/Tests/FunctionalTestCase.php:119
/Volumes/Data/Work/FLOW3/Planetflow3/Packages/Application/Planetflow3/Tests/Functional/Controller/StandardControllerTest.php:38
/Volumes/Data/Work/FLOW3/Planetflow3/Packages/Framework/TYPO3.FLOW3/Tests/BaseTestCase.php:49
</pre>
"
35011,TYPO3.Flow,Bug,"",Resolved,Must have,Column type detection broken when Column annotation is used,Karsten Dambekalns,Karsten Dambekalns,2012-04-20 08:38,Persistence,1.1,2012-03-19,"","",100,2012-03-19 10:45,"","",515900,"",Git master,"If a Column annotation is used but no type argument is given, the default ""string"" type will be used and override the detection."
35016,TYPO3.Flow,Bug,"",Resolved,Should have,YamlSource creates invalid YAML files,Bastian Waidelich,Bastian Waidelich,2012-03-23 07:49,Configuration,1.1,2012-03-19,"","",100,2012-03-19 13:31,"","",516150,"",Git master,"@\TYPO3\FLOW3\Tests\Unit\Configuration\Source\YamlSource::save()@ currently separates the header from the configuration with @PHP_EOL@ but it should be @chr(10)@ according to the guidelines.
Apart from that, generated YAML files are not indented correctly, making it difficult to read them"
35030,TYPO3.Flow,Feature,"",Under Review,Should have,Dynamic locale detection,Andreas Wolf,Karsten Dambekalns,2013-09-26 12:08,I18n,"",2012-03-20,"","",0,2012-03-20 07:17,"","",516800,"","","Currently, the locale is automatically set to ""en"". It is however possible to manually set the locale to something else.

There should be a way to set the locale manually in a configurable way. Possible sources are: the HTTP ""accept language"" header, the URL (sth. like ""/en/path/to/page.html""), a cookie (after the user manually set the locale) or some user setting."
35034,TYPO3.Flow,Feature,"",Resolved,Should have,Automatic session expiration on user inactivity,Robert Lemke,Robert Lemke,2012-03-20 12:46,Session,1.1 beta 1,2012-03-20,"","",0,2012-03-20 07:39,"","",517000,"","",Sessions should expire automatically after a configured amount of time of inactivity.
35035,TYPO3.Flow,Bug,"",Resolved,Should have,Doctrine repository findAll is inconsistent,Christopher Hlubek,Karsten Dambekalns,2012-07-18 06:50,Persistence,1.1 RC2,2012-03-20,"","",100,2012-03-20 08:00,"","",517050,"",FLOW3 1.0.0,The findAll method of the special doctrine repository (needed for custom DQL afaik) returns an array of objects (through parent::findAll). The default repository does return a QueryResult object which is needed for widgets etc. to work. Also the Doctrine Query itself does return a QueryResult in execute(). So the current behavior is inconsistent and can lead to bugs.
35041,TYPO3.Fluid,Bug,"",Resolved,Should have,TranslateViewHelper returns empty string if id is missing and view helper tag is empty,Andreas Wolf,Karsten Dambekalns,2012-05-26 09:35,ViewHelpers,1.1 beta 2,2012-03-20,"","",100,2012-03-20 10:23,"","",517350,"",Git master,"With an empty view helper tag (<f:translate id=""some.message.id"" />) and a missing id, the view helper just returns nothing instead of displaying the id. From what is specified for the i18n API, I would expect to get the ID."
35052,TYPO3.Flow,Feature,"",Resolved,Should have,Make message origin hint configurable,Robert Lemke,Robert Lemke,2012-03-20 21:39,Log,1.1 beta 1,2012-03-20,"","",100,2012-03-20 12:36,"","",517900,"","","The logging FileBackend currently adds a hint about where the message was created for every log entry. While this feature can be useful in certain situations, it clutters the log file for the rest of us.
Thus this feature should be configurable and be disabled by default."
35059,TYPO3.Flow,Bug,"",Resolved,Should have,Default for nullable is TRUE but should be FALSE,Karsten Dambekalns,Karsten Dambekalns,2012-04-20 08:38,Persistence,1.1,2012-03-20,"","",100,2012-03-20 17:30,"","",518250,"",Git master,"The nullable option for columns is FALSE in Doctrine 2 unless otherwise indicated. Our annotation driver uses a default of TRUE, which breaks the intended alignment of behavior between vanilla Doctrine 2 and the FLOW3 integration."
35083,TYPO3.Flow,Bug,"",New,Should have,involving SecurityContext in Widget's __wakeup situation leads to an exception,Adrian Föder,"",2012-03-21 08:06,Object,"",2012-03-21,"","",0,2012-03-21 08:06,"","",519450,"",Git master,"I experience the situation that the attached exception occurs.
I have an object with an injected @\TYPO3\FLOW3\Security\Context@. This object is created and stored inside the widgetConfiguration.
After a subsequent request of the page the attached exception occurs. It seems that the DI after the __wakeup is not fully correctly handled and the securityContext lost its request property."
35090,TYPO3.Fluid,Bug,"",Resolved,Should have,base64-encode of URI-transferred serialized objects,Adrian Föder,Adrian Föder,2013-07-30 09:37,"","",2012-03-21,"","",100,2012-03-21 09:49,"","",519800,"",Git master,"At least Fluid-Widgets add a serialized object to links in order to transfer them across requests.
Maybe it's considerable to base64-encode these serialized objects to avoid problems like the [[FLOW3:Installation_hints#Unexpected-behavior-with-serialized-objects-in-request-arguments|suhosin's null-byte-omission]].

Additional explanation: serialized objects contain NULL bytes if a property of the object is protected."
35096,TYPO3.Flow,Bug,"",Closed,Should have,Subroutes can't use empty uriPattern as fallback,Sebastian ,Bastian Waidelich,2012-11-25 12:14,MVC - Routing,"",2012-03-21,"","",0,2012-03-21 13:23,"","",520050,"",(any),"I have several packages, for each package I like to create a routing shortcut.
So that instead of using these urls
<pre>
test.local/Myverylongpersonalname.Myproject/posts
test.local/Myverylongpersonalname.MyprojectTest/images
</pre>
I can use these
<pre>
test.local/mm/posts
test.local/test/images
</pre>

I prefer to shorten the routes by adding subroutes to the global Routes.yaml like this:
<pre>
-
  name: 'Myverylongpersonalname Myproject'
  uriPattern: 'mm/<MMSubroutes>'
  defaults:
    '@package': 'Myverylongpersonalname.Myproject'
  subRoutes:
    MMSubroutes:
      package: Myverylongpersonalname.Myproject
</pre>

Now I would expect that I can add uriPattern: '' as a fallback route in the Routes.yaml of Myverylongpersonalname.Myproject, but I get:
<pre>
The URI pattern ""mm/"" of route ""Myverylongpersonalname Myproject :: fallback"" ends with a slash, which is not allowed. You can put the trailing slash in brackets to make it optional. 
</pre>
Well and uriPattern: '(/)' doesn't work either."
35135,TYPO3.Flow,Feature,"",Resolved,Should have,Provide an inject() convenience method in Base Test Case,Robert Lemke,Robert Lemke,2012-03-26 08:40,- Testing -,1.1 beta 1,2012-03-22,"","",100,2012-03-22 06:33,"","",521800,"","","Testing code which uses dependency injection requires some additional lines of code for manually injecting the dependencies needed to run a unit test. This can become cumbersome in case of property injection, as reflection needs to be used in order to set a protected property.

An inject() method provided by the Base Test Case would make things a lot easier."
35136,TYPO3.Flow,Bug,"",Resolved,Should have,Problem with validating simple types,Rens Admiraal,Bastian Waidelich,2012-05-30 06:38,"","",2012-03-22,"","",100,2012-03-22 07:19,"","",521850,"",Git master,"When an argument of a controller action is annotated with @param integer $var, the validation never fails if a string is passed to the argument.

This is because the TypeConverter returns (integer) $value, which will always match on the Validator. This could for example be solved with something like this in the TypeCoverter:

<pre>
		if (!is_numeric($source)) {
			throw new \TYPO3\FLOW3\Exception('Can\'t convert source value to integer', 1332411849);
		}
</pre>

Problem with this approach is the output: an unfriendly error.

Maybe it would be possible to do a quick validation on simple types before the actual TypeConverter starts doing his job?"
35173,TYPO3.Flow,Bug,"",Closed,Should have,PropertyMapping: FloatConverter - map from float to float is not working,Nils Seinschedt,Nils Seinschedt,2014-02-19 04:13,Property,"",2012-03-23,"","",0,2012-03-23 05:18,"","",523700,"",FLOW3 1.0.0,"PropertyMapping: 
The FloatConverter does not allow to map from float to float.
In contrast to this behaviour the IntegerConverter maps from integer to integer."
35195,TYPO3.Flow,Feature,"",Resolved,Should have,Additional possible keys in source array for DateTimeConverter,Adrian Föder,Adrian Föder,2012-05-31 07:48,Property,2.0 beta 1,2012-03-23,"","",100,2012-03-23 12:21,"","",524800,"","","At the moment, the following is allowed:

<pre><code class=""php"">
/*
 * By using an array as source you can also override time and timezone of the created DateTime object:
 * array(
 *  'date' => '<dateString>',
 *  'hour' => '<hour>', // integer
 *  'minute' => '<minute>', // integer
 *  'seconds' => '<seconds>', // integer
 *  'timezone' => '<timezone>', // string, see http://www.php.net/manual/timezones.php
 * );
</code></pre>

Analog to this, it'd be good to allow three additional keys for day, month, year. This makes it possible to feed the source by independent <select> boxes for example, where each select box is day, month or year."
35200,TYPO3.Flow,Bug,"",Resolved,Could have,TYPO3\FLOW3\AOP\Exception\InvalidArgumentException thrown in file JoinPoint.php,Johannes K,Johannes K,2012-05-15 09:26,Session,1.1,2012-03-23,"","",100,2012-03-23 16:11,"","",525050,"",Git master,"In TYPO3\FLOW3\Session\Aspect\LoggingAspect , l. 68

 $reason = $joinPoint->getMethodArgument('reason') ?: 'no reason given';

there should be another check like ""$joinPoint->hasMethodArgument('reason')"" or something like that.

The argument ""reason"" does not exist in method TYPO3\FLOW3\Session\PhpSession->destroy
25 TYPO3\FLOW3\AOP\JoinPoint::getMethodArgument(""reason"")

24 TYPO3\FLOW3\Session\Aspect\LoggingAspect_Original::logDestroy(TYPO3\FLOW3\AOP\JoinPoint)

23 TYPO3\FLOW3\AOP\Advice\AbstractAdvice::invoke(TYPO3\FLOW3\AOP\JoinPoint)

22 TYPO3\FLOW3\Session\PhpSession::destroy(""Session was inactive for 72773 seconds, more than the configured timeout of 3600 seconds."")

21 TYPO3\FLOW3\Session\PhpSession_Original::autoExpire()

20 TYPO3\FLOW3\Session\PhpSession_Original::canBeResumed()

19 TYPO3\FLOW3\Session\PhpSession_Original::resume()

18 TYPO3\FLOW3\Session\PhpSession::resume()

17 call_user_func_array(array, array)

16 TYPO3\FLOW3\Session\PhpSession::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

15 TYPO3\FLOW3\Session\PhpSession::resume()

14 TYPO3\FLOW3\Core\Booting\Scripts::initializeSession(TYPO3\FLOW3\Core\Bootstrap)

13 call_user_func(array, TYPO3\FLOW3\Core\Bootstrap)

12 TYPO3\FLOW3\Core\Booting\Step::__invoke(TYPO3\FLOW3\Core\Bootstrap)

11 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

10 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

9 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

8 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

7 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

6 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

5 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

4 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

3 TYPO3\FLOW3\Core\Booting\Sequence::invoke(TYPO3\FLOW3\Core\Bootstrap)

2 TYPO3\FLOW3\MVC\Web\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


I can look into it later, just wanted to have it documented for the record."
35243,TYPO3.Flow,Feature,"",Resolved,Must have,HTTP 1.1 Support ? Foundations,Robert Lemke,Robert Lemke,2012-04-11 08:38,Http,1.1,2012-03-26,"","",100,2012-03-26 12:18,"","",527150,"","","In order to cleanly separate between the domain of HTTP and that of the MVC framework, it is necessary to split up the request handling which is currently located in the MVC sub package of FLOW3. Two parts should be the result: a new Http sub package which is closely modeled after the HTTP 1.1 and related specs and the Mvc sub package which addresses the aspect of routing, action requests and their dispatching to the respective controllers."
35295,TYPO3.Fluid,Bug,"",Resolved,Must have,Alphanumeric-Validator fails on umlauts,Georg Ringer,Karsten Dambekalns,2013-01-05 09:30,ViewHelpers,"",2012-12-25,"","",100,2012-03-28 01:45,"","",529700,0.00,FLOW3 1.0.0,"this is a copy of #35284, 
-------------
The alphanumeric validator fails to validate for umlauts or other non-ascii letters.
-------------

this needs also be changed in @Tx_Extbase_Validation_Validator_AlphanumericValidator@ and then backported

for patch see https://review.typo3.org/#/c/9923/"
35298,TYPO3.Flow,Bug,"",Resolved,Should have,filename spelling inconsistent in the project,Christian Müller,Christian Müller,2012-04-30 20:37,Resource,1.1 beta 1,2012-03-28,"","",100,2012-03-28 02:41,"","",529850,"",Git master,"The ""filename"" is spelled differently in parts of the framework, it should be adapted. Especially the filename property in Resource has a getter and setter with different spelling."
35300,TYPO3.Flow,Bug,"",Resolved,Must have,Arguments of form __referrer are unserialized without a check,Andreas Förthner,Andreas Förthner,2012-04-14 20:39,Security,1.0.4,2012-03-28,2012-03-28,"",100,2012-03-28 03:51,"","",529950,"",FLOW3 1.0.0,"The request arguments of the referring request are a serialized string written to one of the hidden fields in a Fluid form. As the string is not checked before unserializing it, it is possible to unserialized arbitrary available objects.

Solution: This string has to be protected by a HMAC to protect FLOW3 from possible unserialize attacks."
35317,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Fix doc comments for authentication providers,Aske Ertmann,Aske Ertmann,2012-03-30 20:39,"",1.1,2012-03-28,"","",100,2012-03-28 07:42,"","",530750,"","",All the authentication providers have a incorrect return doc comment.
35324,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Remove vender namespace from Build/Common/PhpUnit/UnitTests.xml ,Soren Malling,Karsten Dambekalns,2013-01-10 08:32,- Testing -,2.0,2012-03-28,"","",100,2012-03-28 08:52,"","",531050,"","","Would't it make sense to remove the vendor namespace from Build/Common/PhpUnit/UnitTests.xml so you can use

<pre>
phpunit -c Build/Common/PhpUnit/UnitTests.xml
</pre>

and have all Tests run at once, using the same UnitTestBootstrap.php for all tests."
35338,TYPO3.Flow,Bug,"",Resolved,Must have,Action arguments of type DateTime throw Exception,Bastian Waidelich,Bastian Waidelich,2012-06-05 09:37,Validation,1.0.5,2012-03-28,"","",100,2012-03-28 13:31,"","",531750,"",Git 1.0,"If an action argument is an object, the ValidationResolver tries to instantiates that object to use it as Validator without checking the Interface.
So a simple controller action like following
<pre>
<code class=""php"">
public function someAction(\DateTime $date) {
}
</code>
</pre>
Provokes an exception @DateTime::__construct() expects parameter 1 to be string, array given@"
35354,TYPO3.Flow,Feature,"",Closed,Could have,Additional variants to annotate Validators,Adrian Föder,Karsten Dambekalns,2012-06-27 03:37,Validation,"",2012-03-29,"","",0,2012-03-29 05:03,"","",532550,"","","Currently (afaik), the only option to set a validator to a model property is to annotate it in the vicinity of the appropriate -method- property:

<pre><code class=""php"">
	/**
	 * @FLOW3\Validate(type=""NotEmpty"")
	 * @FLOW3\Validate(type=""RegularExpression"", options={ ""regularExpression""=""/^[mf]$/"" })
	 * @var string
	 * @ORM\Column(length=1)
	 */
	protected $gender;

	/**
	 * @FLOW3\Validate(type=""NotEmpty"")
	 * @var \TYPO3\Party\Domain\Model\PersonName
	 * @ORM\OneToOne
	 */
	protected $name;
</code></pre>

I now have two additional options in mind, one would be via Configuration.yaml (or maybe even an additional Validation.yaml:

<pre><code class=""yaml"">
-
  property: \Acme\Northwind\Person.gender
  validators:
    - NotEmpty
    - RegularExpression
        options:
          regularExpression: /^[mf]$/
-
  property: \TYPO3\Party\Domain\Model\PersonName.firstName
  validators:
    - NotEmpty
    - StringLength
        options:
          minimumLength: 2
    
-
  #dito for .lastName
</code></pre>

Second would be to allow ""deep"" annotating via the parameter we already know from method argument annotation:

<pre><code class=""php"">
	/**
	 * @FLOW3\Validate(type=""NotEmpty"")
	 * @FLOW3\Validate(""$firstName"", type=""NotEmpty"")
	 * @FLOW3\Validate(""$lastName"", type=""NotEmpty"")
	 * @var \TYPO3\Party\Domain\Model\PersonName
	 * @ORM\OneToOne
	 */
	protected $name;
</code></pre>

(for this example, remember @\TYPO3\Party\Domain\Model\PersonName@ has properties @firstName@ and @lastName@)."
35369,TYPO3.Flow,Bug,"",Resolved,Must have,DateTimeConverter's timezone key leads to unexpected behavior,Adrian Föder,Karsten Dambekalns,2013-02-09 11:30,Property,1.1,2012-12-25,"","",100,2012-03-29 09:57,"","",533300,0.00,FLOW3 1.0.0,"The doc comment of the DateTimeConverter says
<pre><code class=""php"">
/** [...]
 * By using an array as source you can also override time and timezone of the created DateTime object:
 * array(
 *  'date' => '<dateString>',
 *  'hour' => '<hour>', // integer
 *  'minute' => '<minute>', // integer
 *  'seconds' => '<seconds>', // integer
 *  'timezone' => '<timezone>', // string, see http://www.php.net/manual/timezones.php
 * );
[...]
</code></pre>

If the timezone is set (given), @\DateTime::setTimezone()@ is called on the already-created object.

But this method *modifies* the resulting date and time representation. Currently, the DateTime object is created via

<pre>
$date = \DateTime::createFromFormat($dateFormat, $dateAsString);
</pre>

So, if the user provided e.g. @15:04:23@ and timezone @EST@ (even compare to the html sample @ #27417), the following might happen:

# \DateTime::createFromFormat() creates a date representing @15:04:23 CET@, because the server's default timezone is CET (e.g.),
# timezone EST is set from the source, so ->setTimezone() is invoked, resulting in  modifying the \DateTime object into @11:04:23 EST@
# but the intended target date should be @15:04:23 EST@ (compare again the example @ #27417).

My suggestion would be a breaking change that throws @overrideTimezoneIfSpecified()@ away and finds the correct timezone at the 

<pre>
$date = \DateTime::createFromFormat($dateFormat, $dateAsString);
</pre>
 line. The third argument would then be the time zone.

*an additional way* could be a workaround that finds out the difference between the current and the intended timezone, applies ->setTimezone() and then ->modify()s the DateTime object with that difference period."
35387,TYPO3.Flow,Feature,"",Resolved,Could have,Configuration for own Formatters,Julian Wachholz,"",2013-07-01 10:07,I18n,"",2012-03-30,"","",0,2012-03-30 05:57,"","",534200,"","","The current implementation of @TYPO3\FLOW3\I18n\FormatResolver::getFormatter()@ only tries to get formatters from the @TYPO3\FLOW3\I18n\Formatter@ namespace.
It should, however, be somehow possible to use your own formatters in your own namespace.

I have two suggestions for this:

# Use annotations to collect all possible formatter names
# Add a setting in Settings.yaml with a list of registered Formatter-Namespaces"
35388,TYPO3.Flow,Feature,"",New,Could have,Use the current package as default for translations within controllers,Julian Wachholz,"",2013-12-03 17:12,I18n,"",2012-03-30,"","",0,2012-03-30 06:01,"","",534250,"","","The Translator::getTranslationBy* should use the current package to determine where to get the translation from, just like the TranslationViewHelper in Fluid does.

Currently it's quite tedious since the packageKey is the very last argument to those methods and you rarely need the other ones in between."
35394,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,"Document Routing feature ""appendExceedingArguments""",Bastian Waidelich,Karsten Dambekalns,2012-06-27 04:25,- Documentation -,1.1,2012-03-30,"","",100,2012-03-30 08:04,"","",534550,"","",See #30778
35416,TYPO3.Eel,Bug,"",Resolved,Should have,Fix failing eel unit test // Eel Code Detection expression,Sebastian Kurfuerst,Karsten Dambekalns,2012-07-13 10:06,"","",2012-03-30,"","",100,2012-03-30 13:14,"","",535650,"","",""
35420,TYPO3 Flow Base Distribution,Suggestion,"",New,Should have,Review use of try / catch in the Security Framework,Rens Admiraal,Andreas Förthner,2012-03-30 18:00,"","",2012-03-30,"","",0,2012-03-30 18:00,"","",535850,"","","Just to not forget about the comments in https://review.typo3.org/#/c/9558/

Karsten Dambekalns		Mar 12
Patch Set 1:
If that is considered proper use of the security framework? would be nice to have something that doesn't use try/catch.
Andreas Förthner		Mar 12
Patch Set 1: Looks good to me, but someone else must approve
Currently the security framework works like this. I agree that it is somehow strange to catch an exception here. On the other hand this makes it really explicit and really ensures that you are aware of coding the restricted case. For know I wouldn't change it, but we can discuss if we need some true/false method for access decisions."
35422,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,TYPO3 Security Framework should not take unexisting roles into account,Rens Admiraal,"",2012-04-26 08:38,"","",2012-03-31,"","",100,2012-03-30 18:49,"","",535950,"",Git master,"Now the Security Framework uses all roles available in the tokens. When a role is not configured in the Policy.yaml this should not have effect.

For example if you now create a new Phoenix user with the role 'User' the backend gives an 'Access denied!' because the security framework does not know the role User.

Expected behavior: just ignore the users role?"
35517,TYPO3.Flow,Feature,"",Resolved,Should have,Annotation Driver should use information about maximum identifier length for tables from DBAL,Christian Müller,Christian Müller,2012-04-20 08:38,Persistence,1.1,2012-04-02,"","",100,2012-04-02 03:10,"","",540650,"","",""
35524,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Split the Documentation package into DocTools and move the documentation to TYPO3.FLOW3 and TYPO3.TYPO3,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-04-02 07:17,"",1.1 beta 1,2012-04-02,"","",0,2012-04-02 05:06,"","",541000,"","",""
35682,TYPO3.Flow,Task,"",Resolved,Should have,Remove Selenium Test Case,Robert Lemke,Robert Lemke,2012-04-04 08:39,- Testing -,1.1,2012-04-04,"","",100,2012-04-04 07:56,"","",548850,"","","The Selenium Test Case is currently neither in use, nor supported by the core team. Possibly it's also not functional and not used by anybody else.
Remove it."
35706,TYPO3.Flow,Feature,"",Resolved,Should have,Virtual Browser for Functional Testing,Robert Lemke,Robert Lemke,2012-04-11 08:38,Http,1.1,2012-04-05,"","",100,2012-04-05 04:14,"","",550050,"","","I'd like a virtual ""Browser"" class which allows me to simulate arbitrary HTTP requests without actually sending them over the network. This would be great for testing controllers and any other component which is accessed through the HTTP stack."
35709,TYPO3.Flow,Task,Task #51183: CLI improvements,New,Should have,Implement global Command aliases,Bastian Waidelich,"",2013-08-19 08:33,Cli,"",2012-04-05,"","",0,2012-04-05 05:12,"","",550200,"","",Aliases (short names) for CLI commands are currently only supported for @runtime commands@ not for @compile time commands@ because the aliases are hard coded in the CommandManager which is executed at a later state.
35720,TYPO3.Flow,Bug,"",New,Must have,Access denied Exception for widget links to actions with a policy,Johannes K,"",2012-10-25 08:08,Security,"",2012-04-05,"","",0,2012-04-05 07:42,"","",550750,"",Git master,"In TYPO3\FLOW3\Security\Aspect\CsrfProtectionAspect::addCsrfTokenToUri() the detection for the target classname fails, if a link is generated  via <f:link.widget />, so the link is missing the  __csrfToken and you get an AccessDeniedException:

#1216919280: You are not allowed to perform this action. (More information)

TYPO3\FLOW3\Security\Exception\AccessDeniedException thrown in file
.../Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Security_Authorization_Interceptor_AccessDeny_Original.php in line 30.

Example to reproduce: 
Use the paginate widget for an action with a policy"
35748,TYPO3.Fluid,Feature,"",Resolved,Could have,Add generic data-* attribute,Julian Wachholz,Bastian Waidelich,2013-12-18 10:40,ViewHelpers,"",2012-04-06,"","",100,2012-04-06 10:07,"","",552150,"","","All elements in HTML5 can have any number of @data-*@ attributes.
This should be made easier to use than with the @additionalAttributes@ property.

Example:

<pre>
<f:link.action data=""{loading-text: 'loading...'}"" action=""create"">create a new foo</f:link.action>
</pre>
"
35763,TYPO3.Eel,Task,"",Resolved,Should have,Move README docs to Documentation/,Rens Admiraal,Karsten Dambekalns,2013-10-01 04:29,"","",2012-04-07,"","",100,2012-04-07 03:50,"","",552900,"","","With moving the code from github to git.typo3.org the need for a README.md is gone, we should move this to the normal documentation folder."
35766,TYPO3.Fluid,Feature,"",Rejected,Should have,add custom namespaces in settings.yaml,rottenrice no-lastname-given,"",2014-04-19 12:37,View,"",2012-04-07,"","",0,2012-04-07 08:09,"","",553050,"","","the repeated declaration of your own namespaces in the template files is an unnecessary overhead. with this update you can define custom namespaces in your Settings.yaml.

enhanced/edited TYPO3\Fluid\Core\Parser\TemplateParser:
<pre>
/**
 * Namespace identifiers and their component name prefix (Associative array).
 * @var array
 */
protected $namespaces = array();

/**
 * The FLOW3 settings
 * @var array
 */
protected $settings;

/**
 * Injects the settings and resets the namespace array
 *
 * @param array $settings The settings
 * @return void
 */
public function injectSettings(array $settings) {
	$this->settings = $settings;
	$this->reset();
}

/**
 * Resets the parser to its default values.
 *
 * @return void
 */
protected function reset() {
	$this->namespaces = array();
	if (isset($this->settings['Core']['Parser']['TemplateParser']['namespaces'])) {
		$this->namespaces = $this->settings['Core']['Parser']['TemplateParser']['namespaces'];
	}
}
</pre>

added Settings.yaml in Packages/Framework/TYPO3.Fluid/Configuration (required):
<pre>
TYPO3:
  Fluid:
    Core:
      Parser:
        TemplateParser:
          namespaces:
            f: 'TYPO3\Fluid\ViewHelpers'
</pre>

now each package has the possibility to add custom namespaces in Packages/Application/*.*/Configuration/Settings.yaml (optional)
<pre>
TYPO3:
  Fluid:
    Core:
      Parser:
        TemplateParser:
          namespaces:
            foo: 'my\foo\namespace'
</pre>"
35781,TYPO3.Flow,Feature,"",New,Should have,Model validation,Julian Wachholz,"",2012-04-08 11:06,Validation,"",2012-04-08,"","",0,2012-04-08 11:06,"","",553800,"","","Currently, only (action)method arguments and single properties in a Model can be tagged with @Validate.
In some cases however, it might be useful to validate a model in its entirety, especially if it's quite a complex one that needs rules between multiple properties.

Model validation would occur _after_ all properties have been set and validated.

Right now, one can always annotate the next higher location where the model is used,
but I think that this is redundant and related to the model. Method argument validators should use validation in the action specific context."
35783,TYPO3.Flow,Feature,"",New,Should have,Lifecycle method after property mapping,Andreas Wolf,"",2012-04-08 15:01,Object,"",2012-04-08,"","",0,2012-04-08 14:40,"","",553900,"","","Currently, there is initializeObject() that is called after DI. There is, however, no method that is called after property mapping. Having such a method would enable us e.g. to set some more properties after creating an object from a form.

Another option (instead of a ""real"" object lifecycle method) would be to have a method that is called solely by the property mapper after it has done its job."
35790,TYPO3.Fluid,Feature,Work Package #45013: Flexible plugin integration (TODO: Reviews),Resolved,Should have, allow f:link.action to operate on parent request,Fernando Arconada,Karsten Dambekalns,2013-05-06 13:35,ViewHelpers,2.0,2012-04-09,"","",100,2012-04-09 06:54,"","",554250,"","","Original bug description:
<pre>
if you use f:link.action inside a widget it generates links to the widget actions and not links to other controllers as expected
</pre>

See below for feature description"
35826,TYPO3.Flow,Feature,"",Resolved,Should have,Force option for flushing caches in edge cases,Robert Lemke,Robert Lemke,2012-04-10 20:37,Cache,1.1,2012-04-10,"","",100,2012-04-10 11:14,"","",556050,"","","Sometimes packages containing invalid PHP code which cause fatal errors can prevent FLOW3 from flushing code caches with ./flow3 typo3.flow3:cache:flush, because reflection data is loaded or created before the command can be executed. For these cases a --force option would be helpful which skips all non-essential initialization and flushes caches directly, including emptying the whole temporary directory."
35831,TYPO3.Flow,Bug,"",New,Must have,Deleting or unpublishing of a resource deletes all published symlinks (Web/_Resources/Persistent),Kira Backes,"",2012-04-11 03:31,"","",2012-04-10,"","",0,2012-04-10 14:26,"","",556300,"",Git master,n/t
35835,TYPO3 Flow Base Distribution,Bug,"",Rejected,Should have,In WebContext Settings.yaml is read from root directory if present,Steffen Ritter,Christian Müller,2012-04-14 03:16,"","",2012-04-11,"","",0,2012-04-11 04:10,"","",556500,"",Git master,"I made a copy of of Settings.yaml from Configuration/ to /
When accessing via WebBrowser the Settings.yaml from root directory is read and used."
35868,TYPO3.Flow,Bug,"",On Hold,Must have,Unstable condition in Utility\Environment,Adrian Föder,Karsten Dambekalns,2012-06-25 16:37,Environment,"",2012-04-11,"","",0,2012-04-11 10:59,"","",558100,"",(any),"@TYPO3\FLOW3\Utility\Environment::untangleFilesArray()@ has the following section:

<pre><code class=""php"">
		foreach ($convolutedFiles as $firstLevelFieldName => $fieldInformation) {
			if (!is_array($fieldInformation['error'])) {
</code></pre>

the responsible UnitTest reads as followed:

<pre><code class=""php"">
	public function getRawServerEnvironmentJustReturnsTheSERVERVariable() {
		$_SERVER = array('foo' => 'bar', 'REQUEST_TIME' => $_SERVER['REQUEST_TIME']);
		$environment = new \TYPO3\FLOW3\Utility\Environment('Testing');
		$this->assertEquals($_SERVER, $environment->getRawServerEnvironment());
	}
</code></pre>

so, $convolutedFiles equals that foo => bar array; and $fieldInformation is not an array, but a string.
@$fieldInformation['error']@ hence results in 

  > PHP Warning:  Illegal string offset 'error'

Maybe 
<pre>
if (!is_array($fieldInformation['error']))
</pre>
should be replaced with
<pre>
if (!isset($fieldInformation['error']))
</pre>

in order to avoid that.

Seems to be an 5.4 issue because nobody else noticed."
35892,TYPO3.Flow,Feature,"",Resolved,Should have,Give hint in exception message about aggregate roots in class hierarchies,Karsten Dambekalns,Karsten Dambekalns,2012-04-12 08:38,Persistence,1.1,2012-04-12,"","",100,2012-04-12 05:31,"","",559200,"","","The message ""In a class hierarchy either all or no classes must be an aggregate root, ""<foo>"" is one but the parent class ""<bar>"" is not."" should give a hint on how to solve this."
35894,TYPO3.Fluid,Bug,"",Resolved,Must have,"CheckboxViewHelper and RadioViewHelper missing an existence check for formObject, and thus an exception is being thrown",Sebastian Wojtowicz,Sebastian Wojtowicz,2012-06-18 11:38,ViewHelpers,1.1 RC1,2012-04-12,"",0.10,100,2012-04-12 06:08,"","",559300,"",Git master,"Scenario:
<pre>
Controller:
    indexAction(FormObject $formObject = NULL){ ... }
Template:
    <f:form ... object=""{formObject}' >
        <f:form.checkbox property=""somePropertyOfFormObject"" value=""yes""/>
        ...
 </pre>

This scenario fails with
<pre>
#1243325768: No value found for key ""TYPO3\Fluid\ViewHelpers\FormViewHelper->formObject""
</pre>


The problem is that in the CheckboxViewHelper and the RadioViewHelper we call @ $this->getPropertyValue()@ which callls @$formObject = $this->viewHelperVariableContainer->get('TYPO3\Fluid\ViewHelpers\FormViewHelper', 'formObject');@ even though we did not check if the formObject exists, so that instead we get thrown an exception.

For example in CheckboxViewHelper.php, Line 80 before we call getPropertyValue() we only check
<pre>
if ($this->isObjectAccessorMode())
</pre>
while all other [InputType]ViewHelper always check (in the getValue() function):
<pre>
if ($this->isObjectAccessorMode() && $this->viewHelperVariableContainer->exists('TYPO3\Fluid\ViewHelpers\FormViewHelper', 'formObject'))
</pre>

So I think that in CheckboxViewHelper, Line 80 and in RadioViewHelper, Line 81 there should also be the same check for the existence of the formObject. Unless someone knows of a better place to inject that bugfix.
"
35912,TYPO3.Flow,Feature,"",Resolved,Must have,Improve performance on Windows,Bastian Waidelich,Bastian Waidelich,2012-05-21 10:11,Cache,1.1,2012-04-12,"","",100,2012-04-12 13:23,"","",560150,"","","Performance of FLOW3 on Windows is still quite bad.
Something can't go right there (e.g. @flow3:objectmanagement:proxyclasses@ takes > 5 seconds even with frozen packages and no changes!)

Test code (in *TYPO3.FLOW3/Classes/Core/Booting/Sequence.php*, line 88ff):
<pre>
<code class=""php"">
$start = microtime(TRUE);
$step($bootstrap);
$end = microtime(TRUE);
echo $step->getIdentifier() . ': ' . ($end - $start) . PHP_EOL;
</code>
</pre>"
35916,TYPO3.Flow,Task,"",Resolved,Should have,"Make system call to php binary reliable one for all, especially on Windows",Adrian Föder,Karsten Dambekalns,2012-12-12 16:12,Core,1.1.1,2012-04-12,"","",100,2012-04-12 13:49,"","",560350,"","","Currently, there are still issues with @\TYPO3\FLOW3\Core\Booting\Scripts@'

<pre><code class=""php"">
			$phpBinaryPathAndFilename = escapeshellcmd(\TYPO3\FLOW3\Utility\Files::getUnixStylePath($settings['core']['phpBinaryPathAndFilename']));
			$command = '""' . $phpBinaryPathAndFilename . '"" -c ' . escapeshellarg(php_ini_loaded_file()) . ' -v';
			system($command, $result);
			if ($result !== 0) {
				throw new \TYPO3\FLOW3\Exception('It seems like the PHP binary ""' . $settings['core']['phpBinaryPathAndFilename'] . '"" cannot be executed by FLOW3. Set the correct path to the PHP executable in Configuration/Settings.yaml, setting FLOW3.core.phpBinaryPathAndFilename.', 1315561483);
			}
			throw new \TYPO3\FLOW3\Exception('The compile run failed. Please check the error output or system log for more information.', 1297263663);

</code></pre>

Its very likely that this call still doesn't success in complicated Windows environment, where the path is e.g. set to @C:\Program Files (x86)\Zend\ZendServer\bin\php.exe@. Even that @escapeshellcmd@ brings up errors because the @(x86)@ is converted to  @^(x86^)@.

Additionally, the exception message should be more verbose and at least carry the actual @$command@ in order to make error catching more easy.
A few additional file_exists and other stuff may also make that stuff more reliable."
35935,TYPO3.Flow,Bug,"",Closed,Must have,Symlinks still don't work reliably under Windows,Adrian Föder,Karsten Dambekalns,2013-06-07 15:34,Core,1.1,2012-04-13,"","",0,2012-04-13 03:31,"","",561300,"",Git master,"Creation of symlinks under Windows is still not reliable due to, honestly, weird behavior of windows' UAC.
The system command @mklink /J@ seems to be interesting because it doesn't need as much elevated user permissions like @mklink /.D@ does (the opposite is a junction vs. a symlink)

I will gamble around with that a bit."
35963,TYPO3.Kickstart,Bug,"",Resolved,Should have,Kickstarting a command controller produces invalid code,Henrik Møller Rasmussen,"",2012-04-26 08:38,"","",2012-04-13,"","",100,2012-04-13 08:00,"","",562600,"",Git master,"The generated command controller extends a non-existing class.

Patch attached."
35965,TYPO3.Flow,Feature,"",Resolved,Should have,Session shouldn't start automatically,Peter Russ,Andreas Förthner,2012-05-07 20:37,Security,1.1,2012-04-13,"","",100,2012-04-13 08:16,"","",562700,"","","By default session handling is started automatically. This isn't useful when it comes to server/server communication.
Places where it should be fixed:
TYPO3\FLOW3\Security\Authentication\AuthenticationProviderManager line 130 
	 * @FLOW3\Session(autoStart=true)
and 
Package line 46/47
$dispatcher->connect('TYPO3\FLOW3\Security\Authentication\AuthenticationProviderManager', 'authenticatedToken', 'TYPO3\FLOW3\Session\SessionInterface', 'renewId');
$dispatcher->connect('TYPO3\FLOW3\Security\Authentication\AuthenticationProviderManager', 'loggedOut', 'TYPO3\FLOW3\Session\SessionInterface', 'destroy');
"
35970,TYPO3.Flow,Task,"",New,Should have,Improve performance of Utility/Arrays::integerExplode by using array_map,Marc Bastian Heinrichs,"",2012-04-13 09:38,"","",2012-04-13,"","",0,2012-04-13 09:38,"","",562950,"","",""
36010,TYPO3.Flow,Bug,"",Closed,-- undefined --,TYPO3\FLOW3\Exception thrown in file Bootstrap.php,Uschi Renziehausen,Adrian Föder,2012-05-25 08:38,- Error Handler Report -,"",2012-04-13,"","",0,2012-04-13 16:04,"","",564900,"",FLOW3 1.0.4,"It seems like the PHP binary ""C:\php/php"" cannot be executed by FLOW3. Set the correct path to the PHP executable in Configuration/Settings.yaml, setting FLOW3.core.phpBinaryPathAndFilename.
3 TYPO3\FLOW3\Core\Bootstrap::initializeForRuntime()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()

I am using windows and the exeption above is thrown when I try to test my first steps with flow 3 according to http://flow3.typo3.org/documentation/quickstart.html > Testing the Installation.

In Configuration/Settings.yaml I set phpBinaryPathAndFilename: 'E:\xampp\php\php.exe' and reloaded the page. The exeption is still there and still has C:\php/php, so perhaps the configuration is not read in which case this is a bug?

The version I downloaded is Base Distribution (1.0.4) which I could not select.

Regards Uschi"
36013,TYPO3.Flow,Bug,"",Closed,Should have,Uncaught Exception on package:(de)activate when package is already (de)activated or not specified.,Jacob Floyd,"",2012-04-19 01:55,Command,"",2012-04-13,"","",0,2012-04-13 18:05,"","",565050,"",Git master,"Try to activate a package that is already active, like TYPO3.FLOW3 or TYPO3.Fluid

<pre>
./flow3 package:activate TYPO3.FLOW3
</pre>

FLOW3 should say something like ""Package is already active"", but instead it throws an ""Uncaught Exeption"" with pretty useless information:

<pre>
Uncaught Exception


More Information
  Exception code      #0
  File                [snip]Cache/Code/FLOW3_Objet_Classes/TYPO3_FLOW3_Cli_CommandController_Original.php line 249
  Exception reference #201204413235602f31b8f
</pre>

The same exception occurs if you deactivate an already deactivated package.

If you don't specify the package to activate with @./flow3 package:activate@, you get the same fairly useless error message (only it cites line 172 instead of 249)."
36014,TYPO3.Fluid,Feature,"",Resolved,Should have,Prepend currency sign,Kilian Hann,"",2012-09-17 06:06,ViewHelpers,"","","","",0,2012-04-13 18:10,"","",565100,"","","Add an option to prepend the currency sign, e.g. @CHF 123.45@"
36030,TYPO3.Flow,Bug,"",Resolved,Should have,Forwarding of CLI requests throws an exception,Alexander Stehlik,"",2012-04-14 20:39,Command,"",2012-04-14,"","",100,2012-04-14 07:00,"","",565900,"",Git master,"When you call a CLI action with missing parameters you get an exception with no further explanation.

This is because TYPO3\FLOW3\Cli\CommandController::forward() throws a\TYPO3\FLOW3\MVC\Exception\StopActionException that is not catched anywhere.

Expected behaviour would be to catch the exception and try do process a new request."
36035,TYPO3.Flow,Bug,"",Resolved,Should have,CSRF protection prevents the triggering of authentication entry points in some cases,Andreas Förthner,Andreas Förthner,2012-04-14 20:39,Security,1.1,2012-04-14,"","",100,2012-04-14 08:52,"","",566150,"",Git master,"As CSRF protection is not needed when nobody is logged in, we can completely skip this feature then. This makes sure, that authentication entry points are triggered in any case correctly."
36049,TYPO3.Flow,Bug,"",Resolved,Should have,After running setfilepermissions some file rights are different from the ones in repository ,Marc Bastian Heinrichs,Karsten Dambekalns,2012-07-12 06:35,"",1.1,2012-04-14,"","",100,2012-04-14 10:56,"","",566850,"",(any),"<pre>
$git diff
diff --git a/Classes/Security/Authentication/Token/AbstractToken.php b/Classes/Security/Authentication/Token/AbstractToken.php
old mode 100755
new mode 100644
diff --git a/Classes/Security/Authentication/Token/TestingToken.php b/Classes/Security/Authentication/Token/TestingToken.php
old mode 100755
new mode 100644
diff --git a/Classes/Security/Authentication/Token/Typo3OrgSsoToken.php b/Classes/Security/Authentication/Token/Typo3OrgSsoToken.php
old mode 100755
new mode 100644
diff --git a/Classes/Security/Authentication/Token/UsernamePassword.php b/Classes/Security/Authentication/Token/UsernamePassword.php
old mode 100755
new mode 100644
diff --git a/Classes/Security/Authentication/Token/UsernamePasswordHttpBasic.php b/Classes/Security/Authentication/Token/UsernamePasswordHttpBasic.php
old mode 100755
new mode 100644
diff --git a/Resources/Private/Translations/ValidationErrors.de.xlf b/Resources/Private/Translations/ValidationErrors.de.xlf
old mode 100755
new mode 100644
diff --git a/Resources/Private/Translations/ValidationErrors.en.xlf b/Resources/Private/Translations/ValidationErrors.en.xlf
old mode 100755
new mode 100644
diff --git a/Resources/Private/Translations/ValidationErrors.fr.xlf b/Resources/Private/Translations/ValidationErrors.fr.xlf
old mode 100755
new mode 100644
diff --git a/Scripts/flow3.php b/Scripts/flow3.php
old mode 100755
new mode 100644
diff --git a/Scripts/migrate-annotations.php b/Scripts/migrate-annotations.php
old mode 100755
new mode 100644
diff --git a/Scripts/migrate.php b/Scripts/migrate.php
old mode 100755
new mode 100644
</pre>"
36050,TYPO3.Flow,Task,"",Rejected,Should have,Raise the minimum PHP version due to security issues,Aske Ertmann,Karsten Dambekalns,2012-05-15 09:49,Core,1.1,2012-04-14,"","",0,2012-04-14 11:32,"","",566900,"","","We should consider raising the minimum PHP version requirement in the Bootstrap since there is a security issue concerning null byte poisoning for all file functions. Since there is no sanitizing in FLOW3 concerning the null byte poisoning, we should raise the requirement to 5.3.4, since it is fixed in that release.

Another suggestion is to raise it to 5.3.6 and get rid of the PDO charset handling."
36056,TYPO3.Flow,Bug,"",Resolved,Should have,"Usage of "" in the Policy.yaml",Patrick Kollodzik,Karsten Dambekalns,2012-12-19 03:15,Security,1.1,2012-04-14,"","",100,2012-04-14 14:04,"","",567200,"",Git master,"The Policy.yaml that comes with TYPO3.FLOW3 has the following example:

<pre>
# resources:
#   methods:
#     TYPO3_FooPackage_PropertySetter: ""method(TYPO3\FooPackage\SomeClass->setSomeProperty())""
</pre>

If you follow that example and wrap the string with the "" character, then the following expression will fail:

<pre>
# resources:
#   methods:
#     ResourceName: ""method(Package\LoginController\SomeClass->setSomeProperty())""
</pre>

Because of the "" the \L will be removed and the expression will not work as expected. If you replace the "" with ' it will work.

The examples in the documentation use all the ' character, so it should be enough to change the Policy.yaml that comes with TYPO3.FLOW3. It seems it is a legal escape character for YAML, but it is a bit confusing.

The stripping happens in the YAML paser and not in FLOW3.

http://www.yaml.org/refcard.html

"
36077,TYPO3.Flow,Feature,"",Closed,Should have,Separate original classes and proxy classes in class cache,Lienhart Woitok,Lienhart Woitok,2013-07-26 13:00,Object,"",2012-04-14,"","",0,2012-04-14 15:49,"","",568250,"","","IDEs like PhpStorm get confused with code completion if proxy classes are known to the IDE. On the other hand, one can only set breakpoints in the original classes if those are known to the IDE. As long as proxy and original classes share the same cache directory one can not use both IDE features at the same time."
36088,TYPO3.Flow,Feature,"",Resolved,Should have,Improve error handling of translation handling,Alexander Stehlik,Alexander Stehlik,2012-05-07 08:39,I18n,1.1,2012-04-15,"","",100,2012-04-14 19:31,"","",568800,"","","At the moment, if a translation for a plural version of a translation is not available, the translation system silently fails.

It would be better to throw an exception if the translation is available but the matching plural version is missing so that the developer knows whats going on.

Additionally the documentation for the plural handling of the translation system should be updated. An example for a translation with multiple plurals is this:

<pre>
<group id=""my.unique.translationkey"" restype=""x-gettext-plurals"">
	<trans-unit id=""my.unique.translationkey[0]"">
		<source>MySourceText</source>
		<target>This is only {0} item.</target>
	</trans-unit>
	<trans-unit  id=my.unique.translationkey[1]"">
		<source>MySourceText</source>
		<target>These are {0} items.</target>
	</trans-unit>
</group>
</pre>

For more details you can also have a look at the ""Google+ Post"":https://plus.google.com/u/0/111164297971761777611/posts/L8mgHWWnKfV about this topic.


"
36114,TYPO3.Flow,Bug,"",Resolved,Must have,"Property Mapping breaks for file uploads, because $_FILES-Array doesn't get ""untangled"" anymore",Johannes K,Bastian Waidelich,2012-04-25 20:38,Http,1.1 beta 1,2012-04-15,"","",100,2012-04-15 13:56,"","",570100,"",Git master,"TYPO3\FLOW3\Http\Request is missing the functionality that is implemented in TYPO3\FLOW3\Utility\Environment::untangleFilesArray().

This causes the $source array in TYPO3\FLOW3\Property\PropertyMapper::convert() to have invalid keys from the $_FILES array (name, type, tmp_name, error, size) and causes this exception:
""#1297759968: Exception while property mapping at property path """": Property ""name"" was not found in target object of type Acme\Domain\Model\Event"".

This is how $source look like:
<pre>
array(15)
 '__identity' (10) => '3fbe7e6e-15dc-43af-93d5-6b6e173a58c4' (36)
 'title' (5) => 'Test' (8)
...
 'image' (5) => array(1)
   'resource' (8) => array(1)
     'submittedFile' (13) => array(2)
       'fileName' (8) => '' (0)
       'resourcePointer' (15) => '' (0)
 'name' (4) => array(1)
   'image' (5) => array(1)
     'resource' (8) => '' (0)
 'type' (4) => array(1)
   'image' (5) => array(1)
     'resource' (8) => '' (0)
 'tmp_name' (8) => array(1)
   'image' (5) => array(1)
     'resource' (8) => '' (0)
 'error' (5) => array(1)
   'image' (5) => array(1)
     'resource' (8) => integer 4
 'size' (4) => array(1)
   'image' (5) => array(1)
     'resource' (8) => integer 0
</pre>

"
36155,TYPO3.Kickstart,Bug,"",Resolved,Should have,kickstart:model example for property creation is wrong,Christian Müller,Christian Müller,2012-04-25 08:38,"",1.0.5,2012-04-16,"","",100,2012-04-16 08:28,"","",572150,"",Git 1.0,"<pre>
(for example ""title:string size:int type:MyType"").
</pre>

should be

<pre>
(for example ""title:string"" ""size:int"" ""type:MyType"").
</pre>"
36159,TYPO3.Flow,Bug,"",Resolved,Should have,StringLengthValdiator uses strlen which is not UTF-8 save,Christian Müller,"",2013-03-27 08:37,"","",2012-04-16,"","",100,2012-04-16 09:12,"","",572350,"",Git master,Will probably result in not correctly validated obejcts. How to abstract UTF-8 save string length functions like mb_strlen?
36162,TYPO3.Flow,Bug,"",Closed,Must have,TYPO3\FLOW3\Exception thrown in file Scripts.php,Martin ,"",2012-04-16 12:03,"","",2012-04-16,"","",0,2012-04-16 10:59,"","",572500,"",Git master,"Freshley installed linux with apache2 and php5 just tried to get the acme.demo started. if i try to flush caches:
Fatal error: Class 'TYPO3\FLOW3\MVC\Controller\ActionController' not found in /home/wurtzelsepp/Arbeitsfläche/git/Base/Packages/Application/Acme.Demo/Classes/Controller/CoffeeBeanController.php on line 19

trying in Browser: 
PHP 5.3.6-13ubuntu3.6 with Suhosin-Patch (cli) (built: Feb 11 2012 03:26:01) Copyright (c) 1997-2011 The PHP Group Zend Engine v2.3.0, Copyright (c) 1998-2011 Zend Technologies
Uncaught Exception in FLOW3
#1297263663: The compile run failed. Please check the error output or system log for more information. (More information)

TYPO3\FLOW3\Exception thrown in file
Packages/Framework/TYPO3.FLOW3/Classes/Core/Booting/Scripts.php in line 222.
Reference code: 20120416165742c836b7

And i dont get it why
tried new Php php-cli cgi and nothing format new nothing 




The compile run failed. Please check the error output or system log for more information.
10 TYPO3\FLOW3\Core\Booting\Scripts::initializeProxyClasses(TYPO3\FLOW3\Core\Bootstrap)

9 call_user_func(array, TYPO3\FLOW3\Core\Bootstrap)

8 TYPO3\FLOW3\Core\Booting\Step::__invoke(TYPO3\FLOW3\Core\Bootstrap)

7 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

6 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

5 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

4 TYPO3\FLOW3\Core\Booting\Sequence::invoke(TYPO3\FLOW3\Core\Bootstrap)

3 TYPO3\FLOW3\Http\RequestHandler::boot()

2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
36185,TYPO3.Kickstart,Bug,"",Closed,Should have,Creation of packages fails or they cannot be called later ,Sven Leuschner,Sven Leuschner,2012-05-21 11:25,"",1.0.5,2012-04-16,"","",50,2012-04-16 17:47,"","",573650,"",FLOW3 1.0.3,"I followed exactly the Quickstart-Guide provided with flow3 1.04 
I managed to get it running out of the box to the welcome-screen, then followed the written lines about setting some environment-variables and creating a basic package 
> ""flow3 kickstart:package MyCompany.MyPackage""
That seems to work as intended as 2 lines indicate the creation of directories in Installation-Path->Package->Application

But when I call them in my browser (Opera and Mozilla Firefox ) -> http://localhost/flow3/Web/MyCompany.MyPackage  ,
I get a nice error message: 

Uncaught Exception in FLOW3
#1218473352: The action name must start with a lower case letter, ""MyCompany"" does not match this criteria. (More information)

TYPO3\FLOW3\MVC\Exception\InvalidActionNameException thrown in file
E:\xampp\htdocs\flow3\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_FLOW3_MVC_Web_Request_Original.php in line 331.
Reference code: 20120416232925d34ff1

Unfortunately the ""More information""-Link in the error-page leads to an empty page (There is currently no text in this page ......)

the same happens when I follow the Quickstart further and create Acme.Demo 

When I try to ""circumvent"" the error by simply creating the packages using lowercase, I get an error from kickstart telling me I have to use uppercase ... so a nice circular error-connection - or not so nice
"
36207,TYPO3.Fluid,Task,"",Resolved,Should have,Speed up performance in format.currency,Ingo Pfennigstorf,"",2014-02-19 05:36,ViewHelpers,"",2012-04-17,"","",100,2012-04-17 05:37,"","",574750,"","",Related to #34519 setting an empty default value for format.currency speeds this ViewHelper up
36217,TYPO3.Flow,Feature,"",Resolved,Should have,As a developer I would like to have access to php://input in a uniform way,Claus Witt,Robert Lemke,2012-04-17 10:11,Environment,1.1,2012-04-17,"","",0,2012-04-17 07:06,"","",575250,"","","When using flow3 to create rest controllers, sometimes you would like to be able to have access to php://input from multiple sources (authentication token, controller and aspect/pointcut might all be relevant places). However if doing a PUT request and trying to read the php://input multiple times, it will return an empty string.

I guess the correct place to have this is in TYPO3\FLOW3\Utility\Environment - and either setting php:/input content to a instance variable in the constructor - or saving the value of the stream on the first read (to save the call to file_get_contents - or similar - to use cases where it is actually used). 

I have attaached a quick diff to show what I mean. 
"
36236,TYPO3.Flow,Bug,"",Resolved,Must have,Call to method not being backed by an interface in Http RequestHandler,Adrian Föder,Robert Lemke,2012-05-15 09:22,Http,1.1,2012-04-17,"","",100,2012-04-17 11:13,"","",576200,"",Git master,"in Http's RequestHandler's handleRequest() method, there is

<pre>
$this->router->setRoutesConfiguration($this->routesConfiguration);
</pre>

in -my case- case of a Widget Request, @$this->router@ is @TYPO3\Fluid\Core\Widget\WidgetRouter@ which hasn't a @setRoutesConfiguration()@ method.

So now there are few issues with that:

  * the @$this->router@ is annotated to be @\TYPO3\FLOW3\Mvc\Routing\Router@, not @...RouterInterface@
  * the @RouterInterface@, however, hasn't the @setRoutesConfiguration()@ method.
  * the @TYPO3\Fluid\Core\Widget\WidgetRouter@ doesn't implement from that interface
  * and, as said, the @TYPO3\Fluid\Core\Widget\WidgetRouter@ also doesn't have the @setRoutesConfiguration()@."
36249,TYPO3.Fluid,Feature,"",Rejected,Won't have this time,Add autocomplete property to form input field,Kilian Hann,"",2012-11-14 02:32,"","","","","",0,2012-04-17 16:43,"","",576850,"","",Please add the autocomplete property to the input field
36276,TYPO3.Flow,Feature,"",Resolved,Should have,Make doctrine:migrate output just show executed migrations,Karsten Dambekalns,Karsten Dambekalns,2012-04-24 08:38,Persistence,1.1,2012-04-18,"","",100,2012-04-18 05:17,"","",577550,"","",.
36279,TYPO3.Flow,Bug,"",Resolved,Should have,"When setting file permissions, the return code is always 0, even on error",Karsten Dambekalns,Karsten Dambekalns,2012-04-25 08:38,Core,1.0.5,2012-04-18,"","",100,2012-04-18 05:27,"","",577700,"",Git 1.0,"If something goes wrong, it should instead return a non-zero error code."
36284,TYPO3.Flow,Task,"",Resolved,Must have,Move XLIFF files around so that their use is Pootle-compatible,Karsten Dambekalns,Karsten Dambekalns,2012-04-30 20:37,I18n,1.1,2012-04-18,"","",100,2012-04-18 05:47,"","",577950,"","","We need to change the way we put XLIFF files into the filesystem, so that we can use Pootle.

<pre>
We have a problem with the FLOW3 project on the translation server.
Currently the filename is something like Main.en.xlf, Main.de.xfl ...
And that naming convention is not supported by Pootle.

We can use two different schema:

1. A directory tree, but the XLIFF file must have the same name in each
   language project (like v4 use)
2. The GNU way, with filename like en.xlf, de.xlf, ... but only one file per
   project.
</pre>"
36297,TYPO3.Fluid,Bug,"",Resolved,Must have,ValidationResults ViewHelper must always render childnodes,Bastian Waidelich,Bastian Waidelich,2012-04-18 20:37,ViewHelpers,1.1,2012-04-18,"","",100,2012-04-18 09:13,"","",578600,"",Git master,The adjustments to the new HTTP implementation in FLOW3 introduced a regression that prevents the child nodes of the ValidationResults ViewHelper from being rendered if no validation errors occurred.
36301,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Supply PostgreSQL migrations,Karsten Dambekalns,Karsten Dambekalns,2012-04-30 04:42,"",1.1,2012-04-18,"","",100,2012-04-18 12:00,"","",578800,"","","The ""official"" packages should contain DB migrations for PostgreSQL as well."
36310,TYPO3.Flow,Bug,"",Resolved,Should have,ContextTest broken due to missing ActionRequestHandler,Jacob Floyd,Karsten Dambekalns,2012-06-28 04:30,MVC,"",2012-04-19,"","",100,2012-04-18 20:06,"","",579200,"",Git 1.1,"So, I'm running the test suite on a fresh checkout of git master @git clone --recursive git://git.typo3.org/FLOW3/Distributions/Base.git -o typo3@.

To run the tests, I'm doing @phpunit -c Build/Common/PhpUnit/UnitTests.xml@

Part way through, I'm getting:

<pre>
PHP Fatal error:  Class 'TYPO3\FLOW3\Mvc\TYPO3\FLOW3\Mvc\ActionRequestHandler' not found in /usr/share/php/PHPUnit/Framework/MockObject/Generator.php(170) : eval()'d code on line 7

Fatal error: Class 'TYPO3\FLOW3\Mvc\TYPO3\FLOW3\Mvc\ActionRequestHandler' not found in /usr/share/php/PHPUnit/Framework/MockObject/Generator.php(170) : eval()'d code on line 7
</pre>

Thanks to grep, it seems that the only tests that uses an ActionRequestHandler are in Tests/Unit/Security/ContextTest.php:
* securityContextIsSetToInitialized()
* initializeSeparatesActiveAdnInactiveTokens()

In both cases, @getMock('TYPO3\FLOW3\Mvc\ActionRequestHandler'@ is used. However, I don't see an ActionRequestHandler. There's an ActionRequest, but not a Handler. Does this need to change according to recent Http changes? should it be using Http\Request or Mvc\ActionRequest or something else entirely?

I'm using phpunit 3.5.13 and php 5.3.10-pl0-gentoo"
36333,TYPO3.Flow,Feature,"",Resolved,Should have,Using Locale parser in Float TypeConverter,Adrian Föder,Adrian Föder,2012-07-18 09:35,Property,2.0 beta 1,2012-04-19,"","",100,2012-04-19 09:52,"","",580300,"","","since the Validator has it, it would be nice and useful to let the Property Mapper use the Locale parser to differentiate between various given decimal and thousands separators"
36337,TYPO3.Flow,Feature,"",Resolved,Should have,"Allow ""configurable"" classes path in packages",Karsten Dambekalns,Karsten Dambekalns,2012-04-23 08:38,Core,1.1,2012-04-19,"","",100,2012-04-19 10:35,"","",580500,"","","Currently, the class loader expects to find classes inside ""Classes"" of each package. While this is fine for FLOW3 packages, it blocks (easy) use of other PSR-0 compatible packages - the code always has to be moved into ""Classes"". To make use of 3rd party code easier, e.g. by using Composer, we need to be able to specify a mapping of package keys to entry points for the class loader.

This change c/should remove the .Shortcuts folder again and could also make ""overlapping"" package keys possible (e.g. TYPO3.JobQueue and TYPO3.JobQueue.Beanstalk)."
36340,TYPO3.Flow,Task,"",Resolved,Should have,Environment class needs to be cleaned up,Karsten Dambekalns,Karsten Dambekalns,2012-04-25 20:38,Environment,1.1,2012-04-19,"","",100,2012-04-19 11:26,"","",580600,"","","With the HTTP foundation quite some things from @Environment@ have become obsolete. The class and it's ""users"" need to be adjusted."
36397,TYPO3.Flow,Bug,"",Resolved,Must have,baseUri setting no longer used since HTTP foundation changes,Karsten Dambekalns,Karsten Dambekalns,2012-04-25 20:38,Http,1.1,2012-04-20,"","",100,2012-04-20 15:42,"","",583300,"",Git master,The utility:environment:baseUri settings is no longer used (consistently) since the HTTP foundation changes have been introduced.
36410,TYPO3.Fluid,Feature,"",New,Should have,Allow templates to send arguments back to layout,Florian Carstens,"",2012-08-13 05:46,ViewHelpers,"",2012-04-21,"","",0,2012-04-21 10:30,"","",583950,"","","Layouts can differ a little on a website from page to page without affecting the whole layout. For example: Some pages contain a sidebar, others not. Or: Each page has it's own background which is set by a body or div container css class. I would like to set these kind of settings by sending arguments to the layout. That could e.g. be realised by extending the layout viewHelper:

<pre>
  <f:layout name=""Master"" arguments=""{cssClass: blueBackground}"" />
</pre>

Of course, I can do this in the controller. But I think this wouldn't be the right place according to the MVC design pattern."
36446,TYPO3.Flow,Bug,"",Resolved,Must have,"""classesPath"" is not added to PackageStates.php on creating a package",Robert Lemke,Karsten Dambekalns,2012-05-15 09:41,Package,1.1 beta 1,2012-04-23,"","",100,2012-04-23 04:25,"","",585700,"",Git master,"When doing a ./flow3 package:create, the PackageStates.php is updated by adding the new package, but the new entry lacks the ""classesPath"" field."
36495,TYPO3.Flow,Bug,"",New,Should have,HTTP Response is sent before persistence preventing Exceptions to be displayed on redirect,Alexander Berl,"",2012-04-23 18:28,Persistence,"",2012-04-24,"","",0,2012-04-23 18:28,"","",588050,"",Git master,"When a persistence Exception (e.g. _""Integrity constraint violation: 1048 Column '...' cannot be null""_ due to missing _@ORM\Column(nullable=true)_ annotation) is thrown after an action that does a redirect (e.g. a typical createObjectAction), the Exception isn't displayed (well it is but only for the matter of milliseconds the browser needs to do the redirect) because the redirect headers are sent before.

Therefore the Exception may go by unnoticed until the persistence is checked and Exception log inspected, which is undesired.
"
36500,TYPO3.Fluid,Bug,"",Resolved,Must have,Ajax widgets can't be executed,Nicole Cordes,"",2012-05-14 20:38,"","",2012-04-24,"","",100,2012-04-24 04:17,"","",588300,"",Git master,Any ajax widget can't be executed because of the missing function setRoutesConfiguration which is called by \TYPO3\FLOW3\Http\RequestHandler->handleRequest.
36502,TYPO3.Flow,Bug,"",Resolved,Must have,Precompiled reflection data is not removed on a cache:flush --force,Robert Lemke,Robert Lemke,2012-04-24 08:38,Cache,1.1 beta 1,2012-04-24,"","",100,2012-04-24 05:14,"","",588400,"",Git master,"Reflection data of frozen packages is not located in the context's temporary directory and thus not removed. This can, however, lead to weird behavior if old reflection data is still loaded despite a ./flow3 typo3.flow3:cache:flush --force"
36508,TYPO3.Flow,Bug,"",New,Should have,AuthenticationProvider Request Patterns,Carsten Bleicker,"",2012-04-24 06:39,Security,"",2012-04-24,"","",0,2012-04-24 06:39,"","",588700,"",Git master,"requestPatterns:
  ControllerObjectName: Does not match

Seems like only firewall settings matching requestPatterns."
36509,TYPO3.Flow,Feature,"",New,Should have,redirectToUri to an uri with acl forces a 403 because of missing csrf token.,Carsten Bleicker,"",2012-04-24 06:44,"","",2012-04-24,"","",0,2012-04-24 06:44,"","",588750,"","",maybe add to the documentation that uri redirects to stuff with acl throwing a 403 error.
36510,TYPO3.Flow,Feature,"",New,Should have,Firewall Redirect?,Carsten Bleicker,"",2012-04-24 06:57,"","",2012-04-24,"","",0,2012-04-24 06:57,"","",588800,"","","I want to implement somewhere some assumptions wich has to be valid to access some actions.
For Example: If primaryElectronicAddress::approved is false init a redirect to somewhere else.
I tried to to this by firewall but the firewall doesnt catch something to redirect.

Maybe the firewall is the wrong place here.
Maybe there shoud be something wich acts nearly like a firewall but call it
TYPO3\FLOW3\Assumption\ wich holds some pattern stuff f.e. to redirect?"
36516,TYPO3.Flow,Bug,"",Resolved,Should have,PackageStates.php are written on every request,Robert Lemke,Robert Lemke,2012-04-24 20:38,Package,1.1 beta 1,2012-04-24,"","",100,2012-04-24 09:49,"","",589100,"",Git master,"As it seems, the PackageStates.php file is re-written on every request (in development context), even if no related data has changed."
36517,TYPO3.Flow,Bug,"",Resolved,Should have,Functional tests with security do not work,Christopher Hlubek,Christopher Hlubek,2012-07-18 07:12,Security,1.1,2012-04-24,"","",100,2012-04-24 10:05,"","",589150,"",(any),After the HTTP refactoring there are some problems with the functional tests and security.
36518,TYPO3.Flow,Bug,"",Resolved,Should have,Http\Request::createFromEnvironment does not work on CLI,Christopher Hlubek,Christopher Hlubek,2012-04-26 04:22,Http,1.1,2012-04-24,"","",100,2012-04-24 10:08,"","",589200,"",Git master,Calling Http\Request::createFromEnvironment gives a notice about an undefined array index for @HTTP_HOST@ and @REMOTE_URI@. This should be guarded in the Request implementation.
36519,TYPO3.Flow,Bug,"",Resolved,Should have,flow3:package:import doesn't update PackageStates.php,Robert Lemke,Robert Lemke,2012-04-24 20:38,Package,1.1 beta 1,2012-04-24,"","",100,2012-04-24 10:31,"","",589250,"",Git master,.
36559,TYPO3.Fluid,Feature,"",New,Could have,New widget progress bar,Nicole Cordes,"",2012-04-25 09:11,"","",2012-04-25,"","",0,2012-04-25 09:11,"","",591250,"","","I developed a new widget which might be interesting to move it to the core. It's an universal progress bar calling a controller action by ajax to load progress.

You can easily use it in your own fluid templates by just adding 

<pre>
<f:widget.progressbar id=""progressbar"" action=""ajax"" message=""1"" messageText=""This text is shown below the progress bar"" arguments=""{itemsToLoad: 10}"" controller=""yourController"" package=""yourPackage"" subpackage=""yourSubpackage"" />
</pre>

For explanation:
* id means the id of the div container the progress bar is insert into
* action is the action to be called from the ajax request
* message indicates if a message under the progress bar should be displayed
* messageText is the default text to show (under the progress bar)
* arguments is an array of arguments passed to the action request
* controller defines the controller the action belongs to, if not set the current one is used
* package and subpackage define the package the controller belongs to, if not set the current ones are used

The actions has to return an json string having to keys:
* value has to be an integer representing the status in percent (with the percent sign)
* messageText is the string added to the message container below the progress bar (if enabled)

If you have any questions just ask me :-)
"
36562,TYPO3.Flow,Task,"",Resolved,Should have,"""Compile run failed"" output is confusing",Karsten Dambekalns,Robert Lemke,2013-03-24 05:28,Core,1.1,2012-04-25,"","",100,2012-04-25 09:31,"","",591400,"","","The exception thrown on a failed compile run produces quite confusing, verbose output without any benefit."
36563,TYPO3.Flow,Feature,"",Resolved,Should have,Add a simple file backend for caching that favors speed over flexibility,Karsten Dambekalns,Robert Lemke,2012-04-26 08:38,Cache,1.1,2012-04-25,"","",100,2012-04-25 09:37,"","",591450,"","","The tagging features of the file backend are powerful but come at a cost. Flushing caches by tag can be extremely costly when a lot of entries and tags are used.

It would be useful to have a simpler file backend that doesn't support tagging but is faster instead."
36565,TYPO3.Flow,Feature,"",Resolved,Should have,Provide method for retrieving current HTTP request,Robert Lemke,Robert Lemke,2012-04-25 20:38,Http,1.1 beta 1,2012-04-25,"","",100,2012-04-25 10:03,"","",591550,"","","Various application parts need a prominent place to get hold of the current HTTP request because it contains important environment information which was previously provided by Utility\Environment.

The RequestHandler should do that."
36568,TYPO3.Flow,Feature,"",Resolved,Should have,Make use of multiple file monitor instances easier/possible,Karsten Dambekalns,Robert Lemke,2012-04-26 08:38,Monitor,1.1,2012-04-25,"","",100,2012-04-25 10:28,"","",591700,"","",The fact that the FileMonitor doesn't use it's identifier internally (for caching) and the fact that the ModificationTimeStrategy is singleton do not really make the use of multiple file monitor instances easier?
36569,TYPO3.Flow,Bug,"",Resolved,Must have,Precompiled reflection data is not stored context-aware,Karsten Dambekalns,Robert Lemke,2012-04-25 20:38,Reflection,1.1,2012-04-25,"","",100,2012-04-25 10:32,"","",591750,"",Git master,The precompiled reflection data is not stored in a context-specific place. This can lead to very weird situations?
36572,TYPO3.Flow,Bug,"",Resolved,Should have,Force flushing caches fails if temporary directory does not exist,Karsten Dambekalns,Karsten Dambekalns,2012-04-25 20:38,Core,1.1,2012-04-25,"","",100,2012-04-25 10:53,"","",591900,"",Git master,"When force flushing caches the precompiled reflection data is removed using @removeDirectoryRecursively()@. But if that folder does not exist, the operation dies with an exception:

> ""/?/Data/Temporary/Production/PrecompiledReflectionData/"" is no directory."
36577,TYPO3.Flow,Bug,"",Resolved,Should have,Do not fallback to system temporary directory,Christian Müller,Christian Müller,2012-04-25 20:38,Environment,1.1 beta 1,2012-04-25,"","",100,2012-04-25 13:30,"","",592150,"",Git 1.0,As this could lead to problems with multiple FLOW3 instances on the same system we should throw an exception if the configured temporary path is not usable.
36578,TYPO3.Flow,Task,"",Resolved,Should have,precompiledReflectionStoragePath should no longer be used but instead derived from temporary path,Christian Müller,Christian Müller,2012-04-25 20:38,Reflection,1.1 beta 1,2012-04-25,"","",100,2012-04-25 13:33,"","",592200,"","",The setting for precompiledReflectionStoragePath should be removed to avoid unnecessary complexity and replaced by a defined path inside the configured temporary ptah.
36580,TYPO3.Welcome,Bug,"",Resolved,Should have,Broken links and outdated text on Welcome screen,Karsten Dambekalns,Karsten Dambekalns,2012-04-26 20:38,"",1.0.5,2012-04-25,"","",100,2012-04-25 16:22,"","",592300,"",Git master,"The links shown in the ""warning box"" when using production contect are broken. The ""About"" text mentions the number that shall not be named and could use a brush up on the list of contributors."
36617,TYPO3.Flow,Bug,"",Resolved,Must have,FunctionalTestRequestHandler does not implement HttpRequestHandlerInterface,Karsten Dambekalns,Karsten Dambekalns,2012-04-28 08:37,- Testing -,1.1 beta 1,2012-04-26,"","",100,2012-04-26 10:15,"","",594100,"",Git master,In some cases functional tests need to access @getHttpRequest()@ on the active RequestHandler. In functional tests this doesn't work.
36624,TYPO3.Flow,Bug,"",Resolved,Should have,"In CLI context no (HTTP) request is present, thus token separation fails",Karsten Dambekalns,Karsten Dambekalns,2012-04-26 20:38,Security,1.1,2012-04-26,"","",100,2012-04-26 11:37,"","",594450,"",Git master,"@separateActiveAndInactiveTokens()@ in @Security\Context@ fails if @$this->request@ is @NULL@. In that case, token separation should probably be skipped completely."
36625,TYPO3.Flow,Bug,"",Resolved,Must have,PersistenceQueryRewritingAspect does not support count() correctly,Karsten Dambekalns,Robert Lemke,2012-04-28 08:37,Security,1.1,2012-04-26,"","",100,2012-04-26 11:52,"","",594500,"",Git master,"If the aspect intercepts a count() method and the result (because of lacking access rights) would be ""none"", the aspect returns an EmptyQueryResult object which in turn can not be cast into an integer by the client code."
36626,TYPO3.Flow,Bug,"",Resolved,Must have,Content security does not work correctly,Karsten Dambekalns,Andreas Förthner,2012-06-20 14:53,Security,1.1 beta 3,2012-04-26,"","",100,2012-04-26 12:21,"","",594550,"",FLOW3 1.1.0 beta 1,"With the introduction of Doctrine and other changes, content security ceased to work as as expected."
36627,TYPO3.Flow,Feature,"",Closed,Won't have this time,Global Fallback Route,Bastian Waidelich,Bastian Waidelich,2012-07-26 08:02,MVC - Routing,"",2012-04-26,"","",0,2012-04-26 12:31,"","",594600,"","","Currently, if you try to link to an action and there is no matching route, one gets an exception.
I suggest to add a new setting, that adds a ""global fallback route"" to the *end* of all configured routes if enabled. That route has no defaults and accepts all arguments via query parameters.

So if no matching route was found before, this route will match and might create an ugly URI (@domain.tld?@package=Some.Package&@controller=SomeController&argument=someArgument@) but no exception.

There are a few open questions though:

* Whats a good name for that setting? ""TYPO3.FLOW3.mvc.enableGlobalFallbackRoute"" ?

* Should this be enabled by default? I think, yes. We need it for the Setup for example and it will probably ease the life of FLOW3 rookies. But it would be a breaking change (because you would be able to call actions you weren't before)"
36632,TYPO3.Flow,Bug,"",Closed,Should have,The requestPatterns in AbstractToken has value NULL,Rens Admiraal,Rens Admiraal,2012-06-28 04:32,Security,"",2012-04-26,"","",0,2012-04-26 15:09,"","",594850,"",Git 1.1,"I just installed a clean distribution of the blog package and for some reason this install throws an error because of the return value in hasRequestPatterns() which returns TRUE when the requestPatterns value is NULL.

For this I'll upload a related patch on gerrit. Problem is how the value can be NULL. setRequestPatterns has typehinting for $requestPatterns being array, and isn't even called somewhere in the code. The property is protected, and has a default value of array(). Besides that: the setRequestPatterns() method is never called.

"
36633,TYPO3.Flow,Bug,"",New,Should have,Reconstituted entities should not have the FLOW3_Persistence_clone property set,Christian Müller,"",2012-04-26 15:24,"","",2012-04-26,"","",0,2012-04-26 15:24,"","",594900,"",Git master,""
36634,TYPO3.Flow,Bug,"",New,Should have,Reconstituted entities do not have their properties set when initializeObject() is called,Christian Müller,"",2012-04-26 15:28,"","",2012-04-26,"","",0,2012-04-26 15:28,"","",594950,"",Git master,"The doctrine proxy __load method seems to be never called, instead UnitOfWork::createEntity() uses UnitOfWork::newInstance() which basically clones our proxy class (which also means we generate an UUID and set the clone property) and after that just inserts the properties..."
36637,TYPO3.Flow,Bug,"",Resolved,Should have,AdviceChain works with the wrong proxy instance in some cases,Andreas Förthner,Andreas Förthner,2012-04-27 08:38,AOP,1.1 beta 1,2012-04-26,"","",100,2012-04-26 17:50,"","",595100,"",Git master,"As the AdviceChain gets its proxy by a constructor argument, it might work on the wrong instance if the advice is used in different instances of the same object type. To solve this, the advice chain should always fetch the proxy instance from the current joinpoint."
36644,TYPO3.Eel,Bug,"",Resolved,Must have,Invalid variable type during PHP-peg parsing,Adrian Föder,Sebastian Kurfuerst,2012-06-21 10:37,"","",2012-04-27,"","",100,2012-04-27 02:46,"","",595450,"","","during processing, in php-peg\Parser.php there' the following lines of code:
<pre><code class=""php"">
	function store(&$result, $subres, $storetag = NULL) {
		$result['text'] .= $subres['text'];
</code></pre>

a var_dump of the $subres variable has the following ouput ending:
<pre>
(...many similar arrays)

array(4) {
  [""_matchrule""]=>
  string(11) ""Disjunction""
  [""name""]=>
  string(11) ""Disjunction""
  [""text""]=>
  string(47) ""context.children(this.getNodePath()).children()""
  [""code""]=>
  string(164) ""$context->getAndWrap('context')->callAndWrap('children', array($context->getAndWrap('this')->callAndWrap('getNodePath', array())))->callAndWrap('children', array())""
}
array(3) {
  [""_matchrule""]=>
  string(10) ""Identifier""
  [""name""]=>
  string(10) ""Identifier""
  [""text""]=>
  string(6) ""teaser""
}
string(6) ""teaser""

(end of processing)
</pre>

you see, the last occurence is a string; maybe due to a recursive call to the preceding Identifier/teaser thing.

Due to the fact $subres is in the very last case a string, $subres['text'] finally results in 
<pre><code class=""html"">
<!-- Exception while rendering page&lt;TYPO3.TYPO3:Page&gt;/body&lt;TYPO3.TypoScript:FluidRenderer&gt;/sections/teaser : Warning: Illegal string offset 'text' in C:\Users\afoeder\FLOW3\Flow3Org\Packages\Application\TYPO3.Eel\Resources\Private\PHP\php-peg\Parser.php line 171 -->
</code></pre>

This kind of warning seems to be a PHP 5.4 issue only, but it's logically incorrect however."
36651,TYPO3.Flow,Task,"",Resolved,Should have,"Update ""CGL on one page"" PDF and link it",Bastian Waidelich,Karsten Dambekalns,2012-06-25 11:35,- Documentation -,1.1 RC1,2012-04-27,"","",100,2012-04-27 05:31,"","",595800,"","","We once had a nice PDF containing the most important CGL on one page (see attachment). This has been removed with the relaunch of flow3.typo3.org apparently.
We should update the PDF and link it in the CGL section of the documentation on flow3.typo3.org

Some of the required changes:

* remove encoding declaration
* adjust license header
* remove obsolete class annotations (@pacakge, @version, @license)
* Replace \F3 with \TYPO3\FLOW3
* Add trailing backslash to ""ArrayObject"" in var annotation
* Add empty space between description and var annotations
* Remove @author annotations"
36655,TYPO3.Fluid,Bug,"",New,Should have,Pagination Links,Carsten Bleicker,"",2012-06-23 16:18,Widgets,"",2012-04-27,"","",0,2012-04-27 06:51,"","",596000,"",Git master,"TYPO3\Fluid\ViewHelpers\Link\WidgetViewHelper

CSRF Tokens arent generated if ACL matches."
36657,TYPO3.Flow,Bug,"",Resolved,Must have,Typo3OrgSsoToken uses removed method from Environment,Karsten Dambekalns,Karsten Dambekalns,2012-04-27 08:38,Security,1.1,2012-04-27,"","",100,2012-04-27 07:46,"","",596100,"",Git master,Environment does no longer have @getRawGetArguments()@
36659,TYPO3.Flow,Bug,"",Resolved,Must have,Functional test sees account roles from previous test,Robert Lemke,Robert Lemke,2012-04-28 08:37,Security,1.1 beta 1,2012-04-27,"","",100,2012-04-27 08:39,"","",596200,"",Git master,"If testable security is used in a functional test case, a user is still authenticated with the roles of a previous test if the current test doesn't do any new authentication. This is due to a session being kept across test boundaries.

<pre>
	/**
	 * @test
	 */
	public function publicActionIsGrantedForAdministrator() {
		$this->authenticateRoles(array('Administrator'));
		$this->restrictedController->publicAction();
	}

	/**
	 * @test
	 * @expectedException \TYPO3\FLOW3\Security\Exception\AuthenticationRequiredException
	 */
	public function customerActionIsDeniedForEverybody() {
		$this->restrictedController->customerAction();
	}
</pre>

The second test will fail because the role ""Administrator"" is still active. If the second test called $this->autenticateRoles(array()); it would actually work."
36662,TYPO3.Fluid,Bug,"",Needs Feedback,Should have,Checked state isn't always correct when property is collection,Kevin Ulrich Moschallski,Kevin Ulrich Moschallski,2013-08-14 09:39,ViewHelpers,1.1.1,2012-04-27,"","",0,2012-04-27 09:16,"","",596350,"",Git 1.1,The checkboxViewHelper doesn't always set the correct checked state when the property is an collection. I took the mechanism of the selectViewHelper and put it in the checkboxViewHelper.
36671,TYPO3.Flow,Bug,"",Resolved,Should have,When an exception occurs during Doctrine\Query->getResult() it is silently ignored,Karsten Dambekalns,Karsten Dambekalns,2012-05-15 09:26,Persistence,1.1,2012-04-27,"","",100,2012-04-27 10:47,"","",596800,"",Git 1.0,.
36679,TYPO3.Flow,Bug,"",Resolved,Must have,PersistenceQueryRewritingAspect broken if only one additional constraint is added,Karsten Dambekalns,Karsten Dambekalns,2012-04-28 08:37,Security,1.1,2012-04-27,"","",100,2012-04-27 13:14,"","",597200,"",Git master,.
36684,TYPO3.Flow,Bug,"",Closed,Should have,Fixes for functional security tests break custom tests,Karsten Dambekalns,Karsten Dambekalns,2012-06-25 10:54,- Testing -,1.1,2012-04-28,"","",0,2012-04-28 05:56,"","",597450,"",Git 1.1,"In @FunctionalTestCase.php@ the line @$this->securityContext->refreshTokens();@ causes severe problems for Christopher Hlubek's tests that deal with security. That line was added in https://review.typo3.org/9676 to fix #34466.

I tested without that line and indeed all functional security tests in FLOW3 still pass, if the exception expectation in @MethodSecurityTest@ is again changed from @AuthenticationRequiredException@ to @AuthenticationRequiredException@.

Christopher: how do your tests fail? Maybe you also have the same wrong expectation?"
36695,TYPO3.Flow,Feature,"",Resolved,Should have,Control Validation Groups and add Groups for Create and Update,Alexander Berl,"",2012-08-20 04:35,Validation,"",2012-04-28,"","",100,2012-04-28 18:26,"","",598000,"","","As a developer I want to be able to validate objects differently on creation and update, for example a user registration needs to validate for non-existance of properties username/email, however when updating the user object those validations may not be evaluated, but all others.

I suggest extending the Validation Group Changeset with a new Annotation ValidationGroups for action methods to override the default groups _(""Default"", ""Controller"")_ and adding validation groups _""Create""_ and _""Update""_ for the MVC actions *create* and *update*.
"
36696,TYPO3.Flow,Feature,"",Resolved,Should have,Allow setting response headers from different locations,Alexander Berl,Robert Lemke,2012-05-30 02:41,Http,1.1 beta 2,2012-04-29,"","",100,2012-04-28 20:26,"","",598050,"","","As a developer, I want to set response headers from locations different from the current controller invocation for various needs.
For example, I want to set the _""Vary: Accept-Language""_ header from a locale detection service, or the _""Cache-Control""_ headers from a caching service.

I suggest the RequestHandler should also provide access to the current response object, as it currently does to the HttpRequest object."
36714,TYPO3.Flow,Feature,"",Resolved,Should have,Use lifecycle annotations without HasLifecycleCallbacks,Karsten Dambekalns,Karsten Dambekalns,2012-05-03 08:40,Persistence,1.1,2012-04-30,"","",100,2012-04-30 04:48,"","",598950,"","","When using lifecycle annotations on methods, there should be no need to annotate the class itself with @HasLifecycleCallbacks@. It is probably intended to avoid parsing docblocks of all methods, but we do this anyway (and it's cached afterwards), so having to annotate the class *and* the method is just overhead."
36715,TYPO3.Flow,Feature,"",Accepted,Should have,Make simultaneous use of multiple persistence backends possible,Karsten Dambekalns,Karsten Dambekalns,2013-11-20 15:17,Persistence,"",2013-01-08,"","",0,2012-04-30 05:09,"","",599000,0.00,"",First step: collect ideas on how to do that at http://wiki.typo3.org/Multiple_persistence_backends
36717,TYPO3.Flow,Bug,Feature #29547: @identity should make property unique in Database,Resolved,Should have,Remove Identity from Resource,Christian Müller,Christian Müller,2012-05-03 08:40,"","",2012-04-30,"","",100,2012-04-30 06:45,"","",599100,"",Git master,"See discussion about Resource in parent task, we should remove the annotation in Resource to not change behaviour before we add the functionality for Identity annotations."
36720,TYPO3.Flow,Bug,"",Resolved,Must have,Settings from package cannot override default value with empty array,Christopher Hlubek,Christopher Hlubek,2013-04-05 09:37,"","",2012-04-30,"","",100,2012-04-30 09:04,"","",599250,"",Git master,"A more specific setting file cannot override a list of values (array) with an empty array. The method arrayMergeRecursiveOverrule is not consistent in its logic, since setting NULL will also override the default, so this should also work with an empty array if emptyValuesOverride is TRUE.

We need that fix to override security firewall filters in functional tests. Besides that the current behaviour is not intuitive when treating NULL and empty arrays differently and limits extensibility.

A fix for this - while logically correct - causes problems when loading policies, such that roles from different packages or contexts override each other where they should be additive in behaviour."
36734,TYPO3.Flow,Bug,"",Resolved,Should have,Transient properties cannot be property mapped,Alexander Berl,Karsten Dambekalns,2014-08-27 12:00,Property,"",2012-04-30,"","",100,2012-04-30 16:07,"","",599950,"",FLOW3 1.0.0,"When creating an object containing transient properties through a webform an exception is thrown that the property is not found within the object.

h2. Example

*Model*
<pre>
/**
 * A Baz
 *
 * @FLOW3\Entity
 */
class Baz {

	/**
	 * The password
	 * @var string
	 * @FLOW3\Transient
	 */
	protected $password;
...
}
</pre>

*Form*
<pre>
    <f:form action=""create"" name=""baz"" object=""{baz}"">
        Password: <f:form.textfield property=""password"" /><br />
        <f:form.submit value=""submit"" />
    </f:form>
</pre>

After submitting the form the following exception is thrown:

TYPO3\FLOW3\Property\Exception\InvalidTargetException thrown in file TYPO3_FLOW3_Property_TypeConverter_PersistentObjectConverter_Original.php
<pre>
Property ""password"" was not found in target object of type ""Foo\Bar\Domain\Model\Baz"".
20 TYPO3\FLOW3\Property\TypeConverter\PersistentObjectConverter_Original::getTypeOfChildProperty(""Foo\Bar\Domain\Model\Baz"", ""password"", TYPO3\FLOW3\Mvc\Controller\MvcPropertyMappingConfiguration)

19 TYPO3\FLOW3\Property\PropertyMapper_Original::doMapping(array, ""Foo\Bar\Domain\Model\Baz"", TYPO3\FLOW3\Mvc\Controller\MvcPropertyMappingConfiguration, array)

18 TYPO3\FLOW3\Property\PropertyMapper_Original::convert(array, ""Foo\Bar\Domain\Model\Baz"", TYPO3\FLOW3\Mvc\Controller\MvcPropertyMappingConfiguration)

17 TYPO3\FLOW3\Mvc\Controller\Argument_Original::setValue(array)

16 TYPO3\FLOW3\Mvc\Controller\AbstractController::mapRequestArgumentsToControllerArguments()

15 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

14 TYPO3\FLOW3\Mvc\Dispatcher_Original::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

13 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

12 call_user_func_array(array, array)

11 TYPO3\FLOW3\Mvc\Dispatcher::FLOW3_Aop_Proxy_invokeJoinPoint(TYPO3\FLOW3\Aop\JoinPoint)

10 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

9 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\Aop\JoinPoint)

8 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)

7 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

6 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\Aop\JoinPoint)

5 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)

4 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

3 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()
</pre>


The problem here is, that the property is skipped in reflection due to the Transient annotation (see ReflectionService->addPropertiesToClassSchema) and therefore also cannot be property mapped.

see http://lists.typo3.org/pipermail/flow3-general/2012-April/002285.html"
36750,TYPO3.Flow,Bug,"",Closed,Must have,Last parameter of CLI command never gets parsed,Nicole Cordes,"",2012-05-25 06:46,Command,"",2012-05-01,"","",100,2012-05-01 09:38,"","",600750,"",Git master,In TYPO3\FLOW3\Cli\RequestBuilder::parseRawCommandLineArguments the last argument never gets parsed. This is because of an empty array after resolving the last parameter.
36767,TYPO3.Flow,Bug,"",Resolved,Must have,generateHmac does not use safe getEncryptionKey leading to possibly invalid hmacs,Alexander Berl,"",2012-05-21 20:41,Security,1.1,2012-05-02,"","",100,2012-05-01 21:28,"","",601600,"",Git master,"Currently the generateHmac function of the *Security\Cryptography\HashService* directly accesses _$this->encryptionKey_ instead of using the (lazy loading) getter.
Hence under certain circumstances the encryptionKey may still be unloaded leading to wrong hmacs being generated, only being noticed when the hmac validation fails later on.
"
36776,TYPO3.Flow,Bug,"",Resolved,Should have,Property Mapping should be based on whitelist; configuration should be generated by form,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-05-15 08:38,MVC,1.1 beta 1,2012-05-02,"","",100,2012-05-02 08:43,"","",602050,"",Git master,"In order to make the property mapper more predictible and secure by default, we propose the following changes:

* We should be able to *explicitely* map allowed fields, and ignore all non-specified fields.
* If passing an object inside a link f.e., no modification of this object should be allowed at all
* if using Fluid, it should be safe by default but not required to specify any property mapping configuration

Following are the changes needed:

h2. Change PropertyMappingConfiguration 
!!! BREAKING PropertyMappingConfiguration::shouldMap() should use WHITELIST instead of BLACKLIST

* if a property is on blacklist, return FALSE directly
* if a property is on whitelist, return TRUE
* if all property are on whitelist, return TRUE
* by default, return FALSE

* $cfg->forProperty('image.author')->allowProperties('foo', 'bar')
* $cfg->forProperty('image.author')->allowAllProperties()
* $cfg->forProperty('image.author')->allowAllPropertiesExcept('foo')

* Usually, you only use one of the following, not all of them!

h2. PropertyMappingConfigurationBuilder should not set any type converter options by default

* !!! BREAKING PropertyMappingConfigurationBuilder should NOT set any type converter options by default, especially not CONFIGURATION_CREATION_ALLOWED or CONFIGURATION_MODIFICATION_ALLOWED

h2. generation of HMAC in Fluid Form Fields

 !!! Fluid Form Fields should generate Property Mapping configuration of allowed fields appropriately
-> similar to v4 processRequest

h2. Adjust ActionController

Action Controller: PropertyMapping config should be set from HMAC.


5) DOCUMENTATION:
wenn man nur bestimmte Objekte editieren soll (bspw. alle Blogs mit geradem erstellungsdatum) --> POLICY!!
--> values protected? (e.g. hidden fields / identity values that can't be changed)

"
36800,TYPO3.Flow,Task,"",Accepted,Should have,Streamline Resource object API,Robert Lemke,Robert Lemke,2013-08-02 11:03,Resource,"",2012-01-26,"","",50,2012-05-03 04:49,"","",603200,0.00,"","The API and mechanism for resources is, for some time now, not as intended. What we basically need to achieve is:

* make sure that identical resources (same sha1) share the same file
* allow to create multiple combinations of sha1 / file name so that the original file name is preserved even if identical resources are uploaded
* still make sure that Resource objects with the same combination of sha1 / file name are unique (@identity for $hash and $filename)
* make sure that if a Resource object is deleted, the related file is deleted as well
* make sure that a Resource object is removed if it is not used anymore (no relation from another entity exists anymore)

For this to achieve we need to do (among other things) the following:

* remove the ResourcePointer class and move the getHash() and __toString() method to Resource
* implement some onDelete event handler for Resource objects which cleans up non-used files
* fix orphaned entity handling for aggregate members

The last point is especially important as it is an important feature for the overall persistence."
36804,TYPO3.Flow,Bug,"",New,Should have,Orphaned entities within aggregates are not removed,Robert Lemke,"",2012-05-03 05:54,Persistence,"",2012-05-03,"","",0,2012-05-03 05:04,"","",603400,"",Git master,"Consider this example:

An entity Image has a many-to-one or one-to-one relation to an entity Resource.
Image is an aggregate root and is stored in an ImageRepository.
Resource does not have its own repository and thus is a practically member of the Image aggregate.

Now, if an Image object is removed, its Resource object remains in the database and can't accessed through any object or repository anymore."
36807,TYPO3.Flow,Task,"",Resolved,Should have,Add hints about frozen packages to cache:flush command,Bastian Waidelich,Bastian Waidelich,2012-05-03 08:40,Command,1.1 beta 1,2012-05-03,"","",100,2012-05-03 06:13,"","",603550,"","","Precompiled Reflection data is not recreated on flushing the cache (without --force flag). This can be confusing to people updating frozen packages.
The regular flush command should output a list of frozen packages like:
<pre>
Note:
Precompiled reflection data of frozen packages has not been removed.
Use typo3.flow3:package:refreeze or specify the --force option of
the cache:flush command in order to recreate it.
Following packages are frozen:
* TYPO3.FLOW3
* TYPO3.Fluid
</pre>"
36813,TYPO3.Flow,Feature,"",Resolved,Should have,Provide function for outputting word wrapped text to the command line,Robert Lemke,Robert Lemke,2012-05-03 20:38,Cli,1.1 beta 1,2012-05-03,"","",100,2012-05-03 08:55,"","",603850,"","",Similar to $this->output() and $this->outputLine() the CommandController could provide a method $this->outputFormatted() which allows for formatted output of the given text.
36830,TYPO3.Flow,Feature,"",Resolved,Should have,Implement Browser API in Functional Tests,Sebastian Kurfuerst,"",2012-05-15 08:38,"","",2012-05-04,"","",100,2012-05-04 01:29,"","",604700,"","",... based on DomCrawler
36840,TYPO3.Flow,Task,"",Accepted,Should have,Improve exception for wrong locales,Robert Lemke,Karsten Dambekalns,2012-06-25 12:47,I18n,"",2012-05-04,"","",0,2012-05-04 06:47,"","",605200,"","","I created a locale with the identifier ""en_EN"". I took me a while to realize that this is an invalid locale of course, as there is no country identified by ""EN"". The error message you'd currently see on trying this is the following:

#1328879703: The path ""resource://TYPO3.FLOW3/Private/I18n/CLDR/Sources/main/en_EN.xml"" does not point to an existing and accessible XML file.

We could improve this by throwing a more specific exception telling what is actually wrong - ""EN is not a valid region code according to ISO xyz / the CLDR""."
36859,TYPO3.Flow,Bug,"",Closed,Should have,URLs Break if the Route return a URI with Query string,Marc Neuhaus,Bastian Waidelich,2012-05-21 06:36,MVC - Routing,"",2012-05-05,"","",0,2012-05-05 05:48,"","",606150,"",Git master,"In cases where the Route returns an URI with a Query String attached the URI Builder adds a second ? to append the query string. In my case this happens through the BackendModuleArgumentsRoutePartHandler which already adds a query string.

I've attached a patch to check the matchingUri for a ? to append the query with a ? or & depending on that check."
36913,TYPO3.Flow,Bug,"",Resolved,Must have,HTTP PUT data not regonized as arguments ,Pankaj Lele,Robert Lemke,2012-05-26 09:35,Http,1.1 beta 2,2012-05-07,"","",100,2012-05-07 08:08,"","",608800,"",FLOW3 1.1.0 beta 1,"Data submitted with HTTP PUT method is not recognized in the TYPO3\FLOW3\Http\Request

This is required while developing a REST service with FLOW3. So e.g. with curl call like: 

curl -X PUT -d ""name=New name"" http://myservice.com/users/12345

the MyController->updateAction($user, $name) would receive $name as an argument."
36943,TYPO3.Flow,Task,"",Resolved,Should have,Catch exceptions in HTTP Browser,Robert Lemke,Robert Lemke,2012-05-08 08:38,Http,1.1 beta 1,2012-05-08,"","",100,2012-05-08 04:39,"","",610300,"","","Currently any exceptions caused by controllers etc. are not caught by the virtual browser. In order to make the behavior of the Browser class more realistic, these should be converted into a string and a 500 status should be set for the response.

This affects the InternalRequestEngine only."
36949,TYPO3.Flow,Feature,"",Resolved,Should have,Improve Property Mapper Exception message,Adrian Föder,Adrian Föder,2012-05-08 20:39,Property,1.1,2012-05-08,"","",100,2012-05-08 07:51,"","",610600,"","","The current exception message could be improved in order to make bug tracking more simple. The message *should* read
<pre>
Exception while property mapping for target type ""TYPO3\Media\Domain\Model\Image"", at property path ""submittedFile"": The target type was no string, but of type ""NULL""
</pre>

while it now reads only 
<pre>
Exception while property mapping at property path ""submittedFile"": The target type was no string, but of type ""NULL""
</pre>

The hint about the target type will make it simpler to know where to search."
36954,TYPO3.Flow,Bug,"",Resolved,Should have,Only use ansi colors for var_dump() if supported,Bastian Waidelich,Bastian Waidelich,2012-05-08 20:39,Cli,1.1,2012-05-08,"","",100,2012-05-08 10:34,"","",610850,"",Git master,"@\TYPO3\FLOW3\var_dump()@ currently uses ANSI codes to colorize variables on the CLI.
On Windows that's not supported by default and instead all special characters are outputted.
I don't know how to detect ansi support from PHP, so I would suggest to disable this on Windows for now.
The change is trivial:
<pre>
<code class=""php"">
$ansiColors = $plaintext;
</code>
</pre>

<pre>
<code class=""php"">
$ansiColors = $plaintext && DIRECTORY_SEPARATOR === '/';
</code>
</pre>"
36955,TYPO3.Flow,Feature,"",New,Should have,Add type filter to var_dump(),Bastian Waidelich,"",2012-05-08 10:39,Error,"",2012-05-08,"","",0,2012-05-08 10:39,"","",610900,"","","Idea: add filter options to @\TYPO3\FLOW3\var_dump()@ so that the dump can be configured for certain types / properties.
This is especially useful in Fluid:

<pre>
<code class=""html"">
{user -> f:debug(excludeProperties: 'addresses')}
{someObject -> f:debug(excludeTypes: 'Some\ClassName')}
</code>
</pre>"
36965,TYPO3.Flow,Bug,"",Resolved,Must have,Packages are ordered reverse in configuration manager making overwriting settings inconsistant,Aske Ertmann,Aske Ertmann,2012-05-10 20:39,Configuration,1.1 beta 1,2012-05-08,"","",100,2012-05-08 17:32,"","",611400,"",Git master,"The package order is determined by PackageStates.php, but in the configuration manager this order is reverse in order to make TYPO3.FLOW3 the first package to have it's configuration loaded."
36973,TYPO3.Flow,Bug,"",Closed,Could have,TYPO3\FLOW3\Exception thrown in file Bootstrap.php,devin ,Karsten Dambekalns,2012-05-25 08:37,- Error Handler Report -,"",2012-05-09,"","",0,2012-05-09 03:18,"","",611800,"",FLOW3 1.0.4,"It seems like the PHP binary ""D:\wamp\bin\php\php5.3.8"" cannot be executed by FLOW3. Set the correct path to the PHP executable in Configuration/Settings.yaml, setting FLOW3.core.phpBinaryPathAndFilename.
3 TYPO3\FLOW3\Core\Bootstrap::initializeForRuntime()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()
"
36988,TYPO3.Flow,Bug,"",Resolved,Must have,PropertyMapper chokes on Objects that are already converted,Marc Neuhaus,Sebastian Kurfuerst,2013-04-02 16:30,Property,1.1 beta 3,2012-12-25,"","",100,2012-05-09 05:05,"","",612550,0.00,Git master,"I've noticed that the PropertyMapper chokes on Objects which are already in the Target form. 
This happened to me with the TYPO3.Form Project in case where the DatePickerViewHelper already transforms the Value to a DateTime and the FormHandler later tries to map it again which fails because he isn't supposed to handle objects.

In this case i would suggest, to check if the source property is of the target property and skip it in that case.

Here's the origination ticket:
http://forge.typo3.org/issues/36722#note-8"
36996,TYPO3.Flow,Bug,"",Closed,Must have,DateTimeConverter,Matthias Witte,"",2014-02-18 03:47,"","",2012-05-09,"","",0,2012-05-09 06:49,"","",612900,"",FLOW3 1.0.4,"TYPO3.FLOW3/Classes/Property/TypeConverter

@return new \TYPO3\FLOW3\Validation\Error('The date ""%s"" was not recognized (for format ""%s"").', 1307719788, array($dateAsString, $dateFormat));@

At this position there should be thrown an Exception and returned NULL instead.

Something like:

@throw new \TYPO3\FLOW3\Property\Exception\TypeConverterException(...
return NULL;
@"
36997,TYPO3.Flow,Bug,"",Resolved,Should have,Use ActionRequest to validate authentication tokens,Bastian Waidelich,Bastian Waidelich,2012-05-14 08:40,Security,1.1 beta 1,2012-05-09,"","",100,2012-05-09 07:55,"","",612950,"",Git master,"Currently the security context passes the *HTTP Request*  to @TokenInterface::updateCredentials()@ in @updateTokens()@.

This has the disadvantage that authentication tokens can only access raw GET / POST parameters from the HTTP request. Arguments that are only available through routing are not accessible.

Take for example a token based authentication mechanism:

Routes.yaml:
<pre>
<code class=""yaml"">
-
  uriPattern: 'aproveToken/{__authentication.Some.Package.Authentication.AuthenticationKey.code}'
  defaults:
    '@package':    'Some.Package'
    '@controller': 'Some'
    '@action':     'aproveToken'
</code>
</pre>

in the authentication token there is no way to access the ""__authentication.Some.Package.Authentication.AuthenticationKey.code"" argument."
37001,TYPO3.Flow,Bug,"",Resolved,Must have,Catch Exception from inactivityTimeout,Carsten Bleicker,Karsten Dambekalns,2012-09-10 06:35,Security,"",2012-05-09,"","",100,2012-05-09 08:41,"","",613150,"",FLOW3 1.1.0 beta 2,"i played around a little bit with the session lifetime.
setting inactivityTimeout: 30
on inactivity for about 30 seconds flow3 throws the exception:
""#1258721059: The security context contained no tokens which could be authenticated""
Should this be catched and force a redirect to the default configured auth provider?"
37018,TYPO3.Flow,Bug,"",Resolved,Must have,CsrfProtectionAspect should not use removed environment methods.,Christian Müller,Christian Müller,2012-05-10 08:38,"","",2012-05-09,"","",100,2012-05-09 12:17,"","",614000,"",Git master,""
37053,TYPO3.Flow,Bug,"",Resolved,Must have,Code migration doesn't work on Windows,Bastian Waidelich,Karsten Dambekalns,2012-05-10 15:12,Cli,1.1 beta 1,2012-05-10,"","",100,2012-05-10 06:34,"","",615750,"",Git master,"I came accross following issues:
* in @Git::isGitAvailable()@ the system call pipes the output to */dev/null*. This is not supported on Windows
* in @Manager::registerMigrationFiles()@ the version number taken from the migration filename is casted to an integer which leads to duplicated versions"
37095,TYPO3.Fluid,Feature,"",New,Should have,It should be possible to set a different template on a Fluid TemplateView inside an action,Christopher Hlubek,Christopher Hlubek,2012-05-11 07:54,"","",2012-05-11,"","",0,2012-05-11 07:54,"","",617750,"","","Right now it's not possible to decide inside an action which view template should be rendered. Especially if the action itself doesn't have a template file the @canRender()@ method will always return @FALSE@. Inside the @initializeAction@ or @initializeView@ method it's too early / too late to set a different template file and path.

The idea is to always return @TRUE@ in the @canRender@ method and return the @NotFoundView@ in the call to @render@ when no template source could be found."
37105,TYPO3.Flow,Bug,"",Resolved,Must have,Using the Everybody Role in an ACL will result in dropped ACLs,Christian Müller,Christian Müller,2012-05-15 20:38,Security,"",2012-05-11,"","",100,2012-05-11 11:13,"","",618250,"",Git master,"PolicyService is reusing data for the same resource, unfortunately it can happen that this data is not the expected and so the resulting acls are not the ones configured."
37186,TYPO3.Flow,Bug,"",Resolved,Should have,flow3:package:refreeze displays verbose hints of cache:flush,Bastian Waidelich,"",2012-05-21 20:41,Cli,1.1,2012-05-15,"","",100,2012-05-15 09:24,"","",622100,"",Git master,With I4db274dcf0376ada53a3a46ed5c6b945543698d1 the @typo3.flow3:cache:flush@ command outputs all frozen packages. This message should be hidden when the cache:flush command is executed from another command (for example @flow3:package:refreeze@).
37188,TYPO3.Flow,Feature,"",Closed,Should have,Global verbosity flags for CLI Commands,Bastian Waidelich,Bastian Waidelich,2012-11-16 08:29,Cli,"",2012-05-15,"","",0,2012-05-15 09:28,"","",622200,"","",It should be possible to define the verbosity level of CLI Commands by specifying *globally supported* flags like @--quiet@ and @--verbose@.
37193,TYPO3.Flow,Bug,"",Resolved,Must have,Nested array annotation options are not rendered in proxy classes,Karsten Dambekalns,Karsten Dambekalns,2012-06-01 05:37,Object,1.0.5,2012-05-15,"","",100,2012-05-15 10:36,"","",622450,"",Git 1.0,"Instead of

@\TYPO3\FLOW3\Annotations\Validate(type=""bar1"", options={ ""foo""= { ""bar"" = ""baz"" } })

FLOW3 outputs

@\TYPO3\FLOW3\Annotations\Validate(type=""bar1"", options={ ""foo""= })"
37212,TYPO3.Flow,Feature,"",Accepted,Must have,Edge Side Includes (ESI),Julian Wachholz,Robert Lemke,2013-05-21 07:28,Http,"",2012-05-16,"","",0,2012-05-16 06:45,"","",623400,"","","Having a framework that supports ESI would give us a vast improvement in speed.
Symfony is currently the only framework that does support edge side includes and I think we can learn a lot from it. :)"
37220,TYPO3.Flow,Bug,"",Resolved,Should have,PackageStates.php uses absolute paths,Karsten Dambekalns,Karsten Dambekalns,2012-05-30 05:39,Package,1.1 beta 2,2012-05-16,"","",100,2012-05-16 08:49,"","",623800,"",Git 1.1,"Using absolute paths in the PackageStates.php causes problems in a chroot environment where the absolute path is different in CLI then in the HTTPD process.

Also relative paths allow to put PackageStates.php under version control to maintain a specific state even when paths differ on development and production systems."
37223,TYPO3.Flow,Bug,"",Resolved,Must have,Packages can be frozen in Production Context,Robert Lemke,Karsten Dambekalns,2012-06-20 14:53,Package,1.1 beta 3,2012-05-16,"","",100,2012-05-16 09:53,"","",623950,"",FLOW3 1.1.0 beta 1,"Packages should not be freezable in Production - and probably they are behaving correctly already. However, when flushing the caches for example in Production context, a list of frozen packages will be displayed.

Investigate if this is only a display issue in that command or if packages are truly handled as frozen in Production (which would be wrong). cache:flush in Production should flush all caches."
37224,TYPO3.Flow,Bug,"",Resolved,Must have,Wrong hint in 201201261636  code migration,Karsten Dambekalns,Karsten Dambekalns,2012-05-26 09:35,- Migrations -,1.1 beta 2,2012-05-16,"","",100,2012-05-16 10:14,"","",624000,"",FLOW3 1.1.0 beta 1,"Wrong:

\TYPO3\FLOW3\MVC\RequestInterface has been removed, use \TYPO3\FLOW3\Http\Request instead - e.g. if you implemented your own token.

Correct:

\TYPO3\FLOW3\MVC\RequestInterface has been removed, use \TYPO3\FLOW3\Mvc\ActionRequest instead - e.g. if you implemented your own token."
37227,TYPO3.Flow,Bug,"",On Hold,Must have,securityContext->getParty is not available in widget context,Adrian Föder,"",2012-06-25 16:14,Session,"",2012-05-16,"","",0,2012-05-16 10:37,"","",624150,"",(any),"consider the following scenario:

<pre><code class=""php"">
class SampleViewHelper extends \TYPO3\Fluid\Core\Widget\AbstractWidgetViewHelper {

	/**
	 * @var bool
	 */
	protected $ajaxWidget = TRUE;

	/**
	 * @FLOW3\Inject
	 * @var ...\ViewHelpers\Widget\Controller\SampleController
	 */
	protected $controller;

	/**
	 * @return array
	 */
	protected function getWidgetConfiguration() {
		$something = new \AnEntity();

...

</code></pre>

and

<pre><code class=""php"">
class AnEntity {

	/**
	 * @FLOW3\Inject
	 * @var \TYPO3\FLOW3\Security\Context
	 */
	protected $securityContext;

	/**
	 */
	public function initializeObject() {
		$this->securityContext->getParty();


...
</code></pre>

the Session implementation crashes; concretely the following error occurs:

<pre>
#1: Warning: session_write_close(): Failed to write session data (files). Please verify that the current setting of session.save_path is correct (/var/www/Data/Temporary/Development/Sessions) in /var/www/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Session_PhpSession_Original.php line 332 
</pre>"
37231,TYPO3.Flow,Bug,"",Resolved,Must have,"Code migration lacks hint on ""not empty"" behavior of validators",Karsten Dambekalns,Karsten Dambekalns,2012-05-26 09:35,- Migrations -,1.1 beta 2,2012-05-16,"","",100,2012-05-16 11:06,"","",624350,"",FLOW3 1.1.0 beta 1,""
37243,TYPO3.Flow,Feature,"",Closed,Should have,Authentication after long time of inactivity,Carsten Bleicker,Karsten Dambekalns,2012-06-28 05:09,Security,"",2012-05-17,"","",0,2012-05-17 02:37,"","",624950,"","","hi folks,
being logged in, going to bed, awake in the morning and did a reload
throws an exception instead of redirecting to the login page.

#1258721059: The security context contained no tokens which could be authenticated.
TYPO3\FLOW3\Security\Exception\AuthenticationRequiredException thrown in file
/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Security_Authentication_AuthenticationProviderManager_Original.php in line 142.
Reference code: 2012051708313083b115

better catch this and redirect to login?

"
37257,TYPO3.Flow,Bug,"",Resolved,Could have,NULL on IntegerConverter,Carsten Bleicker,Christian Müller,2012-12-10 12:44,Property,2.0 beta 1,2012-05-17,"","",100,2012-05-17 10:46,"","",625650,"",(any),"hi folks,
f.e. i have a model wich holds a property ""maxOrders"".
NULL represents ""unlimited""
0 represents 0
1 represents 1
...

so i have an input field where the user should be able to empty it with the
result that db field contains NULL (unlimited)

so in my humble oppinion the integer converter should convert nothing to null.
maybe in combination with a check of @ORM\Column(nullable=true)?
maybe the combination with @ORM\Column(nullable=true) could be also in any other converter?

kind regards
carsten


"
37259,TYPO3.Flow,Task,Feature #33371: HTTP 1.1 Support,Resolved,Must have,Improve spec coverage of Request / Response classes,Robert Lemke,Robert Lemke,2012-06-20 15:16,Http,1.1 RC1,2012-05-17,"","",100,2012-05-17 11:33,"","",625750,"","","The HTTP Request / Response classes are still lacking a lot of methods which make them a true reflection of the related standard (RFC 2616). In particular, charset handling, cache header support, content type etc."
37276,TYPO3.Flow,Feature,"",Closed,Should have,Customizable ValueObject hash,Adrian Föder,"",2012-05-21 06:00,Persistence,2.0 beta 1,2012-05-18,"","",100,2012-05-18 09:16,"","",626600,0.00,"","If I understand it correctly, the hash for a Value Object is calculated/done in @Persistence\Aspect\PersistenceMagicAspect::generateValueHash()@.
It seems (I'm just ""thinking loudly""), that that hash is built from
<pre>
* the object's Persistence Identifier, if one
* the concatenated representation of each constructor method argument, processed as following:
  * a serialize(), if an array
  * its actual value, if not an object
  * its Persistence Identifier, if one
  * its timestamp, if DateTime
</pre>

In my use case, a Doctrine Collection should also be part of the hash. I could imagine that this is not a seldom case in general, so I have two improvement suggestions:

* directly support the Doctrine collection case with a sub loop, for example, or the Collection->toArray() method
* or call a magic function, for example

<pre><code class=""php"">
/**
 * @FLOW3\ValueObject
 */
class FooBar {
	public function __construct() {
			// this is the constructor of this Value Object
		$this->that = 'some';
	}

	/**
	 * Generates the value object hash. Arguments are as in constructor.
	 * @param mixed $argument1 
	 * @param mixed $argument2 
	 * @return string The value object hash
	 */
	public static function generateValueObjectHash() {
		foreach (func_get_args()) ... whatever...

	}
</code></pre>

This @public static@ method could be, if present, called by the Aspect; else the usual process is applied to retrieve the hash.

What do you think? Should a customizable VO hash be possible altogether?"
37278,TYPO3.Flow,Bug,"",Closed,Should have,In reflection service isPropertyGettable() does not acknowledge getter methods which require one or more arguments,Jan Kraus,Karsten Dambekalns,2012-07-10 02:32,Reflection,"",2012-05-18,"","",0,2012-05-18 09:41,"","",626700,"",FLOW3 1.1.0 beta 1,"In reflection service isPropertyGettable() does not acknowledge getter methods which require one or more arguments

in model I have such method: public function getKeyValueConfig($key) { ...


and because of this reflection I have an error:
Warning: Missing argument 1 for XXX\Domain\Model\Channel_Original::getKeyValueConfig(), called in /TYPO3.FLOW3/Classes/Reflection/ObjectAccess.php on line 109 and defined in /Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/XXX_Domain_Model_Channel_Original.php line 59"
37279,TYPO3.Flow,Feature,"",New,Should have,Request PropertyMapping,Carsten Bleicker,"",2012-05-18 10:06,Property,"",2012-05-18,"","",0,2012-05-18 10:06,"","",626750,"","","atm i have to allow properties this way, right?
$this->arguments['section']->getPropertyMappingConfiguration()->allowCreationForSubProperty('ticketLimit');
$this->arguments['section']->getPropertyMappingConfiguration()->allowModificationForSubProperty('ticketLimit');
$this->arguments['section']->getPropertyMappingConfiguration()->getConfigurationFor('ticketLimit')->allowProperties('dailyLimit');



wouldnt it be easier to do something like this?
$this->arguments->allowProperties(
   'this.that'
   'this.alsothat'
   'another.that.this'
)

$this->arguments->allowCreationOfProperties(
   'this.that'
   'this.alsothat'
   'another.that.this'
)

$this->arguments->allowModificationOfProperties(
   'this.that'
   'this.alsothat'
   'another.that.this'
)
"
37286,TYPO3.Flow,Feature,Feature #37276: Customizable ValueObject hash,Closed,Should have,Include object properties in Value Object hash creation,Adrian Föder,Adrian Föder,2012-05-21 06:00,Persistence,1.1 beta 2,2012-05-18,"","",0,2012-05-18 11:35,"","",627100,"","","currently, the Value Object hash creation doesn't take arbitrary object properties into account (only DateTime properties at the moment).
PHP provides a @spl_object_hash()@ method, we should check if this is possible to add.
I'll provide a Test."
37292,TYPO3.Flow,Bug,"",Under Review,Should have,PropertyMappingConfiguration::mapUnknownProperties is not passed down to Subconfiguration,Marc Neuhaus,Sebastian Kurfuerst,2013-11-26 14:21,Property,"",2012-05-18,"","",0,2012-05-18 17:53,"","",627400,"",Git 1.1,"if i set allowAllProperties on my PropertyMappingConfiguration it still can fail because the setting doesn't get passed down in line 152 from getConfigurationFor.

I've attached a patch to pass down this setting."
37294,TYPO3.Flow,Feature,"",Closed,Could have,Property converters should allow NULL results,Carsten Bleicker,Carsten Bleicker,2014-02-19 04:11,Property,"",2012-05-19,"","",0,2012-05-19 05:51,"","",627500,"","","Can someone explain me why the DateTimeConverter returns a Validation Error and does not throw an exception? (Line #122)
All other Converters throwing exceptions only. shouldnt the validation only be a part of @FLOW3\Validate notations?"
37302,TYPO3.Flow,Bug,"",Needs Feedback,Should have,NumberValidator,Carsten Bleicker,Carsten Bleicker,2013-07-03 02:36,Validation,"",2012-05-19,"","",0,2012-05-19 12:50,"","",627900,"",FLOW3 1.1.0 beta 1,"Trying to use the NumberValidator and playing around with the option formatLength.

but an exception is thrown:
#1280218995: Number format was not found. Please check whether CLDR repository is valid

am i doing something wrong or is the cldr a little bit incomplete?

what i am trying to do is just validate an property value against:
@FLOW3\Validate(type=""Number"", options={ ""formatType""=""currency"", ""formatLength""=""short""})

defautl format lengts seems to be working but it allows me to set to many decimals.
f.e. it allows xxx,xxx but i want to allow only xxx,xx

the second thing is, that the floatConverter should also use the numbers parser
to convert user inputs on a german page with xxx,xx to xxx.xx ?

Kind regards
carsten

"
37316,TYPO3.Flow,Bug,"",New,Should have,Use findBestMatchingLocale instead of getDefaultLocale?,Carsten Bleicker,"",2012-05-20 03:35,Validation,"",2012-05-20,"","",0,2012-05-20 03:35,"","",628600,"",FLOW3 1.1.0 beta 1,"Shouldnt the getDefaultLocale() replaced by findBestMatchingLocale() to
use also the fallbacks etc? (Line 62)

from: $locale = $this->localizationService->getConfiguration()->getDefaultLocale();
to: $locale = $this->localizationService->findBestMatchingLocale();

Kind regards
Carsten"
37341,TYPO3.Flow,Bug,"",Resolved,Should have,credentialsSource in Account should be nullable,Karsten Dambekalns,Karsten Dambekalns,2012-05-26 09:35,Security,1.1 beta 2,2012-05-20,"","",100,2012-05-20 15:08,"","",629850,"",FLOW3 1.1.0 beta 1,"Not all authentication mechanisms need a ""credentials source"" (e.g. the typo3.org SSO provider), so the column for the property should be nullable"
37343,TYPO3.Flow,Bug,"",Resolved,Should have,Error in AOP Docs,Marc Neuhaus,Adrian Föder,2012-05-21 20:41,- Documentation -,1.1 beta 2,2012-05-20,"","",100,2012-05-20 15:44,"","",629950,"",Git master,"In the AOP docs the ""methodAnnotatededWith"" part is everywhere named ""methodAnnotat*eded*With"" with a double ""ed"" which is of course wrong :)"
37352,TYPO3.Flow,Bug,"",Under Review,Must have,generateValueHash() should use getIdentifierByObject(),Karsten Dambekalns,Karsten Dambekalns,2013-05-21 07:28,Persistence,"",2012-05-21,"","",0,2012-05-21 05:59,"","",630400,"",Git 1.0,"The @generateValueHash()@ method only tries to use @FLOW3_Persistence_Identifier@ directly, but should use @getIdentifierByObject()@ to support custom identifier properties."
37354,TYPO3.Flow,Bug,"",Accepted,Should have,Do not apply generateValueHash() and generateUuid() if custom identifier is used,Karsten Dambekalns,Karsten Dambekalns,2012-07-10 02:30,Persistence,"",2012-05-21,"","",0,2012-05-21 06:04,"","",630500,"",Git 1.0,""
37357,TYPO3.Flow,Bug,Task #55953: Repair and streamline ValueObject support,Resolved,Should have,more suitable ValueObject hash creation for DateTime cases,Adrian Föder,Adrian Föder,2015-02-15 18:30,Persistence,"",2012-05-21,"","",100,2012-05-21 08:28,"","",630650,"",(any),"currently, DateTime objects are only represented by their (""unix-"") Timestamp, which may result in unpredictable behavior when server time (zone) or Daylight Saving Time changes.
An RFC850 formatted date seems to be more appropriate, it says e.g. @Monday, 15-Aug-05 15:52:01 UTC@ or @Monday, 21-May-12 14:19:41 CEST@ (note the *s* in CEST that indicates summer time).

Otherwise, both, for example, British Summer Time (+01:00) and Central European Time (non-summer) would be +01:00, but representing very different actual Dates. "
37358,TYPO3.Flow,Task,"",Resolved,Should have,"Make ""all"" parameter optional in package:refreeze",Bastian Waidelich,Karsten Dambekalns,2012-05-30 15:41,Cli,1.1 beta 2,2012-05-21,"","",100,2012-05-21 08:45,"","",630700,"","","Currently, if you want to refreeze all frozen packages you need to call
<pre>
./flow3 package:refreeze all
</pre>
It would be convenient if you could omit the packageKey argument altoghether."
37360,TYPO3.Flow,Feature,"",Resolved,Should have,Catch PDO exceptions to avoid outputting database information in exception backtrace,Aske Ertmann,Aske Ertmann,2012-07-18 11:14,Persistence,2.0 beta 1,2012-05-21,"","",100,2012-05-21 08:55,"","",630800,"","","If the PDO connection throws an exception, it's not catched by FLOW3, which leads to a debug backtrace showing the calls to the PDO calls revealing the database information. Even though this only happens in Production context, I still believe that it should not be shown there.

I've created a patch and provided before and after screenshots. I have also testet that normal sql exceptions are not catching by this, e.g. a missing table."
37361,TYPO3.Flow,Task,"",Resolved,Should have,Avoid usage of deprecated Doctrine method (\Doctrine\ORM\QueryBuilder->getRootAlias),Aske Ertmann,Karsten Dambekalns,2012-07-10 02:23,Persistence,1.1,2012-05-21,"","",100,2012-05-21 09:01,"","",630850,"","",\Doctrine\ORM\QueryBuilder:234:* @deprecated Please use $qb->getRootAliases() instead.
37363,TYPO3.Flow,Bug,"",Resolved,Must have,PersistenceManager->validateObject() ==> to many calls/loops/recursions somewhere in a subcall,Sebastian Wojtowicz,Karsten Dambekalns,2012-06-20 14:53,Validation,1.1 beta 3,2012-05-21,"","",100,2012-05-21 09:06,"","",630950,"",Git master,"h2. In a nutshell

In my project I add objects with lots of sub sub objects. They are added in bigger numbers, like often 50, sometimes 100 even up to 1000 elements at once (it's vocabularies). 
*The problem* is, right now it *takes already 25 seconds* on my local machine *to add only 10 elements* (with all their sub sub sub... objects of course, but still 25 seconds is way to much).
Currently I need to add 5000 vocabularies. This would take about 33 hours (if it doesn't fail at some point because of missing memory).

h2. Testcase

Having no idea what causes it I created a small test-case at https://github.com/Allisone/Wojtowicz.AddALot 

There you have a model hierarchy like this:
Elements A,B,C and D, so that As have Bs, Bs have Cs and Cs have Ds.

Via the commandline you can then call one of the following commands.
1. Create x Bs, each having a C, each C having a D
2. Create y As, each having x/y Bs, each having a C, each C having a D

I can see in the xdebug profiler output...
For 1. and x=20: 6480 calls are being made to @TYPO3\FLOW3\Error\Result->mergeProperty()@
For 2. and x=20 and y=4: 79656 calls are being made to @TYPO3\FLOW3\Error\Result->mergeProperty()@
(we get 20 Bs, each 5 Bs being added to an A)

Doing a small adjustment so that each B has 2 Cs (instead of one), I can see already 231576 @mergeProperty()@ calls in the 2. command call.

So... I can't say exactly where the bug is, just give you the upper description, hoping that someone finds that bug, either between @\TYPO3\FLOW3\Persistence\Doctrine\PersistenceManager\validateObject()@ and @TYPO3\FLOW3\Error\Result->mergeProperty()@ or at some place where f.e. to many validators where added (or similar). But I think it should be related to validation...

h2. More

For more details look at my provided testcase (+README):
https://github.com/Allisone/Wojtowicz.AddALot "
37372,TYPO3.Flow,Feature,"",Accepted,Should have,Inheritance in ORM should be configured automatically,Karsten Dambekalns,Karsten Dambekalns,2013-05-21 07:28,Persistence,"",2012-05-21,"","",0,2012-05-21 10:33,"","",631400,"","","When classes are extended, inheritance should be configured automatically for Doctrine, using sane defaults. This avoids the need to foresee future needs when coding - especially for packages that are of general purpose and where no one can know in the beginning whether they will be extended or not."
37373,TYPO3.Flow,Feature,"",Under Review,Should have,"Make annotation overrides / ""injection"" via Objects.yaml possible",Karsten Dambekalns,Marc Neuhaus,2013-05-21 07:28,Configuration,"",2012-05-21,"","",0,2012-05-21 10:36,"","",631450,"","",@Objects.yaml@ should allow for adding and overriding annotations in classes. This would allow to modify ORM configuration or anything else driven through annotations without touching the code - especially useful for 3rd party code.
37376,TYPO3.Flow,Feature,"",Resolved,Should have,"Application-wide time stamp representing ""now""",Robert Lemke,Robert Lemke,2012-05-22 08:41,Utility,1.1 beta 2,2012-05-21,"","",100,2012-05-21 11:27,"","",631600,"","","We should provide an application-wide reference for a time reflecting ""now"" because:

* code using time() and comparing values with other parts of the application might, in an edge case, end up with different times, although they both mean ""now""
* testing code which uses time() or new \DateTime() is cumbersome or sometimes not possible"
37377,TYPO3.Flow,Bug,"",Resolved,Must have,Internal Request Engine needs to clear security context,Aske Ertmann,"",2012-06-18 09:38,Http,2.0 beta 1,2012-05-21,"","",100,2012-05-21 11:33,"","",631650,"",Git master,"In order to get the security tokens matching the new request created in the internal request engine, the security context should be cleared using the ""clearContext"" method. This means that the tokens will be matched with the configuration from the routing based on the new request and not the parent request.

This breaks ""TYPO3\TYPO3\Tests\Functional\Controller\Backend\BackendControllerSecurityTest::indexActionIsDeniedForEverybody"", because it throws an uncaught exception in the AuthenticationProviderManager, since no tokens are available when trying to authenticate. The reason why there aren't any tokens is, that the tokens are separated active/inactive when initializing the security context. When clearing the context, the separate method is called again with the correct controller object names allowing request pattern matching."
37385,TYPO3.Flow,Bug,"",Resolved,Should have,Annotation of Validate and IgnoreValidation,Carsten Bleicker,Karsten Dambekalns,2012-06-20 14:53,Validation,1.1 beta 3,2012-05-22,"","",100,2012-05-22 02:25,"","",632050,"",FLOW3 1.1.0 beta 1,"I would expect that notation of Validate and IgnoreValidation is the same.
@FLOW3\Validate(argumentName=""test""...) matches but @FLOW3\IgnoreValidation(argumentName=""test"") doesnt. i have to write
@FLOW3\IgnoreValidation(""$test"") or @FLOW3\IgnoreValidation(argumentName=""$test"").


The FLOW3\Validate does an ltrim of ""$"" wich the IgnoreValidation Annotation doesn't.
"
37387,TYPO3.Fluid,Bug,"",Resolved,Must have,Translate Helper: Arguments replacement is not working for default value,Krzysztof Daniel,Karsten Dambekalns,2012-07-18 06:35,ViewHelpers,1.1 RC2,2012-05-22,"","",100,2012-05-22 04:02,"","",632150,"",FLOW3 1.1.0 beta 1,"I have following tag and there is no translation in xliff file yet for key 'something'

<f:translate id=""something"" arguments=""{0: 'test'}"">You haven't created a {0}, yet</f:translate>

Expected behavior would be that it will output:
You haven't created a test, yet

But argument replacement is not working for default message and output is now:
You haven't created a , yet"
37402,TYPO3.Flow,Feature,"",Resolved,Should have,Make request handling RESTfuller,Bastian Waidelich,Robert Lemke,2013-01-25 10:20,Http,1.1 beta 2,2012-05-22,"","",70,2012-05-22 14:19,"","",632850,"","","Currently quite some work is required in order to create a FLOW3 based REST service. See comments: https://github.com/bwaidelich/REST-Test/commit/08749c0304d0f917781ca29f558dbb83f610fb57

Those features should be part of the core IMO:

h3. format negotiation:

We used to have a convenience method ""Environment:getAcceptedFormats()"":http://git.typo3.org/FLOW3/Packages/TYPO3.FLOW3.git?a=blob;f=Classes/Utility/Environment.php;hb=d1a05a20c8e6f024291752c63aa58b29d6add618#l171 that determined the accepted format from the requests accept headers. The http request should be able to determine those itself.
*Note:* It would be nice if the request had a *list* of accepted formats so the controller could specify a list of supported formats and the first match would be used.

h3. consume input streams (see #36913)

Streams should be converted to arguments for POST & PUT requests.
Based on the content type the stream needs to be parsed (see https://github.com/bwaidelich/REST-Test/blob/master/Classes/RestRequestHandler.php#L119)

h3. improve provided RestController

The RestController should be able to set the Content-Type header of the response according to some pattern (see https://github.com/bwaidelich/REST-Test/blob/master/Classes/Controller/AbstractRestController.php#L40)
Also redirection and error handling need to be adjusted


I don't know what we could achieve for 1.1 still, but maybe we can at least make it easier for 3rd parties to hook in
"
37403,TYPO3.Flow,Bug,"",Resolved,Should have,IdentityRoutePart should set __identity array,Bastian Waidelich,Bastian Waidelich,2012-05-30 14:38,MVC - Routing,1.1 beta 2,2012-05-22,"","",100,2012-05-22 15:45,"","",632900,"",FLOW3 1.0.0,"@IdentityRoutePart::matchValue()@ currently returns the identifier of the @ObjectPathMapping@ record directly.
This makes it difficult to merge arguments with data from the *requestBody* (e.g. for PUT requests).
Instead, the route part should return an array in the format @array('__identity' => '<Identifier>')@"
37405,TYPO3.Flow,Feature,"",Under Review,Should have,When changing a property wich is used in routing the Link-VH should direkt to the new properties value,Johannes Steu,"",2014-11-02 12:25,MVC - Routing,"",2012-05-22,"","",0,2012-05-22 18:13,"","",633000,"","","When updating a models property wich is used in routing the Link.action-ViewHelper directs to the old properties value. 
The new Route with new values does work when typing in manually as the old one does.

The Documentation about Routing says:
_""Mappings from an object to it?s URI representation are stored in the ObjectPathMappingRepository in order to make sure, that existing links work even after a property has changed.""_

When using properties for routing they should be the mainly the value i set them. 
So i think the Link.Action-ViewHelper should direct to the new route automatically instead to the old one. The old route should still be working to make sure, that for example bookmarked links work even after updating the property."
37436,TYPO3.Flow,Feature,"",Resolved,Should have,PropertyMapper should allow settings like allowCreationForSubProperty('products.[n].tierprices.[n]'),Sebastian Wojtowicz,Christopher Hlubek,2012-12-10 07:11,Property,2.0 beta 1,2012-05-23,"","",100,2012-05-23 09:51,"","",634550,"","","In some projects you might want to allow objects with an unknown amount of sub objects like a catalog with products with images, tierprices and colorconfigurations. Imagine a products form with x rows and a <Add row> button at the bottom that dynamically creates new empty rows with an increased index so you can add as many products as you want. In my case it's even quite a lot more complex.

So... something like this is needed

(I)@
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty('products.[n]');
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty('products.[n].tierprices');
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty('products.[n].tierprices.[n]');
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty('products.[n].tierprices.[n].price');
@

instead of 

(II)@
for($i = 0 ; $i < $very_big_number ; $i++){
	for($j = 0 ; $j < $very_big_number ; $j++){
		$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty(""products.$i"");
		$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty(""products.$i.tierprices"");
		$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty(""products.$i.tierprices.$j"");
		$this->arguments['newCatalog']->getPropertyMappingConfiguration()->allowCreationForSubProperty(""products.$i.tierprices.$j.price"");
	}
}
@

and also this should be possible

(III)@
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->getConfigurationFor('products')->allowProperties('[n]');
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->getConfigurationFor('products')->getConfigurationFor('[n]')->allowProperties('tierprices');
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->getConfigurationFor('products')->getConfigurationFor('[n]')->getConfigurationFor('tierprices')->allowProperties('[n]');
$this->arguments['newCatalog']->getPropertyMappingConfiguration()->getConfigurationFor('products')->getConfigurationFor('[n]')->getConfigurationFor('tierprices')->getConfigurationFor('[n]')->allowProperties('price');
@

of course it would be handy to have the allowProperties auto-created by a special renderTrustedPropertiesField() method.
I could imagine a view helper like this 

(IV)@
<f:trustedUnknownAmount preRenderAmount=""3"" iterator=""n"">
	<f:trustedUnknownAmount preRenderAmount=""2"" iterator=""m"">
		<f:form.textfield property=""products.{n}.tierprices.{m}.name"" />
	</f:trustedUnknownAmount>
</f:trustedUnknownAmount>
@

or at least have a alternative short syntax for (III)"
37438,TYPO3.Flow,Feature,"",Resolved,Should have,Remove setting default timezone on its own,Adrian Föder,Adrian Föder,2012-07-12 09:35,Core,2.0 beta 1,2012-05-23,"","",100,2012-05-23 10:41,"","",634650,"","","Core/Bootstrap contains the following lines:
<pre><code class=""php"">
if (ini_get('date.timezone') === '') {
	date_default_timezone_set('Europe/Copenhagen');
}
</code></pre>

I assume this is mainly to avoid that default_timezone E_WARNING (->Exception), which is fine so far.

As this timezone is a design decision however, I strongly recommend setting this to UTC. This is the only time zone that makes sense in any way in this context."
37445,TYPO3.Flow,Bug,"",Resolved,Should have,Router overrides POST arguments,Bastian Waidelich,Bastian Waidelich,2012-05-30 09:38,MVC - Routing,1.1 beta 2,2012-05-23,"","",100,2012-05-23 12:23,"","",635000,"",Git master,"I'm not sure whether this is was introduced with #36913, but the POST/PUT arguments are currently not merged with the arguments set from the router but instead Router::route() overrides arguments with the same name.

"
37448,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong Excepiton Message in TYPO3\FLOW3\Persistence\Repository,Johannes Steu,Karsten Dambekalns,2012-05-26 09:35,Persistence,1.1 beta 2,2012-05-23,"","",100,2012-05-23 12:47,"","",635150,"",Git master,"Hey,

i just found a wrong exception message. In TYPO3\FLOW3\Persistence\Repository on line 100 in remove()-function the ErrorMsg ist like

""The value given to add() was[..]"" but should be like ""The value given to remove() was[...]"""
37451,TYPO3.Flow,Task,"",Resolved,Should have,Rework usage of Roles in the security framework,Rens Admiraal,Rens Admiraal,2013-08-14 09:59,Security,2.0,2012-05-23,"","",100,2012-05-23 16:04,"","",635300,"","",Roles are now simple string values but there's actually an entity object for it. We need the Roles to be persisted (like for example to to add new roles in the phoenix backend)
37459,TYPO3.Fluid,Bug,"",Closed,Should have,FormViewHelper with GET method and query parameters in action is not usable,Christopher Hlubek,Bastian Waidelich,2012-05-24 06:32,ViewHelpers,"",2012-05-24,"","",0,2012-05-24 06:07,"","",635700,"",Git master,"If the form viewhelper is used with method=""GET"" and the action attribute that is built (given with @actionUri@ or using the URI builder) contains query paramters, they will be lost on form submission (http://www.w3.org/TR/html401/interact/forms.html#h-17.13.3.4).

The form viewhelper should parse query parameters in the action URI and prepend them as hidden fields in the form to pass them to the request that is submitted."
37460,TYPO3.Fluid,Feature,"",Resolved,Should have,TagBuilder should allow access to attribue collection,Christopher Hlubek,Christopher Hlubek,2012-05-26 09:35,Core,1.1 beta 2,2012-05-24,"","",100,2012-05-24 06:18,"","",635750,"","","The TagBuilder should allow access to the attributes as it also allows access to the tag name, tag content, etc.

This is useful to extend and override existing viewhelpers and access the current data in the constructed tag."
37470,TYPO3.Flow,Feature,"",Resolved,Could have,Refactor FunctionalTestCase to extract authenticateAccount() functionality,Adrian Föder,Adrian Föder,2012-07-04 09:56,- Testing -,2.0 beta 1,2012-05-24,"","",100,2012-05-24 09:36,"","",636250,"","","In order to provide testability of an account authentication, it would make sense to extract that functionality from the @authenticateRoles()@ method into a new @authenticateAccount()@ method."
37473,TYPO3.Flow,Bug,"",New,Must have,Subsequent Exceptions related to Doctrine Entity Manager makes it snap shut,Adrian Föder,"",2012-10-25 04:29,- Testing -,"",2012-05-24,"","",0,2012-05-24 10:22,"","",636400,"",Git master,"If any exception occurs while persisting, and a subsequent test also tries to persist, an ORM Exception occurs telling that the Entity manager were closed.
Reproduction code in Functional Test:
<pre><code class=""php"">
	/**
	 * Fine, this throws, as expected, an Exception due to validation problems
	 * 
	 * @test
	 * @expectedException \TYPO3\FLOW3\Persistence\Exception\ObjectValidationFailedException
	 */
	public function firstFailingTestThatCorrectlyThrowsException() {
		$invalidAccount = new \TYPO3\FLOW3\Security\Account();
		$this->persistenceManager->add($invalidAccount);
		$this->persistenceManager->persistAll();
	}

	/**
	 * This (same code) throws now ""Doctrine\ORM\ORMException: The EntityManager is closed.""
	 * 
	 * @test
	 */
	public function secondFailingTestThatSaysEntityManagerWasClosed() {
		$invalidAccount = new \TYPO3\FLOW3\Security\Account();
		$this->persistenceManager->add($invalidAccount);
		$this->persistenceManager->persistAll();
	}

</code></pre>

Maybe this is some kind related: http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/transactions-and-concurrency.html#exception-handling"
37475,TYPO3.Flow,Feature,"",Resolved,Should have,Add UnitTest's @depends to ignored annotations,Adrian Föder,Adrian Föder,2012-05-26 09:35,Core,"",2012-05-24,"","",100,2012-05-24 10:41,"","",636500,"","",In order to set up dependencies as described in http://www.phpunit.de/manual/3.6/en/writing-tests-for-phpunit.html#writing-tests-for-phpunit.examples.StackTest2.php the @@depends@ annotation has to be allowed.
37481,TYPO3.Flow,Bug,"",Resolved,Should have,FLOW3's var_dump() chokes on Doctrine collections,Karsten Dambekalns,Karsten Dambekalns,2012-11-10 11:55,Error,1.1 beta 3,2012-05-25,"","",100,2012-05-25 06:42,"","",636800,"",Git 1.0,The humongous amount of data leads to out of memory errors and hogged down browsers?
37496,TYPO3.Fluid,Feature,"",Closed,Should have,placeholder attribute in textarea-viewhelper,Martin Hummer,"",2013-02-04 05:44,ViewHelpers,"",2012-05-25,"","",0,2012-05-25 16:30,"","",637550,"","","hello,

i just discovered that the placeholder attribute in the textarea viewhelper is missing.
the following code adds the placeholder according to the textfield viewhelper:


<pre>
	/**
	 * Renders the textarea.
	 *
     * @param string $placeholder A string used as a placeholder for the value to enter
     *
	 * @return string
	 * @api
	 */
	public function render($placeholder = NULL) {
		$name = $this->getName();
		$this->registerFieldNameForFormTokenGeneration($name);

		$this->tag->forceClosingTag(TRUE);
		$this->tag->addAttribute('name', $name);
		$this->tag->setContent(htmlspecialchars($this->getValue()));

        if ($placeholder !== NULL) {
            $this->tag->addAttribute('placeholder', $placeholder);
        }

		$this->setErrorClassAttribute();

		return $this->tag->render();
	}
}
</pre>"
37506,TYPO3.Fluid,Feature,"",Closed,Won't have this time,Building up Nested Forms with this ViewHelper,Carsten Bleicker,Bastian Waidelich,2012-06-25 09:17,ViewHelpers,"",2012-05-26,"","",0,2012-05-26 09:58,"","",638050,"","","Just want to know what you think about this viewhelper
f.e. you sould be able to pass one object to <f:form object=""{person} name=""person"">
and inside this form you can display subproperties f.e. personName by passing
and use general forms with single property namespace withoud . because of traversing.
it is possible to use it in unlimited depth by:

<f:form action='update' object=""{person}"" objectName=""person"" >
	<vh:nestedForm name=""personName"" object=""{person.name}"">
		<vh:nestedForm name=""subproperty"" object=""{person.name.supproperty}"">
			<vh:nestedForm name=""anothersubproperty"" object=""{person.name.supproperty.anothersubproperty}"">




Example usage:

#################################################
# Form                                          #
#################################################

<f:form action='update' object=""{person}"" objectName=""person"" >
	
	<vh:nestedForm name=""personName"" object=""{person.name}"">
		
		<fieldset>
			<legend><f:translate id=""person.name"" /></legend>
			<f:render partial=""Model/Fieldset/PersonName/Default"" />
		</fieldset>
		
	</vh:nestedForm>
	
</f:form>




#################################################
# Parial: Model/Fieldset/PersonName/Default     #
# If uses in nestedForm it it reusable anywhere #
#################################################

<label class=""control-label"" for=""firstName""><f:translate id=""personName.firstName"" />:</label>

<!--  No need for person.name.firstName because namespace will be set by nestedForm -->
<f:form.textfield id=""firstName"" property=""firstName"" />














"
37507,TYPO3.Flow,Bug,"",Closed,Should have,Doctrine Collection add existing,Carsten Bleicker,Karsten Dambekalns,2012-06-28 04:45,Persistence,"",2012-05-26,"","",0,2012-05-26 10:59,"","",638100,"",FLOW3 1.1.0 beta 1,"If you build up a nested form to UPDATE the party by a given subproperty input
<f:form.textfield property=""primaryElectronicAddress.identifier"" />
this will results in a doctrine exception:

#23000: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '54513027-6fce-4e4b-972a-8cd394d3ef87-e8dcf75e-b057-4f65-be8c-767' for key 'PRIMARY'

in my humble opinion either the doctrine array collection should check for allready existing and dont add a new index.
instead of a new it should use the old index. otherwise i have 2 indexes with the same uuid.


"
37509,TYPO3.Flow,Bug,"",Closed,Should have,ElectronicAddressValidator validates identifier but setting errors for property ElectronicAddress,Carsten Bleicker,Karsten Dambekalns,2012-07-10 11:38,Validation,"",2012-05-26,"","",0,2012-05-26 13:28,"","",638200,"",FLOW3 1.1.0 beta 1,"I would expect, that Property Errors for Identifier will be added.
"
37542,TYPO3.Flow,Bug,"",Closed,Should have,Subproperty Validation (f.e. Party::primaryElectronicAddress / ::electronicAddresses) only Validates DoctrinceCollection Models,Carsten Bleicker,Karsten Dambekalns,2012-06-28 04:36,Validation,"",2012-05-28,"","",100,2012-05-28 07:04,"","",639850,"",FLOW3 1.1.0 beta 1,"my action updates a party.
incoming request arguments also contain the identifier of its primaryElectronicAddress.
on first submit of the form the property identifier is validated as email address, correct.

but submitting it again the only addresses in party::electronicAddresses containing errors.
primaryElectronicAddress remains empty.

cant figure out where this happens. do you allow the validation of an object and its subproperty only once?
if so, how should i get the validation errors for property primaryElectronicAddress::identifier?


kind regards
carsten"
37543,TYPO3.Fluid,Bug,"",Closed,Must have,Additional __identity field when using TYPO3.Media,Michel Albers,Bastian Waidelich,2013-08-14 09:38,ViewHelpers,1.1.1,2012-05-28,"",0.50,0,2012-05-28 08:30,"","",639900,"",FLOW3 1.1.0 beta 1,"When using a <f:form.upload /> field for uploading a TYPO3.Media Image, FLUID adds a hidden __identity field for the Image which results in an ""__identity mapping is not allowed"" exception when saving the record. Removing the hidden __identity field by deleting 

<pre>
$content .= $this->renderAdditionalIdentityFields();
</pre> 

from FormViewHelper.php on line 127 solves the particular problem. Some further if / else conditions are needed."
37547,TYPO3.Flow,Bug,"",Resolved,Must have,"Exception ""No class schema found for ""Doctrine\Common\Collections\Collection"". The   class should probably marked as entity or value object!"" should point out which model triggers the error",Michel Albers,Karsten Dambekalns,2012-06-20 14:53,Persistence,1.1 beta 3,2012-05-28,"","",100,2012-05-28 09:43,"","",640100,"",Git 1.1,title says all
37550,TYPO3.Flow,Bug,"",Resolved,Should have,TYPO3.FLOW3.http.baseUri does not work,Pankaj Lele,Karsten Dambekalns,2013-11-18 02:36,Http,"",2012-05-28,"","",100,2012-05-28 12:31,"","",640250,"",FLOW3 1.1.0 beta 1,"Setting TYPO3.FLOW3.http.baseUri to a value e.g. 'http://mywebsite.com/' really have no effect on the <base> tag and the resource links. 

This baseUri setting is really helpful when FLOW3 is running behind a nginx proxy. So that FLOW3 can be forced to render base tag and resource links with the baseUri of nginx site. 

Attached patch works very well. But not sure if it's clean approach. 

"
37554,TYPO3.Flow,Bug,"",Resolved,Should have,Http\Uri::PATTERN_MATCH_HOST has errors,Pankaj Lele,Adrian Föder,2012-06-18 11:38,Http,"",2012-05-28,"","",100,2012-05-28 14:06,"","",640450,"",FLOW3 1.1.0 beta 1,"<pre>
<?php
$ret = preg_match('/^[a-zA-Z0-9_~!&\',;=\.\-\$\(\)\*\+]|(?:%[0-9a-fA-F]{2}))*$/', 'www.example.com', $matches);
?>
</pre>

Produces error ""PHP Warning:  preg_match(): Compilation failed: unmatched parentheses at offset 54"""
37558,TYPO3.Fluid,Task,"",Resolved,Should have,Form.Textfield ViewHelper's placeholder attribute should be (re)moved,Adrian Föder,Karsten Dambekalns,2013-01-25 02:37,ViewHelpers,2.1,2012-05-29,"","",100,2012-05-29 03:44,"","",640650,"","","currently, the @placeholder@ attribute in the Textfield ViewHelper is explicitly enabled: 

<pre>code class=""php"">
	public function render($required = NULL, $type = 'text', $placeholder = NULL) {
		// [...]
		if ($placeholder !== NULL) {
			$this->tag->addAttribute('placeholder', $placeholder);
		}
</code></pre>

For consistency, this part should either be completely removed and settable via @additionalArguments@ or, alternatively, set as @registerTagAttribute()@ in @initializeArguments()@. Of course we need to handle _deprecation_ accordingly.

If you neither agree, than this should at least be reproduced in the textarea ViewHelper."
37561,TYPO3.Flow,Feature,"",Resolved,Should have,Re-implement Accept Header / Content Negotiation support,Robert Lemke,Robert Lemke,2012-05-30 14:38,Http,1.1 beta 2,2012-05-29,"","",100,2012-05-29 05:20,"","",640800,"","","The older implementation is fairly limited to a single specific media type and also uses the old MIME terminology.

An improved implementation should be

* well integrated into the new HTTP support
* consider Quality Values while analyzing the Accept header
* use the new Internet Media Type terminology
* well tested"
37564,TYPO3.Flow,Bug,"",New,Should have,Validation of Parent Object containing properties of type ManyToOne and ManyToMany to same Target,Carsten Bleicker,"",2012-05-29 05:55,Validation,"",2012-05-29,"","",0,2012-05-29 05:55,"","",640950,"",FLOW3 1.1.0 beta 1,"Lets use the person model of the TYPO3.Party package as example.

The model contains a property $primaryElectronicAddress wich is a ManyToOne to ElectronicAddress and also a property $electronicAddresses
wich is a ManyToMany also to ElectronicAddress.

In my case i build up a form to update a person. this form also conains a field for property 'primaryElectronicAddress.identifier' to update also the primaryElectronicAddress.

If i submit this form with an invalid email, the validation of primaryElectronicAddress::identifier matches and
returning errors for the electronicAddress of the ManyToOne AND the ManyToMany cases, anything is fine. If i submit this again, the validation errors
only appears for the ManyToMany ElectronicAddress. I cant figure out why this happens, but it happens.

Anyone can take a look at this?

Kind regards
Carsten"
37569,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Dead symlink in release archives,Karsten Dambekalns,Karsten Dambekalns,2012-05-30 07:08,Build Process,1.1 beta 2,2012-05-29,"","",100,2012-05-29 09:06,"","",641200,"",FLOW3 1.0.2,There is a dead symlink from @Configuration/Production@ to @../../../shared/Configuration/Production@ in the archives. That should rather be a folder.
37571,TYPO3.Flow,Bug,"",New,Must have,Inherited proxies fail when implementing __clone,Kira Backes,"",2012-06-04 06:15,AOP,"",2012-05-29,"","",0,2012-05-29 10:22,"","",641300,"",Git master,"This seems to be exclusive for PHP 5.4
Error thrown (in development mode):
Notice: Undefined property:  [...]Class::$FLOW3_AOP_Proxy_targetMethodsAndGroupedAdvices

Change

<pre>
 435                 $proxyClass->addProperty('FLOW3_Aop_Proxy_targetMethodsAndGroupedAdvices', 'array()');
 436                 $proxyClass->addProperty('FLOW3_Aop_Proxy_groupedAdviceChains', 'array()');
 437                 $proxyClass->addProperty('FLOW3_Aop_Proxy_methodIsInAdviceMode', 'array()');
</pre>

to

<pre>
		$proxyClass->addProperty('FLOW3_AOP_Proxy_targetMethodsAndGroupedAdvices', 'array()', 'protected');
		$proxyClass->addProperty('FLOW3_AOP_Proxy_groupedAdviceChains', 'array()', 'protected');
		$proxyClass->addProperty('FLOW3_AOP_Proxy_methodIsInAdviceMode', 'array()', 'protected');
</pre>

in /TYPO3/FLOW3/AOP/Builder/ProxyClassBuilder.php"
37574,TYPO3.Flow,Bug,"",Resolved,Won't have this time,ReflectionData is not regenerated automatically,Bastian Waidelich,Karsten Dambekalns,2012-08-17 05:35,Reflection,1.1 RC2,2012-07-26,"","",100,2012-05-29 11:09,"","",641450,0.00,FLOW3 1.1.0 beta 2,If the signature of an action changes in a controller or I add a @FLOW3\Inject annotation I would expect the Controllers reflection data to be recreated in Development context. But that's not the case (even if the FLOW3 package and my custom package are not frozen).
37584,TYPO3.Flow,Feature,"",Resolved,Should have,Reliable getClientIpAddress() method,Robert Lemke,Robert Lemke,2012-05-30 14:38,Http,1.1 beta 2,2012-05-29,"","",100,2012-05-29 13:28,"","",641950,"","",We need a reliable way to determine the user's IP address - even if he was passed through several proxies or if some other webserver than Apache was used.
37604,TYPO3.Flow,Feature,"",Resolved,Should have,Make Flow RestController useless by improving MVC stack,Karsten Dambekalns,Bastian Waidelich,2014-12-16 05:50,Http,"",2012-05-30,"","",100,2012-05-30 07:05,"","",642950,"","",The REST controller provided by FLOW3 should be no longer needed if the MVC stack provides the needed functionality.
37607,TYPO3.Flow,Bug,"",Resolved,Must have,PackageStates are overwritten on each request,Christopher Hlubek,Christopher Hlubek,2012-05-30 09:38,Package,"",2012-05-30,"","",100,2012-05-30 08:26,"","",643100,"",Git 1.1,"The PackageStates.php is updated on each request (did test that with empty caches) because the package directory cannot be found using the condition

<pre>
if (!file_exists($configuration['packagePath'])) {
    ...
</pre>

This results in packages not being configurable (deactivating packages is not possible)."
37608,TYPO3.Flow,Task,"",Resolved,Should have,Functional routing tests,Bastian Waidelich,Bastian Waidelich,2012-07-09 12:05,MVC - Routing,1.1,2012-05-30,"","",100,2012-05-30 08:47,"","",643150,"","",Some important routing features urgently need functional tests
37619,TYPO3.Fluid,Bug,"",New,Should have,Fatal Error when using variable in name attribute of Section ViewHelper,Sebastian Michaelsen,"",2012-05-30 17:17,ViewHelpers,"",2012-05-30,"","",0,2012-05-30 17:17,"","",643700,"",Git master,"I'm experiencing this error with TYPO3 4.6, but from looking at the code I'm pretty sure this is reproducible with FLOW3 as well.

<pre>
<f:section name=""mySection_{type}"">
</pre>

This leads to a Fatal Error:
Call to undefined method Tx_Fluid_Core_Parser_SyntaxTree_RootNode::getText() in [...]/typo3/sysext/fluid/Classes/ViewHelpers/SectionViewHelper.php on line 90

I was playing around a bit but I did not find a way to fix this."
37639,TYPO3.Flow,Feature,"",Rejected,Could have,Allow overwriting the resource base uri,Adrian Föder,Karsten Dambekalns,2012-07-11 12:27,Resource,2.0 beta 1,2012-05-31,"","",0,2012-05-31 08:45,"","",644700,"","","currently, the @resourcesBaseUri@ is assumed from the current request (@Resource\Publishing\FileSystemPublishingTarget::detectResourcesBaseUri()@).
This makes every resource URI looking like this:

<pre>
http://www.acme.com/_Resources/Persistent/cff1839e83120f9a4d711dde511ca09fbb562005.js
</pre>

It would be nice to have an additional setting like
<pre><code class=""yaml"">
TYPO3:
  FLOW3:
    resource:
      publishing:
        overruleBaseDomain: 'cdn.acme.net'
</code></pre>

Having set only this, the resource URI will look like the following:
<pre>
http://cdn.acme.net/_Resources/Persistent/cff1839e83120f9a4d711dde511ca09fbb562005.js
</pre>

In addition, @overruleBaseSubdirectory@ is possible:
<pre><code class=""yaml"">
      publishing:
        overruleBaseDomain: 'cdn.acme.net'
        overruleBaseSubdirectory: 'ResourceStorage/WebResources/'
</code></pre>

will result into
<pre>
http://cdn.acme.net/ResourceStorage/WebResources/Persistent/cff1839e83120f9a4d711dde511ca09fbb562005.js
</pre>

Setting
<pre><code class=""yaml"">
        overruleBaseSubdirectory: ''
</code>
http://cdn.acme.net/Persistent/cff1839e83120f9a4d711dde511ca09fbb562005.js
</pre>

(in order to get rid of the '_Resources' subdirectory).

I'd say that @overruleBaseSubdirectory@ is only possible/allowed to set if @overruleBaseDomain@ is set. 

Of course an _alternative_ to @overruleBaseSubdirectory@ is to introduce @baseSubdirectory@ which is per default active and set to @'_Resources'@ (this would change 
<pre><code class=""php"">
	public function initializeObject() {
		if ($this->resourcesPublishingPath === NULL) {
			// $this->resourcesPublishingPath = FLOW3_PATH_WEB . '_Resources/';
			$this->resourcesPublishingPath = FLOW3_PATH_WEB . $this->settings['resource']['publishing']['baseSubdirectory'];
		}
</code></pre>


To also have an option to get rid of the @Static/@ and @Persistent/@ subdirectories, the same configuration rules can go for these, for example:
<pre><code class=""yaml"">
      publishing:
        overruleBaseDomain: 'cdn.acme.net'
        overruleBaseSubdirectory: 'ResourceStorage/WebResources/'
        overruleStaticBaseDomain: 'static.cdn.acme.net'
        overruleStaticBaseSubdirectory: ''
        overrulePersistentBaseDomain: 'persistent.cdn.acme.net'
        overrulePersistentBaseSubdirectory: ''
</code></pre>

An important clarification: all of this *only* affects the *Web* representation, i.e. what is outputted to the frontend in order to get an HTTP URI. The storage/symlink creation location does not change in any way.
Changing these settings are intended to require a setup in the rewrite rules, for example, because the actual storage on the file system isn't affected.
"
37648,TYPO3.Flow,Bug,"",Resolved,Should have,Examples for Objects.yaml to change the class are not valid,Krzysztof Daniel,Karsten Dambekalns,2012-06-26 05:28,- Documentation -,1.1,2012-05-31,"","",100,2012-05-31 12:12,"","",645150,"",FLOW3 1.1.0 beta 3,"You can see in documentation: http://flow3.typo3.org/documentation/guide/partiii/objectmanagement.html

Example: Objects.yaml file for object replacement:

  // Change the name of the class which
  // represents the object MyCompany\MyPackage\Greeter
MyCompany\MyPackage\Greeter:
  className: TYPO3\OtherPackage\GreeterWithCompliments


If you do that you have an exception that className parameter works only with Interfaces (Flow 1.1)"
37664,TYPO3.Flow,Task,"",Resolved,Should have,Improve Property Mapping Documentation,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-06-20 14:53,- Documentation -,1.1 beta 3,2012-06-01,"","",100,2012-06-01 03:15,"","",645950,"","",""
37665,TYPO3.Flow,Task,"",Resolved,Should have,Make validator resolver public API,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-06-20 14:53,Validation,1.1 beta 3,2012-06-01,"","",100,2012-06-01 03:23,"","",646000,"","",""
37666,TYPO3.Flow,Task,"",Resolved,Should have,Document Validation API,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-06-20 14:53,- Documentation -,1.1 beta 3,2012-06-01,"","",100,2012-06-01 03:26,"","",646050,"","",""
37668,TYPO3.Flow,Task,"",Resolved,Should have,Document Session API,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-06-20 14:53,- Documentation -,1.1 beta 3,2012-06-01,"","",100,2012-06-01 04:19,"","",646150,"","",""
37669,TYPO3.Flow,Task,"",Resolved,Should have,Document Utility Functions,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-06-20 14:53,- Documentation -,1.1 beta 3,2012-06-01,"","",100,2012-06-01 04:30,"","",646200,"","",""
37671,TYPO3.Fluid,Bug,"",Resolved,Should have,ViewHelper exceptions should not be caught in testing context,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-06-12 10:37,Core,1.1 RC1,2012-06-01,"","",100,2012-06-01 04:57,"","",646300,"",Git master,""
37672,TYPO3.Flow,Task,"",Resolved,Should have,Update Security Framework documentation,Rens Admiraal,"",2012-06-13 07:38,- Documentation -,"",2012-06-01,"","",100,2012-06-01 04:59,"","",646350,"","",""
37726,TYPO3.Flow,Task,"",Resolved,Should have,Packages should not be frozen by default,Karsten Dambekalns,Karsten Dambekalns,2012-06-20 14:53,Package,1.1 beta 3,2012-06-04,"","",100,2012-06-04 06:33,"","",649000,"","","Due to the possible pitfalls with frozen packages, no packages should be frozen by default. This way a developer has to learn about frozen packages before he can be confronted with them (and their pitfalls)."
37727,TYPO3.Flow,Feature,"",Resolved,Could have,Make Package.php optional,Christian Jul Jensen,Christian Jul Jensen,2012-09-25 05:19,Package,2.0 beta 1,2012-06-04,"","",100,2012-06-04 08:17,"","",649050,"","","Currently the required Package.php file is the only thing that differentiates native from non-native psr-0 compatible components (assuming packagestate is configured correctly).

Making the file optional and using it only if present, would simplify the packagemanager so there would be no need to have special handling of non-native components."
37762,TYPO3.Flow,Task,"",Resolved,Should have,Code migration lacks info on getOriginalRequestMappingResults() replacement,Karsten Dambekalns,Karsten Dambekalns,2012-06-20 14:53,- Migrations -,1.1 beta 3,2012-06-05,"","",100,2012-06-05 08:12,"","",650750,"","","The code migration should do two more replacements:

* getInternalArgument('__submittedArgumentValidationResults') instead of getOriginalRequestMappingResults()
* getInternalArgument('__submittedArguments') instead of getOriginalRequest()->getArguments()"
37765,TYPO3.Flow,Feature,"",Resolved,Must have,"Display detailed informations within the ""Could not resolve a route"" exception why FLOW3 URI building has failed.",Martin Brüggemann,Bastian Waidelich,2012-11-21 09:14,MVC - Routing,"",2012-06-05,"","",100,2012-06-05 09:06,"","",650900,"","","If you are trying to build a link in a Fluid template that can't be resolved FLOW3 throws a complex exception that doesn't explain in detail why the exception was thrown.

<pre>
Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details. (More information)
</pre>

I know the details are logged in the System_Development.log file but beginners won't recognize this:

<pre>
WARNING   FLOW3  Router resolve(): Could not resolve a route for building an URI for the given route values.
    @action => index
    @controller => asdasdasd
    @package => example.mymodule
</pre>

FIX: The exception should directly display the problem - I even would like to see where the bad route is defined (path of the fluid template,...). 

I also think that it is a bit to restrictive to throw an exception for such a ""small"" problem. "
37770,TYPO3.Flow,Bug,"",Resolved,Must have,HTTP Request does not contain port information,Adrian Föder,Adrian Föder,2012-06-20 14:53,Http,1.1 beta 3,2012-06-05,"","",100,2012-06-05 11:20,"","",651150,"",Git master,Port information is not regarded when creating a new Request form ::create factory method
37784,TYPO3.Flow,Task,"",Rejected,Could have,Evaluate whether using substr_compare() instead substr()===,Adrian Föder,Karsten Dambekalns,2013-01-22 09:21,"","",2012-06-06,"","",0,2012-06-06 04:37,"","",651850,"","","consider using http://php.net/manual/function.substr-compare.php globally as preference over substr()

As a side note I'd still suggest introducing a Utilities method for comparing the beginning sequence, in order to avoid the pretty complicated and unintuitive handling of the substr_compare return values."
37813,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Upgrade to vfsstream 1.0,Christian Jul Jensen,Karsten Dambekalns,2012-09-24 06:35,- Testing -,2.0 beta 1,2012-06-07,"","",100,2012-06-07 08:03,"","",653250,"","","starting with v1.0.0 vfsstream has changed namespace and Compsoser is recommended install method.

We should upgrade tests to use the stable version.

Relevant for TYPO3.FLOW3 project as well"
37815,TYPO3.Flow,Bug,"",Closed,Must have,Object are not persisted,Soren Malling,Karsten Dambekalns,2012-06-28 04:38,Persistence,1.1,2012-06-07,"","",100,2012-06-07 09:00,"","",653350,"",FLOW3 1.1.0 beta 2,"With the following injected repository

<pre>
	/**
	 * Team repository
	 *
	 * @var \Familiefejden\Domain\Repository\TeamRepository
	 * @FLOW3\Inject
	 */
	protected $teamRepository;
</pre>

and calling the function

<pre>
		$this->teamRepository->add($newTeam);
</pre>

i expect to have my $newTeam (a valid!) object persisted, but nothing is persisted. I get forward to my next action ($this->forward(..)) with no exceptions.

Query log remains empty.

*./flow3 doctrine:update* commands works perfectly and tables are created"
37820,TYPO3.Flow,Feature,"",Resolved,Should have,Check validator options and make them self-documenting,Karsten Dambekalns,Karsten Dambekalns,2012-11-08 15:36,Validation,2.0 beta 1,2012-06-07,"","",100,2012-06-07 11:28,"","",653600,"","","Validators currently can invent any option on the fly, have to check them manually and they cannot be extracted for documentation automatically.

This should be changed."
37831,TYPO3.Flow,Task,"",New,Could have,Evaluate using PHP 5.4's internal web server for Functional Testing,Adrian Föder,"",2012-06-08 03:27,- Testing -,"",2012-06-08,"","",0,2012-06-08 03:27,"","",654150,"","","PHP 5.4 offers the option to start an instance of a simple, tiny web server with for example
<pre>
php -S localhost:8000
</pre>

Just for the record; the doc root can also be defined:

<pre>
php -S localhost:8000 -t /var/www/Web/
</pre>

Maybe an additional Request Handler can be introduced, that kicks in if the request hits against that CLI server: 

<pre><code class=""php"">
php_sapi_name() === 'cli-server'
</code></pre>

I'd like to collect some ideas how that can be used in functional tests, at least for the Http support or something.
The question is how to differenciate between what to serve and what to expect. We could establish, for example, the following

* Expect the tester person to manually start the PHP server at a specified port which is also configured in some YAML. The server's document root has to match the Web document root, like everytime
* If whatever request comes, the above mentioned RequestHandler kicks in, and...
* routes to a file, for example, that is defined by a user-defined header in the appropriate Functional Test. This target file than can return whatever the actual function test expects

This is only some vague ideas in order to get started; I also could imagine that the real FLOW3 behavior is intended to get tested, for example 404 err handling or routing.

"
37846,TYPO3.Flow,Feature,"",New,Should have,Should be able to declare more than one controllerObjectName per requestPatterns,Fernando Arconada,"",2012-06-11 05:10,Security,"",2012-06-08,"","",0,2012-06-08 11:30,"","",654900,"","","For example If you want to enable DefaultProvider in every controller but the ApiController and TokenEndpoint
requestPatterns:<pre>
  -
    controllerObjectName: '(?!My\Package\ApiController)'
  -
    controllerObjectName: '.*'
  -
    controllerObjectName: '(?!My\Package\TokenEndpoint)'</pre>

ApiController it's authenticated with other provider, for example an OAuth2AccessTokenProvider
the OAuth2 TokenEndpoind have to be authenticated following the OAuth2 draft and not the common way defined for the rest of your app"
37854,TYPO3.Flow,Feature,"",Resolved,Must have,Refactor ConfigurationManager to Support Custom Configuration Files,Marc Neuhaus,Marc Neuhaus,2013-04-12 08:39,Configuration,2.1,2012-06-08,"","",100,2012-06-08 17:23,"","",655300,"","","The ConfigurationManager should be capable to handle custom Configuration Files for cases like

ContentObjects.yaml for the TYPO3.TYPO3CR Package
Assets.yaml for the TYPO3.Asset Package"
37879,TYPO3.Flow,Feature,"",Resolved,Should have,Add some Signals for the Debug.Toolbar,Marc Neuhaus,"",2012-08-10 10:35,"","",2012-06-11,"","",100,2012-06-11 03:44,"","",656550,"","","- add an Signal to AbstractAdvice on Advice invokation
- add an Signal to ActionRequest when it's dispatched
- add getSignals to the SignalSlot\Dispatcher to get all configured Signals with it's slots"
37885,TYPO3.Flow,Feature,"",New,Could have,Add CLI to show the object-configuration for a FLOW3 object-name,Martin Ficzel,Martin Ficzel,2013-05-21 07:28,Cli,"",2012-06-11,"","",0,2012-06-11 04:52,"","",656850,"","","I suggest to add a cli command to show all informations the object manager has. The main purpose of this tool is to help developers understand what is really going on and to verify that Autowiring, AOP and SecurityRules are working as intended.

Questions the cli should answer:

* informations about packages

   * which classes are known
   * which aspects are found
* informations about flow3 object-names

   * which scope has this object 
   * autowiring
     
     * is autowiring on
     * which properties are injected
     * which injection methods are called
     * which objects would be injected 
   * which class would be really instanciated from the object manager
   * which AOP-JoinPoints match for this class
   * which Security Rules are applied for this class
"
37895,TYPO3.Flow,Bug,"",Closed,Could have,Packagemanager::ImportPackage doesn't use package specific Package class,Christian Jul Jensen,"",2013-01-21 11:12,"",2.0,2012-06-11,"","",0,2012-06-11 06:36,"","",657350,"",FLOW3 1.1.0 beta 2,"The importPackage initiates the standard Package class and not the Package specific one.

I'm not sure if there could be a reason for this. Also it might not be an issue, since it would be loaded correctly on the next run.

Slightly related: I came across this while looking in to composer support, and that would have to make the package specific Package.php optional anyway."
37903,TYPO3.Flow,Bug,"",Resolved,Must have,Uri respects query and fragment party only when path is present,Adrian Föder,Adrian Föder,2012-06-20 14:53,Http,1.1 beta 3,2012-06-11,"","",100,2012-06-11 09:56,"","",657750,"",Git 1.1,"With the current implementation, the query and fragment parts are only added to Uri's string representation if the path is set.
This means concretely, if
<pre>
http://www.example.org?q=foo
</pre>
is set, the query is omitted because the path is empty / not set.

As of http://tools.ietf.org/html/rfc3986#section-3 and http://tools.ietf.org/html/rfc3986#section-5.3, for example, the query and fragment may be present without the path part."
37966,TYPO3.Flow,Bug,"",Resolved,Should have,Unused configuration option detectPackages in Development settings,Karsten Dambekalns,Karsten Dambekalns,2012-06-20 14:53,Configuration,1.1 beta 3,2012-06-12,"","",100,2012-06-12 12:19,"","",660900,"",Git 1.2 (master),.
37993,TYPO3.Flow,Bug,"",Resolved,Should have,"PhpSession settings should be named PhpSession, not PHPSession",Karsten Dambekalns,Karsten Dambekalns,2012-06-20 14:53,Session,1.1 beta 3,2012-06-13,"","",100,2012-06-13 05:34,"","",662250,"",Git 1.0,"The settings for the PhpSession are under the key PHPSession, which breaks consistency."
37995,TYPO3.Flow,Bug,"",Resolved,Must have,Exceptions in CommandController environment are not logged,Adrian Föder,Adrian Föder,2012-06-20 14:53,Cli,1.1 beta 3,2012-06-13,"","",100,2012-06-13 05:40,"","",662350,"",Git 1.2 (master),"If an exception occurs during a CommandController invokation, the exception isn't logged like users are used to (in Logs/Exeptions/{referencecode}.txt).
That's because the CommandRequestHandler trys/catches/handles any occuring exception on its own and not via the exception handler framework.
"
37997,TYPO3.Flow,Bug,"",Resolved,Should have,Recursion detection in instantiateClass is broken,Karsten Dambekalns,Karsten Dambekalns,2012-06-20 14:53,Object,1.1 beta 3,2012-06-13,"","",100,2012-06-13 06:01,"","",662450,"",Git 1.0,"The recursion detection in @instantiateClass@ of the @ObjectManager@ is broken - if the speed-optimized path is used, the requested class is not removed from the list of classes being instantiated. "
38002,TYPO3.Flow,Task,"",Resolved,Should have,Refactor ExceptionHandler consructors to common use,Adrian Föder,Adrian Föder,2012-06-20 14:53,Error,1.1 beta 3,2012-06-13,"","",100,2012-06-13 07:20,"","",662700,"","","The implementors extending Error\AbstractExceptionHandler currently all implement their own __construct method which are all equal.
Move these all same constructors to the AbstractExceptionHandler itself."
38004,TYPO3.Flow,Bug,Task #27561: Complete documentation,Accepted,Should have,Missing CheatSheet folder for Getting Started manual,Francois Suter,Karsten Dambekalns,2014-11-07 04:58,- Documentation -,1.1.1,2012-06-13,"","",0,2012-06-13 08:23,"","",662800,"",FLOW3 1.1.0 beta 2,"Part II of the documentation is the Getting Started tutorial. The following file:

Documentation/TheDefinitiveGuide/PartII/ModelAndRepository.rst

mentions (in the first tip block) a CheatSheet folder which is supposed to contain the resulting code. This is missing. It would be very helpful to have it. It's possible to take bits from the Blog package, but it makes the tutorial far less friendly. It generally leads to having errors and exceptions and can lead to quite some frustration while going through trial and error to get the examples running."
38016,TYPO3.Flow,Bug,"",Resolved,Should have,Discourage people to expose anything but the Web folder,Karsten Dambekalns,Karsten Dambekalns,2012-06-20 14:53,- Documentation -,1.1 beta 3,2012-06-13,"","",100,2012-06-13 12:22,"","",663400,"",(any),The quickstart only casually mentions the recommended setup of making @Web@ the document root of the web server. This should be changed so that it becomes clear why this is a bad idea.
38037,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Must have,Update FLOW3 manual,Karsten Dambekalns,"",2012-07-13 06:40,- Documentation -,1.1,2012-06-14,"","",100,2012-06-14 08:24,"","",664450,"","",""
38038,TYPO3.Flow,Task,Task #27561: Complete documentation,Accepted,Should have,Proofread FLOW3 manual,Karsten Dambekalns,Ryan J. Peterson,2012-08-17 05:16,- Documentation -,"",2012-06-14,"","",0,2012-06-14 08:25,"","",664500,"","",""
38065,TYPO3.Flow,Feature,"",New,Must have,Implement content security for DQL queries,Karsten Dambekalns,Andreas Förthner,2013-05-21 07:28,Security,"",2012-06-15,"","",0,2012-06-15 04:26,"","",665850,"","",""
38130,TYPO3.Fluid,Feature,"",New,Should have,Checkboxes and multiple select fields should have an assignable default value,Jost Baron,"",2012-06-17 03:54,"","",2012-06-17,"","",0,2012-06-17 03:54,"","",669100,"","","Currently, when a checkbox is left unchecked, an empty string is submitted for its value. But sometimes I'd like to define that value myself, or don't want to get anything at all.

If this is accepted, I'd volunteer to implement it myself."
38147,TYPO3.Fluid,Feature,"",Closed,Should have,Suggested addition to SelectViewHelper - allowing prepend/append of child content to rendered option tag list ,Claus Due,Claus Due,2012-12-10 07:16,ViewHelpers,2.0 beta 1,2011-05-03,"","",0,2012-06-18 05:42,"","",669950,"","","This is a simple but functional and useful addition to the SelectViewHelper. It adds two new boolean attributes: prependContent and appendContent. Setting one of these to TRUE (with preference for prependContent if both are TRUE) makes the ViewHelper either append of prepend the innerHTML.

It also removes the REQUIRED annotation from the $options tag - explanation of why this is good follows.

<pre>
<f:form.select prependContent=""TRUE"">
    <option value=""-1"">I am the first value</option>
</f:form.select>
// outputs...
<select ...>
    <option value=""-1"">I am the first value</option>
    <option...> // all further options
</select>
</pre>

Of course appendContent=TRUE places the first option below the others, not above.

Set to ""should have"" (but maybe should be ""must have"") because the select ViewHelper sorely lacks customization options (such as prefix to labels, special classes for special options etc) and this method allows 100% control over how options are rendered by simply leaving out the ""options"" argument and manually rendering the content of the select tag. Without this patch the only method of doing this is through Javascript which is complete overkill.

The logic should be solid enough to advocate the change of the options argument. It should make -complete- sense to the developer that, if options are left out, they either need to be supplied as an argument as per the Fluid standard - or defined as the content of the tag as per the HTML standard.

Patch performed on 4.5.2 sysext fluid source."
38154,TYPO3.Flow,Bug,"",Resolved,Should have,Validator shorthand notation does not work as documented,Karsten Dambekalns,Sebastian Kurfuerst,2012-06-20 14:53,Validation,1.1 beta 3,2012-06-18,"","",100,2012-06-18 10:31,"","",670300,"",Git 1.1,"According to http://flow3.typo3.org/documentation/guide/partiii/validation.html#creating-validator-instances-the-validatorresolver it is possible to use @Your.Package:Foo@ as validator type. This does not work, only @Your\Package:Foo@ works."
38172,TYPO3.Flow,Bug,"",Resolved,Should have,Routing cache only works for one request,Bastian Waidelich,Bastian Waidelich,2012-06-20 14:53,MVC - Routing,1.1 beta 3,2012-06-19,"","",100,2012-06-19 09:19,"","",671200,"",Git 1.1,"Currently the routing uses a @TransientMemory@ Cache Backend by default. Besides, objects in the routing values are converted to hashes using @spl_object_has()@ - which generates a new hash every request.

Instead a more persistent cache backend should be used and objects should be converted to their identifiers using the @PersistenceManager@.
*Note:* The cache needs to be flushed when ever a @Routes.yaml@ file has been changed an for functional tests"
38177,TYPO3.Flow,Feature,"",Rejected,Could have,Signal/Slot adapter for persistence events,Adrian Föder,Adrian Föder,2013-08-14 09:56,Persistence,"",2012-06-19,"","",0,2012-06-19 11:38,"","",671450,"","","Doctrine offers the so-called ""lifecycle"" events that are emitted on various stages in the life of an entity. I'd suggest to provide an Interface/Implementation pair for FLOW3 that translates these events to FLOW3 signals.
At the first draft, the implementation would of course handle Doctrine events.

My question to start with is, what ""events"" should that cover, initially? As a reminder; Doctrine offers

* preRemove
* postRemove
* prePersist
* postPersist
* preUpdate
* postUpdate
* postLoad
* loadClassMetadata
* preFlush
* onFlush
* postFlush
* onClear

Do we need to cover all these events? We should regard that not all backends offer exact equivalents, so we should agree to some common denominator."
38184,TYPO3.Flow,Bug,"",Resolved,Must have,PersistenceManager chokes on empty uploads,Bastian Waidelich,Bastian Waidelich,2012-06-21 04:38,Property,1.1,2012-06-19,"","",100,2012-06-19 16:33,"","",671800,"",Git 1.2 (master),"Given following setup:
<pre>
Domain/Model/SomeObject.php
<code class=""php"">
/**
 * @FLOW3\Entity
 */
class SomeObject {

	/**
	 * @var \Doctrine\Common\Collections\ArrayCollection<\TYPO3\FLOW3\Resource\Resource>
	 * @ORM\ManyToMany
	 */
	protected $resources;

	// ...

}
</code>
</pre>
<pre>
Template.html
<code class=""xml"">
<f:form method=""post"" action=""create"" object=""{newObject}"" objectName=""newObject"" enctype=""multipart/form-data"">
	<f:form.upload property=""resources.0"" />
	<f:form.upload property=""resources.1"" />
	<f:form.submit value=""Create""/>
</f:form>
</code>
</pre>

If you submit the form, following exception is thrown:
<pre>
#1337934455: Could not add object of type ""MyPackage\Domain\Model\SomeObject"" (in PersistenceManager:264)
Warning: spl_object_hash() expects parameter 1 to be object, null given in Packages/Framework/Doctrine.ORM/Classes/UnitOfWork.php line 1509
</pre>

A similar problem occurs when adding an intermediate object like ""File"" as OneToMany relation which contains a relation to one resource:

<pre>
Domain/Model/SomeObject.php
<code class=""php"">
/**
 * @FLOW3\Entity
 */
class SomeObject {

	/**
	 * @var \Doctrine\Common\Collections\ArrayCollection<\TYPO3\FLOW3\Resource\Resource>
	 * @ORM\OneToMany(mappedBy=""someObject"",cascade={""all""})
	 */
	protected $files;

	// ...

}
</code>
</pre>
<pre>
Template.html
<code class=""xml"">
<f:form method=""post"" action=""create"" object=""{newObject}"" objectName=""newObject"" enctype=""multipart/form-data"">
	<f:form.upload property=""files.0.originalResource"" />
	<f:form.upload property=""files.1.originalResource"" />
	<f:form.submit value=""Create""/>
</f:form>
</code>
</pre>

In that case the exception is thrown while property mapping already:

<pre>
#1297759968: Exception while property mapping for target type ""MyPackage\Domain\Model\SomeObject"", at property path ""files.0"": Catchable Fatal Error: Argument 1 passed to MyPackage\Domain\Model\File::setOriginalResource() must be an instance of TYPO3\FLOW3\Resource\Resource, null given, called in Packages/Framework/TYPO3.FLOW3/Classes/Reflection\ObjectAccess.php on line 182
</pre>


So, I'm not sure if that's a problem of the property mapper or the persistence actually. But this was not present before and is a blocker IMO"
38216,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Static method calls in reflected classes refer to _Original class,Christian Jul Jensen,"",2012-12-13 06:35,"","",2012-06-20,"","",0,2012-06-20 07:05,"","",673400,"",Git master,"Static method calls in reflected classes refers to the original class rather than the proxy. This gives issues in cases where ""self"" is used. fx. in Singleton style create methods."
38221,TYPO3.Flow,Task,"",Resolved,Should have,Add information about the context being cleared using the flow3:cache:flush command,Aske Ertmann,Aske Ertmann,2012-06-21 05:37,Command,1.1 RC1,2012-06-20,"","",100,2012-06-20 08:11,"","",673650,"","","At the moment using the cache clearing commands, it's not really visible what is being cleared. Since the cache clearing only clears for the current cli context when using the command, we should add which context has been cleared to the output."
38222,TYPO3.Flow,Feature,"",New,Could have,Step execution signals with concrete name,Adrian Föder,"",2013-02-21 10:39,Core,"",2012-06-20,"","",0,2012-06-20 08:26,"","",673700,"","","currently, Core\Booting\Sequence::invokeStep() looks
<pre><code class=""php"">
$bootstrap->getSignalSlotDispatcher()->dispatch(__CLASS__, 'beforeInvokeStep', array($step));
$identifier = $step->getIdentifier();
$step($bootstrap);
$bootstrap->getSignalSlotDispatcher()->dispatch(__CLASS__, 'afterInvokeStep', array($step));
</code></pre>
This requires listening to a specific step invocation to look like this (taken from an example):

<pre><code class=""php"">
$dispatcher->connect('TYPO3\FLOW3\Core\Booting\Sequence', 'afterInvokeStep', function(\TYPO3\FLOW3\Core\Booting\Step $step) use ($bootstrap) {
	if ($step->getIdentifier() === 'typo3.flow3:objectmanagement:compiletime:create') {
		$bootstrap->getObjectManager()->get('....');
	}
});
</code></pre>

Due to the fact that, I claim, invoke-step-listening surely always intends to affect a specific step, I suggest to involve additional ""magic"" signals that take their name from the step identifier, resulting in, for example,

<pre><code class=""php"">
$dispatcher->connect('TYPO3\FLOW3\Core\Booting\Sequence', 'afterInvokeStepTypo3Flow3ObjectmanagementCompiletimeCreate', function(\TYPO3\FLOW3\Core\Booting\Step $step) use ($bootstrap) {
	$bootstrap->getObjectManager()->get('....');
});
</code></pre>

"
38369,TYPO3.Fluid,Bug,"",New,Must have,Resource ViewHelpers should not fall back to request package,Bastian Waidelich,"",2012-06-25 09:55,View,"",2012-06-25,"","",0,2012-06-25 09:47,"","",681050,"",Git 1.1,"Currently the @f:uri.resource@ ViewHelper uses the package key of the current request to determine the absolute resource path, if no package is specified.

The resource interceptor that replaces links to assets by the resource viewhelper, so:
<pre>
<code class=""xml"">
<link rel=""stylesheet"" href=""../../../Public/Stylesheets/SomeFile.css"" media=""all"" />
</code>
</pre>
is (internally) converted into
<pre>
<code class=""xml"">
<link rel=""stylesheet"" href=""{f:uri.resource(resource: 'Stylesheets/SomeFile.css')}"" media=""all"" />
</code>
</pre>

So the resource ViewHelper uses the *current* package key to resolve the path to: @Current/Package/Resources/Public/Stylesheets/SomeFile.css@.
While this mostly works for FLOW3, in Phoenix the current package is usually *TYPO3.TYPO3* and resources are located in some site package.

Therefore the TypoScript Fluid renderer sets the requests package key from the Fluid template path:
<pre>
<code class=""php"">
if (strpos($templatePath, 'resource://') === 0) {
	$tmp = substr($templatePath, 11);
	$tmp2 = explode('/', $tmp);

	$fluidTemplate->getRequest()->setControllerPackageKey(array_shift(($tmp2)));
}
</code>
</pre>

This has the side effect, that all links in the Fluid template now point to the site package instead of the FrontendNode controller of the TYPO3 package!


I didn't set the category to ViewHelpers because IMO this should be fixed in the view: We probably need something like @resourcesPackage@ or similar that should be used by the resource ViewHelper instead of the requests package key."
38379,TYPO3.Eel,Feature,"",New,Should have,Implement a Eel-ViewHelper,Tobias Liebig,"",2013-04-08 05:03,"","",2012-06-25,"","",0,2012-06-25 13:06,"","",681550,"","","To make Eel available in Fluid-Templates, Eel (or Fluid) should provide an simple ViewHelper.
It should accept an eel expression argument (string, might already be parsed/rendered by fluid), passes that to Eel and return the result. The Fluid TemplateVariableContainer should be passed as the Eel ""Context"" to access the Fluid variable values within Eel.
"
38381,TYPO3.Flow,Bug,"",Resolved,Should have,Doctrine Repository | findAll()-method does not consider $this->defaultOrderings,Vaclav Janoch,Karsten Dambekalns,2012-07-18 06:50,Persistence,1.1 RC2,2012-06-25,"","",100,2012-06-25 14:10,"","",681650,"",FLOW3 1.0.0,"The findAll()-method of TYPO3\FLOW3\Persistence\Doctrine\Repository does not consider $this->defaultOrderings. A simple patch could be the following:

File: @TYPO3/FLOW3/Persistence/Doctrine/Repository.php@
<pre>
/**
 * Finds all entities in the repository.
 *
 * @return array The entities.
 */
public function findAll() {
	return $this->findBy(array(), $this->defaultOrderings);
}
</pre>

There might by also another way to set the default orderings.

As #35035 describes that findAll() is inconsitent regarding to the return value, this is also kind of inconsistent, because the TYPO3\FLOW3\Persistence\Repository->findAll()-method does consider the default orderings."
38382,TYPO3.Flow,Bug,"",Resolved,Could have,f:uri.resource do not have parameter of title,Krzysztof Daniel,Karsten Dambekalns,2012-07-13 07:35,- Documentation -,1.1,2012-06-25,"","",100,2012-06-25 16:52,"","",681700,"",FLOW3 1.1.0 beta 3,"http://flow3.typo3.org/documentation/guide/partiii/resourcemanagement.html gives an example:

{f:uri.resource(resource: image.originalResource, title: image.title)}

This seems not to be implemented as this helper do not have parameter of title.

Either helper or documentation shall be corrected. "
38404,TYPO3.Flow,Bug,"",Resolved,Should have,IdentityRoutePart should accept __identity array,Bastian Waidelich,Bastian Waidelich,2012-06-26 11:35,MVC - Routing,1.1 RC1,2012-06-26,"","",100,2012-06-26 09:34,"","",682800,"",Git 1.1,"Since #37403 IdentityRoutePart::matchValue() returns an identity array in the format @array('__identity' => '<Identifier>')@.
This format should also be accepted for IdentityRoutePart::resolveValue().
This is required for widgets that fetch the arguments from the current request and pass it to the UriBuilder."
38419,TYPO3.Flow,Feature,"",Resolved,Could have,Show time until lock expiry on CLI,Karsten Dambekalns,Karsten Dambekalns,2012-08-14 04:37,Cli,2.0 beta 1,2012-06-27,"","",100,2012-06-27 04:44,"","",683550,"","",Sometimes it would be helpful to see how long the lock expiry will take if working on the CLI.
38424,TYPO3.Flow,Feature,"",Resolved,Could have,Give Booting\Sequence an identifier (e.g. for logging),Karsten Dambekalns,Karsten Dambekalns,2012-09-10 07:35,Core,2.0 beta 1,2012-06-27,"","",100,2012-06-27 05:50,"","",683800,"","","The @Sequence@ does not have an identifier, it is hard to distinguish between sequences when requests are interleaved."
38435,TYPO3.Flow,Bug,"",Resolved,Must have,Reset the router for each functional test,Bastian Waidelich,Bastian Waidelich,2012-07-06 08:49,- Testing -,1.1,2012-06-27,"","",100,2012-06-27 10:10,"","",684350,"",Git 1.2 (master),"Currently all functional tests share the same instance of @\TYPO3\FLOW3\Mvc\Routing\Router@ because the InternalRequestEngine is of scope *singleton*.
This leads to unexpected results and failing tests if tests add custom routes.

The router instance should be reset for each test case."
38442,TYPO3.Flow,Bug,"",Resolved,Must have,Fatal error when performing a core:migrate,Peter Beernink,Christian Müller,2012-06-28 05:05,Core,1.1,2012-06-27,"","",100,2012-06-27 16:32,"","",684700,"",FLOW3 1.1.0 rc 1,"When performing a core migrate using 1.1rc1 a fatal error is given:
PHP Fatal error:  Class 'TYPO3\FLOW3\Core\Migrations\Version201206271128' not found in /......./Packages/Framework/TYPO3.FLOW3/Scripts/Migrations/Manager.php on line 179

It turns out that Packages/Framework/TYPO3.FLOW3/Migrations/Code/Version201206271128.php contains a different classname.
Changing the classname solves the issue and migration will succeed."
38459,TYPO3.Eel,Bug,"",New,Must have,Accessing a not present property/method should error verbosely,Adrian Föder,Sebastian Kurfuerst,2012-08-07 11:06,"","",2012-06-28,"","",0,2012-06-28 09:19,"","",685550,"","","in my case, I erroneously wrote
<pre>
page.body.title = ${context.attr('title')}
</pre>

which resulted in 
<pre><code class=""html"">
<!-- Exception while rendering page&lt;TYPO3.TYPO3:Page&gt;/body :
Catchable Fatal Error: Object of class TYPO3\Eel\FlowQuery\FlowQuery
could not be converted to string in /var/www/Data/Temporary/Development?
/Cache/Code/Fluid_TemplateCache/Standalone_template_file_Site_5d5f8dc75?
b9c07fb770fba32529975b68fe55c41.php line 1193 -->
</code>
</pre>

Christian perfectly summarized it to
> yep, so the parser correctly detects the FlowQuery and creates the FlowQuery object but it seems it isn't evaluated

He also provided the reason: there is no `attr`, it must be `property`.
So please provide a better exception catch for such cases. I filed this as _Bug_ because I think it's pretty important for users."
38476,TYPO3.Flow,Bug,"",Closed,Should have,RoutePart doesn't work with 'complex' uriPattern objects,Pascal Walter,Bastian Waidelich,2013-08-06 11:03,MVC - Routing,"",2012-06-29,"","",0,2012-06-29 05:36,"","",686400,"",Git master,"I tried to use the RoutePart for a 'complex' object.

*Routes.yaml:*
<pre>
-
  name: 'Single Plausibility Version Actions'
  uriPattern:    'versionplausibility/{@action}/{version}'
  defaults:
    '@package':    'ITC.Collab'
    '@controller': 'VersionPlausibility'
    '@action':     'show'
  routeParts:
    version:
      objectType: 'ITC\Collab\Domain\Model\VersionPlausibility'
      uriPattern: '{version.fork.item.name}/{version.fork.creatorDomain.name}/{version.number}'
</pre>

Resulting URL:
""http://localhost/versionplausibility/show///-1""

I removed the uriPattern and added a @FLOW3\Identity to a date property of the version class. That did work and routed well! (http://localhost/versionplausibility/show/2012-06-03) So i guess the uriPattern objects aren't correctly resolved

All references to other classes are set and work very well.
"
38547,TYPO3.Flow,Bug,"",Resolved,Should have,BaseUri contains default HTTPS port,Bastian Waidelich,Bastian Waidelich,2012-07-11 05:35,Http,"",2012-07-02,"","",100,2012-07-02 06:40,"","",689850,"",Git 1.1,"By resolving #37770 now the BaseUri (thus the base tag when using @<f:base />@) contains the HTTP port if it's not 80.
It should also be omitted for 443 (HTTPS)"
38561,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Create `Reflection` manual page,Adrian Föder,Adrian Föder,2012-07-13 04:35,- Documentation -,"",2012-07-02,"","",100,2012-07-02 12:12,"","",690500,"","","well, create Reflection manual page."
38582,TYPO3.Eel,Bug,"",Resolved,Must have,Eel Unit test fails on 32-bit system number is out of 32-bit range,Sebastiaan van Parijs,"",2012-07-03 15:35,"","",2012-07-03,"","",100,2012-07-03 07:43,"","",691550,"","","Unittest failure message: 
TYPO3\Eel\Tests\Unit\InterpretedEvaluatorTest::integerLiteralsCanBeParsed with data set #2 ('237498237473284', , 2.3749823747328E+14)
Failed asserting that 2147483647 is identical to 2.3749823747328E+14.

When change the number on line #35: to a number within the 32-bit range, the test does not fail.


"
38592,TYPO3.Fluid,Bug,"",Resolved,Must have,attributes with dashes lead to wrong exception message,Adrian Föder,Karsten Dambekalns,2012-07-18 04:46,ViewHelpers,1.1 RC2,2012-07-03,"","",100,2012-07-03 11:47,"","",692050,"",(any),"consider the following Fluid tag

<pre><code class=""html"">
<f:if condition=""1"" data-bar=""foo"">something</f:if>
</code></pre>

leads to the exception <pre>#1224485838: You closed a templating tag which you never opened!</pre>

Removing the @data-bar@ attribute also makes the exception disappear."
38622,TYPO3.Flow,Task,"",Resolved,Should have,Use Inject annotation instead of tag in Object\ConfigurationBuilder,Karsten Dambekalns,Karsten Dambekalns,2012-08-14 04:35,Object,2.0 beta 1,2012-07-04,"","",100,2012-07-04 03:28,"","",693500,"","","The ConfigurationBuilder still uses getPropertyNamesByTag().
"
38625,TYPO3.Flow,Bug,"",Resolved,Should have,Dumped exception traces have all arguments doubled in plaintext,Karsten Dambekalns,Karsten Dambekalns,2012-07-30 03:35,Error,1.1,2012-07-04,"","",100,2012-07-04 03:36,"","",693650,"",FLOW3 1.1.0 rc 1,"When an exception is dumped to Data/Logs/Exceptions/?txt all arguments are doubled, once with parenthesis around them, once without:<pre>
7 TYPO3\FLOW3\SignalSlot\Dispatcher::dispatch((TYPO3\FLOW3\Core\Bootstrap)TYPO3\FLOW3\Core\Bootstrap, (bootstrapShuttingDown)bootstrapShuttingDown, array)
</pre>"
38627,TYPO3.Flow,Feature,"",Rejected,Could have,Reflect which classes have properties with an annotation,Adrian Föder,Adrian Föder,2012-12-05 06:07,Reflection,"",2012-07-04,"","",0,2012-07-04 04:50,"","",693750,"","",Augment the reflection information with data about which classes have properties annotated by a specific annotation.
38646,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Create TypeConverter reference,Karsten Dambekalns,Karsten Dambekalns,2012-07-13 06:39,- Documentation -,1.1,2012-07-04,"","",100,2012-07-04 09:20,"","",694700,"","",.
38662,TYPO3.Flow,Bug,"",Closed,Must have,Media type not supported should throw 415 rather than 406,Adrian Föder,Adrian Föder,2012-07-05 08:35,MVC,1.1,2012-07-05,"","",0,2012-07-05 03:52,"","",695500,"",FLOW3 1.1.0 rc 1,"In the AbstractController there's a check for supported media types. If this does not match, currently a 406 is thrown but should be 415."
38667,TYPO3.Flow,Bug,"",Resolved,Must have,Use of Target in Annotations is wrong,Karsten Dambekalns,Karsten Dambekalns,2012-07-12 09:35,Annotations,1.1,2012-07-05,"","",100,2012-07-05 05:14,"","",695750,"",Git 1.1,"The way the @Target@ annotation is used in our annotation classes is wrong, the checks are never done.

The annotation must be used without namespace aliasing to work."
38669,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Create annotation reference,Karsten Dambekalns,Karsten Dambekalns,2012-07-18 04:45,- Documentation -,1.1 RC2,2012-07-05,"","",100,2012-07-05 05:18,"","",695850,"","",""
38680,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Document configuration validation,Karsten Dambekalns,Karsten Dambekalns,2012-07-16 06:35,- Documentation -,1.1,2012-07-05,"","",100,2012-07-05 09:22,"","",696350,"","",""
38713,TYPO3.Flow,Bug,"",Resolved,Should have,MemcachedBackendTest don't use TYPO3\FLOW3\Core\ApplicationContext,Dominique Feyer,Dominique Feyer,2012-07-09 05:36,- Testing -,1.1,2012-07-06,"","",100,2012-07-06 08:48,"","",698000,"",FLOW3 1.1.0 rc 1,"A different place the phpunit test don't initialize correctly MemcachedBackend class:

<pre>
$thatBackend = new \TYPO3\FLOW3\Cache\Backend\MemcachedBackend('Testing', $backendOptions);
</pre>

Must be changed to 

<pre>
$thatBackend = new \TYPO3\FLOW3\Cache\Backend\MemcachedBackend(new ApplicationContext('Testing'), $backendOptions);
</pre>"
38785,TYPO3.Flow,Feature,"",Resolved,Should have,The generic persistence should support the tearDown Method for resetting the database,Christopher Hlubek,Christopher Hlubek,2012-07-12 06:35,Persistence,1.1,2012-07-09,"","",100,2012-07-09 10:19,"","",701450,"","",The @PersistenceManager@ implementation from the generic persistence did not yet implement a @tearDown@ method to reset the storage. This is needed to benefit from the automatic reset of the test database in functional tests.
38787,TYPO3.Flow,Feature,"",Closed,Should have,"Provide an ""instanceof""-like method for string class names",Adrian Föder,Adrian Föder,2012-12-10 07:12,Reflection,2.0 beta 1,2012-07-09,"","",0,2012-07-09 10:48,"","",701550,"","","currently there is no method in PHP to do instanceof-like operations on class _names_, i.e. strings.
The reflection service would be a good place for this helper method."
38840,TYPO3.Flow,Bug,"",Resolved,Should have,RepositoryInterface slightly out of sync with code,Karsten Dambekalns,Karsten Dambekalns,2012-07-18 10:48,Persistence,1.1 RC2,2012-07-10,"","",100,2012-07-10 05:29,"","",704200,"",FLOW3 1.1.0 rc 1,The documented return value of @findAll()@ was wrong and the interface should/could have @__call@ declared.
38841,TYPO3.Flow,Bug,"",Resolved,Should have,Magic findBy methods in Doctrine\Repository do not return QueryResult,Karsten Dambekalns,Karsten Dambekalns,2012-07-18 10:49,Persistence,1.1 RC2,2012-07-10,"","",100,2012-07-10 05:48,"","",704250,"",(any),""
38859,TYPO3.Flow,Feature,"",Resolved,Should have,Allow to flush Production configuration cache in code.,Karsten Dambekalns,Karsten Dambekalns,2012-07-17 03:36,Configuration,2.0 beta 1,2012-07-10,"","",100,2012-07-10 09:35,"","",705050,"","",If writing configuration in Production context (use case: TYPO3.Setup) the cached configuration needs to be removed so changes can be picked up.
38871,TYPO3.Fluid,Bug,"",Closed,Should have,Generating links within script tags gives invalid documents,Jost Baron,"",2013-02-01 10:11,ViewHelpers,"",2012-07-11,"","",0,2012-07-11 07:40,"","",705650,"",(any),"When generating a link in a fluid template, which is enclosed by script-Tags to a given format, the ampersands are not escaped.

So
<script type=""text/javascript"">
    var link = '{f:uri.action(action: 'someAction')}';
</script>
generates a link like this:

index.php?id=123&tx_ext_pi1[controller]=SomeController&tx_ext_pi1[action]=someAction&cHash=foobar

This is invalid XHTML (even inside a script, according to the W3C-Validator), as the ampersands are literals. The same thing works fine outside of script tags."
38873,TYPO3.Fluid,Bug,"",Resolved,Should have,Remove eval from StandaloneViewTest,Christian Müller,Christian Müller,2012-07-12 06:35,"","",2012-07-11,"","",100,2012-07-11 07:55,"","",705750,"",Git 1.2 (master),StandaloneViewTest uses eval to create a class that inherits from StandaloneView to override some things. This doesn't work properly with proxy classes and is evil anyway!
38875,TYPO3 Flow Base Distribution,Suggestion,"",New,Should have,Have a Translator object available in action controllers,Francois Suter,"",2012-07-11 09:00,"","",2012-07-11,"","",0,2012-07-11 09:00,"","",705850,"","","One could expect most action controllers to need to issue messages. As these should ideally be localizable, it might be convenient to provide a Translator instance by default to action controllers."
38884,TYPO3.Flow,Bug,"",Resolved,Should have,"Wrong indentation in ""Contribute to FLOW3""",Karsten Dambekalns,Karsten Dambekalns,2012-07-12 09:35,- Documentation -,1.1,2012-07-11,"","",100,2012-07-11 12:10,"","",706300,"",(any),""
38944,TYPO3.Flow,Task,Task #27561: Complete documentation,Resolved,Should have,Write chapter about command line interface,Robert Lemke,Robert Lemke,2012-08-07 11:35,- Documentation -,1.1,2012-07-13,"","",100,2012-07-13 11:24,"","",709200,"","",""
38963,TYPO3.Flow,Bug,"",Resolved,Should have,Error in validationGroups documentation,Jesper Paardekooper,Rens Admiraal,2012-07-25 05:58,- Documentation -,1.1,2012-07-15,"","",100,2012-07-15 06:42,"","",710150,"",FLOW3 1.1.0 rc 1,"Using FLOW3 1.1.0 rc1

The validationGroups documention is not right. Couple of issues:
- Single quotes are not working for me
- ""name"" must be ""type""
- The syntax of the validationGroups is wrong

Tested in a real world application with the syntax from the patch file."
38980,TYPO3.Flow,Bug,"",New,Must have,ActionController: behavior of required arguments is not consistent,Adrian Föder,"",2014-05-27 08:14,Validation,"",2012-07-16,"","",0,2012-07-16 05:12,"","",711000,"",(any),"consider the following action controller case:

<pre><code class=""php"">
	/**
	 * @param string $term
	 * @FLOW3\Validate(""$term"", type=""NotEmpty"")
	 * @return void
	 */
	public function indexAction($term) {
		$this->view->assign('term', $term);
	}
</code></pre>

the following happens:

* calling @acme.package/search?term=foo@ everything's fine
* calling @acme.package/search?term=@ fine, too, the validator kicks in and the output is @An error occurred while trying to call Acme\Package\Controller\SearchController->indexAction(). Error for term: This property is required.@
* calling @acme.package/search@ an Exception occurs, telling _#1298012500: Required argument ""term"" is not set_. But this exception makes one unable to catch this case smoothly with the same treatment that'd apply for an empty, but set term.

Side note: if defining @$term = NULL@ in the method header, nothing at all happens when providing _no_ term argument.

Am I expecting something wrong or is there a bug / unintended behavior?"
38988,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong arguments check in buildConstructorInjectionCode (class TYPO3\FLOW3\Object\DependencyInjection\ProxyClassBuilder),Kobbe van Daatselaar,Karsten Dambekalns,2012-12-12 16:12,Object,1.1.1,2012-07-16,"","",100,2012-07-16 08:27,"","",711400,"",FLOW3 1.1.0 rc 1,"On line 370 there is a wrong check on the constructor arguments.
The current code doesn't allow a NULL value to be send to a class contructor.
The isset() check should be replaced by an array_key_exists check:

<pre>
if ($objectConfiguration->getScope() === \TYPO3\FLOW3\Object\Configuration\Configuration::SCOPE_SINGLETON) {
				$code .= '		if (!array_key_exists(' . $index . ', $arguments)) throw new \TYPO3\FLOW3\Object\Exception\UnresolvedDependenciesException(\'Missing required constructor argument $' . $parameterName . ' in class \' . __CLASS__ . \'. ' . 'Please check your calling code and Dependency Injection configuration.\', 1296143787);' . ""\n"";
				//$code .= '		if (!isset($arguments[' . $index . '])) throw new \TYPO3\FLOW3\Object\Exception\UnresolvedDependenciesException(\'Missing required constructor argument $' . $parameterName . ' in class \' . __CLASS__ . \'. ' . 'Please check your calling code and Dependency Injection configuration.\', 1296143787);' . ""\n"";
			} else {
				$code .= '		if (!array_key_exists(' . $index . ', $arguments)) throw new \TYPO3\FLOW3\Object\Exception\UnresolvedDependenciesException(\'Missing required constructor argument $' . $parameterName . ' in class \' . __CLASS__ . \'. ' . 'Note that constructor injection is only support for objects of scope singleton (and this is not a singleton) â?? for other scopes you must pass each required argument to the constructor yourself.\', 1296143788);' . ""\n"";
				//$code .= '		if (!isset($arguments[' . $index . '])) throw new \TYPO3\FLOW3\Object\Exception\UnresolvedDependenciesException(\'Missing required constructor argument $' . $parameterName . ' in class \' . __CLASS__ . \'. ' . 'Note that constructor injection is only support for objects of scope singleton (and this is not a singleton) â?? for other scopes you must pass each required argument to the constructor yourself.\', 1296143788);' . ""\n"";
			}
</pre>"
38999,TYPO3.Kickstart,Bug,"",Resolved,Must have,Kickstarter shows wrong hint for use of underscore,Simon Schaufelberger,Simon Schaufelberger,2012-07-25 10:35,"",1.1,2012-07-16,"","",100,2012-07-16 11:33,"","",711800,"",(any),"When kicktarting a new package and an underscore is used, an error message is shown that an underscore can be used which is wrong."
39005,TYPO3.Flow,Bug,"",Resolved,Should have,Proxies for Http\Request not used,Marco Falkenberg,Karsten Dambekalns,2012-08-14 05:35,Http,1.1,2012-07-16,"","",100,2012-07-16 16:46,"","",712100,"",FLOW3 1.1.0 rc 1,"The proxies for the Http\Request are generated but not used. So you are not able to use AOP for this class. For example try this:

<pre>
	/**
	 * @param \TYPO3\FLOW3\Aop\JoinPointInterface $joinPoint The current joinpoint
	 *
	 * @FLOW3\Around(""method(TYPO3\FLOW3\Http\Request->decodeBodyArguments())"")
	 * @return mixed Result of the advice chain
	 */
	public function transformRequestBody(\TYPO3\FLOW3\Aop\JoinPointInterface $joinPoint) {
		/** code **/
	}
</pre>

The advices are never called.

The bug is located in the Http\RequestHandler. There the Request is generated through a static constructor method. 

Maybe the request should be instantiated by the object manager while resolving the dependencies like the other properties of the request handler. 

Like this:

<pre>
	protected function resolveDependencies() {
		...
		$this->request = $objectManager->get('TYPO3\FLOW3\Http\Request');
	}
</pre>

Then you could feed the constructor of the request with a kind of ""RequestVariablesLocator"" which encapsulates the superglobals. When it's a singleton it get's injected.

Like this:

<pre>
	public function __construct(\TYPO3\FLOW3\Mvc\RequestVariablesLocator $requestVariableLocator) {
		$server = $requestVariableLocator->getServerVariables();

		$this->headers = Headers::createFromServer($server);
		$this->setMethod(isset($server['REQUEST_METHOD']) ? $server['REQUEST_METHOD'] : 'GET');
		$protocol = (isset($server['SSL_SESSION_ID']) || (isset($server['HTTPS']) && ($server['HTTPS'] === 'on' || strcmp($server['HTTPS'], '1') === 0))) ? 'https' : 'http';
		$this->uri = new Uri($protocol . '://' . (isset($server['HTTP_HOST']) ? $server['HTTP_HOST'] : 'localhost') . str_replace('/index.php', '', (isset($server['REQUEST_URI']) ? $server['REQUEST_URI'] : '/')));
		$this->server = $server;
		$this->arguments = $this->buildUnifiedArguments($requestVariableLocator->getGetVariables(), $requestVariableLocator->getPostVariables(), $requestVariableLocator->getPostVariables());
	}
</pre>"
39062,TYPO3.Flow,Bug,"",Resolved,Should have,Links in StandardView templare are broken,Karsten Dambekalns,Karsten Dambekalns,2012-07-18 11:29,MVC,1.1 RC2,2012-07-18,"","",100,2012-07-18 11:00,"","",714950,"",(any),The links point to URL no longer working.
39088,TYPO3.Flow,Feature,"",New,Should have,Add a sgnalslot before compilation,Kobbe van Daatselaar,"",2012-12-11 04:30,Core,"",2012-07-19,"","",0,2012-07-19 08:17,"","",716250,"","","I think it would be nice to have a signalslot before compilation.
Currently there is only a signalslot when compilation is finished successfully.

The compileCommand in the CoreCommandController could look like this:

<pre>
	public function compileCommand($force = FALSE) {
		$objectConfigurationCache = $this->cacheManager->getCache('FLOW3_Object_Configuration');
		if ($force === FALSE) {
			if ($objectConfigurationCache->has('allCompiledCodeUpToDate')) {
				return;
			}
		}
		
		$this->emitStartCompilationRun(); //THIS IS NEW

		$classesCache = $this->cacheManager->getCache('FLOW3_Object_Classes');
		$this->proxyClassCompiler->injectClassesCache($classesCache);

		$this->aopProxyClassBuilder->injectObjectConfigurationCache($objectConfigurationCache);
		$this->aopProxyClassBuilder->build();
		$this->dependencyInjectionProxyClassBuilder->build();

		$classCount = $this->proxyClassCompiler->compile();

		$objectConfigurationCache->set('allCompiledCodeUpToDate', TRUE);

		$classesCacheBackend = $classesCache->getBackend();
		if ($this->bootstrap->getContext()->isProduction() && $classesCacheBackend instanceof FreezableBackendInterface) {
			$classesCache->getBackend()->freeze();
		}

		$this->emitFinishedCompilationRun($classCount);
	}
</pre>

In our solution we wan't to do some stuff before the flow3 compiler kicks in"
39096,TYPO3.Flow,Bug,"",New,Should have,Unnecessary compile invoked in non production context?,Kobbe van Daatselaar,"",2013-08-14 09:35,Core,2.0.1,2012-07-19,"","",0,2012-07-19 11:04,"","",716650,"",FLOW3 1.1.0 rc 1,"In the initializeProxyClasses function in the Script.php file, the typo3.flow3:core:compile command will be invoked every request (even when nothing has changed).

I experience two issues with this:
1) Even when allCompiledCodeUpToDate is true in the initializeProxyClasses function. It always is false in the executed compile command, causing a compile in every request.

2) The compile command shouldn't be triggered in the first place (from initializeProxyClasses) when allCompiledCodeUpToDate evaluates to TRUE.
A compile is always triggered in non production context. When the compile runs (when issue 1 is solved) it doesn't do a compilation (because allCompiledCodeUpToDate then is TRUE), but you would still have the bootstrap of the compilation sub process. So in my opinion calling the compile in the first place is unnecessary.

I've discussed this issue on the IRC channel on 19-7-2012 (maybe useful to check the IRC logs)"
39121,TYPO3.Flow,Task,"",Rejected,Should have,Encapsulate PHP superglobals for Http\Requests,Marco Falkenberg,Marco Falkenberg,2012-08-29 06:37,Http,2.0 beta 1,2012-07-20,"","",0,2012-07-20 08:10,"","",717900,"","","The superglobals used for initializing the Http\Request classes ($_GET, $_POST, $_COOKIE, $FILES, $_SERVER) should be encapsulated in a wrapper. The advantages are:

* Because of the abstraction you can transparently implement a transformation of these variables, e.g. for different OS's or versions of PHP.
* You can add more utility functions to the encapsulating class in the future. 
* The encapsulating class could be a singleton and could be injected by constructor into the Http\Request class. By now the proxy for the Http\Request is not used because the HttpRequestHandler creates the Request by a static constructor function. "
39142,TYPO3.Flow,Bug,"",Resolved,Should have,Missing namespace in error message for TYPO3.FLOW3.core.phpBinaryPathAndFilename,Simon Schaufelberger,Simon Schaufelberger,2012-07-25 05:35,Error,1.1,2012-07-20,"","",100,2012-07-20 13:23,"","",718950,"",(any),In the error message with key: 1315561483 the namespace TYPO3 is missing.
39162,TYPO3.Eel,Feature,"",Resolved,Should have,Support for != comparison,Marc Neuhaus,Christopher Hlubek,2012-08-14 06:35,"","",2012-07-21,"","",100,2012-07-21 10:23,"","",719950,"","","currenty you can't use an != comparison, although you can use !foo == bar, it think ""!="" should be supported as well"
39214,TYPO3.Fluid,Feature,"",Closed,Should have,The textfield viewhelper should have an attribute 'step' to allow decimal numbers,Thomas Kirst,Bastian Waidelich,2012-07-25 08:40,ViewHelpers,2.0 beta 1,2012-07-24,"","",0,2012-07-24 07:05,"","",722550,"","","When using the textfield viewhelper to render a number field it will only accept integer values and no decimals. It is preferable to use the input field of type number which then tells iOS browsers to pull up the number keypad instead of the normal letters keypad. Then it must be possible to enter decimal values, however the default setting of this field is that it just takes integers. The decimal steps can be configured by the 'step' attribute and if you set it on 'any' every decimal number can be entered by the user.

I created a patch file which adds the needed line to the source.

Could anybody please add this patch? Thanks a lot!

Sample screen:

!number_keypad_sample.png!

[[textfield_stepAny_patch.txt]]"
39253,TYPO3.Flow,Feature,"",Accepted,Should have,Remove mirroring mode option and code,Karsten Dambekalns,Karsten Dambekalns,2013-05-21 07:28,Resource,"",2012-07-25,"","",0,2012-07-25 08:50,"","",724450,"","",Resource mirroring through copy is too slow and we will not support non-symlink capable OSs.
39255,TYPO3.Fluid,Task,"",Resolved,Should have,reflectionService property in AbstractViewHelper should be protected instead of private,Aske Ertmann,"",2012-08-07 11:35,Core,2.0 beta 1,2012-07-25,"","",100,2012-07-25 09:17,"","",724550,"","","The property ""reflectionService"" in the AbstractViewHelper should be protected instead of private to allow usage of the reflection service in view helpers without having to inject again with another property name.

Needed here: https://review.typo3.org/#/c/9695 - see general comments and comments here https://review.typo3.org/#/c/9695/2/Classes/ViewHelpers/Widget/CommentsViewHelper.php"
39267,TYPO3.Flow,Bug,"",Resolved,Should have,RsaWalletServicePhp saves keys even if not modified,Robert Lemke,Robert Lemke,2012-07-30 02:35,Security,1.1,2012-07-25,"","",100,2012-07-25 11:45,"","",725150,"",Git 1.2 (master),The shutdown() method of the RsaWalletServicePhp saves its keys to disk even if they haven't been modified. This is unnecessary and may cause some hassles in certain setups.
39286,TYPO3.Flow,Bug,"",Resolved,Should have,FLOW3's var_dump() still chokes on Doctrine collections,Bastian Waidelich,Bastian Waidelich,2012-08-07 11:35,Error,1.1,2012-07-26,"","",100,2012-07-26 06:08,"","",726100,"",Git 1.2 (master),"The patch provided with #37481 didn't solve the issue unfortunately.
Now, if you debug entities with properties of type @\Doctrine\Common\Collections\Collection@ the debugger throws an exception because it tries to cast an array to string.
The reason is, that @\Doctrine\Common\Util\Debug::export()@ returns an @array@ or @stdClass@ while we expect a string."
39293,TYPO3.Flow,Bug,"",Resolved,Should have,ViewInterface->assign() method is annotated to expect object as value,Adrian Föder,Adrian Föder,2012-07-30 03:00,MVC,1.1,2012-07-26,"","",100,2012-07-26 08:21,"","",726450,"",(any),"it is
<pre>
	 * @param string $key Key of variable
	 * @param object $value Value of object
	....
	 */
	public function assign($key, $value);
</pre>

which should be `mixed` instead because everything is considered to be assignable."
39300,TYPO3.Flow,Bug,Bug #37574: ReflectionData is not regenerated automatically,Closed,Won't have this time,blocking ReflectionService: Call to a member function get() on a non-object ,Adrian Föder,"",2012-08-17 05:35,Reflection,1.1.1,2012-07-26,"","",0,2012-07-26 11:05,"","",726800,"",(any),"Most is commented in https://review.typo3.org/#/c/12575/, however a few steps to (hopefully) reproduce:

  * Use a full Phoenix, all on current master, especially with 12575 applied.
  * *make sure* also the FLOW3 subroutes are included, not only the TYPO3 ones.
  * run `phpunit --debug -c Build/Common/PhpUnit/FunctionalTests.xml Packages/Framework/TYPO3.FLOW3/Tests/Functional/Http/RequestHandlerTest.php`
  * this should result in the message `PHP Fatal error: Call to a member function get() on a non-object in /var/www/Packages/Framework/TYPO3.FLOW3/Classes/Reflection/ReflectionService.php on line 987`.
  * maybe, try to call your frontend without any given route; in my case this results in the same error."
39374,TYPO3.Flow,Bug,Task #27561: Complete documentation,Resolved,Should have,References to renamed / moved code in part II,Karsten Dambekalns,Karsten Dambekalns,2012-08-14 06:35,- Documentation -,1.1,2012-07-30,"","",100,2012-07-30 05:56,"","",730500,"",FLOW3 1.1.0 beta 1,"There are some references to outdated code in Part II of the guide, namely @flashMessageContainer->add()@ and some @MVC@ as well as @MVC\Web\Routing@"
39410,TYPO3.Fluid,Feature,"",Resolved,Should have,Implement reserved variables returning their intended representation,Adrian Föder,Adrian Föder,2012-08-09 10:35,Core,2.0 beta 1,2012-07-31,"","",100,2012-07-31 04:58,"","",732250,"","","currently, in Fluid there are reserved variables anyway, like true, false, on, off etc.
Enable accessing these values with {true}, {false} etc. to retrieve their intended value they're representing."
39413,TYPO3.Flow,Bug,"",Resolved,Must have,AOP: Property introduction seems to be broken,Rens Admiraal,Robert Lemke,2014-07-11 14:19,Reflection,"",2012-07-31,"","",100,2012-07-31 08:04,"","",732400,"",Git master,"Introducing a property does not work at the moment. The functional tests are passing.

Attached is a Test package as example to show the problem."
39414,TYPO3.Flow,Bug,"",New,Should have,Security Documentation ,Linh ,"",2012-12-15 15:41,- Documentation -,"",2012-07-31,"","",0,2012-07-31 09:31,"","",732450,"",FLOW3 1.1.0 rc 2,"At the section ""Using the authentification controller"" it is documented to call http://localhost/flow3/authenticate. When I try to call the url I receive a 404 error. I look up the flow3 package routes.yaml and tried http://localhost/flow3/authentication which worked for me. Maybe the documentation have to be updated."
39423,TYPO3.Flow,Feature,"",Resolved,Should have,Custom Error Renderers,Bastian Waidelich,Bastian Waidelich,2013-01-10 10:55,Error,2.0 beta 1,2012-12-25,"","",0,2012-07-31 11:41,"","",732900,0.00,"","It should be possible to render certain exceptions (based on exception class name and/or status code) with a custom (fluid) template.
This could also replace the currently used ""NotFoundController-mechanism""."
39424,TYPO3.Flow,Task,"",Resolved,Should have,Write documentation for HTTP framework,Robert Lemke,Robert Lemke,2012-08-16 16:35,- Documentation -,1.1,2012-07-31,"","",100,2012-07-31 11:41,"","",732950,"","",""
39428,TYPO3.Fluid,Bug,"",Resolved,Must have,Layout and partial identifiers should be independent of current controller name,Alexander Berl,Alexander Berl,2014-08-27 06:32,Core,1.1.1,2012-07-31,"","",100,2012-07-31 13:12,"","",733150,"",FLOW3 1.1.0 rc 2,"Currently, all templates get an identifier made up of package/subpackage, controller, prefix and unique hash.
This leads to all layouts and partials being compiled and cached once for each controller they are used from, even though the contents is independant and hence just a duplicate.

I suggest adding the controller name as part of the prefix in getTemplateIdentifier() only and stripping it from createIdentifierForFile()."
39432,TYPO3 Flow Base Distribution,Task,"",New,Should have,Clarify introducing properties,Rens Admiraal,"",2012-07-31 17:34,"","",2012-07-31,"","",0,2012-07-31 17:34,"","",733350,"","","When you have an aspect to introduce a property, it's not clear this is not possible without any other advice in the same aspect.

The actual error:

Uncaught Exception
  The class ""Test\Aspect\ModelAspect"" is tagged to be an aspect but doesn't
  contain advices nor pointcut or introduction declarations.

Which seems incorrect for the developer as he introduced a property. Either this error should be clarified, or it should be possible to introduce just a property (last one doesn't sound really like a usecase as you would expect changed behavior if a new property is added, so in a common usecase you would have at least 1 advise).

This part should also be clarified more in documentation"
39439,TYPO3.Flow,Bug,"",Resolved,Must have,PHP Session lifetime,Joachim Mathes,Robert Lemke,2012-12-12 02:40,Session,2.0 beta 1,2012-08-01,"","",100,2012-08-01 05:52,"","",733700,"",FLOW3 1.0.0,"Hello Robert,

as discussed on the phone, there is an issue with FLOW3's session lifetime. FLOW3 uses the PHP Session, by default. Thus, session behaviour is influenced by the @php.ini@ configuration. Therefore, the session garbage collector removes sessions every 24 minutes (based on some probability parameters). And it seems, that up to now @TYPO3.FLOW3.session.inactivityTimeout@ doesn't set the @session.gc_maxlifetime@ of PHP to make longer session lifetimes possible.

Best regards
Joachim"
39445,TYPO3.Flow,Bug,"",Resolved,Must have,PropertyMapper chokes on Objects that are already converted inside an collection,Marc Neuhaus,Marc Neuhaus,2013-04-02 16:30,Property,2.0 beta 1,2012-12-25,"","",100,2012-08-01 08:06,"","",734000,0.00,Git 1.2 (master),"The PropertyMapper still chokes on objects which are already converted if it's inside an collection/array.

The PropertyMapper should skip the mapping if the source is already an instance of the target."
39456,TYPO3.Fluid,Bug,"",Resolved,Must have,Action URI of the form ViewHelper is not reset,Bastian Waidelich,Bastian Waidelich,2012-08-07 11:35,ViewHelpers,1.1,2012-08-01,"","",100,2012-08-01 12:33,"","",734550,"",Git 1.1,"The Form ViewHelper stores the action URI attribute for performance reasons.
BUt because instances of ViewHelpers are reused, this value needs to be reset."
39564,TYPO3.Eel,Feature,"",Resolved,Should have,Eel Parser RegEx should support quoted strings containing curly brackets,Alexander Berl,Alexander Berl,2012-08-07 06:45,"","",2012-08-07,"","",0,2012-08-06 18:54,"","",739950,"","","Currently, the eel parser regex doesn't recognize expressions like the following as valid:
<code>""some {$context->unwrap()} string with 'quoted stuff'""</code>

This is because the regex /^\${([^}]*)}$/ stops on the first occurence of a closing curly bracket ""}""."
39596,TYPO3.Eel,Bug,"",Resolved,Must have,Context unwrap of nested array with Context does not work,Christopher Hlubek,Christopher Hlubek,2012-08-09 07:21,"","",2012-08-07,"","",100,2012-08-07 10:53,"","",741550,"","","If a Context object is nested inside an array, the unwrapping of the pure value does not work as expected."
39599,TYPO3.Flow,Task,"",Resolved,Should have,Handle errors in subprocesses properly,Karsten Dambekalns,Christian Jul Jensen,2012-09-11 09:35,Reflection,2.0 beta 1,2012-08-07,"","",100,2012-08-07 11:45,"","",741700,"","","To be able to properly handle missing class dependencies in ClassReflection a ClassLoader should be added to end of the ClassLoader chain that throws an exception if it's reached, meaning the class couldn't be loaded.

Make executeCommand throw an exception on errors, rather than just echo any command output collected."
39604,TYPO3.Fluid,Bug,"",Resolved,Must have,TemplateParser unquoteString does not trim escaped quotes correctly,Alexander Berl,Alexander Berl,2012-08-10 03:35,Core,"",2012-08-08,"","",100,2012-08-07 19:50,"","",741950,"",FLOW3 1.1.0 rc 2,"Assume the following case:
<code>
<f:alias map=""{foo: '\'bar\''}"">
  {foo}
</f:alias>
</code>

*Epected:*
Output 'bar' (including the quotes)

*Actual:*
Output 'bar\

*Cause:*
unquoteString uses trim() to strip starting and ending quotes, however trim is not restricted to trimming only one char on both sides, hence removes both trailing single quotes from the input string, leaving ""\'bar\"" to be unescaped.

*Solution:*
preg_replace should be used instead with a non-repeating pattern, e.g. <code>preg_replace('/(^\'|\'$)/', '', $quotedValue)</code>"
39609,TYPO3.Flow,Feature,"",Accepted,Should have,Migration Version,Peter Russ,Karsten Dambekalns,2013-05-21 07:28,- Migrations -,"",2012-08-08,"",1.00,50,2012-08-08 04:06,"","",742200,"","","For CD/CI it would be helpful if doctrine cli controller would report the current version of migration.

We've changed doctrine:migrationversion that way that if no version is provided the action will report current migration version.
By this it is possible to decide on script level if migration is required or not.

Find patch attached.

"
39647,TYPO3.Flow,Bug,"",Closed,-- undefined --,TYPO3\FLOW3\Error\Exception thrown in file ErrorHandler.php,Kay Strobach,"",2012-08-09 10:00,- Error Handler Report -,"",2012-08-09,"","",0,2012-08-09 09:05,"","",744050,"",FLOW3 1.1.0 rc 2,"Hello Guys,

using FLOW3 on Windows seems to be impossible :(

Regards
Kay


<pre>
Warning: symlink(): Cannot create symlink, error code(1314) in D:\devenv\mowesII\www\flow3\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_FLOW3_Resource_Publishing_FileSystemPublishingTarget_Original.php line 116
21 TYPO3\FLOW3\Error\ErrorHandler::handleError(2, ""symlink(): Cannot create symlink, error code(1314)"", ""D:\devenv\mowesII\www\flow3\Data\Temporary\Develop?Publishing_FileSystemPublishingTarget_Original.php"", 116, array)

20 symlink(""D:/devenv/mowesII/www/flow3/Packages/Framework/TYPO3.FLOW3/Resources/Public"", ""D:/devenv/mowesII/www/flow3/Web/_Resources/Static/Packages/TYPO3.FLOW3"")

19 TYPO3\FLOW3\Resource\Publishing\FileSystemPublishingTarget_Original::publishStaticResources(""D:/devenv/mowesII/www/flow3/Packages/Framework/TYPO3.FLOW3/Resources/Public/"", ""Packages/TYPO3.FLOW3/"")

18 TYPO3\FLOW3\Resource\Publishing\ResourcePublisher_Original::publishStaticResources(""D:/devenv/mowesII/www/flow3/Packages/Framework/TYPO3.FLOW3/Resources/Public/"", ""Packages/TYPO3.FLOW3/"")

17 TYPO3\FLOW3\Resource\ResourceManager_Original::publishPublicPackageResources(array)

16 TYPO3\FLOW3\Core\Booting\Scripts::initializeResources(TYPO3\FLOW3\Core\Bootstrap)

15 call_user_func(array, TYPO3\FLOW3\Core\Bootstrap)

14 TYPO3\FLOW3\Core\Booting\Step::__invoke(TYPO3\FLOW3\Core\Bootstrap)

13 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

12 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

11 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

10 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

9 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

8 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

7 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

6 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

5 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

4 TYPO3\FLOW3\Core\Booting\Sequence::invoke(TYPO3\FLOW3\Core\Bootstrap)

3 TYPO3\FLOW3\Http\RequestHandler::boot()

2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!

</pre>"
39648,TYPO3.Flow,Feature,"",Resolved,Should have,Configurable CLI Subrequest environment variables,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-17 04:35,"",1.1,2012-08-09,"","",100,2012-08-09 09:36,"","",744100,"","","When debugging with xdebug, a major difficulty is that in development and
functional tests, there are always two requests being executed: The main request
and a CLI request inside.

Now, most IDEs do not support the (optional) feature of multi-threaded PHP debugging,
effectively stopping the sub-request and also the main request in this case.

With this feature it's possible to change the XDEBUG remote port from 9000 to 9001, so that the subrequest can be debugged by listening on port 9001."
39661,TYPO3.Flow,Feature,"",Closed,Should have,It should be Possible to change Annotations through Objects.yaml,Marc Neuhaus,Marc Neuhaus,2012-08-10 05:53,"","",2012-08-09,"","",0,2012-08-09 12:20,"","",744750,"","",""
39674,TYPO3.Flow,Bug,"",New,Should have,\TYPO3\FLOW3\var_dump behaves weird in controller actions doing return,Adrian Föder,"",2012-08-10 04:09,MVC,"",2012-08-10,"","",0,2012-08-10 04:02,"","",745400,"",(any),"doing this:
<pre><code class=""php"">
	public function indexAction() {
		\TYPO3\FLOW3\var_dump('vardump.');

		return 'I am a return.';
	}
</code></pre>

results in a frontend (browser, response) output like this:

<pre><code class=""html"">
<link rel=""sty
</code></pre>

funnily, the amount of characters being actually outputted correlates with the output length of the return; so

<pre>
return 'f' . str_repeat('o', 30);
</pre>
results in 
<pre>
 <link rel=""stylesheet"" type=""te
(1234567890123456789012345678901) => 31 chars
</pre>
</pre>"
39681,TYPO3.Flow,Bug,"",Resolved,Should have,Warning about property injection not being autowired in functional test,Karsten Dambekalns,Karsten Dambekalns,2012-08-10 05:36,- Testing -,1.1,2012-08-10,"","",100,2012-08-10 05:22,"","",745750,"",FLOW3 1.1.0 rc 2,"The @DependencyInjectionTest@ testcase has a test called @injectionInParentClassIsDoneOnlyOnceOnCreationOfObject@, leading to FLOW3 trying to use the inject method for the property  ""ionInParentClassIsDoneOnlyOnceOnCreationOfObject""?"
39682,TYPO3.Fluid,Feature,"",Rejected,Could have,Disregegard { as Fluid variable when followed by a white space,Adrian Föder,"",2013-07-17 06:05,Core,"",2012-08-10,"","",0,2012-08-10 05:26,"","",745800,"","","This is a reopen of an issue I had long time ago, so, long story short:

There's still the need for some CDATA wrapping when it comes to Javascript object notation, ie curly braces in JavaScript sections.

A great advantage, without much drawback, would be to disregard occurrences of braces that are followed by a white space, a tab or a newline. this means, 

<pre>
{f:this(is: 'a valid, regarded fluid variable'}
{so.is.thisVariant}
whereas
{ that: 'is an open brace followed by a whitespace, hence not a fluid variable'}
</pre>

this maybe could be extended with every character not being \w or so, resulting in
<pre>
{""alsoThis"": ""won't be fluid""}
</pre>

Forcing Fluid syntax do directly follow the opening paranthese is legit in my opinion, you can still do
<pre>
{f:if(
  condition: 'thisthat',
  then: 'foo',
  else: 'bar'
)};
</pre>

in MySQL, for example, it's also required to make an open bracket follow the function name immediately: @MAX(  5,  2)@ works, while @MAX (5,2)@ won't.
"
39699,TYPO3.Flow,Bug,"",Accepted,Should have,SQL DDL for TYPO3\FLOW3\Cache\Backend\PdoBackend,Pablo Delgado,Karsten Dambekalns,2012-12-13 06:35,Cache,"",2012-08-11,"","",0,2012-08-10 20:49,"","",746650,"",Git master,"I could not find any example or script that helped create the tables needed to use TYPO3\FLOW3\Cache\Backend\PdoBackend.
It would be nice if the Backed could generate the tables needed during the execution of *flow3:cache:warmup* or at the vary least example DDL script that developers can use to generate the tables needed.

Here is the DDL for PostgreSQL (It may work for MYSQL with no changes)
<pre>
create table cache (
""identifier"" varchar primary key, ""context"" varchar, ""cache"" text, ""created"" int, ""lifetime"" int, ""content"" varchar);

create table tags (
""identifier""varchar primary key, ""context"" varchar, ""cache"" text, ""tag"" varchar);
</pre>"
39714,TYPO3.Flow,Task,"",Resolved,Should have,Validate emailaddresses by  filter_var(),Markus Günther,Markus Günther,2012-08-14 04:35,Validation,2.0 beta 1,2012-08-12,"","",100,2012-08-12 04:50,"","",747400,"","","We have had an issue in the extbase issue tracker (#6970) for simplify the email validator in extbase.

Actually the exbase and FLOW3 email validator is codewise the same. Because we wanna stay in sync with FLOW3, i suggest to use filter_var also in FLOW3 for validating the email addresses.

In extbase we could use an TYPO3 core function for that, so we have to port this codewise to FLOW3 or we renounce the idna converter and only use the filter_var function and the php workaround for version lower than 5.3.4."
39740,TYPO3.Flow,Feature,"",Closed,Should have,Allow setting fixed values for route parts,Andreas Wolf,Bastian Waidelich,2013-06-12 11:14,MVC - Routing,"",2012-08-12,"","",0,2012-08-12 16:41,"","",748700,"","","In some situations, it is desirable to have routes that are only applied to certain sets of parameters, e.g. to have some subpackage in a completely different URI namespace:

<code>
api/v1/<controller>/<action> -> package MyPackage, subpackage Api
<controller>/<action> -> package MyPackage
</code>

You could of course use the @{@subpackage}@ key in the route URI here:

<code>
{@subpackage}/v1/{@controller}/{@action}
</code>

But as soon as you add a second subpackage, this will fail, because both subpackages would be matched by this route.

Setting ""api"" as the default value of %@subpackage% would also fail here, as all requests with a controller and an action would be matched by this route then, leading to errors for controllers that do not exist in the Api subpackage.

A solution for this is to allow fixed values for route parts, which are both

# matched when building the URI (so the route does not match if the @$routeValues@ array passed to @resolves()@ does not contain these fixed values)
# reconstructed when the URI is matched against the pattern (so they are available when resolving the controller and action)

I propose to add these fixed values to the routeParts array in the configuration, either as a simple value for the route part name or as the value of the ""value"" subkey:

<pre>
<code class=""yaml"">
-
  name: ""option A: fixed value as value of the route part name""
  uriPattern: ""api/v1/{@controller}/{@action}""
  routeParts:
    '@package':    'MyPackage'
    '@subpackage': 'Api'

-

  name: ""option B: fixed value in the 'value' key""
  uriPattern: ""api/v1/{@controller}/{@action}""
  routeParts:
    '@package':    
      value:     'MyPackage'
    '@subpackage':
      value:     'Api'
</code>
</pre>

I have implemented option A locally and will provide a patch after ironing out some glitches."
39788,TYPO3.Flow,Feature,"",New,Could have,RFC: Repository based NotExistsValidator,Alexander Berl,"",2012-08-14 10:14,Validation,"",2012-08-14,"","",0,2012-08-13 19:16,"","",750900,"","","A very basic requirement for most registration formulars is to validate that a given registration information does not yet exist in the persistence backend (e.g. a user with an specific e-mail may only exist once).

For my current project I therefore already implemented a NotExistsValidator, which checks existence of an object with the given property value through the domain models repository.

The property and repository class can be given in the validator annotation, but since it is redundance to annotate for example an *$email* property on a *User model* with <code>{property=""email"",repository=""\Foo\Bar\Domain\Repository\UserRepository""}</code> I also added an automatism to resolve those.
Therefore the *$targetClassName* and *$classPropertyName* get injected into the validator options as ""__property"" and ""__className"" in the ValidatorResolver.
Hence, this makes all Validators generally aware of the current class/property they are invoked on, which might open up a few more possibilities for validators.


Well, I'll talk straight code here to show the basic idea of the validator itself:

<pre format=""php"">

/**
 * Validator to check if an object does not exist in a repository
 *
 * @api
 */
class NotExistsValidator extends \TYPO3\FLOW3\Validation\Validator\AbstractValidator {

	/**
	 * @var \TYPO3\FLOW3\Object\ObjectManager
	 * @FLOW3\Inject
	 */
	protected $objectManager;

	/**
	 * Checks if the given value does not exist in a specified repository.
	 *
	 * @param mixed $value The value that should be validated
	 * @param array $validationOptions Not used
	 * @return void
	 * @api
	 */
	protected function isValid($value) {
		if (!isset($this->options['repository'])) {
			$possibleRepositoryClassName = $this->options['__className'];
			if (strpos($possibleRepositoryClassName, '\\Model\\') !== FALSE) {
				$possibleRepositoryClassName = str_replace('\\Model\\', '\\Repository\\', $possibleRepositoryClassName) . 'Repository';
				$repository = $this->objectManager->get($possibleRepositoryClassName);
			} else {
				throw new \TYPO3\FLOW3\Validation\Exception\InvalidValidationOptionsException('The ""repository"" option must be set in NotExistsValidator when not used on a Domain Model.', 1281454154);
			}
		} elseif (is_string($this->options['repository'])) {
			$repository = $this->objectManager->get($this->options['repository']);
		} elseif ($this->options['repository'] instanceof \TYPO3\FLOW3\Persistence\Repository) {
			$repository = $this->options['repository'];
		} else {
			throw new \TYPO3\FLOW3\Validation\Exception\InvalidValidationOptionsException('The ""repository"" option can be only set to string, or Repository object.', 1281454155);
		}

		if (!$repository instanceof \TYPO3\FLOW3\Persistence\RepositoryInterface) {
			throw new \TYPO3\FLOW3\Validation\Exception\InvalidValidationOptionsException('The repository for class ""' . $this->options['__className'] . '"" could not be found in NotExistsValidator.', 1281454155);
		}

		$property = $this->options['__property'];
		$countBy = 'countBy' . $property;
		$count = $repository->$countBy($value);
		if ($count > 0) {
			$this->addError('The object exists in the repository.', 1281454156);
		}
	}
}
</pre>

What do you think? Would this make sense for an validator shipped with flow3?"
39790,TYPO3.Kickstart,Feature,"",New,Should have,Allow forward slashes where backslashes need to be specified,Robert Lemke,"",2012-08-14 03:28,"","",2012-08-14,"","",0,2012-08-14 03:28,"","",751000,"","","Typing backslashes on the command line is cumbersome because each of them needs to be escaped with an additional backslash. Therefore it would be convenient if the kickstarter would allow forward slashes as well and convert them to backslashes internally.

This should be implemented especially for the kickstart:model command (property types are often class names) but may apply to other commands as well."
39791,TYPO3.Flow,Bug,"",New,Must have,Reflection data of old aspect is not removed,Robert Lemke,"",2013-08-14 09:40,Reflection,1.1.1,2012-08-14,"","",0,2012-08-14 03:45,"","",751050,"",Git master,"The reflection data of a removed aspect is not removed by the file monitoring / reflection framework.

Steps to reproduce:

# create something which can be advised, for example a command controller with a command
# create a new aspect which advises that command, for example with an around advice
# check that this advice works
# rename the aspect class and the class file name
# run the advised command again

Expected result:
<pre>
Uncaught Exception
  Warning: Invalid argument supplied for foreach() in Packages/Framework/TYPO3.FLOW3/Classes/Aop/Builder/ProxyClassBuilder.php
  line 315
</pre>

The reason for the error message is that the *old* aspect class name is passed to buildAspectContainer() which tries to get the class methods but, as the class does not exist anymore, continues working with an invalid result.

It doesn't seem to be the fault of the file monitoring, because the file monitor does detect the change as you can see in the log file:
<pre>
12-08-14 09:39:12 4799       INFO      FLOW3                Aspect classes have been modified, flushing the whole proxy classes cache.
12-08-14 09:39:12 4799       INFO      FLOW3                File Monitor ""FLOW3_ClassFiles"" detected 1 changed files and 0 changed directories.
12-08-14 09:39:12 4799       DEBUG     FLOW3                Reflected class names did not match class names to reflect
12-08-14 09:39:12 4799       DEBUG     FLOW3                Reflecting class Acme\Demo\Test2Aspect
12-08-14 09:39:12 4799       INFO      FLOW3                Reflected 1 emerged classes.
</pre>
"
39792,TYPO3.Flow,Feature,"",Resolved,Should have,Implement support for localized resources,Robert Lemke,Karsten Dambekalns,2012-12-10 07:12,I18n,2.0 beta 1,2012-08-14,"","",100,2012-08-14 03:54,"","",751100,"","","The feature of localized is already documented in The Definitive Guide (sic!) but not yet implemented:

<pre>
The ``ResourceViewHelper`` will by default use locale-specific versions of any resources
you ask for. If you want to avoid that you can disable that:

  {f:uri.resource(path: 'header.png', localize: 0)}
</pre>

"
39836,TYPO3.Flow,Feature,"",Resolved,Must have,Finish implementation of cookie support,Robert Lemke,Robert Lemke,2012-08-17 02:35,Http,1.1,2012-08-15,"","",100,2012-08-15 10:31,"","",753300,"","",The cookie support in HTTP Request / Response is not working because the implementation is incomplete.
39837,TYPO3.Flow,Feature,"",Resolved,Should have,Make WebRedirect EntryPoint less Routing dependent,Bastian Waidelich,Bastian Waidelich,2012-08-29 12:35,Security,2.0 beta 1,2012-08-15,"","",100,2012-08-15 11:03,"","",753350,"","","The WebRedirect currently expects an option *uri* that points to a relative or absolute URI to redirect when trying to access a protected action.

Instead it should be possible to specify *route values* so that the Routing framework can determine the correct target URI depending on the Routes.yaml configuration."
39839,TYPO3.Flow,Feature,"",Resolved,Should have,Provide abstract authentication controller,Bastian Waidelich,Andreas Förthner,2012-09-19 03:18,Security,2.0 beta 1,2012-08-15,"","",100,2012-08-15 11:14,"","",753450,"","","FLOW3 already comes with an Authentication Controller that even supports redirection to the intercepted request after successful authentication (if a WebRedirect EntryPoint was configured).

We should provide an abstract base class that developers can extend from in their own packages.
The API could be s.th. like

<pre>
<code class=""php"">
abstract class AbstractAuthenticationController extends \TYPO3\FLOW3\Mvc\Controller\ActionController {

public function indexAction();

final public function authenticateAction();

public function logoutAction();

abstract protected function onSuccessfulAuthentication(\TYPO3\FLOW3\Mvc\ActionRequest $interceptedRequest);

abstract protected function onErroneousAuthentication();

}
</code>
</pre>"
39855,TYPO3.Flow,Bug,"",Closed,-- undefined --,[Windows / VM] FLOW3 symlink error during TYPO3 Phoenix FLOW3 compile,Frank Gerards,Frank Gerards,2013-08-14 10:08,"","",2012-08-16,"","",0,2012-08-16 07:22,"","",754250,"",(any),"Hi,

I use a Debian VM under Windows 7 to develop websites using ZendStudio under Windows. The sources are located in Windows and the document root of the vm apache webserver points to the shared windows path. This is done via VirtualBox Addons. As a result, this is a read-only file system and symlinks are not supported.

Badly, FLOW3/Phoenix report this error. I assume that quite an amount of professional, enterprise-oriented companies develop live-server-near with VMs and under Windows. So this error stops all tries of installing FLOW3 under this circumstances. To my opinion, there has to be a work-around because you cannot be sure, that symlinks work under each environment FLOW3 will be set up. How could this be solved ?

The complete warning is:
<pre>
Warning: symlink() [<a href='function.symlink'>function.symlink</a>]: Read-only file system in /media/sf_local_dev/phoenix/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Resource_Publishing_FileSystemPublishingTarget_Original.php line 116
21 TYPO3\FLOW3\Error\ErrorHandler::handleError(2, ""symlink() [&lt;a href='function.symlink'&gt;function.symlink&lt;/a&gt;]: Read-only file system"", ""/media/sf_local_dev/phoenix/Data/Temporary/Develop?Publishing_FileSystemPublishingTarget_Original.php"", 116, array)

20 symlink(""/media/sf_local_dev/phoenix/Packages/Application/Aloha/Resources/Public"", ""/media/sf_local_dev/phoenix/Web/_Resources/Static/Packages/Aloha"")

19 TYPO3\FLOW3\Resource\Publishing\FileSystemPublishingTarget_Original::publishStaticResources(""/media/sf_local_dev/phoenix/Packages/Application/Aloha/Resources/Public/"", ""Packages/Aloha/"")

18 TYPO3\FLOW3\Resource\Publishing\ResourcePublisher_Original::publishStaticResources(""/media/sf_local_dev/phoenix/Packages/Application/Aloha/Resources/Public/"", ""Packages/Aloha/"")

17 TYPO3\FLOW3\Resource\ResourceManager_Original::publishPublicPackageResources(array)

16 TYPO3\FLOW3\Core\Booting\Scripts::initializeResources(TYPO3\FLOW3\Core\Bootstrap)

15 call_user_func(array, TYPO3\FLOW3\Core\Bootstrap)

14 TYPO3\FLOW3\Core\Booting\Step::__invoke(TYPO3\FLOW3\Core\Bootstrap)

13 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

12 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

11 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

10 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

9 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

8 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

7 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

6 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

5 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)

4 TYPO3\FLOW3\Core\Booting\Sequence::invoke(TYPO3\FLOW3\Core\Bootstrap)

3 TYPO3\FLOW3\Http\RequestHandler::boot()

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()
</pre>

Please include more helpful information!"
39870,TYPO3.Fluid,Feature,"",Resolved,Could have,Allow configuration of template path fallbacks,Tymoteusz Motylewski,Bastian Waidelich,2013-08-07 09:35,View,"",2012-08-16,"","",100,2012-08-16 14:00,"","",755000,"","","It would be great if you can configure alternative paths for templates. It would be quite handy when you have to extend existing package templates.

Right now it is only possible to set one templateRootPath for package. So even if you want to change only one template file, you have to copy all templates to new location. 

This is a placeholder ticket reflecting ticked placed in Extbase."
39878,TYPO3.Flow,Feature,"",Closed,Should have,Utility function for determining if an array is considered numerically indexed,Adrian Föder,Adrian Föder,2013-04-11 02:17,Utility,2.1,2012-08-17,"","",0,2012-08-17 04:26,"","",755400,"","","Unfortunately PHP does not offer a reliable way to say whether an array is considered to be numerically indexed or if it's associative.

Not at last this has to come into account with the merge_recursive_overrule function that currently overwrites numerically-indexed arrays instead of merging them finely (but that'll go into another issue ;)"
39879,TYPO3.Flow,Feature,"",Resolved,Should have,Improve HTML backtrace for boolean and array arguments,Adrian Föder,Adrian Föder,2012-09-08 19:35,Error,"",2012-08-17,"","",100,2012-08-17 04:40,"","",755450,"","","currently, a function call in the backtrace makes some type hints about the passed arguments. For boolean and array types, it's still @boolean@ and @array@.
This should be replaced with @TRUE@/@FALSE@ and, as a suggestion, @array|13|@ giving an insight about the fact that the array has 13 elements containing; or @array|0|@ for example, which would be especially helpful."
39886,TYPO3.Fluid,Feature,"",Resolved,Should have,"f:format.json: Make tag ""escaping"" default",Adrian Föder,Adrian Föder,2012-08-30 11:57,ViewHelpers,2.0 beta 1,2012-08-17,"","",100,2012-08-17 06:18,"","",755800,"","","Currently, the JSON ViewHelper will put greater-and-lower-than-characters through as they are, which might be dangerous in ViewHelper, ie HTML context."
39910,TYPO3.Flow,Feature,"",Accepted,Should have,Ability to query user based on roles,Pablo Delgado,Rens Admiraal,2013-05-21 07:28,Security,"",2012-08-17,"","",0,2012-08-17 14:59,"","",756950,"","","For application that need to be able to manage users via a custom web interface the current implementation of TYPO3\FLOW3\Security\Policy\Roles being serialized and stored within the TYPO3\FLOW3\Security\Account tables when persisted to the database. The issue is that the roles are duplicated within the database since each user has their own copy (Which of course is not huge problem) but there is no way of querying a group of users that have a certain role. 

It would be nice to be able to use something like this to find users by role:
<pre>
$accounts = $this->accountRepository->findByRole('FINANCE_ROLE');
</pre>

And obtain either an array or QueryResult."
39936,TYPO3.Fluid,Feature,"",New,Should have,registerTagAttribute should handle default values,Stefan Neufeind,"",2013-01-21 17:29,ViewHelpers,"",2012-08-18,"","",0,2012-08-18 14:52,"","",758250,"","","The function registerTagAttribute is used to register tags and can't handle default values.

This is a follow-up from a merged change in extbase-fluid.
Verified it applys to FLOW3-fluid as well: TYPO3.Fluid/Classes/Core/ViewHelper/AbstractTagBasedViewHelper.php"
39969,TYPO3.Flow,Bug,"",Rejected,Must have,Call to undefined method on Cookie from Response,Pablo Delgado,Pablo Delgado,2012-08-20 11:32,Http,1.1.1,2012-08-19,"","",0,2012-08-19 10:43,"","",759900,"",Git 1.2 (master),"When the response headers are sent you get an 'call to undefined method getExpiresTime' error.  The problem is in the Response.php on line 508. Its a simple fix either we change the 3rd parameter to *$cookie->getExpires()* or we hard an alias method to Cookie called *Cookie::getExpiresTime()*.

I think for consistence we use the first option.


<pre>
FILE: TYPO3.FLOW/Classes/Http/Resposne.php

491     /**
492      * Sends the HTTP headers.
493      *
494      * If headers have been sent previously, this method fails silently.
495      *
496      * @return void
497      * @codeCoverageIgnore
498      * @api
499      */
500     public function sendHeaders() {
501         if (headers_sent() === TRUE) {
502             return;
503         }
504         foreach ($this->renderHeaders() as $header) {
505             header($header);
506         }
507         foreach ($this->headers->getCookies() as $cookie) {
508             setcookie($cookie->getName(), $cookie->getValue(), $cookie->getExpiresTime(), $cookie->getPath(), $cookie->getDomain(), $cookie->isSecure(), $cookie->isHttpOnly(    )); 
509         }
510     }

</pre>"
39990,TYPO3.Fluid,Bug,"",New,Should have,Same form twice in one template: hidden fields for empty values are only rendered once,Marc Bastian Heinrichs,"",2012-08-20 05:21,Core,"",2012-08-20,"","",0,2012-08-20 05:21,"","",760950,"",(any),"Noticed this in fluid extension and think this is also relevant for the Fluid package.

If you use nearly the same form twice in one template, the hidden fields for empty values are only rendered for the upper form.

In Tx_Fluid_ViewHelpers_Form_AbstractFormFieldViewHelper::renderHiddenFieldForEmptyValue the Tx_Fluid_ViewHelpers_FormViewHelper is checked and this also contains the $hiddenFieldNames of the upper form.
"
40003,TYPO3.Flow,Bug,"",Resolved,Must have,FLOW3 not working on PHP 5.3.16,Karsten Dambekalns,Karsten Dambekalns,2012-09-20 11:39,Reflection,1.1,2012-08-20,"","",100,2012-08-20 11:04,"","",761600,"",(any),"The fix for https://bugs.php.net/62715 landed in PHP 5.3.16, and because of https://bugs.php.net/62874 reflection fails (in Production context) with a pretty unhelpful exception:

@Fatal error: Uncaught exception ? with message 'Parameter is not optional' in ?@"
40011,TYPO3.Eel,Bug,"",Resolved,Must have,Numeric offset access is not supported,Christopher Hlubek,Christopher Hlubek,2012-08-28 09:35,"","",2012-08-21,"","",100,2012-08-21 03:30,"","",762000,"","",Passing an integer for array offset access (@${myarray[17].foo}@) causes problems with the Context evaluation which expects only string paths.
40064,TYPO3.Fluid,Bug,"",New,Must have,Multiselect is not getting persisted,Christoph Gross,"",2014-03-27 17:12,ViewHelpers,"",2012-08-22,"","",0,2012-08-22 10:55,"","",764650,"",Git master,"I have a statement and want to assign multiple users to it using a multiselect box. The mulitselect box displays already selected users(selected by a workaround) correctly, but fails to change the selected users, they remain unchanged.

I attached a screenshot of the page.

The template code:
<pre>
<f:form controller=""Statement"" arguments=""{statement: statement}"" action=""updateUsers"" name=""Statement"" object=""{statement}"">
  <f:form.select property=""users"" options=""{users}"" optionLabelField=""displayName"" optionValueField=""uid"" multiple=""5"" />
  ...
</pre>

The statement controller:
<pre>
/**
	 * STEP 2: Select users
	 *
	 * @param \Drinkaccounting\Domain\Model\Statement $statement The statement
	 * @return void
	 */
	public function selectUsersAction(Statement $statement) {
		$this -> view -> assign('statement', $statement);
		$this -> view -> assign('users', $this -> userRepository -> findAll());
	}

	/**
	 * STEP 2: Update selected users
	 *
	 * @param \Drinkaccounting\Domain\Model\Statement $statement The statement
	 * @param array $selectedUsers
	 * @return void
	 */
	public function updateUsersAction(Statement $statement) {
		$this -> statementRepository -> update($statement);
		$this -> addFlashMessage('Updated users');
		$this -> redirect('selectUsers', 'Statement', NULL, array('statement' => $statement));
	}
</pre>

The statement model:
<pre>
/**
 * A Statement
 *
 * @FLOW3\Entity
 */
class Statement {

	/**
	 * The products
	 * @var \Doctrine\Common\Collections\Collection<\Drinkaccounting\Domain\Model\Product>
	 * @ORM\ManyToMany
	 */
	protected $products;
...
</pre>

*My workaround to select users without using the property attribute:*
This workaround fails with an Exception if you try to update with no item selected, because then flow3 thinks selectedUsers is a string instead of an array. I haven't figured out a way to read and change the content of an argument in the initializeUpdateUsersAction. Anyway this can't be a final solution.

The template:
<pre>
<f:form controller=""Statement"" arguments=""{statement: statement, selectedUsers: selectedUsers}"" action=""updateUsers"" name=""Statement"" object=""{statement}"">	
		
		
		<f:form.select name=""selectedUsers"" value=""{statement.users}"" options=""{users}"" optionLabelField=""displayName"" multiple=""20"" />
</pre>

The statement controller:
<pre>
/**
	 * STEP 2: Select users
	 *
	 * @param \Drinkaccounting\Domain\Model\Statement $statement The statement
	 * @return void
	 */
	public function selectUsersAction(Statement $statement) {
		$this -> view -> assign('statement', $statement);
		$this -> view -> assign('users', $this -> userRepository -> findAll());
	}

	/**
	 * STEP 2: Update selected users
	 *
	 * @param \Drinkaccounting\Domain\Model\Statement $statement The statement
	 * @param array $selectedUsers
	 * @return void
	 */
	public function updateUsersAction(Statement $statement, $selectedUsers) {
		// Clear users
		$statement -> clearUsers();
		// Get user objects by identifier
		foreach ($selectedUsers as $userID) {
			$user = $this -> persistenceManager -> getObjectByIdentifier($userID, '\Drinkaccounting\Domain\Model\User');
			$statement -> addUser($user);
		}
		$this -> statementRepository -> update($statement);
		$this -> addFlashMessage('Updated users');
		$this -> redirect('selectUsers', 'Statement', NULL, array('statement' => $statement));
	}
</pre>
"
40081,TYPO3.Fluid,Feature,"",New,Should have,Allow assigned variables as keys in arrays,Viktor Livakivskyi,"",2013-10-02 03:38,"","",2012-08-23,"","",0,2012-08-23 09:00,"","",765500,"","","It was asked couple of times in mailing lists, e.g. here: http://lists.typo3.org/pipermail/typo3-project-typo3v4mvc/2012-January/011389.html
<pre>
is something like this possible with fluid?

Controller:

$this->view->assign('value', $value);
$this->view->assign('keyName', $keyName);


View:

arguments=""{{keyName} : value, foo: bar}""


IIRC This does not work. Any workarounds?
</pre>

This is especially needed, when creating links, like index.php?id=5?tx_myext[8][edit]=3, because I need to pass dynamically plugin instance id to GET via 'additionalParams' of 'f:link.page' Fluid viewHelper."
40241,TYPO3.Flow,Bug,"",Rejected,Must have,Encryption key sometimes readable for anybody,Andreas Wolf,"",2012-11-01 14:05,Security,"",2012-08-26,"","",0,2012-08-26 16:18,"","",773500,"",(any),"The encryption key is (on *NIX) generated with the current umask. On most systems, this is something like 0022, making the file readable for anybody. If the key is supposed to be kept secret (which I assume), this might pose a security risk.

This issue could be easily fixed by using chmod() or touch() in Security\Cryptography\HashService."
40263,TYPO3.Flow,Bug,"",Resolved,Must have,Code migration script destroys method name in Resource\Resource,Cedric Ziel,Karsten Dambekalns,2012-09-12 04:10,- Migrations -,1.1.1,2012-08-27,"","",100,2012-08-27 08:12,"","",774600,"",FLOW3 1.1.0,"Okay, please be kind in case i missed something..
I am new to FLOW3 an just wanted to migrate my small Package to 1.1.

Everything went fine an changes took place after core:migrate.

The problem I see is, in the mentioned Class, there is a doublette for method getMediaType() which the parser (5.3.10) doesnt like very much :-)

The compatibility version of PHP is (according to the download page) 5.3.2-5.4.x so there should be no redeclarations in the code.

It should be safe to remove the first doublette. Afterwards, the project compiled fine.

Here's the old method:
<pre>
	/**
	 * Returns the mime type for this resource
	 *
	 * @return string The mime type
	 * @deprecated since 1.1.0
	 * @see getMediaType()
	 */
	public function getMediaType() {
		return $this->getMediaType();
	}
</pre>"
40273,TYPO3.Flow,Feature,"",Resolved,Should have,Enable FunctionalTestRequestHandler for non cli requests,Marc Neuhaus,"",2012-09-04 07:35,"","",2012-08-27,"","",100,2012-08-27 10:51,"","",775100,"","","Currently the FunctionTestRequestHandler can only be used through cli.

I'd like to use a TestRunner based on VisualPHPUnit for which i need to be able to execute those requests through web requests.

https://github.com/mneuhaus/TYPO3.Testing"
40283,TYPO3.Flow,Bug,"",New,Should have,New constructor in grandparent class not called,Andreas Wolf,"",2012-12-13 06:35,Object,"",2012-08-27,"","",0,2012-08-27 16:59,"","",775600,"",Git master,"I have a class hierarchy like this:

<pre>
SomeClass
 +-- SubclassA
 \-+ SubclassB
   \ SubclassBA
</pre>

I inserted a new @__construct()@ method in @SomeClass@. It was called without any problem from @SubclassA@, but not from @SubclassBA@, because the Proxies in @Cache/Code/FLOW3_Object_Classes@ were not regenerated for @SubclassB@.

The call chain for @SubclassBA::__construct()@ thus ended in @SubclassB@, because when the @SubclassB@ proxy was generated, there was no constructor in @SomeClass@, hence no call to @parent::__construct()@ was inserted into the @SubclassB@ proxy (because it would have ended in a fatal error)."
40338,TYPO3.Fluid,Feature,"",Closed,Could have,Make possible to combine conditions with f:if,Viktor Livakivskyi,Bastian Waidelich,2012-10-16 09:22,Core,"",2012-08-28,"","",0,2012-08-28 07:00,"","",776450,"","","Hello.

It would be really nice to have a possibility to use OR/AND logic in f:if conditions. Right now it may be solved by nested f:if viewHelpers, which brings more structural complicance to the template's code.

Regards."
40372,TYPO3.Flow,Bug,"",Resolved,Should have,Headers::has() always returns FALSE for Cache-Control,Robert Lemke,Robert Lemke,2012-12-14 04:58,Http,1.1.1,2012-08-29,"","",100,2012-08-29 06:40,"","",778150,"",Git 1.1,"Because the Cache-Control header is handled in a special way, has() returns FALSE even though cache control directives have been set."
40389,TYPO3.Flow,Bug,"",Resolved,Must have,Orphan Removal in ManyToMany Associations,Christian Müller,Christian Müller,2012-08-30 05:35,Persistence,2.0 beta 1,2012-08-29,"","",100,2012-08-29 14:27,"","",779000,"",(any),"The orphanRemoval option in a ManyToMany annotation defaults to FALSE.

In the Flow3AnnotationDriver a check is made for $manyToManyAnnotation->orphanRemoval which in turn will always be FALSE because it is the default (and not only when it was actually set to FALSE in the annotation, which seems to have been the intention of the check). Therefor unless you set it to TRUE anyway it will always go to the elseif which checks if the associated entity has a repository and then sets orphanRemoval to TRUE.

Which means that if you have a ManyToMany relation where one entity has no Repository that will end up with orphanRemoval TRUE regardless of what you really annotated. This is not really the expected behaviour and especially for ManyToMany often wrong too.

I suggest to remove the check for ManyToMany relations and use the actual value that is annotated (or the default FALSE), but that of course is a breaking change as it will leave orphans behind in cases people unknowingly accepted this (wrong) behaviour."
40410,TYPO3.Flow,Bug,"",Needs Feedback,Should have,"Exception when using Apc, Memcached of Redis cache backend for reflection status and object configuration",Kobbe van Daatselaar,Karsten Dambekalns,2012-10-25 09:56,Cache,"",2012-08-30,"","",0,2012-08-30 05:26,"","",780050,"",FLOW3 1.1.0,"When I configure to FLOW3 to use an other backend than the (Simple)FileBackend it throws an exception during compiletime:

<pre>
14 TYPO3\FLOW3\Error\ErrorHandler::handleError(4096, ""Argument 1 passed to TYPO3\FLOW3\Object\ObjectManager::setObjects() must be an array, boolean given, called in /Packages/Framework/TYPO3.FLOW3/Classes/Core/Booting/Scripts.php on line 292 and defined"", ""/Packages/Framework/TYPO3.FLOW3/Classes/Object/ObjectManager.php"", 92, array)
13 TYPO3\FLOW3\Object\ObjectManager::setObjects(boolean)
12 TYPO3\FLOW3\Core\Booting\Scripts::initializeObjectManager(TYPO3\FLOW3\Core\Bootstrap)
11 call_user_func(array, TYPO3\FLOW3\Core\Bootstrap)
10 TYPO3\FLOW3\Core\Booting\Step::__invoke(TYPO3\FLOW3\Core\Bootstrap)
9 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
8 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
7 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
6 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
5 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
4 TYPO3\FLOW3\Core\Booting\Sequence::invoke(TYPO3\FLOW3\Core\Bootstrap)
3 TYPO3\FLOW3\Http\RequestHandler::boot()
2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()
1 TYPO3\FLOW3\Core\Bootstrap::run()

</pre>

This happens when I configure the Object_Configuration or Reflection_Status in Caches.yaml

<pre>
FLOW3_Object_Configuration:
  backend: TYPO3\FLOW3\Cache\Backend\ApcBackend
FLOW3_Reflection_Status:
  backend: TYPO3\FLOW3\Cache\Backend\ApcBackend
</pre>

or 

<pre>
FLOW3_Object_Configuration:
    backend: TYPO3\FLOW3\Cache\Backend\MemcachedBackend
    backendOptions:
      servers:
        - 127.0.0.1
FLOW3_Reflection_Status:
    backend: TYPO3\FLOW3\Cache\Backend\MemcachedBackend
    backendOptions:
      servers:
        - 127.0.0.1
</pre>

or

<pre>
FLOW3_Object_Configuration:
    backend: TYPO3\FLOW3\Cache\Backend\RedisBackend
    backendOptions:
      database: 3
      compressionLevel: 0
FLOW3_Reflection_Status:
    backend: TYPO3\FLOW3\Cache\Backend\RedisBackend
    backendOptions:
      database: 4
      compressionLevel: 0
<pre>"
40414,TYPO3.Flow,Feature,"",Resolved,Should have,cURL request engine for HTTP browser,Robert Lemke,Robert Lemke,2012-08-30 10:35,Http,2.0 beta 1,2012-08-30,"","",100,2012-08-30 06:39,"","",780250,"","","Provide a new request engine, based on cURL, which can be used with the virtual browser contained in FLOW3's HTTP foundation."
40418,TYPO3.Flow,Feature,"",Needs Feedback,Could have,Add an option to flow3:cache:flush thats keeps user sessions active,Martin Brüggemann,"",2014-10-03 14:17,Session,"",2012-08-30,"","",0,2012-08-30 07:35,"","",780450,"","","At the moment all sessions are being flushed with a

@./flow3 flow3:cache:flush@

There should be an option to flush all caches except the session storage/cache. Otherwise everytime you deploy a fix to your FLOW3 based SaaS project, all your customers loose their sessions and will have to relogin. 

Maybe a small option like 

@./flow3 flow3:cache:flush --keepSessions@

would do the trick."
40449,TYPO3.Flow,Bug,"",Resolved,Should have,DateTimeValidator doesn't work as expected,Cedric Ziel,Karsten Dambekalns,2013-08-14 09:39,Validation,1.1.1,2012-08-30,"","",100,2012-08-30 15:14,"","",781850,"",FLOW3 1.1.0,"I have a fairly simple Model which has a property $date:

<pre>
/**
* The actual date of the transaction
* @var \DateTime
* @FLOW3\Validate(type=""DateTime"")
*/
protected $date;
</pre>

My thoughts were to use the DateTime Validator bundled with TYPO3.FLOW3.
If I submit the form and (of what I understood, the validators do some serious business..) I get an error:

<pre>
 Invalid validate annotation in Cziel\F3finances\Domain\Model\Transaction::date: Could not resolve class name for validator ""DateTime""
</pre>

Stacktrace:
<pre>
TYPO3\FLOW3\Validation\ValidatorResolver_Original::buildBaseValidatorConjunction(""Cziel\F3finances\Domain\Model\Transaction##Default##Controller"", ""Cziel\F3finances\Domain\Model\Transaction"", array)

17 TYPO3\FLOW3\Validation\ValidatorResolver_Original::getBaseValidatorConjunction(""Cziel\F3finances\Domain\Model\Transaction"", array)

16 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::initializeActionMethodValidators()

15 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

14 TYPO3\FLOW3\Mvc\Dispatcher_Original::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

13 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

12 call_user_func_array(array, array)

11 TYPO3\FLOW3\Mvc\Dispatcher::FLOW3_Aop_Proxy_invokeJoinPoint(TYPO3\FLOW3\Aop\JoinPoint)

10 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

9 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\Aop\JoinPoint)

8 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)

7 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

6 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\Aop\JoinPoint)

5 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)

4 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

3 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()
</pre>"
40555,TYPO3.Flow,Feature,"",Accepted,Must have,Missing command arguments parameter in Core\Booting\Scripts::executeCommand(),Timo Kiefer,Karsten Dambekalns,2013-05-21 07:28,Core,"",2012-09-03,"","",0,2012-09-03 07:01,"","",786950,"","","Currently you can not execute a sub command (http://flow3.typo3.org/documentation/guide/partiii/commandline.html#executing-sub-commands) with command arguments.

I added my solution for this feature as a patch."
40563,TYPO3.Flow,Bug,"",Closed,Should have,"When session times out, Exception occurs instead of WebRedirect",Adrian Föder,"",2012-09-05 11:02,Security,"",2012-09-03,"","",0,2012-09-03 09:54,"","",787350,"",Git 1.2 (master),"Obvisously when the session times out and one hits /typo3 again, an exception occurs, saying ""The context contained no tokens which could be authenticated"", instead of silently displaying the WebRedirect target.
When hitting the same page subsequently, the behavior is as expected, and the login page appears / the WebRedirect target is displayed.

Maybe instead of the Exception some kind of ""Session expired!"" state should happen."
40580,TYPO3.Flow,Bug,"",Resolved,Should have,Exception when using SQL logger in Production Context,Adrian Föder,Adrian Föder,2012-09-10 06:35,Log,"",2012-09-04,"","",100,2012-09-04 04:17,"","",788200,"",Git 1.2 (master),"when having the SQL logger active in Prodution context, an exception occur, saying that 

> Uncaught Exception
  Catchable Fatal Error: Argument 4 passed to
  TYPO3\FLOW3\Log\LoggerFactory::create() must be of the type array, null
  given, called in...

which makes sense, since the mentioned argument 4 is a setting (http://git.typo3.org/FLOW3/Packages/TYPO3.FLOW3.git?a=blob;f=Configuration/Objects.yaml;h=d6ed6e3040311d08a48062a7bc547147695ec102;hb=master#l188): 

<pre><code class=""yaml"">
'TYPO3\FLOW3\Persistence\Doctrine\Logging\SqlLogger':
  properties:
    logger:
      object:
        factoryObjectName: TYPO3\FLOW3\Log\LoggerFactory
        arguments:
          1:
            value: 'Sql_Queries'
          2:
            value: 'TYPO3\FLOW3\Log\Logger'
          3:
            value: 'TYPO3\FLOW3\Log\Backend\FileBackend'
          4:
            setting: TYPO3.FLOW3.log.sqlLogger.backendOptions
</code></pre>

but the mentioned section is only available in Developmnent/Settings.yaml (http://git.typo3.org/FLOW3/Packages/TYPO3.FLOW3.git?a=blob;f=Configuration/Development/Settings.yaml;h=332c4daabc94c75523012d0b8e0ac88289a130d4;hb=master#l43):
<pre><code class=""yaml"">
TYPO3:
  FLOW3:
# [...]
      sqlLogger:
        backendOptions:
          logFileURL: %FLOW3_PATH_DATA%Logs/Query_Development.log
          createParentDirectories: TRUE
          severityThreshold: %LOG_DEBUG%


</code></pre>"
40625,TYPO3.Flow,Bug,"",Closed,-- undefined --,InvalidArgumentException thrown in file Headers.php,Ferdinand Kuhl,Robert Lemke,2012-09-05 05:20,Http,"",2012-09-04,"","",0,2012-09-04 16:24,"","",790100,"",Git 1.2 (master),"The ""Set-Cookie"" headers must be set via setCookie().
28 TYPO3\FLOW3\Http\Headers::set(""Set-Cookie"", ""JSESSIONID=0000bpxjzMKKBYiEQM5yG5xd5CG:15rk67n7r; Path=/"", boolean)

If the foreign webserver sends an header ""Set-Cookie"" FLOW3 throws an Exception, and breaks header - parsing. So no content from Servers sending cookies can be extracted."
40626,TYPO3.Flow,Bug,"",Resolved,Should have,Cookie - Setting throws exception in Http\Response ,Ferdinand Kuhl,Robert Lemke,2012-12-12 03:03,Http,2.0 beta 1,2012-09-04,"","",100,2012-09-04 16:26,"","",790150,"",Git 1.2 (master),"The ""Set-Cookie"" headers must be set via setCookie().
28 TYPO3\FLOW3\Http\Headers::set(""Set-Cookie"", ""JSESSIONID=0000bpxjzMKKBYiEQM5yG5xd5CG:15rk67n7r; Path=/"", boolean)

If the foreign webserver sends an header ""Set-Cookie"" FLOW3 throws an Exception, and breaks header - parsing. So no content from Servers sending cookies can be extracted."
40657,TYPO3.Flow,Bug,"",Resolved,Must have,Session Timeout default should be 3600 seconds,Christian Müller,Christian Müller,2012-09-05 13:35,"",2.0 beta 1,2012-09-05,"","",100,2012-09-05 12:48,"","",791650,"",Git 1.2 (master),""
40658,TYPO3.Flow,Bug,"",Resolved,Should have,InternalRequestEngine discards exception status codes,Karsten Dambekalns,Karsten Dambekalns,2012-09-06 05:35,- Testing -,1.1.1,2012-09-05,"","",100,2012-09-05 12:52,"","",791700,"",FLOW3 1.1.0,"The InternalRequestEngine set the status code in case of an exception to 500 in any case. With this change it will instead use the code defined in an exception, if available."
40661,TYPO3.Flow,Bug,Bug #36988: PropertyMapper chokes on Objects that are already converted,Resolved,Must have,The PropertyMapper can still choke on compositeTypes like collection<entity>,Marc Neuhaus,Marc Neuhaus,2013-04-02 16:30,Property,1.1.1,2012-12-25,"","",100,2012-09-05 14:05,"","",791850,0.00,FLOW3 1.1.0,The PropertyMapper can still choke on already converted objects if the targetType is a composite Type like Collection<Domain\Entity>
40738,TYPO3.Flow,Bug,"",Resolved,Should have,Move System logger className to Settings instead of Objects.yaml,Henrik Møller Rasmussen,Karsten Dambekalns,2013-08-14 09:39,Log,1.1.1,2012-09-07,"","",100,2012-09-07 12:05,"","",795450,"",(any),TYPO3\FLOW3\Log\Logger is hard coded in Scripts.php line 133. This class could be moved to Settings.yaml instead.
40760,TYPO3.Flow,Bug,"",Resolved,Must have,Unit Tests should not fail after AuthenticationController rewrite,Christian Müller,Christian Müller,2012-09-08 11:35,- Testing -,2.0 beta 1,2012-09-08,"","",100,2012-09-08 11:15,"","",796550,"",Git 1.2 (master),""
40802,TYPO3.Flow,Bug,"",Accepted,Should have,Documentation mistake (authentication),Kay Strobach,Karsten Dambekalns,2014-03-20 09:13,- Documentation -,1.1.1,2012-09-10,"","",0,2012-09-10 15:39,"","",798650,"",FLOW3 1.1.0,"Hello guys,

on http://flow3.typo3.org/documentation/guide/partiii/security.html#using-the-authentication-controller
There is a mistake in the documentation: 

 * flow3/authenticate should be flow3/authentication

Regards
Kay"
40824,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Modified action controller methods not detected properly,Francois Suter,Andreas Förthner,2012-10-01 14:33,"","",2012-09-11,"","",0,2012-09-11 08:16,"","",799700,"",FLOW3 1.1.0,"I had the issue when changing an action method's signature in a controller, the security framework threw an access forbidden exception. Flushing the cache solved the problem

According to Christian Müller, such a change should be detected automatically. Flushing the cache should not be necessary."
40828,TYPO3.Fluid,Task,"",Resolved,Should have,Enhance Exception: #1224479063: Duplicate variable declarations! (More information) ,Kay Strobach,Karsten Dambekalns,2012-09-13 15:35,Core,1.1.1,2012-09-11,"","",100,2012-09-11 12:14,"","",799900,"","",The Exception '#1224479063: Duplicate variable declarations! (More information)' Information misses the variablename which is double defined :D - would be nice to get this information instantly
40840,TYPO3.Flow,Bug,"",Resolved,Must have,Wrong escape character in Configuration/Settings.yaml,Christian Jul Jensen,Christian Jul Jensen,2012-09-11 17:35,Configuration,2.0 beta 1,2012-09-11,"","",100,2012-09-11 16:37,"","",800500,"",Git 1.2 (master),"In yaml backslash is not a valid escape character in single quoted strings, the only allowed escape-sequence is '' (two single quotes) resulting in one single quote in the string. In double-quotes it works as in PHP.

http://yaml.org/spec/current.html#id2534365

In newer versions of the Yaml component this will result in a fatal error, it was previously tolerated



"
40854,TYPO3.Flow,Task,"",New,Must have,Update security documentation (authentication in 1.2),Karsten Dambekalns,"",2013-08-14 09:35,- Documentation -,2.0.1,2012-09-12,"","",0,2012-09-12 03:53,"","",801150,"","",The new authentication controller needs to be documented.
40857,TYPO3.Flow,Feature,"",Resolved,Should have,"When template is automatically retrieved but not found, a hint about the tried location should be present",Adrian Föder,Adrian Föder,2012-12-12 10:02,MVC,2.0 beta 1,2012-09-12,"","",100,2012-09-12 04:53,"","",801300,"","","Currently, Fluid throws a nice exception when a template file couldn't be found at a tried location.
FLOW3, however, eats this exception and gives a generic ""No template was found. View could not be resolved for action ...""
This should be augmented with the tried path which can give a perfect hint *why* the file was not found (eg a simple typo or a controller name the developer wasn't aware of).

"
40863,TYPO3.Flow,Task,"",Resolved,Should have,Update to Doctrine ORM version 2.3.x,Karsten Dambekalns,Karsten Dambekalns,2012-11-07 03:35,Persistence,2.0 beta 1,2012-05-24,"","",100,2012-09-12 07:06,"","",801600,"","",Make sure we can use stock 2.3 packages to be able to rely on composer.
40888,TYPO3.Flow,Bug,"",Resolved,Should have,Add ViewNotFoundException,Karsten Dambekalns,Bastian Waidelich,2012-12-11 16:45,MVC,2.0 beta 1,2012-09-13,"","",100,2012-09-13 02:55,"","",802800,"",Git 1.2 (master),As noted in a comment on https://review.typo3.org/14439 we should not use @NotFoundView@ ourselves anymore. Thus it seems we should add a @ViewNotFoundException@ exception to handle that case.
40890,TYPO3.Flow,Bug,"",Resolved,Should have,Display error message if Data is not writeable,Robert Lemke,Robert Lemke,2012-12-11 04:27,Core,2.0 beta 1,2012-09-13,"","",100,2012-09-13 05:15,"","",802900,"",Git 1.2 (master),"Currently the mkdir() command in Bootstrap doesn't check for any warnings if the directory Data or Data/Persistent could not be created.

If these directories can't be created, a proper error message should be displayed."
40984,TYPO3.Flow,Bug,"",Resolved,Must have,CsrfProtectionAspect fails with paginate view helper and empty f:link action argument,Pankaj Lele,"",2012-09-18 14:35,Security,2.0 beta 1,2012-09-17,"","",100,2012-09-17 04:46,"","",807300,"",Git 1.2 (master),"When Paginate ViewHelper is used in any template FLOW3 fails while adding Csrf token to the pagination links. It fails even after adding @FLOW3\SkipCsrfProtection as a known workaround for pagination. 

Exact error seen is ""The parameter class is expected to be either a string or an object "". With topmost backtrace lines as:

- ReflectionMethod::__construct(FALSE, ""indexAction"")

- TYPO3\FLOW3\Reflection\ReflectionService::getMethodAnnotations(FALSE, ""indexAction"", ""TYPO3\FLOW3\Annotations\SkipCsrfProtection"")

- TYPO3\FLOW3\Reflection\ReflectionService::isMethodAnnotatedWith(FALSE, ""indexAction"", ""TYPO3\FLOW3\Annotations\SkipCsrfProtection"")

One of the functional test for ViewHelper is also failing because of empty action.  http://ci.typo3.robertlemke.net/job/Fluid-ViewHelperTest/lastCompletedBuild/testReport/"
40989,TYPO3.Flow,Task,Story #41031: Composer support for packaging,Resolved,Must have,Autoloader in ClassReflection is not unregistered if reached,Christian Jul Jensen,Christian Jul Jensen,2012-09-18 04:36,Reflection,2.0 beta 1,2012-09-17,"","",100,2012-09-17 05:53,"","",807550,"","","The autoloader in ClassReflection that throws an exception if reached - indicating that a file could not be properly loaded for reflection - and thereby avoiding a fatal error, does not get unregistered if the situation occurs. Leaving the autoloader hanging. This causes trouble if fx. a class_exists call is made for an non-existing class."
40998,TYPO3.Fluid,Bug,"",Under Review,Should have,Missing parent request namespaces in form field name prefix,Karsten Dambekalns,Sebastian Kurfuerst,2013-08-14 09:39,ViewHelpers,1.1.1,2012-09-17,"","",0,2012-09-17 06:11,"","",808000,"",Git 1.1,[add nice description here]
41008,TYPO3.Fluid,Bug,"",Rejected,Should have,f:format.currency should use trim ,Cedric Ziel,"",2013-11-13 22:04,ViewHelpers,"",2012-09-17,"","",0,2012-09-17 11:22,"","",808450,"",(any),"Hello; if you use an IDE and use their reformat feature, you have the problem that viewhelpers get splitted up into several lines just like in the example:

<pre>
<f:format.currency currencySign=""?"" decimalSeparator="","" thousandsSeparator=""."">
   {object.amount}
</f:format.currency>
</pre>

This results in non-supported chars for format_number.

The Viewhelper therefore should trim before calling number_format:

<pre>
number_format(trim($stringToFormat), 2, $decimalSeparator, $thousandsSeparator);
</pre>"
41029,TYPO3.Flow,Bug,"",Accepted,Should have,Method security is also evaluating abstract classes,Rens Admiraal,Karsten Dambekalns,2013-01-19 15:55,Security,"",2012-09-18,"","",0,2012-09-18 03:27,"","",809500,"",Git master,"I want to secure all controllers in my vendor namespace except controllers named LoginController, for that I use the following pointcut expression:

<pre>
ApplicationControllers: 'method(Beech\.*\Controller\.*(?<!Login)Controller->.*Action())'
</pre>

This did not work at all (webredirect forwards me to the LoginController, and as access is denied on the LoginController chrome stops with a TOO_MANY_REDIRECTS).

Some more debugging learned me that the security framework denied access to the abstract class AbstractController (from which the LoginController extends). Implementing all methods from the abstract class in the LoginController does not solve this. Only extending from a class not matching the pattern (\TYPO3\FLOW3\Mvc\Controller\ActionController) solves the issue and has the expected result.

Imagine the more general pattern: .*\Controller\.*(?<!Login)Controller->.*Action(), this would even match the \TYPO3\FLOW3\Mvc\Controller\ActionController and thus block all access.


Question is: Shouldn't the Security Framework only evaluate the actual classnames being used?"
41031,TYPO3 Flow Base Distribution,Story,"",Resolved,Must have,Composer support for packaging,Karsten Dambekalns,Christian Jul Jensen,2012-09-25 05:19,"",2.0 beta 1,2012-09-17,"","",100,2012-09-18 04:36,"","",2953900,0.00,"",""
41046,TYPO3.Flow,Bug,"",Resolved,Must have,Debugger crashes when coming upon Closure variable,Adrian Föder,Adrian Föder,2012-09-19 04:35,Error,2.0 beta 1,2012-09-18,"","",100,2012-09-18 11:52,"","",810300,"",Git 1.2 (master),"consider just

<pre><code class=""php"">
\TYPO3\FLOW3\var_dump(function(){});

// or 

TYPO3\FLOW3\Error\Debugger::renderDump(function(){}, 0);
</code></pre>

This gives the error

> Closure object cannot have properties

because of this line:

<pre><code class=""php"">
if ($object instanceof \TYPO3\FLOW3\Object\Proxy\ProxyInterface || (isset($object->__IS_PROXY__) && $object->__IS_PROXY__ === TRUE)) {
</code></pre>

in Debugger.php on line 220 (@$object@ is the closure in this case, and even trying to access the __IS_PROXY__ thing leads to the exception.

I'm already working on a patch."
41048,TYPO3.Flow,Bug,"",Rejected,Must have,AbstractAuthenticationController namespace does not match folder structure,Christian Jul Jensen,Christian Jul Jensen,2012-10-24 10:12,Security,2.0 beta 1,2012-09-18,"","",0,2012-09-18 13:51,"","",810400,"",Git 1.2 (master),The namespace in AbstractAuthenticationController does not the directory path and thus makes the autoloader fail.
41088,TYPO3.Flow,Bug,"",Resolved,Should have,PackageManagerTest::packageStatesConfigurationContainsRelativePaths fails in Composer branch,Christian Jul Jensen,Christian Jul Jensen,2012-09-24 06:35,Package,2.0 beta 1,2012-09-20,"","",100,2012-09-20 04:10,"","",812300,"",Git 1.2 (master),""
41091,TYPO3.Flow,Bug,"",Resolved,Should have,PackageManagerTest::createPackageThrowsExceptionForExistingPackageKey fails with composer changes,Christian Jul Jensen,Christian Jul Jensen,2012-09-25 05:20,Package,2.0 beta 1,2012-09-20,"","",100,2012-09-20 04:43,"","",812450,"",Git 1.2 (master),createPackage needs to be adapted to interface changes
41092,TYPO3.Flow,Bug,"",Resolved,Should have,PackageManagerTest::deactivatePackageThrowsAnExceptionIfPackageIsProtected fails in composer branch,Christian Jul Jensen,Christian Jul Jensen,2012-09-24 06:35,Package,2.0 beta 1,2012-09-20,"","",100,2012-09-20 04:47,"","",812500,"",Git 1.2 (master),Probably related to the failing CreatePackage tests
41093,TYPO3.Flow,Bug,"",Resolved,Should have,PackageManagerTest::deletePackageThrowsAnExceptionIfPackageIsProtected fails in composer branch,Christian Jul Jensen,Christian Jul Jensen,2012-09-24 06:35,Package,2.0 beta 1,2012-09-20,"","",100,2012-09-20 04:48,"","",812550,"",Git 1.2 (master),Probably related to failing CreatePackage tests
41136,TYPO3.Flow,Feature,"",Resolved,Should have,Convenience function for registering routes in functional tests,Robert Lemke,Robert Lemke,2012-09-21 11:35,- Testing -,2.0 beta 1,2012-09-20,"","",100,2012-09-20 16:19,"","",814400,"","",The functional testcase should provide a registerRoute() method.
41137,TYPO3.Flow,Feature,"",Resolved,Should have,Allow rendering of links without csrf protection token,Christian Müller,Robert Lemke,2012-09-21 11:35,"","",2012-09-20,"","",100,2012-09-20 16:44,"","",814450,"","",Currently there is no way to render a link without a token when authenticated even if the action you link to is available without authentication. This prevents to create useful links for emails or also TYPO3 Phoenix.
41146,TYPO3.Flow,Bug,"",Resolved,Must have,Query with setOffset returns count() = 0,Carsten Bleicker,Bastian Waidelich,2012-12-12 03:24,Persistence,2.0 beta 1,2012-09-21,"","",100,2012-09-21 04:03,"","",814850,"",Git 1.2 (master),"f.e. in the paginateController: Line# 72:

.....

$query = $this->objects->getQuery();
$query->setLimit($itemsPerPage);
if ($this->currentPage > 1) {
	$query->setOffset((integer)($itemsPerPage * ($this->currentPage-1)));
}
		
$modifiedObjects = $query->execute();

......


Result:
$modifiedObjects->count() will return 0 wich sould be the number of records per page f.e.
This 0 makes the iterator.isLast impossible in the child rendering f:for
"
41148,TYPO3.Flow,Bug,"",New,Must have,Converting of ValueObjects,Carsten Bleicker,"",2012-12-13 06:35,"","",2012-09-21,"","",0,2012-09-21 04:10,"","",814950,"",Git master,"having a Model ""Category"" as a valueObject and want to display Articles having this Category assigned the mapping fails with Creation not allowed exception.


Uri looks like this:
listarticlesbycategory?category[__identity]=1ffb48f0cda7a90ace1f460d7bcc387a7274a777

f.e.:
listArticlesByCategory(\Vendor\Package\Domain\Model\Category $category)


think this is a bug in PersistentObjectConverter. This unsets the __identifier so its recognized as a new one.



"
41157,TYPO3.Flow,Bug,"",Resolved,Should have,TYPO3.FLOW3.object.excludeClasses gives fatal error if a configuration exists for a non-installed package,Christian Jul Jensen,Christian Jul Jensen,2012-09-25 05:19,Object,2.0 beta 1,2012-09-21,"","",100,2012-09-21 05:52,"","",815350,"",Git 1.2 (master),""
41169,TYPO3.Flow,Bug,"",Closed,Should have,Routing Cache caches csrf protection tokens,Christian Müller,Bastian Waidelich,2013-05-31 12:47,MVC - Routing,"",2012-09-21,"","",0,2012-09-21 10:11,"","",815900,"",Git master,"If you look at the saved urls in routing cache files you will see that csrf protection tokens are cached in there, which is not very useful."
41180,TYPO3.Kickstart,Bug,"",Resolved,Should have,Kickstart generates classes in wrong path in 1.2 (PSR-0 issue),Christian Jul Jensen,Christian Jul Jensen,2012-09-25 07:35,"",2.0 beta 1,2012-09-21,"","",100,2012-09-21 10:42,"","",816450,"",Git 1.2 (master),FLOW3 1.2 is fully PSR-0 so classes path should be prefixed with namespace-path
41181,TYPO3.Flow,Bug,"",Resolved,Should have,Package->getClassesPath returns path without trailing slash,Christian Jul Jensen,Christian Jul Jensen,2012-09-25 05:19,Package,2.0 beta 1,2012-09-21,"","",100,2012-09-21 10:44,"","",816500,"",Git 1.2 (master),"This behaviour breaks the API. Also question is if it should append namespaced path.

"
41252,TYPO3.Flow,Bug,"",Closed,Should have,Object Route Part to Integer ID generates dash in URL,Mario Rimann,Bastian Waidelich,2013-07-09 03:37,MVC - Routing,"",2012-09-22,"","",0,2012-09-22 07:48,"","",820000,"",FLOW3 1.1.0,"I have a model that has an ID property that is configured like:

<pre>
	/**
	 * The ID of this task
	 *
	 * @var integer
	 * @FLOW3\Identity
	 * @ORM\Column(columnDefinition=""INT(11) NOT NULL AUTO_INCREMENT UNIQUE"")
	 */
	protected $id;
</pre>

And the following route definition:

<pre>
-
  name: 'Task Detail view'
  uriPattern: 'tasks/{task}'
  defaults:
    '@package':    'My.Package'
    '@controller': 'Task'
    '@action':     'show'
  routeParts:
    task:
      objectType: 'My\Package\Domain\Model\Task'
</pre>

Using the following Fluid Snippet, my list view generates URLs that are working properly - but showing a ""-"" in the URL that I don't expect/want to be in the URL:

<pre>
<f:link.action action=""show"" controller=""Task"" arguments=""{task: task}"">
	{task.title}
</f:link.action>
</pre>

Expected URL:
<pre>
http://dev.foo.lo/tasks/15
</pre>

Current URL:
<pre>
http://dev.foo.lo/tasks/-15
</pre>"
41297,TYPO3.Flow,Feature,"",Rejected,Should have,Add a way to extends the Account security model,Dominique Feyer,Bastian Waidelich,2014-03-11 04:48,Security,"",2012-09-23,"","",0,2012-09-23 09:58,"","",822250,"","","Currently it's not possible to extend the \TYPO3\FLOW3\Security\Account. I try to use the same configuration as in the TYPO3.Party package.

1. I create a AbstractAccount abstract
2. I create Account that extension AbstractAccount

The AbstractAccount has the following annotations:

* @FLOW3\Entity
* @ORM\InheritanceType(""JOINED"")

When I start the doctrine:update (or migration), it fail with this message:

<pre>
Uncaught Exception
  There is no column with name 'accountidentifier' on table
  'typo3_flow3_security_account'.

More Information
  Exception code      #30
  File                /Users/dfeyer/Sites/dev/medialib.tv.ttree.dev/Packages/Framework/Doctrine.DBAL/Classes/Schema/SchemaException.php line 60
</pre>

In my project I have a mutli domain application, where I need to apply a security policy, based on the current domain. I need to add a ""owner"" field (and have this field as Identity, to allow the same username in different domain instance). We can sponsor, this feature if needed.

When i check the Party package, I found no other configuration and/or annotation. What's wrong in my proposition ?

Bests,"
41301,TYPO3.Flow,Feature,"",Rejected,Could have,Allow action-method-dependent errorAction,Adrian Föder,"",2013-10-21 10:33,MVC,"",2012-09-24,"","",0,2012-09-24 03:21,"","",822450,"","","currently, there's only one errorAction for all errors, no matter what action actually has been invoked.

This will follow the naming convention, means, if there is a @deleteAction@, for example, there could be a @deleteActionErrorAction@ which will be called rather than the ""fallback"" errorAction; if its present.
"
41310,TYPO3.Flow,Task,Story #41031: Composer support for packaging,Resolved,Must have,Web/index.php is not installed,Karsten Dambekalns,Christian Jul Jensen,2012-09-25 05:19,"",2.0 beta 1,2012-09-24,"","",100,2012-09-24 06:05,"","",822900,"","",With composer the @Web/index.php@ script is not installed.
41334,TYPO3.Flow,Bug,"",Resolved,Must have,Handle missing type in composer manifest gracefully ,Karsten Dambekalns,Karsten Dambekalns,2012-09-25 05:19,Package,2.0 beta 1,2012-09-24,"","",100,2012-09-24 16:58,"","",824000,"",Git 1.2 (master),""
41358,TYPO3.Flow,Feature,"",Resolved,Could have,Allow class/interface constants in configuration directives,Adrian Föder,Adrian Föder,2012-11-08 09:35,Configuration,2.0 beta 1,2012-09-25,"","",100,2012-09-25 09:17,"","",825200,"","","currently, only ""raw"" plain PHP constants can be used in YAML files, like @%FLOW3_PATH_FLOW3%@.
IMHO nothing speaks against allowing class constants to be used here, too."
41369,TYPO3.Flow,Bug,"",Resolved,Must have,Web/.htaccess is not installed,Karsten Dambekalns,Karsten Dambekalns,2012-09-25 17:35,"",2.0 beta 1,2012-09-24,"","",100,2012-09-25 16:35,"","",825750,"",Git 1.2 (master),With composer the @Web/.htaccess@ file is not installed.
41378,TYPO3.Flow,Feature,"",Resolved,Must have,Allow to keep existing files in copyDirectoryRecursively(),Karsten Dambekalns,Karsten Dambekalns,2012-09-26 06:36,Utility,2.0 beta 1,2012-09-26,"","",100,2012-09-26 04:01,"","",826200,"","",This is needed to the Composer post-install script?
41414,TYPO3.Flow,Task,"",Needs Feedback,Should have,Check packageKey naming / file structure below Packages/Vendor,Rens Admiraal,"",2012-11-07 05:39,Package,"",2012-09-27,"","",0,2012-09-27 05:20,"","",828000,"","","It leads to a confusing situation if you install a composer package with dashes in the name. The actual packageKey to use in FLOW3 (for example while configuring excludeClasses) is without dashes, while the folder structure used by composer does contain the dashes. This can be confusing.

This issue is created so this can be discussed.

Example package:
https://github.com/simplethings/EntityAudit/blob/master/composer.json

This leads to the following folder structure below Packages/Vendor:

<pre>
??? composer
??? simplethings
?   ??? entity-audit-bundle
??? symfony
    ??? dom-crawler
    ??? yaml
</pre>

The code from the PackageStates.php:
<pre>
    'simplethings.entityauditbundle' => 
    array (
      'state' => 'active',
      'packagePath' => 'Vendor/simplethings/entity-audit-bundle/',
      'classesPath' => 'src/',
    ),
</pre>"
41418,TYPO3.Flow,Bug,"",Resolved,Must have,"Manifestpath detection broken, exception in production context",Karsten Dambekalns,Karsten Dambekalns,2012-09-28 08:35,Package,2.0 beta 1,2012-09-27,"","",100,2012-09-27 07:37,"","",828200,"",Git 1.2 (master),In production context class loading fails because the classloader has a wrong map for namespaces. This is caused by getNamespace() doing the wrong thing - because it finds no composer manifest. See screenshot for why.
41420,TYPO3.Flow,Feature,"",New,Should have,Support entity versioning,Rens Admiraal,Rens Admiraal,2012-09-27 08:11,Persistence,"",2012-09-27,"","",0,2012-09-27 08:11,"","",828300,"","",Support versioning of entities with for example https://github.com/simplethings/EntityAudit
41421,TYPO3.Flow,Feature,"",Resolved,Must have,copyDirectoryRecursively() needs to copy dotfiles,Karsten Dambekalns,Karsten Dambekalns,2012-09-28 05:35,Utility,2.0 beta 1,2012-09-27,"","",100,2012-09-27 08:31,"","",828350,"","",""
41439,TYPO3.Fluid,Feature,"",Rejected,Should have,"Argument to add an active-state class to ""f:link.action""",Michael Gerdemann,Bastian Waidelich,2012-12-12 08:36,ViewHelpers,"",2012-09-28,"","",0,2012-09-28 03:21,"","",829250,"","","If the rendered template exactly matches the action, it would be great if you would have the ability to automatically add a ""active"" class."
41444,TYPO3.Flow,Bug,"",Closed,Must have,Resource->getUri does not return the same as getResourcePointer->getHash,Adrian Föder,Adrian Föder,2012-09-28 06:51,Resource,2.0 beta 1,2012-09-28,"","",0,2012-09-28 06:31,"","",829500,"",(any),so far just as a note to myself; will proof this with a Test.
41449,TYPO3.Flow,Bug,"",Resolved,Could have,Generated composer manifest should have 'Description' field,Christian Jul Jensen,Christian Jul Jensen,2012-11-12 03:46,Package,2.0 beta 1,2012-09-28,"","",100,2012-09-28 07:56,"","",829750,"",Git 1.2 (master),PackageManager::writeComposerManifest generates no Description field if no Metadata is passed. This results in an invalid composer-manifest. It doesn't seem to actually yield any problems or errors with composer per se though.
41451,TYPO3.Flow,Bug,"",Resolved,Must have,Part II: Getting started: Validation lacks NotEmptyValidator mentioning,Adrian Föder,Adrian Föder,2012-12-10 07:07,- Documentation -,2.0 beta 1,2012-09-28,"","",100,2012-09-28 08:07,"","",829850,"",(any),""
41459,TYPO3.Flow,Bug,"",Resolved,Should have,Version information missing,Pankaj Lele,Bastian Waidelich,2013-12-17 03:04,Command,"",2012-09-28,"","",100,2012-09-28 14:52,"","",830250,"",Git master,"FLOW3 version information is missing when running ./flow3 help command

<pre>
./flow3 help
FLOW3  (""Development"" context)
usage: ./flow3 <command identifier>
</pre>"
41466,TYPO3 Flow Base Distribution,Story,"",Resolved,Should have,Rename things,Karsten Dambekalns,Karsten Dambekalns,2012-12-10 07:26,"",2.0 beta 1,2012-09-29,"","",100,2012-09-29 15:09,"","",2953950,"","",""
41496,TYPO3.Flow,Bug,"",New,Must have,"Upload identical Resources, deleting fails",Martin Ebeling,"",2012-10-01 11:57,Resource,"",2012-10-01,"","",0,2012-10-01 11:57,"","",832000,"",FLOW3 1.1.0,"If you have models where you can attach/upload Resources the deletion will fail.
Due to a Foreign key constraint in typo3_flow3_resource_resource the resourcepointer is inserted multiple times.

When you try to delete the model the resourcepointer can not be deletet because its still available in the resource table due to the connection of the same hash to the typo3_flow3_resource_resource.

My Idea for fixing it adding the system time to the hash."
41497,TYPO3.Flow,Bug,"",Resolved,Must have,PackageStates are written on each request,Christopher Hlubek,Christopher Hlubek,2012-10-03 18:35,Package,"",2012-10-01,"","",100,2012-10-01 12:36,"","",832050,"",Git 1.2 (master),With the introduction of Composer in the PackageManager a bug was introduced that saves package states on each call to @loadPackageStates@ which triggers re-compilation of all proxy classes.
41499,TYPO3.Flow,Bug,"",Resolved,Must have,Class cache is not flushed from class changes,Christopher Hlubek,Christopher Hlubek,2012-10-03 18:35,"","",2012-10-01,"","",100,2012-10-01 13:25,"","",832150,"",Git 1.2 (master),"An updated class file is picked up correctly from the file monitoring but the according cache entries are not flushed, since the file name doesn't have the supposed layout after the PSR-0 refactoring."
41508,TYPO3 Flow Base Distribution,Task,"",Under Review,Should have,Replace Jasmine by Buster.js,Rens Admiraal,Rens Admiraal,2012-10-01 14:58,"","",2012-10-01,"","",0,2012-10-01 14:57,"","",832600,"","","Before the interface switch to Emberjs we used Jasmine testrunner for running tests. This runner needed generated HTML files before running tests, and did not have support for attaching multiple browsers. Buster.js does have this support and allows running tests using phantomjs which has full webkit javascript support."
41524,TYPO3.Flow,Bug,"",Closed,Should have,csrfToken not added to action links having action method name with more than 1 word,Pankaj Lele,Bastian Waidelich,2012-10-18 04:21,Security,"",2012-10-02,"","",0,2012-10-02 06:39,"","",833400,"",Git 1.2 (master),"In short: csrfToken is not added to links who's target action is ""someOtherAction"" but only works for action names like ""someAction""

After digging a little bit in code I found that UriBuilder->uriFor() makes the @action argument forcefully lowercase and hence $this->reflectionService->hasMethod($className, $actionName) in the CsrfProtectionAspect returns false."
41525,TYPO3 Flow Base Distribution,Bug,"",Closed,Should have,"Fields Validated in Controller not highlightet, just Error shown",Martin Ebeling,Christian Müller,2012-12-17 07:26,"","",2012-10-02,"","",100,2012-10-02 06:41,"","",833450,"",FLOW3 1.1.0,"Fields are not highlighted if Validation is at ControllerAction like

        /**
	 * @param string $name
	 * @FLOW3\Validate(argumentName=""name"", type=""NotEmpty"")
	 * 
	 * @param string $email
	 * @FLOW3\Validate(argumentName=""email"", type=""NotEmpty"")
	 * @FLOW3\Validate(argumentName=""email"", type=""EmailAddress"")
	 * @return void
	 */
	public function createAction($name, $email) {

Just these errors are shown

[ERROR]
name: 1221560718 : This property is required.
email: 1221560718 : This property is required.
Errors occurred

Please check the highlighted fields below!
[END]

For getting these errors shown in View, I mainly copied the partials from the ConferencePackage

Mainly I tried to have a form where I create an Person, extended to a student class. 
The Errors validated in the StudentModel are shown in the form.

Additional to that I need to have PersonName also Validatet, without putting all these fields in the extended personClass.


"
41533,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Ignored object-validation in editAction when redirecting back from updateAction,Simon Schick,"",2012-10-10 03:27,"","",2012-10-02,"","",0,2012-10-02 11:40,"","",833850,"",FLOW3 1.1.0,"I tried to create a blog following The Definitive Guide.

I ran into the ""problem"" that I did not got the exception described on http://flow3.typo3.org/documentation/guide/partii/validation.html#validating-updated-arguments.

As I Tried updating a post with an empty title and submitting the form I got back to the editAction, seeing the form having an empty title-field.
In addition I saw the error-info ""title: This property is required."".
So I did not have to add the annotation ""@FLOW3\IgnoreValidation(""$post"")"".

Before I added the annotations ""@FLOW3\Validate(type=""NotEmpty"")"" to the model, I saved a post having an empty title and I was not able to open this post in the edit-view.

Here's the source of the controller and the model: https://gist.github.com/3819948"
41571,TYPO3.Flow,Bug,"",Closed,Must have,UriBuilder doesn't properly handle arguments of SubRequests,Marc Neuhaus,Marc Neuhaus,2012-11-25 17:15,"",2.0 beta 1,2012-10-03,"","",0,2012-10-03 12:35,"","",834800,"",Git 1.2 (master),"If you're creating a link inside a SubRequest that link currently doesn't add/remember the Arguments, Controller, etc from the parentRequest if it's nested more than one level.

For example: I'm creating a kind of Application Frame/Scaffold to integrate other Packages/Controller, for that i've created an ScaffRuntime to encapsulate the other controllers inside a SubRequest and add that generated content to my layout. Now, if i use a controller which uses the ExposeRuntime to expose some Models the links generated inside that SubRequest don't carry on the arguments set in the ScaffRuntime, which results in completly useless links and redirects.

Links in SubRequest should carry all arguments of parentRequests with it, because normally a link inside a SubRequest doesn't change anything about there parents, because they probably don't even know about them."
41657,TYPO3.Flow,Bug,"",Resolved,Must have,ActionRequest does not resolve correctly cased package key,Jan-Erik Revsbech,Jan-Erik Revsbech,2012-11-12 03:50,Package,"",2012-10-07,"","",100,2012-10-07 13:31,"","",838850,"",Git 1.2 (master),"The methods createPackage in class TYPO3\Flow\Package\PackageManage no longers generates the Package.php. The kickstart:package command uses this methods when kickstarting new packages, and the missing Package.php lead to seemingly unrelated errors like not not being able to correctly translate lower-case packagename to correct packagename.

I'm not sure why the file is no longer generated, it seems to be in relation to the Composer changes of the PackageManager, and it might very well be by intention. 

If its by intention, we need to change the setControllerPackageKey of ActionRequest, since it calls the ObjectManger->getCaseSensitiveObjectName looking for the Package class, which when missing fails to find the correct PackageKey.

Anyone knows if its by intention it was omitted from the packagemanager?"
41706,TYPO3.Eel,Feature,"",Resolved,Should have,Provide standard library with configurable usage,Christopher Hlubek,Christopher Hlubek,2013-11-15 15:35,"","",2012-10-08,"","",100,2012-10-08 05:54,"","",840750,"","","Eel should include a *standard library* with the most basic functions for Date, String and Array.

Suggestion:

<pre><code>
Date.now().format(""d.m.Y"")
String.strftime(""%d.%m.%Y"", Date.now())
Array.join(Array.reverse(items), ' - ')
Array.count([1, 2, 3])
</code></pre>

Eel should still be usable with an empty Context for total flexibility."
41727,TYPO3.Flow,Bug,"",Accepted,Should have,"@Flow\Identity and @ORM\InheritanceType(""JOINED"") can't be used together",Irene Höppner,Karsten Dambekalns,2013-01-21 11:15,"","",2012-10-08,"","",0,2012-10-08 10:52,"","",841800,"",(any),"If you have a superclass

<pre>
/**
 * @Flow\Entity
 * @ORM\InheritanceType(""JOINED"")
 */
class Person {
	/**
	 * @var string
	 * @Flow\Identity
	 */
	protected $email;

[getters and setters...]

}
</pre>

and a corresponding subclass

<pre>
/**
 * @Flow\Entity
 */
class SpecialPerson extends \In2code\IdentityMigrationTest\Domain\Model\Person {

}
</pre>

the doctrine:migrationgenerate and doctrine:update commands fail with the following exception:

<pre>
Uncaught Exception
  There is no column with name 'email' on table
  'in2code_identitymigrationtest_domain_model_specialperson'.

More Information
  Exception code      #30
  File                /Users/ihoeppner/Sites/Base/Packages/Vendor/doctrine/dbal/lib/Doctrine/DBAL/Schema/SchemaException.php line 60
</pre>


Also some functional tests fail with ""Doctrine\DBAL\Schema\SchemaException : There is no column with name 'email' on table 'in2code_identitymigrationtest_domain_model_specialperson'."".

Removing either the @ORM\InheritanceType annotation or the @Flow\Identity annotation ""resolves"" the problem.

This regards to version 1.1.0 and 1.2.0-dev."
41807,TYPO3.Flow,Task,"",Under Review,Should have,Initialize the eventmanager in the EntityManagerInterface,Rens Admiraal,Rens Admiraal,2013-05-21 07:28,Persistence,"",2012-10-09,"","",0,2012-10-09 14:28,"","",845800,"","","Doctrine extensions often need to register themselves to the EventManager. This EventManager is now not passed to the EntityManager by Flow, thus the EntityManager initiates an instance itself."
41809,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,ConfigurationBuilder throws an error on classes without methods,Rens Admiraal,Rens Admiraal,2012-11-08 15:36,"",2.0 beta 1,2012-10-09,"","",100,2012-10-09 15:41,"","",845900,"",Git 1.2 (master),The ConfigurationBuilder does a foreach over the result of get_class_methods($class). This throws a fatal error if the class does not have methods.
41818,TYPO3.Flow,Bug,"",Resolved,Should have,Development Performance: Improve performance of Compile Run if no changes appeared,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-15 09:36,Core,2.0 beta 1,2012-10-10,"","",100,2012-10-10 03:40,"","",846350,"",(any),"I profiled performance of development context; and found the following:

* A lot of time is spent during *typo3.flow:objectmanagement:proxyclasses* - as expected. For my neos instance, roughly 1.8 seconds of 3.1 seconds of Neos Development Mode (See before.png -- the *white* bar is proxy class building.
* When drilling down into the compile-time run which is then executed, you see that lots of time is spent inside *typo3.flow:objectmanagement:compiletime:finalize*  -- 1.2 of a total of 1.5 seconds. (before-compiletime.png)
* If there were no changes to the source files, the CoreCommandController::compileCommand just returns early
** Actually, you see that we *only* need to fully initialize the object manager in the compile command *if* anything changed.

**Goal:** If no changes occured, do not run the *typo3.flow:objectmanagement:compiletime:finalize* command, such that the compile-time run only runs for 0.3 seconds in my case.

* After the optimization is applied, you see inside *comparison-before-after.png* that the runtime goes down from about 3.1 to 1.8 seconds if there were no changes to source files.

This is mostly work in progress and meant as a discussion base

See the attached changeset at https://review.typo3.org/#/c/15472/ for a WIP implementation"
41832,TYPO3.Flow,Task,Bug #41843: Composer and rename issues (umbrella issue),New,Should have,Improve error handling for incompatible packages,Bastian Waidelich,Christian Jul Jensen,2012-10-10 08:44,Package,"",2012-10-10,"","",0,2012-10-10 07:00,"","",847050,"","","Installing packages that are not PSR-0 compatible currently produces some very unexpected errors:

For example when installing *ruflin/Elastica* from packagist I get following fatal error:
<pre>
Execution of subprocess failed with exitcode ""255"" and output:

Fatal error: Cannot redeclare class Elastica_Client in
Packages/Vendor/ruflin/Elastica/lib/Elastica/Client.php
on line 11
</pre>

Following line in my distributions *Settings.yaml* solved it for me (but it took me a *while* ;)
<pre>
<code class=""yaml"">
TYPO3:
  Flow:
    object:
      excludeClasses:
       'ruflin.Elastica' : ['Elastica\\.*']
</code>
</pre>

When trying to install/use a Flow package that has not yet been converted to be PSR-0 compliant, I also get a fatal error that's very hard to comprehend:

<pre>
Uncaught Exception
  Execution of subprocess failed with exitcode ""1"" and output:

  Uncaught Exception
    Warning: Invalid argument supplied for foreach() in

  Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Object/Configuration/ConfigurationBuilder.php
    line 362

  More Information
    Exception code      #1

[...]

More Information
  Exception code      #0

[....]"
41843,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Composer and rename issues (umbrella issue),Karsten Dambekalns,"",2013-01-15 11:19,"","",2012-10-10,"","",60,2012-10-10 08:44,"","",847600,0.00,Git master,""
41848,TYPO3.Flow,Bug,Bug #41843: Composer and rename issues (umbrella issue),Resolved,Must have,Core migration tool applies migrations twice,Adrian Föder,Christopher Hlubek,2012-12-10 07:08,Core,2.0 beta 1,2012-10-10,"","",100,2012-10-10 10:04,"","",847850,"",Git 1.2 (master),"With for example my MooTools.Packager repository located here: http://git.typo3.org/FLOW3/Packages/MooTools.Packager.git I get the following situation when running core:migrate then:

<pre>
Applying TYPO3.FLOW3-201209201112
  Migrating MooTools.Packager
fatal: Could not switch to 'C:/Users/afoeder/PhpstormProjects/acme/Distribution/Packages/Application/MooTools.Packager/Meta': No such file or directory
    [master c322f04] [TASK] Apply migration TYPO3.FLOW3-201209201112
     4 files changed, 2 insertions(+), 2 deletions(-)
     rename Classes/MooTools/Packager/{ => }/MooTools/Packager/Service/PackageBuildConfiguration.php (100%)
     rename Classes/MooTools/Packager/{ => }/MooTools/Packager/Service/PackageBuildService.php (100%)
     rename Classes/MooTools/Packager/{ => }/MooTools/Packager/ViewHelpers/JavaScriptFileViewHelper.php (100%)
  Skipping Twitter.Bootstrap, the migration is already applied.
  Skipping TYPO3.Aloha, the migration is already applied.
  Skipping TYPO3.Comments, the migration is already applied.
  Skipping TYPO3.Eel, the migration is already applied.
  Skipping TYPO3.ElasticSearch, the migration is already applied.
  Skipping TYPO3.ExtJS, the migration is already applied.
  Skipping TYPO3.Form, the migration is already applied.
  Skipping TYPO3.Imagine, the migration is already applied.
  Skipping TYPO3.Media, the migration is already applied.
  Skipping TYPO3.Phoenix.ContentTypes, the migration is already applied.
  Skipping TYPO3.Setup, the migration is already applied.
  Skipping TYPO3.SiteKickstarter, the migration is already applied.
  Skipping TYPO3.TYPO3, the migration is already applied.
  Skipping TYPO3.TYPO3CR, the migration is already applied.
  Skipping TYPO3.TypoScript, the migration is already applied.
</pre>

The git log *afterwards* then says

<pre>
commit c322f040a516bcb2ac105e829d25d91cafeb251c
Author: Adrian Föder <adrian@foeder.de>
Date:   Wed Oct 10 15:38:10 2012 +0200

    [TASK] Apply migration TYPO3.FLOW3-201209201112

    Change-Id: Ife57be5c01835f7bd97c7664cc55d3c55c7e8fa9

commit 857067ec5487b788bf9b86728952e20fb7d1093f
Author: Adrian Föder <adrian@foeder.de>
Date:   Wed Oct 10 13:45:30 2012 +0200

    [TASK] Last trivial FLOW3 to Flow renamings

    Change-Id: Ib5d96ca495c3c1bb39081a6098a394a3bf892e54

commit 01fc419cc1325ec951f4b74e49afbf64ee426188
Author: Adrian Föder <adrian@foeder.de>
Date:   Tue Oct 9 16:41:15 2012 +0200

    Deleted package.php file

    Change-Id: Iedc30438328f2f2f5d1b295ee2c3f64d3be1cc77

commit ec2705c3639820465331607c8fe47aaf29e1c734
Author: Adrian Föder <adrian@foeder.de>
Date:   Tue Oct 9 16:39:18 2012 +0200

    [TASK] Apply migration TYPO3.Flow-201209251426

    Change-Id: I31c8d8915d66507c8b8784d9292cf2c626816d17

commit 6dfad6702899c6f934558607ab50dce64dcde204
Author: Adrian Föder <adrian@foeder.de>
Date:   Tue Oct 9 16:39:18 2012 +0200

    [TASK] Apply migration TYPO3.FLOW3-201209201112

    Change-Id: Ie673fa7944b0d85916ece96c75ba4e3f7f14fe95
:
</pre>

it can clearly be seen that the -1112 migration is applied twice.
Afterwards, the actual class files lay here:

`Classes/MooTools/Packager/MooTools/Packager/[heretheyare]`."
41900,TYPO3.Flow,Feature,Bug #41843: Composer and rename issues (umbrella issue),Accepted,Should have,Check for duplicate PSR-0 autoload namespaces,Robert Lemke,Christian Jul Jensen,2013-05-21 07:28,Package,"",2012-10-12,"","",0,2012-10-12 02:53,"","",850200,"","","Currently, if two packages define the same PSR-0 autoload namespace in their composer.json, it goes unnoticed by the package management.

For example, if someone (let's say, me) just copies a composer manifest from a different package (TYPO3.Flow) and forgets to update the ""autoload"" part, the new package will end up in a directory ""TYPO3.Flow"" too. The symptom then is that no Flow classes can be found by the autoloader, because it looks into the other package directory.

While generating PackageStates.php (or somewhere in that area) we should check for duplicate PSR-0 namespaces and issue a warning."
41989,TYPO3 Flow Base Distribution,Feature,"",Resolved,Should have,Assume integer values to be timestamps in DateTime converter,Helmut Hummel,"",2012-11-08 11:35,"","",2012-10-14,"","",100,2012-10-14 10:21,"","",854500,"","","The DateTime TypeConverter cannot transform integer values to a DateTime object
because of a strict check for string.

Additionally accept integer values and also assume plain digits to be a timestamp
and use ""U"" as date format if no additional configuration is given."
42011,TYPO3.Flow,Feature,"",Resolved,Should have,Display package keys in migration status,Adrian Föder,Adrian Föder,2012-11-08 06:35,Command,2.0 beta 1,2012-10-15,"","",100,2012-10-15 06:22,"","",855600,"","","currently, only a bunch of versions are displayed in @doctrine:migrationstatus@. Display the package names, too.

The result could be

<pre>
    >> 2011-09-25 12:31:20 (20110925123120) TYPO3.Media                 migrated
    >> 2011-09-28 11:40:48 (20110928114048) TYPO3.TYPO3CR               migrated
    >> 2011-12-15 17:20:27 (20111215172027) TYPO3.TYPO3CR               migrated
    >> 2012-02-10 11:13:01 (20120210111301) TYPO3.Comments              migrated
    >> 2012-03-14 13:46:37 (20120314134637) TYPO3.Comments              migrated
    >> 2012-03-28 15:20:41 (20120328152041) TYPO3.Flow                  migrated
    >> 2012-03-29 22:03:40 (20120329220340) TYPO3.Flow                  migrated
</pre>"
42013,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Rename 'Vendor' to 'Libraries',Christian Jul Jensen,Christian Jul Jensen,2012-10-18 10:29,"",2.0 beta 1,2012-10-15,"","",0,2012-10-15 07:16,"","",855700,"","","In accordance with our 'naming should make sense' principle, it has been discussed to call the standard composer directory 'Vendor' something else.

The reason is that even though 'Vendor' is kind of industry standard for the placement of 3rd party packages, The TYPO3-Flow (and related) packages are actually 3rd party in relation to the locally installed project, and the consistent thing would then be to put all those packages in the 'Vendor' dir as well.

Using the word 'Libraries' is thus more meaningful in the context, and since we are not following standard Composer directory-structure anyway, it is not really breaking any conventions."
42025,TYPO3.Flow,Feature,"",Resolved,Could have,Uri type converter,Adrian Föder,Adrian Föder,2012-12-11 16:43,Http,2.0 beta 1,2012-10-15,"","",100,2012-10-15 11:59,"","",856300,"","",provide a URI type converter that converts strings (representing a URL/URI) into real Http\Uri objects
42049,TYPO3.Flow,Feature,"",Resolved,Should have,HTTP Browser: follow Location redirects like a real browser does,Adrian Föder,Adrian Föder,2012-10-18 17:35,Http,"",2012-10-16,"","",100,2012-10-16 09:20,"","",857400,"","","currently, unlike the raw ""RequestEngine"" functionality, a browser is intended to act like a real browser.
This means it should follow ""Location"" redirects if it stumbles opon such."
42082,TYPO3.Flow,Bug,"",Resolved,Must have,uriFor in subrequest does override explicit empty subpackageKey,Christopher Hlubek,Christopher Hlubek,2012-10-19 08:35,"","",2012-10-17,"","",100,2012-10-17 10:34,"","",858950,"",Git 1.2 (master),"This is a bug that was probably introduced or noticed after change Iae8a2a8a39d47d7e99743d78188dccdd4238ccfb.

This causes a problem in ExtDirect subrequests that generate URLs to Controllers not inside a subpackage because the subpackageKey from the current request will always be used (e.g. @Service\ExtDirect\V1@)."
42083,TYPO3.Flow,Bug,"",Resolved,Must have,CSRF token is not appended for actions with mixed case characters,Bastian Waidelich,Bastian Waidelich,2012-10-18 04:35,Security,2.0 beta 1,2012-10-17,"","",100,2012-10-17 10:52,"","",859000,"",Git 1.2 (master),"Since the update (I don't know what exactly broke this), the @CrsfProtectionAspect@ no longer appends the CSRF token when the target action contains uppercase characters (e.g. @someSpecialAction@).

The reason is, that in the aspect the action method name is retrieved all lowercase thus @ReflectionService::hasMethod($className, $actionMethodName)@ returns FALSE if $actionMethodName is not correctly cased."
42101,TYPO3.Flow,Bug,"",New,Must have,Proxyclasses are not rebuild in Development context unless cache is empty,Christian Jul Jensen,"",2013-08-14 09:35,Object,2.0.1,2012-10-17,"","",0,2012-10-17 14:46,"","",859900,"",Git master,"Proxy classes that are missing in the cache are not rebuild, unless the cache is completely flush

Experienced with 81a506011016e2d5091022800c9a509e6c0ac79e

I think this has been introduced quite recently, probably with https://review.typo3.org/#/c/15580/"
42114,TYPO3.Flow,Bug,"",Resolved,Must have,PHPUnit functional tests cannot be run when only installed through composer,Sebastian Kurfuerst,Karsten Dambekalns,2012-12-10 07:34,- Testing -,2.0 beta 1,2012-10-18,"","",100,2012-10-18 03:23,"","",860550,"",Git 1.2 (master),"Steps to reproduce:

* clone base distribution
* adjust composer.json to include <pre>phpunit/phpunit: 3.7.*</pre> as dev-dependency
* run <pre>composer install --dev --prefer-source</pre>
* Then, run unit tests: <pre>bin/phpunit -c Build/buildessentials/PhpUnit/UnitTests.xml</pre>
  -> unit tests report one error. Not sure if this is related, though.
* Then, run functional tests *with empty Data/Temporary/Testing cache*: <pre>bin/phpunit -c Build/buildessentials/PhpUnit/FunctionalTests.xml</pre>
* The following error occurs:

<pre>
± % bin/phpunit -c Build/buildessentials/PhpUnit/FunctionalTests.xml                                                                                                                                     !10497

Uncaught Exception in Flow Execution of subprocess failed with exitcode ""255"" and output:


Warning: require_once(PHPUnit/Autoload.php): failed to open stream: No such file or directory in /Volumes/data/htdocs/FLOW3Base/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Bootstrap.php on line 92

Fatal error: require_once(): Failed opening required 'PHPUnit/Autoload.php' (include_path='.') in /Volumes/data/htdocs/FLOW3Base/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Bootstrap.php on line 92
thrown in file Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php
in line 529
Reference code: 201210180921175c4a48

#0 TYPO3\Flow\Error\DebugExceptionHandler::echoExceptionCli()
   /Volumes/data/htdocs/FLOW3Base/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Error/AbstractExceptionHandler.php:72

#1 TYPO3\Flow\Error\AbstractExceptionHandler::handleException()
</pre>

*Include_path should be only set to ""."", not including any global PEAR include path!*


For reference, the unit test failure is as follows:

<pre>
1) TYPO3\Flow\Tests\Unit\Persistence\Generic\DataMapperTest::mapToObjectReconstitutesExpectedObjectAndRegistersItWithIdentitymapToObjects
Expectation failed for method name is equal to <string:registerObject> when invoked 1 time(s)
Parameter 0 for invocation TYPO3\Flow\Persistence\Generic\Session::registerObject(Entity69505463a5dd66f8694281e0fb1a575e Object (...), '1234') does not match expected value.
Failed asserting that two objects are equal.
--- Expected
+++ Actual
@@ @@
 Entity69505463a5dd66f8694281e0fb1a575e Object (
-    '__phpunit_id' => 'Entity69505463a5dd66f8694281e...575e#0'
+    '__phpunit_id' => null
 )

/Volumes/data/htdocs/FLOW3Base/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Persistence/Generic/DataMapper.php:107
/Volumes/data/htdocs/FLOW3Base/Packages/Framework/TYPO3.Flow/Tests/Unit/Persistence/Generic/DataMapperTest.php:84
/Volumes/data/htdocs/FLOW3Base/Packages/Framework/TYPO3.Flow/Tests/BaseTestCase.php:50
</pre>"
42135,TYPO3.Flow,Feature,"",Resolved,Should have,Include technical details to exceptions in dev context,Bastian Waidelich,Bastian Waidelich,2012-11-12 03:54,Error,2.0 beta 1,2012-10-18,"","",100,2012-10-18 10:09,"","",861500,"","","Since the implementation of custom error renderers (#39423) 404 errors don't show any technical details to the user, even in development context.
This should be changed, so we can include details about the resolved package key, controller name etc if no matching controller could be found."
42164,TYPO3.Flow,Task,"",Resolved,Should have,CGL-Documentation - Add a notice about byte order mark ,Andy Grunwald,Andy Grunwald,2012-12-12 16:11,- Documentation -,"",2012-10-19,"","",100,2012-10-19 03:56,"","",862950,"","","In the PHP and JS CGL there is mentioned that all files must be UTF-8 encoded:

<pre>
Files must be encoded in UTF-8
</pre>

Afaik UTF-8 can ship with byte order mark or without.
In PSR-1 there is a notice about the BOM in UTF-8 files (https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-1-basic-coding-standard.md). 

In some cases the BOM creates some wired problems in PHP.

I think we should add a small notice about the BOM :)"
42168,TYPO3 Flow Base Distribution,Task,"",Closed,Should have,Remove exception for throwing exceptions in oneliners,Rens Admiraal,Rens Admiraal,2012-10-19 05:30,- Documentation -,2.0 beta 1,2012-10-19,"","",0,2012-10-19 05:19,"","",863150,"","","We allowed using a throw statement in a oneline if statement like:

<pre>
if (TRUE) throw new \Exception();
</pre>

We don't allow this anymore, so the exception should be removed. Everything should now be wrapped in curly braces."
42169,TYPO3.Flow,Feature,"",Resolved,Should have,Use named indexes for placeholders in translation labels,Thomas Hempel,Karsten Dambekalns,2012-10-31 12:35,I18n,2.0 beta 1,2012-10-19,"","",100,2012-10-19 06:47,"","",863200,"","","Right now you can replace placedholders in translations like this:

<pre>
<f:translate key=""myKey"" arguments=""{0:'foo', 1:'bar'}"" />
</pre>

The key would look like this:

<pre>
This is my awesome {0}Key that displays some {1}Value 
</pre>

The result would be:

This is my awesome fooKey that displays some barValue.

So far so good. Now it would be better to actually give that placeholders a name because that makes it much easier to understand the translations.

Something like:

<pre>
Template:
<f:translate key=""myKey"" arguments=""{keyName:'foo', valueName:'bar'}"" />

Translation:
This is my awesome {keyName}Key that displays some {valueName}Value 
</pre>"
42176,TYPO3.Flow,Feature,Work Package #45013: Flexible plugin integration (TODO: Reviews),Resolved,Should have,Improve resolving of view,Bastian Waidelich,Marc Neuhaus,2013-08-08 05:06,MVC,"",2012-10-19,"",120.00,100,2012-10-19 09:24,"","",863550,"","","Currently the resolution of a view class and the respective (fluid) template happens really early in the MVC dispatching and is not extensible from the ""outside"".
The actual view & template shold only be resolved while *rendering* the action, so one can intervene *in the action*.
Besides view options (e.g. template/layout/widget root paths, view class name, ...) should be overridable via YAML.

Following steps are required:

* View::canRender() should not be called in ActionController::resolveView() (also remove it from API!)
* remove ?NotFoundView?, instead the View should throw an exception while *rendering* (see #40888)
* documentation! (also include a section on how to use the template of a *different* action)


@Views.yaml@ ( can be easily added through: https://review.typo3.org/#/c/11982/ ):
<pre>
<code class=""yaml"">

# Change the template root path for all packages!
-
  options:
    templateRootPaths: ['resource://My.App/Private/Templates']

# Add layout lookup path for all actions of the ""Foo"" controller in ""Some.Package""
-
  requestFilter: 'isPackage(""Some.Package"") && isController(""Foo"")'
  options:
    layoutRootPaths: ['resource://Other.Package/Private/Layouts', 'resource://Some.Package/Private/Layouts']

# Use a custom view for all actions of ""Some.Package"" if the requested format is ""json""
-
  requestFilter: 'isPackage(""Some.Package"") && isFormat(""json"")'
  viewObjectName: 'Other\Package\View\CustomView'
</code>
</pre>

Note: The previous configuration format we envisioned was something like:
<pre>
My:
  Package:
    viewClassName: TemplateView / TypoScriptView
    options:
      templateRootPath: resources://Other.Package/...
      layoutRootPath: ...
    controllers:
      'List':
        options:
           # ...
       widget:
         'TYPO3\TypoScript\ViewHelpers\Widget\Paginate':
           templateRootPath: ...

        actions:
          'some':
            #...
</pre>"
42240,TYPO3.Eel,Task,"",New,Should have,Make Eel usable outside of TYPO3 Flow,Christopher Hlubek,"",2012-10-21 06:32,"","",2012-10-21,"","",0,2012-10-21 06:32,"","",866750,"","","There is not much coupling to the Flow framework in Eel. To make it usable for any PHP project we have to remove TYPO3 Flow base classes and provide interfaces for tightly coupled implementations.

After a first analysis I figured out the following todos:

* Implement standalone ObjectAccess for @Context@ and @PropertyOperation@ (getPropertyInternal and getPropertyPath)
* Don't extend @TYPO3\Flow\Exception@ in exceptions
* Remove @Package@ class and move Regexp to other type (e.g. @EelEvaluatorInterface@)
* Provide an @OperationResolverInterface@ and provide a non-Flow implementation (e.g. simple array configuration of operations)
* Don't use @UnitTestCase@ for unit test cases, think about way of removing @getAccessibleMock@

This should be everything to make the whole package usable without Flow and remove the composer dependency."
42241,TYPO3.Flow,Bug,"",Resolved,Should have,HTTP Request adds colon to Host header with empty port,Christopher Hlubek,Adrian Föder,2012-12-12 02:33,Http,2.0 beta 1,2012-10-21,"","",100,2012-10-21 06:47,"","",866800,"",Git 1.2 (master),""
42269,TYPO3.Flow,Bug,"",Closed,Should have,Unittests fail with PHPunit 3.7(.8),Christian Jul Jensen,Christian Jul Jensen,2012-12-10 07:13,- Testing -,2.0 beta 1,2012-10-22,"","",0,2012-10-22 07:00,"","",868200,"",Git 1.2 (master),"Output:

There was 1 failure:

1) TYPO3\Flow\Tests\Unit\Persistence\Generic\DataMapperTest::mapToObjectReconstitutesExpectedObjectAndRegistersItWithIdentitymapToObjects
Expectation failed for method name is equal to <string:registerObject> when invoked 1 time(s)
Parameter 0 for invocation TYPO3\Flow\Persistence\Generic\Session::registerObject(Entity519192b8dbb06b57f5a377fec3fc274e Object (...), '1234') does not match expected value.
Failed asserting that two objects are equal.
--- Expected
+++ Actual
@@ @@
 Entity519192b8dbb06b57f5a377fec3fc274e Object (
-    '__phpunit_id' => 'Entity519192b8dbb06b57f5a377f...274e#0'
+    '__phpunit_id' => null
 )

/opt/local/apache2/htdocs/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Persistence/Generic/DataMapper.php:107
/opt/local/apache2/htdocs/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Tests/Unit/Persistence/Generic/DataMapperTest.php:84
/opt/local/apache2/htdocs/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Tests/BaseTestCase.php:50"
42319,TYPO3.Flow,Task,"",Resolved,Should have,Make PATTERN_MATCH_PACKAGEKEY more strict (again),Karsten Dambekalns,Karsten Dambekalns,2012-10-25 09:36,Package,2.0 beta 1,2012-10-23,"","",100,2012-10-23 11:14,"","",870700,"","","The pattern used to check for a valid package key was made less strict during composer integration. Although composer itself imposes almost no restrictions, packagist requires a ""vendor/name"" format. Our pattern should thus at least ensure the key contains a dot (translated from the slash)."
42342,TYPO3.Flow,Bug,"",Resolved,Should have,Fatal error / no possibility to flush caches after package has been removed,Robert Lemke,Christian Jul Jensen,2012-12-11 16:46,Package,2.0 beta 1,2012-10-24,"","",100,2012-10-24 06:55,"","",871850,"",Git 1.2 (master),"Steps to reproduce (*production context!*):

- create Acme.Demo package
- warm up caches
- remove the package manually by just deleting the package directory
- run ./flow or anyhting else

Actual result:

Fatal error: Uncaught exception 'TYPO3\Flow\Package\Exception\InvalidPackagePathException' with message 'Package path does not exist or is no directory.' in /Volumes/HDD/opt/local/apache2/htdocs/Sites/robertlemke.com/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/Package.php on line 99

Expected result:

Handle this more gracefully ? either just ignore it and update PackageStates.php or at least output an error message.
But I'd rather see 1) implemented ?"
42355,TYPO3.Flow,Feature,"",Resolved,Should have,Use public key fingerprint for UUID in RsaWalletService,Christopher Hlubek,Christopher Hlubek,2012-10-29 15:35,"","",2012-10-24,"","",100,2012-10-24 11:11,"","",872500,"","",""
42366,TYPO3.Flow,Feature,"",Rejected,Must have,Make session handling compatible to any PHP session handler,Martin Brüggemann,"",2012-11-19 11:55,Session,"",2012-10-25,"","",0,2012-10-25 01:55,"","",873050,"","","Today there's no possibility to get Flow working with a custom php session save handler like redis or memcached. You can define one in your php.ini but Flow tries to create the session_save_path as a folder if it doesn't exist. This leads to something like this:

<pre>
Uncaught Exception              
  Could not create directory ""tcp://127.0.0.1:6379""!  
</pre>

Flow, Y U no Redis? ;)

My solution would be to add an option called ""TYPO3:Flow:session:PhpSession:saveHandler"" in the Settings.yaml and set this to ""file"" as default. Also there should be a small check, if the save_handler is still ""file"", before trying to create some sesssion storage folders in TYPO3\Flow\Session\PhpSession (in initializeObject and destroyAll). Then it's easy for Flow users to switch to a redis save handler f.e. and get it up running without an exception. "
42368,TYPO3.Flow,Bug,"",Resolved,Must have,Typo in setfilepermissions Script,Ingo Pfennigstorf,Ingo Pfennigstorf,2012-10-25 03:35,Cli,"",2012-10-25,"","",100,2012-10-25 02:17,"","",873150,"",Git 1.2 (master),"The output of the filepermissions script currently is:

""TYPo3 Flow File Permission Script""

Maybe the ""o"" should be uppercase."
42397,TYPO3.Fluid,Feature,"",New,Should have,Missing viewhelper for general links,Arek van Schaijk,"",2012-10-25 13:20,"","",2012-10-25,"","",0,2012-10-25 13:20,"","",874600,"","",By using the TCA link wizard the editor can set a internal/external and mailto link. I have to detect in fluid wich type of link is set before I can choose the right viewhelper now. I understand that I can create my own viewhelper for rendering a multi type link but isnt that basic functionality? So I suggest to include some viewhelper wich can render general links..
42403,TYPO3.Flow,Feature,"",Resolved,Should have,Session handler based on HTTP foundation with multi-backend support,Robert Lemke,Robert Lemke,2012-11-08 11:35,Session,2.0 beta 1,2012-10-25,"","",100,2012-10-25 15:14,"","",874900,"","","I'd like a new session implementation which

* simplifies testing by using the HTTP foundation
* allows for using various storage backends, such as Redis, Memcache, APC, PDO databases etc"
42407,TYPO3 Flow Base Distribution,Story,"",New,Should have,Asset Management,Robert Lemke,"",2012-10-26 03:02,"",2.1,2012-10-26,"","",0,2012-10-26 03:02,"","",2954350,"","","* CDN support
* centralized JS / CSS mgm
* minifiers
* SASS support
* re-use as much concepts and code from Assetic etc. as possible
* seamlessly integrate into existing Resource framework"
42408,TYPO3 Flow Base Distribution,Story,"",New,Could have,Locale Detection / Selection,Robert Lemke,"",2013-06-11 07:31,"",2.1,2013-06-11,"","",0,2012-10-26 03:03,"","",2954400,0.00,"","* support for automatic locale detection
* storing locale in a cookie
* mechanism for overriding locales by user"
42434,TYPO3.Flow,Bug,"",Resolved,Should have,Resource handler not available when session is initialized,Ferdinand Kuhl,Robert Lemke,2012-10-29 05:36,Session,2.0 beta 1,2012-10-26,"","",100,2012-10-26 16:20,"","",876350,"",Git 1.2 (master),"In current master (and all earlier releases) the bootstrap initializes the session before the resource wrappers. If you now try to attach an Image(Variant) from TYPO3.Image to a session, this Variant first checks (during initializeObject()) if the resource is available - which simply is not possible at the session __wakeup event, as there are no registered stream-wrappers yet.

I suggest: Change the order and let session and resource - Steps swap their places."
42452,TYPO3.Flow,Task,Task #51183: CLI improvements,Closed,Should have,Command handling should support global flags,Christopher Hlubek,Bastian Waidelich,2015-02-25 11:45,Cli,"",2012-10-28,"","",0,2012-10-28 04:57,"","",877250,"","","The current help handling in Flow is not intuitive. It would be much easier if every command would understand a ""--help"" switch that would trigger the help for that command. Also the main ""flow"" script should understand ""--help"" in addition to ""help"" like most known commands on the cli do."
42465,TYPO3.Flow,Task,"",New,Should have,Document i18n settings,Karsten Dambekalns,"",2013-08-14 09:35,- Documentation -,2.0.1,2012-10-29,"","",0,2012-10-29 04:42,"","",877900,"","",The documentation does not explain the available settings for i18n.
42467,TYPO3.Flow,Feature,"",Resolved,Should have,NotEmpty Validator does not work with arrays,Alexander Schnitzler,Alexander Schnitzler,2012-12-12 02:32,Validation,2.1,2012-10-29,"","",100,2012-10-29 04:59,"","",878000,"","",Forard-port this patch: https://review.typo3.org/#/c/14707/
42474,TYPO3.Fluid,Bug,"",Closed,Should have,Possible bug with short form conditions in viewhelper tags,Thomas Hempel,Bastian Waidelich,2012-10-30 09:50,ViewHelpers,"",2012-10-29,"","",0,2012-10-29 06:58,"","",878350,"",FLOW3 1.1.0,"Hi,

I'm not entirely sure, if this is a bug or if do something wrong. Some more people looked at it and considered it as a bug. There fore I'm filing this here right now.

The following statement can be found in my template:

<pre>
<f:form.textfield name=""{foo}"" property=""{bar}"" {f:if(condition:'{disabled}', then:'disabled=""disabled""')} />
</pre>

I would expect a textfield with attribute name and a value. It might also have the attribute set. But what I actually get is this:

<pre>
<f:form.textfield name=""firstname"" property=""firstname"" disabled=""disabled"" />
</pre>
(With or without the disabled=""disabled"")

Am I doing it wrong or is this a bug which should be investigated more?

"
42475,TYPO3.Fluid,Bug,"",Closed,Should have,NotEmpty Validator does not work with arrays and objects,Ingo Pfennigstorf,Ingo Pfennigstorf,2012-10-29 08:19,"","",2012-10-29,"","",0,2012-10-29 07:07,"","",878400,"",(any),See #40683
42479,TYPO3.Flow,Feature,"",Closed,Won't have this time,Context dependant Package states,Bastian Waidelich,Bastian Waidelich,2013-05-07 12:39,Package,"",2012-10-29,"","",0,2012-10-29 09:18,"","",878550,"","","It should be possible to (de)activate packages for certain contexts only.
Suggested PackageStates.php syntax:
<pre>
<code class=""php"">
return array (
  'packages' => 
  array (
    'Foo.Bar' => 
    array (
      'manifestPath' => '',
      'state' => 'inactive',
      'packagePath' => 'Application/Foo.Bar/',
      'classesPath' => 'Classes/',
    ),
    'Bar.Baz' => 
    array (
      'manifestPath' => '',
      'state' => 'active',
      'overriddenStateByContext' => array(
        'Production' => 'inactive',
      ),
      'packagePath' => 'Application/Bar.Baz/',
      'classesPath' => 'Classes/',
    ),
// ...
</code>
</pre>"
42511,TYPO3.Flow,Bug,"",Resolved,Must have,"""Uri"" constructor silently accepts unparsable Uri strings",Adrian Föder,Adrian Föder,2012-12-11 04:27,Http,2.0,2012-10-30,"","",100,2012-10-30 06:37,"","",880150,"",Git 1.2 (master),"The Uri::__construct() method basically relies on the parse_url() method. As of PHP documentation, http://de3.php.net/manual/en/function.parse-url.php, Changelog,

> 5.3.3 	Removed the E_WARNING that was emitted when URL parsing failed. 

So the constructor's code can, dependent of the PHP version in use, either throw a Warning exception or silently do nothing but let the Uri object be created since there is no other check:

<pre><code class=""php"">
	public function __construct($uriString) {
		if (!is_string($uriString)) throw new \InvalidArgumentException('The URI must be a valid string.', 1176550571);

		$uriParts = parse_url($uriString);
		if (is_array($uriParts)) {
			$this->scheme = isset($uriParts['scheme']) ? $uriParts['scheme'] : NULL;
			$this->username = isset($uriParts['user']) ? $uriParts['user'] : NULL;
			$this->password = isset($uriParts['pass']) ? $uriParts['pass'] : NULL;
			$this->host = isset($uriParts['host']) ? $uriParts['host'] : NULL;
			$this->port = isset($uriParts['port']) ? $uriParts['port'] : NULL;
			$this->path = isset($uriParts['path']) ? $uriParts['path'] : NULL;
			if (isset($uriParts['query'])) {
				$this->setQuery ($uriParts['query']);
			}
			$this->fragment = isset($uriParts['fragment']) ? $uriParts['fragment'] : NULL;
		}
	}
</code></pre>

I recommend to catch the Warning, if any, and throw an exception if parse_url returned FALSE (or is not an array, i.e. the else-block of the if().

"
42516,TYPO3 Flow Base Distribution,Task,Bug #41843: Composer and rename issues (umbrella issue),Resolved,Should have,Composer dependency with Guzzle leads to Package related exception,Rafael Kähm,"",2012-11-08 08:35,"","",2012-10-30,"","",100,2012-10-30 09:21,"","",880350,"","","Guzzle-Package, installed with composer, makes fatal errors:

<pre>
PHP Fatal error:  Uncaught exception 'TYPO3\Flow\Package\Exception\InvalidPackagePathException' with message 'Package path does not exist or is no directory.' in /var/www/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/Package.php:99
Stack trace:
#0 /var/www/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageFactory.php(48): TYPO3\Flow\Package\Package->__construct('Guzzle.Iterator', '/var/www/TYPO3-F...', 'Classes/', 'e/Iterator/')
#1 /var/www/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php(699): TYPO3\Flow\Package\PackageFactory::create('/var/www/TYPO3-F...', 'Libraries/guzzl...', 'Guzzle.Iterator', 'Classes/', 'e/Iterator/')
#2 /var/www/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php(600): TYPO3\Flow\Package\PackageManager->registerPackagesFromConfiguration()
#3 /var/www/TYPO3-Flow/Pa in /var/www/TYPO3-Flow/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/Package.php on line 99
</pre> 


Here is Repository for this issue. https://github.com/RafaelKa/TYPO3-Flow---Guzzle.git 
You must only run
<pre>composer install --dev</pre>and<pre>
./flow help
</pre>
to get this error."
42520,TYPO3.Flow,Bug,"",New,Must have,Cache must be flushed globally for package state changes,Bastian Waidelich,"",2015-02-25 11:45,Core,"",2012-10-30,"","",0,2012-10-30 10:14,"","",880550,"",(any),Currently after (de)activating a package the cache is only flushed for the *current context*. Instead it must be flushed for all (affected) contexts.
42539,TYPO3.Flow,Feature,"",Resolved,Should have,Allow Object.yaml property value to be also an array,Adrian Föder,Adrian Föder,2012-11-08 15:36,Object,2.0,2012-10-31,"","",100,2012-10-31 05:01,"","",881500,"","","It would be nice to be allowed setting also arrays as values for Object properties.

Use case: consider the following ""foreign"" repository:

<pre><code class=""php"">
/**
 * A repository for Comments
 *
 * @Flow\Scope(""singleton"")
 */
class CommentRepository extends \TYPO3\Flow\Persistence\Repository {

	/**
	 * @var array
	 */
	protected $defaultOrderings = array('creationDate' => \TYPO3\Flow\Persistence\QueryInterface::ORDER_DESCENDING); 
</code></pre>

I'd like to modify this from my application, using Objects.yaml:

<pre><code class=""yaml"">
TYPO3\Comments\Domain\Repository\CommentRepository:
  properties:
    defaultOrderings:
      value:
        creationDate: 'ASC'
</code></pre>

This currently doesn't work because the handling (in DependencyInjection\ProxyClassBuilder) does only expect plain values."
42550,TYPO3.Flow,Task,"",Under Review,Should have,Add top-level .htaccess to block everything but Web,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 16:43,"","",2012-10-31,"","",0,2012-10-31 06:54,"","",882050,"","","Although we ask to use @Web@ as document root, that is often not done and/or possible (think about the practice of default host setups like pXXX.server.tld being hardwired to the top level folder for many hosters). So people feel safe because they added a vhost pointing to @Web@, but don't think about that default host.

Should we add a @.htaccess@ file to the top level that allows access only to @Web@? Please vote and/or discuss!
"
42601,TYPO3.Flow,Bug,"",Under Review,Must have,Content Security: QOM rewriting is omitted if used in certain cases in an Action Controller,Robert Lemke,Robert Lemke,2013-08-14 09:35,Security,2.0.1,2012-11-01,"","",100,2012-11-01 14:10,"","",884450,"",Git master,"The QOM Query Rewriting Aspect checks if the security context is initialized. If it is not yet initialized, it will suspend query rewriting and just proceed to call the execute() or count() method.

This may be a problem because it is not defined when the security context is initialized. It can does happen that if no getRole() etc. methods have been called previously (no user is logged in), content is shown which must not be visible.

This issue is, however, quite predictable and becomes apparent during development already."
42606,TYPO3.Flow,Bug,"",New,Must have,Content Security with nested objects,Julian Kleinhans,"",2012-12-13 06:35,Security,"",2012-11-01,"","",0,2012-11-01 17:15,"","",884700,"",Git master,"I think there is a strange bug in the content security

Initial situation:

3 Models 
- Product
-- Category
--- Tutorial

The Product Model includes the categories and the categories the tutorials
With FLUID i can do something like that (3 nested for-loops)                                                                         
<pre>
<f:for each=""{products}"" as=""product"">
  <f:for each=""{product.categories}"" as=""category"">
    <f:for each=""{category.tutorials}"" as=""tutorial"">
      {tutorial.title} (Disabled: {tutorial.disabled})
    </f:for>
  </f:for>
</f:for>                                           
</pre> 
The Tutorial Model has a disabled class var which includes a boolean.
My Policy.yaml has the following content
<pre>
resources:
  entities:
    Kj187_Tutorials_Domain_Model_Tutorial:
      Kj187_Tutorials_Domain_Model_Tutorial_Disabled: 'this.disabled == TRUE'
</pre>

The problem is, it doesnt work with 3 (or more) nested loops. I get all tutorials, all with 'disabled equals 1' and all with 'disabled equals 0'.
If i get only the categories via repository and do something like that
<pre>
<f:for each=""{categories}"" as=""category"">
  <f:for each=""{category.tutorials}"" as=""tutorial"">
    {tutorial.title} (Disabled: {tutorial.disabled})
  </f:for>
</f:for>  
</pre>
it works!

Another problem is that i can call a tutorial with 'disabled = 1' directly (http://local.domain/PRODUCT/CATEGORY/TUTORIAL.html) without any problems ?!"
42715,TYPO3.Flow,Bug,"",Resolved,Should have,ObjectSerializer not capable of Collections,Steffen Ritter,Karsten Dambekalns,2012-12-11 15:08,Object,2.0 beta 1,2012-11-06,"","",100,2012-11-06 04:34,"","",890000,"",(any),"Using the serializer on Objects containing instances of \Doctrine\Common\Collections\Collection will fail with an exception: Object of type """" not registered.

Even if the Doctrine persistence knows how to deal with Collections, situations might need to serialize the Object for Sessions, Encryptions and so on.

Add support to the ObjectSerializer is quite easy."
42723,TYPO3.Flow,Bug,"",Resolved,Should have,Reflection\ObjectAccess consumes to much processing time,Steffen Ritter,"",2013-03-27 08:37,Reflection,"",2012-11-06,"","",100,2012-11-06 06:48,"","",890400,"",Git master,"JsonView, Validation, Serialisation and many other parts of Flow use ObjectAccess to retrieve information about how to access properties within the current object.


getAvailableGetters for example is called thousands of times, when putting an object hirarchy of 150 fuel stations with each one address and 3 opening entries (therefore 750 objects in a nested hirarchy) first into validation and than output it as JSON.

After compile (e.g. php is running) - the properties of an Object are immutable (despite stdClass). Therefore the ObjectAccess class should use a runtime cache.
"
42726,TYPO3.Flow,Task,"",Resolved,Should have,Document new package structure and management,Christian Jul Jensen,Karsten Dambekalns,2012-12-12 14:56,- Documentation -,2.0 beta 1,2012-11-06,"","",100,2012-11-06 07:59,"","",890550,"","","Topics

- Composer
- Package structure
- Upgrading
- Installing
- Maintaining

help me make the docs better, please share your experences and wtf's in the comments."
42743,TYPO3.Fluid,Task,"",New,Should have,Remove inline style for hidden form fields,Nicole Cordes,"",2012-11-06 17:09,"","",2012-11-06,"","",0,2012-11-06 17:09,"","",891400,"","","In Classes / TYPO3 / Fluid / ViewHelpers / FormViewHelper.php the hidden fieldsare wraped in an own div container which is hidden by inline style ""display: none"". There was a discussion if we should remove this wrapper in the TYPO3 Extbase team as someone mentioned inline styles are against some barrier free rules."
42746,TYPO3.Fluid,Bug,"",Resolved,Should have,Functional WidgetTest is broken since URI bugfix,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 04:27,"",2.0 beta 1,2012-11-07,"","",100,2012-11-07 03:57,"","",891550,"",Git 1.2 (master),"The fix for #42511 broke the functional WidgetTest in Fluid, because that relied on ""broken"" uris being accepted."
42756,TYPO3.Flow,Bug,"",Resolved,Should have,Functional BrowserTest fails in Neos setup,Karsten Dambekalns,Karsten Dambekalns,2012-11-07 08:35,- Testing -,2.0 beta 1,2012-11-07,"","",100,2012-11-07 07:36,"","",892050,"",Git 1.2 (master),The functional @BrowserTest@ in Flow (added as part of the solution to #42049) fails when run in a Neos context. This is caused by the different routes configuration.
42758,TYPO3.Flow,Bug,"",Resolved,Should have,Unit test for PersistenceQueryRewritingAspect broken,Karsten Dambekalns,Karsten Dambekalns,2012-11-07 09:35,- Testing -,2.0 beta 1,2012-11-07,"","",100,2012-11-07 08:40,"","",892150,"",Git 1.2 (master),The solution for #42601 broke one test in the PersistenceQueryRewritingAspectTest.
42761,TYPO3.Flow,Feature,"",Resolved,Should have,"Let getByTag() return the identifiers, not only the values",Robert Lemke,Robert Lemke,2012-11-07 10:00,Cache,2.0 beta 1,2012-11-07,"","",0,2012-11-07 09:00,"","",892300,"","",Currently getByTag() only returns a numeric array of values ? an array indexed by entry identifier would be more useful though.
42766,TYPO3.Welcome,Task,"",Resolved,Should have,Update logo to TYPO3 Flow,Wouter Wolters,"",2012-11-07 16:36,"","",2012-11-07,"","",100,2012-11-07 13:54,"","",892550,"","",Update logo to TYPO3 Flow
42770,TYPO3.Flow,Bug,"",Resolved,Should have,Routing includes parameters from the current request,Aske Ertmann,"",2012-11-28 09:35,MVC - Routing,2.0,2012-11-07,"","",100,2012-11-07 15:06,"","",892750,"",Git 1.2 (master),"I believe that after https://review.typo3.org/#/c/15261/ some routing arguments from the current request is passed along to all new links created with the uri builder. This should not happen and leads to some very weird side effects.

I need to look further into the problem, but so far I've found that it happens for requests to the node controller ext direct service in Neos and as well for modules. The modules has a very special route part handling, so that is probably not the best place to start.

An example is the page tree making a request for the nodes and that request uses the uri builder to create links to the nodes, but those links are appended with the ajax request's parameters which of course they shouldn't.

Example ""nodeData[contentType]=TYPO3.Neos.ContentTypes:Page&nodeData[properties][title]=test&position=into&@subpackage=&__csrfToken=4cc446feb743b38a5f47db7fc500251e"" is added to the links"
42781,TYPO3.Flow,Task,"",Rejected,Should have,Introduce global function flow_var_dump(),Robert Lemke,Robert Lemke,2012-11-08 02:41,Error,2.0 beta 1,2012-11-08,"","",0,2012-11-08 02:22,"","",893300,"","","Currently there's a namespaced function \TYPO3\Flow\var_dump() which helps debugging nested object structures.

It would be more convenient and still unlikely that there will be name clashes, if we introduced a global function flow_var_dump() instead."
42784,TYPO3.Flow,Feature,"",Resolved,Should have,Allow exposing the class name of an object in JsonView,Karsten Dambekalns,Adrian Föder,2013-04-11 02:17,MVC,2.1,2012-11-08,"","",0,2012-11-08 04:54,"","",893450,"","","Besides telling the identifier of a persisted object, it should additionally be possible to expose the class name of this object."
42785,TYPO3.Flow,Task,"",Resolved,Should have,Make Mvc\Controller\Exception extend Mvc\Exception,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 04:27,MVC,2.0 beta 1,2012-11-08,"","",100,2012-11-08 06:30,"","",893500,"","",The exception subclasses FLOW3\Exception directly.
42801,TYPO3.Flow,Bug,"",Resolved,Must have,New FlowSession session class is broken,Martin Brüggemann,Robert Lemke,2012-11-12 09:35,Session,2.0 beta 1,2012-11-08,"","",100,2012-11-08 14:56,"","",894200,"",Git 1.2 (master),"Unfortunately the new FlowSession patch has been merged today some minutes before I could save my comment at review.typo3.org. If I switch my Flow project to the new FlowSession save handler I get the following exception if I try to use the ./flow command: 

<pre>
PHP Fatal error:  Call to undefined method TYPO3\Flow\Cli\CommandRequestHandler::getHttpRequest() in /var/www/test/releases/20121108105617/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Session_FlowSession_Original.php on line 162
</pre>

Something seems to be wrong with the FlowSession intialization (should be disabled in Cli-mode?). If I flush the cache and request my project with the browser I just get a blank white page and nothing is logged (Doctrine proxy generation seems to fail too). "
42807,TYPO3.Flow,Bug,"",Resolved,Must have,Libraries/doctrine/dbal/docs/examples/sharding/composer.json broken Flow,Dominique Feyer,Karsten Dambekalns,2012-11-09 13:35,Package,2.0 beta 1,2012-11-09,"","",100,2012-11-08 18:36,"","",894500,"",Git 1.2 (master),"With recent Flow version (master), after surf deploy, I was unable to use flow (web or cli), after som debug it look like the composer.json file located at Libraries/doctrine/dbal/docs/examples/sharding/ is parsed a broke every thing. 

Here'is my shell output

<pre>
?  next git:(deploy) ? ./flow 
PHP Notice:  Undefined property: stdClass::$name in /home/vhosts/hosted.medialib.tv/releases/20121109001526/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageFactory.php on line 78
PHP Fatal error:  Uncaught exception 'TYPO3\Flow\Package\Exception\InvalidPackageKeyException' with message '"""" is not a valid package key.' in /home/vhosts/hosted.medialib.tv/releases/20121109001526/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/Package.php:96
Stack trace:
#0 /home/vhosts/hosted.medialib.tv/releases/20121109001526/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageFactory.php(49): TYPO3\Flow\Package\Package->__construct('', '/home/vhosts/ho...', 'Classes/', '')
#1 /home/vhosts/hosted.medialib.tv/releases/20121109001526/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php(734): TYPO3\Flow\Package\PackageFactory::create('/home/vhosts/ho...', 'Libraries/doctr...', '', 'Classes/', '')
#2 /home/vhosts/hosted.medialib.tv/releases/20121109001526/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php(627): TYPO3\Flow\Package\PackageManager->registerPackagesFromConfiguration()
#3 /home/vhosts/hosted.medialib.tv/releases/20121109001526/Packages/Framewor in /home/vhosts/hosted.medialib.tv/releases/20121109001526/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/Package.php on line 96
?  next git:(deploy) ? find Packages/Libraries/doctrine/ -name composer.json 
Packages/Libraries/doctrine/common/composer.json
Packages/Libraries/doctrine/dbal/docs/examples/sharding/composer.json
Packages/Libraries/doctrine/dbal/composer.json
Packages/Libraries/doctrine/orm/composer.json
Packages/Libraries/doctrine/migrations/composer.json
Packages/Libraries/doctrine/data-fixtures/composer.json
?  next git:(deploy) ? mv Packages/Libraries/doctrine/dbal/docs/examples/sharding/composer.json Packages/Libraries/doctrine/dbal/docs/examples/sharding/_composer.json
?  next git:(deploy) ? ./flow 
TYPO3 Flow 1.2 (""Production"" context)
usage: ./flow <command identifier>

See ""./flow help"" for a list of all available commands.
</pre>

The test is done on Linux with PHP 5.3.18-1 (dotdeb)"
42833,TYPO3.Flow,Bug,"",Closed,Should have,Migration fails if InnoDB is not default engine,Jan Roth,"",2012-11-10 13:24,- Migrations -,"",2012-11-10,"","",0,2012-11-09 19:07,"","",895750,"",FLOW3 1.1.0,"MySQL Migration-Statements should have an Engine in Create Table Statements.
Migration fails if not."
42888,TYPO3.Flow,Bug,"",Needs Feedback,Should have,ResourceManager chokes on non existing files,Bastian Waidelich,"",2012-11-12 12:02,Resource,"",2012-11-12,"","",0,2012-11-12 11:03,"","",898500,"",(any),"When importing a non existing file via @ResourceManager::importResource()@ the ResourceManager -kills the PHP process by allocating memory- throws an exception
We should check the existence of the specified $uri.
My first draft looks like this:
<pre>
<code class=""php"">
	public function importResource($uri) {
		$pathInfo = pathinfo($uri);
		if (isset($pathInfo['extension']) && substr(strtolower($pathInfo['extension']), -3, 3) === 'php') {
			$this->systemLogger->log('Import of resources with a ""php"" extension is not allowed.', LOG_WARNING);
			return FALSE;
		}

		// NEW CODE:

		$responseHeaders = get_headers($uri);
		$responseCode = (integer)substr($responseHeaders[0], 9, 3);
		if ($responseCode === 404) {
			$this->systemLogger->log(sprintf('Could not copy resource from ""%s"", the file does not exist.', $uri), LOG_WARNING);
			return FALSE;
		} elseif ($responseCode < 200 || $responseCode > 300) {
			$this->systemLogger->log(sprintf('Could not copy resource from ""%s"", got response code %d.', $uri, $responseCode), LOG_WARNING);
			return FALSE;
		}

		// ...
</code>
</pre>

But this breaks the unit tests with a warning
<pre>
get_headers(): This function may only be used against URLs
</pre>
for the vfs:// URIs.

What do you think about the general approach?
Actually it might be cleaner to switch to a proper request (maybe using Flows RequestEngineInterface) altogether here as @copy()@ is pretty limited.

BTW: If we adjust this we could also think about changing the return value from object/FALSE to object/NULL as we do it in most places already"
42947,TYPO3.Fluid,Bug,"",Rejected,Won't have this time,TextareaViewHelper is missing required attribute for html5,Dominic Garms,Adrian Föder,2015-04-01 04:38,ViewHelpers,"",2012-11-14,"","",0,2012-11-14 02:13,"","",901400,"",FLOW3 1.1.0,"Hi,

the required attribute is missing in the TextareaViewHelper, which is important for client-side validation for modern browsers / and polyfill fallbacks if using webshim libs.

Would be great to have,

Regards,
Dominic"
42955,TYPO3.Flow,Bug,"",Resolved,Should have,QueryResult::count() returns 0 for queries with offset,René Pflamm,Bastian Waidelich,2012-12-11 04:27,Persistence,2.0 beta 1,2012-11-14,"","",100,2012-11-14 05:27,"","",901800,"",FLOW3 1.1.0,"*NOTE* See comments below

On my Project I notice if I have more then itemsPerPage and switched to another Page this one ist Empty.

*As example:*
On first page, the object to paginate has an count of 27. The paginatedObject hast a count of 27 but display only 10.

With an itemsPerPage limit of 10 I got 3 pages. On Page 2 and 3 I got an paginatedObject of zero and display nothing.

Currently I hotfixed this quick and dirty with an replace of @$modifiedObjects = $query->execute();@ to @$modifiedObjects = $query->getResult();@ (see attachment)."
42961,TYPO3.Flow,Feature,"",Resolved,Should have,Support non PSR-0 packages,Bastian Waidelich,"",2014-03-14 09:22,Package,2.x,2012-10-12,"","",100,2012-11-14 06:28,"","",902100,"","","Composers autoloader supports non PSR-0 packages if they follow the so called ""PEAR-style"" (see http://getcomposer.org/doc/04-schema.md#psr-0).
A lot of packages on packagist.org still don't follow the PSR-0 standard. The only way to get those working with Flow, is to include the composer autoloader manually. I did this by adding following line to the Package.php of my distributions main package:
<pre>
<code class=""php"">
require \TYPO3\Flow\Utility\Files::concatenatePaths(array(FLOW_PATH_PACKAGES, 'Libraries/autoload.php'));
</code>
</pre>

But obviously this is just a hacky work around with unpredictable side effects"
43071,TYPO3.Fluid,Task,"",New,Should have,Remove TOKENS for adding fallback teplates in B,Marc Bastian Heinrichs,"",2012-11-18 08:22,"","",2012-11-18,"","",0,2012-11-18 08:19,"","",907600,"","",""
43072,TYPO3.Fluid,Task,"",New,Should have,Remove TOKENS for adding templates fallback in Backporter,Marc Bastian Heinrichs,"",2012-11-18 08:20,View,"",2012-11-18,"","",0,2012-11-18 08:20,"","",907650,"","",""
43082,TYPO3.Flow,Feature,"",Needs Feedback,Should have,"Add CLI support for scaffolding models, views, controller",Ingo Pfennigstorf,"",2015-01-05 05:39,"","",2012-11-18,"","",0,2012-11-18 15:39,"","",908150,"","","Add a cli mechanism to quickly generate code scaffolds on the command line.

Some examples on how it could be used:

h2. Generate a model

@
php typo3/cli_dispatch.phpsh extbase:generate model car wheels:int seats:int manufacturer:string
@

This generates:

* A model class Car.php with the provided properties and types
* A TCA definition
* ?

h2. Generate a Controller

@
php typo3/cli_dispatch.phpsh extbase:generate controller car index list show
@

This generates:

* A controller named CarController.php with the actions indexAction, listAction, showAction
* (Maybe) an entry in ext_localconf.php as allowed controller / action combination
* Html files Index.html, List.html, Show.html in Resources/Private/Templates/Car/

h2. Todos and remarks

The cli actions may be named after TYPO3 Flow conventions and maybe have the same featureset.
The generated code is really very basic, just dumb files without getting too complex, so good defaults have to be found regarding the models and class inheritance of them (VO, AE, ...)"
43089,TYPO3.Flow,Feature,"",Resolved,Should have,Allow configuration processing in code migrations,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 04:28,Core,2.0 beta 1,2012-11-19,"","",100,2012-11-19 04:36,"","",908500,"","",Code migrations sometimes need to check or even modify YAML configuration.
43091,TYPO3.Flow,Feature,"",Resolved,Should have,Add logging of vote results on resources,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 16:43,Security,2.0 beta 1,2012-11-19,"","",100,2012-11-19 05:29,"","",908600,"","",For access decision voting on joinpoints the results are logged nicely. For votes on resources this is missing.
43104,TYPO3.Flow,Feature,"",Rejected,Could have,Add Confirm- Radio- CheckBoxDialog to CommandController(CLI),Rafael Kähm,Bastian Waidelich,2012-12-18 09:06,Cli,"",2012-11-19,"","",30,2012-11-19 10:25,"","",909250,"","","For interactive confirmation or multiple choice by Commands (CLI).

for example: the same code is on https://gist.github.com/4111197
*sorry for doccomments*

+*Settings as assoc-array is not comfortably for developers, please comment or speak your ideas about settings!*+

<pre>
<code class=""php""><?php
namespace ........... ;

/*                                                                        *
 * This script belongs to the TYPO3 Flow package '............'.        *
 *                                                                        *
 *                                                                        */

use TYPO3\Flow\Annotations as Flow;

/**
 * ConfirmationDialog command controller for the Train2Web.Core package
 * @todo ANSI FOREGROUNDS and BLINK & co.  
 * @Flow\Scope(""singleton"")
 */
class ConfirmationDialogCommandController extends \TYPO3\Flow\Cli\CommandController {

        /**
         * Constants for anwer pattern
         */ 
        const PATTERN_USER_INPUT_YES = '/^(y|yes|j|ja|si)$/i';
        const PATTERN_USER_INPUT_NO = '/^(n|no|nein)$/i';
        const PATTERN_USER_INPUT_CANCEL = '/^(c|cancel|abort|abbrechen|abortire|abortar)$/i';
        
        /**
	 * A simpliest example for confirm dialog
         * 
         * if (user puts yes) {do something} else { do something else } 
         * also if user puts n, no, c, cancel then is it else
         * 
	 * @return void
	 */
	public function exampleCommand() {
            if ($this->confirmDialog()) {
                echo ""I will continue."".PHP_EOL;
            } else {
                echo ""I will not continue."".PHP_EOL;
            }
	}
        
        /**
	 * A simple example confirm dialog with cancel
         * 
         * Please note that switch case provide == comparison and not === <br>
         * also if you use == instead of === you can't differentiate between no and cancel!!!
         * 
	 * @return void
	 */
	public function example2Command() {
            $usersChoice = $this->confirmDialog();
            if ($usersChoice) {
                echo 'You typed ""yes""!'.PHP_EOL;     
            } else if ($usersChoice === NULL) {
                echo 'You typed ""cancel""!'.PHP_EOL;
            } else if ($usersChoice === FALSE) {
                echo 'You typed ""no""!'.PHP_EOL;
            }
	}
        
        /**
	 * An example confirm dialog with $optionalSettings[], answer depends messages and callbacks  
         * 
         * Please note that $optionalSettings['*'] - array has priority 
         * 
	 * @return void
	 */
	public function demoCommand() {
            $settings = array(
                'confirmationMessage'       => 'Please put ""y"" or ""n"" or ""c"" or nothing to use ""%1$s"" and press enter: ',
                'standardAnswer'            => 'yes',
                'messageByYes'              => 'You typed ""%2$s"", i will run one callback for ""AGREEMENT"" but only if it is declared!',
                'messageByNo'               => 'You typed ""%2$s"", i will run one callback for ""REJECTION"" but only if it is declared!',
                'messageByCancel'           => 'You typed ""%2$s"", i will run one callback for ""RESET"" but only if it is declared!',
                'messageByWrongInput'       => 'Wrong input; ""%2$s""!!!'.PHP_EOL.'You will be asked for so long, until correct entry is detected.',
                'callBackByYes'             => array(array($this, 'callBackForYes'), array()),
                'callBackByNo'              => array(array($this, 'callBackForNo'), array()),
                'callBackByCancel'          => array(array($this, 'callBackForCancel'), array()),
                'callBackByWrongInput'      => array(array($this, 'callBackForWrongInput'), array())
            );
            $this->confirmDialog('This message will be overwritten if $optionalSettings[\'confirmationMessage\'] is set.', 'NO', $settings);
	}
        
        /**
	 * An example <b>DEMO for callbacks returnvalue</b> based on <b>confirmationdialog:demo</b> 
         * 
         * 
         * Please note that $optionalSettings['*'] - array has priority 
         * 
	 * @return void
	 */
	public function demo2Command() {
            $settings = array(
                'confirmationMessage'       => 'Please put ""y"" or ""n"" or ""c"" or nothing to use ""%1$s"" and press enter: ',
                'standardAnswer'            => 'yes',
                'messageByYes'              => 'You typed ""%2$s"", i will run one callback for ""AGREEMENT"" but only if it is declared!',
                'messageByNo'               => 'You typed ""%2$s"", i will run one callback for ""REJECTION"" but only if it is declared!',
                'messageByCancel'           => 'You typed ""%2$s"", i will run one callback for ""RESET"" but only if it is declared!',
                
                'callBackByYes'             => array(array($this, 'callBackForYes'), array()),
                'callBackByNo'              => array(array($this, 'callBackForNo'), array()),
                'callBackByCancel'          => array(array($this, 'callBackForCancel'), array()),
                'callBackByWrongInput'      => array(array($this, 'callBackForWrongInput2'), array())
            );
            $this->confirmDialog('This message will be overwritten if $optionalSettings[\'confirmationMessage\'] is set.', 'NO', $settings);
	}
        
        
    /**
     * Shows confirmation message and reads users answer from command line. 
     *  
     * <b>WARNING: don't set anything if you do not want to use it, it will cause one error. <br>
     * ALL PARAMETERS ARE OPTIONAL. <br>
     * ATTENTION: all settings in array $optionalSettings have priority.</b><br>
     * 
     * <b>$optionalSettings</b> = array (<br>
     * <b>'confirmationMessage'</b>     => 'You can use %1$s as placeholder for your ""standardAnswer"".',<br>
     * <b>'standardAnswer'</b>          => $standardAnswer,<br>
     * <b>'messageByYes'</b>            => 'You can use %2$s as placeholder for users input string.',<br>
     * <b>'messageByNo'</b>             => 'Please see ""messageByYes"".',<br>
     * <b>'messageByCancel'</b>         => 'Please see ""messageByYes"".',<br>
     * <b>'messageByWrongInput'</b>     => 'Please see ""messageByYes"".',<br>
     * <b>'callBackByYes'</b>           => array (array($object, 'functionName'), array($param1, $param2, 'otherParam')), // if your callback return one value then confirmDialog return this instead of standard return of confirmDialog<br>
     * <b>'callBackByNo'</b>            => '', // can also be emppty, confirmDialog will print messageBy{yes|no|cancel} and then returns standard value for this answer.<br>
     * <b>'callBackByCancel'</b>        => 'please see ""callBackByYes"" and ""callBackByNo""',<br>
     * <b>'callBackByWrongInput'</b>    => 'please see ""callBackByYes"" and ""callBackByNo""', // if return is void then : will ask for so long, until correct entry is detected.<br>
     * <b>'infiniteLoopByWrongInput'</b> => TRUE, // if FALSE and callBackByWrongInput is void then throws \InvalidArgumentException with code 1352747275<br>
     * <b>'vsprintfVars'</b>            => array($your, $own, $vars) <br>
     * );
     * 
     * @param string $confirmationMessage = <b>'Would you like to perform this command? [yes|no|cancel] [%1$s] : '</b>
     * @param string $standardAnswer = <b>'no'</b>
     * @param array $optionalSettings <b>have priority for $confirmationMessage and $standardAnswer</b>
     * @return boolean|NULL|yourOwnType this function will return your own type if your callback returns one value and if not then callbackBy{<br>Yes returns <b>TRUE</b><br>No returns <b>FALSE</b><br>Cancel returns <b>NULL</b><br>WrongInput throws <b>\InvalidArgumentException</b><br>}.
     * @throws \InvalidArgumentException (code: 1353073679) if this function will be called with wrong settings 
     */
    protected function confirmDialog($confirmationMessage = 'Would you like to perform this command? [yes|no|cancel] [%1$s] : ', $standardAnswer = 'no', array $optionalSettings = NULL){
        // search patterns

        //| prepare and set $optionalSettings
        //| 
        //|// set needed DEFAULTSETTINGS -> can be overwritten with array $optionalSettings
        $defaultSettings = array(
            'confirmationMessage'           => $confirmationMessage,
            'standardAnswer'                => $standardAnswer,
            // by infiniteLoopByWrongInput == TRUE prints messageByWrongInput
            'messageByWrongInput'           => 'Wrong input: %2$s',
            'callBackByWrongInput'          => '',
            // set to TRUE to prevent \InvalidArgumentException by wrong input -> will cause infinite loop to the same confirm dialog. Prints ""Wrong input: %3$s"" and confirmationMessage again
            'infiniteLoopByWrongInput'      => TRUE,
            'vsprintfVars'                  => array (
                                                $standardAnswer,
                                                '' // placeholder for current users input, can be used in 'wrongInputMessage'
                                               ) 
        );

        //|//| overwrite DEFAULTSETTINGS with users SETTINGS if nacessary ($optionalSettings) 
        if ($optionalSettings === NULL) {
            $settings = $defaultSettings;
        } else {
            $settings = array_merge($defaultSettings, $optionalSettings);
        //|//|//| set 'vsprintfVars' properly -> this will force priority for entire settings array
            if (!empty($optionalSettings['standardAnswer'])) {
                $settings['vsprintfVars'][0] = $optionalSettings['standardAnswer'];
            }
        }
        // analyse developers set of $optionalSettings['standardAnswer']
        $developersStandardAnswerIsYes = preg_match(self::PATTERN_USER_INPUT_YES, $settings['standardAnswer']);
        $developersStandardAnswerIsNo = preg_match(self::PATTERN_USER_INPUT_NO, $settings['standardAnswer']);
        $developersStandardAnswerIsCancel = preg_match(self::PATTERN_USER_INPUT_CANCEL, $settings['standardAnswer']);

        // throw an exception, if this function will be called with wrong parameter
        //
        // developers standardAnswer must be set correctly and can not be empty
        $developersStandardAnswerIsCorrect = $developersStandardAnswerIsYes || $developersStandardAnswerIsNo || $developersStandardAnswerIsCancel;
        if (!$developersStandardAnswerIsCorrect) {
            throw new \TYPO3\Flow\Exception('Developer has set $settings[\'standardAnswer\'] as '.$settings['standardAnswer']. ' please set this in your code properly', 1352736688);
        }
        $messages = array();
        foreach ($settings as $key => $value) {
            // Texts validation: will trying to render defined mesage by fail developer can see it immediately
            if (preg_match('/^message/', $key) && !empty($value)) { 
                $messages[$key] = \vsprintf($settings[$key], $settings['vsprintfVars']);
            }
            // CallBack: throw an Exceptions immediately if something is wrong with callBacks 
            if (preg_match('/^callBack/', $key) && !empty($value) 
                && !method_exists($value[0][0], $value[0][1])) {
                
                throw new \InvalidArgumentException(
                        'function ""'.$value[0][1].'"" for ""'.$key.'"" not exists or can not be called.'.PHP_EOL.
                        'See: call_user_func_array()'.PHP_EOL.
                        'http://php.net/manual/en/function.call-user-func-array.php', 
                        1353073679
                );
            }
        }

        // render output for question
        $output = vsprintf($settings['confirmationMessage'], $settings['vsprintfVars']);
        echo $output.' ';
        
        $usersInput = rtrim(fgets(STDIN));
        // set 'vsprintfVars' properly
        $settings['vsprintfVars'][1] = $usersInput;
        if (empty($usersInput)) {
            $settings['vsprintfVars'][1] = $settings['standardAnswer'];
        } 
        // prepare users answer
        $userAnsweredWithYes = preg_match(self::PATTERN_USER_INPUT_YES, $usersInput) 
                || empty($usersInput) && $developersStandardAnswerIsYes;
        $userAnsweredWithNo = preg_match(self::PATTERN_USER_INPUT_NO, $usersInput) 
                || empty($usersInput) && $developersStandardAnswerIsNo;
        $userAnsweredWithCancel = preg_match(self::PATTERN_USER_INPUT_CANCEL, $usersInput)
                || empty($usersInput) && $developersStandardAnswerIsCancel;
        
        $usersInputIsCorrect = $userAnsweredWithYes || $userAnsweredWithNo || $userAnsweredWithCancel || empty($usersInput);

        if (empty($usersInput)) {
            $usersInput = $settings['standardAnswer'];
        }
        // evaluate
        if ($usersInputIsCorrect) {
            // for YES
            if ($userAnsweredWithYes) {
                if (!empty($settings['messageByYes'])) { 
                    echo vsprintf($settings['messageByYes'], $settings['vsprintfVars']).PHP_EOL;
                }
                if (!empty($settings['callBackByYes'])) {
                    $returnValueByYes = call_user_func_array($settings['callBackByYes'][0], $settings['callBackByYes'][1]);
                }
                if (isset($returnValueByYes)) {
                    return $returnValueByYes;
                }
                return true;
            }
            // for NO
            if ($userAnsweredWithNo) {
                if (!empty($settings['messageByNo'])) { 
                    echo vsprintf($settings['messageByNo'], $settings['vsprintfVars']).PHP_EOL;
                }
                if (!empty($settings['callBackByNo'])) {
                    $returnValueByNo = call_user_func_array($settings['callBackByNo'][0], $settings['callBackByNo'][1]);
                }
                if (isset($returnValueByNo)) {
                    return $returnValueByNo;
                }
                return false;
            }
            // for CANCEL
            if ($userAnsweredWithCancel) {
                if (!empty($settings['messageByCancel'])) { 
                    echo vsprintf($settings['messageByCancel'], $settings['vsprintfVars']).PHP_EOL;
                } 
                if (!empty($settings['callBackByCancel'])) {
                    $returnValueByCancel = call_user_func_array($settings['callBackByCancel'][0], $settings['callBackByCancel'][1]);
                }
                if (isset($returnValueByCancel)) {
                    return $returnValueByCancel;
                }
                return NULL;
            }
        } else { 
            // for wrong input
            if (!empty($settings['messageByWrongInput'])) { 
                echo vsprintf($settings['messageByWrongInput'], $settings['vsprintfVars']).PHP_EOL;
            }
            if (!empty($settings['callBackByWrongInput'])) {
                $returnValueByWrongInput = call_user_func_array($settings['callBackByWrongInput'][0], $settings['callBackByCancel'][1]);
            }
            if (isset($returnValueByWrongInput)) {
                return $returnValueByWrongInput;
            } 
            // throws  Exception, if developer will no infinite loops
            if (!$settings['infiniteLoopByWrongInput']) {
                throw new \InvalidArgumentException('User has made incorrect input and you have not caught this exception in your confirmation dialog.  TIPP: You can set $optionalSettings[\'infiniteLoopByWrongInput\']', 1352747275);
            }
        }
        // will give rise to infinite looping by incorrect user's input if $optionalSettings['infiniteLoopByWrongInput'] == TRUE
        return $this->confirmDialog($confirmationMessage, $standardAnswer, $settings);
    }
    
    private function callBackForYes() {
        echo 'You called '.__FUNCTION__.'().'.PHP_EOL;
    }
    private function callBackForNo() {
        echo 'You called '.__FUNCTION__.'().'.PHP_EOL;
    }
    private function callBackForCancel() {
        echo 'You called '.__FUNCTION__.'().'.PHP_EOL;
    }
    private function callBackForWrongInput() {
        echo 'You called '.__FUNCTION__.'().'.PHP_EOL;
    }
    /**
     * as you can see this function has return value
     * 
     * confirmDialog() will return calbacks return value
     */
    private function callBackForWrongInput2() {
        echo 'You called '.__FUNCTION__.'().'.PHP_EOL;
        echo 'Wrong input is not allowed, I will cancel this command.'.PHP_EOL;
        return 'blockish';
    }       

}

?></code>
</pre>"
43110,TYPO3.Flow,Bug,"",Resolved,Must have,FlowSession: renewId() looses data of existing session,Robert Lemke,Robert Lemke,2012-11-20 10:35,Session,2.0 beta 1,2012-11-19,"","",100,2012-11-19 11:59,"","",909550,"",Git 1.2 (master),"Using FlowSession, on renewing the session identifier (for example after an authenticate() call), some session data seems to get lost, most importantly the security context.

This is due to the current implementation of renewId() which loads (ie. unserializes) all current session data in order to store it to cache entries with the new session id. This effectively overwrites any security context or other session-scoped object currently in memory with the state found in the old cache entry."
43121,TYPO3.Fluid,Bug,"",Resolved,Should have,f:link.email wrong example in documentation,Tomas Norre Mikkelsen,Bastian Waidelich,2012-12-12 02:30,"",2.0 beta 1,2012-11-19,"","",100,2012-11-19 16:18,"","",910100,"",(any),"Hi,

Found and error in the documentation [1], but i don't know this is the right place to report it. 

The documentation example on f:email.link says:
<f:link.email email=""foo@bar.tld"">some custom content</f:emaillink>

it should be:
<f:link.email email=""foo@bar.tld"">some custom content</f:link.email>


[1] http://flow.typo3.org/documentation/guide/partv/fluidviewhelperreference.html#f-link-action"
43144,TYPO3.Kickstart,Feature,"",Resolved,Should have,Fix case of class names to generate,Bastian Waidelich,Bastian Waidelich,2012-12-12 02:32,"",2.0 beta 1,2012-11-20,"","",100,2012-11-20 05:52,"","",911250,"","","When specifying a model name starting with a lower case character, the generated code throws an exception.
Example from the mailing list:
<pre>
./flow3 kickstart:actioncontroller --generate-actions --generate-related Fritdrop.Webpage golfEquipment
</pre>
leads to:
<pre>
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflected class names did not match class names to reflect
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflecting class Fritdrop\Webpage\Controller\GolfEquipmentController
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflecting class Fritdrop\Webpage\Domain\Model\GolfEquipment
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflecting class Fritdrop\Webpage\Domain\Repository\GolfEquipmentRepository
12-11-18 19:56:33 11136      INFO      FLOW3                Reflected 3 emerged classes.
12-11-18 19:56:36 11136      DEBUG     FLOW3                Built AOP proxy for class ""Fritdrop\Webpage\Domain\Model\GolfEquipment"".
12-11-18 19:56:36 11136      DEBUG     FLOW3                Building DI proxy for ""Fritdrop\Webpage\Controller\GolfEquipmentController"".
12-11-18 19:56:36 11136      CRITICAL  FLOW3                Uncaught exception #1265213849 in line 142 of Packages/Framework/TYPO3.FLOW3/Classes/Object/DependencyInjection/ProxyClassBuilder.php: The object ""Fritdrop\Webpage\Domain\Repository\golfEquipmentRepository"" which was specified as a property in the object configuration of object ""Fritdrop\Webpage\Controller\GolfEquipmentController"" (automatically registered class) does not exist. Check for spelling mistakes and if that dependency is correctly configured. - See also: 20121118195633ff72d8.txt 
</pre>

Instead the exception should be thrown while executing the command or the kickstarter should automatically convert class names to UpperCamelCase"
43143,TYPO3.Kickstart,Feature,"",Closed,Should have,Fix case of class names to generate,Bastian Waidelich,Bastian Waidelich,2012-11-21 06:16,"","",2012-11-20,"","",0,2012-11-20 05:52,"","",911200,"","","When specifying a model name starting with a lower case character, the generated code throws an exception.
Example from the mailing list:
<pre>
./flow3 kickstart:actioncontroller --generate-actions --generate-related Fritdrop.Webpage golfEquipment
</pre>
leads to:
<pre>
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflected class names did not match class names to reflect
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflecting class Fritdrop\Webpage\Controller\GolfEquipmentController
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflecting class Fritdrop\Webpage\Domain\Model\GolfEquipment
12-11-18 19:56:33 11136      DEBUG     FLOW3                Reflecting class Fritdrop\Webpage\Domain\Repository\GolfEquipmentRepository
12-11-18 19:56:33 11136      INFO      FLOW3                Reflected 3 emerged classes.
12-11-18 19:56:36 11136      DEBUG     FLOW3                Built AOP proxy for class ""Fritdrop\Webpage\Domain\Model\GolfEquipment"".
12-11-18 19:56:36 11136      DEBUG     FLOW3                Building DI proxy for ""Fritdrop\Webpage\Controller\GolfEquipmentController"".
12-11-18 19:56:36 11136      CRITICAL  FLOW3                Uncaught exception #1265213849 in line 142 of Packages/Framework/TYPO3.FLOW3/Classes/Object/DependencyInjection/ProxyClassBuilder.php: The object ""Fritdrop\Webpage\Domain\Repository\golfEquipmentRepository"" which was specified as a property in the object configuration of object ""Fritdrop\Webpage\Controller\GolfEquipmentController"" (automatically registered class) does not exist. Check for spelling mistakes and if that dependency is correctly configured. - See also: 20121118195633ff72d8.txt 
</pre>

Instead the exception should be thrown while executing the command or the kickstarter should automatically convert class names to UpperCamelCase"
43190,TYPO3.Flow,Bug,"",Accepted,Should have,Misleading exception message for incompatible database structure,Robert Lemke,Karsten Dambekalns,2013-08-14 09:35,Persistence,2.0.1,2012-11-21,"","",0,2012-11-21 04:38,"","",913550,"",Git master,"If the database structure doesn't match the current schema (for example, if a table has not been created yet), a user is confronted with the following exception message:

<pre>
Notice: A non well formed numeric value encountered in Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Persistence_Doctrine_Query_Original.php line 159
</pre>

On investigating the stack trace, you'll eventually find the real cause:

<pre>
34 Exception::__construct(""SQLSTATE[42S02]: Base table or view not found: 114?_example_bookshop_domain_model_book' doesn't exist"", ""42S02"")

00157:    return 0;
00158:   } catch (\PDOException $pdoException) {
00159:    throw new DatabaseConnectionException($pdoException->getMessage(), $pdoException->getCode());
00160:   }
00161:  }
</pre>

The user should get a more meaningful error message in theses cases"
43192,TYPO3.Flow,Bug,"",Accepted,Should have,findByIdentifier() for non-persisted objects not working for custom identifier properties,Karsten Dambekalns,Karsten Dambekalns,2013-05-21 07:28,Persistence,"",2012-11-21,"","",0,2012-11-21 05:55,"","",913650,"",(any),"If an object does not get it's identifier via AOP, it will not be returned ""early"" from @findByIdentifier()@.

Idea: add aspect on @Id entities, tweak @registerNewObject()@ to use know id property name"
43193,TYPO3.Flow,Feature,"",Rejected,Should have,Optimize Classloader,Christopher Hlubek,Christopher Hlubek,2012-11-21 06:27,"","",2012-11-21,"","",0,2012-11-21 06:14,"","",913700,"","","The default FileBackend does an expiration check on any call to require, which costs quite some syscalls. For the classes cache we could generally disable expiration (maybe with a backend option). For frozen packages this is already the case, but in Production a package cannot be frozen."
43194,TYPO3.Kickstart,Bug,"",Resolved,Should have,Error message about invalid package key is misleading,Bastian Waidelich,Bastian Waidelich,2012-11-21 10:35,"",2.0 beta 1,2012-11-21,"","",100,2012-11-21 06:19,"","",913750,"",(any),"When specifying an invalid package key of ""Test"" in the kickstart commands, the error message is
<pre>
Package key ""Test"" is not valid. Only UpperCamelCase with alphanumeric characters, please!
</pre>

This is misleading, the actual issue is the missing Vendor namespace"
43195,TYPO3.Flow,Bug,"",Resolved,Should have,getLocalizedFilename() chokes on paths with dots.,Karsten Dambekalns,Karsten Dambekalns,2012-11-21 11:35,I18n,2.0 beta 1,2012-11-21,"","",100,2012-11-21 07:22,"","",913800,"",Git 1.2 (master),"When a path like @resource://TYPO3.Neos/Public/JavaScript/@ is handed to @getLocalizedFilename()@, it tries to check for the existence of @resource://TYPO3.en.Neos/Public/JavaScript/@ - which breaks, unless you happen to have a package @TYPO3.en.Neos@ activated."
43200,TYPO3.Fluid,Feature,"",Resolved,Must have,Allow ResourceViewHelper to accept resource:// paths,Adrian Föder,Adrian Föder,2012-12-12 06:17,ViewHelpers,2.0 beta 1,2012-11-21,"","",100,2012-11-21 10:21,"","",914050,"","","with I92dccba6b5acd623ff33eb538e62d0682f00b95e / https://review.typo3.org/#/c/13647/, the @uri@ argument of the resource ViewHelper was removed. However, it turned out that there is still the need of a way to use @resource://...@ uris for pointing to resources.

Talking on IRC with Karsten and Aske, we said the already present @path@ argument should be extended to accept also @resource://..@ uris."
43236,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,"f:security.ifHasRole role =""..."" does not recognize the right role ",Jan Greth,"",2012-12-12 03:26,"","",2012-11-22,"","",100,2012-11-22 12:24,"","",915850,"",FLOW3 1.1.0,"Hey everyone!

I think there is a difference between the <f:security.ifHasRole role=""..."">-ViewHelper in TYPO3 Flow v 1.0.6 and 1.1.0 .
'Cause my problem is this: I tried to do the Registration and Login Guide on layh.com 
([[http://www.layh.com/work/typo3-flow-typo3-fluid/tutorials/flow-registration-and-login.html]])

Everything works fine - except one thing: Inside the Index Template, there should be a decision 
between two possibilities: On the one hand beeing logged in (role = ""Visitor""), then show logout link or you
are not logged in, then show log in form.
This should be done by using:

<pre>
...
<f:security.ifHasRole role=""Visitor"">
  <f:then>
    <!-- Logout Link -->
  </f:then>
  <f:else>
	<!-- Log in form -->
  </f:else>
</f:security.ifHasRole>
...
</pre>

But this does not work. The log in form is always showed.
OK, i cheked the Database. Everything fine. User was created and has the right role.
e.g.:

<pre>
#	flow3_persistence_identifier	party	accountidentifier	authenticationprovidername credentialssource	creationdate	expirationdate	roles
1	'202b0f71-d36c-4900-b0b9-59569aff273d'	NULL	'jan'	'DefaultProvider' 'bcrypt=>$2a$14$gzVFpOIPsClcLqM4ZrJA1.cn1umi8JONXVZ2v41xLwsiUvzYEQfQK'	'2012-11-21 11:03:26'	NULL	'a:1:{i:0;s:7:""Visitor"";}'
</pre>

Then i tried replacing the f:security.ifHasRole by f:security.ifAuthenticated -> that works fine.

So i added the following:
LoginController - indexAction:
<pre>
	$account = $this->securityContext->getAccount()->getRoles();
	if($this->securityContext->hasRole('Visitor')){
			$isset = 'Is set!';
	}else{
			$isset = 'Is not set!';
	}
	$this->view->assign('roles', $account);
	$this->view->assign('isset', $isset);
</pre>

Index.html:
<pre>
	<f:section name=""Title"">
		<ul>
			<f:for each=""{roles}"" as=""role"">
				<li>Role: {role}</li>
			</f:for>
		</ul>
		Is set? -> {isset}
	</f:section>
</pre>

I got the following output:
	Role: Visitor
	Is set? -> Is not set!
	
But I know it is set in the DB and as I see using the f:security.ifAuthenticated ViewHelper, 
Logging in works also. All this happens when running the code on Flow 1.1.0.
When I copy the exact somae code onto a Flow 1.0.6 - it works! Both!
The f:security.ifAuthenticated and the f:security.ifHasRole !

But I want to use 1.1.0 - so what can there be wrong? 

Here my complete code:	
Settings.yaml: [[http://pastebin.com/b1H073fX]]
LoginController.php: [[http://pastebin.com/2Avz9ib7]]
Index.html: [[http://pastebin.com/MXF65WF7]]

Greetings,
Jan"
43247,TYPO3.Flow,Feature,"",Closed,Could have,Request respects format,Carsten Bleicker,Bastian Waidelich,2013-09-05 05:17,Error,"",2012-11-23,"","",0,2012-11-23 07:53,"","",916400,"","","hi folks,
right at this point i am thinking about a REST Service.
And i asked myself: Shouldn't also exceptions/notfound/etc also returned
in the requested format (f.e. xml/json) by default? Maybe not all formats but
the most needed, json f.e.?

Found something where this happens by changing the notFoundController through yaml.
https://github.com/pankajlele/t3con12asia/blob/master/FLOW3Application/Packages/Application/Lelesys.EventsExample/Configuration/Settings.yaml
But is a systemwide change realy needed here or shouldnt it be possible to configure this
per package?

how would you deliver notFound in a REST Service and also Exceptions etc.
is it a good idea to deliver html exceptions/notfound to the rest client?


"
43346,TYPO3.Fluid,Feature,"",Under Review,Should have,Allow property mapping configuration via template,Karsten Dambekalns,Karsten Dambekalns,2013-12-16 04:14,ViewHelpers,2.1,2012-11-27,"","",0,2012-11-27 07:45,"","",921300,"","","The use case of allowing the mapping of dynamically generated fields in forms is quite common. Instead of having to use the full-scale PHP API for that, a simple configuration directly in the form would be nice."
43356,TYPO3.Fluid,Feature,"",Resolved,Should have,Allow Fluid arrays only in ViewHelper arguments,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-12-07 04:35,Core,"",2012-11-27,"","",100,2012-11-27 11:53,"","",921800,"","","Allow Fluid arrays only in ViewHelper arguments

The following proposal would greatly enhance JavaScript compatibility:

Fluid Arrays are a subset of the JavaScript object syntax, making it
hard to work with them in mixed HTML/JavaScript documents. For example
before this change, the following JavaScript Object was parsed by Fluid:

	var uris = {
	  endPoint1: '{f:uri.action(?)}',
	  endPoint2: '{f:uri.action(?)}',
	};

Before this change, the above snippet resulted in the following template, as the generated array was casted to a string:

	var uris = Array

With this change, Fluid only parses arrays which are used inside
ViewHelper arguments, such that an array inside normal text is not
converted anymore.

h3. Breaking Change

This change is only breaking in very rare cases where one relied on
the inner contents of the ViewHelper being an array, f.e. if one used
the debug ViewHelper as follows:

	<f:debug>{key1: 'value1', key2: 'value2'}</f:debug>

? or if anybody wrote custom ViewHelpers which use this convention.

Relying on that would be very fragile anyways, as the insertion of a
single space character before the opening curly bracket or after the
closing one would cast the array back to a string.

ViewHelpers which were written like this should be re-written to take
the array as ViewHelper argument:

	<f:debug value=""{key1: 'value1', key2: 'value2'}"" />

"
43376,TYPO3.Flow,Feature,"",Resolved,Must have,Remote session management,Robert Lemke,Robert Lemke,2012-12-04 10:31,Session,2.0 beta 1,2012-12-01,"","",100,2012-11-28 03:51,"","",922800,0.00,"","The Flow session framework should support management of remote sessions ? that is, sessions which are located in the session storage but are not currently active and attached to the HTTP session running in the current browser.

A new SessionManager should support these operations:

- retrieve arbitrary sessions through their session identifier
- get and put data into remote sessions
- destroy remote sessions
- inspect and update the last activity timestamp of remote sessions
"
43377,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Running functional tests with PEAR install of phpunit fails,Rens Admiraal,Rens Admiraal,2012-11-28 10:35,- Testing -,"",2012-11-28,"","",100,2012-11-28 04:14,"","",922850,"",Git 1.2 (master),"https://review.typo3.org/#/c/16659/1 introduced a regression when phpunit is installed using PEAR. This is because the autoload.php is found in composer managed installations, but this does not ensure that phpunit is actually installed using composer too."
43387,TYPO3.Flow,Bug,"",Resolved,Should have,Aliases in property mapping configuration not observed by shouldMap(),Karsten Dambekalns,Karsten Dambekalns,2012-12-11 16:44,Property,2.0 beta 1,2012-11-28,"","",100,2012-11-28 06:36,"","",923350,"",Git 1.2 (master),This breaks the use of the wildcard because the field is not even considered for mapping.
43423,TYPO3.Kickstart,Bug,"",Resolved,Should have,Reverse use of strpos() parameters in actionControllerCommand(),Karsten Dambekalns,Karsten Dambekalns,2012-11-29 09:36,"",2.0 beta 1,2012-11-29,"","",100,2012-11-29 03:41,"","",925150,"",FLOW3 1.1.0,""
43424,TYPO3.Kickstart,Feature,"",Under Review,Should have,Support subpackage when kickstarting model & repository,Karsten Dambekalns,Karsten Dambekalns,2014-11-20 16:35,"",2.0.1,2012-11-29,"","",0,2012-11-29 04:06,"","",925200,"","","The kickstart for controllers allows the use of subpackages, this is missing for model and repository."
43457,TYPO3.Fluid,Feature,"",Closed,Should have,Cacheable partials,Bastian Waidelich,Bastian Waidelich,2013-05-07 12:44,View,"",2012-11-29,"","",0,2012-11-29 10:59,"","",926850,"","","Idea: add a new argument to the *render* ViewHelper that allows to cache a partial:
<pre>
<code class=""html"">
  <f:render partial=""SomePartial"" cache=""true"" />
</code>
</pre>

The cache identifier should be created based on a combination of the unique partial identifier & it's arguments.

*Note:* Sections could be cacheable, too"
43491,TYPO3.Flow,Feature,"",Resolved,Should have,API for touching remote sessions and tagging sessions with account,Robert Lemke,Robert Lemke,2012-12-03 09:35,Session,2.0 beta 1,2012-11-30,"","",100,2012-11-30 12:40,"","",928550,"","","* introduce touch() method for updating last activity timestamp of remote sessions
* put information about account(s) related to a session so that information can be retrieved without actually unserializing the object graph (resuming the session)"
43505,TYPO3.Flow,Bug,Feature #43376: Remote session management,Resolved,Must have,Authentication Broken,Marc Neuhaus,Robert Lemke,2012-12-04 10:31,"",2.0 beta 1,2012-12-01,"","",0,2012-12-01 11:33,"","",929200,"",Git 1.2 (master),"The '[!!!][FEATURE] Remote session management' commit seems to break Authentication/Sessions.
Tested with my Standalone Package using PersistedUsernamePasswordProvider and current Neos.
Both don't seem to persist a session to handle the logged in user."
43541,TYPO3.Flow,Bug,"",New,Should have,Incomplete classes path detection for PSR-0,Karsten Dambekalns,"",2013-08-14 09:35,Core,2.0.1,2012-12-03,"","",0,2012-12-03 04:39,"","",930950,"",Git master,"For the guzzle/guzzle package (as an example that uncovered this), our autoloading fails.

First symptom is the error @Cannot redeclare class Zend_Log in ?/Libraries/guzzle/guzzle/tests/Guzzle/Tests/Log/Zend_Log.php on line 30@ which cannot be resolved using @object.excludeClasses@ configuration. Indeed the @PackageStates.php@ contains:

<pre>    'guzzle.guzzle' => 
    array (
      'manifestPath' => '',
      'state' => 'active',
      'packagePath' => 'Libraries/guzzle/guzzle/',
      'classesPath' => 'tests/',
    ),</pre>

Note the @classesPath@ entry? this is probably caused by this part of Guzzle's composer manifest:

<pre>    ""autoload"": {
        ""psr-0"": {
            ""Guzzle\\Tests"": ""tests/"",
            ""Guzzle"": ""src/""
        }
    },</pre>"
43569,TYPO3.Flow,Feature,"",Closed,Should have,Exception Handler should respect format,Christopher Hlubek,Bastian Waidelich,2014-12-16 05:33,Error,"",2012-12-04,2013-04-13,"",0,2012-12-04 03:41,"","",932350,"","","The DebugExceptionHandler and ProductionExceptionHandler do not respect other formats than HTML in a meaningful way.

It should be possible to get syntactically correct exception / error messages in the most common formats (JSON, XML)."
43572,TYPO3.Flow,Feature,"",New,Should have,Uri should support manipulation of query arguments,Christopher Hlubek,"",2012-12-04 03:55,"","",2012-12-04,"","",0,2012-12-04 03:55,"","",932500,"","",@TYPO3\Flow\Http\Uri@ should support setting of individual query arguments or all arguments by array
43575,TYPO3.Flow,Feature,"",Resolved,Should have,AuthenticationManager logout should destroy session explicitly,Christopher Hlubek,Christopher Hlubek,2012-12-06 08:35,"","",2012-12-04,"","",100,2012-12-04 05:54,"","",932650,"","",The session is currently destroyed through a signal emitted on logout (@loggedOut@). The AuthenticationManager should check if the session is started at all and should allow signal receivers to inspect the session before destroying it.
43578,TYPO3.Flow,Feature,"",Resolved,Should have,Enable role creation through API,Karsten Dambekalns,Karsten Dambekalns,2013-04-12 08:39,Security,2.1,2012-12-04,"","",100,2012-12-04 06:31,"","",932800,"","",We need @createRole()@.
43579,TYPO3.Fluid,Bug,"",Resolved,Should have,"Layout ViewHelper says name attribute is optional, but makes it required",Henjo Hoeksma,Rens Admiraal,2012-12-12 03:18,ViewHelpers,2.0 beta 1,2012-12-04,"","",100,2012-12-04 07:20,"","",932850,"",Git 1.2 (master),""
43587,TYPO3.Flow,Bug,"",Closed,Should have,Arrays in Yaml configuration should be interleaved rather than merge/overruled,Adrian Föder,"",2015-02-10 10:43,"","",2012-12-04,"","",0,2012-12-04 10:11,"","",933250,"",Git master,"consider the following unit test for the Arrays utility class:
<pre><code class=""php"">
<?php
	/**
	 * @test
	 */
	public function arrayMergeRecursiveOverruleAugmentsNonAssociativeArrayWithoutOverwritingKeys() {
		$actual = \TYPO3\Flow\Utility\Arrays::arrayMergeRecursiveOverrule(array('foo', 'bar', 'baz'), array('one', 'more', 'time'));
		$this->assertCount(6, $actual);
	}
</code></pre>

Currently this *fails* with $actual having only three items: 'one', 'more', 'time'.

This is troublemaking especially for the @TYPO3.Flow.reflection.ignoredTags@ setting since this is a numeric array.

Having 

@ignoredTags: ['api', 'package', 'subpackage', 'license' ...@


active and adding, for example,
@ignoredTags: ['my', 'ignoredAnnotation'] ...@

will result into removing ""api"" and ""package"" from the list eventually.

"
43589,TYPO3.Flow,Bug,"",Resolved,Should have,Route defaults can be omitted when creating URIs,Bastian Waidelich,Bastian Waidelich,2012-12-11 16:44,MVC - Routing,2.0 beta 1,2012-12-04,"","",100,2012-12-04 10:12,"","",933350,"",(any),"The *intended* behavior is following:
When generating an URI using the UriBuilder, a route only matches the specified *routeValues* if they are all equal to the *defaults* of the route. So given the following route:

<pre>
<code class=""yaml"">
-
  uriPattern: 'foo'
  defaults:
    bar: 'baz'
</code>
</pre>

(@package, @controller etc left out intentionally to keep it simple)

following should be the case:

<pre>
Router::resolve(array('bar' => 'baz')); // resolves to ""foo""
Router::resolve(array('bar' => 'xyz')); // does NOT resolve
Router::resolve(array());               // does NOT resolve
</pre>

But currently *this* is the behavior:

<pre>
Router::resolve(array('bar' => 'baz')); // resolves to ""foo""
Router::resolve(array('bar' => 'xyz')); // does NOT resolve
Router::resolve(array());               // resolves to ""foo""
</pre>

Meaning: you can omit default values (if they are not part of the uriPattern).

This works fine in most cases, but it makes it quite hard to get everything right, because too many routes match and it's hard to comprehend.

I already work on a fix, but it has two drawbacks I'd like to get your feedback for:

1. It's a breaking change and you'll have to check all your routes after applying the fix..
I did that with a quite large project and most routes still worked out of the box. Except for the pagination routes:

<pre>
<code class=""yaml"">
-
  name: 'Articles with optional pagination'
  uriPattern: 'articles(/page/{--paginate.currentPage})'
  defaults:
    '@package':    'My.Package'
    '@controller': 'Article'
    '@action':     'index'
    '--paginate':
      currentPage: '0'
      '@package': ''
      '@subpackage': ''
      '@controller': ''
      '@action': 'index'
</code>
</pre>

This route wouldn't resolve if $routeValues['--paginate']['@action?] is not set to ""index"" from now on, so I had to create an additional route:

<pre>
<code class=""yaml"">
-
  name: 'Articles with pagination'
  uriPattern: 'articles/page/{--paginate.currentPage}'
  defaults:
    '@package':    'My.Package'
    '@controller': 'Article'
    '@action':     'index'
    '--paginate':
      '@package': ''
      '@subpackage': ''
      '@controller': ''
      '@action': 'index'

-
  name: 'Articles'
  uriPattern: 'articles'
  defaults:
    '@package':    'My.Package'
    '@controller': 'Article'
    '@action':     'index'
</code>
</pre>

2. @action can't be omitted

The other drawback is the fallback behavior of the UriBuilder:
Currently, if you don't specify @package the package of the current request is used. The same for @subpackage and @controller (that's why <f:link.action action=""foo"" /> links to the fooAction of the current controller.
For @action it's different currently: If you don't specify it, the @action is not set in the $routeValues.
Because of the current behavior a route specifying the @action will still resolve. With the fix that wouldn't be the case anymore..
I see two solutions:

A) Make the actionName argument of UriBuilder::uriFor() required (as well as the action arguments of uri.action, link.action and form.

B) Fallback to ""index"" (or detect the first action of the controller class) I'm adding this for completeness, but this would be quite error prone IMO.."
43588,TYPO3.Flow,Bug,"",Closed,Should have,Route defaults can be omitted when creating URIs,Bastian Waidelich,Bastian Waidelich,2012-12-10 07:24,MVC - Routing,2.0 beta 1,2012-12-04,"","",0,2012-12-04 10:12,"","",933300,"",(any),"The *intended* behavior is following:
When generating an URI using the UriBuilder, a route only matches the specified *routeValues* if they are all equal to the *defaults* of the route. So given the following route:

-
  uriPattern: 'foo'
  defaults:
    bar: 'baz'

(@package, @controller etc left out intentionally to keep it simple)

following should be the case:

Router::resolve(array('bar' => 'baz')); // resolves to ""foo""
Router::resolve(array('bar' => 'xyz')); // does NOT resolve
Router::resolve(array());               // does NOT resolve

But currently *this* is the behavior:

Router::resolve(array('bar' => 'baz')); // resolves to ""foo""
Router::resolve(array('bar' => 'xyz')); // does NOT resolve
Router::resolve(array());               // resolves to ""foo""

Meaning: you can omit default values (if they are not part of the uriPattern).

This works fine in most cases, but it makes it quite hard to get everything right, because too many routes match and it's hard to comprehend.

I already work on a fix, but it has two drawbacks I'd like to get your feedback for:

1. It's a breaking change and you'll have to check all your routes after applying the fix..
I did that with a quite large project and most routes still worked out of the box. Except for the pagination routes:


-
  name: 'Articles with optional pagination'
  uriPattern: 'articles(/page/{--paginate.currentPage})'
  defaults:
    '@package':    'My.Package'
    '@controller': 'Article'
    '@action':     'index'
    '--paginate':
      currentPage: '0'
      '@package': ''
      '@subpackage': ''
      '@controller': ''
      '@action': 'index'

This route wouldn't resolve if $routeValues['--paginate']['@action?] is not set to ""index"" from now on, so I had to create an additional route:

-
  name: 'Articles with pagination'
  uriPattern: 'articles/page/{--paginate.currentPage}'
  defaults:
    '@package':    'My.Package'
    '@controller': 'Article'
    '@action':     'index'
    '--paginate':
      '@package': ''
      '@subpackage': ''
      '@controller': ''
      '@action': 'index'

-
  name: 'Articles'
  uriPattern: 'articles'
  defaults:
    '@package':    'My.Package'
    '@controller': 'Article'
    '@action':     'index'


2. @action can't be omitted

The other drawback is the fallback behavior of the UriBuilder:
Currently, if you don't specify @package the package of the current request is used. The same for @subpackage and @controller (that's why <f:link.action action=""foo"" /> links to the fooAction of the current controller.
For @action it's different currently: If you don't specify it, the @action is not set in the $routeValues.
Because of the current behavior a route specifying the @action will still resolve. With the fix that wouldn't be the case anymore..
I see two solutions:

A) Make the actionName argument of UriBuilder::uriFor() required (as well as the action arguments of uri.action, link.action and form.

B) Fallback to ""index"" (or detect the first action of the controller class) I'm adding this for completeness, but this would be quite error prone IMO.."
43590,TYPO3.Flow,Bug,"",Resolved,Must have,Session initialization fails in functional test cases,Robert Lemke,Robert Lemke,2012-12-05 10:37,Session,2.0 beta 1,2012-12-04,"","",100,2012-12-04 10:35,"","",933400,"",Git 1.2 (master),"A functional test case relying on the session framework fails with the following error:

Fatal error: Call to a member function setCookie() on a non-object in TYPO3_Flow_Session_Session_Original.php on line 236"
43609,TYPO3.Flow,Task,"",Resolved,Should have,Add predefined constants overview to documentation appendix,Adrian Föder,Adrian Föder,2012-12-12 02:25,- Documentation -,2.0 beta 1,2012-12-05,"","",100,2012-12-05 03:06,"","",934350,"","","In Documentation, Part V: Appendixes, there should be a new page that lists the predefined constants like FLOW_PATH_ROOT, FLOW_PATH_PACKAGES etc.
An inspiration can be found here: http://php.net/manual/en/reserved.constants.php"
43617,TYPO3.Flow,Task,"",Resolved,Should have,Make ObjectAccess::getPropertyInternal() protected,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 04:28,Reflection,2.0 beta 1,2012-12-05,"","",100,2012-12-05 05:23,"","",934750,"","",""
43621,TYPO3.Flow,Bug,"",Under Review,Must have,Composer installer overwrites Settings.yaml.example,Christopher Hlubek,Karsten Dambekalns,2013-11-26 13:12,"","",2012-12-05,"","",0,2012-12-05 06:07,"","",934950,"",Git master,The Flow composer installer seems to overwrite an existing file in @Configuration/Settings.yaml.example@ which should not happen for custom distributions.
43629,TYPO3.Flow,Task,"",Resolved,Should have,Use \ instead of _ for entity resources in Policies,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 16:44,Security,2.0 beta 1,2012-12-05,"","",100,2012-12-05 08:06,"","",935350,"","","When defining entity resources in a Policy.yaml file, the entity type has to be the class name with \ replaced by _. The ""reason"" officially are YAML restrictions, but that is not valid.
"
43659,TYPO3.Flow,Bug,"",Resolved,Must have,Proxy class building calls __construct and initializeObject before DI objects are present,Stephan Schuler,Robert Lemke,2014-07-11 14:19,Object,2.x,2012-12-06,"","",100,2012-12-06 07:21,"","",936850,"",Git master,"Hey there.

Given the following situation:
<pre>
class ObjectA;
class ObjectB extends ObjectA;
class ObjectC extends ObjectB;
</pre>

The code of pre 1.1 did this:
<pre>

new ObjectC ();

ObjectC_Proxy::__construct(); // triggered by my code
ObjectC_Original::__construct(); // triggered autoamtically by ObjectA_Proxy::__construct(), directly addressed as parent::__construct()

ObjectB_Proxy::__construct(); // triggered autoamtically by ObjectC_Proxy::__construct(), directly addressed as parent::__construct()
ObjectB_Original::__construct(); // triggered autoamtically by ObjectC_Proxy::__construct(), directly addressed as parent::__construct()

ObjectA_Proxy::__construct(); // triggered autoamtically by ObjectB_Proxy::__construct(), directly addressed as parent::__construct()
ObjectA_Original::__construct(); // triggered autoamtically by ObjectB_Proxy::__construct(), directly addressed as parent::__construct()

ObjectC_Proxy::DI(); // Should be ObjectA_Proxy, but it's ""$this->"", so the most outer method is used. But doesn't matter because it works.
ObjectC_Original::initializeObject(); // Should be ObjectA_Original, but it's ""$this->"", so the most outer method is used. But doesn't matter, it works.

ObjectC_Proxy::DI(); // Should be ObjectB_Proxy, but it's ""$this->"", so the most outer method is used. But doesn't matter because it has nothing to do.
ObjectC_Original::initializeObject(); // Should be ObjectB_Original, but it's ""$this->"" as well.

ObjectC_Proxy::DI(); // This should really be ObjectC_Proxy. But doesn't mater, it has been called three times before
ObjectC_Original::initializeObject(); // This should really be ObjectC_Original. But doesn't mater, it has been called three times before

</pre>

The current code acts like this:
<pre>

new ObjectC ();

ObjectC_Proxy::__construct(); // triggered by my code
ObjectC_Original::__construct(); // triggered autoamtically by ObjectA_Proxy::__construct(), directly addressed as parent::__construct()

ObjectB_Proxy::__construct(); // triggered autoamtically by ObjectC_Proxy::__construct(), directly addressed as parent::__construct()
ObjectB_Original::__construct(); // triggered autoamtically by ObjectC_Proxy::__construct(), directly addressed as parent::__construct()

ObjectA_Proxy::__construct(); // triggered autoamtically by ObjectB_Proxy::__construct(), directly addressed as parent::__construct()
ObjectA_Original::__construct(); // triggered autoamtically by ObjectB_Proxy::__construct(), directly addressed as parent::__construct()

ObjectC_Original::initializeObject(); // Should be ObjectA_Original, but it's ""$this->"", so the most outer method is used. This is way to early, no DI done until now.

ObjectC_Original::initializeObject(); // Should be ObjectB_Original, but it's ""$this->"" as well. To early, too.

ObjectC_Proxy::DI(); // Now we get the correct DI, but a little to late.
ObjectC_Original::initializeObject(); // This is the first call of ObjectC_Original::initializeObject() that really acts as expected since the other two calls had no DI properties available.

</pre>

In my oppinion, the DI sould be available in __construct. So I would move the DI stuff right before __construct and introduce a boolean helper flag to avoid multiple calls of DI. In general, I would call Flow_Proxy_injectProperties seeral times but make the injected method aware of multiple calls. This should clean up the genreated __construct a little.

Please see my DependencyHierarchy*.tar.gz demo files attached. Those show tue current and past situation and demonstrate the error."
43673,TYPO3.Flow,Bug,"",Resolved,Should have,Session shutdown might keep destroyed session alive,Robert Lemke,Robert Lemke,2012-12-07 09:35,Session,2.0 beta 1,2012-12-06,"","",100,2012-12-06 10:25,"","",937550,"",Git 1.2 (master),"There's a race condition in multi-server setups regarding the session shutdown: If a session has been destroyed by a second server between start() / resume() and shutdownObject(), the shutdown method will implicitly revive the session because it writes the session entry into the storage cache without checking if the session still exists."
43819,TYPO3.Flow,Feature,"",Resolved,Should have,Support lazy dependency injection of properties,Christopher Hlubek,Christopher Hlubek,2013-03-27 08:37,"","",2012-12-09,"","",100,2012-12-10 04:57,"","",944750,"","","<pre><code>
<?php
namespace Test;

class SomeDependency {

	public function __construct() {
		echo ""Construct SomeDependency\n"";
	}

	public function foo() {
		echo ""Foo called\n"";
	}


}

class LazyProxy_Original {

	//
	// /**
	//  * @Flow\Inject(lazy=true)
	//  * @var \Test\SomeDependency
	//  */
	// protected $someProperty;

	public function doSomething() {
		for ($i = 0; $i < 4; $i++) {
			$this->someDependency->foo();
		}
		// $this->fooBar->unknown();
	}

}

class LazyProxy extends LazyProxy_Original {

	public function __construct() {
		echo ""Construct LazyProxy\n"";
	}

	function __get($name) {
		echo ""LazyProxy get($name)\n"";
		switch ($name) {
			case 'someDependency':
				$object = new SomeDependency();
				break;
			default:
				trigger_error(
            		'Undefined property via __get(): ' . $name,
            		E_USER_NOTICE);
				return NULL;
		}
		$this->{$name} = $object;
		return $object;
	}

}


$lazy = new LazyProxy();
$lazy->doSomething();

?>
</code></pre>"
43822,TYPO3 Flow Base Distribution,Task,"",Resolved,Must have,Remove versions from composer manifests,Karsten Dambekalns,Karsten Dambekalns,2012-12-11 04:29,"",2.0 beta 1,2012-12-10,"","",100,2012-12-10 06:00,"","",944900,"","","To allow for versions to be read from git tags, the version fields in manifests must be removed."
43832,TYPO3.Flow,Feature,"",Resolved,Should have,Taggable Sessions,Robert Lemke,Robert Lemke,2012-12-11 16:42,Session,2.0 beta 1,2012-12-10,"","",100,2012-12-10 08:41,"","",945400,"","","It would be great if a session could be tagged with arbitrary labels and retrieved by tags afterwards. That way it would be possible to find a (remote) session of anyone with a specific account, customer number or similar data."
43839,TYPO3.Flow,Task,"",Resolved,Should have,"Replace references to ""Flow 1.2""",Bastian Waidelich,Bastian Waidelich,2012-12-10 15:15,"",2.0 beta 1,2012-12-10,"","",100,2012-12-10 10:15,"","",945750,"","","Some deprecation doc comments refer to ""Flow 1.2"", but the correct version is 2.0"
43841,TYPO3.Flow,Feature,"",New,Should have,Add package support to validation errors,Marco Falkenberg,"",2012-12-10 10:20,"","",2012-12-10,"","",0,2012-12-10 10:20,"","",945850,"","","Right now it's not possible to display translated validation errors thrown from validators out of more than one package, because you have to hard-code the package name in the translation viewhelper when displaying the errors. This would be very useful, so you do not have to merge translations from the core packages into you customized language file and keep track of changes. AFAIK there also is no support for inheritence in the XLIFF-specs.

A possible solution could be, to extend the validation with a package name when calling 'addError' on the validation provider. Then you do something like this:

<pre>
<f:form.validationResults for=""{property}"">
    <f:for each=""{validationResults.errors}"" as=""error"">
       {error -> f:translate(key: error.code, arguments: error.arguments, package: error.packageName, source: 'ValidationErrors')}
    </f:for>
</f:form.validationResults>
</pre>"
43903,TYPO3.Flow,Feature,"",Resolved,Should have,CurlEngine should support setting of options,Karsten Dambekalns,Karsten Dambekalns,2013-08-01 08:14,Http,2.1,2012-12-12,"","",100,2012-12-12 04:19,"","",948950,"","","To use a proxy with the CurlEngine, one currently has to hack the options directly into the code."
43908,TYPO3.Kickstart,Bug,"",Resolved,Must have,wrong class name of kickstarted Command controllers,Thomas Mammitzsch,Karsten Dambekalns,2013-03-19 11:37,"",2.0,2012-12-12,"","",100,2012-12-12 05:28,"","",949200,"",Git master,"./flow kickstart:commandcontroller Acme.Demo Dosomething

results in creating DosomethingController.php with class DosomethingController 
but it must be DosomethingCommandController.php with class DosomethingCommandController"
43930,TYPO3.Flow,Task,"",Needs Feedback,Should have,Remove canRender() completely?!,Karsten Dambekalns,Sebastian Kurfuerst,2012-12-18 09:09,"","",2012-12-12,"","",0,2012-12-12 15:10,"","",950300,"","","Since it is no longer used by Flow, can @canRender()@ be removed completely? Seems pretty useless as it is?"
43947,TYPO3.Flow,Bug,"",New,Should have,Redirect to login after Session timeout,Marc Neuhaus,"",2012-12-13 06:35,"","",2012-12-13,"","",0,2012-12-13 05:41,"","",951150,"",Git master,"Currently i'm getting an '#1216919280: You are not allowed to perform this action.' when my session times out.
http://dl.dropbox.com/u/314491/Screenshots/0i.png

I'd expect to be redirected to the Loginscreen, when my Session times out."
43948,TYPO3.Flow,Bug,"",Resolved,Must have,Core migration tool halts on packages having no Configuration directory,Adrian Föder,Karsten Dambekalns,2013-01-09 06:07,- Migrations -,2.0,2012-12-13,"","",100,2012-12-13 06:16,"","",951200,"",Flow 2.0.0 beta 1,"as it's the case in the TYPO3.Media package for example, packages having no ""Configuration"" directory, http://git.typo3.org/FLOW3/Packages/TYPO3.Media.git/tree/master, make the core migration tool halt with an exception message:

<pre>
PHP Fatal error:  Uncaught exception 'TYPO3\Flow\Utility\Exception' with message '""C:/Users/afoeder/PhpstormProjects/acme/Distribution/Packages\Application\TYPO3.Media/Configuration"" is no directory.' in C:\Users\afoeder\PhpstormProjects\acme\Distribution\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Utility\Files.php:84
Stack trace:
#0 C:\Users\afoeder\PhpstormProjects\acme\Distribution\Packages\Framework\TYPO3.Flow\Scripts\Migrations\AbstractMigration.php(266): TYPO3\Flow\Utility\Files::readDirectoryRecursively('C:/Users/afoede...', 'yaml', true)
#1 C:\Users\afoeder\PhpstormProjects\acme\Distribution\Packages\Framework\TYPO3.Flow\Migrations\Code\Version201212051340.php(38): TYPO3\Flow\Core\Migrations\AbstractMigration->processConfiguration('Policy', Object(Closure), true)
#2 C:\Users\afoeder\PhpstormProjects\acme\Distribution\Packages\Framework\TYPO3.Flow\Scripts\Migrations\Manager.php(129): TYPO3\Flow\Core\Migrations\Version201212051340->up()
#3 C:\Users\afoeder\PhpstormProjects\acme\Distribution\ in C:\Users\afoeder\PhpstormProjects\acme\Distribution\Packages\Framework\TYPO3.Flow\Scripts\Migrations\Manager.php on line 133
</pre>"
43960,TYPO3.Flow,Bug,"",Resolved,Should have,Memcache and APC backend must expose prefixed cache identifier,Dominique Feyer,Dominique Feyer,2013-01-15 04:38,Cache,2.1,2012-12-13,"","",100,2012-12-13 09:54,"","",951800,"",Git master,"I case where we need to share cache between different application, it's need to access the prefixed identifier to allow the other application to access the cache entry."
43966,TYPO3.Flow,Feature,Work Package #45088: Improved REST support,Resolved,Should have,Allow all routes to include sub routes,Bastian Waidelich,Bastian Waidelich,2013-09-23 08:22,MVC - Routing,"",2012-12-13,"","",100,2012-12-13 10:44,"","",952100,"","","Sub routes are currently only resolved in the global *Configuration/Routes.yaml* file.
It would be nice if sub routes could include sub routes them selves.
This also requires us to be able to specify a path.

The syntax could be similar to:
<pre>
<code class=""yaml"">
-
  # loads sub routes from My.Package/Configuration/Routes.yaml
  uriPattern: '<SomeSubroutes>'
  subRoutes:
    SomeSubroutes:
      package: My.Package
-
  # loads sub routes from Other.Package/Configuration/RestRoutes.yaml
  uriPattern: '<SomeSubroutes>'
  subRoutes:
    SomeSubroutes:
      package: Other.Package
      filename: RestRoutes.yaml
</code>
</pre>
"
43967,TYPO3.Flow,Bug,"",New,Should have,Error in evaluating orphanRemoval in Flow Annotation driver,Tarcisio Fedrizzi,"",2013-01-03 05:00,Persistence,"",2012-12-13,"","",0,2012-12-13 10:45,"","",952150,"",(any),"There is what I consider an error in the code that evaluates the orphanRemoval flag.
The code is the following (I renumbered the rows for convenience):
<pre>
1. if ($oneToManyAnnotation->orphanRemoval) {
2.         $mapping['orphanRemoval'] = $oneToManyAnnotation->orphanRemoval;
3. } elseif ($this->isAggregateRoot($mapping['targetEntity'], $className) === FALSE) {
4.         $mapping['orphanRemoval'] = TRUE;
5. }
</pre>
In my opinion row 1 should be instead:
<pre>
1. if (isset($oneToManyAnnotation->orphanRemoval)) {
</pre>
Otherwise the fact of not being an aggregate root would make the orphanRemoval flag always
TRUE despite of the value of the annotation specified on the attribute.
This is especially true because the orphanremoval attribute is of type boolean.

Moreover, in my opinion, other similar lines like:
<pre>
if ($oneToOneAnnotation->cascade) {
</pre>
would be more clearly and safely written as:
<pre>
if (isset($oneToOneAnnotation->cascade)) {
</pre>"
43993,TYPO3.Flow,Task,"",New,Should have,Warn when no migrations are found at all during doctrine:migrate,Karsten Dambekalns,"",2012-12-14 03:30,Persistence,"",2012-12-14,"","",0,2012-12-14 03:30,"","",953450,"","","If (e.g. when using SQLite) no migrations exist, don't just say ""yep, done, success"" but warn that there are no migrations."
44000,TYPO3.Flow,Bug,"",Resolved,Must have,Flow CLI on Windows does not work anymore,Adrian Föder,Bastian Waidelich,2013-03-27 08:37,Cli,"",2012-12-14,"","",100,2012-12-14 05:10,"","",953800,"",Git master,"when calling @flow@ on Windows (on the native @cmd@ shell), the following occurs:
<pre>
Flow: Invalid root path. (Error #1248964375)
""/"" does not lead to
""C:/Users/afoeder/PhpstormProjects/acme/Distribution/Packages/Framework/TYPO3.Flow/""
</pre>

"
44022,TYPO3 Flow Base Distribution,Task,"",Resolved,Must have,Remove Jenkins as composer repository from 2.0 branch,Karsten Dambekalns,Karsten Dambekalns,2013-01-15 04:37,"",2.0,2012-12-14,"","",100,2012-12-14 11:17,"","",954850,"","","The use of the Jenkins' Satis leads to misleading ""number of installs"" on packagist.org"
44049,TYPO3.Flow,Bug,"",Resolved,Must have,runDql() method in Doctrine\Service handles constant incorrectly,Adrian Föder,Adrian Föder,2012-12-17 08:36,Persistence,2.0,2012-12-17,"","",100,2012-12-17 06:51,"","",956200,"",Git master,"The method looks like
<pre><code class=""php"">
	public function runDql($dql, $hydrationMode = \Doctrine\ORM\Query::HYDRATE_OBJECT, $firstResult = NULL, $maxResult = NULL) {
		...

		return $query->execute(array(), constant($hydrationMode));
	}
</code></pre>

Since $hydrationMode is obviously intended to be a constant, hence an integer, the invokation of constant($hydrationMode) results appopriately in @ Warning: constant(): Couldn't find constant 2 @

This never seems to happen in usual context because it's passed as a string in the Command."
44078,TYPO3 Flow Base Distribution,Task,"",New,Should have,Probably false behavior in symlinked environment,Thomas Hempel,"",2012-12-18 07:17,"","",2012-12-18,"","",0,2012-12-18 04:39,"","",957650,"","","Hi,

I just tried to setup TYPO3 Flow where the sources where symlinked somewhere else. I my setup looked like this:

<pre>
- Flow_Base_Distribution_Clone (installed with composer)

- DocumentRoot
-- Flow_src -> Flow_Base_Distribution_Clone
-- Build
-- Configuration
-- Data
-- Packages
--- Application
---- MyPackage -> SYMLINK to somewhere else
--- Framework -> Flow_src/Packages/Framework
--- Libraries -> Flow_src/Packages/Libraries
-- bin -> Flow_src/bin
-- Web -> Flow_src/Web
-- flow -> Flow_src/flow
</pre>

This basically works but it shows at least two weird behaviors

* The ""Data"" folder of Flow_Base_Distribution_Clone is used instead of the local one. (Clearing this didn't solve the routing problem btw)
* I removed the Welcome package (package:delete) but it still had some default route somewhere that catched any request

Maybe this setup is weird but I think there might be valid use-cases for this. Someone might wanna look into this so Flow can throw a warning if unsupported symlinks are used. Moving anything to the document root solved all problems.

If you have any questions, kust let me know.


Greets,
Thomas
"
44087,TYPO3.Flow,Bug,"",Resolved,Must have,Call to a member function setCookie(),Kien Phuoc Ma,Robert Lemke,2013-04-05 14:37,Session,"",2012-12-18,"","",100,2012-12-18 06:33,"","",958100,"",Git master,"i got a Fatal Error: Call to a member function setCookie()

use by

	try { $this->authenticationManager->authenticate();
			error_log('LOGGED_IN');

		} catch (\TYPO3\Flow\Security\Exception\AuthenticationRequiredException $exception) {
			error_log('LOGIN_FAILURE');

		}


"
44086,TYPO3.Flow,Bug,"",Closed,Must have,Call to a member function setCookie(),Kien Phuoc Ma,Bastian Waidelich,2012-12-24 07:05,Session,"",2012-12-18,"","",0,2012-12-18 06:33,"","",958050,"",Git master,"i got a Fatal Error: Call to a member function setCookie()

use by

	try { $this->authenticationManager->authenticate();
			error_log('LOGGED_IN');

		} catch (\TYPO3\Flow\Security\Exception\AuthenticationRequiredException $exception) {
			error_log('LOGIN_FAILURE');

		}


"
44088,TYPO3.Flow,Task,"",Closed,Should have,Update CLDR data to current version,Karsten Dambekalns,Karsten Dambekalns,2015-02-16 12:22,I18n,"",2012-12-18,"",1.00,0,2012-12-18 07:41,"","",958150,"","",The CLDR data in the Resources folder is currently from 2012. An upgrade to the current version will a) ensure current locale data and b) make sure we have adjusted (if needed) to any changes in CLDR data.
44123,TYPO3.Flow,Feature,"",New,Should have,"Make the ""Flow requires the PHP setting ""date.timezone"""" error more beautiful",Ernesto Baschny,"",2013-12-24 19:55,"","",2012-12-19,"","",0,2012-12-19 10:14,"","",959800,"","","My first impression with Flow/Neos a very unstylish ""echo"" error message with a die():

  Flow requires the PHP setting ""date.timezone"" to be set. (Error #1342087777)

This was introduced in #37438. The default ""date.timezone"" is empty in most distributions, so I guess there will be others facing the same first impression.

My suggestion would be to make this error message more ""stylish"" and give some more help about how to / where change it (you use to give paths for Debian-like people). It should look more like the exceptions found later on.

On a more broader question: Why is this date.timezone required by the ""Bootstrap"" already? I suppose Flow has many other ""PHP dependencies"" (required settings, required loaded modules, required permissions etc), which should all be checked in this first installation step anyway. There is a step in /setup which tells me ""Your environment seems suited for bla bla"" and then redirects to a further step. Wouldn't this be a better place to check for this dependency?
"
44139,TYPO3.Flow,Bug,"",Resolved,Must have,UriBuilder includes all arguments of namespaced sub request,Aske Ertmann,"",2013-08-24 09:49,MVC - Routing,2.0.1,2012-12-19,"","",100,2012-12-19 18:03,"","",960600,"",Git master,"When creating a link in a sub request using argument namespace the arguments of the current sub request is added to all links even though addQueryString is not set. This happens because the logic removing them were removed when fixing #42770. The problem is that fix removes the current arguments for sub requests correctly, but when the arguments of the parent request are added it adds those namespaced arguments which actually belong to the sub request again."
44140,TYPO3.Fluid,Bug,"",Resolved,Should have,Unlucky JavaScript syntax can break inline tags,Aske Ertmann,"",2014-04-03 07:29,ViewHelpers,"",2012-12-20,"","",0,2012-12-19 18:37,"","",960650,"",Git master,"After troubleshooting a problem with econic, we have found an issue that can break the parsing of inline tags. The problem originated from using JavaScript in a template, which broke all inline view helpers after the JavaScript. After boiling down to the core problem, it seems that it doesn't have anything to do with the JavaScript itself but instead using {} and indentation.

The original issue source: http://pastebin.com/pkCjwUHd

Snippets for reproducing the problem:
https://gist.github.com/4341615
https://gist.github.com/4341668

In my case I needed at least 16 tabs or 16 spaces for it to break, but econic only needed 13.

The result in both cases is:
{collection -> f:count()}
{f:count(subject: collection)}
0"
44148,TYPO3.Flow,Bug,"",New,Should have,Documentation for executeCommand() needs clarification,Karsten Dambekalns,"",2013-08-14 09:35,"",2.0.1,2012-12-20,"","",0,2012-12-20 05:00,"","",961050,"",FLOW3 1.1.0,The documentation at http://flow.typo3.org/documentation/guide/partiii/commandline.html#executing-sub-commands needs clarification: the passed settings must be the Flow settings.
44149,TYPO3.Flow,Feature,"",Closed,-- undefined --,getIdentifierByObject for POP-Objects,Benno Weinzierl,Bastian Waidelich,2013-08-14 10:08,Persistence,"",2012-12-20,"","",0,2012-12-20 06:16,"","",961100,"","","PersistenceManager::getIdentifierByObject() currently returns NULL if you pass it a ""non-entity"", thus PersistenceManager::convertObjectToIdentityArray() throws an exception if the array contains such object.
This feature request suggests to make it possible to retrieve a unique id for arbitrary Plain Old PHP objects.

h3. *NOTE*

I moved this issue from the Fluid tracker. It had the subject *Usage of Session Scope Objects as arguments in f:link.action should be possible* but is rather an ""issue"" of the persistence.
I'm not convinced that such feature would make sense yet, but I wanted to get some more input before rejecting it.

*Here the original description:*

When trying to use a session scope object as argument in f:link.action viewhelper i get the following Error:

#1302628242: The given object is unknown to the Persistence Manager.

It sould be possible to use Session Scope Obejcts (or objects stored inside them) as arguments because they are persisted in session scope. 

Here is a example:
I have a ShopingBasket with scope=session with BasketItems stroed inside. Now i want to create a delete link for a BasketItem. This is not possible without using a self implemented id at the moment."
44157,TYPO3.Flow,Feature,"",Resolved,Should have,Object configuration should imply annotated object name,Adrian Föder,Adrian Föder,2015-02-11 08:30,Object,"",2012-12-20,"","",100,2012-12-20 09:06,"","",961500,"","","consider the following use case:

<pre><code class=""php"">
/**
 * @Flow\Scope(""singleton"")
 */
class FooService {

    /**
     * @var \TYPO3\Flow\Monitor\FileMonitor
     */
    protected $fileMonitor;
}
</code>
<code class=""yaml"">
Acme\Acme\FooService:
  properties:
    fileMonitor:
      object:
#        name: TYPO3\Flow\Monitor\FileMonitor
        arguments:
          1:
            value: 'MyPackage_MonitorIdentifier'
</code>
</pre>

When running this way, Flow complains
<pre>
  Uncaught Exception
    Object configuration for property ""fileMonitor"" contains neither
    object name nor factory object name in configuration of package ...
</pre>

So, the commented line in the yaml above becomes necessary, however I think the default object name in this case should still be the annotated one.

Do you agree on this?"
44184,TYPO3.Flow,Bug,"",New,Should have,Request arguments are not merged correctly for single object actions,Bastian Waidelich,"",2013-08-14 09:35,MVC,2.0.1,2012-12-21,"","",0,2012-12-21 07:26,"","",962850,"",Git master,"Following szenario:

I try to update a single entity via PUT:
<pre>
curl -i -H ""Accept: application/xml"" -H ""Content-Type: application/xml"" -X POST -d ""<root><product><title>changed title</title></product></root>"" http://localhost/products/2a7a6fd9-fa6f-47e2-8976-7c8308a96e4c
</pre>

This won't merge the changed product title correctly, because in Router::route() the request & routing arguments are merged via Arrays::arrayMergeRecursiveOverrule(). the routing array with array('product' => array('title' => 'changed title')) is then overridden by array('product' => '<the product UUID>'));

This works, when using the ""object routes"" (IdentityRoutePart) because that returns an array in the form array('__identity' => '<UUID>') which can be merged."
44185,TYPO3.Flow,Bug,"",New,Should have,XML body always need a root node,Bastian Waidelich,"",2013-08-14 09:35,MVC,2.0.1,2012-12-21,"","",0,2012-12-21 07:26,"","",962900,"",Git master,"If the request contains xml and the Content-Type header is set to ""*/xml"" the client currently has to surround the XML with an additional root node (which is basically ignored):

<pre>
curl -i -H ""Accept: application/xml"" -H ""Content-Type: application/xml"" -X POST -d ""<anything><product><title>foo</title></product></anything>"" http://localhost/products
</pre>

Instead the root node should be omitted:
<pre>
curl -i -H ""Accept: application/xml"" -H ""Content-Type: application/xml"" -X POST -d ""<product><title>foo</title></product>"" http://localhost/products
</pre>


This could be achieved by replacing
<pre>
<code class=""php"">
$xmlElement = new \SimpleXMLElement(urldecode($body), LIBXML_NOERROR);
</code>
</pre>
with
<pre>
<code class=""php"">
$xmlElement = new \SimpleXMLElement('<root>' . urldecode($body) . '</root>', LIBXML_NOERROR);
</code>
</pre>

in Http\Request::decodeBodyArguments()."
44186,TYPO3.Flow,Bug,"",New,Should have,Request does not accept custom Content-Type,Bastian Waidelich,"",2013-08-14 09:35,MVC,2.0.1,2012-12-21,"","",0,2012-12-21 07:29,"","",962950,"",Git master,"Http\Request::decodeBodyArguments() currently only correctly detects content type headers in the form ""*/<format>"".
It should also support Content Types in the format *application/vnd.foo.bar.baz+<format>* IMO"
44202,TYPO3.Flow,Bug,"",Resolved,Must have,$session->start() initializes a new session and does not resume a current one,Helmut Hummel,Robert Lemke,2013-04-05 14:37,Session,2.0,2012-12-22,"","",100,2012-12-22 14:50,"","",963750,"",Flow 2.0.0 beta 1,"Disclaimer: I did not test anything, but only making assumptions by reading the code. Just close this ticket if I'm mistaken.

When introducing the new session handling in #43376 the ""start"" method of the session object changed it's notion.


Before ""start"" initialized a new session or resumed an existing one
<pre>
	public function start() {
		if ($this->started === FALSE) {
			$this->startOrResume();
		}
	}
</pre> 


Now the start method clearly initializes a completely new session:

<pre>
	public function start() {
		if ($this->request === NULL) {
			$this->initializeHttpAndCookie();
		}
		if ($this->started === FALSE) {
			$this->sessionIdentifier = Algorithms::generateRandomString(32);
			$this->storageIdentifier = Algorithms::generateUUID();
...
</pre>

This is a severe change in behaviour, which at least breaks the @Flow\Session(autoStart=true) annotation, because the LazyLoadingAspect explicitly calls $this->session->start();

<pre>
	public function initializeSession(\TYPO3\Flow\Aop\JoinPointInterface $joinPoint) {
		if ($this->session->isStarted() === TRUE) {
			return;
		}

		$objectName = $this->objectManager->getObjectNameByClassName(get_class($joinPoint->getProxy()));
		$methodName = $joinPoint->getMethodName();

		$this->systemLogger->log(sprintf('Session initialization triggered by %s->%s.', $objectName, $methodName), LOG_DEBUG);
		$this->session->start();
	}
</pre>

These methods will never get a resumed session, but always a fresh one.

P.S.: I cannot select the ""Session"" category, but only Documentation, Testing and Build Process. Maybe you should check the project permissions."
44203,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Session implementation is still racy,Helmut Hummel,Robert Lemke,2013-08-14 09:35,Session,2.0.1,2012-12-22,"","",0,2012-12-22 15:22,"","",963800,"",Flow 2.0.0 beta 1,"Disclaimer: I did not test anything, but only making assumptions by reading the code. Just close this ticket if I'm mistaken.

Just want to make you aware that the session handling introduced in #43376 is racy.
The old session handling relied on the basic PHP session implementation. This is protected against concurrent requests.
Consider this simple script:

<pre>
<?php
<?php
session_start();
var_dump($_SESSION);

if (!empty($_GET['test'])) $_SESSION['test'] ++;

if (!empty($_GET['sleep'])) sleep(15);

var_dump($_SESSION);</pre>

When you call it first with <code>http://localhost/session.php?test=1&sleep=1</code> and in a second tab with <code>http://localhost/session.php?test=1</code> The second request waits on session_start() until the first request is completed. This ensures consistent session data over multiple concurrent requests, which are quite common especially when using asynchronous Ajax calls.

PHP obviously does locking for sessions, the new session implementation of Flow does not (or the locking code is somewhere well hidden ;)

Maybe that's not a big deal (the session implementation of TYPO3 CMS is also racy as hell and still does it's job most of the time), but I wanted to let you know that this could cause troubles especially in Neos..."
44234,TYPO3.Fluid,Bug,"",Under Review,Should have,selectViewHelper's sorting does not respect locale collation,Anja Leichsenring,"",2014-07-31 11:15,ViewHelpers,2.1,2012-12-27,"","",0,2012-12-27 08:47,"","",965300,"",Git master,"extbase fluid goes fixing this bug (find the issue at http://forge.typo3.org/issues/43445), this should be the same for Package Fluid."
44235,TYPO3.Fluid,Feature,"",Resolved,Should have,prependOption for SelectViewHelper,Anja Leichsenring,Bastian Waidelich,2013-03-07 05:36,ViewHelpers,2.1,2012-12-27,"","",100,2012-12-27 09:20,"","",965350,"","","There is a continous demand for prepending the options list of a select box with a kind of 'empty' option.
Extbase fluid aims to provide this feature, find the ticket here: http://forge.typo3.org/issues/26595"
44244,TYPO3.Flow,Bug,"",New,Should have,defaultOrderings aren't applied on related objects,Martin Brüggemann,"",2013-01-09 12:41,Persistence,"",2012-12-28,"","",0,2012-12-28 11:26,"","",965800,"",Flow 2.0.0 beta 1,"I tried to load objects and their related subobjects and put them out within a fluid template. Unfortunately the subobjects had the wrong sorting - even after having set the $defaultOrderings variable in the subobjects repository correctly. The only workaround that works is setting the following ORM-option in the subobjects model:

<pre>
* @ORM\OrderBy({""date"" = ""DESC""})
</pre>

"
44250,TYPO3.Fluid,Bug,"",Resolved,Must have,Broken paginator widget - explicit definition of action-argument is required,Martin Brüggemann,Karsten Dambekalns,2013-01-28 05:28,Widgets,2.0,2012-12-29,"","",100,2012-12-29 09:23,"","",966100,"",Flow 2.0.0 beta 1,"Some changes in TYPO3.Flow and the UriBuilder require to explicitly define an action when building an Uri. The paginator widget hasn't been modified to this new requirement and fails to work like before. The error message looks like this:

<pre>
TYPO3_Fluid_ViewHelpers_Widget_LinkViewHelper_Original.php: The URI Builder could not build a URI linking to an action controller because no action name was specified. Please check the stack trace to see which code or template was requesting the link and check the arguments passed to the URI Builder.
</pre>"
44258,TYPO3.Flow,Feature,"",Resolved,Should have,Set packageType when creating new package,Soren Malling,Soren Malling,2013-04-05 11:36,Package,"",2012-12-30,"","",100,2012-12-30 11:51,"","",966500,"","","When calling packageManager->createPackage you have no way to define what package type you are creating.

By adding a fourth argument ""packageType"" with a default value to ""typo3-flow-package"" one can use createPackage to create ""Sites"" and similar. The TYPO3.SiteKickstart package is lacking this feature, and sites are created in the Sites folder but in the composer manifest it's named ""typo3-flow-package"".

The package type information can either be put to the MetaData ( {get|set}PackageType() )object passed around or as a argument (mentioned above).

First patchset will be pushed later for discussion"
44278,TYPO3.Flow,Bug,"",Resolved,Must have,High memory consumption of Debugger::renderObjectDump() prevents display of Exceptions,Benno Weinzierl,Karsten Dambekalns,2013-01-26 06:37,Error,2.0,2013-01-02,"","",100,2013-01-02 11:43,"","",967500,"",Git master,"When an arbitrary Exception is thrown i get a ""Allowed memory Limit""-Error instead of the Flow Exception-Errormessage.

This seems to occure because \Doctrine\Common\Util\Debug::export($object, 12) is called with 12 nesting levels.
In TYPO3\Flow\Error\Debugger:
<pre>
        ....
	static protected function renderObjectDump($object, $level, $renderProperties = TRUE, $plaintext = FALSE, $ansiColors = FALSE) {
		$dump = '';
		$scope = '';
		$additionalAttributes = '';

		if ($object instanceof \Doctrine\Common\Collections\Collection) {
			return self::renderArrayDump(\Doctrine\Common\Util\Debug::export($object, 12), $level, $plaintext, $ansiColors);
		}
        ...
</pre>

if i change the 12 to 6 for example it works.
Sould this not be at least configurable via Settings.yaml?
"
44280,TYPO3.Flow,Bug,"",Resolved,Should have,Git core:migration check for applied version fail,Tarcisio Fedrizzi,Karsten Dambekalns,2013-01-15 04:38,- Migrations -,2.0,2013-01-03,"","",100,2013-01-03 05:07,"","",967600,"",(any),"When I migrate a package for the changes introduced in the code I get the following error:

<pre>
Applying TYPO3.FLOW3-201201261636
fatal: Invalid object name 'Migration'.
  Migrating Package.Name
    No changes were committed.

  -------------------------------------------------------------------------------
   Notes
  -------------------------------------------------------------------------------
  * \TYPO3\FLOW3\MVC\Web\RequestBuilder does not exist anymore. If you need to
    create requests, do ""new ActionRequest($parentRequest)"".
...
</pre>
I tracked down the problem to the migration script Git.php. The problem is in the
grep parameter specified without the = operator.
The attached patch solves the problem."
44285,TYPO3.Flow,Bug,"",Closed,-- undefined --,TYPO3\FLOW3\Exception thrown in file Scripts.php,torben ,Adrian Föder,2013-08-14 10:05,- Error Handler Report -,"",2013-01-03,"","",0,2013-01-03 08:30,"","",967850,"",Flow 2.0.0 beta 1,"It seems like the PHP binary ""C:\php/php"" cannot be executed by FLOW3. Set the correct path to the PHP executable in Configuration/Settings.yaml, setting TYPO3.FLOW3.core.phpBinaryPathAndFilename.
<pre>
10 TYPO3\FLOW3\Core\Booting\Scripts::initializeProxyClasses(TYPO3\FLOW3\Core\Bootstrap)
9 call_user_func(array, TYPO3\FLOW3\Core\Bootstrap)
8 TYPO3\FLOW3\Core\Booting\Step::__invoke(TYPO3\FLOW3\Core\Bootstrap)
7 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
6 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
5 TYPO3\FLOW3\Core\Booting\Sequence::invokeStep(TYPO3\FLOW3\Core\Booting\Step, TYPO3\FLOW3\Core\Bootstrap)
4 TYPO3\FLOW3\Core\Booting\Sequence::invoke(TYPO3\FLOW3\Core\Bootstrap)
3 TYPO3\FLOW3\Http\RequestHandler::boot()
2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()
1 TYPO3\FLOW3\Core\Bootstrap::run()

Please include more helpful information!
</pre>"
44314,TYPO3.Flow,Task,"",Accepted,Must have,slightly file permissions for .../Configuration/* and .../Data/Persistent/EncryptionKey,Rafael Kähm,Karsten Dambekalns,2013-11-25 08:21,Security,"",2013-01-04,"","",0,2013-01-04 12:15,"","",969300,"","","File permissions for all files in 
*Configuration* folder 
and 
*Data/Persistent/EncryptionKey* 
have *644* permissions

they *should be 600*, because Apache and NGINX are for most Webserver configurations in the same group as webspace user. Also one stranger(f. e. by webhosting Server) can read all this files if this one can create symlinks to this files in own webspace.

Evidence: 

* User A:
** document root: /var/www/client1/userA

* User B:
** document root: /var/www/client2/userB

user B makes symlinks to all Configuration/*.yaml and to .../Data/Persistent/EncryptionKey files in its webspace and then call http://users-b-domain.dev/uri-to-symlink-that-points-to-users-A-file to read all this configuration files.
"
44361,TYPO3.Flow,Bug,"",New,Should have,TYPO3\Flow\I18n\Formatter\DatetimeFormatter - caching DATETIME type,Jerzy no-lastname-given,"",2013-08-14 09:35,I18n,2.0.1,2013-01-07,"","",0,2013-01-07 07:10,"","",971650,"",Flow 2.0.0 beta 1,"I've encountered problem with DatetimeFormatter using \TYPO3\Flow\I18n\Cldr\Reader\DatesReader::FORMAT_TYPE_DATETIME with multiple FORMAT_LENGTH_* options - after refreshing site, output is the same for all of them. It works fine with separete FORMAT_TYPE_DATE and FORMAT_TYPE_TIME. 

Code sample:

<pre>
            $someDate = new \DateTime();
            
            $full = $this->i18nDateFormater->format($someDate, $locale, array(
                \TYPO3\Flow\I18n\Cldr\Reader\DatesReader::FORMAT_TYPE_DATETIME,
                \TYPO3\Flow\I18n\Cldr\Reader\DatesReader::FORMAT_LENGTH_FULL
            ));
            var_dump($full);
            
            $short = $this->i18nDateFormater->format($someDate, $locale, array(
                \TYPO3\Flow\I18n\Cldr\Reader\DatesReader::FORMAT_TYPE_DATETIME,
                \TYPO3\Flow\I18n\Cldr\Reader\DatesReader::FORMAT_LENGTH_SHORT
            ));
            var_dump($short);
</pre>

Same thing with view helper:
<pre>
	{f:format.date(date: 'now', localeFormatType: 'dateTime',  localeFormatLength: 'full', forceLocale: true)}
	{f:format.date(date: 'now', localeFormatType: 'dateTime',  localeFormatLength: 'short', forceLocale: true)}
</pre>"
44375,TYPO3.Flow,Task,Feature #36715: Make simultaneous use of multiple persistence backends possible,Accepted,Should have,Make all persistence reads go through repositories,Karsten Dambekalns,Karsten Dambekalns,2013-05-21 07:28,Persistence,"",2013-01-08,"","",0,2013-01-08 07:09,"","",972350,"","","Currently Flow fetches some objects directly via the PersistenceManager, without using the repositories for the fetched objects. This can lead to confusion (if a specialized getter is not called as expected) and prohibits the use of repositories to divert between persistence backends."
44376,TYPO3.Fluid,Bug,"",Resolved,Must have,Paginate widget throws exception,Bastian Waidelich,Bastian Waidelich,2013-01-08 09:36,Widgets,2.0,2013-01-08,"","",100,2013-01-08 07:39,"","",972400,"",Flow 2.0.0 beta 1,"With #43589 the action argument of link/URI ViewHelpers is not optional any longer (except for AJAX widget links/URIs where the argument falls back to the current action).
The template of the provided pagination widget has not been adjusted to that breaking change yet."
44396,TYPO3.Flow,Task,Feature #36715: Make simultaneous use of multiple persistence backends possible,Accepted,Should have,Move Doctrine ORM integration onto own namespace,Karsten Dambekalns,Karsten Dambekalns,2013-05-21 07:28,Persistence,"",2013-01-09,"","",0,2013-01-09 05:43,"","",973400,"","",The @Persistence\Doctrine@ classes must go into @Persistence\Doctrine\ORM@ to avoid clashes.
44397,TYPO3.Flow,Bug,"",Resolved,Must have,Status for code migrations is broken (call to undefined function),Karsten Dambekalns,Karsten Dambekalns,2013-01-09 13:36,- Migrations -,2.0,2013-01-09,"","",100,2013-01-09 05:54,"","",973450,"",Flow 2.0.0 beta 1,The removal of @getPackageKey()@ on the code migrations needs to be reflected in the status output command.
44398,TYPO3.Flow,Task,"",Resolved,Should have,flow:core:migrate should ignore the Libraries folder,Karsten Dambekalns,Karsten Dambekalns,2013-03-19 09:37,- Migrations -,2.0,2013-01-09,"","",100,2013-01-09 05:57,"","",973500,"","",""
44402,TYPO3.Flow,Bug,"",Resolved,Must have,Regex search & replace in code migrations never done,Karsten Dambekalns,Karsten Dambekalns,2013-04-05 09:37,- Migrations -,2.0,2013-01-09,"","",100,2013-01-09 07:06,"","",973700,"",Flow 2.0.0 beta 1,"The code is all in place, but the last step of actually using it is missing?"
44434,TYPO3.Flow,Task,"",Resolved,Could have,Link generation in functional tests should behave like Apache with mod_rewrite,Karsten Dambekalns,Karsten Dambekalns,2013-08-02 04:52,- Testing -,2.0,2013-01-10,"","",100,2013-01-10 08:36,"","",975300,"","","Currently links generated in functional tests include ""index.php"" as the @FLOW_REWRITEURLS@ environment variable is not present (usually set in @.htaccess@ if mod_rewrite is available).

By adding this environment variable in @FunctionalTests.xml@ the tests would behave like most people would link building to work."
44458,TYPO3.Flow,Feature,"",Closed,Could have,Allow deletion of sub objects,Bastian Waidelich,Bastian Waidelich,2014-02-19 04:07,Property,"",2013-01-11,"","",0,2013-01-11 07:15,"","",976500,"","","Currently it's not possible to remove a subobject from an entity in it's updateAction without manual interaction.

h2. Example:

Imagine you have a domain object *Invoice* with 1:n relation to *Client* and a n:n relation to *InvoiceItem*
I want to display the invoice with its items and the related client.
The user should be able to remove items and the client from the invoice and submit the form.

*Note:* A solution would be to remove relations via AJAX but that's a different topic

h3. RFC:

I could imagine following solution:

Submit the form with
<pre>
<code class=""html"">
<input type=""hidden"" name=""client[__remove]"" value=""1"" />
<input type=""hidden"" name=""items[__remove]"" value=""UUID1, UUID2"" />
</code>
</pre>

an alternative syntax for the collection removal could be:

<pre>
<code class=""html"">
<input type=""hidden"" name=""items[__remove][UUID1]"" value=""1"" />
<input type=""hidden"" name=""items[__remove][UUID2]"" value=""1"" />
</code>
</pre>

The *PersistentObjectConverter* would have to take care of the removals probably.

h3. Security:

We probably need a new constant *PersistentObjectConverter::CONFIGURATION_DELETION_ALLOWED* (in addition to *CREATION* and *MODIFICATION*) which need to be set in the propertyMappingConfiguration for the corresponding object."
44471,TYPO3.Flow,Bug,"",Resolved,Should have,Apc Cache backend has side effects,Tymoteusz Motylewski,Karsten Dambekalns,2013-04-05 10:37,Cache,2.0,2013-01-11,"","",100,2013-01-11 16:40,"","",977150,"",(any),"If two caches use the APC cache backend, one cache can write and get entries from the other by just using the same key!
see:
http://forge.typo3.org/issues/38135
and patch
https://review.typo3.org/#/c/12145/8"
44496,TYPO3.Flow,Bug,"",Resolved,Must have,New doctrine.annotations classes are proxied but should not,Christian Müller,Karsten Dambekalns,2013-01-14 04:42,Persistence,2.1,2013-01-14,"","",100,2013-01-14 04:01,"","",978400,"",Git master,doctrine.annotations was moved out of Doctrine.Common and so aren't excluded from object management anymore. With that fatal errors occur even when just calling the flow command.
44520,TYPO3.Flow,Bug,"",Resolved,Should have,Case-sensitivity switch for Query::equals() is not implemented,Karsten Dambekalns,Karsten Dambekalns,2013-12-04 02:47,Persistence,2.0,2013-01-14,"","",100,2013-01-14 15:14,"","",979600,"",(any),""
44521,TYPO3.Flow,Bug,"",Resolved,Should have,ObjectPathMappingRepository always checks case-sensitive,Karsten Dambekalns,Bastian Waidelich,2014-02-21 16:36,MVC - Routing,2.0.1,2013-01-14,"","",100,2013-01-14 15:22,"","",979650,"",(any),"The @ObjectPathMappingRepository@ always checks for matches using a case-sensitive check. This worked fine for most people so far, because the most common collation on MySQL is probably utf8_unicode_ci, which is case-*in*sensitive anway."
44535,TYPO3.Flow,Bug,"",Resolved,Should have,"Subclasses of SplObjectStorage, ArrayObject, Collection not considered collection type",Karsten Dambekalns,Karsten Dambekalns,2013-08-02 05:21,Utility,2.0,2013-01-15,"","",100,2013-01-15 07:10,"","",980350,"",(any),@TypeHandling::isCollectionType()@ does not consider inheritance when it comes to the checking it does. Thus a subclass of @SplObjectStorage@ or an implementation of Doctrine's @Collection@ interface will not pass the check.
44542,TYPO3.Flow,Task,"",New,Should have,Mention the risk of requestPatterns regarding foreign package's SecurityContext usage,Adrian Föder,Adrian Föder,2013-01-17 12:39,- Documentation -,"",2013-01-15,"","",0,2013-01-15 11:43,"","",980700,"","","If someone sets a RequestPattern to his package's namespace, for example
<pre><code class=""yaml"">
security:
  authentication:
    providers:
      DefaultProvider:
        provider: 'PersistedUsernamePasswordProvider'
        requestPatterns:
         controllerObjectName: 'Acme\.+'
</code></pre>

This will have an evil side effect when using and relying on foreign package's SecurityContext usage, because the foreign (controller) request won't involve the above authentication provider since the RequestPattern does (of course) not match.

The foreign package is requested, for example via a Widget; the widget includes the SecurityContext, the SecurityContext tries to authenticate the tokens; but since the DefaultProvider token has the requestPattern set and does not match for this widget's request; the token will be deactivated and may result into actually no authentication taking place.
As a result, the SecurityContext has no tokens and is unable to conduct any authentication, account retrieval etc.

This seems ""as programmed"", but should be emphasized in the documentation http://flow.typo3.org/documentation/guide/partiii/security.html#request-patterns as a .. caution note or similar."
44563,TYPO3.Flow,Feature,"",New,Should have,Logged in users via HTTP Basic always get re-authenticated,Marco Falkenberg,"",2013-01-16 05:28,Security,"",2013-01-16,"","",0,2013-01-16 05:28,"","",981750,"","","Logged in users via HTTP Basic will always be re-authenticated by the authentication provider manager, because the UsernamePasswordHttpBasic token always sets the authentication status either to ""authentication needed"" or ""no credentials given"".

There are two cons related to this fact:

1. After being logged in, every following request results in a new authentication which could (or better should) be very cheap depending on the used hashing strategy. Thus requests taking a long time and stressing the server.
2. Every requests results in changing to a new session.

A possible solution could be to narrow down the use of ""authentication needed"" and only re-authenticate under the following circumstances:

1. The username has changed.
2. The password has changed.

Detecting a change of the username is easy. Just store the logged in user in the token and compare it with the current.

Detecting a change of the password is the problem, because you should not store the last used password in the token (security). Also hashing the password is no good idea. Maybe you could ignore changes in password and rely on getting the same username password combination all over the time (or for a limited timespan).

Maybe some else has an idea how to solve this more deterministic?
"
44566,TYPO3.Flow,Task,"",Closed,Should have,RFC: Change CGL to remove closing PHP tag,Christopher Hlubek,"",2013-10-25 06:30,- Documentation -,"",2013-01-16,"","",100,2013-01-16 07:57,"","",981900,"","","Having a closing PHP tag in class definitions is cumbersome, error prone (if whitespace is inserted after the tag) and not common in most other frameworks.

Therefore we should change this rule in our CGL

> Always use the closing tag ?> at the end of a file, don?t leave it out (this ain?t no Zend Framework, dude)

to something like

> Don't end files with the closing PHP tag @?>@

The change can be easily automated with a code migration that we ship with the next Flow version."
44572,TYPO3.Fluid,Feature,"",Resolved,Could have,Format.Case ViewHelper in order to change the case of string values,Adrian Föder,Adrian Föder,2014-05-08 03:48,ViewHelpers,"",2013-01-16,"","",100,2013-01-16 09:48,"","",982200,"","","Have an @f:format.case@ ViewHelper with the options ""lower"", ""upper"" and ""capital"" which results into @strtolower@, @strtoupper@, and @ucfirst@."
44602,TYPO3.Flow,Bug,"",Resolved,Should have,Update YAML schemas to latest changes,Bastian Waidelich,Bastian Waidelich,2013-01-31 04:36,"",2.0,2013-01-17,"","",100,2013-01-17 08:07,"","",983700,"",Git master,"Currently
<pre>
./flow configuration:validate --type Settings
</pre>
and
<pre>
./flow configuration:validate --type Objects
</pre>

Return errors for Flow configuration.
The respective schemas need to be adjusted to recent changes"
44604,TYPO3.Flow,Task,"",New,Should have,Add a guide for installing Flow on Win7 x64 XAMPP,Oliver Eglseder,Oliver Eglseder,2013-08-14 09:35,- Documentation -,2.0.1,2013-01-17,"","",100,2013-01-17 08:59,"","",983800,"","",""
44622,TYPO3.Flow,Feature,"",Resolved,Could have,Add unique entity validator,Aske Ertmann,"",2013-01-31 07:36,Validation,2.0,2013-01-17,"","",100,2013-01-17 18:13,"","",984700,"","","After creating a unique entity validator for Neos I shared it in the IRC channel and people seemed to like the idea. So I've moved it into the Flow package and would like some feedback if people would like to have this general validator or if we should keep it out.

It works for action controllers and is intended for create and update methods. The uniqueness is defined by the entity's identity properties. It should work with both Doctrine and Generic persistence.

_Thanks to RafaelK, sorenmalling & afoeder for helping getting it to the final implementation._"
44670,TYPO3.Welcome,Bug,"",Resolved,Could have,JS in Welcome Package broken,Axel Böswetter,Karsten Dambekalns,2013-03-19 11:37,"","",2013-01-20,"","",100,2013-01-20 08:36,"","",987100,"",Flow 2.0.0 beta 1,"Hi,

I've just installed the 2.0b1 in a VM and recognized that the javascript in the welcome package seems to be broken. The mootools core v1.2.2 seems to be buggy as it does not return the first h2 element via @element.getFirst()@ but the "".tab"" div itself, which results in non object error after @element.getFirst('h2)@. It also results in a broken layout, as the ""tab-*"" css classes are not correctly assigned so that the stylesheets in the Styles.css don't apply correctly.

Just replace the mootools library with the latest one and everthing seems to be fine again. I used the latest @mootools-core-1.4.5-full-compat-yc.js@ from the mootools website.

This is just cosmetical, I know, but normaly it's the first part of Flow every new user sees.

Regards,
Axel"
44684,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Authorization header redirect in .htaccess strips the Basic-prefix,Peter Rauber,"",2014-09-16 17:41,"","",2013-01-21,"","",0,2013-01-21 05:38,"","",987800,"",(any),"The .htaccess file in the web folder contains this command:
SetEnvIfNoCase Authorization ""Basic ([a-zA-Z0-9\+/=]+)"" REMOTE_AUTHORIZATION=$1

This will strip the prefix ""Basic "" from the authorization header.

Changing this to:
SetEnvIfNoCase Authorization ""Basic ([a-zA-Z0-9\+/=]+)"" REMOTE_AUTHORIZATION=$0

worked for me. Maybe this should be updated in the shipped .htaccess-File."
44702,TYPO3.Fluid,Bug,"",Resolved,Should have,"[CGL] ""public static"" instead of ""static public""",Tymoteusz Motylewski,"",2013-01-31 04:36,"","",2013-01-21,"","",100,2013-01-21 16:32,"","",988700,"",Git master,"In the TemplateParser class scope should be ""static public"" not ""public static"""
44706,TYPO3.Fluid,Task,"",Resolved,Should have,[CGL] small cgl issues in AbstractViewHelper,Tymoteusz Motylewski,"",2013-01-31 04:36,"","",2013-01-21,"","",100,2013-01-21 17:26,"","",988900,"","",""
44710,TYPO3.Fluid,Bug,"",Resolved,Should have,[CGL] Fix some cgl issues spotted during backporting,Tymoteusz Motylewski,"",2013-02-18 15:37,"","",2013-01-22,"","",100,2013-01-21 18:20,"","",989050,"",Git master,Container issue for cgl problems spotted while syncing Flow Fluid and CMS Fluid
44712,TYPO3.Flow,Task,"",Accepted,Should have,Decouple Argument-Building in the HTTP-Request-Constructor,Achim Fritz,"",2013-01-23 05:19,Http,"",2013-01-22,"","",0,2013-01-22 02:13,"","",989150,"","","It should be possible to create a HTTP-Request-Object without reading all arguments in the Constructor, especially the body-arguments in a PUT/POST-Request from the input stream ""php://input"".

If I need a HTTP-Request-Object in my RequestHandler for decide if i can handle this Request, the Creation of the HTTP-Request-Object empties the input stream and every later created HTTP-Request-Object gets no body-arguments.

Perhaps the input stream can be read first, when accessing the Request-Arguments

"
44730,TYPO3.Flow,Feature,"",Resolved,Should have,Support stream resources as content for HTTP Request,Robert Lemke,"",2013-01-23 07:36,Http,2.1,2013-01-22,"","",100,2013-01-22 14:51,"","",990050,"","","If the HTTP Request would support stream resources instead of strings for setContent() and the CurlEngine would take this into consideration, files could be sent with curl through its INFILE feature."
44738,TYPO3.Flow,Feature,"",New,Must have,Re-Validation of argument's custom validators,Marco Falkenberg,"",2013-01-23 03:19,Validation,"",2013-01-23,"","",0,2013-01-23 03:19,"","",990450,"","","There are situation where the automatic validation of arguments, that happens BEFORE passing the arguments to the action-method, is not enough. The validation should be able to be reactivated in the controller-action. E.g if you do some business logic inside the action.

A very simple and common example, is where you want to validate an item after adding some sub-items to it: 

<pre>
public function addChildAction(Parent $parent, Child $child) {
  $parent->addChild($child);
  $this->revalidateArguments();
}
</pre>

<pre>
class BadNameChoiceValidator extends \TYPO3\Flow\Validation\Validator\GenericObjectValidator {

  protected function isValid($parent) {
    foreach($parent->getChilds() as $child) {
      if($parent->lastName === 'Walker' && $child->firstName === 'Johnny') {
        $this->addError('Name is to alcoholic!', 1357116916);
      }
    }
  }

}
</pre>

Thus the ValidatorInterface should have a reset-method. E.g. the ObjectValidator could reset its validatedInstancesContainer there."
44740,TYPO3.Flow,Feature,"",Resolved,Should have,Add support for doctrine's 'indexBy'-annotation in FlowAnnotationDriver,Marco Falkenberg,"",2015-03-05 08:33,Persistence,"",2013-01-23,"","",100,2013-01-23 04:14,"","",990550,"","","There is a nice feature for indexing doctrine's collections (One-To-Many & Many-ToMany). See http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/tutorials/working-with-indexed-associations.html

It would be nice if Flow's annotation would transport this annotation as well.

Many thanks!"
44743,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong variable declaration in Security\Context,Karsten Dambekalns,Karsten Dambekalns,2013-04-05 10:37,Security,2.0,2013-01-23,"","",100,2013-01-23 05:55,"","",990700,"",FLOW3 1.1.0,The @$request@ member is annotated as being @Http\Request@ but must be @Mvc\ActionRequest@
44753,TYPO3.Flow,Bug,"",Closed,Must have,"Using 'authenticationRequired' action name for ""WebRedirect"" gives exception",Adrian Föder,"",2013-02-06 07:09,Session,"",2013-01-23,"","",0,2013-01-23 09:53,"","",991200,"",Git master,"//edit: nevermind initial description; the actual point is: if my action is named like below (""@authenticationRequired@""), the exception occurs as described. However, if I rename the action to something else, even maybe ""@authRequired@"", the problem does not occur.
I verified that definitely with a fresh cache-flush and warmup and a very fresh browser instance each time...

-------
(following is obsolete):

consider the following use case:
<pre>
<code class=""yaml"">
    security:
      authentication:
        providers:
          DefaultProvider:
            provider: 'PersistedUsernamePasswordProvider'
            entryPoint: 'WebRedirect'
            entryPointOptions:
              routeValues:
                '@package': 'Acme.Acme'
                '@controller': 'Authentication'
                '@action': 'authenticationRequired'
</code>
<code class=""php"">
// AuthenticationController:
public function authenticationRequiredAction() {
	$this->addFlashMessage('You must be logged in to see this page');
		
		// not necessary to reproduce, but to show the intention:
	#$this->forward('login');
}
</code>

#1: Notice: unserialize(): Error at offset 12196 of 12384 bytes in ...\TYPO3.Flow\Classes\TYPO3\Flow\Cache\Frontend\VariableFrontend.php line 80
</pre>

The following is the end of the serialized content:
<pre>
controllerActionName"";s:5:""index"";s:12:"" * arguments"";a:0:{}s:20:"" * internalArguments"";a:1:{s:11:""__csrfToken"";s:32:""8dc6e96bfbed85aec3b0ea7c45d6bc85"";}s:18:"" * pluginArguments"";a:0:{}s:20:"" * argumentNamespace"";s:0:"""";s:9:"" * format"";s:4:""html"";s:13:"" * dispatched"";b:1;s:16:"" * parentRequest"";r:65;s:14:"" * rootRequest"";r:65;s:19:"" * referringRequest"";N;}}i:2;O:47:""TYPO3\Fluid\Core\Widget\AjaxWidgetContextHolder"":2:{s:23:"" * nextFreeAjaxWidgetId"";i:0;s:17:"" * widgetContexts"";a:0:{}}}
</pre>

The offset 12196 is exactly the (last) semicolon at @rootRequest"";r:65;@, so maybe a recursion fails or something...

That VariableFrontend access, btw, comes with @TYPO3\Flow\Session\Session_Original::resume()@.

Can you (please) reproduce this? Just adding that ->addFlashMessage() to a WebEntryPoint'ed controller action and hitting a secured page (letting the WebEntryPoint kick in) with a fresh session should show the error."
44765,TYPO3.Flow,Bug,"",Resolved,Should have,Functional test broken,Michael Klapper,Karsten Dambekalns,2013-04-05 05:38,Security,2.0,2013-01-23,"","",100,2013-01-23 17:18,"","",991800,"",Flow 2.0.0 beta 1,"If you run the functional tests, you'll get the following exception thrown.

<pre>
TYPO3\Flow\Security\Exception: The security Context cannot be initialized yet. Please check if it can be initialized with $securityContext->canBeInitialized() before trying to do so.
</pre>

This is a side effect of the following commit:
<pre>
commit ce08c301e116f3e775657a977c3f1bc3ee4fcad3
Author: Sebastian Kurfuerst <sebastian@typo3.org>
Date:   Thu Jan 17 17:57:44 2013 +0100

    [BUGFIX]Â The security context is only allowed to be initialized after routing took place

...

 This is a follow-up to issue #42601; where the according code has been
    implemented.

    Change-Id: I724c1b352dd1807ba53b1e336f2d90e90360ff4d
    Releases: master, 2.0

</pre>"
44826,TYPO3.Fluid,Bug,"",Resolved,Should have,groupedFor cannot group by DateTime-Objects,Wouter Wolters,"",2013-03-26 12:36,"","",2013-01-26,"","",100,2013-01-26 11:46,"","",994850,"",(any),The Fluid-ViewHelper groupedFor cannot group by as DateTime-Object defined properties.
44885,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Make documentation fit for docs.typo3.org,Karsten Dambekalns,Karsten Dambekalns,2013-01-30 12:36,- Documentation -,2.0,2013-01-28,"","",100,2013-01-28 08:37,"","",997800,"","","* move images to @Images/@ next to source file(s)
* add Settings.yml"
44889,TYPO3.Fluid,Bug,"",Resolved,Should have,Format urlencode viewhelper should work with objects that implement __toString,Christian Müller,"",2013-03-21 11:37,"","",2013-01-28,"","",100,2013-01-28 10:11,"","",998000,"",(any),currently a check for is_string prevents format.urlencode to work with objects that implements __toString
44891,TYPO3.Flow,Feature,"",New,Should have,Routes should be able to enforce http/https protocol,Ondrej Hatala,"",2014-05-14 13:55,MVC - Routing,"",2013-01-28,"","",0,2013-01-28 10:53,"","",998100,"","","It should be possible to set http/https protocol for each route separately (for e.g. for the checkout page of the e-shop).

<pre>
-
  name: 'Checkout'
  uriPattern: 'checkout'
  defaults:
    '@package':    'Eshop'
    '@controller': 'Checkout'
    '@action':     'index'
    '@format':     'html'
    '@protocol':     'https'
</pre>

Default behaviour should be to use http.
If https is specified for the route and you arrive through http, automatic redirect to https should ensue."
44997,TYPO3.Flow,Bug,"",Resolved,Must have,JsonView outputs unreliable DateTime representation,Adrian Föder,Adrian Föder,2013-03-20 11:37,MVC,2.0,2013-01-31,"","",100,2013-01-31 01:59,"","",1002200,"",FLOW3 1.0.0,"Currently, the JsonView just outputs @Y-m-d H:i:s@ as string when it comes to a DateTime object. This is incorrect since it doesn't care about time zones / offsets.

Error case:
* it's 15:13 GMT, a record is created
* the record is stored in 14:13 UTC
* after Hydration, the DateTime object represents 14:13 UTC
* JsonView's H:i:s makes ""14:13"" of it
* (maybe) the string is directly given to JavaScript's new Date() constructor, resulting (due to GMT local time) in 14:13 GMT which is obviously wrong.

Solution: add a timezone offset as in ISO 8601 which is also directly accepted by JavaScript's Date() constructor and probably any other ""magical"" datetime parser."
45041,TYPO3.Flow,Bug,"",New,Must have,Set file permissions doesnt work,Christian Jul Jensen,"",2013-08-14 09:35,Command,2.0.1,2013-01-31,"","",0,2013-01-31 11:16,"","",1004350,"",Git master,"Installing the Neos demopackage, the set file permission command did not change anything, even though it didn' encounter any errors. see attachment."
45062,TYPO3.Flow,Bug,"",Resolved,Should have,TranslateViewHelper fails if an array with a single number is passed as arguments,Timo Dödtmann,"",2014-02-24 06:36,I18n,"",2013-02-01,"","",100,2013-02-01 04:17,"","",1005350,"",Flow 2.0.0 beta 1,"If the TranslateViewHelper will passed ""arguments"" and this is now an array of a single number [array(0 => 123)], for example to tell that the password is too short, the Translator (_\TYPO3\Flow\I18n\Translator_) try's to find the plural form of this number (take a look in _\TYPO3\Flow\I18n\Translator->translateById()_ which is called _\TYPO3\Flow\I18n\Translator->getPluralForm()_).
Normally this fails and the ViewHelper returns the passed ""id"" or ""value"".

The following line returns _""Password must have x characters.""_, even if _""myMessageId""_ is set correctly.
<pre>
{f:translate(id:'myMessageId', arguments:{0:123}, value:'Password must have x characters.')}
</pre>

If _""myMessageId""_ use the placeholder _{1}_ and
<pre>
{f:translate(id:'myMessageId', arguments:{0:1, 1:123}, value:'Password must have x characters.')}
</pre>
is called, then _""myMessageId""_ wil be returned with _""123""_ for the placeholder. "
45071,TYPO3.Fluid,Bug,"",Closed,Won't have this time,Fluid tries to parse inside an in-HTML Javascript code,Thiago Colares,"",2013-08-14 09:39,View,1.1.1,2013-02-01,"","",0,2013-02-01 08:08,"","",1005800,"",FLOW3 1.1.0,"Example. When I try this:
<pre>
<script type=""text/javascript"">
	$(function(){
		var id = '#{id}';
		$(id).datepicker({
			dateFormat: ""dd/mm/yy"",
			changeMonth: true,
			changeYear: true
		});


	});
</script>
</pre>

I got this HTML as result:

<pre>
<script type=""text/javascript"">
	$(function(){
		var id = '#dummy-id-01';
		$(id).datepicker(Array);
</script>
</pre>


To overcome this issue, we inserted a dummy comment. :)
<pre>
<script type=""text/javascript"">
	$(function(){
		var id = '#{id}';
		$(id).datepicker({
			dateFormat: ""dd/mm/yy"", // DO NOT EVER REMOVE THIS COMMENT!
			changeMonth: true,
			changeYear: true
		});


	});
</script>
</pre>

So, The HTML results is as expected:
<pre>
<script type=""text/javascript"">
	$(function(){
		var id = '#dummy-id-01';
		$(id).datepicker({
			dateFormat: ""dd/mm/yy"", // DO NOT EVER REMOVE THIS COMMENT!
			changeMonth: true,
			changeYear: true
		});
</script>
</pre>
"
45100,TYPO3.Flow,Feature,"",Under Review,Should have,RequestDispatchingAspect should check if entry point can handle current request,Christopher Hlubek,Christopher Hlubek,2013-02-08 09:32,"","",2013-02-03,"","",0,2013-02-03 05:36,"","",1007200,"","","For AJAX, REST and other requests the default behavior of intercepting the request and choosing e.g. the WebRedirect entry point is not desirable.

There should be a ""canHandleRequest"" method in the entry point to check if the current request can be handled. For example an AJAX request with @X-Requested-With:XMLHttpRequest@ should not get a redirect but a proper status code and header that links to a login service."
45103,TYPO3.Flow,Feature,"",New,Should have,Make static resource URI generation available outside of Fluid,Christopher Hlubek,"",2013-02-03 07:16,Resource,"",2013-02-03,"","",0,2013-02-03 07:16,"","",1007300,"","","The @ResourcePublisher@ does only have a method to get the static resources web base URI (@getStaticResourcesWebBaseUri@). To resolve @resource://...@ URIs outside of Fluid the functionality of the @ResourceViewHelper@ has to be duplicated.

The @ResourcePublisher@ should get a method @getStaticResourceWebUri(...)@ to resolve the URI inside the resource publisher."
45153,TYPO3.Fluid,Feature,"",New,Should have,f:be.menus.actionMenuItem - Detection of the current select option is insufficient,Stefan Galinski,"",2013-02-04 17:17,"","",2013-02-04,"","",0,2013-02-04 17:17,"","",1009800,"","",Currently the action menu preselects an option if the current controller/action pair matches the arguments from the menu item. Unfortunatly you have no option to force another menu item to be preselected that would make sense if you execute other action/controller pairs inside your backend module that are not shown in the menu. For example this could be a preview dialog after a form submission.
45164,TYPO3 Flow Base Distribution,Feature,"",Accepted,Should have,Define syntax for validation rules in YAML,Karsten Dambekalns,Karsten Dambekalns,2013-02-05 04:52,"","",2013-02-05,"","",0,2013-02-05 04:52,"","",1010350,"","","To be able to define validation rules in YAML will be helpful in a number of cases, like for node types, validation of free-form documents (think about NoSQL), ?

Here is a suggestion for defining validation rules:

<pre>validation:
  -
    type: 'NotEmpty'
  -
    type: 'RegularExpression'
    options:
      regularExpression: '(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}'
  -
    preset: 'MakeLifeEasierForBram'</pre>

@validation@ can have any number of elements, @type@ follows the same rules as with the @Validate@ annotation and @options@ can hold any options that a validator accepts.

One new thing is @preset@, which is pointing to a predefined set of rules. Such a preset can be defined like this:

<pre>validationPreset:
  'MakeLifeEasierForBram':
    -
      type: 'NotEmpty'
    -
      type: 'StringLength'
      options:
        maximum: 7
    -
      type: 'RegularExpression'
      options:
        regularExpression: '[a-f56-]+'</pre>
"
45167,TYPO3.Flow,Feature,"",Resolved,Should have,"Allow ""custom generic"" object validators",Karsten Dambekalns,Karsten Dambekalns,2013-08-02 05:19,Validation,"",2013-02-05,"","",100,2013-02-05 05:56,"","",1010500,"","","Right now a @GenericObjectValidator@ will be built for objects and then a custom validator will be used. But that custom validator is looked up following a strict rule, so a ""custom generic"" validator is not possible currently."
45178,TYPO3.Flow,Bug,"",Resolved,Must have,Reconsider passed-by ini file on subprocess command execution,Adrian Föder,"",2013-04-12 08:39,"",2.0,2013-02-05,"","",100,2013-02-05 11:08,"","",1011050,"",(any),"currently, the subprocess is executed with the currently loaded ini, 

<pre>
Core\Booting\Scripts #541
<code class=""php"">
$command .= sprintf('%s -c %s %s %s', $phpBinaryPathAndFilename, escapeshellarg(php_ini_loaded_file()), ...
</code>
</pre>

This results into, for example,

<pre>
FLOW_ROOTPATH='/var/www/vhosts/acme.com/' FLOW_CONTEXT='Development' XDEBUG_CONFIG='idekey=FLOW_SUBREQUEST remote_port=9001' ""/usr/bin/php"" -c '/etc/php5/apache2/php.ini' '/var/www/vhosts/acme.com/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/../../../../Scripts/flow.php' 'typo3.flow:core:compile'
</pre>

see, @apache2/php.ini@ is included and used as ini for the subprocess.
In default cases, especially in apache's ini config a memory_limit is set; which therefore also engages CLI with a memory limit; which is surely not intended.

I think we should make this ini file configurable. Any ideas where and with what naming?"
45184,TYPO3.Fluid,Bug,"",Closed,Should have,"Additional identity filed are not rendered, after validation error",Dominique Feyer,Bastian Waidelich,2013-03-26 12:29,ViewHelpers,"",2013-02-05,"","",0,2013-02-05 13:43,"","",1011350,"",Git master,"Found a strange bug this afternoon. I have a form with children object, when the form is rendered I have 3 hidden fields with the different __identity value, but after a validation error I only see on hidden field with the identity of the main object.

I my case, this cause a big trouble, has Flow build a new object, and doctrine is configured to cascade persist on a one to one relation. This cause the child object data to be ""replaced"" by the new object data, and I loose all the property of the object that are not in the form.

Patch if coming"
45219,TYPO3.Flow,Bug,"",Resolved,Should have,Malformed DocBlock causes fatal error in ProxyClassBuilder,Robert Lemke,Robert Lemke,2013-02-08 06:39,Object,2.0,2013-02-06,"","",100,2013-02-06 15:16,"","",1013050,"",Flow 2.0.0 beta 1,"If code contains a malformed DocBlock like the following, the Dependency Injection Proxy Class Builder
results in a fatal error:
<pre>
/**

  @Flow\Inject
  @var \TYPO3\Flow\I18n\Service
 */
protected $i18nService;
</pre>
"
45249,TYPO3.Flow,Bug,"",New,Must have,Update composer project-create command listing,Martin Brüggemann,"",2013-02-07 09:17,- Documentation -,"",2013-02-07,"","",0,2013-02-07 09:16,"","",1014550,"",Flow 2.0.0 beta 1,"The composer create-project command like described at http://docs.typo3.org/flow/TYPO3FlowDocumentation/Quickstart/Index.html doesn't work for me (Mac OS X, zsh). It seems that the --dev option isn't recognized. Maybe it's better to define it by using the longer notation:

h2. OLD
<pre>
composer create-project --dev --keep-vcs typo3/flow-base-distribution Quickstart 2.0.0
</pre>

h2. NEW
<pre>
composer create-project -s dev --keep-vcs typo3/flow-base-distribution Quickstart 2.0.0
</pre>"
45253,TYPO3.Flow,Task,"",Accepted,Must have,Throw exception in PointcutMethodNameFilter if given method's argument does not match the actual method signature,Adrian Föder,Christian Müller,2013-03-07 10:33,Security,"",2013-02-07,"","",0,2013-02-07 12:07,"","",1014750,"","","Consider a TYPO3.Comment CommentRepository. I have set the following security resource:

<pre>
[...]
'method(TYPO3\Comments\Domain\Repository\CommentRepository->remove(comment.author === current.securityContext.party))'
</pre>

The CommentRepository itself does not carry an own remove() method, it inherits from TYPO3\Flow\Persistence\Repository as common.

In that mentioned case, NO proxy method is generated, hence no security applied.

When leaving the runtime constraint away,
<pre>
[...]
'method(TYPO3\Comments\Domain\Repository\CommentRepository->remove())'
</pre>
and still having not a concrete remove() method, but the inherited, it *works*, a proxy method is generated.

Third example: putting the runtime constraint back in,
<pre>
[...]
'method(TYPO3\Comments\Domain\Repository\CommentRepository->remove(comment.author === current.securityContext.party))'
</pre>
and putting a ""dummy"" remove() method into the concrete CommentRepository itself,
<pre><code class=""php"">
/**
 * @param \TYPO3\Comments\Domain\Model\Comment $comment
 */
public function remove($comment) {
	parent::remove($comment);
}
</code></pre>

it again works, too!


If you want to test and fiddle, I prepared a repository at https://github.com/afoeder/TYPO3.Comments, just see the (only) Functional Test there and the Policy.yaml configuration. Maybe you want to checkout HEAD^1 there."
45264,TYPO3.Flow,Feature,"",Resolved,Should have,Add Flow caching for Doctrine metadata and query caches,Marc Neuhaus,Karsten Dambekalns,2013-04-05 06:37,Persistence,2.0,2013-02-08,"","",100,2013-02-07 18:08,"","",1015300,"","","During a little investigation i found FlowAnnotationDriver::loadMetadataForClass to produce up to 60% of execution time in Production context.

Since this method only loads 'static' metadata (correct me if i'm wrong) this seems to be perfect to be cached."
45272,TYPO3.Flow,Bug,"",New,Should have,Related Value Objects get deleted by default cascading,Peter Rauber,"",2013-02-08 07:50,"","",2013-02-08,"","",0,2013-02-08 07:50,"","",1015700,"",(any),"Description by example:

An entity that relates to a value object:
<pre>
/**
 * A Building
 *
 * @FLOW3\Entity
 */
class Building {
  /**
   * @ORM\ManyToOne
   * @var \MyNamespace\Domain\Model\BuildingType
   */
  protected $buildingType;
}
</pre>

Two entities point to the same BuildingType:
<pre>
$building1 = new \MyNamespace\Domain\Model\Building();
$building1->setBuildingType(new \MyNamespace\Domain\Model\BuildingType('Type 1'));
$this->buildingRepository->add($building1);

$building2 = new \MyNamespace\Domain\Model\Building();
$building2->setBuildingType(new \MyNamespace\Domain\Model\BuildingType('Type 1'));
$this->buildingRepository->add($building2);
</pre>

When you try to delete building1, FLOW/doctrine will cascade the removal to the value object and that will cause an exception, because building2 still needs the value object, as it points to it's identifier.

I solved that by adding an empty cascade-attribute to that relations: @ORM\ManyToOne(cascade={""""}).

Suggestion:
The cascading was added by Flow3AnnotationDriver as this driver adds $mapping['cascade'] = array('all') to all properties that are not aggregate roots. I suggest that in the case of value objects $mapping['cascade'] = array('persist') will be added istead of 'all'."
45279,TYPO3.Flow,Task,"",Resolved,Could have,Add new translations for bundled validator error messages,Laurent Cherpit,"",2013-05-15 16:38,I18n,2.0,2013-02-08,"","",100,2013-02-08 08:47,"","",1016050,"","","Add new trans-unit id and new target-language fr translation for ValidationErrors.xlf
Add new file and new target-language fr for translation for Main.xlf
"
45282,TYPO3.Flow,Feature,Work Package #45088: Improved REST support,Resolved,Should have,"Support for ""sessionless authentication""",Bastian Waidelich,Bastian Waidelich,2013-06-07 11:32,Security,2.1,2013-02-08,2013-04-13,108.00,100,2013-02-08 09:41,"","",1016200,"","","Currently Flow relies on a session to be active in at least three places:

# @\TYPO3\Flow\Security\Aspect\RequestDispatchingAspect::blockIllegalRequestsAndForwardToAuthenticationEntryPoints()@ calls @\TYPO3\Flow\Security\Context::setInterceptedRequest()@ if an *entryPoint* is defined. Setting the intercepted request starts a session. This can be worked around by avoiding entryPoint or using requestPatterns to limit them only to certain parts of an application that allow sessions. #45100 might also be a solution for that
# @\TYPO3\Flow\Security\Authentication\AuthenticationProviderManager::authenticate()@ emits the @authenticatedToken@ signal after successful authentication which is configured to call @\TYPO3\Flow\Session\SessionInterface::renewId()@
# @\TYPO3\Flow\Security\Authentication\AuthenticationProviderManager::isAuthenticated()@ returns FALSE if no session was started/can be resumed"
45290,TYPO3.Flow,Bug,Work Package #45088: Improved REST support,Closed,Should have,Body arguments should not be merged before property mapping takes place,Bastian Waidelich,Bastian Waidelich,2013-09-23 08:01,Http,"",2013-02-08,2013-04-13,"",100,2013-02-08 11:05,"","",1016600,"",Git master,"Currently *body* and *POST* arguments are merged with *GET* arguments in @Http\Request::__construct()@.
Instead the merging should happen after routing took place in order to know more about the affected arguments.

Now, if you invoke a PUT request to http://localhost/products/product-1 with a body of
<pre>
<code class=""json"">
{
  ""product"": {
    ""title"": ""new title""
  }
}
</code>
</pre>

*GET* arguments:
<pre>
<code class=""php"">
array('product' => '<uuid of product-1>')
</code>
</pre>

*Body* arguments:
<pre>
<code class=""php"">
array('product' => array('title' => 'new title'));
</code>
</pre>

Obviously @\Http\Request::buildUnifiedArguments()@ can't properly merge those and - as a result - ignores the body arguments.

Instead the property mapper should probably fetch body arguments separately before calling the action (probably in @ActionController::mapRequestArgumentsToControllerArguments()@)"
45293,TYPO3.Flow,Feature,Work Package #45088: Improved REST support,Resolved,Should have,More flexible parsing of body arguments,Bastian Waidelich,Bastian Waidelich,2014-08-05 06:00,Http,"",2013-02-08,2013-04-13,"",100,2013-02-08 11:21,"","",1016750,"","","Parsing of body arguments (e.g. xml, json) currently takes place in Http\Request and is hard-coded there.
Besides from being a bit buggy (e.g. you currently have to specify two root nodes like <root><product><title>changed title</title></product></root> where a common REST request would expected to be just <title>changed title</title>) the behavior can't be influenced easily because it happens so early in the request handling."
45345,TYPO3.Fluid,Feature,"",Needs Feedback,Should have,Easy to use comments for fluid that won't show in output,Stefan Neufeind,"",2013-03-26 15:40,"","",2013-02-10,"","",0,2013-02-10 17:49,"","",1019300,"","","Proposal from Michael Knoll:
Use <!--- ... ---> (three minus instead of the usual two).

http://mimi.kaktusteam.de/blog-posts/2012/02/fluid-comments/"
45384,TYPO3.Fluid,Bug,"",New,Must have,Persisted entity object in widget-configuration cannot be deserialized (after reload),Benno Weinzierl,"",2013-08-14 09:35,Widgets,2.0.1,2013-02-11,"","",0,2013-02-11 12:36,"","",1021250,"",Git master,"I have a widget with a persisted entity object (e.g. MyNamespace\SpecialProduct derived from MyNamespace\Product) in its widget-configuration.

The object gets serialized in the session and is accessable in a ajax-request (everything works).

BUT:
When i reload the page with the widget, the ajax calls fail with the following error:

*Fatal error*: ... The script tried to execute a method or access a property of an incomplete object. Please ensure that the class definition ""MyEntity"" of the object you are trying to operate on was loaded _before_ unserialize() gets called or provide a __autoload() function to load the class definition  in ""my widget ajax action controller"" on line 65

I noticed that in Data/Temporary/Development/SubContextMyContext/Cache/Data/Flow_Session_Storage the entity is serialized. After reload the file contains the serialized entity two times. That seemes strange."
45386,TYPO3.Flow,Bug,"",New,Could have,Package::buildArrayOfClassFiles tries to determine class names from file paths,Christian Müller,"",2013-02-11 13:54,"","",2013-02-11,"","",0,2013-02-11 13:48,"","",1021350,"",(any),"This is a problem if you try to include composer packages that are not namespaced (probably for everything that is not PSR-0 compatible). Because with that a possibly existing folder structure cannot be mapped to namespaces for classes.

If we want to support it (not sure if needed in the long run) we would need a setting per package that switches in a ""Extbase"" style of determining class names, so instead of converting folders to namespace parts it would create a single class name from the folders separated by underscores. That would work for the simplepie package that I currently try to get working..."
45394,TYPO3.Fluid,Task,"",New,Should have,Forwardport Unit test for standalone view,Tymoteusz Motylewski,"",2013-02-11 16:39,View,"",2013-02-11,"","",0,2013-02-11 16:39,"","",1021750,"","","In TYPO3 CMS Fluid there is a StandaloneView unit test, which is missing in Flow Fluid.
see 
http://git.typo3.org/TYPO3v4/CoreProjects/MVC/fluid.git/tree/HEAD:/Tests/Unit/View
 and 
http://git.typo3.org/FLOW3/Packages/TYPO3.Fluid.git/tree/HEAD:/Tests/Unit/View"
45401,TYPO3.Flow,Bug,"",Closed,Should have,Make Zend Framework 2 packages out-of-the-box compatible with TYPO3 Flow,Martin Brüggemann,Bastian Waidelich,2013-03-05 06:19,Object,"",2013-02-12,"","",0,2013-02-12 03:35,"","",1022100,"",Git master,"At the moment it's not possible to just use a composer dependency to get a ZF2 package running within Flow (Zend Mail f.e. https://packagist.org/packages/zendframework/zend-mail ). Flow seems to do some ""reflecting magic"" that results in some nice errors. 

Maybe you can copy the packages, create a Package.php and set ""$objectManagementEnabled = FALSE"" but this is really dirty. There should be a comfortable way to integrate ZF2 packages via composer and just use it like in the followingn example (maybe be disabling object management functions for some Packages in Settings.yaml:

@ $mail = new \Zend\Mail\Storage\Mbox(array('filename' => 'catcontent.mbox'));@

The well known Settings.yaml-option ""TYPO3:Flow:object:excludeClasses:"" unfortunately does not work here.

@ PHP Fatal error:  Class 'Zend\ServiceManager\AbstractPluginManager' not found in /Users/bernd/Sites/Testproject/Packages/Libraries/zendframework/zend-mail/Zend/Mail/Protocol/SmtpPluginManager.php on line 21
Uncaught Exception
  Execution of subprocess failed with exit code 255 and output:
  Fatal error: Class 'Zend\ServiceManager\AbstractPluginManager' not found
  in
  /Users/bernd/Sites/Testproject/Packages/Libraries/zendframework/zend-mail/Zend/Mail/Protocol/SmtpPluginManager.php
  on line 21
  The erroneous command was:
  FLOW_ROOTPATH='/Users/bernd/Sites/Testproject/' FLOW_CONTEXT='Development'
  XDEBUG_CONFIG='idekey=FLOW_SUBREQUEST remote_port=9001'
  ""/opt/local/bin/php"" -c '/opt/local/etc/php54/php.ini'
  '/Users/bernd/Sites/Testproject/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/../../../../Scripts/flow.php'
  'typo3.flow:core:compile'
More Information
  Exception code      #1355480641
  File                /Users/bernd/Sites/Testproject/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php line 552
  Exception reference #201302120924552d1193@"
45405,TYPO3.Flow,Bug,"",Accepted,Should have,Uncaught Exception in DynamicRoutePart,Marco Falkenberg,Bastian Waidelich,2014-03-05 05:19,MVC - Routing,"",2013-02-12,"","",0,2013-02-12 05:57,"","",1022300,"",Git master,In line 184 of the DynamicRoutePart a notice is thrown if the incoming value is an array. This happens for PHP Versions > 5.4.0 (see http://php.net/ChangeLog-5.php).
45407,TYPO3.Flow,Bug,"",Closed,Must have,charset option for mysql connection is ignored with PHP < 5.3.6,Benjamin Albrecht,Karsten Dambekalns,2013-09-26 04:49,Persistence,"",2013-02-12,"","",0,2013-02-12 06:36,"","",1022400,"",Flow 2.0.0 beta 1,"Hi,

the configurable charset option for the backed (default ""utf8"") is ignored with PHP Version < 5.3.6
But the systems requirements of Flow 2.0 are PHP 5.3.2
(Here is the link to the PHP documentation: http://php.net/manual/de/ref.pdo-mysql.connection.php)

There are several implications with this Bug:
- Upgrade of PHP Version to 5.3.6 is not possible
We are using Debian 6.0 with the latest PHP 5.3 Debian package. This is PHP 5.3.3-7+squeeze14, wich contains 5.3.3 plus Bugfixes and Securityfixes, but not new features, like the pdo_mysql charset support.
- If we ignore this bug and writing content into the db only with Flow, there are no wrong character at the frontend / website. But the db contains broken characters. After an update to an new php version or another server, the broken characters are shown at the frontend... (same after upgrading from FLOW3 1.1)

The mysql driver of doctrine supports ""driverOptions"" to set something like ""SET NAMES utf8"", but after this commit and using the native doctrine sources, this is no longer useful... http://git.typo3.org/FLOW3/Packages/Doctrine.DBAL.git/commitdiff/b231de400af149a7e6a980939b067c6177707e3d

Another useful solution could be the ""SessionInitialization"" of doctrine, but after this commit a great configure option of Flow is removed :-/ http://git.typo3.org/FLOW3/Packages/TYPO3.FLOW3.git/commit/0636682f3b304c6a63e7b1558d7d32c153c1940f
Why?"
45409,TYPO3.Flow,Feature,"",New,Should have,Support validation of abstract nested properties,Aske Ertmann,"",2013-05-21 07:28,Validation,"",2013-02-12,"","",0,2013-02-12 07:26,"","",1022500,"","","Currently the validation of properties in action controllers does not take the property mapping configuration into account causing missing validation of nested abstract properties.

If you have an entity which has a collection of or is an abstract entity, it is possible to use the property mapping configuration to set which kind of abstract entity you'd want to convert/typehint to. But that is not respected in the validator resolver meaning that the validator resolver only returns a conjunction validator for the properties in the abstract entity and not the typehintet one.

There are two reasons for implementing this, which are 1) the missing validation leads to exceptions when the nested properties are persisted in the entity manager, 2) the validation is missing in the form.

Example:
Account (Security) has a party property which is of type \TYPO3\Party\Domain\Model\AbstractParty.

Then we have a \TYPO3\Party\Domain\Model\Person which extends the AbstractParty which has some more properties than the abstract party does. In the property mapping configuration I get configure it to use Person instead of  a AbstractParty, but the validation resolves with AbstractParty meaning that the extra properties and their validation doesn't get taken into account.

Solution:
I think the solution should be to tie the property mapping configuration to the validator resolver so when it's actually resolving validators for a property of an action controller it can check if any special converters where used to change the type of the property."
45413,TYPO3 Flow Base Distribution,Bug,"",Under Review,Should have,Overriding boolean properties using Objects.yaml is broken,Rens Admiraal,Rens Admiraal,2013-12-10 07:26,"","",2013-02-12,"","",100,2013-02-12 10:58,"","",1022700,"",Git master,"When a boolean property is overriden like for example:

<pre>
TYPO3\Flow\Mvc\Routing\UriBuilder:
  properties:
    linkProtectionEnabled:
      value: FALSE
</pre>

the generated code is incorrect. The TRUE value becomes a call like:

<pre>
$this->setLinkProtectionEnabled(1);
</pre>

and the FALSE value becomes:

<pre>
$this->setLinkProtectionEnabled();
</pre>

The 1 being used as TRUE will still work in PHP of course, the FALSE value will break if the argument is required."
45430,TYPO3.Flow,Task,"",Closed,Should have,Throw Exception when controller for routing configuration does not exists,Sören Rohweder,Bastian Waidelich,2013-09-04 05:12,MVC - Routing,"",2013-02-13,"","",0,2013-02-13 04:43,"","",1023550,"","","When developing Flow applications and creating the routing configuration it´s a problem to find errors in the configuration when a simple typo in the controller is hidden by ignoring the absence of the named contoller in the Routing.yaml.

It would be nice to receive an exception in case the mentioned controller  in the Routing.yaml does not exists."
45463,TYPO3.Flow,Bug,"",Resolved,Should have,Routing includes object arguments even though it should not,Karsten Dambekalns,Bastian Waidelich,2013-03-20 11:37,MVC - Routing,"",2013-02-13,"","",100,2013-02-13 11:09,"","",1025100,"",Git master,"Given this route as the only active route:

<pre>-
  name: 'foo'
  uriPattern: 'foo(/{@action})'
  defaults:
    '@package': 'Acme.Demo'
    '@controller': 'Foo'
    '@action': 'index'
</pre>

and a controller with this action:

<pre>
/**
 * @param \Acme\Demo\Domain\Model\Foo $foo
 * @param string $bar
 */
public function removeBarAction(Foo $foo, $bar) {}</pre>

The following all works fine and results in a link being built (foo is an object):

<pre><f:link.action action=""removeBar"" arguments=""{foo: foo}"">
<f:link.action action=""removeBar"" arguments=""{xyz: foo}"">
<f:link.action action=""removeBar"" arguments=""{foo: foo, bar: foo}"">
</pre>

But this does not work (bar is a string):

<pre><f:link.action action=""removeBar"" arguments=""{foo: foo, bar: bar}""></pre>

The following happens inside the router:

!https://www.evernote.com/shard/s55/sh/f3c49923-52d3-463e-848c-d68af1dbb17b/0e0c1426437d6808ba8f129a752760b6/res/6d01dfce-dae0-49f1-b42e-02f641c8832f/skitch.png!
!https://www.evernote.com/shard/s55/sh/77505b48-94fb-4f1e-8334-7e6d8ac32e5a/b84536fc44919f417b5c4aaf4fef2e0e/res/9baba34f-c2ed-4474-86fe-49c59c6431f7/skitch.png!

So the arguments that are _objects_ are considered internal, because there @__@ is involved?"
45553,TYPO3.Flow,Feature,"",Resolved,Should have,Missing TRUE Validator for mandatory checkboxes,Benno Weinzierl,Benno Weinzierl,2014-07-11 14:19,Validation,2.0.1,2013-02-17,"","",100,2013-02-17 12:50,"","",1029550,"","","I added a Validator which validates boolean TRUE values. So only the value TRUE is accepted.
I needed this for a form where i have a mandatory ""terms and conditions"" checkbox which is a boolean property.
I think this is a quite common usecase and should be included into the core.


"
45609,TYPO3.Flow,Bug,"",Resolved,Must have,If authenticated initializeObject() in every session-scope object is called twice,Benno Weinzierl,"",2013-05-02 11:37,Session,2.0,2013-02-19,"","",100,2013-02-19 10:06,"","",1032300,"",Git master,"After a account is authenticated the initializeObject Method of every session-scope object is called two times instead of one.

"
45611,TYPO3.Flow,Bug,"",New,Could have,Destruction of session after logout should be configurable,Benno Weinzierl,"",2013-02-19 10:41,Security,"",2013-02-19,"","",0,2013-02-19 10:41,"","",1032400,"",Git master,"After logout the session is destroyed.

In the AuthenticationProviderManager:
<pre>
if ($this->session->isStarted()) {
	$this->session->destroy('Logout through AuthenticationProviderManager');
}
</pre>

There should be a way to deactivate this by configuration because in some cases one want to keep information in the session regardles of the login-state."
45623,TYPO3.Flow,Bug,"",New,Should have,SQL error when calling TYPO3.Blog Setup controller,Peter Beernink,Rens Admiraal,2013-02-21 06:16,- Documentation -,"",2013-02-19,"","",0,2013-02-19 16:16,"","",1033000,"",Flow 2.0.0 beta 1,"When following the steps in the documentation, an SQL error is raised when calling the Setup controller at TheDefinitiveGuide/PartII/Controller.
This is caused by the linkTitle not being allowed to be NULL.
So either the check in the @setTitle()@ / @getLinkTitle()@ should be changed to @if (empty($this->linkTitle))@ or the link title should be set to an empty string by default."
45629,TYPO3.Flow,Bug,"",Resolved,Should have,expirationDate of Account cannot be set to NULL after a \DateTime has been set,Christian Müller,"",2013-03-20 05:36,Security,"",2013-02-20,"","",100,2013-02-20 02:28,"","",1033300,"",(any),After setting an expirationDate you cannot unset it anymore.
45640,TYPO3.Flow,Bug,"",New,Could have,Every relation is set to cascade=all if the related entity is no aggregate root,Benno Weinzierl,"",2013-02-20 09:31,Persistence,"",2013-02-20,"","",0,2013-02-20 06:18,"","",1033850,"",Git master,"Example structure:

Product => OneToMany => Variant
BasketItem => ManyToOne => Variant

If Variant is no aggregate root it is deleted when BasketItem is deleted because cascade=all is automatically set in 
TYPO3\Flow\Persistence\Doctrine\Mapping\Driver\FlowAnnotationDriver per default.
Around line 540.

This (IMHO not very helpful) default behavior cannot be overwritten by the annotation because cascade={} throws errors.
"
45647,TYPO3.Kickstart,Bug,"",Resolved,Must have,Controllers must not be of scope singleton,Bastian Waidelich,Bastian Waidelich,2013-06-24 12:36,"",2.0,2013-02-20,"","",100,2013-02-20 08:14,"","",1034200,"",Git master,"Currently all the controllers of Flow (and the ones that you create via the kickstarter) are of scope singleton (e.g. contain the @Flow\Scope(""singleton"") annotation).
Usually that doesn't really make a difference, because controllers are only instantiated once.
But if we start using the same controller multiple times (say two plugin instances on one page) we'll get really weird effects..

BTW: For command controllers it's obviously OK to be singletons, but there is no advantage in doing so"
45669,TYPO3.Flow,Bug,"",New,Should have,PersistentObjectConverter does not convert ValueObjects by __identity,Carsten Bleicker,"",2013-02-20 11:59,"","",2013-02-20,"","",0,2013-02-20 11:59,"","",1035200,"",Flow 2.0.0 beta 1,"if you have valueObjects and want to show them in an action controller with
showAction($myValueObject) and get param comes in with &myObject[__identity]=123123-123123-231231
the converting fails because __identity will allways be unset and no other property left after this.
i solved this by simply adding 3 lines in the convertFrom method:

// if there is just only the identity we convert the source to string
if (is_array($source) && count($source) === 1 && array_key_exists('__identity', $source)) {
	$source = $source['__identity'];
}


see also attached extended class with higher priority

do you agree with it?
thank you
carsten"
45675,TYPO3.Flow,Feature,"",Resolved,Should have,Improve Error-Message when @var annotation in entity object is omitted,Benno Weinzierl,Benno Weinzierl,2013-04-23 04:45,Validation,2.0,2013-02-20,"","",0,2013-02-20 15:02,"","",1035500,"","","When the @var annotation is missing in an entity object the ValidationResolver throws a notice:

<pre>
Notice: Undefined index: var in .../TYPO3_Flow_Validation_ValidatorResolver_Original.php line 251
</pre>

This tells nothing about the actual problem (that the @var in the comment of a property was forgotten).

Improve this errormessage to make the search for the error more FLOWing :-)"
45735,TYPO3.Fluid,Bug,"",Resolved,Must have,Error when using If-Condition in Layout-Tag,Alex no-lastname-given,Bastian Waidelich,2015-06-30 05:39,Core,"",2013-02-22,"","",100,2013-02-21 19:06,"","",1038450,"",Flow 2.0.0 beta 1,"I use a condition for evaluating which layout to load:
<pre>
<f:layout name=""{f:if(condition: checkCondition, then: 'Layout1', else: 'Layout2')}""/>
</pre>

On the first request (template is not cached) it works fine, but on the second requets (template is loaded from cache) following error is thrown:

<pre>
#1: Notice: Undefined variable: self in /Data/Temporary/Development/Cache/Code/Fluid_TemplateCache/PACKAGE_CONTROLLER_action_ACTION_20bd4ce9d92ee470c3edcf16e49b6ebec6252766.php line 16 
</pre>

This error can be fixed by adding a single line in store() of class TemplateCompiler (TYPO3.Fluid\Classes\TYPO3\Fluid\Core\Compiler\TemplateCompiler.php). The template code ($templateCode) have to be enhanced in the first line of getLayoutName() by
<pre>
\$self = \$this;
</pre>

To clarify, the final template code:
<pre>
$templateCode = <<<EOD
%s {

public function getVariableContainer() {
	// TODO
	return new \TYPO3\Fluid\Core\ViewHelper\TemplateVariableContainer();
}
public function getLayoutName(\TYPO3\Fluid\Core\Rendering\RenderingContextInterface \$renderingContext) {
\$self = \$this;
%s
return %s;
}
public function hasLayout() {
return %s;
}

%s

}
EOD;
</pre>"
45851,TYPO3.Flow,Feature,"",Needs Feedback,Could have,Allow referencing environment variables in Settings.yaml,Adrian Föder,Adrian Föder,2013-04-30 08:12,"","",2013-02-26,"","",0,2013-02-26 03:36,"","",1044050,"","","Actual use case is Amazon AWS, where stuff like database credentials are present as environment variables.
It should be possible to use these environment variables directly in the YAML files, just like it's already possible with PHP constants.
The question is a useful syntax; I found in Rails there is an analogy that would look like the following:

<pre><code class=""yaml"">
  TYPO3:
    Flow:
      persistence:
        backendOptions:
          password: <% ENV['RDS_PASSWORD'] %>
</code></pre>

What do you think?"
45864,TYPO3.Flow,Bug,"",Resolved,Should have,PHP constants used in YAML loose their type,Karsten Dambekalns,Adrian Föder,2013-03-20 11:37,Configuration,2.0,2013-02-26,"","",100,2013-02-26 12:30,"","",1044700,"",Flow 2.0.0 beta 1,""
45876,TYPO3.Flow,Bug,"",Resolved,Must have,Exception in TypeHandling with PHP < 5.3.7,Mattias Nilsson,Karsten Dambekalns,2013-03-27 08:37,Utility,"",2013-02-27,"","",100,2013-02-27 02:27,"","",1045300,"",(any),"When adding new content in Neos an exception is thrown. Refrencing to the file: TYPO3.Flow/Classes/TYPO3/Flow/Utility/TypeHandling.php

ExtDirect error: Uncaught exception #1 (ref 2013022708244558d7f1) - Warning: Unknown class passed as parameter in /Applications/MAMP/htdocs/phoenix.dev/Base/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Utility/TypeHandling.php line 118"
45917,TYPO3.Flow,Bug,"",New,Should have,RoutePartHandler transliteration must be improved,Dominique Feyer,"",2014-02-17 03:13,MVC - Routing,"",2013-02-28,"","",0,2013-02-28 09:05,"","",1047300,"",Git master,"It's related to #8736, I know that the transliteration is currently not in the l18n part of Flow, but the current pseudo transliteration currently in RoutePartHandler is really german friendly ;)

I propose a path to use iconv to offer better transliteration, when the l18n transliteration is ready we can switch to it."
45923,TYPO3.Fluid,Feature,"",Rejected,Won't have this time,adjustable number of decimal points for f:format.currency,Josef Florian Glatz,"",2013-09-05 03:34,ViewHelpers,"",2013-02-28,"","",0,2013-02-28 14:33,"","",1047600,"","","From time to time it's useful to have an extra attribute to set the number of decimal points. Because of the fact that especially for large amounts of money (e.g. realty objects, luxury) no decimals are required, this should be configurable."
45936,TYPO3.Flow,Bug,"",Resolved,Should have,Respect open basedir during uploading of files,Aske Ertmann,"",2013-05-02 11:37,Resource,2.0,2013-03-01,"","",100,2013-03-01 06:12,"","",1048250,"",Git 2.0,"Currently when uploading files and using ""open_basedir"", you either have to change the ""upload_tmp_dir"" value or add the temporary folder to ""open_basedir"". Since the latter is not recommended for security reasons and for shared hosting environments the former can be impossible, it should work without having to do so since PHP allows for that."
45953,TYPO3.Flow,Bug,"",Resolved,Should have,Sessionless auth broke TestingProvider,Dominique Feyer,"",2013-04-05 05:38,"","",2013-03-01,"","",100,2013-03-01 16:28,"","",1049100,"",Git master,"This problem is caused by the following lines in Settings.yaml (under Testing directory)

<pre>
            requestPatterns:
              controllerObjectName: 'TYPO3\Flow\Tests\.*'
</pre>

Other package need to be hable to use the TestingProvider in their own tests. 

The problem is caused by this commit: 7d79b800d4237a359d3876a69538078dc2298d18 (#45282)
"
45976,TYPO3.Flow,Feature,"",Resolved,Could have,Boolean Validator,Anja Leichsenring,"",2014-07-11 14:19,"",2.0.1,2013-03-03,"","",0,2013-03-03 03:24,"","",1050200,"","",Extbase Fluid got a Boolean ViewHelper. Your are invited to port it: #45880
45987,TYPO3.Fluid,Task,"",Resolved,Should have,filemtime is namespaced in TemplateView.php,Wouter Wolters,Wouter Wolters,2013-04-05 06:37,View,"",2013-03-03,"","",100,2013-03-03 11:26,"","",1050750,"","","filemtime is namespaced in TemplateView.php

$templateModifiedTimestamp = \filemtime($pathAndFilename);"
46008,TYPO3.Flow,Bug,"",Resolved,Should have,Reflection should resolve relative namespaces,Christopher Hlubek,Sebastian Kurfuerst,2013-07-16 05:37,Reflection,"",2013-03-04,"","",100,2013-03-04 06:22,"","",1051800,"",Git master,"Annotations (e.g. @@var@) with relative class names are not resolved correctly under the namespace of the given class.
To have a correct handling of namespaces in PHP we should support the usage of relative class names in these places.

<pre><code class=""php"">
namespace MyVendor\MyPackage\Domain\Model;

class Foo {

    /**
     * @var Bar
     */
    protected $bar;

}
</code></pre>

<pre><code class=""php"">
namespace MyVendor\MyPackage\Domain\Model;

class Bar {

}
</code></pre>

Since this is a problem for some people (e.g. also PhpStorm uses relative class names when auto-completing) I consider this a bug we should solve in the framework.
"
46009,TYPO3.Flow,Task,"",New,Should have,Improve error message for missing class in Flow annotation driver ,Christopher Hlubek,"",2013-03-04 06:25,Persistence,"",2013-03-04,"","",0,2013-03-04 06:25,"","",1051850,"","","The Flow annotation driver will throw an error if a class is not found in the class schema. The error could be more helpful for missing classes or wrongly named classes if it would check if the class exists at all.

<pre>
Uncaught Exception
    No class schema found for
   
  ""MyVendor\MyProject\Domain\Model\Bar"".
    The class should probably marked as entity or value object! This
  happened
    while examining
    ""MyVendor\MyProject\Domain\Model\Foo""
</pre>
"
46010,TYPO3.Flow,Bug,"",New,Should have,Generating a DiscriminatorMap with base class in different namespace does not work,Christopher Hlubek,"",2013-03-04 06:30,Persistence,"",2013-03-04,"","",0,2013-03-04 06:30,"","",1051900,"",Git master,The automatic generation of a DiscriminatorMap for single table inheritance does not work across class in different namespaces. In these cases a manual DiscriminatorMap has to be written.
46011,TYPO3.Flow,Task,"",New,Should have,Validate annotation with missing type should throw useful error,Christopher Hlubek,"",2013-03-04 06:42,Validation,"",2013-03-04,"","",0,2013-03-04 06:42,"","",1051950,"","",The Validate annotation with a missing type should throw a useful error message. Besides that we could think about allowing the type option as the annotation value so we can specify validators without configuration with less typing.
46036,TYPO3.Flow,Bug,"",Resolved,Should have,AuthenticationRequired should not be thrown in PolicyEnforcement if resource is available to Everybody,Christian Müller,Christian Müller,2013-10-03 13:35,Security,2.0.1,2013-03-05,"","",100,2013-03-05 05:34,"","",1053200,"",(any),"In case you define a (method) resource (in my case with runtime argument condition) and you GRANT access to this resource for the ""Everybody"" role you will still end up with an AuthenticationRequiredException (or if defined a redirect to the WebRedirect) because the AuthenticationManager will throw that on not logged in BEFORE the AccessDecisionManager checks the actual permissions for the resource.

To fix this we need to temporarily catch the exception when there were no tokens to be authenticated and check permissions on the AccessDecisionManager. If this then throws an AccessDeniedException we know the resource was inaccessible for not logged in user (at least with the current runtime evaluation) and we should probably trigger a redirect to the WebRedirect. In case the AccessDecisionManager granted access to the resource we can proceed as obviously the resource was meant to be available without login."
46038,TYPO3.Fluid,Bug,"",Closed,Should have,Subproperty with Radio fields doesn't render hidden identity property,Christian Müller,Bastian Waidelich,2013-03-26 12:29,ViewHelpers,"",2013-03-05,"","",0,2013-03-05 07:55,"","",1053300,"",(any),If you render a form and access a property in a subpobject in your forms bound object via radio input field there are no hidden identity fields rendered as the radio input expects a value to be set in addition to the property which in turn prevents the addAdditionalIdentityPropertiesIfNeeded() to be called ever.
46046,TYPO3.Flow,Bug,"",Resolved,Should have,JsonView discards array indexes when using _descendAll,Karsten Dambekalns,Karsten Dambekalns,2013-04-12 09:41,MVC,2.0,2013-03-05,"","",100,2013-03-05 11:45,"","",1053700,"",(any),"When configuring JsonView like

<pre>$this->view->setConfiguration(array(
	'value' => array(
		'_descendAll' => array(
			'_descendAll' => array()
		)
	)
));</pre>

the result will be stripped of any array keys."
46048,TYPO3.Flow,Feature,"",Resolved,Should have,Allow unknown / disallowed properties to be skipped,Karsten Dambekalns,Karsten Dambekalns,2013-04-14 05:08,Property,2.1,2013-03-05,"","",100,2013-03-05 14:59,"","",1053800,"","","When using the PropertyMapper, it is useful to allow for partial mapping of sources to a target. This way one can skip certain values in the source. Right now this is not possible, one can only map all source properties.

I suggest to add @skipProperties($name [, $name])@ like the existing @allowProperties()@ and @skipUnknownProperties()@ like the existing @mapUnknownProperties()@"
46050,TYPO3.Flow,Feature,"",New,Could have,To decouple log file writing at Logger->logException,Thiago Colares,"",2013-03-05 15:43,Log,"",2013-03-05,"","",0,2013-03-05 15:43,"","",1053900,"","","The TYPO3\Flow\Log\Logger->logException() method perform itself the file log writing. As in log(), it could be decoupled to facilitate any override to this writing.

For example, in log(), is easily possible to set the backend as follow:

File: /project_path/Configuration/Settings.yaml

<pre>
TYPO3:
  Flow:
    log:
      # Settings for Flow's default loggers
      # see more at Framework/TYPO3.Flow/Configuration/Settings
      systemLogger:
        backend: MyPackage\Log\Backend\MyFileBackend
</pre>

So far, I guess the only way is to set up the Objects.yaml, am I right?"
46053,TYPO3.Flow,Bug,"",Resolved,Must have,"Booting->initializeSystemLogger() uses a fixed $loggerObjectName, rather than fetch it from Settings.yaml",Thiago Colares,Karsten Dambekalns,2013-03-21 12:37,Log,"",2013-03-05,"","",0,2013-03-05 16:27,"","",1054050,"",Flow 2.0.0 beta 1,"It should be set by Settings.yaml instead. So...

File: \TYPO3\Flow\Core\Booting

<pre>
/**
 * Initializes the System Logger
 *
 * @param \TYPO3\Flow\Core\Bootstrap $bootstrap
 * @return void
 */
static public function initializeSystemLogger(Bootstrap $bootstrap) {
    ...
    $systemLogger = \TYPO3\Flow\Log\LoggerFactory::create('SystemLogger', 'TYPO3\Flow\Log\Logger', $settings['log']['systemLogger']['backend'], $settings['log']['systemLogger']['backendOptions']);
    ...
}

</pre>

Should something like

<pre>
/**
 * Initializes the System Logger
 *
 * @param \TYPO3\Flow\Core\Bootstrap $bootstrap
 * @return void
 */
static public function initializeSystemLogger(Bootstrap $bootstrap) {
    ...
    $systemLogger = \TYPO3\Flow\Log\LoggerFactory::create('SystemLogger', $settings['log']['logger']['backend'], $settings['log']['systemLogger']['backend'], $settings['log']['systemLogger']['backendOptions']);
    ...
}

</pre>

Note: I'm using @$settings['log']['logger']@ rather than @'TYPO3\Flow\Log\Logger'@. Consequently, the Settings.yaml should be updated:

<pre>
TYPO3:
  Flow:
    log:
	  ...
      systemLogger:
		...
		logger: 'TYPO3\Flow\Log\Logger'

</pre>"
46061,TYPO3.Flow,Feature,"",Resolved,Should have,Allow use of ArrayConverter to partially map arrays to arrays,Karsten Dambekalns,Karsten Dambekalns,2013-08-02 05:19,Property,"",2013-03-06,"","",100,2013-03-06 05:17,"","",1054450,"","","Settings allowed properties on the configuration of the property mapper does not allow to partially map arrays to arrays, because the ArrayConverter always returns the unchanged array."
46063,TYPO3.Flow,Feature,"",New,Should have,"Implement username password provider with ""remember me"" persistent cookie",Christopher Hlubek,Christopher Hlubek,2014-09-22 18:26,Security,"",2013-03-06,"","",0,2013-03-06 06:11,"","",1054550,"","","* Extend PersistedUsernamePasswordProvider with remember me feature
* Store random token in cookie
* Use cache backend for random token to account mapping
* Authenticate user from random token in persistent cookie if no credentials given
* Remove cookie on logout?"
46066,TYPO3.Flow,Bug,"",New,Should have,Currency formatter uses wrong format for ISO 4217 currency codes,Sebastian Düvel,"",2013-03-06 10:29,I18n,"",2013-03-06,"","",0,2013-03-06 10:29,"","",1054700,"",Git master,"Currently the currency formatter is optimized for currency symbols like '?'.
If you format something using EN locale, ?23 is correct.
With ISO 4217 code 'EUR' it should be: EUR 23, but today it's EUR23. (mind the space, see: http://publications.europa.eu/code/en/en-370303.htm#position)

So it should support these ISO codes as well."
46072,TYPO3.Flow,Bug,"",Resolved,Should have,Scripts::executeCommand must support command arguments,Dominique Feyer,"",2013-04-12 08:39,"","",2013-03-06,"","",100,2013-03-06 12:32,"","",1055000,"",(any),"Currently it's not supported to have command arguments in a CLI subcommand, this patch propose to solve this with this API, and it's not a breaking change:

Scripts::executeCommand('namespace.vendor:command:action', $this->settings, TRUE, array('--arg1', $value1, '--arg2', $value2));

Everything is correctly escaped, patch is coming"
46073,TYPO3.Flow,Bug,"",Under Review,Should have,Scripts::executeCommand must be usable outsite of TYPO3.Flow,Dominique Feyer,"",2013-03-06 13:14,"","",2013-03-06,"","",0,2013-03-06 12:45,"","",1055050,"",Git master,"On line 546:

<pre>
		$subRequestEnvironmentVariables = array(
			'FLOW_ROOTPATH' => FLOW_PATH_ROOT,
			'FLOW_CONTEXT' => $settings['core']['context']
		);

</pre>

$settings['core']['context'] can be non existant in the context of other package (other than TYPO3.Flow)

Those line solve the issue:
<pre>
		if (!isset($settings['core']['context']) && isset($settings['TYPO3']['Flow']) && is_array($settings['TYPO3']['Flow'])) {
			$settings = $settings['TYPO3']['Flow'];
		}
</pre>

Patch is coming"
46076,TYPO3.Flow,Bug,"",Resolved,Should have,PersistentQueryRewriteAspect doesn't work with Collections when doing IN / CONTAINS / MATCHES comparisons,Christian Müller,Adrian Föder,2014-06-18 16:37,"","",2013-03-06,"","",100,2013-03-06 13:44,"","",1055200,"",(any),""
46081,TYPO3.Fluid,Feature,"",Closed,Should have,Suggested addition to SelectViewHelper - allowing prepend of child content to rendered option tag list,Christoph Gross,"",2013-03-07 02:31,ViewHelpers,2.0,2013-03-07,"","",0,2013-03-06 18:59,"","",1055450,"","","This Feature is already commited to Typo3v4, see here [[http://forge.typo3.org/issues/26595]].

I think it's a valuable feature and ""adapted"" it to TYPO3.Fluid."
46091,TYPO3.Fluid,Task,"",Needs Feedback,Should have,Show source file name and position on exceptions during parsing,Christopher Hlubek,"",2013-03-07 05:26,"","",2013-03-07,"","",0,2013-03-07 05:14,"","",1055950,"","",It would be really helpful to spot errors if the Fluid TemplateParser would show the current source file and line number on errors. Right now there's absolutely no clue in the exception handler where to look for the error.
46092,TYPO3.Fluid,Bug,"",Resolved,Should have,The f:translate ViewHelper does nothing if a integer is provided as argument,Benno Weinzierl,"",2014-02-24 06:36,ViewHelpers,2.0.1,2013-03-07,"","",0,2013-03-07 05:15,"","",1056000,"",Git master,"Here is an Example...

in Translation:
<pre>
<trans-unit id=""mylabel"">
	<source>A test list with {0} results</source>
</trans-unit>
</pre>

In Template:
<pre>
{f:translate(id: 'mylabel', arguments: {0: ""{dynamic.integer}""} )}
</pre>

This returns ""mylabel"" in the template because an integer is provided as argument.
This works:
<pre>
{f:translate(id: 'mylabel', arguments: {0: ""{dynamic.integer} ""} )}
</pre>
(Notice the blank an the end of the dynamic argument... the argument is a string and the translation works as expected)"
46097,TYPO3.Flow,Bug,"",New,Must have,Logged in user gets session of an other logged in user ,Stephan Herold,Robert Lemke,2013-03-07 06:52,Session,"",2013-03-07,"","",0,2013-03-07 06:13,"","",1056250,"",Git master,"We (lets say our coustomer) discovered a strange behavior with the session handling.

An logged in user updated an object, was redirected to the 'index' and had the session of an other also logged in user.
It seems like some sort of session hijacking. 

Due to the fact, that we work in 'production' mode we could not cover the bug throug logs. 
But the projectmanager, wich was informed by the user, confirmed this behavior.

Affacted version typo3/flow-base-distribution dev-master (last updated 15.01.2013)."
46120,TYPO3.Flow,Bug,"",New,Must have,Important step missing in the installation chapter,RBergheggger ,"",2013-03-08 04:23,- Documentation -,"",2013-03-08,"","",0,2013-03-08 04:23,"","",1057400,"",(any),"On http://docs.typo3.org/flow/TYPO3FlowDocumentation/Quickstart/Index.html
it is cleary described how you get the composer and how you create all required packages of FLOW with it. But one important step is missing inbetween: First you have to clone the current master branch of FLOW from git with ""git clone [...]"".
This can be very missleading and frustrating for beginners or people who never got to know git."
46135,TYPO3.Fluid,Bug,"",Closed,Must have,Undefined index: useParentRequest in AbstractViewHelper,Karsten Dambekalns,Karsten Dambekalns,2013-08-02 05:24,ViewHelpers,2.1,2013-03-08,"","",0,2013-03-08 10:05,"","",1058150,"",Git master,#1: Notice: Undefined index: useParentRequest in /?/Fluid/Core/ViewHelper/AbstractViewHelper.php line 255
46210,TYPO3.Flow,Bug,"",Needs Feedback,Should have,securityContext->getParty() in the initializeObject() method of a session-Scope object throws exception on second request,Benno Weinzierl,"",2013-03-27 05:44,Session,"",2013-03-12,"","",0,2013-03-12 11:23,"","",1061700,"",Git master,"	
When i put the following code in a session-scope object and am logged in it works on the first request. But after reloading the same page this code throws an exception.
<pre>
        /**
	 * @Flow\Inject
	 * @var \TYPO3\Flow\Security\Context
	 */
	protected $securityContext;

	public function initializeObject() {
		$loginUser = $this->securityContext->getParty();
	}
</pre>

The exceoption thrown:
<pre>
#1358513802: The security Context cannot be initialized yet. Please check if it can be initialized with $securityContext->canBeInitialized() before trying to do so.
</pre>"
46216,TYPO3.Flow,Feature,"",New,Should have,Add wincache cache backend,Christian Kuhn,"",2013-03-12 15:55,Cache,"",2013-03-12,"","",0,2013-03-12 14:05,"","",1062000,"","","wincache is a memory key-value cache similar to the user cache of apc and xcache. It was integrated as cache backend for TYPO3 CMS 6.0 already, so the code could be transferred from CMS easily. Some words in the documenation were added with issue #44716"
46244,TYPO3 Flow Base Distribution,Bug,"",Under Review,Should have,Remove call to PHP_BINDIR in CoreCommandController,Rens Admiraal,"",2013-03-19 06:39,"","",2013-03-13,"","",0,2013-03-13 14:08,"","",1063400,"",Git master,The CoreCommandController still has a call to PHP_BINDIR. This should be removed
46257,TYPO3.Fluid,Feature,"",Under Review,Should have,Add escape sequence support for Fluid,Rafael Kähm,"",2015-01-26 03:00,Core,"",2013-03-14,"","",0,2013-03-14 04:01,"","",1064050,"","","In some cases you need to print some characters to rendered view, which Fluid uses.
f.e.:
{{object}} should output {value} but Fluid renders this to {{object}}

i have patch for this, which make it possible following possible:
\{{object}\} renders to {value}
\\\{{object}\\\} renders to \{value\}

please make gerrit from following gist:
https://gist.github.com/RafaelKa/5159642

there are 54,55,56 , 119-123 and 455,456 lines interesting "
46289,TYPO3.Fluid,Bug,"",Needs Feedback,Should have,Enable Escaping Interceptor in XML request format,Tim Kandel,"",2013-08-14 09:35,View,2.0.1,2013-03-14,"","",0,2013-03-14 12:20,"","",1065650,"",Git master,The Escaping Interceptor should be enabled if the request format is XML. As of now this is only done in HTML.
46290,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Remove unnecessary checks for file_exists and is_dir in FileMonitor,Rens Admiraal,Rens Admiraal,2013-04-05 06:37,"","",2013-03-14,"","",100,2013-03-14 12:21,"","",1065700,"",Git master,"The FileMonitor is massively slow on Windows, this is just because file access on windows from PHP is slow. Therefor unnecessary calls to the filesystem should be prevented."
46318,TYPO3.Flow,Feature,"",New,Should have,[caching framework] Extend cache interface to handle multiple entries,Norbert Sendetzky,"",2013-03-15 07:19,Cache,"",2013-03-15,"","",0,2013-03-15 07:05,"","",1067100,"","","The current BackendInterface and FrontendInterface is not suitable for retrieving or storing several entries at once because the interfaces are limited to hand over cache entries one by one. Especially for the Redis and the database backend, being able to retrieve several entries at once speeds up the operation drastically.

One option would be to extend the get(), set() and remove() methods to also allow arrays of identifiers. The advantage would be that the interfaces don't have to be changed but on the other side, all cache backends have to be adapted to be able to accept arrays. Another disadvantage is that the returned values for single entries and lists of entries must be different.

The other option is to add new methods to the interface:
- getList( array $entryIdentifiers )
- setList( array $entryIdData, array $tags = array(), $lifetime = NULL )
- setList( array $entry ) // alternative way: data, tags and lifetime in associative array
- removeList( array $entryIdentifiers )

Then, we can provide default implementations in AbstractBackend that call the get(), set() or remove() methods in a loop for all backends that are not able to fetch, store or delete a bunch of entries. The Redis and PDO backend can overwrite these methods to provide their own optimized implementations.
There are two alternatives for setList(): Either the tags and the lifetime is the same for all entries (easier to understand and less error prone) or data, tags and lifetime is stored in an associative array per entry. The last option would be much more flexible and this might be a better solution for different use cases.

Can the caching interfaces extended in on of these ways and are you willing to integrate a patch for this?
"
46337,TYPO3.Flow,Bug,"",Resolved,Should have,Remove (costly) file_exists calls in class loading,Christian Müller,Christian Müller,2013-03-27 08:37,"","",2013-03-15,"","",100,2013-03-15 13:14,"","",1068050,"",(any),""
46338,TYPO3.Flow,Bug,"",Resolved,Should have,Original and Proxy class can be compiled into one file,Christian Müller,Christian Müller,2013-04-05 06:37,"","",2013-03-15,"","",100,2013-03-15 13:20,"","",1068100,"",(any),""
46340,TYPO3.Flow,Task,"",Resolved,Should have,Improve validation to speed up Flow,Karsten Dambekalns,"",2013-03-27 08:37,Validation,2.0,2013-03-15,"","",100,2013-03-15 14:15,"","",1068200,"","",""
46343,TYPO3.Flow,Bug,"",Resolved,Could have,Remove duplicate file_get_contents calls in FileBackend,Christian Müller,Christian Müller,2013-08-14 09:57,Cache,2.0,2013-03-15,"","",100,2013-03-15 15:26,"","",1068350,"",(any),""
46352,TYPO3.Flow,Task,"",Resolved,Should have,Roles in SecurityContext should be kept until tokens change,Christian Müller,Christian Müller,2013-04-29 13:03,Security,"",2013-03-16,"","",100,2013-03-16 07:58,"","",1068800,"","","GetRoles inside SecurityContext rebuilds the array of roles on every call which is costly and leads to a lots of created objects if roles (for example in fluid) are used a lot.

As for the building only two things are responsible, a) all available roles and b) tokens we can for now safely keep the roles until tokens change. 

As soon as roles are objects that could be modified during runtime you might need to clear the array if you change the existing roles.
"
46371,TYPO3.Flow,Feature,"",New,Should have,Support compilation of static information in proxy classes,Christopher Hlubek,Christopher Hlubek,2013-03-16 16:26,"","",2013-03-16,"","",0,2013-03-16 16:26,"","",1069750,"","","We use the ReflectionService during runtime to get information about interface implementations, method parameters or other reflection data that will never change after compilation. If we can manage to store that information inside the classes that need that specific information we can save the initialization of the ReflectionService and cache accesses for some invocations.

An annotation @CompileStatic@ should be used to mark static methods inside proxyable classes as compilable. The object manager is passed to the method as the only context beside the current class (which can be accessed with @get_called_class@ with late static bind) and allows access to the ReflectionService. During compilation the proxy builder will call these methods and override the method with the computed return value in the generated proxy class.

Besides reflection data anything that doesn't change after the compile run can be pre-computed with this approach."
46424,TYPO3.Flow,Bug,"",Resolved,Must have,Infinite recursive call in DependencyProxy,Adrian Föder,Robert Lemke,2013-04-26 06:35,Object,"",2013-03-19,"","",100,2013-03-19 05:19,"","",1072400,"",Git master,"I have the following situation,

<pre>
[19-Mar-2013 09:02:22 UTC] PHP Fatal error:  Maximum function nesting level of '500' reached, aborting! in ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\ObjectManager.php on line 160
[19-Mar-2013 09:02:22 UTC] PHP Stack trace:
[19-Mar-2013 09:02:22 UTC] PHP   1. {main}() C:\Users\afoeder\PhpstormProjects\acme\Distribution\Web\index.php:0
[19-Mar-2013 09:02:22 UTC] PHP   2. TYPO3\Flow\Core\Bootstrap->run() C:\Users\afoeder\PhpstormProjects\acme\Distribution\Web\index.php:27
[19-Mar-2013 09:02:22 UTC] PHP   3. TYPO3\Flow\Http\RequestHandler->handleRequest() ...\TYPO3.Flow\Classes\TYPO3\Flow\Core\Bootstrap.php:113
[19-Mar-2013 09:02:22 UTC] PHP   4. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->setRequest() ...\TYPO3.Flow\Classes\TYPO3\Flow\Http\RequestHandler.php:122
[19-Mar-2013 09:02:22 UTC] PHP   5. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->__call() ...\TYPO3.Flow\Classes\TYPO3\Flow\Http\RequestHandler.php:122
[19-Mar-2013 09:02:22 UTC] PHP   6. call_user_func_array() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:96
[19-Mar-2013 09:02:22 UTC] PHP   7. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->__call() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:0
[19-Mar-2013 09:02:22 UTC] PHP   8. call_user_func_array() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:96
[19-Mar-2013 09:02:22 UTC] PHP   9. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->__call() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:0
[19-Mar-2013 09:02:22 UTC] PHP  10. call_user_func_array() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:96
[19-Mar-2013 09:02:22 UTC] PHP  11. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->__call() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:0
.
.
.
.
[19-Mar-2013 09:02:23 UTC] PHP 492. call_user_func_array() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:96
[19-Mar-2013 09:02:23 UTC] PHP 493. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->__call() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:0
[19-Mar-2013 09:02:23 UTC] PHP 494. call_user_func_array() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:96
[19-Mar-2013 09:02:23 UTC] PHP 495. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->__call() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:0
[19-Mar-2013 09:02:23 UTC] PHP 496. TYPO3\Flow\Object\DependencyInjection\DependencyProxy->_activateDependency() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:95
[19-Mar-2013 09:02:23 UTC] PHP 497. Closure->__invoke() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:58
[19-Mar-2013 09:02:23 UTC] PHP 498. TYPO3\Flow\Security\Aspect\PersistenceQueryRewritingAspect->TYPO3\Flow\Security\Aspect\{closure}() ...\TYPO3.Flow\Classes\TYPO3\Flow\Object\DependencyInjection\DependencyProxy.php:58
[19-Mar-2013 09:02:23 UTC] PHP 499. TYPO3\Flow\Object\ObjectManager->get() C:\Users\afoeder\PhpstormProjects\acme\Distribution\Data\Temporary\Development\Cache\Code\Flow_Object_Classes\TYPO3_Flow_Security_Aspect_PersistenceQueryRewritingAspect.php:603
</pre>

When debugging the DependencyProxy's __call() method, it turns out that it happens on @TYPO3\Flow\Security\Context@'s @setRequest@ method.

It looks like this especially happens when I become logged out on a ""protected"" page, maybe because of session timeout or such."
46425,TYPO3.Flow,Task,"",Under Review,Should have,DI proxy classes use raw reflection instead of RelfectionService,Karsten Dambekalns,Christian Müller,2013-08-14 09:35,Core,2.0.1,2013-03-19,"","",0,2013-03-19 05:23,"","",1072450,"","",The DI proxy class builder uses raw reflection instead of the ReflectionService to fetch property names from classes in @buildSerializeRelatedEntitiesCode()@. Using the ReflectionService should be faster.
46428,TYPO3.Flow,Bug,"",Resolved,Should have,Session is started on every request,Karsten Dambekalns,Bastian Waidelich,2013-04-05 14:37,Session,2.0,2013-03-19,"","",100,2013-03-19 06:06,"","",1072600,"",Git 2.0,""
46449,TYPO3.Flow,Bug,"",Resolved,Should have,Routes should urldecode their parts,Adrian Föder,Bastian Waidelich,2014-01-06 04:23,MVC - Routing,2.0.1,2013-03-20,"","",100,2013-03-20 05:43,"","",1073650,"",Git master,"requesting the following Flow project URI, for example,

<pre>
http://example.org/acme.package/foo%62ar/create
</pre>

results in a resolved *controllerName* of @foo%62ar@ while it should of course be @foobar@.

This is incorrect by reading; and especially problematic in sub-namespaced controllers like even in nativ Neos' Backend\BackendController (however in this case it's circumvented by a custom route).
Such a controller would be

<pre>
http://example.org/acme.package/accouting%5Caccount/create
</pre>

intended to result in an *controllerName* of @accounting\account@."
46465,TYPO3.Flow,Bug,"",Resolved,Must have,ObjectAccess::getProperty() breaks on \stdClass due to accessor cache,Karsten Dambekalns,Karsten Dambekalns,2013-03-27 08:37,Reflection,2.1,2013-03-20,"","",100,2013-03-20 11:00,"","",1074450,"",Git master,"When using getProperty() on \stdClass instances, the accessor cache leads to false results - because the class name alone in this case does not tell anything about the availability of a property."
46485,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,The exceptionhandler handles exceptions too strict,Rens Admiraal,Rens Admiraal,2013-03-27 08:37,"","",2013-03-21,"","",100,2013-03-21 04:16,"","",1075450,"",Git master,"The ExceptionHandler should check if error_reporting is enabled. This is because we set the execptionhandler in testing context (for example).
In http://ca2.php.net/manual/en/language.operators.errorcontrol.php it's stated that even though the @ is used the exceptionhandler will be called if set_error_handler is used.

For this reason we should check in the exception handler if errors are ignored by using error_reporting() === 0"
46491,TYPO3.Flow,Bug,"",Resolved,Must have,ObjectAccess::getProperty() does not work for getters in ArrayAccess,Bastian Waidelich,Bastian Waidelich,2013-03-27 08:37,Reflection,"",2013-03-21,"","",100,2013-03-21 08:34,"","",1075750,"",Git master,"#42723 introduced a regression that prevents custom getters in ArrayAccess objects to be called via *ObjectAccess::getProperty()*

Code to reproduce the issue:
<pre>
<code class=""php"">
$arrayObject = new \ArrayObject();
var_dump($arrayObject->getIteratorClass());
var_dump(\TYPO3\Flow\Reflection\ObjectAccess::getProperty($arrayObject, 'iteratorClass'));
</code>
</pre>

Should output ""ArrayIterator"" twice, but the second time an exception *#1263391473: The property ""iteratorClass"" on the subject was not accessible* is thrown."
46536,TYPO3.Flow,Bug,"",Resolved,Must have,Resource file upload does not allow files without extension,Christopher Hlubek,Christopher Hlubek,2013-04-05 06:37,Resource,"",2013-03-22,"","",100,2013-03-22 06:29,"","",1077900,"",Git master,The ResourceManager does not allow to create Resources or upload Resources from a filename without extension. This is not consistent inside the ResourceManager and should generally be allowed.
46545,TYPO3.Fluid,Feature,"",New,Should have,Better support for arrays in options of SelectViewHelper,Marco Falkenberg,"",2013-03-22 08:35,"","",2013-03-22,"","",0,2013-03-22 08:35,"","",1078350,"","","The arguments 'optionValueField' and 'optionLabelField' will be (unnecessary?!) ignored, if you pass an array to the 'options'-argument of a SelectViewHelper."
46636,TYPO3.Flow,Bug,"",Resolved,Must have,Authentication does not work any longer without redirects,Marco Falkenberg,Bastian Waidelich,2013-05-07 12:35,Security,2.0,2013-03-25,"","",100,2013-03-25 04:58,"","",1082800,"",Flow 2.0.0 beta 1,"After applying the patch #46352 authentication via HTTP-Basic (PersistedUsernamePasswordProvider & UsernamePasswordHttpBasic-Token) throws

#1222268609: Access denied (0 denied, 0 granted, 1 abstained)"
46689,TYPO3.Flow,Bug,"",New,Must have,The new ClassLoader swallows Fatal Errors,Marc Neuhaus,Marc Neuhaus,2013-05-14 03:21,"","",2013-03-26,"","",0,2013-03-26 10:11,"","",1085450,"",Git master,"Since the new ClassLoader uses <notextile>'@include'</notextile> to load classes E_COMPILE_ERROR errors are completely 
ignored. The aren't shown (display_errors), logged to the php log (log_errors) or logged
anywhere through Flow. The main issue seems, that the combination of the <notextile>@</notextile> error control character
and set_error_handler let those E_COMPILE_ERROR slip through.


The only way around this was to register a shutdown function to catch those errors."
46703,TYPO3.Flow,Bug,"",Resolved,Should have,Session has side effects in functional tests,Robert Lemke,Robert Lemke,2013-04-05 14:37,Session,2.0,2013-03-27,"","",100,2013-03-27 03:10,"","",1086150,"",Flow 2.0.0 beta 1,"Consider the following code in a functional test:

<pre>
	$response = $this->browser->request('http://localhost/test/session');
	$this->assertTrue($response->hasCookie('TYPO3_Flow_Session'));

	$response = $this->browser->request('http://localhost/test/session');
	$this->assertTrue($response->hasCookie('TYPO3_Flow_Session'));
</pre>

The first assertion will succeed because the new session sends a session cookie in its response.
The second assertion will fail because the session object seems to be reused and not fully cleared before it is used again in the second browser request."
46715,TYPO3.Flow,Bug,"",Resolved,Should have,Validation is not reset in functional tests,Bastian Waidelich,Bastian Waidelich,2013-06-25 10:35,Http,2.0.1,2013-03-27,"","",100,2013-03-27 06:44,"","",1086700,"",Git master,If using the internal request engine (= in functional tests) the validation resolver that contains a 1st level cache for validated objects is not properly reset.
46716,TYPO3.Flow,Bug,"",New,Must have,Empty class names in DependencyInjection proxy code when using Caches / Factory-created dependencies,Adrian Föder,"",2013-05-21 07:22,Object,2.0.1,2013-03-19,"","",0,2013-03-27 07:23,"","",1086750,"",Git master,"I noticed a few cases where the $className argument of @\TYPO3\Flow\Object\ObjectManager::createLazyDependency@ was an empty string; that is the case, for example, in 

@\TYPO3\Flow\Resource\ResourceManager::Flow_Proxy_injectProperties@:
<pre><code class=""php"">
	/**
	 * Autogenerated Proxy Method
	 */
	 private function Flow_Proxy_injectProperties() {
		$statusCache_reference = &$this->statusCache;
		$this->statusCache = \TYPO3\Flow\Core\Bootstrap::$staticObjectManager->getLazyDependencyByHash('b3ca84fd627a5045e163e999a38877bf', $statusCache_reference);
		if ($this->statusCache === NULL) {
			$this->statusCache = \TYPO3\Flow\Core\Bootstrap::$staticObjectManager->createLazyDependency('b3ca84fd627a5045e163e999a38877bf',  $statusCache_reference, '', function() { return \TYPO3\Flow\Core\Bootstrap::$staticObjectManager->get('TYPO3\Flow\Cache\CacheManager')->getCache('Flow_Resource_Status'); });
		}
		// etc...
</code></pre>

The complete generated class file can be seen here: https://gist.github.com/afoeder/18b878d29c418b313773#file-typo3_flow_resource_resourcemanager-php-L480


h2. Possible reason

So, looks like the reason is at @\TYPO3\Flow\Object\DependencyInjection\ProxyClassBuilder::buildPropertyInjectionCodeByConfiguration@. There is a check for 
<pre>
if ($propertyClassName === NULL) {
</pre> 
but at the end of the method, the $propertyClassName is still used without having been modified, hence still NULL:

<pre><code class=""php"">
	protected function buildPropertyInjectionCodeByConfiguration(Configuration $objectConfiguration, $propertyName, Configuration $propertyConfiguration) {
		$className = $objectConfiguration->getClassName();
		$propertyClassName = $propertyConfiguration->getClassName();
		if ($propertyClassName === NULL) {
			$preparedSetterArgument = $this->buildCustomFactoryCall($propertyConfiguration->getFactoryObjectName(), $propertyConfiguration->getFactoryMethodName(), $propertyConfiguration->getArguments());
		} else {
			// ...
		}
		// ...
		return $this->buildLazyPropertyInjectionCode($propertyClassName, $propertyName, $preparedSetterArgument);
	}
</code></pre>

See, obviously the last line *can* be invoked if $propertyClassName is NULL; which is quite often the case when using configured factories."
46816,TYPO3.Flow,Feature,"",New,Should have,Add xcache cache backend,Christian Kuhn,"",2013-05-21 07:28,Cache,"",2013-03-31,"","",0,2013-03-31 09:16,"","",1091500,"","","xcache is a memory key-value cache similar to the user cache of apc. It was integrated as cache backend for TYPO3 CMS 6.1, so the code could be transferred from CMS easily. "
46823,TYPO3.Flow,Task,"",Accepted,Should have,Detect APC and APCu correctly,Stefan Neufeind,"",2013-09-18 03:28,Cache,"",2013-03-31,"","",0,2013-03-31 14:06,"","",1091850,"","","APCu is just the user-data part of APC,
providing the same API.

If installed it currently identifies itself
as both ""apcu"" and ""apc"" (for compatibility).
Thus if ""apcu"" shows up, we actually have an APC
without opcache-support.


Added in TYPO3 CMS 6.1, so it would be great if you could adopt something similar as well."
46862,TYPO3.Flow,Bug,"",Resolved,Should have,generateUUID can be broken by seeding mt_rand,Christian Jul Jensen,Christian Jul Jensen,2013-04-23 05:36,Utility,"",2013-04-02,"","",100,2013-04-02 09:12,"","",1093750,"",Git master,"If any code seeds mt_rand, the generated uuids will no longer be random, and can result in collisions on subsequent runs"
46872,TYPO3.Fluid,Task,"",Resolved,Should have,Drop incomplete tests,Anja Leichsenring,Bastian Waidelich,2013-08-23 04:58,"","",2013-04-02,"","",100,2013-04-02 15:59,"","",1094250,"","",After some discussion with Sebastian Kurfuerst we decided to drop the incomplete marked tests in both CMS and Flow Fluid.
46883,TYPO3.Flow,Bug,"",Resolved,Must have,Custom identifiers are not working anymore,Bastian Waidelich,Bastian Waidelich,2013-04-09 09:36,Persistence,2.0,2013-04-03,"","",100,2013-04-03 05:00,"","",1094800,"",Git 2.0,"https://review.typo3.org/#/c/18954/ introduced a regression that prevents entities with custom identifier columns to be working correctly.
The actual issue is probably, that the ""PersistenceMagicAspect"" introduces the ""Persistence_Object_Identifier"" even if the entity contains a custom identifier. By checking for that property first, *PersistenceManager::getIdentifierByObject()* will always return a UUID regardless of the actual identifier ? breaking links and such."
46910,TYPO3.Flow,Feature,"",New,Should have,Composer integration - PackageStates.php,Patrick Pussar,"",2013-05-21 07:28,"","",2013-04-04,"","",0,2013-04-04 07:15,"","",1096150,"","","It seems that composer packages without autoload.psr-0 definition in its composer.json are not integrated correctly in Configuration/PackageStates.php which results in class not found exceptions.

E.g. using https://github.com/leafo/lessphp
composer.json: 
<pre>
   ""autoload"": {
        ""classmap"": [""lessc.inc.php""]
    },
</pre>

result in PackageStates.php:
<pre>
 'leafo.lessphp' =>
    array (
      'manifestPath' => '',
      'composerName' => 'leafo/lessphp',
      'state' => 'active',
      'packagePath' => 'Libraries/leafo/lessphp/',
      'classesPath' => 'Classes/',
    ),
</pre>
The classpath is wrong in that case. Correct would be 'classPath'=>'',"
46974,TYPO3.Flow,Bug,"",Accepted,Should have,Original and Proxy class in one file makes it difficult to reach 100% code coverage for functional tests,Christian Müller,Christian Müller,2013-05-21 07:28,Object,"",2013-04-06,"","",0,2013-04-06 06:23,"","",1099350,"",Git master,If we decide to fix it we could compile two files as before in Testing context(s) and keep the new behavior for Development and Production.
47006,TYPO3.Fluid,Bug,"",New,Should have,widget identifier are not unique,Christoph Bauer,"",2014-11-25 07:18,"","",2013-04-06,"","",0,2013-04-06 17:58,"","",1100950,"",(any),"currently widget identifiers are unique only within the scope of a single plugin, but not the whole called page. 
I tried using multiple instances of the same plugin - all using the paginate widget - on the same page, but since all paginate widgets get the same identifier, this has some unwanted side-effects (switching the shown page of one paginate widget affects all other widgets too etc.)
"
47052,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Clear doctrine caches after migration applied,Christian Müller,"",2013-04-08 12:30,"","",2013-04-08,"","",0,2013-04-08 12:30,"","",1103250,"",Git master,After applying a migration we should delete doctrine caches to not run cached queries that are using no longer existing fields (or don't select new fields).
47054,TYPO3.Flow,Bug,"",Resolved,Should have,IntegerConverter not found for properties annotated with @var int,Philipp Maier,Philipp Maier,2013-04-30 11:36,Property,"",2013-04-08,"","",100,2013-04-08 14:59,"","",1103350,"",Git master,"Attached you can find an working example package. The properties (and setter methods) in the DTO are annotated as 'int'.
On submitting the form, no suitable converter can be found. If the property is annotated with 'integer' it works as expected.

This should (imo) also work for 'int'.

The exact error message is:
<pre>#1297759968: Exception while property mapping for target type ""TypeConverter\Test\Domain\Model\DTO\IntegerConverter"", at property path ""someProperty"": No converter found which can be used to convert from ""string"" to ""int"".</pre>"
47058,TYPO3.Flow,Bug,"",Resolved,Should have,Error 500 when using f:translate with source attribute when translation catalog empty,piotr ,Adrian Föder,2013-07-16 09:37,I18n,2.0.1,2013-04-09,"","",100,2013-04-09 04:01,"","",1103550,"",Flow 2.0.0 beta 1,"Got an error:
PHP Fatal error:  Allowed memory size of 536870912 bytes exhausted (tried to allocate 146 bytes) in (...)/Packages/Libraries/doctrine/common/lib/Doctrine/Common/Util/Debug.php on line 111

When using:
<f:translate id=""translation.id"" package=""some.package"" source=""CatalogName"">some text</f:translate> and there is no translation units in catalog file:

<?xml version=""1.0""?>
<xliff version=""1.2"" xmlns=""urn:oasis:names:tc:xliff:document:1.2"">
        <file original="""" source-language=""en"" target-language=""de"" datatype=""plaintext"">
                <body>
				
                </body>
        </file>
</xliff>

Exception file gives:
80 TYPO3\Flow\Error\ErrorHandler::handleError(8, ""Undefined index: translationUnits"", ""(...)Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_I18n_Xliff_XliffModel_Original.php"", 123, array|2|)

"
47073,TYPO3.Flow,Bug,"",New,Must have,Cookie causes Error after Update,Bernd Helbig,"",2014-12-16 05:59,Http,"",2013-04-09,"","",0,2013-04-09 09:06,"","",1104300,"",(any),"<pre>
Notice: Undefined offset: 1 in /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Headers.php on line 433 
Fatal error: Uncaught exception 'InvalidArgumentException' with message 'The parameter ""name"" passed to the Cookie constructor must be a valid token as per RFC 2616, Section 2.2.' in /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Cookie.php:105 
Stack trace: #0 /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Headers.php(434): TYPO3\Flow\Http\Cookie->__construct('', '') 
#1 /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Headers.php(128): TYPO3\Flow\Http\Headers->setCookiesFromRawHeader('') 
#2 /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Headers.php(54): TYPO3\Flow\Http\Headers->set('Cookie', '') 
#3 /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Headers.php(81): TYPO3\Flow\Http\Headers->__construct(Array) 
#4 /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Request.php(75): TYPO3\Flow\Http\He in /.../_flow/FLOW-2.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Cookie.php on line 105
</pre>

Occurance: after updating application on test-server (ftp, sql-dump) and running flow:cache:flush
Direct cause: unknown

Related Infos: Apart from the session-id, the application saves one extra cookie with a lifetime of +1 year. Manually deleting this cookie in the browser lets the application to run without error again."
47075,TYPO3.Flow,Feature,"",New,Should have,Make Exception more meaningful,Sören Rohweder,"",2013-05-21 07:28,Resource,"",2013-04-09,"","",0,2013-04-09 09:58,"","",1104400,"","","When requiring a resource with the @resource://@ protocol and the Resource Folder appears in the Path the Exception should mention that the Resource folder should be removed from path or the path should be resolved without ""Resource"" in it again.

Now only an exception is thrown stating that the resource could not be found and  for new users this is not really obvious why."
47078,TYPO3.Fluid,Bug,"",Closed,Must have,widget.uri/linkViewHelpers fail with CSRF protection,Adrian Föder,"",2013-04-10 06:07,Widgets,"",2013-04-09,"","",0,2013-04-09 10:43,"","",1104550,"",Git master,"the ViewHelper's getAjaxUri() method lacks the addition of a Csrf protection token, which results into an Access Denied exception when calling the linked action.

To me, the question is if the CsrfToken should be added in that case to the Ajax URI; or rather regard that in the \TYPO3\Flow\Security\RequestPattern\CsrfProtection."
47114,TYPO3.Flow,Bug,"",Resolved,Should have,@var annotations with included variable throw exception,Alexander Berl,Alexander Berl,2014-07-11 14:19,Property,"",2013-04-10,"","",100,2013-04-11 04:53,"","",1106350,"",Git 2.0,"Currently all @var annotations which contain whitespaces are regarded as illformed and throw a InvalidPropertyTypeException.
However, it is common - at least for 3rd party code - to write @var annotations that look as follows:

<pre>
/**
 * @var integer $number
 */
protected $number;
</pre>

A good example for this are the gedmo doctrine extensions.

Hence I suggest to parse out all variable references in the annotation before deciding on being illformed.

See ReflectionService@1231:
<pre>
$declaredType = trim(implode(' ', $this->getPropertyTagValues($className, $propertyName, 'var')), ' \\');
</pre>
instead:
<pre>
const VARIABLE_NAME_REGEX = '/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/';
...
$declaredType = implode(' ', $this->getPropertyTagValues($className, $propertyName, 'var'));
$declaredType = trim(preg_replace(self::VARIABLE_NAME_REGEX, '', $declaredType), ' \\');
</pre>"
47115,TYPO3.Flow,Bug,"",Resolved,Must have,$roleRepository not initialized correctly,Karsten Dambekalns,Karsten Dambekalns,2013-04-12 08:39,Security,2.0,2013-04-11,"","",100,2013-04-11 05:18,"","",1106400,"",Git 2.0,"The @$roleRepository@ is set ""manually"" in @initializeRolesFromPolicy()@ - only if caches are outdated. But the @$roleRepository@ is needed even if the caches are up to date, so this breaks (one way to see the effect is to try and create a Neos user on the CLI)."
47137,TYPO3.Flow,Feature,"",Resolved,Should have,HTTP method tunneling,Bastian Waidelich,Bastian Waidelich,2013-04-17 11:36,Http,2.0,2013-04-11,"","",100,2013-04-11 13:20,"","",1107500,"","","Due to limited support in browsers or restrictive firewalls, Flow should allow HTTP request methods to be overridden by the client.

For *POST* requests the request method is overridden if

* a post argument *__method* is set OR
* if the header *X-HTTP-Method-Override* is present OR
* if the header *X-HTTP-Method* is present

(first rule applies in the order specified)

Example DELETE form:
<pre>
<code class=""html"">
<form method=""POST"">
  <input type=""hidden"" name=""__method"" value=""DELETE"" />
</form>
</code>
</pre>"
47188,TYPO3.Fluid,Bug,"",Resolved,Should have,Fluid tries to render folders as templates partials and layouts,Marc Bastian Heinrichs,Bastian Waidelich,2014-12-16 04:55,View,"",2013-04-13,"","",100,2013-04-13 09:18,"","",1110050,"",FLOW3 1.0.0,"The file_exists check in TemplateView is true also for folders. This leads to unrendered partials with resorted paths.

Solution: add additional is_dir check
"
47191,TYPO3.Flow,Feature,"",Under Review,Should have,Make (property) Validators aware of parent class and the property they belong to,Alexander Berl,"",2015-02-13 12:25,Validation,"",2013-04-13,"","",0,2013-04-13 10:52,"","",1110200,"","","In my RFC #39788 I proposed a NotExistsValidator, which checks that no object with the same property as the annotated value exists in a specific repository.
This is needed for example when validating that an email or username doesn't yet exist during registration.

Such an validator however is not possible without providing all validators with some kind of reflection/information on their parent class and the property they belong to.

Another possible enhancement would be for Validators that depend on the value of sibling properties - i.e. a validator for ""repeat e-mail/password"" functionality.
For this however, the validators need to be aware of not only the parent class name, but the concrete instance of the parent class. This information however is only available at the invocation of the validate function.

Together, those additions would allow for much more flexible validators to be written, like the named above.


A possible solution for this would be to provide getters/setters for both ValidatedParentObject and ValidatedProperty, which are set before invocation of the GeneralObjectValidator property validators. Likewise, the collection/conjunction/disjunction validators would need to forward their own ValidatedParentObject/ValidatedProperty to the children validator instances.

However, for singleton validators to work reliably with those properties, they need to be *unset* every time after the _validate()_ call, which makes everything look a bit ugly. I'm open for suggestions on a nicer solution for that.
Another open point is which, if any, of those methods should go into the ValidatorInterface."
47220,TYPO3.Flow,Bug,"",Resolved,Must have,Flow fails with new versions of symfony/console and doctrine/annotations,Christopher Hlubek,Christopher Hlubek,2013-04-14 18:02,"","",2013-04-14,"","",0,2013-04-14 18:00,"","",1111650,"",Flow 2.0.0 beta 1,"Following the Quickstart steps the Flow 2.0.0-beta1 does not run anymore due to updated dependencies.

*Steps taken:*

<pre>
composer create-project --dev --keep-vcs typo3/flow-base-distribution Quickstart 2.0.x-dev
cd Quickstart
./flow
</pre>

*Error:*

<pre>
Uncaught Exception
  Execution of subprocess failed with exitcode ""255"" and output:


  Fatal error: Class 'Symfony\Component\EventDispatcher\Event' not found in
  .../Quickstart/Packages/Libraries/symfony/console/Symfony/Component/Console/Event/ConsoleEvent.php
  on line 25
</pre>

This seems to be an issue introduced by a recent @symfony/console@ update. Could be fixed by excluding everything in @Symfony\Component\Console@ or requiring @symfony/event-dispatcher@ explicitly.

*Next error:*

Fixing that brings just another error:

<pre>
  Fatal error:
  Doctrine\Common\Annotations\AnnotationRegistry::registerFile(): Failed
  opening required
  '.../Quickstart/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/Annotation/IgnoreAnnotation.php'
  (include_path='.:/opt/local/lib/php54/pear') in
  .../Quickstart/Packages/Libraries/doctrine/annotations/lib/Doctrine/Common/Annotations/AnnotationRegistry.php
  on line 59
</pre>

Only classes from @Doctrine.Common@ are ignored, but that package got split into @doctrine/annotations@ and other packages.  So we should also exclude everything in package @doctrine.annotations@."
47228,TYPO3.Flow,Feature,"",Resolved,Should have,Allow doctrine event listeners to be configured,Alexander Berl,Alexander Berl,2013-07-16 16:36,Persistence,"",2013-04-15,"","",100,2013-04-15 05:48,"","",1112050,"","","The gedmo doctrine behavioral extensions depend on the doctrine event listener system to be configured when setting up the entity manager.
This is currently not possible in Flow, but could easily be handled via configuration.

I therefore suggest adding a new configuration setting TYPO3.Flow.doctrine.eventSubscribers which is a list of classes that extend
\Doctrine\Common\EventSubscriber and are to be registered with the doctrine event manager inside the entityManagerFactory."
47229,TYPO3.Flow,Bug,"",Resolved,Must have,System roles become namespaced in configuration manager,Adrian Föder,Adrian Föder,2013-04-15 09:35,"","",2013-04-15,"","",100,2013-04-15 06:04,"","",1112100,"",Git master,"the system roles, Everybody and Anonymous, get a namespace and become, for example, TYPO3.TYPO3CR:Everybody in the ACLs section. This can easily be seen when calling @./flow configuration:show --type Policy@ on a Neos project.
I'll provide a patch (suggestion)."
47232,TYPO3.Flow,Bug,"",Resolved,Must have,Property mapping fails for Account::roles,Philipp Maier,Philipp Maier,2013-04-16 06:36,Property,2.0,2013-04-15,"","",100,2013-04-15 07:33,"","",1112250,"",Git master,"Hi,

following error is thrown when the PropertyMapper tries to map the roles.

<pre>
#1297759968: Exception while property mapping for target type ""SomeModel"", at property path ""accounts.0"": Catchable Fatal Error: Argument 1 passed to TYPO3\Flow\Persistence\Doctrine\Proxies\__CG__\TYPO3\Flow\Security\Account::setRoles() must be an array, object given.
</pre>

This is mainly because the typehint in the function setRoles is <array> while the property itself is annotated as Doctrine Collection.
Changing the typehint to \Doctrine\Common\Collections\Collection seems to fixes this problem."
47233,TYPO3.Flow,Bug,"",Resolved,Should have,Fatal error caused by use statement in DebugExceptionHandler,Karsten Dambekalns,Karsten Dambekalns,2013-04-16 03:52,Error,2.0,2013-04-15,"","",100,2013-04-15 07:42,"","",1112300,"",Git 2.0,"I see this with 2.0 in Production context:

<pre>Fatal error: Cannot use TYPO3\Flow\Exception as Exception because the name is already in use in ?/Classes/TYPO3/Flow/Error/DebugExceptionHandler.php on line 15</pre>
"
47236,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Error at offset 6279 of 6338,Philipp Maier,"",2014-02-14 03:35,"","",2013-04-15,"","",0,2013-04-15 07:47,"","",1112450,"",Git master,"Hi,

each time I clear the cache with <pre>flow:cache:flush --force</pre> and reload, I'm first redirected to the login page (good) but then following error is thrown.

<code>
#1: Notice: unserialize() [<a href='function.unserialize'>function.unserialize</a>]: Error at offset 6279 of 6338 bytes in /path/to/flow/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Cache/Frontend/VariableFrontend.php line 84
</code>

After clearing the cache again, the error is gone and I can view the login page and continue.

I've absolutely no clue what causes this."
47249,TYPO3.Flow,Bug,"",Closed,Should have,Uncaught Exception in ActionController,Marco Falkenberg,"",2013-05-21 07:13,MVC,"",2013-04-15,"","",0,2013-04-15 10:59,"","",1113100,"",Git master,"In ActionController::getActionMethodParameters a Warning (@strpos(): Offset not contained in string@) is thrown while stripping out the 'Action' out of method names shorter than 6 characters.

<pre>
	static public function getActionMethodParameters($objectManager) {
...
			if (strpos($methodName, 'Action', strlen($methodName) - 6) !== FALSE) {
...
	}
</pre>"
47252,TYPO3.Flow,Feature,"",Resolved,Must have,"Skip CSRF protection and persistence for ""safe"" request methods",Robert Lemke,Robert Lemke,2013-04-17 10:35,MVC,2.0,2013-04-15,"","",100,2013-04-15 11:53,"","",1113250,"","","By definition, GET / HEAD requests should be considered ""safe"", that is, they should only be used for retrieval and not have any state side effects on the server side (http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html).

We should support and enforce this principle by turning off the automatic persistAll() call and skip CSRF protection for GET requests.

In later versions we can further optimize Flow to take advantage of the knowledge that a request is considered to be read-only (possibly speeding up persistence, security etc.)."
47253,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,Flow Exception shouldn't be in use statement,Christian Müller,Christian Müller,2013-04-15 12:35,"","",2013-04-15,"","",100,2013-04-15 12:05,"","",1113300,"",Git master,"Change Ib0d208a0b7750a8a2d15cf5af98b8bd2d20d3c46 introduced a regression due to ""use TYPO3\Flow\Exception"" which clashes with PHPs Exception."
47255,TYPO3.Flow,Bug,"",Resolved,Should have,Cache is not flushed for changes in sub routes,Bastian Waidelich,Bastian Waidelich,2013-06-05 07:36,MVC - Routing,2.0.1,2013-04-15,"","",100,2013-04-15 12:25,"","",1113400,"",(any),"The cache manager only checks changes in ""Routes.yaml"" files but it should also consider all ""Routes.*.yaml"" files."
47271,TYPO3.Flow,Bug,"",Closed,Should have,Advices for parent class' methods throw warning when called in subclass,Andreas Wolf,"",2014-12-15 07:05,AOP,2.0.1,2013-04-16,"","",0,2013-04-16 05:06,"","",1114200,"",Git master,"I have a structure with a parent class and several subclasses. I want a before advice for all set* methods of these classes.

Some methods from the parent class are invoked on objects of the subclass.
When having the advice before the set* methods, the following error occurs:

<code php>
Notice: Undefined property: MyPackage\Domain\Model\MySubclass::$Flow_Aop_Proxy_targetMethodsAndGroupedAdvices in .../Data/Temporary/Development/Cache/Code/Flow_Object_Classes/MyPackage_Domain_Model_MyClass.php line 629
</code>

where @MyClass@ is the parent class of @MySubclass@.

The reason seems to be that the AOP properties of a class are marked as ""private"", which makes them inacessible from parent (and subclass) methods. I don't know if this could/should be solved by changing the type to protected, as this might raise other issues (I'm not too deeply into the AOP code of Flow), but AFAIS this is a possible solution."
47273,TYPO3.Flow,Feature,"",New,Should have,Support mapping properties with differing types for setter and property,Karsten Dambekalns,"",2013-05-21 07:28,Property,"",2013-04-16,"","",0,2013-04-16 06:12,"","",1114300,"","","If a property and it's setter have different ""input"" types, e.g. the property is a Collection but the setter accepts an array, mapping currently fails. It would be nice if the mapping, class schema and related parts would be clever enough to support that?"
47309,TYPO3.Flow,Bug,"",Closed,Should have,Calling this in static context in cached classes,Wouter Wolters,"",2013-04-25 03:36,"",2.0,2013-04-17,"","",0,2013-04-17 05:22,"","",1115950,"",Git 2.0,"When updating TYPO3 Flow 2.0 to the newest commit there is an Fatal error calling $this in static context.
For example the function ""static public function getActionMethodParameters"" is calling $this inside it's function.

After bisecting with git I found out that the problem is in commit:6d56d5f7

Running on the commit before this merge TYPO3 Flow is working."
47325,TYPO3.Flow,Bug,"",Under Review,Should have,ReflectionData and classSchema caches need not be freezable,Alexander Berl,"",2013-05-21 07:08,Reflection,2.0.1,2013-04-17,"","",0,2013-04-17 09:32,"","",1116750,"",Git master,"Currently, ReflectionData and classSchema caches call the backend->freeze() and ->isFrozen() method in production context without checking if the backend is actually a freezable backend. This prevents those caches from being used with better performing backends than FileBackend."
47331,TYPO3.Flow,Bug,"",Accepted,Must have,ObjectManager shutdown with Dependency Injection Proxy causes fatal errors,Christopher Hlubek,"",2013-05-21 07:06,Object,2.0.1,2013-04-17,"","",0,2013-04-17 13:43,"","",1117000,"",Git 2.0,"I observed this when testing an application through Behat as a normal result that returned a 500 status code. Must be introduced between 903271f and f5b5024.

<pre>
Uncaught exception in line 398 of .../FlowRoot/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Object/ObjectManager.php: Object not found - See also: 2013
04171927569fb730.txt

----

Uncaught exception in line 398 of .../FlowRoot/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Object/ObjectManager.php: Object not found

8 SplObjectStorage::offsetGet(TYPO3\Flow\Object\DependencyInjection\DependencyProxy)
7 TYPO3\Flow\Object\ObjectManager::shutdown(""Runtime"", ""TYPO3\Flow\Core\Bootstrap::bootstrapShuttingDown"", ""TYPO3\Flow\Core\Bootstrap::bootstrapShuttingDown"")
6 call_user_func_array(array|2|, array|3|)
5 TYPO3\Flow\SignalSlot\Dispatcher::dispatch(""TYPO3\Flow\Core\Bootstrap"", ""bootstrapShuttingDown"", array|1|)
4 TYPO3\Flow\Core\Bootstrap::emitBootstrapShuttingDown(""Runtime"")
3 TYPO3\Flow\Core\Bootstrap::shutdown(""Runtime"")
2 TYPO3\Flow\Http\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>"
47339,TYPO3.Flow,Feature,"",Needs Feedback,Could have,Allow RequestHandlers to get the current Request injected,Alexander Berl,Alexander Berl,2013-05-21 07:28,Http,"",2013-04-18,"","",0,2013-04-18 04:51,"","",1117400,"","","As a proxy service, I want to provide my own eager RequestHandler which might modify the request headers depending on some conditions and then forward that request to the default RequestHandler.

One solution could be to add an optional $request parameter to the handleRequest() function, which is used when given and else a new request is created from the environment."
47346,TYPO3.Flow,Task,"",Resolved,Should have,Configuration schema for doctrine cacheImplementation still exists,Alexander Berl,"",2013-05-22 15:36,Configuration,2.0,2013-04-18,"","",100,2013-04-18 07:36,"","",1117750,"","","In http://forge.typo3.org/projects/package-typo3-flow3/repository/revisions/5e5ebf31970c572b49fc73f87832f351248f899f the setting TYPO3.Flow.persistence.doctrine.cacheImplementation was removed, however the schema still contains it as required option, hence configuration validation fails currently."
47363,TYPO3.Fluid,Bug,"",Closed,Should have,Error Classes are only set for form fields in object context,Sebastian Michaelsen,"",2015-02-25 04:29,"","",2013-04-18,"","",0,2013-04-18 17:05,"","",1118600,"",(any),"Fluid won't set error classes for form fields when they are not in object context (""property"" attribute is not set).
I experienced the issue in v4 and have no FLOW running to verify it, but from looking at the code I'm pretty sure this is not v4 specific.

Here's the workaround I did for my v4 project: https://gist.github.com/smichaelsen/5416046"
47371,TYPO3.Flow,Bug,"",Resolved,Must have,If matched AOP even wraps static methods which will fail on runtime,Steffen Ritter,Steffen Ritter,2013-04-25 03:37,AOP,2.0,2013-04-19,"","",100,2013-04-19 03:50,"","",1119000,"",Git 2.0,"Runtime execution fails if a static method is wrapped with AOP code because it tries to access the instance variable $this.

Static methods have to be skipped when compiling aop proxies."
47404,TYPO3.Flow,Feature,"",New,Could have,Add getters and setters methods for introduced properties,Rafael Kähm,"",2013-05-21 07:28,AOP,"",2013-04-20,"","",0,2013-04-20 11:27,"","",1120650,"","","Currently you must introduce methods over interface introduction and then wrap introduced methods with around advice. 

Like this:
<pre><code class=""php""><?php
namespace Acme\Test\Aspect;
 
use TYPO3\Flow\Annotations as Flow;
 
use TYPO3\Flow\Reflection\ObjectAccess;

/**
 * Inject attribute to every as ""MyOwnTypeOfEntity"" annotated entity
 *
 * @Flow\Scope(""singleton"")
 * @Flow\Aspect
 * @Flow\Introduce(""Acme\Test\Aspect\PropertyIntroductionAspect->isMyOwnTypeOfEntity"", interfaceName=""Acme\Test\Aspect\PropertyIntroductionInterface"")
 */
class PropertyIntroductionAspect {

	/**
	 * @Flow\Inject
	 * @var \TYPO3\Flow\Reflection\ReflectionService
	 */
	protected $reflectionService;

	/**
	 * @Flow\Pointcut(""TYPO3\Flow\Persistence\Aspect\PersistenceMagicAspect->isEntityOrValueObject && classAnnotatedWith(Acme\Test\Annotations\MyOwnTypeOfEntity)"")
	 */
	public function isMyOwnTypeOfEntity() {}

	/**
	 * @var string
	 * @Flow\Introduce(""Acme\Test\Aspect\PropertyIntroductionAspect->isMyOwnTypeOfEntity"")
	 */
	protected $introducedProp;

	/**
	 * Around advice, implements the new method ""newMethod"" of the
	 * ""NewInterface"" interface
	 *
	 * @param  \TYPO3\Flow\AOP\JoinPointInterface $joinPoint The current join point
	 * @return void
	 * @Flow\Around(""Acme\Test\Aspect\PropertyIntroductionAspect->isMyOwnTypeOfEntity && method(.*->setIntroducedProp())"")
	 */
	public function setIntroducedPropImplementation(\TYPO3\Flow\AOP\JoinPointInterface $joinPoint) {
 		$introducedProp = $joinPoint->getMethodArgument('introducedProp');
		$proxy = $joinPoint->getProxy();

		ObjectAccess::setProperty($proxy, 'introducedProp', $introducedProp, TRUE);

		$someResult = $joinPoint->getAdviceChain()->proceed($joinPoint);
	}


}</code></pre>

Acme\Test\Aspect\PropertyIntroductionInterface
<pre><code class=""php""><?php
namespace Acme\Test\Aspect;
 
/**
 * Inject community-attribute to every class
 *
 */
interface PropertyIntroductionInterface {

	/**
	 * @param string $introducedProp some string 
	 * @return void
	 */
	public function setIntroducedProp($introducedProp);

}</code></pre>

then you can see following code in (..)/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/Acme_Test_Domain_Model_Model.php
<pre><code class=""php"">...
	/**
	 * Autogenerated Proxy Method
	 */
	 public function setIntroducedProp($introducedProp) {

				// FIXME this can be removed again once Doctrine is fixed (see fixMethodsAndAdvicesArrayForDoctrineProxiesCode())
			$this->Flow_Aop_Proxy_fixMethodsAndAdvicesArrayForDoctrineProxies();
		if (isset($this->Flow_Aop_Proxy_methodIsInAdviceMode['setIntroducedProp'])) {
		$result = NULL;

		} else {
			$this->Flow_Aop_Proxy_methodIsInAdviceMode['setIntroducedProp'] = TRUE;
			try {
			
					$methodArguments = array();

				$methodArguments['introducedProp'] = $introducedProp;
			
					$adviceChains = $this->Flow_Aop_Proxy_getAdviceChains('setIntroducedProp');
					$adviceChain = $adviceChains['TYPO3\Flow\Aop\Advice\AroundAdvice'];
					$adviceChain->rewind();
					$joinPoint = new \TYPO3\Flow\Aop\JoinPoint($this, 'Acme\Test\Domain\Model\Model', 'setIntroducedProp', $methodArguments, $adviceChain);
					$result = $adviceChain->proceed($joinPoint);

			} catch (\Exception $e) {
				unset($this->Flow_Aop_Proxy_methodIsInAdviceMode['setIntroducedProp']);
				throw $e;
			}
			unset($this->Flow_Aop_Proxy_methodIsInAdviceMode['setIntroducedProp']);
		}
		return $result;
	}
...</code></pre>

as you can see there are to many steps and to many operations to add a simple getter and setter methods.

my suggestion:
*add options to* _TYPO3\Flow\Annotations\Introduce_ :
*addGetterIntroduction* or *addSetterIntroduction* for manually method introductions
*skipGetterIntroduction* or *skipSetterIntroduction* for automatically method introductions"
47416,TYPO3.Flow,Bug,"",Resolved,Must have,PolicyService needs hasRole(),Christian Müller,Karsten Dambekalns,2013-04-22 04:35,Security,2.0,2013-04-21,"","",100,2013-04-21 17:18,"","",1121250,"",Git 2.0,""
47419,TYPO3 Flow Base Distribution,Bug,"",New,Must have,Composer issues,Rens Admiraal,"",2013-08-14 09:34,"",2.0.1,2013-04-22,"","",0,2013-04-22 02:07,"","",1121400,"",Git master,"It seems like composer has some issues. I've heard multiple projects now where the following happens:

composer --dev update: works ok
composer install: installs framework packages in Packages/Libraries

besides that the command in the quickstart docs (composer create-project --dev --keep-vcs typo3/flow-base-distribution Quickstart 2.0.0) doesn't seem to work anymore (can't find package with version..... )"
47423,TYPO3 Flow Base Distribution,Task,"",Under Review,Could have,Decouple TYPO3.Party from Flow,Christian Müller,Christian Müller,2013-04-22 03:34,"","",2013-04-22,"","",0,2013-04-22 03:21,"","",1121600,"","",In order to make leaner distributions possible TYPO3.Flow should ship with a Party signature Interface so that you can implement your own party based on that. This enables us to remove the requirement on Party in Flow.
47429,TYPO3.Flow,Bug,"",New,Should have,Global policy files no longer allowed,Thomas Hempel,"",2013-07-14 13:20,Security,"",2013-04-22,"","",0,2013-04-22 07:13,"","",1121900,"",Git master,"Since one of the last changes, global policy files are no longer allowed. After a discussion on the IRC channel, this seems to be a bug.

All that should be checked is wether or not a role is defined in that Policy file not if it exists as it makes sense to configure the acls on installation base. 

Other than that, this check should not be executed if the security is disabled at all which it is in my case."
47456,TYPO3.Flow,Feature,"",New,Should have,ManyToOne and OneToOne Relations of Objects passed as Action Argument are loaded automatically,Benno Weinzierl,"",2013-08-28 09:11,Validation,"",2013-04-22,"","",0,2013-04-22 16:34,"","",1123200,"","","All ManyToOne and OneToOne Relations of Objects passed as Action Argument are loaded automatically by the Validator (circumventing the lazy loading).

This results in several querries even if no relations are accessed in the action.

I think robert mentioned that validation will be at some point totally skipped for safe methods which will resolve this to some extend. But even for unsafe methods it may be the case that objects from database which are not modified should not be validated.



"
47469,TYPO3.Flow,Bug,"",Resolved,Must have,ActionController issues PHP warning if it contains methods with short names,Robert Lemke,Robert Lemke,2013-04-23 04:36,MVC,2.0,2013-04-23,"","",100,2013-04-23 03:46,"","",1123850,"",Flow 2.0.0 beta 1,"If an ActionController implementation contains a method which has a name shorter than 7 characters, the new static methods for validation building will issue a warning because they use substr() with out of bounds indexes."
47473,TYPO3.Flow,Bug,"",Resolved,Must have,Role->setParentRoles() fails if array of roles contains duplicates,Robert Lemke,Robert Lemke,2013-04-23 05:36,Security,2.0,2013-04-23,"","",100,2013-04-23 04:59,"","",1124050,"",Flow 2.0.0 beta 2,"If the array of roles contains duplicates, Doctrine may fail while trying to insert the same role multiple times:

<pre>
Uncaught Exception in Flow
An exception occurred while executing 'INSERT INTO typo3_flow_security_policy_role_parentroles_join (flow_policy_role, parent_role) VALUES (?, ?)' with params {""1"":""Acme.Demo:Administrator"",""2"":""Acme.Demo:Base""}: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'Acme.Demo:Administrator-Acme.Demo:Base' for key 'PRIMARY'

Doctrine\DBAL\DBALException thrown in file
Packages/Libraries/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php in line 47.
</pre>"
47487,TYPO3.Flow,Bug,"",New,Should have,Functional test classes in package without classes are not compiled,Christopher Hlubek,"",2013-05-21 06:19,Core,2.0.1,2013-04-23,"","",0,2013-04-23 05:59,"","",1124750,"",Git master,Additionally there is an error if only a Exception class is present in @Classes@.
47500,TYPO3.Flow,Bug,"",Resolved,Should have,createRole: Role is not passed as object to repository,Christopher Hlubek,Christopher Hlubek,2013-04-26 05:37,"","",2013-04-23,"","",100,2013-04-23 11:00,"","",1125400,"",Git master,"This causes an error when adding roles through the PolicyService createRole method:

<pre><code>
Fatal error: Call to a member function getIdentifier() on a non-object in .../TYPO3_Flow_Security_Policy_RoleRepository.php
</code></pre>"
47534,TYPO3.Flow,Bug,"",Resolved,Must have,Algorithms::generateUUID() creates uppercase characters in UUIDs,Karsten Dambekalns,Karsten Dambekalns,2013-04-26 06:35,Utility,2.0,2013-04-24,"","",100,2013-04-24 03:36,"","",1127050,"",Flow 2.0.0 beta 2,"The UUIDs generated by that method were always lowercase, now they are uppercase. As soon as you do a case-sensitive comparison on those UUIDs as strings, this will now break, even if the UUIDs are the same semantically."
47551,TYPO3.Flow,Feature,"",Rejected,Should have,Allow usage of links for destructive actions again,Alexander Berl,"",2013-05-21 06:19,Http,2.0,2013-04-24,"","",0,2013-04-24 09:33,"","",1127900,"","","With the new changes that prevent unsafe methods to be destructive (no persistence), it is currently impossible to create action links, that execute unsafe methods.

A use case would be a backend of some sort, where you have a list of ""products"" (or other entities), each with a set of icons linking to methods such as ""copy"", ""rename"", ""delete"", etc.
As it is, one would have to create a form for each such action, having to deal with lots of html overhead and bad stylability or use javascript/XHR to work around that. In any way, it's a cumbersome solution to such a common requirement.

I therefore suggest, to:

- allow GET methods to tunnel other request methods
- extend the link.action viewhelper with a method parameter, which allows to override the request method through the request method tunneling feature
- add csrf token to action links automatically, if the overridden method is unsafe

This would allow unsafe action links to be generated explicitly (thus conciously) but still without too much boilerplate work.

Please give feedback."
47601,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Template Path of Submodules contains lowercase Namespace,Carsten Bleicker,"",2013-04-26 08:33,"","",2013-04-26,"","",0,2013-04-26 08:33,"","",1130350,"",Git master,"Having a Submodule My.Shop/Admin the path for templates results in:
resource://My.Shop/Private/Templates/admin/Article/Index.html

Shouldnt the /admin/ be /Admin/?"
47637,TYPO3 Flow Base Distribution,Bug,"",New,Should have,"Property with @ORM\Column(nullable=true,type=""decimal"",scale=2) results as type ""string"" in Collection Objects and not as expected as ""double""",Carsten Bleicker,"",2013-04-27 06:14,"","",2013-04-27,"","",0,2013-04-27 06:14,"","",1132150,"",Git master,"having a value object:
/**
 * A Price Value
 *
 * @Flow\ValueObject
 */
class Price{

	/**
	 * @var float
	 * @FLOW\Validate(type=""NotEmpty"")
	 * @ORM\Column(nullable=true,type=""decimal"",scale=2)
	 */
	protected $value;

	/**
	 * @param float $value
	 */
	public function __construct($value) {
		$this->value = $value;
	}

	/**
	 * @return float
	 */
	public function getValue() {
		return $this->value;
	}
}


anything works fine until this:
in a doctrine collection wich contains prices, the type of property $value is ""string"" and not of type ""double"".
so the following fails: if($this->prices->contains($newPriceWithSameValue)) because property $value of ""newPriceWithSameValue"" is type of ""double"".

"
47638,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Delete a ValueObject by its identity,Carsten Bleicker,"",2013-04-27 07:14,"","",2013-04-27,"","",0,2013-04-27 07:14,"","",1132200,"",Git master,"having a controller action wich receives a valueobject by get arguments:
&myValueObject['__identity']=abcdef
this results in an exception: Creation not allowed?
the arguments are generated by <f:link.action ... arguments=""{myValueObject:myValueObject}"">
if it is an entity anything works as expected."
47669,TYPO3.Fluid,Task,"",New,Should have,FormViewHelper does not define the default request method,Alexander Berl,"",2013-04-28 10:39,"","",2013-04-28,"","",0,2013-04-28 10:39,"","",1133700,"","","Currently, the default value for the FormViewHelper attribute _""method""_ is *NULL*, resulting in the output form attribute value _""post""_. This could possibly lead to strange behaviour in the code when checking for the method attribute value (*NULL* will actually evaluate to *TRUE* for both checking if _method_ !== 'get' and _method_ !== 'post') and also contradicts the HTML specification for forms, which sets the *default method* to *""get""*:

see http://www.w3.org/TR/html401/interact/forms.html#h-17.3 and http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#attr-fs-method

This is a concern especially since the *CSRF* change, which only appends the token on non-GET method and validating the output in the Viewhelpertest package.

I hence suggest setting the *default value* for the method attribute to *'get'* - *or* if a breaking change is to be avoided at least set it do *'post'*."
47674,TYPO3.Fluid,Bug,"",Resolved,Should have,HtmlentitiesViewHelper is scope singleton,Alexander Berl,Alexander Berl,2014-08-26 11:03,ViewHelpers,2.0.1,2013-04-28,"","",100,2013-04-28 14:43,"","",1133950,"",Git master,"The HtmlentitiesViewHelper currently is scoped singleton, why all other format ViewHelpers are of scope prototype. This leads to weird behaviour when using the ViewHelper multiple times within one template and a partial. See the related bug for more information."
47675,TYPO3.Flow,Bug,"",Resolved,Should have,PSR-0 compatible classes using underscore cannot be loaded,Karsten Dambekalns,Karsten Dambekalns,2013-05-01 06:37,Core,2.0,2013-04-28,"","",100,2013-04-28 15:41,"","",1134000,"",Flow 2.0.0 beta 2,"PSR-0 mandates that backslashes *and* underscores be translated to directory separators when loading classes. This is not done in our ClassLoader, thus packages that otherwise are compatible (composer / PSR-0) are not usable."
47725,TYPO3.Flow,Bug,"",Resolved,Could have,BCrypt hashing should support migration of older costs,Christopher Hlubek,Christopher Hlubek,2014-07-11 14:19,Security,2.0.1,2013-04-30,"","",100,2013-04-30 05:24,"","",1136450,"",Git master,"In the current implementation of the @BCryptHashingStrategy@ a password is hashed with @crypt@ and the hash contains the algorithm and parameters with the salt that was used to hash the password.

During validation only the salt is taken from the hashed password, so the cost parameter has to match the original cost. This is very problematic if the cost needs to be changed during the lifetime of a project. A high cost means slow logins but more securely hashed passwords.

The hashing strategy should be able to validate an existing hash with a different cost for migration of password hashes and updates to the cost parameter during the lifetime of a project (with hardware improvements the hashing will always get cheaper during time)."
47776,TYPO3.Flow,Bug,"",Closed,Must have,Configuration is no longer correctly Merged from the various Packages,Benno Weinzierl,"",2013-05-01 06:38,Configuration,2.0,2013-05-01,"","",0,2013-05-01 02:29,"","",1139000,"",Git master,"I Noticed that since some recent change my policy yaml is completely empty. Some other Configuration Parts are missing also.

After some debugging i found out that this is due to a bug in the ConfigurationManager (Around Line 382). The configuration gets merged package by package with Arrays::arrayMergeRecursiveOverrule() which has $emptyValuesOverride = TRUE per default.

<pre>
foreach ($packages as $package) {
					$this->configurations[$configurationType] = Arrays::arrayMergeRecursiveOverrule($this->configurations[$configurationType], $this->loadPolicyConfigurationFile($package->getConfigurationPath() . $configurationType, $package), FALSE, FALSE);
				}
</pre>

The Flag $emptyValuesOverride = TRUE leads to My Policy configuration beeing overwritten by later merged packages."
47808,TYPO3 Flow Base Distribution,Task,"",Resolved,Must have,Tweak package dependencies,Karsten Dambekalns,Karsten Dambekalns,2013-08-02 05:18,"",2.0,2013-05-02,"","",100,2013-05-02 04:10,"","",1140600,"","","The package dependencies need to be tweaked so that

* tagged releases are used where possible
* the beta does no longer need minimum-stability: dev
* useless dependencies are removed"
47809,TYPO3.Flow,Bug,"",Resolved,Should have,Access to undefined index when an inheritance chain member is not an Entity,Adrian Föder,Adrian Föder,2014-07-11 14:19,Reflection,2.0.1,2013-05-02,"","",100,2013-05-02 04:24,"","",1140650,"",Git master,"It comes to an exception like this,

<pre>
#1355480641: Uncaught Exception Notice: Undefined index: TYPO3\Media\Domain\Model\ImageVariant in Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Reflection\ReflectionService.php line 1461
</pre>

This is because of these lines,
<pre><code class=""php"">
	protected function makeChildClassesAggregateRoot(\TYPO3\Flow\Reflection\ClassSchema $classSchema) {
		foreach ($this->getAllSubClassNamesForClass($classSchema->getClassName()) as $childClassName) {
			if ($this->classSchemata[$childClassName]->isAggregateRoot()) {
				continue;
</code></pre>

In the given case, the ImageVariant inheritance looks like the following:

<pre>
Asset (@Entity)
  - SizedAsset (@Entity)
    - ImageVariant (NOT an @Entity!)
</pre>

The above mentioned method searches in ->classSchemata for the ImageVariant, but as of convention, classSchemata is ""Schemata of all classes which can be persisted"", so ImageVariant is not there of course, leading to the exception."
47818,TYPO3.Welcome,Bug,"",New,Must have,Wrong link on Welcome screen,Rafael Kähm,"",2013-05-02 06:01,"","",2013-05-02,"","",0,2013-05-02 06:01,"","",1141100,"",Git master,"There are ""Known issues"" and ""Report a bug"" wrong."
47858,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Remove .htaccess from Composer Installer Essentials,Christopher Hlubek,Christopher Hlubek,2013-08-14 09:35,Package,2.0.1,2013-05-03,"","",0,2013-05-03 03:48,"","",1143100,"",Git master,"It's very hard to tweak @mod_rewrite@ rules if the @.htaccess@ file is not under control of the user. It's a little bit harder to update the file to a new version, but now it's impossible to provide a custom @.htaccess@ with a default deployment without any workarounds.

Also to tweak the @.htaccess@ rules we should stop rewriting if URLs for @/apple-touch-icon-*.png@ are requested, since this will clutter the log and should be treated like the @favicon.ico@ file."
47859,TYPO3.Flow,Task,"",Accepted,Should have,Logging: Do not log all decisions in \TYPO3\Flow\Security\Aspect\LoggingAspect,Christopher Hlubek,Robert Lemke,2013-08-14 10:10,Security,"",2013-05-03,"","",0,2013-05-03 05:38,"","",1143150,"","",Logging all decisions for @decideOnJoinPoint()@ and @decideOnResource()@ is way to much if these decisions are used conditionally (e.g. for the UI). This could end up with a lot of log entries (and of course some overhead).
47948,TYPO3.Flow,Feature,"",Closed,Should have,support for resource references,Alex no-lastname-given,"",2013-05-21 05:54,Resource,"",2013-05-05,"","",0,2013-05-05 10:28,"","",1147600,"","","It is not always suitable to download and import external resources, which are for example accessible over http: Large video collections are normally located on different servers. Another example is the reference of research publications which are already accessible over an persistent uri.

""It is important to completely ignore the fact that resources are stored as files somewhere in TYPO3 Flow's directory structure ? you should only deal with resource objects.""
Following this note of the documentation, i would suggest, to completely ignore the fact where resources are stored (including remote files)."
47950,TYPO3.Flow,Bug,"",New,Should have,import of remote resources,Alex no-lastname-given,"",2013-05-21 05:52,Resource,2.0.1,2013-05-05,"","",0,2013-05-05 10:36,"","",1147700,"",Flow 2.0.0 beta 2,"ResourceManager::importResource($uri) allows the import of resources from a supplied url. The import fails, if an url with get-parameter is supplied, because pathinfo() do not parse this url correctly.

e.g.
works fine: http://forge.typo3.org/images/headerimages/16.jpg
import fails: http://forge.typo3.org/images/headerimages/16.jpg?sampleParameter=sampleValue"
47951,TYPO3.Flow,Feature,"",New,Should have,Warn if persistence stack is not empty at the end of a get-request,Alex no-lastname-given,"",2013-05-21 07:28,Persistence,"",2013-05-05,"","",0,2013-05-05 10:44,"","",1147750,"","","Because the flow framework follows a rfc-standard, persistanceManager::persistAll() is not executed automatically for a get request. The framework should at least throws an exception if the persistance stack is not empty at the end of a get request."
47968,TYPO3.Fluid,Bug,"",Resolved,Could have,Resource Interceptor should declare objectManager that it is using,Christian Müller,Christian Müller,2013-06-24 05:37,"",2.0,2013-05-06,"","",100,2013-05-06 03:05,"","",1148550,"",(any),The Resource Interceptor uses an injected objectManager that it doesn't declare as property.
47975,TYPO3.Flow,Bug,"",Resolved,Must have,initializeObject in a Entity is called at a time where no properties are loaded,Benno Weinzierl,Robert Lemke,2014-07-11 14:19,Object,2.0.1,2013-05-06,"","",0,2013-05-06 05:52,"","",1148900,"",Git master,"I have an Entity which is loaded during validation of a Action Argument. (The Action Argument is another Entity with relations to the Entity in question)

When initializeObject() is called all properties are missing and have not been loaded from persistence.

Here is the Backtrace:
https://gist.github.com/anonymous/5524256



"
47995,TYPO3.Flow,Bug,"",Closed,Should have,The method hasRole() in TYPO3/Flow/Security/Account is currently broken,Dominique Feyer,Dominique Feyer,2013-05-08 06:33,"","",2013-05-06,"","",0,2013-05-06 14:51,"","",1149900,"",Git 2.0,"Currently this code always return FALSE:

<pre>
$account->hasRole(new \TYPO3\Flow\Security\Policy\Role('Your.Package:Role')
</pre>

The hasRole method use the contains method from Doctrine ArrayCollection. Has the two object are different (even is they have the same identifier), the method return FALSE.

I propose to change this method by the same feature found in the SecurityContext hasRole method (who compore the identifer, and the full object)."
48028,TYPO3.Kickstart,Bug,"",Resolved,Should have,"Kickstarter creates ""delete links""",Bastian Waidelich,Bastian Waidelich,2013-06-25 04:36,"",2.0,2013-05-07,"","",100,2013-05-07 13:50,"","",1151500,"",Git master,"The kickstarter still creates a ""nasty delete link"" in the generated Index.html.
Those don't work any longer (see #47252)."
48030,TYPO3.Kickstart,Bug,"",Resolved,Should have,Kickstarter creates superfluous code,Bastian Waidelich,Bastian Waidelich,2013-06-24 07:37,"",2.0,2013-05-07,"","",100,2013-05-07 13:56,"","",1151600,"",Git master,The kickstarter creates a lot of code that is not needed (especially redundant doc comments)
48083,TYPO3 Flow Base Distribution,Bug,"",Closed,Must have,AbstractCompositeValidator validatedInstancesContainer grows continuosly,Tarcisio Fedrizzi,"",2013-05-10 04:27,"","",2013-05-09,"","",0,2013-05-09 05:01,"","",1154200,"",(any),"Hi,
there is a problem in the way AbstractCompositeValidators passes the validatedInstacesContainer to its children.

The code of the addValidator method says:
<pre>
  98         public function addValidator(\TYPO3\Flow\Validation\Validator\ValidatorInterface $validator) {
  99                 if ($validator instanceof ObjectValidatorInterface) {
 100                         $validator->setValidatedInstancesContainer = $this->validatedInstancesContainer;
 101                 }
 102                 $this->validators->attach($validator);
 103         }
</pre>
this is wrong because it overwrites the setValidatedInstancesContainer method of the attached validators. Moreover the code doesn't pass the validatedInstancesContainer down to the validators it contains. This causes the contained validators to create their personal instance of validatedInstancesContainer that keeps growing. This renders impossible to work on big collections of objects due to excessive memory consumption.

In the attached patch I moved the correct version of this code to the validate methods of ConjuntionValidator and DisjunctionValidator. I think that it would be safe to pass the validatedInstancesContainer in the setValidatedInstancesContainer of AbstractCompositeValidators. However given that the resolution of validator could be made more dynamic I preferred calling the setValidatedInstancesContainer just before the validation of CompositeValidators children in the validate method.

Regards,
Tarcisio Fedrizzi."
48093,TYPO3.Flow,Bug,"",New,Must have,AbstractCompositeValidators memory consumption continuously grow,Tarcisio Fedrizzi,"",2013-05-21 05:49,Validation,2.0.1,2013-05-09,"","",0,2013-05-09 11:52,"","",1154700,"",(any),"Hi,
there is a problem in the way AbstractCompositeValidators passes the validatedInstacesContainer to its children.

The code of the addValidator method says:
<pre>
  98         public function addValidator(\TYPO3\Flow\Validation\Validator\ValidatorInterface $validator) {
  99                 if ($validator instanceof ObjectValidatorInterface) {
 100                         $validator->setValidatedInstancesContainer = $this->validatedInstancesContainer;
 101                 }
 102                 $this->validators->attach($validator);
 103         }
</pre>

this is wrong because it overwrites the setValidatedInstancesContainer method of the attached validators. Moreover the code doesn't pass the validatedInstancesContainer down to the validators it contains. This causes the contained validators to create their personal instance of validatedInstancesContainer that keeps growing. This renders impossible to work on big collections of objects due to excessive memory consumption.

In the attached patch I moved the correct version of this code to the validate methods of ConjuntionValidator and DisjunctionValidator. I think that it would be safe to pass the validatedInstancesContainer in the setValidatedInstancesContainer of AbstractCompositeValidators. However given that the resolution of validator could be made more dynamic I preferred calling the setValidatedInstancesContainer just before the validation of CompositeValidators children in the validate method.

Regards,
Tarcisio Fedrizzi."
48121,TYPO3.Fluid,Bug,"",Resolved,Should have,TextareaViewHelper is missing valid html5 argument placeholder ...,Helmut Hummel,"",2013-06-05 06:06,ViewHelpers,2.0,2013-05-12,"","",100,2013-05-12 17:00,"","",1156100,"",Flow 2.0.0 beta 2,"TextareaViewHelper is missing valid html5 argument placeholder ...

Using 

<pre>
			<f:form.textfield id=""powermail_field_{field.marker}"" placeholder=""{field.title -> vh:string.RawAndRemoveXss()}"" name=""field[{field.uid}]"" value=""{vh:Misc.PrefillField(field: '{field}')}"" class=""powermail_field powermail_input {vh:Misc.ValidationClass(field: '{field}')} {vh:Misc.ErrorClass(field: '{field}', class: 'powermail_field_error')}"" required=""{field.mandatory}"" />

</pre>

with the attribute placeholder causes the exception http://typo3.org/go/exception/v4/1237823695 , what means, that the argument placeholder is not allowed."
48133,TYPO3.Flow,Bug,"",Resolved,Should have,Bug in set file permissions script,Berit Hlubek,"",2013-05-27 06:37,Command,2.0,2013-05-13,"","",100,2013-05-13 06:53,"","",1156700,"",Git master,"When I install the TYPO3Neos demo package the set file permission command doesn't work.
On the lines 55-58 the @search@ ACL is missing. After adding those the script works out fine."
48148,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Allow PropertyMapping of strings to arrays,Christian Müller,Christian Müller,2013-09-03 10:35,"","",2013-05-13,"","",100,2013-05-13 09:56,"","",1157450,"","","Primary usecase is empty string to empty array for ajax generated options where ""nothing"" is also possible, but comma delimited strings could also happen with certain UI elements."
48150,TYPO3.Flow,Task,"",Rejected,Should have,removeAll in a doctrine repository should use DQL for speed,Christian Müller,Christian Müller,2013-08-14 11:42,Persistence,"",2013-05-13,"","",0,2013-05-13 11:38,"","",1157550,"","",""
48167,TYPO3.Flow,Feature,Work Package #47905: Perfection the Party and Account Management Module,Accepted,Should have,Command line account and role browsing,Adrian Föder,Adrian Föder,2013-05-21 07:28,Security,"",2013-05-14,"","",0,2013-05-14 03:14,"","",1158400,"","","In order to see what accounts and roles are known to the system, a command line tool should be provided."
48218,TYPO3.Fluid,Feature,"",Resolved,Should have,Make NumberViewHelper regard locale like CurrencyViewHelper does.,Alexander Berl,Alexander Berl,2014-07-11 14:39,ViewHelpers,"",2013-05-15,"","",100,2013-05-15 08:24,"","",1160900,"","","Currently the NumberViewHelper doesn't regard the locale, but the CurrencyViewHelper (and DateViewHelper) does.
Those ViewHelpers should be put in line with each other regarding Locale awareness."
48231,TYPO3.Flow,Bug,"",Resolved,Should have,Ignoring of inheritance type in FlowAnnotationDriver no longer works,Karsten Dambekalns,Karsten Dambekalns,2013-08-14 09:45,Persistence,2.0,2013-05-16,"","",100,2013-05-15 19:09,"","",1161550,"",Flow 2.0.0 beta 2,"Due to weird circumstances the tests for the FlowAnnotationDriver were skipped for a while, and change Ie6e46efa858a651b2f1fe4b08d78039249504dea broke the functionality to disable inheritance of no subclasses exist for a class annotated with an @InheritanceType@ annotation."
48251,TYPO3.Flow,Task,"",Resolved,Could have,Documentation for translated validation messages is missing,Alexander Berl,Alexander Berl,2013-08-05 05:35,- Documentation -,2.0,2013-05-16,"","",100,2013-05-16 05:43,"","",1162550,"","","Currently, there is no documentation available other than the comment in http://forge.typo3.org/issues/33970 on how to properly set up translation for validation messages."
48254,TYPO3.Flow,Task,"",Resolved,Could have,Add german translations for bundled validation error messages,Alexander Berl,"",2013-08-05 05:35,Validation,2.0,2013-05-16,"","",100,2013-05-16 06:39,"","",1162700,"","",Add the german translations for the validation error messages
48290,TYPO3.Flow,Bug,"",Resolved,Could have,Browser must not directly handle cookie,Dominique Feyer,"",2014-03-19 08:38,"",2.0.1,2013-05-16,"","",100,2013-05-16 11:02,"","",1164400,"",Git master,"Currently the Browser class has a property cookies (not used), and use a wrong signature for the method Request::create (line 100). I think this property can be removed."
48296,TYPO3.Flow,Task,"",Needs Feedback,Should have,Missing method in ExceptionHandlerInterface,Marco Falkenberg,"",2013-05-21 05:39,"","",2013-05-16,"","",0,2013-05-16 11:15,"","",1164700,"","",While only implementing the ExceptionHandlerInterface the booting script fails because it tries to inject the system logger in line 177. 
48355,TYPO3.Fluid,Feature,"",New,Could have,Assign output of viewhelper to template variable for further processing.,Dave no-lastname-given,"",2013-07-06 12:05,"","",2013-05-17,"","",0,2013-05-17 11:28,"","",1167600,"","","It would be nice if it was possible to ""assign"" the output of a viewhelper to a template variable with an assign attribute for usage elsewhere in the template. When assign is set the output of the viewhelper is suppressed.

For example the template:
<pre>

<f:format.date format=""d.m.Y - H:i:s"" assign=""myDate"">\@{your_timestamp}</f:format.date>
<p>Here is my date: {myDate}</p>
<p>Here is again my date: {myDate}</p>

</pre>

Would output:
<pre>

Here is my date: 1.1.2013 - 12:00:00
Here is again my date: 1.1.2013 - 12:00:00

</pre>

I know <f:alias> exists but the kind of assignment I am suggesting would by faster to parse by not having to call the viewhelper multiple times to output the same value.

The ""assign"" should be a universal attribute to all Viewhelpers. 

Then you can do things also like this:
<pre>

<f:for each=""{myCollection}"" as=""collectionItem"" assign=""myList"">
  <f:render partial=""Some/Item""  />
</f:for>

<div class=""top list"">{myList}</div>
<div class=""content"">{myOtherContent}</div>
<div class=""bottom list"">{myList}</div>

</pre>

The advantages I think is clear when applied to looped elements. You don't have to process the same content twice or more.

"
48409,TYPO3.Flow,Feature,"",New,Could have,"Introduce new Annotation ""Slot"" for wiring signal and slots",Philipp Maier,"",2013-05-23 13:02,SignalSlot,"",2013-05-21,"","",0,2013-05-21 06:31,"","",1170300,"","","With this, the manual wiring in the Package.php could be left out so instead of doing this:
<pre>
$dispatcher = $bootstrap->getSignalSlotDispatcher();
$dispatcher->connect(
    'Some\Package\Controller\CommentController', 'commentCreated', //signal
    'Some\Package\Service\Notification', 'sendNewCommentNotification' // slot
);
</pre>

one could easily add the Slot configuration to the respective function in the Class:

<pre>
/**
 * @Flow\Slot('Some\Package\Controller\CommentController', 'commentCreated')
 * @param Comment $comment
 * @return void
 */
public function sendNewCommentNotification(Comment $comment) { ...
</pre>

Future implementations could even allow Pointcut Expressions for e. g. Domain Events <code>@Flow\Slot(""class(Some\Package\Domain\Event\SomeEvent)"")</code>

Christian Müller however pointed out that this idea has been dropped in the past for a reason he couldn't remember.
So if anyone knows why this is a bad idea, let me know. If nothing speaks against implementing this: This is more of a ""Flow-like"" API imho."
48419,TYPO3.Flow,Feature,"",Closed,Could have,Create a way to assign roles to a command controller,Henrik Møller Rasmussen,Bastian Waidelich,2014-12-18 11:41,Security,"",2013-05-21,"","",0,2013-05-21 14:04,"","",1170800,"","","Create a way to assign roles to a command controller, so access to some services or methods could be allowed for a command controller, and not anyone else.

"
48429,TYPO3.Flow,Bug,"",New,Should have,Remove- and update-actions on repository are not persisted,Mathis Hoffmann,"",2013-05-24 12:44,"","",2013-05-22,"","",0,2013-05-21 18:32,"","",1171300,"",Git master,"Updating and removing models on/from a repository fail without any error message, when persistenceManager->persistAll() is not explicitly called."
48430,TYPO3.Flow,Bug,"",New,Should have,Default validator-messages are not correctly formatted,Mathis Hoffmann,"",2013-05-21 18:36,"","",2013-05-22,"","",0,2013-05-21 18:36,"","",1171350,"",Git master,"For example I get: ""This text may not exceed %1$d characters."". The validator-annotion in this case has been ""@Flow\Validate (type=""StringLength"", options={""maximum""=15})""."
48532,TYPO3.Flow,Bug,"",Under Review,Should have,JsonView Configuration behaves differently for arrays and objects,Alexander Berl,Alexander Berl,2014-06-11 09:53,MVC,"",2013-05-25,"","",0,2013-05-25 10:09,"","",1176400,"",Git master,"Currently, the behavior for the JsonView configuration is completely different for arrays and objects, which makes configuring anything other than a simple one-level hierarchy output very hard.
See http://lists.typo3.org/pipermail/flow/2013-May/003846.html for more information.

I therefore suggest the following change to the JsonView Configuration:

- arrays and objects should be configured equally apart from the object identifier/class name options
- _only and _exclude should always take precedence and act as a whitelist/blacklist
- _descendAll should also work for objects
- simple type properties/elements should be serialized directly in both cases
- _descend should configure all other array/object properties/elements

If _descend should still act as a second level whitelist, so that all array/object values not configured there are skipped is debatable - it would be more like the current implementation, though from a user POV it is a little bit misleading as to what the difference of _only vs _descend would be.

This would lead to following breaking behaviors:

- arrays are no longer fully evaluated by default (_descend acts as whitelist) or objects are fully evaluated by default (_descend does not whitelist but only sets configuration for subvalues)
- arrays are no longer evaluated deeply by default and need explicit _descendAll configuration for each level


"
48551,TYPO3.Flow,Bug,"",Resolved,Must have,Doctrine semantical error ,Jesper Paardekooper,"",2013-06-24 18:35,Core,2.0,2013-05-26,"","",100,2013-05-26 12:17,"","",1177350,"",Git master,"I have a signal&slots implementation for failed login attempts. A repository adds a new Event model everytime this happens.

In Development context this works fine, in *Production context it doesn't*.

When extending the standard Flow repository, the error is:

<pre>
Uncaught exception #1337934455 in line 79 of Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Persistence/Repository.php: Could not add object of type ""My\App\Domain\Model\Log\Event""
</pre>

When extending the doctrine repository, the following exception is thrown: 

<pre>
Uncaught exception in line 640 of Packages/Libraries/doctrine/annotations/lib/Doctrine/Common/Annotations/DocParser.php: [Semantical Error] The annotation ""@\TYPO3\Flow\Annotations\Entity"" in class My\App\Domain\Model\Log\Event does not exist, or could not be auto-loaded
</pre>

When debugging the exception the Flow repository throws, it eventually throws the same exception as the doctrine one.

I've tested this on both the current Git master and the beta 3 tag. 

Other events that use the same code do work and my model does ofcourse have the correct annotations and use statements."
48557,TYPO3.Flow,Bug,"",Resolved,Should have,Typo in AbstractAuthenticationController::getErrorFlashMessage(),Philipp Maier,Philipp Maier,2013-08-05 05:35,"","",2013-05-27,"","",100,2013-05-27 04:36,"","",1177650,"",Git master,"<pre>
Note: If you implement a nice redirect in the onAuthenticationFailed()
</pre>

should be

<pre>
Note: If you implement a nice redirect in the onAuthenticationFailure()
</pre>"
48596,TYPO3.Flow,Bug,"",Under Review,Should have,IgnoredTags configuration should be easier to configure from packages,Alexander Berl,Alexander Berl,2015-02-14 07:00,Configuration,"",2013-05-28,"","",0,2013-05-28 06:36,"","",1179600,"",Git master,"Currently packages can not easily add new tags to the TYPO3.Flow.reflection.ignoredTags list, as they always need to provide a full list.
Changing the configuration merging behavior is not a good way, hence the configuration type of ignoredTags option should be changed from array to dictionary with the tags as key. This will allow easy adding of ignored tags from packages and un-ignoring tags also.

See discussion in https://review.typo3.org/#/c/20773/ and http://forge.typo3.org/issues/43587 for more information.
"
48615,TYPO3.Flow,Task,"",Resolved,Should have,Extract MediaType handling from HTTP request,Bastian Waidelich,Bastian Waidelich,2013-07-10 06:37,Http,"",2013-05-28,"","",100,2013-05-28 11:06,"","",1180550,"","","Currently the HTTP Request contains several methods interacting with media types (aka MIME types).
We should extract those to the MediaTypes utility class to purge the request class and to make media type handling easier reusable for other components"
48657,TYPO3.Flow,Feature,"",Under Review,Should have,support HTTP_RANGE,Simon Schaufelberger,"",2013-06-20 10:19,"","",2013-05-29,"","",0,2013-05-29 16:08,"","",1182650,"","","Flow has a great HTTP API already but does not yet support HTTP_RANGE which is often/always used on mobile devices. It would be great to serve huge download files with HTTP_RANGE.

See: http://mobiforge.com/developing/story/content-delivery-mobile-devices
""Appendix A: Streaming for Apple iPhone"" but note that there are some little errors in that snippet."
48763,TYPO3.Kickstart,Bug,"",Resolved,Must have,kickstarter creates not valid code,Simon Schaufelberger,"",2014-08-22 04:04,"","",2013-06-02,"","",100,2013-06-01 19:34,"","",1187950,"",(any),"i just wanted to create a class named ""List"" which was possible but then the next action crashed with an exeption since you cannot create a class named ""List"".

I found out that you cannot use those key words:
http://www.php.net/manual/en/reserved.keywords.php
so i would suggest to write a validator, that checks if a keyword is used when creating a new class via the command line."
48856,TYPO3.Fluid,Bug,"",Resolved,Should have,Case ViewHelper usage not correct in example,Wouter Wolters,"",2013-06-05 05:36,"","",2013-06-04,"","",100,2013-06-04 16:19,"","",1192600,"",Git master,Case ViewHelper usage not correct in example
48862,TYPO3.Flow,Feature,"",New,Should have,Possibility to exclude package from file monitoring,Pankaj Lele,"",2013-06-05 04:03,Monitor,"",2013-06-05,"","",0,2013-06-05 04:03,"","",1192900,"","","We wanted to integrate the phpoffice/phpexcel package using composer. https://packagist.org/packages/phpoffice/phpexcel 

After composer requiring it we faced error ""PHPExcel_Shared_PCLZip_pclzip.lib"" is not a valid cache entry identifier. "" when trying to access Flow anyway CLI/Web. 

Then we tried to exclude all classes from this package using the Flow setting TYPO3.Flow.object.excludeClasses but this did not help.

After further digging I came to know that file monitoring is not excluding files from this package so I think exclude from file monitoring can be helpful setting to integrate third party packages and Flow do not care about those packages. 

As a workaround we made the package inactive by *manually* editing the Configuration/PackageStates.php"
48870,TYPO3.Fluid,Task,"",Rejected,Won't have this time,`required` attribute not supported in Textarea- and PasswordViewHelpers,Adrian Föder,Adrian Föder,2013-06-05 06:40,ViewHelpers,2.1,2013-06-05,"","",80,2013-06-05 06:18,"","",1193300,"","",HTML5's @required@ attribute is not immediately supported in the TextareaViewHelper and PasswordViewHelper (see http://www.w3.org/TR/html-markup/textarea.html#textarea.attrs.required and http://www.w3.org/TR/html-markup/input.password.html#input.password.attrs.required)
48873,TYPO3.Flow,Bug,"",New,Should have,Error when calling resourceManager->deleteResource on unpublished Resource,Bernd Helbig,"",2013-06-05 07:46,- Error Handler Report -,"",2013-06-05,"","",0,2013-06-05 07:46,"","",1193450,"",Flow 2.0.0 beta 2,"<pre>
$fileResource = $this->resourceManager->importUploadedResource($fileUpload);
//extracting info here, works fine
$this->resourceManager->deleteResource($fileResource);
</pre>

This currently causes:

Warning: Invalid argument supplied for foreach() in /flow/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Resource_Publishing_FileSystemPublishingTarget.php line 158

No big deal breaker, since one can delete the file manually using the same code as is inside deleteResource(), skipping the whole unpublish part, but should be fixed in any case."
48887,TYPO3.Flow,Bug,"",Resolved,Must have,Support numeric identifiers in IdentityRoutePart,Christopher Hlubek,Bastian Waidelich,2015-04-26 13:30,MVC - Routing,"",2013-06-05,"","",100,2013-06-05 09:55,"","",1194100,"",Git 2.0,In @\TYPO3\Flow\Mvc\Routing\ObjectPathMappingRepository::findOneByObjectTypeUriPatternAndIdentifier@ the identifier of an object is checked to be exactly of type @string@. This should be changed to check for simple types that can be coerced to a string. Basically we need to support numeric values additionally to strings here.
48898,TYPO3.Flow,Bug,"",New,Must have,"configuration for roles fails if one of Policy.yaml files contain empty ""roles array""",Rafael Kähm,Christian Müller,2013-06-05 13:06,Security,2.0.1,2013-06-05,"","",0,2013-06-05 13:06,"","",1194650,"",Git master,"If some package has Policy.yaml with empty _roles:_ 
like this
<pre><code class=""yaml"">
roles:
#  Test: []
#  this is last line of this yaml
</code></pre>then drains this package the array with roles empty.


\TYPO3\Flow\Configuration\ConfigurationManager::loadConfiguration() @row 382 Arrays::arrayMergeRecursiveOverrule() merges all rolles defined in all Policy.yaml files in $configurations['roles'] array.
and
Arrays::arrayMergeRecursiveOverrule() overrides per default full array with empty array.
@param boolean $emptyValuesOverride If set (which is the default), values from $secondArray will overrule if they are empty (according to PHP's empty() function)

"
48951,TYPO3.Flow,Bug,"",Resolved,Should have,Document all needed AllowOverride settings for Apache,Christian Müller,Christian Müller,2013-06-24 17:36,- Documentation -,2.0,2013-06-07,"","",100,2013-06-07 10:37,"","",1197200,"",(any),Misses Options=MultiViews
48977,TYPO3.Fluid,Bug,"",Closed,Must have,f:link.action ignores controller with backslashes,Simon Schaufelberger,Bastian Waidelich,2013-06-10 09:41,ViewHelpers,"",2013-06-10,"","",0,2013-06-09 20:06,"","",1198500,"",(any),"I have a neos backend module and want to link to another controller. The controller is not straight under the controller folder but under Controller/Module/MyModule/.

I tried linking to MyController like that:

<pre>
<f:link.action action=""index"" controller=""Module\Module\MyController"" class=""btn neos-button"">
</pre>

but it just doesnt work.

I found an existing ""example"" for this:

<pre>
<f:link.action package=""TYPO3.Neos"" controller=""Backend\Backend"" action=""index"">Content</f:link.action>
</pre>

under \Packages\Application\TYPO3.Neos\Resources\Private\Templates\Backend\Content\Container.html

but that is also not working.

I don't know if this has ever worked or not so i don't know if its possible to trace it back to a working state."
49007,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Flows doctrine implementation creates too long identifiers for databases with maxIdentifierLengeth < 31,Christian Müller,Christian Müller,2013-06-24 08:38,"","",2013-06-10,"","",100,2013-06-10 12:50,"","",1200000,"",(any),""
49011,TYPO3.Flow,Bug,"",Under Review,Should have,Support executing TYPO3.Flow inside a PHAR,Marc Neuhaus,"",2014-10-03 09:21,"","",2013-06-10,"","",0,2013-06-10 15:05,"","",1200200,"",Git master,"Currently it's not really possible to create an executable phar from a
TYPO3.Flow distribution because of the caches and some failing
path evaluations.

"
49016,TYPO3.Flow,Task,Task #51183: CLI improvements,Resolved,Should have,Use Symfony.Console for Output + Interaction in CommandController,Marc Neuhaus,"",2014-06-12 06:36,"","",2013-06-11,"","",100,2013-06-11 03:28,"","",1200450,"","","I think we should make use of the Smfony.Console component for output and interaction. It offers anything someone writing a command might wish for:

- easy output coloring through ""<error>Warning!</error>""
- TableHelper to render a formatted table
- ProgressHelper to render and advance and progress bar
- DialogHelper with numerous types of questions like: select, ask, confirm, askHidden, etc

I already tested to use it inside an ActionController yesterday, which worked quite easily.

Another thing i testet yesterday was, to ask the user for missing arguments instead of failing with ""Required argument ""foo"" is not set."":

<pre>
./flow kickstart:model              
Please specify the required argument ""packageKey"": My.Package
Please specify the required argument ""modelName"": 
</pre>

This change would add a dependency for Symfony/Console, but in most cases it is there already because Doctrine depends on it. "
49021,TYPO3.Flow,Bug,"",Resolved,Must have,Session garbage collection is non functional,Robert Lemke,Robert Lemke,2013-06-11 08:35,Session,2.0,2013-06-11,"","",100,2013-06-11 05:28,"","",1200700,"",Flow 2.0.0 beta 2,"In the current state of Flow, expired sessions are not correctly removed from the session storage cache - the Garbage Collection is triggered, but the session info entries remain in the cache directory. This results in hundreds and thousands of cache entries after a while."
49025,TYPO3.Flow,Task,Story #42408: Locale Detection / Selection,Under Review,Could have,Dynamic locale detection / determination,Adrian Föder,Adrian Föder,2013-12-28 04:48,I18n,2.1,2013-06-11,"","",0,2013-06-11 07:31,"","",1200900,"","","This provides a way of detecting an appropriate
Locale to use for each request. Shipped with Flow
are two DetectionStrategies, Cookie and HttpAcceptHeader,
which will try to determine a Locale from these sources.
The Cookie's default name is assumed @locale@, but
can be set to a different one via Object.yaml.

If a DetectionStrategy can not reliably determine a 
Locale, it returns NULL in order to abstain, and the
next Strategy in the configured chain is evaluated.
If eventually none matches, no concrete ``currentLocale``
will be set, hence falling back to the ``defaultLocale``.

Setting a Locale chain would look like::
<pre><code class=""yaml"">
	TYPO3:
	  Flow:
	    i18n:
	      detectionChain: ['Cookie', 'AcceptLanguageHeader']
</code></pre>
The array values can also be set to a full qualified class name
which must implement \TYPO3\Flow\I18n\Detection\DetectionStrategyInterface.

(from the commit message)"
49038,TYPO3.Fluid,Bug,"",New,Must have,form.select does not select the first item if prependOptionValue is used,Axel Brand,"",2013-06-11 16:11,"","",2013-06-11,"","",0,2013-06-11 16:11,"","",1201550,"",FLOW3 1.1.0,"I habe a strange behaviour.

I use the f:form.select viewhelper like this:
<pre><f:form.select property=""myadata"" options=""{mydatas}"" optionLabelField=""name"" optionValueField=""uid"" sortByOptionLabel=""TRUE"" prependOptionLabel="""" /></pre>
Here the action:

# select first item
# save object => everything is fine
# edit object
# first item is NOT selected

If i try this with the second one or if i delete the _prependOptionLabel_ attribute, everything is running fine.

I hacked the view-helper-class @SelectViewHelper.php@ like this:

<pre>
protected function isSelected($value) {
 		$this->getSelectedValue();
		$selectedValue = $this->getSelectedValue();
		if ($value === $selectedValue || (string) $value === $selectedValue) {
			return TRUE;
		}
		if ($this->hasArgument('multiple')) {
			if (is_null($selectedValue) && $this->arguments['selectAllByDefault'] === TRUE) {
				return TRUE;
			} elseif (is_array($selectedValue) && in_array($value, $selectedValue)) {
				return TRUE;
			}
		}
		return FALSE;
	}
</pre>

The line 
<pre>$this->getSelectedValue();</pre>
is the trick.

"
49039,TYPO3.Flow,Feature,"",New,Could have,RFC: Use PSR-3 logger interface in Flow,Christopher Hlubek,"",2013-07-10 09:19,Log,"",2013-06-11,"","",0,2013-06-11 16:45,"","",1201600,"","","*Advantages:*

* Interoperability of Flow loggers with 3rd party libraries
* Usage of 3rd party loggers in Flow (e.g. @monolog@)

*Problems:*

* Signature of @Psr\Log\LoggerInterface->log@ is not compatible with @TYPO3\Flow\Log\LoggerInterface@

*Ideas:*

* 1: Create an Adapter class that decorates a Flow @LoggerInterface@ and implements a Psr @LoggerInterface@ to the outside
** This will ease the usage of 3rd party libraries that depend on @Psr\Log@ in Flow, could be implemented in a separate package
* 2: Create an Adapter class that decorates a Psr @LoggerInterface@ and implements a Flow @LoggerInterface@, deprecate the current Flow logger
** This is the path for a full transition to PSR-3 in Flow, could finally make something like a @TYPO3.Flow.Log@ package an optional dependency of Flow"
49050,TYPO3.Flow,Feature,"",New,Should have,Allow Subqueries in QueryInterface,Bernd Helbig,"",2013-06-12 04:43,Persistence,"",2013-06-12,"","",0,2013-06-12 04:43,"","",1202150,"","","Currently, subqueries are supported by doctrine, but not by flow. Fixing this should be easy.
This is how it should look like in the repository:
<pre>
$q = $this->createQuery();
$constraint = $q->matching('in', $otherQueryInterface);
</pre>

To allow this, simple add __toString() to QueryInterface.
Doctrine/Query can easily implement this with:
<pre>
$this->queryBuilder->__toString();
</pre>"
49128,TYPO3.Fluid,Feature,"",Resolved,Should have,ViewHelper to display file sizes,Bastian Waidelich,Bastian Waidelich,2013-06-14 09:35,ViewHelpers,"",2013-06-14,"","",100,2013-06-14 07:37,"","",1206050,"","",A ViewHelper that converts the size of a file to a human readable string
49143,TYPO3.Fluid,Bug,"",Resolved,Must have,Petabytes missing in VH f:format.bytes(),Stefan Neufeind,Stefan Neufeind,2013-06-21 09:36,ViewHelpers,"",2013-06-15,"","",100,2013-06-14 19:43,"","",1206800,"",Git master,"Peta (PB) is missing newly merged feature.

1000 	k 	kilo
1000^2 	M 	mega
1000^3 	G 	giga
1000^4 	T 	tera
1000^5 	P 	peta
1000^6 	E 	exa
1000^7 	Z 	zetta
1000^8 	Y 	yotta

(thanks go to Philipp Gampe for discovering this)"
49185,TYPO3.Flow,Feature,"",Resolved,Should have,Iterator support for Cache Frontends / Backends,Robert Lemke,Robert Lemke,2013-06-20 03:37,Cache,2.0,2013-06-17,"","",100,2013-06-17 06:16,"","",1208900,"","","In order to ""find all"" cache entries, we'd need some way to iterate over the entries. Thus implementing the Iterator interface in the cache frontends and backends would be quite convenient.

This feature is needed for the Session optimization patches."
49189,TYPO3.Flow,Bug,"",Resolved,Must have,Session storage has poor performance for hundreds of sessions,Robert Lemke,Robert Lemke,2013-06-20 03:37,Session,2.0,2013-06-17,"","",100,2013-06-17 06:55,"","",1209100,"",Git master,"If an application contains hundreds of simultaneous sessions, the garbage collection mechanism performs poorly which can eventually result in an unresponsive application.

The root cause for this is the way session entries are retrieved from the cache (in order to check if they need to be removed): in its current implementation, entries with meta information and those acting as storage entries reside in the same cache. Therefore, in order to iterate over the meta entries only, Flow needs to fetch cache entries by tag. Most cache backends will not be able to deliver cache entries by tags with a reasonable speed, thus the complexity for this operation is quite high.

The solution would be to split up caches into a meta cache and a storage cache. Given this, the session garbage collector would be able to iterate over all entries of the meta cache without having to use the find-by-tag mechanism."
49190,TYPO3.Flow,Feature,"",Resolved,Should have,Cap amount of entries removed by Session Garbage Collector,Robert Lemke,Robert Lemke,2013-06-20 03:37,Session,2.0,2013-06-17,"","",100,2013-06-17 06:59,"","",1209150,"","",The garbage collection for sessions should not try to remove an infinite amount of old entries but rather deal with only a certain amount of entries at a time.
49289,TYPO3.Flow,Bug,"",Resolved,Must have,Serialization error on WebRedirect with PHP 5.3,Christopher Hlubek,Christopher Hlubek,2014-07-11 14:19,"",2.0.1,2013-06-20,"","",100,2013-06-20 10:19,"","",1214050,"",Git 2.0,"With the plain serializer from PHP 5.3 there is a reproducible unserialize error when using a ""WebRedirect"" entry point for authentication.

It seems that recursive objects are not handled correctly in this PHP version (5.3.19) and the error is caused by serializing too much information in the session (the injected uriBuilder property of WebRedirect should never be serialized)."
49305,TYPO3.Fluid,Feature,"",Closed,Should have,Support for Data Attributes in tag-based ViewHelpers ,Marco Falkenberg,Bastian Waidelich,2013-06-21 05:27,ViewHelpers,"",2013-06-21,"","",0,2013-06-21 05:21,"","",1214850,"","","Adding Data Attributes to tag-based ViewHelpers via ""additionalAttributes"" is an exhausting task, because of the escaping and nesting stuff and so on.

<pre>
<f:link action=""doSomething"" data-role-tooltip=""{f:translate(id:'doSomething')}"">Do something!</f:link>
</pre>

vs.

<pre>
<f:link action=""doSomething"" additionlAttributes=""{data-role-tooltip: '{f:translate(id:\'doSomething\')}'}"">Do something!</f:link>
</pre>"
49344,TYPO3.Fluid,Feature,"",Closed,Should have, Allow template paths to use overlays,Anja Leichsenring,Bastian Waidelich,2013-10-14 04:30,View,"",2013-06-22,"","",0,2013-06-22 14:21,"","",1216800,"","","CMS Fluid is about to merge this feature from ext:view, could come in handy for Flow Fluid as well?

Find the patch at https://review.typo3.org/#/c/21580"
49370,TYPO3.Flow,Bug,"",Resolved,Should have,Exception in ProxyClassBuilder cannot be thrown because wrong exception message,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-06-24 04:36,Object,2.0,2013-06-24,"","",100,2013-06-24 03:21,"","",1218100,"",Flow 2.0.0 beta 2,"This leads to weird exceptions such as:   

  Notice: Undefined variable: TYPO3\Flow\Command\ConfigurationCommandController
"
49372,TYPO3.Flow,Bug,"",New,Should have,ObjectConverter ignores implemented interface when mapping subtype,Andreas Wolf,"",2013-06-24 03:24,"","",2013-06-24,"","",0,2013-06-24 03:24,"","",1218200,"",Git 2.0,"When a method has a parameter that is annotated with an interface, the ObjectConverter cannot map classes implementing this interface to the parameter. The error message is 

  The given type ""MyPackage\Domain\Model\MyTerm"" is not a subtype of ""SynSystems\Contracts\Domain\Model\Term""

The reason is that the inheritance chain check in @getTargetTypeForSource()@ is only done for classes, but not for the interface."
49373,TYPO3.Flow,Bug,"",New,Must have,"Methods policy with key ""Controllers"" is ignored",Andreas Wolf,"",2013-06-24 04:03,Security,"",2013-06-24,"","",0,2013-06-24 04:03,"","",1218250,"",Git master,"I'm using the following Policy.yaml file:

<pre><code class=""yaml"">
roles:
  Administrator: [User]
  User: []

resources:
  methods:
    Controllers: 'method(SynSystems\Contracts\Controller\.*Controller->(?<!initialize).*Action())'

acls:
  Administrator:
    methods:
      Controllers: GRANT
</code></pre>

The ""Controllers"" ACL is silently ignored; as soon as I change it to ""ContractControllers"" (or some other name), it is suddenly used. There is no trace in the logs that parts of the Policy.yaml file are ignored.

I think silently ignoring parts of the Policy.yaml file is an absolute no-go; at least Flow should throw a warning if there is a naming clash with some internally used names."
49423,TYPO3.Flow,Bug,"",New,Must have,Role name and packageKey are not accessible,Rafael Kähm,"",2013-09-05 04:26,"","",2013-06-25,"","",0,2013-06-25 15:36,"","",1220750,"",Git master,"Properties name and packageKey for Role are not accessible, because setNameAndPackageKey() is not called.

Calling setNameAndPackageKey() in __construct() solves this. "
49503,TYPO3.Flow,Bug,"",Resolved,Must have,buildSubprocessCommand failed with multiple command arguments,Dominique Feyer,Dominique Feyer,2014-07-11 14:19,Cli,2.0.1,2013-06-28,"","",100,2013-06-28 17:28,"","",1224750,"",Git master,Just a little space is missing between the previous arguments and the next arguments
49522,TYPO3.Flow,Feature,"",Resolved,Should have,Add request patterns for IP and host name,Alexander Berl,Alexander Berl,2015-06-01 07:00,Security,"",2013-06-29,"","",100,2013-06-29 15:58,"","",1225650,"","","A very common scenario for authentication providers and firewall setups is to check for specific IPs/IP ranges or host names.
Hence Flow should ship with RequestPatterns for those cases."
49545,TYPO3.Flow,Bug,"",Closed,Should have,Non-plural translations are not found if arguments are used,Adrian Föder,"",2013-07-15 04:03,I18n,"",2013-07-01,"","",0,2013-07-01 10:12,"","",1226750,"",Git master,"A simple translation which is not meant for handling plurals is not correctly resolved when used with arguements, for example,

<pre>
<f:translate id=""someId"" arguments=""{0: 2500}"" />
</pre>

does not resolve correctly. The error appears in @\TYPO3\Flow\I18n\Translator::translateById@ where the @$pluralForm@ equals to 'other' as soon as arguments are set (that's the distant observation so far, have to dig deeper)."
49566,TYPO3.Flow,Bug,"",New,Should have,NULL source values are not handled correctly,Adrian Föder,Adrian Föder,2013-07-02 02:21,Property,"",2013-07-02,"","",0,2013-07-02 02:04,"","",1227800,"",Git master,"currently, for example

<pre>
$this->propertyMapper->convert(NULL, 'array')
</pre>

results into a message 

> No converter found which can be used to convert from ""string"" to ""array""

which is at least incorrect for the source type, IMO the converter should return NULL then, too (i.e. leave the property untouched).

I found this change here being relevant for this, https://review.typo3.org/#/c/1895/3/Classes/Property/PropertyMapper.php There, the $source is hard-coded set to an empty string if it's NULL; I can't see a proper reason for that, since when deleting these lines all Tests still pass. Additionally, the tests for \TYPO3\Flow\Tests\Unit\Property\PropertyMapperTest::sourceWhichIsNoSimpleTypeThrowsException https://git.typo3.org/Packages/TYPO3.Flow.git/blob/master:/Tests/Unit/Property/PropertyMapperTest.php#l75 won't make any sense then."
49569,TYPO3.Flow,Bug,"",Resolved,Could have,Use deterministic join aliases,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-08-09 11:35,"",2.0.1,2013-07-02,"","",100,2013-07-02 04:32,"","",1227950,"",Flow 2.0.0 beta 2,"By using uniqid(), the DQL queries are not properly cached..."
49571,TYPO3.Flow,Bug,"",Resolved,Should have,Cache Management Exception when files changed but no classes,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-08-05 05:35,"",2.0.1,2013-07-02,"","",100,2013-07-02 04:38,"","",1228050,"",Flow 2.0.0 beta 2,"When classes did not change, but other files did, an exception occurs
because $modifiedClassNamesWithUnderscores does not exist, as it can
be seen when reading the source code."
49600,TYPO3.Fluid,Bug,"",New,Should have,f:form tag shown as a HTML on frontend,Jignesh Prajapati,"",2013-12-04 07:04,ViewHelpers,"",2013-07-02,"","",0,2013-07-02 11:09,"","",1229500,"",(any),"Hello guys,

I have one problem using the f:form tag
I integrated the template using the FLUIDTEMPLATE in Typo3 version 6.1
Now i created one extension that simply show the the form with two input elements. I used the f:form and f:form.textfield to display the form. Now problem is that whole form shown as HTML tags instead of real form. Please see the attached screenshot.

However, when i used the same extension using the templavoila in Typo3 version 6.1 then everything is working fine.

I am using below typoscript for FLUIDTEMPLATE integration.

# Create a Fluid Template
page.10 = FLUIDTEMPLATE
page.10.template = FILE
page.10.template.file = fileadmin/templates/index.html
[globalVar=TSFE:page|layout=1] 
page.10.template.file = fileadmin/templates/home-products.html
[global]
[globalVar=TSFE:page|layout=2] 
page.10.template.file = fileadmin/templates/products.html
[global]
[globalVar=TSFE:page|layout=3] 
page.10.template.file = fileadmin/templates/product-details.html
[global]
[globalVar=TSFE:page|layout=4] 
page.10.template.file = fileadmin/templates/products-img.html
[global]
[globalVar=TSFE:page|layout=5] 
page.10.template.file = fileadmin/templates/settings.html
[global]

page.10 {
  # Set the Template Pathes
  partialRootPath = fileadmin/templates/partials/
  layoutRootPath = fileadmin/templates/layouts/
  variables {
     # Assign the main column with our {content}-destination
    content_main < styles.content.get
    # Assign the left column with our {content_left}-destination
    content_left < styles.content.get
    content_left.select.where = colPos = 1
    # Assign the right column with our {content_right}-destination
    content_right < styles.content.get
    content_right.select.where = colPos = 2
    left < styles.content.get
    left.select.where = colPos=1
  }
}



Not getting what happens with FLUIDTEMPLATE. Please help me as it is very urgent for me. Any help will be appriciated.



Thanks,
Jignesh"
49624,TYPO3.Flow,Bug,"",Resolved,Must have,Domain Model validators are executed twice,Adrian Föder,Bastian Waidelich,2014-08-27 12:30,Validation,"",2013-07-03,"","",100,2013-07-03 02:45,"","",1230700,"",Flow 2.0.0,"when having, for example, a 
<pre>
/**
 * @param SampleDto $sampleDto {fq class name abridged}
 */
public function sampleAction(SampleDto $sampleDto);
</pre>

and an appropriate Validator for that model placed in Domain\Model\Validator\SampleDtoValidator (i.e. a _Domain Model Validator_ in the sense of [?]), the validation for it is fired twice on action invocation.

The argument's validator stack looks like the following then:

<pre>
ConjunctionValidator:
	SampleDtoValidator
	ConjunctionValidator
		GenericObjectValidator
		SampleDtoValidator
</pre>

as you can see, the SampleDtoValidator is there twice, that's why it's executed twice.


If, however, the Validator is *not* a Domain Model Validator, means, it's not placed in Domain\Model\Validator; and annotated manually like
<pre>
/**
 * @param SampleDto $sampleDto {fq class name abridged}
 * @Flow\Validate(""$sampleDto"", type=""Acme\Foobar\Somewhere\SampleDtoValidator"")
 */
public function sampleAction(SampleDto $sampleDto);
</pre>

...it's validated correctly only once.
The validator stack then looks like
<pre>
ConjunctionValidator:
	SampleDtoValidator
	ConjunctionValidator
		GenericObjectValidator
</pre>

as you can see, the ""inner"" conjunction validator only has a GenericObjectValidator now.

[?] http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartIII/Validation.html#validating-domain-models"
49671,TYPO3.Eel,Bug,"",Resolved,-- undefined --,Undefined property: TYPO3\Eel\CompilingEelParser::$tmpId,Alexander Schnitzler,"",2013-07-06 07:54,"","",2013-07-04,"","",100,2013-07-04 15:36,"","",1233050,"","","I just checked out the current master of NEOS (da9d621) and I get this Exception.

The setup went fine but when I tried to access frontend or backend afterwards this error is shown:

<pre>
Notice: Undefined property: TYPO3\Eel\CompilingEelParser::$tmpId in /vagrant/src/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Eel_CompilingEelParser.php line 164
34 TYPO3\Flow\Error\ErrorHandler::handleError(8, ""Undefined property: TYPO3\Eel\CompilingEelParser::$tmpId"", ""/vagrant/src/Data/Temporary/Development/Cache/Code?ow_Object_Classes/TYPO3_Eel_CompilingEelParser.php"", 164, array|1|)

33 TYPO3\Eel\CompilingEelParser_Original::unwrapExpression(""$context-&gt;getAndWrap('request')-&gt;getAndWrap('format')"")

32 TYPO3\Eel\CompilingEelParser_Original::Comparison_rgt(array|5|, array|4|)

31 call_user_func_array(array|2|, array|2|)

30 PhpPeg\Parser::store(array|5|, array|4|, ""rgt"")

29 TYPO3\Eel\EelParser_Original::match_Comparison(array|4|)

28 TYPO3\Eel\EelParser_Original::match_Conjunction(array|3|)

27 TYPO3\Eel\EelParser_Original::match_Disjunction(array|2|)

26 TYPO3\Eel\EelParser_Original::match_ConditionalExpression(array|1|)

25 TYPO3\Eel\EelParser_Original::match_Expression()

24 TYPO3\Eel\CompilingEvaluator_Original::generateEvaluatorCode(""request.format != 'html'"")

23 TYPO3\Eel\CompilingEvaluator_Original::evaluate(""request.format != 'html'"", TYPO3\Eel\Context)

22 TYPO3\TypoScript\Core\Runtime_Original::evaluateProcessor(""condition"", TYPO3\TypoScript\TypoScriptObjects\MatcherImplementation, array|1|)

21 TYPO3\TypoScript\TypoScriptObjects\AbstractTypoScriptObject::tsValue(""condition"")

20 TYPO3\TypoScript\TypoScriptObjects\MatcherImplementation_Original::evaluate()

19 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""root&lt;TYPO3.TypoScript:Case&gt;/format&lt;TYPO3.TypoScript:Matcher&gt;"", ""Exception"")

18 TYPO3\TypoScript\Core\Runtime_Original::render(""root&lt;TYPO3.TypoScript:Case&gt;/format&lt;TYPO3.TypoScript:Matcher&gt;"")

17 TYPO3\TypoScript\TypoScriptObjects\CaseImplementation_Original::evaluate()

16 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""root"", ""Exception"")

15 TYPO3\TypoScript\Core\Runtime_Original::render(""root"")

14 TYPO3\Neos\View\TypoScriptView_Original::render()

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()

</pre>"
49726,TYPO3.Fluid,Feature,"",Resolved,Should have,f:form autofocus attribute is missing in f:form.textfield and f:form.textarea,Tim Spiekerkötter,"",2014-07-11 14:39,"","",2013-07-06,"","",100,2013-07-06 07:11,"","",1235700,"","","As in f:form.button there should be an attribute ""autofocus"" as well for f:form.textfield and f:form.textarea to be consistent in autofocus behaviour.

This is a copy from the issue #48689 from TYPO3 CMS."
49737,TYPO3.Flow,Bug,"",Closed,Must have,TYPO3.session.inactivityTimeout not working,Simon Schaufelberger,"",2014-01-29 10:01,Session,"",2013-07-06,"","",0,2013-07-06 10:38,"","",1236250,"",Git master,"I'm logged in into the neos backend. After some idle time of doing nothing (don't know how much but like half an hour or so?), and realoading the page, i get redirected to the login page again.

I set the following in Configuration/Settings.yaml:

<pre>
TYPO3:
  session:
    inactivityTimeout: 0
</pre>

what i expect is that i can be logged in ""forever"". My session cookie has a lifetime of 1 year so that should not be the problem :D"
49756,TYPO3.Fluid,Feature,"",Under Review,Should have,Select values by array key in checkbox viewhelper,Simon Schaufelberger,"",2014-03-24 21:40,"","",2013-07-07,"","",0,2013-07-06 19:52,"","",1237200,"","","my model:

<pre>
class Model {
	protected $groups;

	public function getGroups() {
		$groups = array();
		foreach ($this->groups as $group) {
			$groups[\TYPO3\Flow\Reflection\ObjectAccess::getProperty($group, 'Persistence_Object_Identifier', TRUE)] = $group;
		}
		return $groups;
	}
}
</pre>

my controller:

<pre>
public function viewAction(\My\Package\Domain\Model\Member $member) {
	$groups = $this->groupRepository->findAll();
	$this->view->assign('member', $member);
	$this->view->assign('groupList', $groups);
}
</pre>

my view:

<pre>
<f:form action=""editGroups"" name=""member"" object=""{member}"">
	<f:for each=""{groupList}"" as=""groupItem"">
		<label class=""checkbox inline"">
			<f:form.checkbox property=""groups"" value=""{groupItem -> f:format.identifier()}""/> {groupItem.name}
		</label>
	</f:for>
</f:form>
</pre>

now what's not possible is to just assign the groups (a m:n-relation) to the checkbox because in the checkbox viewhelper the *value* is compared instead of the *array key* with in_array.

This patch also compares the array keys."
49780,TYPO3.Flow,Bug,"",New,Should have,Roles are not synchronized,Soren Malling,"",2013-07-08 04:11,Security,"",2013-07-08,"","",0,2013-07-08 04:06,"","",1238400,"",Git master,"Issue occured trying to install TYPO3 Neos Alpha4

Installing with the instructions from neos.typo3.org/download.html, and following this command pattern

<pre>
composer command + doctrine:migrate + site:import + user:create
</pre>

I get the following error

<pre>
?  Neos git:(cd5105e) ./flow user:create --username sorenmalling --password YOURPASSWORD --first-name YOURFIRSTNAME --last-name YOURLASTNAME --roles ""TYPO3.Neos:Administrator""
The role with identifier ""TYPO3.Neos:Administrator"" is unknown
?  Neos git:(cd5105e) ./flow user:create --username sorenmalling --password YOURPASSWORD --first-name YOURFIRSTNAME --last-name YOURLASTNAME                                  
The role with identifier ""TYPO3.Neos:Editor"" is unknown
</pre>

After chatting with Rens we came to the conclusion that TYPO3.Neos Roles aren't synchornized with the rest of the Flow roles."
49801,TYPO3.Flow,Bug,"",New,-- undefined --,TYPO3\Flow\Security\Exception\AccessDeniedException thrown in file TYPO3_Flow_Security_Authorization_AccessDecisionVoterManager.php,Oliver Tempel,"",2013-07-08 22:53,- Error Handler Report -,"",2013-07-09,"","",0,2013-07-08 22:53,"","",1239400,"",FLOW3 1.1.0,"Access denied (0 denied, 0 granted, 1 abstained)
22 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager_Original::decideOnJoinPoint(TYPO3\Flow\Aop\JoinPoint)

21 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager::decideOnJoinPoint(TYPO3\Flow\Aop\JoinPoint)

20 call_user_func_array(array|2|, array|1|)

19 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

18 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager::decideOnJoinPoint(TYPO3\Flow\Aop\JoinPoint)

17 TYPO3\Flow\Security\Authorization\Interceptor\PolicyEnforcement_Original::invoke()

16 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

15 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

14 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

13 TYPO3\Setup\Controller\SetupController::initializeAction()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


==================================================================
Flow3 Version unknown, comes with neos alpha 4"
49806,TYPO3.Flow,Task,"",Accepted,Should have,Date formatting should care about the time zone,Adrian Föder,Adrian Föder,2013-07-09 04:16,I18n,"",2013-07-09,"","",0,2013-07-09 04:16,"","",1239650,"","",the @TYPO3\Flow\I18n\Formatter\DatetimeFormatter@'s @format()@ method should care and adjust a Locale's intrinsic time zone.
49815,TYPO3.Flow,Bug,"",Resolved,Should have,PersistentObjectConverter does not allow to set arbitrary setters,Christopher Hlubek,"",2014-05-11 06:54,"","",2013-07-09,"","",0,2013-07-09 05:57,"","",1240050,"",Git master,"For a better abstraction of domain logic it is quite important to use ""virtual"" properties by implementing additional getters or setters that will set internal properties. For example calculated properties, where a form should set a value that will be stored in some other format or value.

The @PersistentObjectConverter@ uses only the class schema which is built from all non-transient properties of a class. The @ObjectConverter@ instead uses only setters or constructor arguments to get the type of child properties during type conversion."
49847,TYPO3.Flow,Bug,"",Resolved,Should have,PSR-0 compatible namespace with underscores is not loaded,Sören Rohweder,Sören Rohweder,2014-07-11 14:19,"","",2013-07-10,"","",100,2013-07-10 06:01,"","",1241650,"",Flow 2.0.0 beta 2,"When using Faker (fzaninotto/faker)  the ClassLoader fails to load classes with underscores in the namespace like Faker\Provider\en_US\Person. 

PSR-0 States that only underscores in the classname should be replaced by a \ while leaving underscores in the namespace untouched."
49923,TYPO3.Flow,Bug,"",Resolved,Should have,ControllerContext constructor has no flashMessageContainer arguments,Dominique Feyer,Dominique Feyer,2013-08-05 05:35,"","",2013-07-11,"","",100,2013-07-11 12:31,"","",1245200,"",Git master,The title is clear enough
49982,TYPO3.Eel,Feature,"",Resolved,Should have,Implement a protected context for public usage in TypoScript,Christopher Hlubek,Christopher Hlubek,2013-07-16 06:38,"","",2013-07-12,"","",100,2013-07-12 09:38,"","",1248100,"","",""
50080,TYPO3.Flow,Bug,"",Needs Feedback,Should have,Broken concept for CLI/Web separation,Philipp Gampe,Karsten Dambekalns,2013-08-13 02:42,Core,"",2013-07-16,"","",0,2013-07-16 09:52,"","",1252850,"",(any),"Currently Flow tries to detect a CLI request by looking into the @PHP_SAPI@ constant. This is a wrong approach and completely breaks on host that use CGI for both web and console requests.

The German hoster Domainfactory is such a hoster. The @PHP_SAPI@ in both web and console is @cgi-fcgi@, thus there is no way to distinguish a web from a cli request.

I tried to fix it myself in the code, but got lost in the various bootstrap methods (and their orders) and the sub-request cycles: https://notes.typo3.org/p/neos-domainfactory

@see http://www.php.net/manual/en/function.php-sapi-name.php#89858

IMHO Flow should take advantage of the different entry scripts and set a constant very early in the entry point that distinguishes the request types. Then it could also separate cli from cli-sub and web requests.
It would be cheaper in terms of processing time and less error prone."
50088,TYPO3.Flow,Bug,"",Resolved,Must have,Loading order of packages does in some cases not respect depenencies,Benno Weinzierl,"",2014-02-13 03:55,Package,"",2013-07-16,"","",100,2013-07-16 16:43,"","",1253200,"",Git master,"Since over half a year i have strange problems with the loading order of packages (and as a result of that the configuration merging). For example: I install a package (with no dependencies to all other packages) and suddenly i get the problem.

Now i took the time and tracked it down to this method:
PackageManager->sortAvailablePackagesByDependencies()

I think the algorithm used to sort the packages is somehow flawed.

There are two different ""logics"" used to compare two packages. One by its dependencies (which should work fine) and one with strcmp() used when no info regarding the dependencies between those two packages is present. I think the problem lies in this two different ""logics"". But i dont know what the solution is."
50115,TYPO3.Flow,Feature,"",Under Review,Must have,"During the policy loading, we need to take care if class exist",Dominique Feyer,Dominique Feyer,2013-10-04 04:23,Security,"",2013-07-17,"","",0,2013-07-17 08:06,"","",1254550,"","",In the Configuration Manager the method loadPolicyConfigurationFile must take care if all entities classes exists.
50118,TYPO3.Flow,Bug,"",Resolved,Should have,Add a method in the PackageManager to get package of class name,Dominique Feyer,Dominique Feyer,2014-06-18 16:37,Package,"",2013-07-17,"","",100,2013-07-17 09:22,"","",1254700,"",Git master,Currently we have only getPackageOfObject and sometimes it's useful the get the package of the class name
50130,TYPO3 Flow Base Distribution,Bug,"",Needs Feedback,Should have,Different fallback for php.exe on windows,Christian Müller,"",2013-07-21 15:43,"","",2013-07-17,"","",0,2013-07-17 14:03,"","",1255300,"",(any),It could make sense on windows (as a fallback) to try to find the php.exe in the same path as the php.ini file. Seems usual setups on windows are like that (binary download from php.net and XAMPP). Should be checked with Windows users. Could reduce entry hurdle for windows users.
50150,TYPO3.Eel,Bug,"",Resolved,Should have,Hyphens are not allowed in Eel selectors,Pankaj Lele,Robert Lemke,2013-10-01 04:29,"","","","","",100,2013-07-18 07:06,"","",1256250,"","","For example with Eel ${q(site).children('my-page')} following error is thrown ""The Selector ""my-page"" could not be parsed. Error at character 3."""
50181,TYPO3.Flow,Bug,"",Resolved,Should have,[DOC] wrong number regarding multiple upload fields,Cedric Ziel,"",2013-07-21 14:37,- Documentation -,"",2013-07-19,"","",100,2013-07-19 04:40,"","",1257800,"",Git master,"Though this is small, the docs state that 
<pre>
<f:form.upload property=""attachments.0.originalResource"" />
<f:form.upload property=""attachments.1.originalResource"" />
</pre>
translates to
<pre>
<input type=""file"" name=""formObject[attachments][0][originalResource]"">
<input type=""file"" name=""formObject[attachments][0][originalResource]"">
</pre>

Obviously, this is not the case. Second index is 1."
50255,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Different collations runnig migrate/update,Carsten Bleicker,"",2013-11-16 17:05,"","",2013-07-21,"","",0,2013-07-21 15:06,"","",1261450,"",Flow 2.0.0 beta 2,"Hi,
i am runnig flow doctrine:migrate and this results in a collation on the abstractparty f.e. with utf8_general_ci.
this was confusing me because my mysql settings has default utf8_unicode_ci.
i deleted the whole db and runnig flow doctrine:update. now the collation of any field is utf8_unicode_ci.
deleting it again, runnig migrate ... results in utf8_general_ci.
i have no idea where these different collations comes from, any idea?

what helps is setting some settins in mysql config ""my.cnf"":
init-connect            = 'SET NAMES utf8'
init-connect            = 'SET collation_connection = utf8_unicode_ci'

after this change migrate and update results in utf8_unicode_ci.

kind regards
carsten bleicker
"
50262,TYPO3.Flow,Feature,"",New,Could have,Add Keywords to composer Json,Christian Wolff,"",2013-07-21 16:49,Package,"",2013-07-21,"","",0,2013-07-21 16:48,"","",1261800,"","","I think we should add keywords to the composer.json
so it shows up if somebody is looking for a framework or MVC on packagist.org

Suggested Keywords:

kewords: [""Web Application framework"", ""MVC"", ""Model View Controller""]




"
50342,TYPO3.Flow,Bug,"",New,Could have,PropertyMapper: Use of interface method before implementation check,Mathias Brodala,"",2013-07-23 10:42,"","",2013-07-23,"","",0,2013-07-23 10:42,"","",1265750,"",(any),"On the following line the PropertyMapper uses a method of the @TypeConverterInterface@ but performs the actual check for it afterwards:

http://forge.typo3.org/projects/package-typo3-flow/repository/revisions/e0f7cfdcfed54e326ac4b5852f81cfe2e2fce032/entry/Classes/TYPO3/Flow/Property/PropertyMapper.php#L153

<pre>
$targetType = $typeConverter->getTargetTypeForSource($source, $targetType, $configuration);

if (!is_object($typeConverter) || !($typeConverter instanceof \TYPO3\Flow\Property\TypeConverterInterface)) {
  throw new Exception\TypeConverterException('Type converter for ""' . $source . '"" -> ""' . $targetType . '"" not found.');
}
</pre>

Shouldn't the check be performed first and output the original @$targetType@ on failure?"
50382,TYPO3.Flow,Task,Task #51183: CLI improvements,New,Should have,Impossible to use arguments in CLI that are added by overriding initializeCommandMethodArguments(),Karsten Dambekalns,"",2013-08-19 08:32,Command,"",2013-07-24,"","",0,2013-07-24 08:47,"","",1267650,"","","Having something like

<pre>	/**
	 * @return void
	 * @throws \TYPO3\Flow\Mvc\Exception\InvalidArgumentTypeException
	 */
	protected function initializeCommandMethodArguments() {
		parent::initializeCommandMethodArguments();
		$this->arguments->addNewArgument('porcelain', 'boolean', FALSE, FALSE);
	}</pre>

should provide the @porcelain@ option to all command methods. But since the CLI request never returns true for @hasArgument()@, since @parseRawCommandLineArguments()@ uses the ReflectionService and thus will never consider the @--porcelain@ flag if given on the command line."
50395,TYPO3.Flow,Bug,"",Accepted,Should have,Route cache caches routes for non dispatchable requests ,Marco Falkenberg,Bastian Waidelich,2013-10-14 06:00,MVC - Routing,"",2013-07-24,"","",0,2013-07-24 10:47,"","",1268300,"",Git master,"The route cache caches all routes, even if the dispatchers cannot find the proper controller or action. On the one hand, that leads to a messy caching directory, if someone calls unavailable routes repeatedly. On the other the cached routes ""block"" potential identity routes, which occurs in my case.

Assume the the following routes configuration:

<pre>
-
  uriPattern: 'users/{user}'
  defaults:
    '@controller':   'User'
    '@action':       'index'
  routeParts:
    'user':
      objectType: 'MyPackage\Model\User'
      uriPattern: '{name}'

# Fallback route
-
  uriPattern: '{@controller}/{@action}(.{@format})'
  defaults:
    '@format':  'html'
</pre>

If you now call @/users/horst@ and the user @horst@ is not present for now, the fallback routes resolves the request with controller @users@ and action @horst@ and a caching entry is made. The dispatcher then throws the appropriate exception and a 404 shows up. 

If you then create @horst@ and call the url again, the 404 shows up (again), because the cached fallback route is used."
50474,TYPO3.Flow,Task,"",Resolved,Should have,PhpFrontend should return original string in get,Christian Müller,Christian Müller,2013-10-01 04:35,Cache,"",2013-07-26,"","",100,2013-07-26 13:04,"","",1272250,"","","The PhpFrontend automatically wraps the given string of code before setting it in the backend:

<pre>
$sourceCode = '<?php' . chr(10) . $sourceCode . chr(10) . '#';
</pre>

On get() the wrapped first and last line should be removed so you can retrieve the original piece of code that was stored in the cache."
50555,TYPO3.Fluid,Bug,"",Closed,Should have,Can't get an empty array in if condition,Thomas Christiansen,Bastian Waidelich,2013-07-31 09:21,"","",2013-07-30,"","",0,2013-07-30 06:32,"","",1276300,"",(any),"Hi all,
i am having trouble to get an empty array in a shorthand if condition.

The situation is the following:
I have an Input field which can be required or optional, depending on a checkbox in Backend.

In my Template i tried this;

@additionalAttributes=""{f:if(condition: '{field.mandatory}', then: '{required: 1}', else: '{}')}""@

The ""then""-case works fine, i am getting the attribute required=""1"" as expected.

The problem is, that the '{}' in the else-case returns an empty string, not an empty array. Then i get an exception, because additionalAttributes expects an array.
I tried a couple of things to get this to work like {0: null}, {\'\'} or {null} but i always get either an empty string or an non-empty array like array(0 => null).
The last one is not an option because it would result in an attribute ""0"" in the html tag.

Me and my colleagues came up with a view workarrounds:

1) Assign an empty array to a variable in the controller and use this variable in the template.
 - This is in my case not an option because i am extending an TER extension and dont want to override its controller.

2) Add an ""Empty-Array-Getter"" to the Model like getEmptyArray which returns an empty array.
 - This is a possibility, because i am extending the model as well, but... urghs ;)

3) Write a viewhelper that adds an empty array to the templateVariableContainer.
 - This is probably the best workaround and i am using this for now.

The viewhelper looks simply like this:

@class EmptyArrayViewHelper extends \TYPO3\CMS\Fluid\Core\ViewHelper\AbstractViewHelper {
  public function render() {
    $this->templateVariableContainer->add('emptyArray', array());
    return NULL;
  }
}@

So i use can {emptyArray} in my template now after calling the viewhelper:
@<fx:EmptyArray />
...
additionalAttributes=""{f:if(condition: '{field.mandatory}', then: '{required: 1}', else: '{emptyArray}')}""@

Did we miss anything here or is there no other way to solve this scenario?

Thanks and regards,
Thomas"
50585,TYPO3.Flow,Bug,"",Resolved,Must have,Validation fails if nested properties of same type are present,Martin Lipp,Bastian Waidelich,2014-07-11 14:19,Validation,"",2013-07-31,"","",100,2013-07-31 05:40,"","",1277800,"",Flow 2.0.0,"The GenericObjectValidator dumps all prior calculated validation results, when validating a nested property which has the same class name as the validated object.

Quick example:
<pre>
class Office {
	/**
	 * @var string
	 * @Flow\Validate(type=""StringLength"", options={ ""minimum""=3, ""maximum""=100 })
	 * @Flow\Validate(type=""NotEmpty"")
	 * @ORM\Column(length=100)
	 */
	protected $title;

	/**
	 * @var \Doctrine\Common\Collections\Collection<\Company\Project\Domain\Model\OpeningHours>
	 * @ORM\OneToMany(mappedBy=""office"")
	 */
	protected $openingHours;

	...



class OpeningHours {
	/**
	 * @var \Company\Project\Domain\Model\Office
	 * @ORM\ManyToOne(inversedBy=""openingHours"")
	 */
	protected $office;


	...
</pre>

When creating a new Office with a form including one ore more openingHours, all validation errors of properties defined prior to $openingHours are dumped and therefore not displayed as errors. If no other validation error after the $openingHours property occurs, the createAction is executed with no error messages (but not persisted, seems that the validation here works). In the above example an empty $title would pass the validation.

I've tracked it down to the GenericObjectValidator and the ValidatorResolver:
The ValidatorResolver only creates a new baseValidatorConjunction, if none exists for this class name. Otherwise it uses the existing one. Since the GenericObjectValidator's validate() method resets its member $this->result on every call, all results of prior Office properties are deleted as soon as it comes to the validation of the openingHours' $office property.
This does not happen in one of my older projects (with FLOW3 1.1), because there the GenericObjectValidator does not store its results in a member variable, but only calculates it inside the method.
Also it only seems to happen inside collections."
50589,TYPO3 Flow Base Distribution,Bug,"",Closed,Should have,Settings.yaml.example is not useable as is,Matthias Kipshoven,Bastian Waidelich,2013-08-06 11:01,"","",2013-07-31,"","",0,2013-07-31 07:07,"","",1277950,"",Flow 2.0.0,"Setting.yaml causes unexepted Errors. The errors appear when ""Doctrine: "" isn't commented out. Also you get an error, when ""Doctrine:"" didn't appears in it.

It's the same Problem like in the ""Bug #33410"""
50636,TYPO3.Flow,Bug,"",Resolved,Should have,CurlEngine tries to rewind stream,Robert Lemke,Robert Lemke,2013-08-27 07:37,Http,2.x,2013-08-01,"","",100,2013-08-01 08:16,"","",1280250,"",Git master,CurlEngine which executes a rewind() on spec if the given request content is a stream resource. This is not necessary and is especially harmful if a stream resource is provided which does not support seek operations.
50637,TYPO3.Flow,Feature,"",Resolved,Should have,Allow arbitrary HTTP request methods,Robert Lemke,Robert Lemke,2013-09-03 06:35,Http,2.x,2013-08-01,"","",100,2013-08-01 08:18,"","",1280300,"","","Currently HTTP\Request checks if the provided method is in a list of standard-compliant request methods (""GET"", ""POST"", ""PUT"" etc.).

There are, however, web services which require their own, custom request methods, like for example ""COPY"". Therefore remove this check in Http\Request.

"
50801,TYPO3.Fluid,Feature,"",Closed,Could have,"Arguments ""path"" and ""package"" for f:layout View Helper",Rafael Kähm,Bastian Waidelich,2013-08-08 07:20,View,"",2013-08-05,"","",0,2013-08-05 15:03,"","",1288400,"","","This is usefull if you use multiple packages for the same application.

Make sure you use ""package"" argument for each VH that needs this argument inside used layout, because Fluid does not know ""origin"" (also where layout come from) and tries to fetch controller and action from package, which uses this layout. 

Also next step is to implement Node-""origin"" functionality and after that Arguments ""path"" and ""package"" for f:render View Helper (for Partials).

gerrit review comes tomorrow."
50826,TYPO3.Fluid,Feature,"",Closed,Could have,"add resource as parameter for <f:render partial=""resource://MyVendor.Package/Private/Partials/SomePartial"" /> ",Rafael Kähm,Bastian Waidelich,2013-08-08 07:21,"","",2013-08-06,"","",0,2013-08-06 08:57,"","",1289650,"","",This is usefull if you use multiple packages for the same application.
50869,TYPO3.Flow,Bug,"",New,Could have,key() invoked on object,Jordy de Jong,"",2013-08-07 07:18,"","",2013-08-07,"","",0,2013-08-07 07:18,"","",1291800,"",Flow 2.0.0,"TYPO3\Flow\Package\Package:

<pre>
....
$namespaces = $manifest->autoload->{'psr-0'};
				
if (count($namespaces) === 1) {
    $namespace = key($namespaces);
}
....
</pre>

key() should be called using an array as its parameter, $namespaces is a stdclass
http://www.php.net/key

I propose casting the result of the autoload method to an array before calling key()
"
50888,TYPO3.Fluid,Bug,"",Under Review,Should have,WSOD by changing name of section and if Fluid caches are generated,Rafael Kähm,"",2014-08-26 09:52,"","",2013-08-07,"","",0,2013-08-07 12:45,"","",1292750,"",Git master,"If you change the name of some section in your Layout and caches were generated before this change, then you get WSOD with following message in php log file:

PHP Fatal error:  Call to undefined method FluidCache_Vendor_PackageName_Standard_action_index_bb47a7064d2c509f0bd5f35af56ae64023f35f04::section_3065c96e28893f22b707315d76eb3c0794993450() in ...../Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/View/AbstractTemplateView.php on line 247

as you can see Fluid tries to call section_3065c96e28893f22b707315d76eb3c0794993450() [also 'section_' . sha1($sectionName)]

Fluid makes no checking if layout file was changed and no check if method exists.

Fluid should throw an exception on this place instead of WSOD."
50901,TYPO3.Flow,Feature,"",New,Should have,@IgnoreValidation also for class fields,Adrian Föder,"",2014-02-21 04:01,Validation,"",2013-08-08,"","",0,2013-08-08 02:44,"","",1293300,"","","the IgnoreValidation annotation should be able to be set on class fields, too.
That might especially make sense to ""stop"" the iteration through an object network if that is unwanted, for example when there are multiple possible paths to a same object, and the developer wants to affect the path to get a reliable propertyPath result."
50909,TYPO3.Flow,Bug,"",Resolved,Should have,Dependency injection for imported namespaces fails for abstract classes,Philipp Maier,Bastian Waidelich,2013-09-20 10:36,Reflection,"",2013-08-08,"","",100,2013-08-08 05:33,"","",1293700,"",Git master,"Within abstract classes, the @var annotation still must be fully qualified.

Working:
<pre>
abstract class SomeClass {

        ...

	/**
	 * @var \TYPO3\Flow\Security\Context
	 * @Flow\Inject
	 */
	protected $securityContext;
</pre>

Not working:
<pre>
use TYPO3\Flow\Security\Context;

abstract class SomeClass {

        ...

	/**
	 * @var Context
	 * @Flow\Inject
	 */
	protected $securityContext;
</pre>"
51082,TYPO3.Flow,Bug,"",Resolved,Should have,Object Route Parts should take persistence_object_identifier into account,Christian Müller,Bastian Waidelich,2014-02-21 16:36,MVC - Routing,"",2013-08-15,"","",100,2013-08-15 04:44,"","",1302300,"",(any),If no uriPattern is set for a Object Route Part it defaults to the identity properties of the entity. It should also work to fallback to the persistence_object_identifier instead which doesn't happen atm but results in an exception.
51100,TYPO3.Fluid,Feature,"",New,Must have,Links with absolute URI should have the option of URI Scheme,Patrick Kroog,"",2013-08-16 06:06,ViewHelpers,"",2013-08-16,"","",0,2013-08-16 05:14,"","",1303200,"","","At the moment it's not possible to build absolute URIs with https scheme.

Only the ExternalViewHelper allows configuring the URI scheme.


Describing example of the problem:

<f:uri.action pageUid=""1"" arguments=""{client:client}"" absolute=""1"" />

builds a full link like:
- http://example.com/index.php?id=1&tx_myplugin[client]=10


But there's no option to set the URI scheme to https, alghough the 

uriBuilder would allow setting the URI scheme:
$uriBuilder->setAbsoluteUriScheme(""https"");

(Referring to: fluid/Classes/ViewHelpers/Uri/ActionViewHelper.php)


--

So there should be another option for this in the render method in the  Action/Page Viewhelpers!"
51120,TYPO3.Flow,Bug,"",New,Must have,\TYPO3\Flow\Core\Booting::buildSubprocessCommand - wrong command if passed more than one parameters,Pavlina Drosos,"",2013-12-11 10:33,Core,"",2013-08-16,"","",0,2013-08-16 10:53,"","",1304150,"",Flow 2.0.0,"*Method \TYPO3\Flow\Core\Booting::buildSubprocessCommand does not generate a correct command name when more that one command arguments are passed*.

The error look like this:

Uncaught exception #1309971820 in line 123 of /Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Cli_RequestBuilder.php: Unexpected unnamed argument ""param2"". If you use named arguments, all required arguments must be passed named.

The generated command looks like this:
/path/to/flow.php my.package:controller:command '--paramname1' *'param1''--paramname2'* 'param2'

*A space is missing between 'param1' and '--paramname2'*"
51183,TYPO3 Flow Base Distribution,Task,"",New,Should have,CLI improvements,Bastian Waidelich,"",2015-02-25 11:45,"","",2012-01-09,"",0.00,50,2013-08-19 08:30,"","",1307300,0.00,"",Master ticket for miscellaneous improvements to the command controller implementation
51187,TYPO3 Flow Base Distribution,Task,Task #51183: CLI improvements,Closed,Should have,Add generic help switch for all commands,Christopher Hlubek,"",2013-08-19 09:35,"","",2013-08-19,"","",0,2013-08-19 09:33,"","",1307500,"","","Right now the help for a command can be displayed with @./flow help routing:list@

It would be convenient to get the help of a command also with a switch ""--help"" after specifying the command:

<pre>
./flow routing:list --help
</pre>

If the command declares a help argument the help should be handled by the command (this will be backwards compatible for most commands)."
51188,TYPO3.Flow,Bug,"",New,Should have,Doctrine does not respect AOP-injected properties,Andreas Wolf,"",2013-12-07 05:13,Persistence,"",2013-08-19,"","",0,2013-08-19 10:07,"","",1307550,"",Git master,"When I add a property to a model via an aspect, this property is not taken into account by the automagic Doctrine schema generation. Therefore, the database field is not created and the property is also not persisted if I manually add the field via a hand-written migration.

Doctrine does not respect the properties because the reflection components do not return the property that was woven in by the ProxyClassBuilder. This can be reproduced by examining the output of @ReflectionService::getClassPropertyNames()@ - the properties are missing there.

I think the root cause for this is that the reflection information is cached during compile-time before the proxy class files are built. Therefore, the injected properties are not available in the reflected (original) classes.

One potential caveat when fixing this is that both properties from MyClass and MyClass_Original have to be taken into account - I don't know how hard this will get using the PHP reflection mechanisms."
51236,TYPO3.Flow,Bug,Task #55953: Repair and streamline ValueObject support,Resolved,Must have,ValueObject Identity generation broken in some cases,Philipp Maier,Philipp Maier,2015-02-15 18:30,"","",2013-08-21,"","",100,2013-08-21 10:24,"","",1309900,"",(any),"Consider this example ValueObject with two attributes.

<pre>
<?php
namespace Vendor\Package\Domain\Model;
 
use TYPO3\Flow\Annotations as Flow;
 
/**
 * @Flow\ValueObject
 */
class Test {

  /**
   * @var string
   */
  protected $prop1;
 
  /**
   * @var string
   */
  protected $prop2;
 
  /**
   * @param string $prop1
   * @param string $prop2
   */
  public function __construct($prop1, $prop2) {
    $this->prop1 = $prop1;
    $this->prop2 = $prop2;
  }

  // ...
}
</pre>

$test1 = new Test('Name', '');
$test2 = new Test('', 'Name');

$test1 and $test2 will have the same <code>Identity</code> generated by the <code>PersistenceMagicAspect::generateValueHash</code> because the names of the attributes are not included in the hash.
Fixing this will probably break some stuff.

--
Please also regard https://review.typo3.org/#/c/11368/4 in that matter"
51239,TYPO3.Fluid,Bug,"",Under Review,Must have,"AbstractViewHelper use incorrect method signature for ""$this->systemLogger->log()""",Timo Dödtmann,Adrian Föder,2014-04-11 05:17,Core,"",2013-08-21,"","",0,2013-08-21 11:20,"","",1310050,"",Flow 2.0.0,"Within the `AbstractViewHelper::callRenderMethod()` a log entry will be created if en exception is thrown.
But the method signature of the systemLogger (\TYPO3\Flow\Log\LoggerInterface) looks slightly different to the method call.

TYPO3\Flow\Log\LoggerInterface
<pre>
public function log($message, $severity = LOG_INFO, $additionalData = NULL, $packageKey = NULL, $className = NULL, $methodName = NULL);
</pre>

vs.

TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper
<pre>
$this->systemLogger->log('An Exception was captured: '. $exception->getMessage() . '(' . $exception->getCode() . ')', LOG_ERR, 'TYPO3.Fluid', get_class($this));
</pre>

The `$additionalData` is missing."
51255,TYPO3.Flow,Bug,"",Resolved,Should have,CommandController: Fix parsing of boolean values,Timo Dödtmann,Bastian Waidelich,2014-05-11 06:54,Command,"",2013-08-22,"","",0,2013-08-22 06:40,"","",1310850,"",Flow 2.0.0,"I have the following (awesome) command:
<pre>
<?php
namespace Acme\Demo\Command;

use TYPO3\Flow\Annotations as Flow;

/**
 * TestCommand
 *
 * @Flow\Scope(""singleton"")
 */
class MyCommandController extends \TYPO3\Flow\Cli\CommandController {

	/**
	 * @param boolean $myParam A boolean value
	 * @return void
	 */
	public function commandCommand($myParam) {
		echo sprintf(""Result: %s\n\n"", var_export($myParam, 1));
	}

}
</pre>

Now, it will be called in the terminal as followed:

<pre>
$ ./flow my:command --myParam FALSE
Result: bool (false)

$ ./flow my:command --myParam=FALSE
Result: bool (true)
</pre>

The last command returns `TRUE` but `FALSE` is passed, because the passed value is interpreted as a string (probably because of the prefix `=`).

I'm not quite sure if it is really a bug, but it would be nice if it is interpreted as ""bool (false)""."
51257,TYPO3.Flow,Bug,"",Resolved,Should have,Command routing:routepath never shows Format name,Philipp Maier,Philipp Maier,2013-08-27 06:10,"","",2013-08-22,"","",100,2013-08-22 07:14,"","",1310950,"",Git master,"If format is defined:
<pre>
  Controller: standard
  Action: index
  Format: 1
</pre>

If format is not defined:
<pre>
  Controller: standard
  Action: index
  Format: -
</pre>"
51277,TYPO3.Fluid,Feature,"",New,Should have,ViewHelper context should be aware of actual file occurrence,Adrian Föder,"",2013-08-23 02:43,"","",2013-08-23,"","",0,2013-08-23 02:43,"","",1311950,"","","Especially when it comes to errors, or the need of determining a package, ViewHelpers need to know in what file they are noted.

Currently I know of the following cases:

* Every kind of error like ""argument foo needs to be supplied"", or exceptions thrown in ViewHelpers
* ViewHelpers that need to find out a package name, like f:translate and the .action VHs

The last case currently attempts to get this information (the current controller, hence package) from the Request, but there are cases where the Request is not available (starting with StandaloneView). So when using a ViewHelper and skipping any ""package"" argument, I as the integrator would expect the package where the current file resides as the default.

I don't know that much about the parsing internals, but I think it would get really tough since Fluid works on strings rather soon, right?
Maybe Layouts, Templates and Partials can be Objects with a ""sourceFile"", a ""sourceCode"" and a __toString method, and ViewHelpers have access to these objects... just an idea... No clue if that's possible in any way."
51286,TYPO3.Flow,Task,"",New,Should have,Custom error views should introduce a controller context somehow,Adrian Föder,"",2013-08-23 05:24,"","",2013-08-23,"","",0,2013-08-23 05:24,"","",1312400,"","","The error views use Fluid's standalone view, resulting in many possibilities to crash, because most Fluid features depend on a controller context to be set.

Just to mention:

* f:form's @referrer... fields are empty, resulting in consequential errors when using for a login for example [1]
* any uri/action related stuff with omitted package argument won't work because no package information is present
* same for f:translate for example

So, as far as I see it, that standalone view should get a (pseudo-) controller context set...


[1]: for the record, such a consequential error could be using @$this->request->getReferringRequest()@ in the @onAuthenticationSuccess()@ method, this again calls @$referringRequest->setArguments()@ with empty, but set values, eventually ending up with @TYPO3\Flow\Mvc\Exception\InvalidActionNameException('The action name must not be an empty string.', 1289472991)@."
51312,TYPO3.Flow,Bug,"",New,Should have,Default php error handler generates warning (when loading TYPO3\Flow\Error\Exception class),Claudio Kressibucher,"",2013-08-24 10:07,Core,2.0,2013-08-24,"","",0,2013-08-24 09:49,"","",1313700,"",Flow 2.0.0,"Warning is generated when trying to load TYPO3\Flow\Error\Exception from Cache.
Tested in Version 2.0.0 (Flow)
PHP-Version 5.4.9

Steps to reproduce:
- configure server to show warnings
- Install Quickstart via composer (as in the Quickstart tutorial)
- The welcome page shows Warning on include_once(path/to/cached/TYPO3_Flow_Error_Exception.php)
  (only if this file does not exist in the Cache-Directory, which was
   the default setup as I followed the Quickstart tutorial)

Problem is in TYPO3\Flow\Error\ErrorHandler:
- try to load class TYPO3_Flow_Object_ObjectManager from cache
  (via include_once in SimpleFileBackend::requireOnce)
- The error handler (ErrorHandler::handleError) is executed.
  To prevent infinite recursive loops, php resets error handler
  to default while executing the custom error handler.
  (See http://php.net/manual/de/function.set-error-handler.php#48933)
- In line 79 class_exists('TYPO3\Flow\Error\Exception') gets executed.
  This will also generate the error when failing to include the file
  TYPO3_Flow_Error_Exeption.php from cache. But now php's default
  error handler is executed and therefor a warning is generated and
  send to the browser.
- The Exception-Class is loaded from Package-File, so everything is
  working fine. The only problem is the warning that should not be
  generated.
"
51385,TYPO3.Flow,Bug,"",Resolved,Should have,"BooleanConverter considers ""false"" TRUE",Bastian Waidelich,Bastian Waidelich,2014-05-11 06:54,Property,"",2013-08-27,"","",100,2013-08-27 06:37,"","",1317300,"",Git master,"The BooleanConverter provided by Flow simply casts the $source to a boolean using boxing:
<pre>
<code class=""php"">
return (boolean)$source;
</code>
</pre>

This leads to some weird inconsistencies, e.g. the string ""false"" returning TRUE."
51405,TYPO3.Flow,Feature,Task #55953: Repair and streamline ValueObject support,Rejected,Could have,Fix OneTo* associations from ValueObjects,Adrian Föder,Adrian Föder,2015-02-12 08:26,Persistence,"",2013-08-27,"","",0,2013-08-27 10:55,"","",1318300,"","","ValueObjects are reusable (or reused) from a relational database point of view, i.e. they have a unique constraint. Having a ValueObject referencing other entities with a OneTo* association will fail if another instance of the valueobject intends to reference the same object: there will be a unique constraint error because the object occurrs twice then.

Maybe the Driver should make a ManyTo* out of these."
51459,TYPO3.Flow,Feature,"",New,Should have,Allow catching of particular exceptions on property mapping,Adrian Föder,"",2013-10-22 07:44,MVC,"",2013-08-28,"","",0,2013-08-28 09:24,"","",1321000,"","","I stumbled upon this requirement since I got a @TYPO3\Flow\Property\Exception\TargetNotFoundException@ in the @\TYPO3\Flow\Property\TypeConverter\PersistentObjectConverter::fetchObjectFromPersistence@ method: this one leads to an @TYPO3\Flow\Property\Exception@ exception, hence the custom error view handling is not able to catch the actual exception and result into a 404, for example.

My idea would be to allow one to catch particular property mapping exceptions and call user defined code, this could look, for example, like

<pre><code class=""php"">
public function initializeShowAction() {
    $productPropertyMappingConfiguration = $this->arguments->getArgument('product')->get.....;
    $productPropertyMappingConfiguration
    //  ->forProperty('datasheetResource')
      ->catchTypeConverterException(
          'TYPO3\Flow\Property\Exception\TargetNotFoundException',
          1297933823,
          function(\Exception $exception) use ($controller) {
              $controller->getResponse->setHeader(404);
              // ok this is becoming pseudo code now ;)
          })
}
</code></pre>

"
51489,TYPO3.Flow,Bug,"",New,-- undefined --,Doctrine\Common\Annotations\AnnotationException thrown in file AnnotationException.php,Christian Loock,"",2014-02-06 04:20,Annotations,"",2013-08-29,"","",0,2013-08-29 04:01,"","",1322500,"",Flow 2.0.0,"For some reason, the Annotation Parser does not recognize My Class being annotated as being an Annotation.

I tracked the issue down to the DocParser Class. Which uses PHPs \ReflectionClass->getDocComment and looks for @Annotation.

Now, the fun thing is, that the getDocComment method, only returns the actual comment, but strips all Annotations:

Here is what my DocBlock looks like:

...

/**
 * This annotations describes wether an action is part of a Tab Group,
 * which then will be displayed together with other
 * Actions of other controllers in a tabbed view in the admin backend
 * 
 * @Annotation
 * @author Christian Loock <chl@vkf-renzel.de>
 * @Target({""METHOD""})
 */
class TabGroup {


..

And here is, what getDocComment returns:

string '/**
 * This annotations describes wether an action is part of a Tab Group,
 * which then will be displayed together with other
 * Actions of other controllers in a tabbed view in the admin backend
 */' (length=200)

Since this seems to be a Bug in a PHP function, you might consider not using it at this point, and use your own parser, to retrieve docblocks.


[Semantical Error] The class ""VKF\Admin\Annotations\TabGroup"" is not annotated with @Annotation. Are you sure this class can be used as annotation? If so, then you need to add @Annotation to the _class_ doc comment of ""VKF\Admin\Annotations\TabGroup"". If it is indeed no annotation, then you need to add @IgnoreAnnotation(""Admin\TabGroup"") to the _class_ doc comment of method VKF\Admin\Controller\CustomerController_Original::editAction().
21 Doctrine\Common\Annotations\AnnotationException::semanticalError(""The class &quot;VKF\Admin\Annotations\TabGroup&quot; is not ?troller\CustomerController_Original::editAction()."")

20 Doctrine\Common\Annotations\DocParser::Annotation()

19 Doctrine\Common\Annotations\DocParser::Annotations()

18 Doctrine\Common\Annotations\DocParser::parse(""/**?     * @Admin\TabGroup(&quot;customerEdit&quot;)?     * ?\VKF\Admin\Domain\Model\Customer $customer?     */"", ""method VKF\Admin\Controller\CustomerController_Original::editAction()"")

17 Doctrine\Common\Annotations\AnnotationReader::getMethodAnnotations(TYPO3\Flow\Reflection\MethodReflection)

16 TYPO3\Flow\Reflection\ReflectionService::getMethodAnnotations(""VKF\Admin\Controller\CustomerController"", ""editAction"", ""TYPO3\Flow\Annotations\ValidationGroups"")

15 TYPO3\Flow\Reflection\ReflectionService::getMethodAnnotation(""VKF\Admin\Controller\CustomerController"", ""editAction"", ""TYPO3\Flow\Annotations\ValidationGroups"")

14 TYPO3\Flow\Mvc\Controller\ActionController_Original::getActionValidationGroups(TYPO3\Flow\Object\ObjectManager)

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::initializeActionMethodValidators()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
51530,TYPO3.Flow,Task,"",New,Should have,Improve speed of Files::readDirectoryRecursively using RecursiveDirectoryIterator?,Jacob Floyd,"",2013-08-29 13:49,"","",2013-08-29,"","",0,2013-08-29 10:23,"","",1324550,"","","h2. Basics (TL;DR)

@TYPO3/Flow/Utility/Files::readDirectoryRecursively@ uses @\DirectoryIterator@ instead of @\RecursiveDirectoryIterator@. I suspect that an implementation using @\RecursiveDirectoryIterator@ would be faster.

Let's write a version of @readDirectoryRecursively@ that uses @\RecursiveDirectoryIterator@ and profile the two versions to see which one is faster.

h2. Background

When I asked about it in IRC, ChristianM said this:

> ChristianM: if I remember right there was some oddness to the RecursiveDirectoryIterator
> that we wanted to avoid but I don't remember the specifics

Consider this a selection of ""PHP Release dates"":http://php.net/releases/index.php
<pre>
01 May 2008 - PHP 5.2.6
10 May 2008 - Flow's Files::readDirectoryRecursively introduced
30 Jun 2009 - PHP 5.3.0
17 Sep 2009 - PHP 5.2.11
19 Nov 2009 - PHP 5.3.1
</pre>

According to the ""Changelog for @\RecursiveDirectoryIterator@"":http://php.net/manual/en/class.recursivedirectoryiterator.php
<pre>
5.2.11 - Introduced RecursiveDirectoryIterator::FOLLOW_SYMLINKS
5.3.0  - Extends FilesystemIterator (which extends DirectoryIterator) instead of DirectoryIterator
5.3.0  - Implements SeekableIterator
5.3.1  - Introduced RecursiveDirectoryIterator::FOLLOW_SYMLINKS
</pre>

We don't even support 5.2 anymore, and haven't for a long time. I suspect that the oddness with @\RecursiveDirectoryIterator@ has been fixed already, so I think that using @\RecursiveDirectoryIterator@ is probably feasible now.

h2. Stub Method

This is the same function only it doesn't filter hidden directories, just hidden files.
<pre>
	static public function readDirectoryRecursively($path, $suffix = NULL, $returnRealPath = FALSE, $returnDotFiles = FALSE, &$filenames = array()) {
		if (!is_dir($path)) {
			throw new Exception('""' . $path . '"" is no directory.', 1207253462);
		}

		$directoryIterator = new \RecursiveIteratorIterator(
			new \RecursiveDirectoryIterator(
				$path,
				\FilesystemIterator::UNIX_PATHS|\FilesystemIterator::SKIP_DOTS|\FilesystemIterator::FOLLOW_SYMLINKS
			)//,
			//\RecursiveIteratorIterator::SELF_FIRST //returns directories as well.
		);
		$suffixLength = strlen($suffix);

		foreach ($directoryIterator as $pathname => $fileInfo) {
			$filename = $fileInfo->getFilename();
			if ($returnDotFiles === FALSE && $filename[0] === '.') {
				continue;
			}
			//This is needed if directories are included (see SELF_FIRST above)
			//if ($fileInfo->isFile() && ($suffix === NULL || substr($filename, -$suffixLength) === $suffix)) {
			if ($suffix === NULL || substr($filename, -$suffixLength) === $suffix) {
				$filenames[] = self::getUnixStylePath(($returnRealPath === TRUE ? realpath($pathname) : $pathname));
			}
		}
		return $filenames;
	}
</pre>"
51570,TYPO3.Flow,Feature,"",Resolved,Should have,Unpersisted changes in Safe Requests should throw an Exception,Marc Neuhaus,"",2014-04-10 04:18,"","",2013-08-30,"","",100,2013-08-30 06:03,"","",1326550,"","","With the recent change to not trigger persistAll in safe request methods (GET/HEAD) some users
stumble over not getting their entities saved because of this. Altough it's written to the log
and mentioned in the docs i think we should also throw an exception telling the developer about this
if the following conditions are met:

* the current request method is a safe request method (GET/HEAD)
* the current context is the development context
* the user added/updated/removed an entity using a Repository or PeristenceManager
* the user *did not* trigger persistAll using the PersistenceManager on it's own"
51652,TYPO3.Flow,Task,"",Resolved,Should have,cache:warmup should cache every possible configuration,Adrian Föder,Adrian Föder,2013-09-10 11:35,Configuration,"",2013-09-02,"","",100,2013-09-02 09:45,"","",1330650,"","","currently, flow:cache:warmup only caches configuration on a random base; however, every possible configuration source should be touched and cached in order to prepare the Production environment, for example."
51676,TYPO3.Flow,Feature,"",Under Review,Should have,Support of symlinks for Resources,Patrick Pussar,"",2015-06-13 06:51,Resource,"",2013-09-03,"","",100,2013-09-03 08:07,"","",1331850,"","","We are using Typo3.Surf as deployment tool. Surf creates a folder structure with symlinks during the deployment. When creating a resource (e.g. uploading a file), flow will not use the symlink name (sites/foobar.com/releases/current/Web/...) but the real path (sites/foobar.com/releases/201309021405/Web/...).

Surf keeps by default 5 releases, so in our case the resources are lost after 5 deployments.

To solve this behavior we need to keep the symlink path instead of the real one in resource entities."
51704,TYPO3.Flow,Bug,"",New,-- undefined --,TYPO3\Flow\Error\Exception thrown in file ErrorHandler.php,trigger happy,"",2013-09-17 02:42,- Error Handler Report -,"",2013-09-04,"","",0,2013-09-03 19:59,"","",1333250,"",(any),"Warning: file_exists() [<a href='function.file-exists'>function.file-exists</a>]: Unable to find the wrapper &quot;resource&quot; - did you forget to enable it when you configured PHP? in /var/www/neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_View_TemplateView.php line 273
18 TYPO3\Flow\Error\ErrorHandler::handleError(2, ""file_exists() [&lt;a href='function.file-exists'&gt;func?d you forget to enable it when you configured PHP?"", ""/var/www/neos/Data/Temporary/Development/Cache/Cod?w_Object_Classes/TYPO3_Fluid_View_TemplateView.php"", 273, array|4|)

17 file_exists(""resource://TYPO3.Setup/Private/Templates/Login/Login.html"")

16 TYPO3\Fluid\View\TemplateView_Original::getTemplatePathAndFilename(NULL)

15 TYPO3\Fluid\View\TemplateView_Original::getTemplateIdentifier(NULL)

14 TYPO3\Fluid\View\AbstractTemplateView::render()

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Installed under Ubuntu with the latest PHP and MySQL.
I get this error during the setup progress.

Registered Stream Filters are: zlib.*, bzip2.*, convert.iconv.*, string.rot13, string.toupper, string.tolower, string.strip_tags, convert.*, consumed, dechunk, mcrypt.*, mdecrypt.*

System: Linux ubuntuWServer 3.8.0-29-generic #42~precise1-Ubuntu SMP Wed Aug 14 16:19:23 UTC 2013 x86_64
"
51713,TYPO3.Flow,Feature,"",Resolved,Should have,Improve rendering of large exceptions,Bastian Waidelich,Bastian Waidelich,2013-09-24 09:18,Error,"",2013-09-04,"","",100,2013-09-04 05:15,"","",1333650,"","","Exceptions with a long message are hard to read when rendered with the DebugExceptionHandler currently:
!http://dl.dropbox.com/u/314491/Screenshots/2k_jvcqhvlbl.png!

Things could be improved by running the message through @nl2br()@ and reducing the font weight"
51763,TYPO3.Flow,Bug,"",New,Should have,HttpRequest always returns content of the current request,Bastian Waidelich,"",2015-02-20 06:53,Http,"",2013-09-05,"","",0,2013-09-05 05:30,"","",1336150,"",Flow 2.0.0,"This is a bit hard to describe and I'm not 100% sure whether this is a bug in the Http\Request or in the calling code:


When using The *\TYPO3\Flow\Http\Client\Browser* like this:
<pre>
<code class=""php"">
$request = \TYPO3\Flow\Http\Request::create(new \TYPO3\Flow\Http\Uri($uri), $method, $arguments);
$response = $this->browser->sendRequest($request);
</code>
</pre>

The default request engine (= CurlEngine) ignores *$arguments* and instead sends the content of the *current* request!

The reason for this is following code in CurlEngine:
<pre>
<code class=""php"">
$content = $request->getContent();
// ...
$body = $content !== '' ? $content : http_build_query($request->getArguments());
curl_setopt($curlHandle, CURLOPT_POSTFIELDS, $body);
</code>
</pre>

So the engine prefers the request body over its arguments (which I think is correct) ? the issue seems to be that Http\Request::getContent() returns the *current* input stream:
<pre>
<code class=""php"">
if ($this->content === NULL) {
    $this->content = file_get_contents($this->inputStreamUri);
}
</code>
</pre>

A nasty work around is to call $request->setContent('') after creating the request object in the client code.."
51809,TYPO3.Flow,Bug,"",Under Review,Must have,"Commit ""[BUGFIX] Published resources don't support symlinks"" produces an fatal error on Windows",Thomas Allmer,Adrian Föder,2015-06-13 06:51,Core,2.0.1,2013-09-06,"","",100,2013-09-06 06:48,"","",1338400,"",Git master,"hey 
the following change 
https://review.typo3.org/#/c/23555/
https://git.typo3.org/Packages/TYPO3.Flow.git/commit/64480cd47066458bfd9a15a9a10f1760e5a0a3b4

produces a fatal error on my System:
Windows 8
PHP 5.4.3

Detailed Error Message:
https://gist.github.com/daKmoR/6461532"
51811,TYPO3.Flow,Bug,"",New,Should have,Improve session handle when the authenticated account is removed from persitance,Dominique Feyer,Dominique Feyer,2014-03-27 07:21,"","",2013-09-06,"","",0,2013-09-06 07:56,"","",1338500,"",(any),"Currently Flow throw an exception when the current authenticated account is removed from the persistence. This exception can be catched and the session destroyed, sound like a more natural handling of this kind of event."
51847,TYPO3.Flow,Bug,"",New,Should have,Overiding controller actions with other required parameter sets results in fatal error.,Frans Saris,"",2013-09-09 04:54,Reflection,2.x,2013-09-09,"","",0,2013-09-09 04:54,"","",1340250,"",Flow 2.0.0,"We have a own abstract controller with some actions without parameters.
When we extend this controller and override an action with a action that expects parameters we get the following Fatal error.
<pre>
Fatal error: Call to a member function get() on a non-object in Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Controller_ActionController.php on line 223
</pre> 

When we add default values for the properties it works.

Here a snippet to reproduce the problem:

<pre>
class TestMyAbstractController extends \TYPO3\Flow\Mvc\Controller\ActionController {

	public function listAction() {
		return 'abstractList';
	}
}

class TestController extends TestMyAbstractController {

	/**
	 * @param \TYPO3\Party\Domain\Model\AbstractParty $party
	 */
	public function listAction(\TYPO3\Party\Domain\Model\AbstractParty $party) {
		return 'list';
	}

	/**
	 * @param \TYPO3\Party\Domain\Model\AbstractParty $party
	 */
	public function newAction(\TYPO3\Party\Domain\Model\AbstractParty $party) {
		return 'new';
	}

}
</pre>


When we now call package/test/new we get the error: Fatal error: Call to a member function get() on a non-object in ....

Then we change:
<pre>
	/**
	 * @param \TYPO3\Party\Domain\Model\AbstractParty $party
	 */
	public function listAction(\TYPO3\Party\Domain\Model\AbstractParty $party = NULL) {
		return 'list';
	}
</pre>

Then when we call package/test/new we get the right error: Required argument ""party"" is not set.


tested in 2.0 beta 3, 2.0 and master"
51972,TYPO3.Flow,Bug,"",New,Should have,Joins for every deep property constraint make cartesian selection,Adrian Föder,Adrian Föder,2013-09-13 04:04,"","",2013-09-13,"","",0,2013-09-13 04:04,"","",1346450,"",Git 2.0,"When it comes to property lookups as in
<pre>
$query->logicalAnd(
	$query->contains('categories.posts', $firstPost),
	$query->equals('categories.approved', TRUE)
)
</pre>

there are LEFT JOINs for both constraints each, resulting in something like 
<pre>
SELECT e FROM Acme\Post e
LEFT JOIN e.categories categories0
LEFT JOIN e.categories categories1
WHERE ?1 MEMBER OF categories0.posts
AND categories1.approved = ?2
</pre>

This, at the end, likely resulted into unpredicted
matches because it would match those Posts where
a category having approved = false is involved in
the post in question, as long as this category belongs
to an (arbitrary) Post having any category approved = true.

Consider the following testing code:
<pre><code class=""php"">
<?php
public function complexQueryWithJoinsMakesCorrectConjunctions() {
	$postEntityRepository = new PostRepository;

	$notApprovedCategory = new Category();
	$approvedCategory = new Category();
	$approvedCategory->setApproved(TRUE);

	$firstPost = new Post;
	$firstPost->setTitle('First Post');
	$firstPost->addCategory($notApprovedCategory);
	$postEntityRepository->add($firstPost);

	$secondPost = new Post;
	$secondPost->setTitle('Second Post');
	$secondPost->addCategory($notApprovedCategory);
	$secondPost->addCategory($approvedCategory);
	$postEntityRepository->add($secondPost);

	$thirdPost = new Post;
	$thirdPost->setTitle('Third Post');
	$thirdPost->addCategory($approvedCategory);
	$postEntityRepository->add($thirdPost);

	$this->persistenceManager->persistAll();

	$query = new Query('TYPO3\Flow\Tests\Functional\Persistence\Fixtures\Post');
	$query->matching(
		$query->logicalAnd(
			$query->contains('categories.posts', $firstPost),
			$query->logicalNot($query->equals('Persistence_Object_Identifier', $this->persistenceManager->getIdentifierByObject($firstPost))),
			$query->equals('categories.approved', TRUE)
		)
	);
	$this->assertEquals(0, $query->count());
}
</code></pre>

The intention is to find all Posts which have the same
*approved* category as the _First Post_. In the shown example,
the _First Post_ shares an *unapproved* category with the
_Second Post_, and the _Second Post_ shares an *approved* category
with the _Third Post_.
The query gives a single result which is the _Second Post_, but
this is not correct since the _Second Post_ does only share an
*unapproved* category with the _First Post_ which was asked for.
The _Second_ only ""coincidentally"" also is involved in an
*approved* category with the _Third Post_.

A fix is under review at https://review.typo3.org/#/c/23751/"
52005,TYPO3.Flow,Bug,"",New,Could have,TYPO3\Flow\Error\Exception thrown in file ErrorHandler.php,Christian Eßl,"",2013-09-14 08:22,- Error Handler Report -,"",2013-09-14,"","",0,2013-09-14 08:22,"","",1348100,"",Flow 2.0.0,"The following exception is thrown if I try to call the tearDown()-method of the PersistenceManager:

<pre>
Notice: Undefined index: path in /path_to_flow/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Persistence_Doctrine_PersistenceManager.php line 309
17 TYPO3\Flow\Error\ErrorHandler::handleError(8, ""Undefined index: path"", ""/hpath_to_flow/?3_Flow_Persistence_Doctrine_PersistenceManager.php"", 309, array|0|)

16 TYPO3\Flow\Persistence\Doctrine\PersistenceManager_Original::tearDown()
</pre>

It appears that the setting ""$this->settings['backendOptions']['path']"" does not exist and has been replaced by $this->settings['backendOptions']['host']."
52014,TYPO3.Flow,Bug,"",New,Should have,Migration makes fields NOT NULL even though not true,Soren Malling,"",2013-10-15 12:27,Persistence,"",2013-09-15,"","",0,2013-09-15 01:48,"","",1348550,"",Git master,"Hi,

Shitty description, so I hope this example explains it further:

Running latest composer update

Model
<pre>

/**
 * @Flow\Entity
 */
class Product {

	/**
	 * Title
	 *
	 * @var string
	 * @Flow\Validate(type=""NotEmpty"")
	 */
	protected $title;

	/**
	 * Description
	 *
	 * @var string
	 */
	protected $description;

	/**
	 * Price
	 *
	 * @var boolea
	 */
	protected $price;

</pre>

Migration:

<pre>
$this->addSql(""CREATE TABLE vendor_project_domain_model_product (persistence_object_identifier VARCHAR(40) NOT NULL, title VARCHAR(255) NOT NULL, description VARCHAR(255) NOT NULL, price DOUBLE PRECISION NOT NULL, PRIMARY KEY(persistence_object_identifier)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB"");
</pre>

Issue:

Submitting a form with the ""title"" and ""description"" field, only filling out the ""title"" field throws the following error

<pre>
An exception occurred while executing 'INSERT INTO vendor_project_domain_model_product (persistence_object_identifier, title, description, price) VALUES (?, ?, ?, ?)' with params [""f758bfb0-8270-4e13-f2b0-606739355187"", ""Produkt navn"", """", null]: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'price' cannot be null 
</pre>

Price field is required (on database (See migration) level) even though not marked as validate(type=""NotEmpty"") in my model.

Migration generated with ./flow doctrine:migrationgenerate"
52064,TYPO3.Flow,Feature,"",Resolved,Should have,HTTP components for handling requests,Bastian Waidelich,Bastian Waidelich,2014-08-05 06:00,Http,"",2013-09-17,"","",100,2013-09-17 04:49,"","",1351050,"","","Currently the only way to hook into the request handling process one has to use a custom RequestHandler (e.g. for CLI requests) or AOP (e.g. to capture Fluid AJAX-Widget requests).
With ""HTTP components"" request handling in Flow will be much more modular and flexible.

The default component chain would be something like this: 
<pre>
<code class=""yaml"">
TYPO3:
  Flow:
    http:
      chain:
        'routing':
          position: 'start'
          component: TYPO3\Flow\Mvc\Routing\RoutingComponent
          componentOptions:
            'defaultDispatchComponent': 'TYPO3\Flow\Mvc\DispatchComponent'
        'standardCompliancy':
          position: 'end'
          component: TYPO3\Flow\Http\Component\MakeStandardsCompliantComponent
</code>
</pre>

As you can see from the example above the component chain can be nested. So it will be possible to use the Flow Routing Framework to dispatch a 3rd party code directly for example.
For handling Fluid AJAX widget requests we no longer need AOP-hacks, but a simple HTTP component, configured like this:
<pre>
<code class=""yaml"">
TYPO3:
  Flow:
    http:
      chain:
        'ajaxWidget':
          position: 'before routing'
          component: TYPO3\Fluid\Core\Widget\AjaxWidgetComponent
</code>
</pre>"
52068,TYPO3.Flow,Bug,"",Closed,Should have,ArrayConverter should accept empty strings,Christian Eßl,"",2013-09-26 12:31,Property,"",2013-09-17,"","",0,2013-09-17 05:50,"","",1351250,"",Flow 2.0.0,"Imagine a select-box like this:

<pre>
<label for=""categories"">Categories:</label> 
<select name=""content[categories][]"" multiple=""TRUE"" id=""categories"">
  <option value=""0"">Category 1</option>
  <option value=""1"">Category 2</option>
  <option value=""2"">Category 3</option>
</select>
</pre>

with this array-property:

<pre>
/**
 * @var array 
 */ 
protected $categories;
</pre>

The select box allows multiple selected categories and none is selected by default.

If you submit the form without selecting any category, the PropertyMapper throws the exception:
<pre>
No converter found which can be used to convert from"" ""string"" to ""array"".
</pre>

The property mapper treats the empty values of the categories-select as string. 
Shouldn't in this case the ArrayConverter accept empty strings and convert them to an empty *array()*?"
52074,TYPO3.Flow,Feature,"",Resolved,Should have,Flexible ArraySorter,Bastian Waidelich,Bastian Waidelich,2013-09-23 07:35,Utility,"",2013-09-17,"","",100,2013-09-17 08:35,"","",1351500,"","","The *ArrayImplementation* of the *TYPO3.TypoScript* package contains a clever mechanism to sort arrays depending on a ""position string"".
This functionality should be moved to the TYPO3.Flow package to allow this kind of flexible sorting in other places.

Supported position strings are:

*start (<weight>)*:
<pre>
start
start 123
</pre>

*end (<weight>)*:
<pre>
end
end 123
</pre>

*before <key> (<weight>)*:
<pre>
before foo
before foo 123
</pre>

*after <key> (<weight>)*:
<pre>
after foo
after foo 123
</pre>

*<numerical-order>*:
<pre>
123
</pre>

This feature is especially useful for sorting configuration options with multiple sources.
Example:

<pre>
<code class=""yaml"">
SomeSetting:
  'key1':
    foo: 'bar'
    position: 'start'
  'key2':
    foo: 'baz'
    position: 'after key1'
  'key3':
    foo: 'quux'
    position: 'end'
</code>
</pre>"
52182,TYPO3.Fluid,Bug,"",Rejected,Should have,& vs. &amp;,mario chiari,Bastian Waidelich,2013-09-24 09:16,ViewHelpers,"",2013-09-23,"","",0,2013-09-23 05:38,"","",1356900,"",Flow 2.0.0,"see http://www.htmlhelp.com/tools/validator/problems.html#amp
It seems that Fluid renders 
<pre>
<f:uri.action ... arguments=""{obj1:value1, obj2:value2}""></f:uri.action>
</pre>
as 
<pre>
obj1=value1&obj2=value2
</pre>
instead of 
<pre>
obj1=value1&amp;obj2=value2
</pre>
"
52185,TYPO3.Flow,Bug,"",New,Could have,PositionalArraySorter should detect recursive dependencies,Bastian Waidelich,"",2013-09-23 07:02,Utility,"",2013-09-23,"","",0,2013-09-23 07:02,"","",1357050,"",Git master,"The PositionalArraySorter currently doesn't detect endless loops triggered by a configuration like
<pre>
<code class=""yaml""
'foo':
  position: 'before bar'
'bar'
  position: 'before foo'
</code>
</pre>

I consider this a minor bug because PHP detects the recursion and issues a warning:
<pre>
PHP Warning:  array_walk_recursive(): recursion detected...
</pre>"
52216,TYPO3.Flow,Bug,"",Closed,-- undefined --,TYPO3\Flow\Error\Exception thrown in file ErrorHandler.php,Tansel Cubuk,Tansel Cubuk,2013-09-24 08:01,- Error Handler Report -,"",2013-09-24,"","",0,2013-09-24 05:38,"","",1358600,"",Flow 2.0.0,"<pre>
Warning: symlink(): Cannot create symlink, error code(1314) in E:\weblocal\flow1\Quickstart\Data\Temporary\Development\Cache\Code\Flow_Object_Classes\TYPO3_Flow_Resource_Publishing_FileSystemPublishingTarget.php line 116
21 TYPO3\Flow\Error\ErrorHandler::handleError(2, ""symlink(): Cannot create symlink, error code(1314)"", ""E:\weblocal\flow1\Quickstart\Data\Temporary\Develo?Resource_Publishing_FileSystemPublishingTarget.php"", 116, array|3|)

20 symlink(""E:/weblocal/flow1/Quickstart/Packages/Framework/TYPO3.Flow/Resources/Public"", ""E:/weblocal/flow1/Quickstart/Web/_Resources/Static/Packages/TYPO3.Flow"")

19 TYPO3\Flow\Resource\Publishing\FileSystemPublishingTarget_Original::publishStaticResources(""E:/weblocal/flow1/Quickstart/Packages/Framework/TYPO3.Flow/Resources/Public/"", ""Packages/TYPO3.Flow/"")

18 TYPO3\Flow\Resource\Publishing\ResourcePublisher_Original::publishStaticResources(""E:/weblocal/flow1/Quickstart/Packages/Framework/TYPO3.Flow/Resources/Public/"", ""Packages/TYPO3.Flow/"")

17 TYPO3\Flow\Resource\ResourceManager_Original::publishPublicPackageResources(array|19|)

16 TYPO3\Flow\Core\Booting\Scripts::initializeResources(TYPO3\Flow\Core\Bootstrap)

15 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)

14 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)

13 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

12 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

11 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

10 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

9 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

8 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)

3 TYPO3\Flow\Http\RequestHandler::boot()

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()
</pre>

Please include more helpful information!"
52280,TYPO3.Flow,Task,"",Under Review,Should have,Throw Exception if there is an array in PSR-0 autoload,Michael Gerdemann,"",2013-10-05 05:30,"","",2013-09-26,"","",0,2013-09-26 01:46,"","",1361750,"","","It would be nice if TYPO3 Flow throws an Exception if there is an array in PSR-0 autoload in composer.json.

Example:
<pre>
""autoload"": { ""psr-0"":{ ""placeholder"": [""src/"", ""src2/""] } },
</pre>

Patch:
<pre>
if (is_array($this->getComposerManifest()->autoload->{'psr-0'}->{$this->getNamespace()})) {
	throw new \TYPO3\Flow\Package\Exception\InvalidPackageManifestException(sprintf('The autoload for package ""%s"" is an array. Please change it to string at ""%scomposer.json"".', $packageKey, $this->packagePath.$manifestPath), 1380172921);
}

</pre>"
52311,TYPO3.Flow,Bug,"",Resolved,Must have,Uuid validator doesn't have string boundaries,Adrian Föder,Adrian Föder,2014-07-11 14:19,Validation,"",2013-09-26,"","",100,2013-09-26 12:34,"","",1363300,"",Git 2.0,"\TYPO3\Flow\Validation\Validator\UuidValidator::$PATTERN_MATCH_UUID is '/([a-f0-9]){8}-([a-f0-9]){4}-([a-f0-9]){4}-([a-f0-9]){4}-([a-f0-9]){12}/' and therefore a UUID like 9e6e8e93-36b7-4158-9893-257632bc7a37sdsdflkjsdflkj is considered valid, incorrectly ofc"
52419,TYPO3.Fluid,Bug,"",New,Should have,Wrong PHPDocs notation for default value inline f:translate viewhelper,Frans Saris,"",2013-10-01 03:10,"",2.0,2013-10-01,"","",0,2013-10-01 03:03,"","",1368550,"",Git master,"The inline documentation in TYPO3\Fluid\ViewHelpers\TranslateViewHelper states:
<pre>
<code title=""Inline notation"">
{f:translate(id: 'some.label.id', default: 'fallback result')}
</code>
</pre>

But this has to be:

<pre>
<code title=""Inline notation"">
{f:translate(id: 'some.label.id', value: 'fallback result')}
</code>
</pre>"
52424,TYPO3.Eel,Feature,"",Resolved,Should have,Implement Cache for generated EEL Expression Code,Christian Müller,"",2013-10-01 05:36,"","",2013-10-01,"","",100,2013-10-01 04:48,"","",1368800,"","",Cache the evaluated methods that represent EEL expressions into a file cache to save the parsing step.
52425,TYPO3.Flow,Bug,"",Resolved,Should have,"""Required option"" flag in AbstractValidatior does not work correct",Michael Gerdemann,"",2013-10-04 10:35,"","",2013-10-01,"","",100,2013-10-01 05:52,"","",1368850,"",Flow 2.0.0,"The ""required"" flag for the options in source:/Classes/TYPO3/Flow/Validation/Validator/AbstractValidator.php does not work correct.
If the flag is set to *FALSE*, the option is nevertheless *TRUE*.

Example (does not work):
<pre>
protected $supportedOptions = array(
	'optionName'   => array('default, 'Description', 'mixed', FALSE)
);
</pre>"
52430,TYPO3.Flow,Bug,"",New,Should have,Cannot convert from UUID to auto-increment ID,Vladimir B,"",2013-10-01 09:48,"","",2013-10-01,"","",0,2013-10-01 09:48,"","",1369100,"",Flow 2.0.0,"Hi all

I think I found a bug - when I tried to convert a model to use an auto-increment ID instead of the UUID, the doctrine:update failed with message:

Uncaught Exception
  An exception occurred while executing 'ALTER TABLE
  mytable DROP persistence_object_identifier, CHANGE
  id id INT AUTO_INCREMENT NOT NULL':
  
  SQLSTATE[42000]: Syntax error or access violation: 1075 Incorrect table
  definition; there can be only one auto column and it must be defined as a
  key

More Information
  Exception code      #0
  File                /flow/Packages/Libraries/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php line 47

"
52448,TYPO3.Flow,Bug,"",Resolved,Should have,Serialization of objects should exclude transient properties,Christian Müller,Christian Müller,2013-10-02 13:35,Object,"",2013-10-02,"","",100,2013-10-02 02:17,"","",1370000,"",Git master,"We still check for a ""tag"" annotation to exclude transient properties from serialization. That is wrong and transient properties are always serialized."
52450,TYPO3.Eel,Bug,"",Resolved,Should have,Children operation should work for properties that cotain collections,Christian Müller,Christian Müller,2015-02-02 10:51,"","",2013-10-02,"","",100,2013-10-02 03:53,"","",1370100,"","",children operation works fine for regular properties but not at all for collection properties which are one of the main use cases for children operation.
52452,TYPO3.Flow,Task,"",Resolved,Should have,Refactor router caching logic into a service,Tim Kandel,Tim Kandel,2013-10-03 13:35,MVC - Routing,2.1,2013-10-02,"","",100,2013-10-02 04:05,"","",1370200,"","","Currently the logic for fetching the routing cache and creating it resides solely in the RouterCachingAspect. This makes it hard for us and for userland code to work with this cache without having to repeat the code. Instead of using the Aspect, there should be a Service that implements all neccessary methods."
52509,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Child-Object's Identifier get's lost on Form-Submission with Validation Error,Mario Rimann,"",2013-10-03 10:18,"","",2013-10-03,"","",0,2013-10-03 10:12,"","",1373000,"",Flow 2.0.0,"Given the situation with the following Domain Model:

* Registration (the parent-object)
** has property ""patientData"" to store an object of the type ""PatientData"" (the child-object)
** has other properties of different types, some Strings, some other child-objects

In the *first step* of the form
# the Registration object is instantiated
# the PatientData object is instantiated and attached with $registration->setPatientData($patientData)
# the registration is added to the RegistrationRepository
# everything is explicitely persisted with a call to persistAll()

Then the *second step* of the form is displayed and contains some hidden fields with the Identity of the child-object. The UUID is the one I can also see directly in the database. So far everything is OK.

Now the second step of the form is submitted while missing out one of the mandatory fields to trigger a validation error.

The form of the second step is now shown again - but the hidden fields in the form header (generated by fluid) are not the same anymore -> *the identifier for the child-object is missing*! It looks like they get stripped off somehow.

Tested on Flow 2.0.0 and Fluid 2.0.0"
52526,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Unfinished programming of DateTime converter,Stefan Froemken,"",2013-10-04 04:36,"",2.0.1,2013-10-04,"","",0,2013-10-04 04:36,"","",1373800,"",Flow 2.0.0,"Hello Flow-Team,

it seems that there is an unfinished programming in TYPO3 Flow and fluid form handling.

My HTML for f:form:

<pre>
<div class=""extdiv"">
    <label for=""eventBegin""><f:translate key=""tx_events2_domain_model_event.event_begin"" /></label>
    <f:form.textfield id=""eventBegin"" property=""eventBegin.date"" />
    <f:form.hidden property=""eventBegin.dateFormat"" value=""d.m.Y"" />
    <f:form.hidden property=""eventBegin.hour"" value=""0"" />
    <f:form.hidden property=""eventBegin.minute"" value=""0"" />
    <f:form.hidden property=""eventBegin.second"" value=""0"" />
</div>
</pre>

There is NO problem to create NEW entries with this form. This eventBegin-Array goes into DateTimeConverter and I get a valid DateTime-Object back.

BUT: When I edit this record, in my eventBegin-field stands: 2013-01-17 00:00:00+2

I don't have any possibility to format this date to d.m.Y

In ObjectAccess->getPropertyPath it gets the path ""eventBegin.date"". It executes getEventDate() and will then try to execute getDate() which isn't there if I return a string in my getEventBegin()-Method. If I return the original DateTimeValue it will return an unformattable Datestring as described above.

Stefan"
52536,TYPO3.Fluid,Bug,"",Under Review,Should have,Errorclass not set if no property-attribute set,Stefan Froemken,"",2015-07-16 05:26,"","",2013-10-04,"","",0,2013-10-04 09:17,"","",1374300,"","","Hello Extbase-Team,

in some special cases we can't use attribute ""property"" but ""name"" and ""value"". But in that case the errorclass (red background) was never displayed.

Stefan"
52590,TYPO3.Flow,Feature,"",New,Should have,Provide a way to get the Doctrine QueryBuilder,Philipp Maier,"",2013-10-11 04:39,"","",2013-10-07,"","",0,2013-10-07 11:45,"","",1377000,"","","Currently it is not possible to paginate object collections that require a join to be reconstructed.

<code>
If your query contains a fetch-joined collection specifying the result limit methods are not working as you would expect. Set Max Results restricts the number of database result rows, however in the case of fetch-joined collections one root entity might appear in many rows, effectively hydrating less than the specified number of results.
</code>

The solution is to use the Paginator that Doctrine provides. Unfortunately this one requires the QueryBuilder as constructor argument.
http://stackoverflow.com/questions/5620771/limiting-a-doctrine-query-with-a-fetch-joined-collection

Once available, the Pagination Widget from Fluid must/should use the Paginator."
52591,TYPO3.Fluid,Bug,"",New,Should have,The Pagination Widget broken for joined objects,Philipp Maier,"",2013-10-07 15:59,"","",2013-10-07,"","",0,2013-10-07 11:50,"","",1377050,"",Git master,"In cases where objects are reconstructed through joins, setting the LIMIT leads to an incomplete result set.

Doctrine provides an Paginator for these purposes. The widget should use this paginator as soon as it is available in Flow (see: http://forge.typo3.org/issues/52590)."
52635,TYPO3.Flow,Bug,"",Resolved,Should have,Incorrect merging of Views.yaml files from multiple Packages,Marc Neuhaus,Bastian Waidelich,2013-10-11 06:36,"","",2013-10-09,"","",100,2013-10-09 08:37,"","",1379250,"",Git master,"There is an issue with the way the Views.yaml files are merged in the ConfigurationManager because of the unnamed, indexed way the Views.yaml files are meant to be.

Example:

Given these two Views.yaml files form different packages:

Package1/Views.yaml
<pre>
-
  requestFilter: 'isPackage(""Package1.Features"")'
  options:
    layoutRootPathPattern: resource://Famelo.ADU/Private/Layouts/
    templatePathAndFilename: resource://Famelo.ADU/Private/Templates/Features/Index.html
</pre>

Package2/Views.yaml
<pre>
-
  requestFilter: 'isPackage(""TYPO3.Expose"")'
  options:
    typoScriptPathPatterns:
      - 'resource://TYPO3.Expose/Private/TypoScripts/'
      - 'resource://Famelo.ADU/Private/TypoScripts/'
-
  requestFilter: 'isPackage(""Package2.Foo"")'
  options:
    layoutRootPathPattern: resource://Famelo.ADU/Private/Layouts/
</pre>

will result in this merged configuration:
<pre>
-
  requestFilter: 'isPackage(""TYPO3.Expose"")'
  options:
    typoScriptPathPatterns:
      - 'resource://TYPO3.Expose/Private/TypoScripts/'
      - 'resource://Famelo.ADU/Private/TypoScripts/'
    layoutRootPathPattern: resource://Famelo.ADU/Private/Layouts/
    templatePathAndFilename: resource://Famelo.ADU/Private/Templates/Features/Index.html
-
  requestFilter: 'isPackage(""Package2.Foo"")'
  options:
    layoutRootPathPattern: resource://Famelo.ADU/Private/Layouts/
</pre>

Which in turn throw an exception, because it will try to set a templatePathAndFilename on a TypoScriptView which hasn't that option.


*Possible Solution*
We already discussed this briefly in IRC and agreed to create a new ConfigurationProcessingType which will append instead of merge
indexed arrays."
52640,TYPO3.Fluid,Feature,"",Under Review,Should have,Create an UnlessViewHelper as opposite to the IfViewHelper,Marc Neuhaus,Marc Neuhaus,2014-08-01 03:02,"","",2013-10-09,"","",0,2013-10-09 09:55,"","",1379500,"","","Sometimes the IfViewHelper syntax is quite verbose if you only want to do something on ""else"":

<pre>
<f:if condition=""..."">
    <f:else>...</f:else>
</f:if>
</pre>

As an alternative we discussed a new ""UnlessViewHelper"" in IRC to shorten this:

<pre>
<f:unless condition=""..."">...</f:unless>
</pre>

The only difference to the IfViewHelper is the negation of the condition.

This helps for example shortening the syntax for a ForLoop with condition for no objects from:

<pre>
<f:if condition=""{objects}"">
    <f:then>
        <f:for each=""{objects}"" as=""object"">
            ...
        </f:for>
    </f:then>
    <f:else>No objects found</f:else>
</f:if>
</pre>

to:


<pre>
<f:for each=""{objects}"" as=""object"">
    ...
</f:for>
<f:unless condition=""{objects}"">No objects found</f:unless>
</pre>"
52704,TYPO3.Flow,Task,"",Resolved,Should have,Get rid of RouterCachingAspect,Bastian Waidelich,Bastian Waidelich,2013-10-21 08:36,MVC - Routing,"",2013-10-11,"","",100,2013-10-11 10:28,"","",1382700,"","",Caching of the Routing Framework has been extracted to an AOP aspect in order to keep the Router code simple. Since the introduction of the RouterCachingService (#52452) this is no longer required
52846,TYPO3 Flow Base Distribution,Suggestion,"",Resolved,Could have,Add isConnected() to Persistence interface,Rens Admiraal,"",2014-07-11 14:19,"","",2013-10-15,"","",100,2013-10-15 08:46,"","",1389750,"","","Change https://review.typo3.org/#/c/24609 introduced and isConnected() method to the roleRepository to verify if the repository can actually be used for fetching and storing data. In the comments of the change it was suggested to move this method up in the class hierarchy and make it api. As this is still not fully decided and the bugfix has to be merged we will push this later on based on this ticket.

Basically the following should be decided:
* Should it be api
* Should it be added to an interface
* To which interface

When this method is moved up it should of course be removed from the roleRepository"
52879,TYPO3.Eel,Feature,"",Resolved,Should have,Implement Slice operation,Dominique Feyer,Dominique Feyer,2013-10-30 07:35,"","",2013-10-16,"","",100,2013-10-16 03:46,"","",1391400,"","","As discussed on IRC with Christian EEL should support natively Slice opertation. A basic use case will be to display a list the the two last node type for a teaser.

API should look like, and work like the JS slide method:

<pre>
${q(site).find('fr/blog').children('[instanceof Namespace.Plugin.Blog:Post]').slice()}
${q(site).find('fr/blog').children('[instanceof Namespace.Plugin.Blog:Post]').slice(2)}
${q(site).find('fr/blog').children('[instanceof Namespace.Plugin.Blog:Post]').slice(0, 2)}
</pre>"
52907,TYPO3.Flow,Bug,"",Resolved,Should have,#1355480641: Uncaught Exception,Kay Strobach,Bastian Waidelich,2014-03-20 15:37,Persistence,"",2013-10-17,"","",100,2013-10-17 03:44,"","",1392800,"",Flow 2.0.0,"<pre>
OneToMany mapping on field 'measurementDataRecords' requires the
'mappedBy' attribute.

More Information
Exception code #0
File /project/Packages/Libraries/doctrine/orm/lib/Doctrine/ORM/Mapping/MappingException.php line 150
</pre>

The Exception message should name the declaring class for the not interpretable property ..."
52909,TYPO3.Flow,Bug,"",New,Should have,Class Loader fallback to non-proxy hides fatal errors,Stephan Schuler,"",2013-10-17 05:24,Core,"",2013-10-17,"","",0,2013-10-17 05:24,"","",1392900,"",Flow 2.0.0,"Hey there.

This commit is slightly related to #46689. But since #46689 has drifted to focusing doc parsing and annotation, I will explain this here instead of #46689.


The current strategy is:
* ClassLoader uses a PhpFrontend which uses a SimpleFileBackend to cache proxy class files.
* The SimpleFileBackend catches exceptions and returns FALSE if any exception or notice is thrown inside of an included file.

This leads to falling back to the very orignial file inside of the package directory whenever a notice accures inside of a proxy class file.

Having a non proxied original file when you expect the proxied one leads to kind of unexplainable misbeavior.

h3. Real world example:

Think about a class having a method that has a type hint, e.g. _RsaWalletServicePhp::decryptWithPrivateKey($cipher, \TYPO3\Flow\Security\Cryptography\OpenSslRsaKey $privateKey)_.

Now extend this class and overwrite it without the type hint: _ExtendedRsaWalletServicePhp::decryptWithPrivateKey($cipher, $privateKey)_.

The proxy class file gets created and exists in the proxy class files directory.
The class loader tries to include it through te SimpleFileBackend and runs into the following exception:
<pre>Runtime Notice: Declaration of ExtendedRsaWalletServicePhp::decryptWithPrivateKey() should be compatible with that of TYPO3\Flow\Security\Cryptography\RsaWalletServicePhp_Original::decryptWithPrivateKey() [...]</pre>

Now the fallback strategy of the ClassLoader kicks in and includes the original file that exists in the package directory.

This obviously results in confusing behavior, since the class itself exists in the PHP process environment, but it's not the proxied one so it's not initialized by the AOP stuff. The example here has no settings, which means it doesn't know where the RSA key file can be found, which means no keys available.

h3. How to notice this and how it confuses

The thing is: There is no exception, so there is no log file in the Logs/Exceptions directory. And there is no log line in the Logs/System_*.log file.

Thinking about the above example, there are two relevant proxy class files. One holds the ExtendedRsaWalletServicePhp and ExtendedRsaWalletServicePhp_Original classes, the other one holds the RsaWalletServicePhp and RsaWalletServicePhp_Original classes.

You would expect to have a valid ExtendedRsaWalletServicePhp object that is fully loaded by AOP, but it isn't.

I added breakpoints to both, the proxied ExtendedRsaWalletServicePhp:__construct and the proxied RsaWalletServicePhp:__construct.

The very confusing thing:
* The proxied ExtendedRsaWalletServicePhp:__construct isn't executed (obviously, because it's not the proxy class which gets included but the original package file.
* The proxied RsaWalletServicePhp:__construct is executed, but get_class($this) shows that it's a ExtendedRsaWalletServicePhp object.
* Now you start to thing: Why is the __construct of the class skipped in this situation? Points to a PHP bug (which it isn't, of course).

h3. Fix:

The ClassLoder should know if there has to be a proxy class file or not. Now the ClassLoader should throw an exception if the Reflection knows about proxy class files but the PhpBackend returned FALSE and indicates the ""did not load"" situation.

It's related to this commit:
https://git.typo3.org/Packages/TYPO3.Flow.git/commitdiff/f04343e10cef18e3e76bb302b840c1313225b57e

The real problem is: The class loader doesn't take care of the result, it simply falls back to the package file.

I tried PHP versions 5.3.8, 5.3.10, 5.3.24 and a 5.4.x I don't remember exactly.

Regards,
Stephan."
52938,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Resource stream wrapper doesn't work with foreign package,Lorenz Ulrich,"",2013-10-18 04:31,"","",2013-10-18,"","",0,2013-10-18 04:31,"","",1394350,"",Flow 2.0.0,"Using the resource stream wrapper (tested from Fluid) always generates links pointing to the origin package.

Example: An inline CSS in the Fluid template of package *Acme.Test*:

<pre>
background-image: url(resource://Acme.Demo/Public/Images/pdf.png);
</pre>

This will generate the following output:

<pre>
background-image: url(http://mydomain.tld/_Resources/Static/Packages/Acme.Test/Images/pdf.png);
</pre>

instead of

<pre>
background-image: url(http://mydomain.tld/_Resources/Static/Packages/Acme.Demo/Images/pdf.png);
</pre>"
52944,TYPO3.Flow,Bug,"",Resolved,Should have,Generating correct proxy classes for classes without a namespace,Hendrik Frahmann,"",2014-07-11 14:19,"","",2013-10-18,"","",100,2013-10-18 05:29,"","",1394650,"",Git master,"When packages (that are loaded with composer to Libraries) containing classes without a namespace, Flow generates a corrupt proxy class.

<pre>
class FooClass_Original {
}

namespace ; // empty namespace causing error
// Parse error: syntax error, unexpected ';', expecting T_STRING or T_NS_SEPARATOR or '{' in [filename]

class FooClass {
  // proxy class
}

</pre>"
52945,TYPO3.Flow,Bug,"",New,Should have,Excluded classes should only be excluded from reflection but still autoloaded,Hendrik Frahmann,"",2013-10-19 06:52,"","",2013-10-18,"","",0,2013-10-18 05:42,"","",1394700,"",Git master,"Classes that are excluded in the settings.yaml (Flow > object > excludeClasses) should still be able to autoload.
"
53010,TYPO3.Flow,Bug,"",Resolved,Must have,"UsernamePasswordHttpBasic disabled since .htaccess strips ""Basic""",Stephan Schuler,"",2014-08-26 09:30,Security,"",2013-10-21,"","",100,2013-10-21 11:15,"","",1397950,"",Git master,"Hey there.

The Token\UsernamePasswordHttpBasic requires the ""Authentication"" header to begin with ""Basic"". That's fine since this very token is only meant to deal with basic auth requests.

Unfortunately the .htaccess file which gets installed contains the following line:
<pre>SetEnvIfNoCase Authorization ""Basic ([a-zA-Z0-9\+/=]+)"" REMOTE_AUTHORIZATION=$1</pre>

This means: Whenever the ""Authorization Basic"" header is set, it gets passed to the REMOTE_AUTHORIZATION environment variable by stripping the ""Basic"" string."
53059,TYPO3.Fluid,Feature,"",Closed,Should have,Throw exception for unresolved namespaces,Bastian Waidelich,Bastian Waidelich,2014-12-08 13:24,Core,"",2013-10-23,"","",0,2013-10-23 05:30,"","",1400400,"","","One major source of errors when working with Fluid is the missing error handling when referring to a ViewHelper namespace that hasn't been declared.
Especially when one extracts parts of the template to a partial the namespace declaration is easily forgotten.

The issue with this is that namespace prefixes are allowed in xml so Fluid can't determine whether @<unknown-namespace:foo />@ is a mistyped ViewHelper or a (possibly valid) XML/XHTML tag that has been registered otherwise.
Given the importance of this we should solve this even though it would be a breaking change. We came up with following solution:

<pre>
<code class=""html"">
{namespace x=Some\Package\ViewHelpers}
{namespace xs}

<f:foo />  <!-- as before: this would be a valid fluid tag as ""f"" is always registered (even though it would throw an exception because there is no VH ""FooViewHelper"" in the Fluid package -->

<x:some.viewHelper />    <!-- as before: would resolve to \Some\Package\ViewHelpers\Some\ViewHelperViewHelper -->

<xs:element />     <!-- as before but explicit: would be ignored, because the namespace is registered but does not point to a PHP namespace -->

<unknown:foo />     <!-- new: would throw an exception in Dev context, ignore the tag in Production context because the namespace ""unknown"" is not defined -->

</code>
</pre>

When working with complex XML based files with a lot of namespaces (like XML Schema or LaTeX) it would be tedious to register all the namespaces so we should also support some kind of placeholder syntax like:
<pre>
<code class=""html"">
{namespace *} <!-- ignores all unknown namespaces (old behavior) -->
{namespace xs*} <!-- ignores all unknown namespaces that start with ""xs"" -->
</code>
</pre>

Note: a different approach to this would be to configure namespaces not in the Fluid template but in the configuration. See #35766 and the related issues for reasons why we *shouldn't* do this"
53080,TYPO3.Flow,Feature,"",Accepted,Should have,Support for multiple domains,Bastian Waidelich,"",2014-11-18 04:34,MVC - Routing,"",2013-10-23,"","",0,2013-10-23 11:50,"","",1401450,"","","Currently the Flow does not support multi-domain setups out of the box:

* There is no concept of ""domains"" in Flow yet
* The Routing Framework only uses a combination of the (hashed) Request path and method as cache identifier for incoming routes
* How should linking to other domains than the current work? Probably the UriBuilder (and thus all uri/link-ViewHelpers need some ""domain"" argument)

h2. Approaches

Like done with the filterable request methods (#27117) we could add a new routing configuration:
<pre>
<code class=""yaml"">
-
  uriPattern: 'some/uri/pattern'
  defaults:
    '@package': 'TYPO3.Flow'
  domain:        'somedomain.tld'
</code>
</pre>

But I wonder: Should this support multiple domains? or some regex-/placeholder-syntax?
Besides I'm struggling a bit with adding to many configuration options.. We'll soon need yet another one for the protocol (#44891).

A more generic approach (like I started with https://review.typo3.org/#/c/19742/) would be very flexible. But it has a bad impact on performance because all ""filters"" can change the caching identifier..

h2. Get basic multi-domain support today

You can get multi-domain Routing working by creating a custom RoutePartHandler that only matches/resolves when the domain is one of the configured. But then you have to disable the Routing Cache in Caches.yaml::
<pre>
<code class=""yaml"">
Flow_Mvc_Routing_FindMatchResults:
  backend: TYPO3\Flow\Cache\Backend\NullBackend
Flow_Mvc_Routing_Resolve:
  backend: TYPO3\Flow\Cache\Backend\NullBackend
</code>
</pre>

*NOTE:* You should only do so if you *absolutely* know what you're doing. Disabling the Routing Cache can have a really bad impact on the performance.

Another way to get basic support for multiple domains is to use a (sub)context for each domain (Configuration/Production/Domain1/Routes.yaml, Configuration/Production/Domain2/Routes.yaml). But this won't solve the cross-domain-linking issue."
53134,TYPO3.Flow,Bug,"",Closed,Should have,"Regex Character class ""alnum"" not working correct in AlphanumericValidator",Michael Gerdemann,Karsten Dambekalns,2014-02-24 02:44,Validation,"",2013-10-25,"","",0,2013-10-25 08:19,"","",1404150,"",Flow 2.0.0,"The Regex Character class ""alnum"" not working correct in AlphanumericValidator.
A better regular expression would be:

<pre>
/^[[:alnum:]\pL]*$/u
</pre>"
53177,TYPO3.Flow,Feature,"",New,Should have,entity resource policy value support for `this`,Benjamin Heek,"",2014-05-20 03:22,Security,"",2013-10-28,"","",0,2013-10-28 09:39,"","",1406300,"","","It would be great if a resource policy for an entity could be defined like:

resources:
  entities:
    \Some\Domain\Model\Entity:
       SomeEntity: 'current.securitycontext.party != this'

"
53180,TYPO3 Flow Base Distribution,Bug,"",New,Must have,InjectSettings doesnt work on inheritance (Level 2),Carsten no-lastname-given,"",2013-11-26 15:46,Build Process,"",2013-10-28,"","",0,2013-10-28 14:31,"","",1406450,"",Flow 2.0.0,"abstract foo{
  public function injectSettings($settings)...
}

bar extends foo{}

baz extends bar{}


Creating a new Instance with ObjectManager:
Result: baz::settings is NULL.

This is caused by the Proxy Classes.
InjectSettings is skipped on class inheritances over more then 2 levels



"
53189,TYPO3.Flow,Bug,"",New,Should have,Blog tutorial no longer works,Philipp Maier,Philipp Maier,2013-10-29 04:50,"","",2013-10-29,"","",0,2013-10-29 04:46,"","",1406900,"",Git master,"People seem to have problems with the blog example here: http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartII/ModelAndRepository.html due to safe requests. I'll find out what the kickstarter generates and adjust that, or the tutorial."
53224,TYPO3.Flow,Bug,"",New,Should have,Constructor in subclass breaks call chain leading to missing identifier / uuid,Christian Jul Jensen,"",2013-10-30 07:06,Object,"",2013-10-30,"","",0,2013-10-30 07:04,"","",1408650,"",Git master,"If a subclass in a class hierachy has constrcutor, the call chain of proxies constructors will be broken which will lead to problems in the persistance layer.

Example
<pre>
class Parent - no constructor
\_ class Child - constructor 
</pre>

will lead to 

<pre>
class Parent_Original - no constructor
\_ class Parent - constructor introduced by proxy
 \_ class Child_Original - constructor
  \_ class Child - constructor introduced by proxy
</pre>

In this case the constructor call chain will stop at the Child_Original constructor.

The bug in the persistence layer, might only oocur in the case of single table inheritence.

A workaround for this is to add a parent::_construct() call at the end of the Child domain class' constructor method."
53238,TYPO3.Flow,Bug,"",Resolved,Should have,Throw exception if PackageStates.php is not writeable,Steffen Müller,"",2014-03-06 16:36,"","",2013-10-30,"","",100,2013-10-30 18:45,"","",1409300,"",Flow 2.0.0,"The Package Manager writes package states to PackageStates.php file using
""file_put_contents()"":http://forge.typo3.org/projects/package-typo3-flow/repository/revisions/master/entry/Classes/TYPO3/Flow/Package/PackageManager.php#L930
together with the error control operator @ to suppress errors.

This leads to unpredictable behavior when PackageStates.php file is not writeable.

I suggest to verify if the file is writable and otherwise throw an exception. 

TYPO3 CMS team has already a draft at https://review.typo3.org/#/c/24975/ - would you please comment there or here, since we aim to streamline with upstream Flow."
53262,TYPO3.Flow,Bug,"",New,Should have,FileBakend have some race condition,Dominique Feyer,Dominique Feyer,2013-11-01 05:48,Cache,"",2013-11-01,"","",0,2013-11-01 05:48,"","",1410400,"",(any),"One of the problem is that get() can be called before the file is available, so we need multiple try of file_get_contents like we have in set() for the rename. In the patch, I add a usleep, really short, to increase the wait time a bit between each try."
53350,TYPO3.Flow,Bug,"",Accepted,Should have,Trying to create a Link in an Template in CLI Context should provide a helpful exception,Marc Neuhaus,Bastian Waidelich,2013-11-05 09:00,MVC - Routing,"",2013-11-05,"","",0,2013-11-05 09:00,"","",1414800,"",Git master,"If you try to render a FluidTemplate with a link in it through a
CommandController it fails currently with this error:

<pre>
Uncaught Exception
  Could not resolve a route and its corresponding URI for the given
  parameters. This may be due to referring to a not existing package /
  controller / action while building a link or URI. Refer to log and check
  the backtrace for more details.
</pre>

This happens, because the router isn't configured by default in the
cli context and needs to be configured manually.

We should provide a more helpful exception here to tell the dev what
he needs to do"
53533,TYPO3.Flow,Bug,"",New,Should have,"Class reflection assumes reverse PSR-0, can lead to fail in autoloader",Christian Jul Jensen,"",2013-11-11 15:05,Reflection,"",2013-11-11,"","",0,2013-11-11 15:05,"","",1423900,"",Git master,"When gathering info about a package Flow currently assumes PSR-0 as bijective which is not the case.

Ie.

The file Pheanstalk/PheanstalkInterface.php does not necessarily hold the class \Pheanstalk\PheanstalkInterface, this situation has already been handled for files containing sideeffects rather than classes fx. autoload.php

The problem is that according to PSR-0 the file can hold the class \Pheanstalk_PheanstalkInterface, and thus the following can happen;

1. Flow analyzes filesystem and adds Pheanstalk/PheanstalkInterface.php to files to be reflected, expecting \Pheanstalk\PheanstalkInterface.
2. During the reflection some other class implements \Pheanstalk_PheanstalkInterface and the autoloader correctly loads this from Pheanstalk/PheanstalkInterface.php
3. The autoloader reaches Pheanstalk/PheanstalkInterface.php for inclusion and fails with 'Fatal error: Cannot redeclare class Pheanstalk_PheanstalkInterface'

This is not trivial to handle since the file could actually hold the expected namespaced class.

Possible ways to fix it:
* During compiletime let ClassLoader notify ReflectionService on included files so it can be removed from further reflection
* Let ReflectionService pre-analyze files for expected classes."
53620,TYPO3.Flow,Bug,"",New,Should have,Move Classes/TYPO3/Flow/Composer to own Package,Rafael Kähm,"",2014-01-01 10:02,Package,"",2013-11-13,"","",0,2013-11-13 12:26,"","",1428250,"",Git master,"By installing TYPO3 Flow or neos you get warnings on each dependency package ""Class TYPO3\Flow\Composer\InstallerScripts is not autoloadable, can not call post-package-install script"".

Composer tries to call a script for ""post-package-install""-event before TYPO3.Flow is installed and prints warnings (see https://github.com/composer/composer/blob/2b36106168e89fa185dfa604a1666fd1b188384e/src/Composer/EventDispatcher/EventDispatcher.php#L128-L131 ).  

InstallerScripts must be available earlier.

Possible solution:
1 moving Classes/TYPO3/Flow/Composer to TYPO3.InstallerScripts 
2 in ""Classes/TYPO3/InstallerScripts/Package""  postPackageUpdateAndInstall() and check if TYPO3.Flow package is available first and then proceed ... 
3 add ""TYPO3.InstallerScripts"" to dependencies at second place(after ""php"": "">=5.3.2"",) in Packages/Framework/TYPO3.Flow/composer.json 

 
"
53790,TYPO3 Flow Base Distribution,Bug,"",New,Must have,Translation handling in Flashmessages is inconsistent to Validation errors,Kay Strobach,"",2013-11-20 04:46,"","",2013-11-20,"","",0,2013-11-20 04:46,"","",1436600,"",Git master,"Example code:

Current of generating a flashmessage with an argument:
<pre>
  $this->addFlashMessage('This id %1s is already present in the Translation file', '', Message::SEVERITY_NOTICE, array($translationLabel->getLabelId()));
</pre>

Problem is that the translation handler queried for e.g.:
<pre>
This id oierjgu9her9gheru is already present in the Translation file
</pre>

This makes translation of dynamic flashmessages impossible.

The better way would be to translate flashmessages similar to Validation errors:

<pre>
  $this->addFlashMessage('This id {0} is already present in the Translation file', '', Message::SEVERITY_NOTICE, array($translationLabel->getLabelId()));
</pre>

Would result in querying the translation handler with
<pre>
This id {0} is already present in the Translation file
</pre>

This can be easily translated and i would be satisfied ;)"
53800,TYPO3.Fluid,Task,"",Resolved,Must have,Regard handling of AuthenticatedUser system role in IfHasRole VH,Adrian Föder,Adrian Föder,2013-11-20 10:37,ViewHelpers,"",2013-11-20,"","",100,2013-11-20 10:01,"","",1437100,"","","With Ia00bea27e81b2e4a172ad4f998dfa30581dd71dd, a new system role AuthenticatedUser was introduced, however, that is not backed in the mentioned VH."
53805,TYPO3.Fluid,Task,"",Resolved,Should have,Optimization in AbstractViewHelper,Wouter Wolters,"",2014-11-26 10:13,"","",2013-11-20,"","",100,2013-11-20 12:56,"","",1437350,"","",Optimization in AbstractViewHelper
53806,TYPO3.Fluid,Bug,"",Under Review,Should have,Paginate widget maximumNumberOfLinks rendering wrong number of links,Wouter Wolters,Bastian Waidelich,2014-06-18 06:13,Widgets,"",2013-11-20,"","",0,2013-11-20 13:11,"","",1437400,"",(any),"When setting maximumNumberOfLinks configuration option to 8, 10 links will be rendered."
53827,TYPO3.Flow,Feature,"",Resolved,Should have,Deprecate base tag,Bastian Waidelich,Bastian Waidelich,2013-12-03 16:35,MVC - Routing,"",2013-11-21,"","",100,2013-11-21 04:46,"","",1438450,"","","Currently the UriBuilder creates relative URLs in the form *landing-page/sub-page.html* by default.
This requires the presence of a <base /> tag in the HTML head in order to be resolved correctly when the browser is currently on a page other than the homepage.

By prefixing relative URLs with the *script request path* the base tag would no longer be required.

In general we should think about creating absolute URLs by default (see http://yoast.com/relative-urls-issues/)"
53851,TYPO3.Flow,Bug,"",New,-- undefined --,TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file Scripts.php,Sylvain COTINEAU,"",2013-12-31 18:00,- Error Handler Report -,"",2013-11-21,"","",0,2013-11-21 17:08,"","",1439650,"",FLOW3 1.1.0,"Hi!

It's with typo3 neos on /setup/index?step=0
under Debian wheezy

damned :( i can't wait ;)


Uncaught Exception
  An exception occurred while executing 'CREATE TABLE
  flow3_resource_resourcepointer (hash VARCHAR(255) NOT NULL, PRIMARY
  KEY(hash)) ENGINE = InnoDB':

  SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was
  too long; max key length is 767 bytes

More Information
  Exception code      #0
  File                /var/www/xorne/neos/TYPO3-Neos-1.0-beta1/Packages/Libraries/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php line 47

31 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:doctrine:migrate"", array|15|, FALSE)

30 TYPO3\Setup\Step\DatabaseStep_Original::postProcessFormValues(array|7|)

29 TYPO3\Setup\Controller\SetupController_Original::postProcessStep(array|7|, TYPO3\Setup\Step\DatabaseStep)

28 TYPO3\Setup\Controller\SetupController_Original::TYPO3\Setup\Controller\{closure}(TYPO3\Form\Core\Model\FinisherContext)

27 TYPO3\Form\Finishers\ClosureFinisher_Original::executeInternal()

26 TYPO3\Form\Core\Model\AbstractFinisher::execute(TYPO3\Form\Core\Model\FinisherContext)

25 TYPO3\Form\Core\Runtime\FormRuntime_Original::invokeFinishers()

24 TYPO3\Form\Core\Runtime\FormRuntime_Original::render()

23 TYPO3\Setup\Controller\SetupController_Original::indexAction(0)

22 TYPO3\Setup\Controller\SetupController::indexAction(0)

21 call_user_func_array(array|2|, array|1|)

20 TYPO3\Setup\Controller\SetupController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

15 TYPO3\Setup\Controller\SetupController::indexAction(0)

14 call_user_func_array(array|2|, array|1|)

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
53931,TYPO3.Flow,Bug,"",Resolved,Should have,ActionRequest should not serialize parent HTTP request,Sebastian Kurfuerst,Sebastian Kurfuerst,2014-07-11 14:19,MVC,2.0.1,2013-11-25,"","",100,2013-11-25 08:02,"","",1443650,"",Flow 2.0.0,"When working with WebRedirects and authentication, the intercepted
request is serialized with the security context. While it makes sense
to do so, we should *not* include the reference to the base HTTP request
in this case, as this includes lots of cruft like $_SERVER etc."
53961,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Composer installer scripts create a .Packages folder,Rens Admiraal,"",2013-11-28 07:06,"","",2013-11-25,"","",0,2013-11-25 16:11,"","",1445150,"",Git master,"Since the last changes to the composer installer scripts a .Packages folder is created if for example TYPO3.Neos is installed. This happens because a folder is copied to folder '.' passed to Files::copyDirectoryRecursively() as target folder.

copyDirectoryRecursively() then prepends this to the source folder, resulting in the .Packages.

Question is if the copyDirectoryRecursively should append the / to prevent issues like this."
53971,TYPO3.Kickstart,Feature,"",New,Should have,Login functionality,Mario Rimann,"",2013-12-16 04:39,"","",2013-11-26,"","",0,2013-11-26 05:03,"","",1445650,"","","Almost every time I start a small project and want to base it on Flow, I need authentication and login functionality to be able to render user-based content. So I thought of the following scenarios on how to improve this:

- build a generic package that provides a login form, a user model and the controller to login/logout the user
- just document the needed steps, copy-paste the needed code templates in case one needs it
- add this to the Kickstarter-Package

At the moment I prefer the last of the ideas as it would just help to quickly set-up the needed stuff in a new package - which then can easily be extended or modified for the specific use-case of that application.

Any veto on adding this to the Kickstarter? Any better ideas? Any inputs from the maintainer(s) on how to prepare that feature, stuff that shouldn't be forgotten?"
54037,TYPO3.Flow,Feature,"",Under Review,Should have,JsonView accepts encoding options,Carsten Bleicker,"",2014-12-14 05:46,MVC,"",2013-11-28,"","",0,2013-11-28 10:17,"","",1448900,"","","json_encode should support multiple bitmask options
see: http://www.php.net/manual/en/json.constants.php"
54046,TYPO3.Flow,Bug,Task #55953: Repair and streamline ValueObject support,New,Must have,Removal of ValueObjects from a ManyToMany relationship is not possible,Philipp Maier,"",2015-02-05 05:01,Persistence,2.1,2013-11-28,"","",0,2013-11-28 15:08,"","",1449350,"",Git master,"Once value objects have been added to a PersistentCollection they can no longer be removed by Collection::removeElement.
Attached you can find a working example package that demonstrates the bug.

While Collection::add(ValueObject) works, the same ValueObject can no longer be removed with Collection::removeElement. To reproduce this, navigate to the packages index action, click the ""Click me!"" button to create a test Entity which holds a collection of ValueObjects.

Afterwards, add a new ValueObject by entering a value into the first input field. You will have this ValueObject listed below after the redirect.

To remove the ValueObject again, enter the same value into the second input field. It will not be removed.

Why this behaves like this is beyond me, I'd expect it to be similar to Entities, where this obviously works."
54092,TYPO3.Flow,Feature,"",Resolved,Should have,Respect implementation of JsonSerializable Interface,Carsten Bleicker,"",2014-11-26 04:42,MVC,2.x,2013-11-29,"","",0,2013-11-29 11:12,"","",1451600,"","",If an object implements JsonSerializable interface it should be respected in JsonView.
54135,TYPO3.Fluid,Bug,"",Resolved,Should have,Cached templates are not flushed when ViewHelpers are changed,Christopher Hlubek,Christopher Hlubek,2014-02-19 05:36,"","",2013-12-02,"","",100,2013-12-02 09:15,"","",1453700,"",Git master,"ViewHelper updates can lead to exceptions in cached templates, since changes of the @render@ method signature are not reflected correctly. The template cache should be flushed whenever ViewHelper classes are changed."
54146,TYPO3.Flow,Bug,"",New,Should have,Different sorting of arguments in ACL Patterns doesnt work,Carsten Bleicker,Christian Müller,2013-12-02 13:23,Security,"",2013-12-02,"","",0,2013-12-02 13:23,"","",1454250,"",Flow 2.0.0,"This one works:
resources:
  methods:
    DeleteLot: 'method(BLEICKER\Sale\Controller\Rest\LotController->deleteAction(lot.owner == current.securityContext.party))'
    
This wone doesnt work:
resources:
  methods:
    DeleteLot: 'method(BLEICKER\Sale\Controller\Rest\LotController->deleteAction(current.securityContext.party == lot.owner))'"
54151,TYPO3.Flow,Feature,"",Resolved,Should have,Implement proper package dependency handling,Markus Klein,"",2014-02-13 05:39,"","",2013-12-02,"","",100,2013-12-02 15:06,"","",1454500,"","","Hi!

For TYPO3.CMS I reimplemented the dependency handling of the PackageManager. #52828

These two concepts were used in the patch:

* http://en.wikipedia.org/wiki/Dependency_graph
* http://en.wikipedia.org/wiki/Topological_sorting (Algo by Kahn (1962))

Besides that the CMS patch contains some extra logic to include system extension always first. This specific part will not be necessary for Flow.

Please judge on your own, if you'd like to have this implementation in Flow as well."
54155,TYPO3.Fluid,Feature,"",Rejected,Could have,"f:render partial="""" package=""""",Kay Strobach,Bastian Waidelich,2013-12-06 07:57,ViewHelpers,"",2013-12-03,"","",0,2013-12-03 02:11,"","",1454700,"","","Hi guys,

especially when developing Applications, which rely on an AbstractController, which sets the layout it would be nice to have a way to use the centralized defined partials and the one from each package.
Therefore it would be nice to have a package attribute for finding the related partial.
"
54161,TYPO3.Flow,Bug,"",Closed,Should have,Properties of type \DateInterval should be supported,Carsten Bleicker,Bastian Waidelich,2015-03-31 09:58,"","",2013-12-03,"","",0,2013-12-03 05:25,"","",1455000,"",Flow 2.0.0,Doctrine supports the time type. This should be used if a property is of type \DateInterval.
54181,TYPO3.Flow,Bug,"",New,Could have,Use date_default_timezone_get() instead of ini_get('date.timezone'),David Lundgren,"",2015-06-01 12:54,Core,"",2013-12-04,"","",0,2013-12-03 21:13,"","",1456000,"",Git master,Using date_default_timezone_get() instead of ini_get('date.timezone') in TYPO3\Flow\Core\Bootstrap would allow developers to set the timezone in code instead of modifying the php.ini.
54195,TYPO3.Fluid,Task,"",New,Should have,"Rename and move FormViewHelper's errorClass value, currently 'f3-form-error'",Adrian Föder,Adrian Föder,2014-02-15 06:19,ViewHelpers,"",2013-12-04,"","",0,2013-12-04 07:08,"","",1456700,"","","This should be renamed to @flow-form-error@ IMO, and the 
<pre>
$this->registerArgument('errorClass', 'string', 'CSS class to set if there are errors for this view helper', FALSE, 'f3-form-error');
</pre>
is currently spread manually in every concrete ViewHelper's @initializeArguments@ method, better place would be \TYPO3\Fluid\ViewHelpers\Form\AbstractFormFieldViewHelper IMO"
54196,TYPO3.Fluid,Feature,"",Resolved,Could have,IfHasValidationError ViewHelper,Adrian Föder,Adrian Föder,2013-12-07 06:36,ViewHelpers,"",2013-12-04,"","",100,2013-12-04 07:30,"","",1456750,"","","to cope with the practice done by common CSS frameworks where a specific form field's parent element must/should have a particular error CSS class, I suggest introducing a ViewHelper which then will be used like 

<pre><code class=""html"">
<div class=""row {f:form.ifHasValidationError(property: 'some.emailAddress', then: 'has-error')}""><input...></div>
</code></pre>

"
54208,TYPO3.Flow,Bug,"",Resolved,Should have,Migrations not complete,Philipp Maier,Bastian Waidelich,2014-02-10 04:22,- Migrations -,"",2013-12-05,"","",100,2013-12-05 03:57,"","",1457350,"",Git master,"Currently, when performing <code>./flow doctrine:migrate</code> on an empty database the following migrations will be generated by doctrine when executing <code>./flow doctrine:migrationgenerate</code>:

<pre>
$this->addSql(""ALTER TABLE typo3_flow_resource_publishing_abstractpublishingconfiguration ADD dtype VARCHAR(255) NOT NULL"");
$this->addSql(""ALTER TABLE typo3_flow_security_authorization_resource_securitypublis_861cb ADD CONSTRAINT FK_2DAD2A8A47A46B0A FOREIGN KEY (persistence_object_identifier) REFERENCES typo3_flow_resource_publishing_abstractpublishingconfiguration (persistence_object_identifier) ON DELETE CASCADE"");
</pre>"
54284,TYPO3.Fluid,Bug,"",New,Should have,Default Option for Switch/Case VH,Anja Leichsenring,"",2013-12-08 08:28,ViewHelpers,"",2013-12-08,"","",0,2013-12-08 08:28,"","",1460750,"",Flow 2.0.0,"In CMS Fluid the Switch/Case VH gets a default option. Wanna port?

http://forge.typo3.org/issues/49371"
54285,TYPO3.Flow,Bug,"",Closed,-- undefined --,TYPO3\Flow\Security\Exception\AccessDeniedException thrown in file TYPO3_Flow_Security_Authorization_AccessDecisionVoterManager.php,Riccardo De Contardi,"",2014-03-05 04:54,- Error Handler Report -,2.x,2013-12-08,"","",0,2013-12-08 10:43,"","",1460800,"",Flow 2.0.0,"Access denied (0 denied, 0 granted, 1 abstained)
38 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager_Original::decideOnJoinPoint(TYPO3\Flow\Aop\JoinPoint)

37 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager::decideOnJoinPoint(TYPO3\Flow\Aop\JoinPoint)

36 call_user_func_array(array|2|, array|1|)

35 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

34 TYPO3\Flow\Security\Authorization\AccessDecisionVoterManager::decideOnJoinPoint(TYPO3\Flow\Aop\JoinPoint)

33 TYPO3\Flow\Security\Authorization\Interceptor\PolicyEnforcement_Original::invoke()

32 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

31 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

30 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

29 TYPO3\Neos\Controller\Module\Management\WorkspacesController::publishWorkspaceAction(TYPO3\TYPO3CR\Domain\Model\Workspace)

28 call_user_func_array(array|2|, array|1|)

27 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

26 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

25 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

24 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

23 TYPO3\Neos\Controller\Backend\ModuleController_Original::indexAction(array|3|)

22 TYPO3\Neos\Controller\Backend\ModuleController::indexAction(array|3|)

21 call_user_func_array(array|2|, array|1|)

20 TYPO3\Neos\Controller\Backend\ModuleController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

15 TYPO3\Neos\Controller\Backend\ModuleController::indexAction(array|3|)

14 call_user_func_array(array|2|, array|1|)

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
54373,TYPO3 Flow Base Distribution,Task,"",New,Should have,Rename Arrays::removeEmptyElementsRecursively to removeNullElementsRecursively,Lorenz Ulrich,"",2013-12-13 03:35,"","",2013-12-13,"","",0,2013-12-13 03:35,"","",1465200,"","","The method Arrays::removeEmptyElementsRecursively only checks for NULL values, but not for empty values. Therefore the naming needs to be changed to reflect the behaviour."
54381,TYPO3.Flow,Bug,"",New,-- undefined --,TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file Scripts.php,John Doe,"",2014-02-06 05:14,- Error Handler Report -,"",2013-12-13,"","",0,2013-12-13 05:34,"","",1465600,"",FLOW3 1.0.0,"#1355480641:
Flow: The compile run failed. Please check the error output or system log for more information.

More information

TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file
Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php in line 531.
Reference code: 20131213102250bd4c8e

Flow: The compile run failed. Please check the error output or system log for more information.
13 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:doctrine:compileproxies"", array|16|)

12 TYPO3\Flow\Core\Booting\Scripts::compileDoctrineProxies(TYPO3\Flow\Core\Bootstrap)

11 TYPO3\Flow\Core\Booting\Scripts::initializeProxyClasses(TYPO3\Flow\Core\Bootstrap)

10 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)

9 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)

8 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)

3 TYPO3\Flow\Http\RequestHandler::boot()

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


cat /etc/debian_version
6.0.8

mysql -V
mysql  Ver 14.14 Distrib 5.1.72, for debian-linux-gnu (x86_64) using readline 6.1

php -v
PHP 5.3.3-7+squeeze18 with Suhosin-Patch (cli) (built: Dec 12 2013 09:20:04)
Copyright (c) 1997-2009 The PHP Group
Zend Engine v2.3.0, Copyright (c) 1998-2010 Zend Technologies
    with Suhosin v0.9.32.1, Copyright (c) 2007-2010, by SektionEins GmbH

apache2 -v
Server version: Apache/2.2.16 (Debian)
Server built:   Mar  3 2013 12:09:44

cat functions.php
<?php
$info = array('system', 'shell_exec', 'escapeshellcmd', 'escapeshellarg');
foreach ($info as &$value) {
        if(function_exists($value)) {
                echo ""$value function is enabled"";
        }
        else {
                echo ""$value function is not enabled"";
        }
        echo ""\n"";
}
?>
root@gs-typo3:/var/www# php functions.php
system function is enabled
shell_exec function is enabled
escapeshellcmd function is enabled
escapeshellarg function is enabled

tail -f /var/log/syslog (following comes up when trying to access the setup via http or if I try to run ./flow core:compile)
suhosin[27793]: ALERT - Include filename ('/var/www/TYPO3-Neos/Packages/Application/TYPO3.Neos/Classes/TYPO3/Neos/Domain/Service/array in the format array('resources://MyVendor.MyPackageKey/Private/TypoScript/Root.ts2', 'resources://SomeVendor.OtherPackage/Private/TypoScript/Root.ts2').php') is an URL that is not allowed (attacker 'REMOTE_ADDR not set', file '/var/www/TYPO3-Neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/ClassLoader.php', line 132)
Dec 13 11:18:39 gs-typo3 suhosin[27796]: ALERT - Include filename ('/var/www/TYPO3-Neos/Packages/Application/TYPO3.Neos/Classes/TYPO3/Neos/Domain/Service/array in the format array('resources://MyVendor.MyPackageKey/Private/TypoScript/Root.ts2', 'resources://SomeVendor.OtherPackage/Private/TypoScript/Root.ts2').php') is an URL that is not allowed (attacker 'REMOTE_ADDR not set', file '/var/www/TYPO3-Neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/ClassLoader.php', line 132)



"
54403,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Resources remade when parent record updated,Stephen Bungert,"",2013-12-13 16:39,"","",2013-12-13,"","",0,2013-12-13 16:39,"","",1466700,"",Flow 2.0.0,"I have a book record, the book has an image record and this has a resource record.

Everytime I update my book the image's resource is re-made, a new resource record is created.

Here is the fluid template for the image fields

https://gist.github.com/riscos/7949892


in TYPO3\Flow\Resource\ResourceTypeConverter, a new Resource object is created using the submitted $source['submittedFile']['filename'] and $source['submittedFile']['resourcePointer']

These properties are created by the fluid file VH. If the actual file upload field is empty but these properties are there, shouldn't the resource object be returned from the resource repository instead of just creating a new resource?

The problem is gone if the resource file input is not in my form. I would like to keep the file input so that users can change the image. Surely if this file input is empty the resource should not be remade? The only alternative I see is, if there is a resource, don't show an upload input and make people delete the old file and save the book before letting them upload a new file."
54446,TYPO3.Flow,Bug,"",New,Should have,Cache filebackend 'include_once',Arjen Hoekema,"",2014-01-29 09:22,Cache,"",2013-12-16,"","",0,2013-12-16 05:55,"","",1468850,"",Flow 2.0.0,"The 'SimpleFileBackend' in the caching framework is used by the autoloader to check whether a file can be included. It uses 'include_once' to check if the file can be loaded. 

I'm now running in some troubles related to issue #46689, the autoloader tries to load classes like 'Annotation', or 'api' which fail the first time. But the autoloader seems to be called twice due to multiple calls to 'AnnotationRegistry::registerLoader' in bootstrap/ReflectionService registering the autoloader multiple times.

According to the documentation a second call to 'include_once' always returns TRUE, so the autoloader simply returns TRUE when trying to load the file the second time even if it does not exist.

Suggestions:
- Check if the file exists before doing an 'include_once'
- Move the 'ignoredClassNames' check above 'classesCache->requireOnce' in 'loadClass' method (making sure that files like 'api.php', 'param.php' are not loaded)
- Prevent the Flow class loader from being registered twice using 'AnnotationRegistry::registerLoader' (performance, see Bootstrap and ReflectionService->initialize)"
54451,TYPO3.Flow,Bug,"",New,Must have,No functionality at Apache environments with suexec,bitloft GmbH,"",2014-01-01 12:22,"","",2013-12-16,"","",0,2013-12-16 08:13,"","",1469100,"",(any),"We've figured out that TYPO3 Flow/Neos can't be used out of the box in Apache environments which are using suexec. Suexec only accepts ""whitelisted"" environment variables like variables with ""HTTP_"" prefix. That means that TYPO3 Flow can't access the main environment variable FLOW_REWRITEURL (setted in Web/.htaccess), which means that ""index.php"" is prepending at each URL (Package/Controller/Action) and the right functionality is not given. We've found a way to avoid the problem and added ""putenv('FLOW_REWRITEURLS=1');"" to line 1 in Web/index.php, its kindly but not clean.

There is a bug report (status: new, since 4 years) at the apache bugzilla site which describes the same thing: https://issues.apache.org/bugzilla/show_bug.cgi?id=46644"
54453,TYPO3.Flow,Bug,"",Resolved,Should have,Http request does not handle X-Forwarded-Proto headers consistently,Bastian Waidelich,Bastian Waidelich,2014-07-11 14:19,Http,"",2013-12-16,"","",100,2013-12-16 08:23,"","",1469200,"",(any),"The @Http\Request@ currently only checks the *X-Forwarded-Proto* header in isSecure(). But it fails to verify it correctly and it ignores the header when fetching the URI from the current request:
Given:
<pre>
GET http://acme.com:8080 HTTP/1.1
X-Forwarded-Proto: https
X-Forwarded-Port: 443
</pre>
<pre>
<code class=""php"">
(string)$currentHttpRequest->getUri();
</code>
</pre>

*EXPECTED:* https://acme.com
*ACTUAL:* http://acme.com:8080"
54458,TYPO3.Flow,Bug,"",New,Should have,Missing Version Number in packages,Thomas Hempel,"",2013-12-28 12:13,Package,"",2013-12-16,"","",0,2013-12-16 11:03,"","",1469450,"",Flow 2.0.0,"There is no information about the version number of a package if installed. 

This is bad because I can't check what version is actually installed. This is especially bad when you install Neos with all it's dependencies via composer. (I have that problem right now, that my composer file says 1.0.1 but it looks like v 1.0.0 is actually installed)

It also prevents me from remotely checking version numbers via systems like caretaker as I have no way of getting the version of all installed packages.

Can you please add the version number to the composer.json for example?


Best wishes,
Thomas Hempel"
54487,TYPO3.Eel,Bug,"",Resolved,Should have,Prevent race conditions in EEL Expression cache,Christian Müller,Christian Müller,2013-12-18 06:40,"","",2013-12-18,"","",100,2013-12-18 04:42,"","",1470800,"","",Currently the cached code is loaded early which is unnecessary in case there are no new expressions to cache and can also lead to race conditions.
54549,TYPO3.Flow,Bug,"",New,Must have,PackageManager::createPackage is incompatible to PackageManagerInterface,Philipp Gampe,"",2013-12-21 08:42,"","",2013-12-21,"","",0,2013-12-21 08:42,"","",1473900,"",Git master,"The last parameter must be of type NULL, but is of type string. Either change the interface or set the default value inside the method instead of inside the signature.

As the parameter is supposed to be of type string, I suggest to just change the interface signature to an empty string instead of NULL - at least this is what is to be expected from the phpdoc comment.

Please note that this also fatals in PHP 5.5.7 (Fedora 19) for the CMS Core unit tests which also use this implementation.

#hhvm also chokes about this"
54553,TYPO3.Flow,Bug,"",Resolved,Should have,Web/.htaccess will be overridden on every composer update/install,Alexander Schnitzler,"",2014-03-05 09:36,"","",2013-12-21,"","",100,2013-12-21 13:37,"","",1474100,"",Git master,"As the title says, on every composer update/install Web/.htaccess will be copied from somewhere inside the Flow package and overrides the local file.

It's good to have this copy the first time one installs Flow, but after one has added own stuff like RedirectRules e.g. the override is really annoying."
54570,TYPO3 Flow Base Distribution,Bug,"",Resolved,Should have,Indentation in Settings.yaml.example is confusing,Rens Admiraal,"",2014-07-11 14:19,"","",2013-12-22,"","",100,2013-12-22 05:49,"","",1474900,"",Git master,"The following indentation was found to be confusing by people in #typo3-neos:

<pre>
  # You might need to uncomment the following lines and specify
  # the location of the PHP binary manually.
  #  core:
  #    phpBinaryPathAndFilename: 'C:/path/to/php.exe'
</pre>

During the removal of the indentation the mistake was made to remove the full '  #' before the line which lead to having the settings on the wrong level. The following was found to be more clear:

<pre>
  # You might need to uncomment the following lines and specify
  # the location of the PHP binary manually.
#    core:
#      phpBinaryPathAndFilename: 'C:/path/to/php.exe'
</pre>"
54589,TYPO3.Flow,Bug,"",New,Should have,Role parent is not removed from roles MM table,Andreas Wolf,"",2013-12-24 09:32,Security,"",2013-12-24,"","",0,2013-12-24 09:32,"","",1475850,"",(any),"When removing a parent role from Policy.yaml, this change is not reflected in the table typo3_flow_security_policy_role_parentroles_join if there are no parent roles for this role anymore.

How to test:

# Add a role with two parent roles to the table, run some action
# check typo3_flow_security_policy_role_parentroles_join for the inheritance: there should be two entries in it
# remove one of the parent roles, run some action
# check typo3_flow_security_policy_role_parentroles_join: one entry should have gone
# remove the other parent role, run some action
# check typo3_flow_security_policy_role_parentroles_join: the entry is still there, but should be gone.

Note: the affected Flow version is 2.1, but I cannot select this because the entry is missing."
54593,TYPO3 Flow Base Distribution,Bug,"",New,Must have,ini_get return value has changed for PHP >=5.3.0 -> changed check-implementation needed!,Chr is,"",2013-12-24 20:48,"","",2013-12-25,"","",0,2013-12-24 20:48,"","",1476050,"",(any),"There is a function ini_get(...) used in

<pre>
  TYPO3-Neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Bootstrap.php
</pre>


The return value is checked to the presence of an empty string like this:

<pre>
  if (ini_get('date.timezone') === '') {
  // payload
  }
</pre>


*The return value has changed for PHP Versions >=5.3.0*


See PHP Changelog[1] for function ini_get(...):

> 5.3.0	Previously, the empty string was returned if the configuration option didn't exist. +*now, FALSE is returned instead*+.



[1] http://www.php.net/manual/en/function.ini-get.php"
54600,TYPO3.Flow,Feature,"",Resolved,Could have,Request arguments not available in all HTTP methods,Jesper Paardekooper,Bastian Waidelich,2014-12-16 04:14,Http,"",2013-12-26,"","",100,2013-12-26 06:48,"","",1476400,"","","When building a REST service that uses the PATCH method, arguments are not available because of the following restriction:

*Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Request.php*
<pre>
	protected function buildUnifiedArguments(array $getArguments, array $postArguments, array $uploadArguments) {
		$arguments = $getArguments;
		$contentArguments = NULL;

		if ($this->method === 'POST') {
			$contentArguments = ($postArguments !== array()) ? $postArguments : $this->decodeBodyArguments($this->getContent(), $this->headers->get('Content-Type'));
		} elseif ($this->method === 'PUT') {
			$contentArguments = $this->decodeBodyArguments($this->getContent(), $this->headers->get('Content-Type'));
		}

</pre>

For proper REST support, shouldn't this also allow PATCH and perhaps some more methods that may contain arguments?"
54618,TYPO3.Flow,Task,"",Resolved,Should have,Split up ActionController::errorAction(),Andreas Wolf,"",2014-04-15 11:37,MVC,"",2013-12-28,"","",100,2013-12-28 04:41,"","",1477300,"","","The method @errorAction()@ in @ActionController@ contains code that does three jobs:

* adding the error flash messages
* redirecting back to the original request
* outputting a _flattened_ validation error messages

As one might wish to override one or more of these aspects, but not c&p the whole code, these concerns should be moved to separate methods that are called from @errorAction()@."
54632,TYPO3.Flow,Bug,"",Resolved,Must have,route caching should take hostnames into account,Kerstin Huppenbauer,Kerstin Huppenbauer,2014-02-24 05:35,MVC - Routing,"",2013-12-29,"","",100,2013-12-29 12:05,"","",1478000,"",Git master,"Having 2 Sites in Neos the following Exception occurs for Nodes which have the same title in both Domains:

Exception while rendering
page<TYPO3.Neos:Page>/
body<TYPO3.TypoScript:Template>/
parts/
mainMenu:
Invalid paths: path of starting point must first part of end point path. 

To avoid this the hostnames should be included in the RouterCacheIdentifier "
54744,TYPO3.Flow,Bug,"",New,Should have,"System.log contains many NOTICE Flow The argument ""workspace"" declared in pointcut does not exist in method TYPO3...",Chr is,"",2014-02-12 03:07,Log,"",2014-01-05,"","",0,2014-01-04 21:57,"","",1483500,"",(any),"Flow version = 2.1.0  (composer show -i)
Neos version = 1.0.1  (composer show -i)



*System.log contains a lot of these NOTICES (after flushing cache):*

<pre>
14-01-05 03:43:48 25269      NOTICE    Flow                 Locking site. Lock file: /path/to/example.org/TYPO3-Neos/Data/Temporary/Production/Flow.lock
14-01-05 03:43:49 25269      INFO      Flow                 Aspect classes have been modified, flushing the whole proxy classes cache.
14-01-05 03:43:49 25269      INFO      Flow                 Domain model changes have been detected, triggering Doctrine 2 proxy rebuilding.
14-01-05 03:43:49 25269      INFO      Flow                 File Monitor ""Flow_ClassFiles"" detected 2120 changed files and 33 changed directories.
14-01-05 03:43:49 25269      INFO      Flow                 A configuration file matching the pattern ""/Policy\.yaml/"" has been changed, flushing related cache ""Flow_Security_Policy""
14-01-05 03:43:49 25269      INFO      Flow                 A configuration file matching the pattern ""/Routes([^\/]*)\.yaml/"" has been changed, flushing related cache ""Flow_Mvc_Routing_FindMatchResults""
14-01-05 03:43:49 25269      INFO      Flow                 A configuration file matching the pattern ""/Routes([^\/]*)\.yaml/"" has been changed, flushing related cache ""Flow_Mvc_Routing_Resolve""
14-01-05 03:43:49 25269      INFO      Flow                 A configuration file matching the pattern ""/Views\.yaml/"" has been changed, flushing related cache ""Flow_Mvc_ViewConfigurations""
14-01-05 03:43:49 25269      INFO      Flow                 The configuration has changed, triggering an AOP proxy class rebuild.
14-01-05 03:43:49 25269      INFO      Flow                 File Monitor ""Flow_ConfigurationFiles"" detected 66 changed files and 16 changed directories.
14-01-05 03:43:49 25269      INFO      Flow                 The localization files have changed, thus flushing the I18n XML model cache.
14-01-05 03:43:49 25269      INFO      Flow                 File Monitor ""Flow_TranslationFiles"" detected 10 changed files and 3 changed directories.
14-01-05 03:44:00 25269      INFO      Flow                 Reflected 979 emerged classes.
14-01-05 03:44:02 25269      INFO      Flow                 Aspects have been modified, therefore rebuilding all target classes.
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Flow\Mvc\Controller\StandardController->indexAction
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Flow\Mvc\Controller\StandardController->indexAction
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Fluid\ViewHelpers\Widget\Controller\AutocompleteController->indexAction
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Fluid\ViewHelpers\Widget\Controller\AutocompleteController->indexAction
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Fluid\ViewHelpers\Widget\Controller\PaginateController->indexAction
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Fluid\ViewHelpers\Widget\Controller\PaginateController->indexAction
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Media\Controller\AssetController->indexAction
14-01-05 03:44:02 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Media\Controller\AssetController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\NeosDemoTypo3Org\Controller\RegistrationController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\NeosDemoTypo3Org\Controller\RegistrationController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Backend\BackendController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Backend\BackendController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Backend\MenuController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Backend\MenuController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Backend\ModuleController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\LoginController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\LoginController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\AbstractModuleController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\AbstractModuleController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\AdministrationController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\AdministrationController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\Administration\PackagesController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\Administration\PackagesController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\Administration\SitesController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\Administration\SitesController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\Administration\UsersController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\Administration\UsersController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\ManagementController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\ManagementController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\UserController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\UserController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\User\UserSettingsController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Module\User\UserSettingsController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Service\NodeController->indexAction
14-01-05 03:44:03 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Neos\Controller\Service\NodeController->indexAction
14-01-05 03:44:04 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Setup\Controller\SetupController->indexAction
14-01-05 03:44:04 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Setup\Controller\SetupController->indexAction
14-01-05 03:44:04 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Setup\ViewHelpers\Widget\Controller\DatabaseSelectorController->indexAction
14-01-05 03:44:04 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\Setup\ViewHelpers\Widget\Controller\DatabaseSelectorController->indexAction
14-01-05 03:44:04 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\TYPO3CR\ViewHelpers\Widget\Controller\PaginateController->indexAction
14-01-05 03:44:04 25269      NOTICE    Flow                 The argument ""workspace"" declared in pointcut does not exist in method TYPO3\TYPO3CR\ViewHelpers\Widget\Controller\PaginateController->indexAction
</pre>"
54973,TYPO3.Flow,Bug,"",Resolved,Must have,mod_rewrite doesnt allow uppercase characters for the session id,Julian Kleinhans,Julian Kleinhans,2014-01-14 06:36,Core,"",2014-01-14,"","",100,2014-01-14 02:59,"","",1494700,"",Git master,"The usage of the SecurityPublishingConfiguration in combination with the fluid resource viewhelper generates a link which includes the users sessions id. This session id includes uppercase characters. The mod_rewrite rule for this private resources doesnt allow uppercase characters for the session id, so the user gets a 404.

Example: 
<pre>
$myNewResource->getOriginalResource()->setPublishingConfiguration($this->resourceService->getSecurityPublishingConfiguration());
</pre>

And now use the fluid resource viewhelper.
The output looks like this

<pre>
http://domain.com/_Resources/Persistent/5I69ZCdxva2uQvHUPYaq00whI1XyD8UQ/Kj187.Core:Editor/c37d1ae0234ad14be3cc05d2657784944eed492e/test.png
</pre>"
55008,TYPO3.Fluid,Bug,"",Under Review,Should have,Interceptors should be used in Partials,Christian Müller,Christian Müller,2014-01-15 02:44,"","",2014-01-15,"","",0,2014-01-15 02:43,"","",1496400,"",(any),Currently Interceptors don't work on Partials because they are not initialized there. Can easily be tested by creating a Template that uses the Resource Interceptor (so using a relative path like ../../Public/Images/Foo.jpg) and then (after checking that the Interceptor converts that into a full resource path) moving that into a partial. There the Interceptor is no longer executed and you get the relative path that is then wrong.
55142,TYPO3.Fluid,Bug,"",Resolved,Should have,Use getPropertyPath in autocomplete widget,Alexander Stehlik,"",2014-01-21 07:36,Widgets,"",2014-01-19,"","",100,2014-01-19 10:30,"","",1502600,"",Git master,"

Currently the AutocompleteController uses @ObjectAccess::getProperty()@ for retrieving the property that was searched for in the query.

The query is currently flexible enough to support sub-properties to be searched. An example: if you have a User object you could configure an autocomplete widget that searches for @name.fullName@. The query will execute that search without problems and find the users.

But as soon as the results are build the widget crashes because it can not access the property.

A simple fix that should not cause any side effects would be to use @ObjectAccess::getPropertyPath()@ instead."
55189,TYPO3 Flow Base Distribution,Task,"",Closed,Should have,Extract forward handling from errorAction,Oliver Hader,Bastian Waidelich,2014-12-20 07:20,"","",2014-01-20,"","",0,2014-01-20 14:12,"","",1504900,0.00,"","_basically taken from Extbase tracker, see #55178 and please let me know whether this might be considered for TYPO3 Flow_

The default ActionController::errorAction uses the forward method to get back to the referring request.
If a custom and different redirect shall happen here, one has to clone the whole errorAction method.
Extracting the handling simplifies customization at this state."
55199,TYPO3.Flow,Feature,"",New,Should have,Avoid Buffering of Shell output,Kay Strobach,"",2014-03-31 06:34,Cli,"",2014-01-21,"","",0,2014-01-21 00:51,"","",1505300,"","","Currently Shell output is buffered in TYPO3\Flow\Cli\Response->appendContent(), this does not make sense IMHO, especially for long lasting operations.
* this can be misinterpreted as a hanging / slow program
* this can cause exceeding memory limits
* users don't understand it.

Therefore i suggest to output the CLI output directly!

I made it working with AOP, afterwards you may need some additional cleaning in the other CLI\Response methods, which are useless after the patch ;)"
55212,TYPO3.Flow,Bug,"",Resolved,Should have,TOC is broken on docs.typo3.org,Xavier Perseguers,Xavier Perseguers,2014-02-07 11:35,- Documentation -,"",2014-01-21,"","",100,2014-01-21 06:51,"","",1505950,"",(any),The table of contents is not rendered correctly on docs.typo3.org. This is related to the use of 3 different TOCs in the main Index.rst file.
55215,TYPO3.Flow,Task,"",Resolved,Should have,Remove ChangeLog from PDF,Xavier Perseguers,Xavier Perseguers,2014-02-07 11:35,- Documentation -,"",2014-01-21,"","",100,2014-01-21 07:17,"","",1506100,"","","When generating PDF, chapter listing the whole changelog does not make (much) sense, it should better be excluded."
55244,TYPO3 Flow Base Distribution,Bug,"",Closed,Won't have this time,Can't use Flow with PHP > 5.4,Samuel Mehrbrodt,Samuel Mehrbrodt,2014-01-22 08:05,"","",2014-01-22,"","",0,2014-01-22 07:12,"","",1507550,"",(any),"I have PHP 5.5.3 here and can't run Flow, get the following message:

Fatal error: Directive 'allow_call_time_pass_reference' is no longer available in PHP in Unknown on line 0
TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php in line 531.

The directive 'allow_call_time_pass_reference' was deprecated since PHP 5.0 and removed in 5.4: http://www.php.net/manual/de/ini.core.php#ini.allow-call-time-pass-reference

I'm running FLOW 2.1 (included in NEOS)."
55306,TYPO3.Flow,Bug,"",Under Review,Should have,Filenames should not exceed 255 characters,Christian Müller,Christian Müller,2015-06-02 12:30,"","",2014-01-24,"","",0,2014-01-24 08:11,"","",1510650,"",Git master,Currently the SimpleFileBackend generates temporary files that could exceed 255 characters in length which will fail for many filesystems.
55309,TYPO3.Flow,Bug,"",Resolved,Should have,PackageManager::getPackageOfObject() does not work for proxy objects,Bastian Waidelich,Bastian Waidelich,2014-07-11 14:19,Package,"",2014-01-24,"","",100,2014-01-24 09:03,"","",1510800,"",Flow 2.0.0,"The method @PackageManager::getPackageOfObject()@ fails to resolve the package of a given object if it's a proxy.

The Flow/Doctrine proxy classes usually reside in a folder underneath @Data/Temporary@. Comparing those paths with the package root paths leads to invalid results."
55369,TYPO3 Flow Base Distribution,Bug,"",Resolved,Must have,Cookies not created if cookie lifetime is set,Stephen Bungert,Sebastian Heuer,2014-02-25 09:36,"","",2014-01-27,"","",100,2014-01-27 13:46,"","",1513750,"",Flow 2.0.0,"I have a flow based website and have increased the session timeout to 1 day. Cookies were still session only so I changed the cookie duration to one day too (I want users to be logged in even after closing the tab/browser). Whenever I do this, no cookie is created, and uses can't login.

I tried changing the value directly in typo3/flow/configuration settings, in flow/congiguration and my packages configuration. Everytime the cookie is not made. If I remove the lifetime, the cookie is created. I also tried copying the whole cookie ""array"" to the settings in case you have to oevrwrite all cookie values in settings. This also didn't work.

I think this is a bug. No error is shown, nothing in the server error log or the flow's system development log.

In the security log I see:

<pre>
14-01-27 19:43:15 3329       127.0.0.1      NOTICE    TYPO3.Flow           Successfully authenticated token: Username: ""admin""
14-01-27 19:43:16 3329       127.0.0.1      INFO      Flow                 No account authenticated
</pre>"
55618,TYPO3.Flow,Bug,"",Resolved,Should have,Wrong HTTP status code for missing entities,Bastian Waidelich,Bastian Waidelich,2014-07-11 14:19,Error,"",2014-02-03,"","",100,2014-02-03 06:05,"","",1525600,"",(any),"When an exception is thrown in @PropertyMapper::convert()@ it is always wrapped in a @\TYPO3\Flow\Property\Exception@ leading to the default exception handling which sets the status code of the HTTP response to 500.
At least in the case of a @TargetNotFoundException@ this should be a 404 status instead"
55703,TYPO3.Flow,Bug,"",Resolved,Should have,CSRF Protection with X-Flow-CsrfToken Header doesn't work,Stefan Aebischer,"",2014-06-18 16:37,"",2.0.1,2014-02-05,"","",100,2014-02-05 11:44,"","",1529850,"",Flow 2.0.0,"If the CSRF Token is submited as X-Flow-CsrfToken Request Header, the token validation fails, even if the correct token is submited. 
The CsrfProtection RequestPattern tries to get the X-Flow-CsrfToken Header in order to validate the request (around line 108 in TYPO3\Flow\Security\RequestPattern\CsrfProtection).

The header is transformed from X-Flow-CsrfToken to HTTP-X-FLOW-CSRFTOKEN through PHP and afterwards in TYPO3\Flow\Http around line 72 to X-Flow-Csrftoken (lower t in Token).

A solution could be to name the header X-Flow-Csrf-Token.

Affected Version is 2.1.0 (not available to choose)"
55719,TYPO3.Flow,Feature,"",New,Could have,Support additional Resource Folders,Carsten Bleicker,"",2014-02-06 05:38,"","",2014-02-06,"","",0,2014-02-06 05:38,"","",1530650,"","",f.e. using a dependency to twitter package twbs/bootstrap. It has several files (f.e. fonts) wich arent in a structure of Resources/Public and will not be published. Would be nice to have an option for ResourcePublisher to define additional Folders. Right now i have to symlink them in my own package or copy them to my package.
55723,TYPO3.Fluid,Feature,"",Closed,Should have,Support of schema.org attributes,Carsten Bleicker,Bastian Waidelich,2014-02-06 06:42,"","",2014-02-06,"","",0,2014-02-06 06:17,"","",1530850,"","","\TYPO3\Fluid\Core\ViewHelper\AbstractTagBasedViewHelper::registerUniversalTagAttributes should support schema.org microformat properties as much as possible.

f.e. itemprop=""image"""
55793,TYPO3.Flow,Feature,"",Under Review,Could have,Add Support for groupBy,Kerstin Huppenbauer,Kerstin Huppenbauer,2014-09-02 03:38,Persistence,"",2014-02-08,"","",0,2014-02-08 09:25,"","",1534350,"","","groupBy is supported by Doctrine, but at the moment not by Flow.
This Patch add's groupBy Support to Flow and can be used this way:

<pre>
$query = $this->createQuery();
return $query->matching()
->setGroupBy(array('propertyName'))
->execute();
</pre>"
55831,TYPO3.Flow,Feature,"",New,Should have,Different scenarios for session settings,Aimo Künkel,"",2014-02-10 05:21,"","",2014-02-10,"","",0,2014-02-10 05:20,"","",1536000,"","","What i'd really love is something like this to easily offer some
[ ] keep me logged in
login form functionality

<pre>
TYPO3:
  Flow:
    session:
      # this is the default - doesn't break backwards compatibility
      inactivityTimeout: foo
      scenarios:
        myScenario1: # the user wants to be remembered
          # set timeout to one year
          inactivityTimeout: 31536000
        myScenario2: # the user logged in from an internet café
          # set timeout to 30 minutes
          inactivityTimeout: 1800
</pre>

and in the controller

<pre>
public function authenticateAction() {
	...
	if ($keepMeLoggedIn) {
		$someObjectWhereYouWouldSetThis->setScenario('myScenario1');
	}
	...
}
</pre>

If the scenarios would then inherit from the default, you have everything you need to build your own configuration sets."
55836,TYPO3.Fluid,Bug,"",Closed,Should have,Wrong class names in fluid documentation,Christian Weiske,"",2014-03-05 04:51,"","",2014-02-10,"","",0,2014-02-10 07:23,"","",1536250,"",Git master,"The documentation on
http://docs.typo3.org/flow/TYPO3FlowDocumentation/stable/TheDefinitiveGuide/PartIII/Templating.html
uses class names like
> @extends \TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper@

Those classes don't exist anymore. They are in @\TYPO3\CMS\...@."
55869,TYPO3.Flow,Feature,"",Closed,Should have,Allow custom handling of propertyMapping errors,Georg Ringer,Bastian Waidelich,2015-02-11 09:47,MVC,"",2014-02-11,"","",0,2014-02-11 04:16,"","",1537900,"","","This is the forward port of the bug #55861 in TYPO3 CMS.

A typical controller call in TYPO3 CMS looks like this

<pre><code class=""php"">
	/**
	 * Single view of a news record
	 *
	 * @param Tx_News_Domain_Model_News $news news item
	 * @param integer $currentPage current page for optional pagination
	 * @return void
	 */
	public function detailAction(Tx_News_Domain_Model_News $news = NULL, $currentPage = 1) {
}
</code></pre>

As long as no news property or a correct uid is given everything is ok but if the record can't be found, the exception 
<pre>Exception while property mapping at property path """":Object with identity ""3"" not found.</pre> is thrown.

There is currently no way for an extension, to handle this error in the own code! It is very normal, that records get deleted, set to hidden or what so ever. Therefore it must be up to the extension if a default value is set (like @NULL@) to return NULL by the property mapper!

"
55870,TYPO3.Flow,Feature,"",New,Must have,Enhance f:form.textfield or add a f:form.datefield VH with enhanced validation and propertymapping,Kay Strobach,Christian Müller,2014-04-15 06:32,"","",2014-02-11,"","",0,2014-02-11 05:02,"","",1537950,"","","currently datetime field handling is a bit of a mess.

The idea is to have a viewHelper, which is used like this:

<pre>
  <f:form.datefield property=""datetimeAttribute"" format=""d.m.Y"" />
</pre>

Jobs of the VH:

# DateTime object is formated as d.m.Y
# Property mapping knows the format of the field it's d.m.Y and can automagically cast the passed string to a DateTime object

The VH can create a hidden field with the datetime format and a visible date field, then the DateTimeConverter can use this information to successfully cast the object to a "
55936,TYPO3.Flow,Bug,"",Resolved,Must have,sessionManager->getActiveSessions() returns empty,Thomas Lorenzen,"",2014-08-27 04:00,Session,"",2014-02-12,"","",100,2014-02-12 10:59,"","",1541150,"",Flow 2.0.0,"I inject the sessionManager and try to get all active sessions but getActiveSessions() always returns empty array.

Have tried in different contexts and yes I DO have active sessions ;)

I'm running Flow 2.0.1

Code:

    /**
     * @Flow\Inject
     * @var \TYPO3\Flow\Session\SessionManagerInterface
     */
    protected $sessionManager;

    $sessions = $this->sessionManager->getActiveSessions();"
55937,TYPO3.Flow,Bug,"",New,Must have,FlashMessage queue is lost,Thomas Lorenzen,"",2014-02-12 11:03,Session,"",2014-02-12,"","",0,2014-02-12 11:03,"","",1541200,"",Flow 2.0.0,"I add a FlashMessage and the redirect.

If (condition==A) redirect to A or else redirect to B.

The error is that flashMessage queue i empty in A but shows my message in B.

I do output flashmessages, but queue is simply truncated.


$this->addFlashMessage($this->translator->translateById('cliologin.userpassnotfound',array(),null,null,'Main','ClioOnline.ABO2'),'',Message::SEVERITY_ERROR);
if($this->logindata->getLoginprovider() == 'DefaultProvider') {
   $this->redirect('login','Standard');
}
else {
   $this->redirect('clioLogin');
}

Queue empty at Standard->login but not at Authentication->clioLogin.
I run Flow 2.0.1"
55953,TYPO3.Flow,Task,"",New,Could have,Repair and streamline ValueObject support,Adrian Föder,"",2015-02-15 18:30,Persistence,"",2012-05-21,"","",50,2014-02-13 05:16,"","",1542000,"","",This is intended to be a wrapper task for various bugs and conspicuousnesses regarding Flow's ValueObject support
55954,TYPO3.Flow,Bug,Task #55953: Repair and streamline ValueObject support,New,Should have,Associations to ValueObjects should not be cascade all'd,Adrian Föder,"",2015-02-05 05:00,"","",2014-02-13,"","",0,2014-02-13 05:22,"","",1542050,"",(any),"As it's the case for associations to entities being an aggregate root, Associations to ValueObjects must not be delete-cascaded carelessly because they are likely to and may be associated to other entities.
This means, as far as I understand it, occurrences like 

<pre>
Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Persistence\Doctrine\Mapping\Driver\FlowAnnotationDriver.php:507
<code class=""php"">
elseif ($this->isAggregateRoot($mapping['targetEntity'], $className) === FALSE) {
	$mapping['cascade'] = array('all');
}
</code>
etc.
</pre>

must also check for the target entity being a ValueObject."
55957,TYPO3.Flow,Task,"",New,Should have,RFC: Optimize AOP proxies,Christopher Hlubek,"",2014-02-28 08:44,AOP,"",2014-02-13,"","",0,2014-02-13 08:10,"","",1542200,"","","Our current approach of applying AOP in generated proxies has some downsides:

* It's hard to follow the dynamic calls during debugging (Flow_Aop_Proxy_invokeJoinPoint, call_user_func_array, $adviceObject->$methodName($joinPoint))
* Profiling information contains a lot of these dynamic calls where it's again hard to follow parent / child call relations
* The creation of all advices for all methods in the constructor has some overhead
* The *Advice objects that are used to evaluate the advices dynamically add an additional overhead and nesting
* The proxy code is hard to understand, it's not obvious what a proxy method will execute

*Idea:*

* Unroll the advices in the proxied method, this is simple for everything but @Around@
* Use a direct call to the aspect method for easier to debug code
* Use a direct call to the original method by using a closure instead of the dynamic invocation with @Flow_Aop_Proxy_invokeJoinPoint@

*Sketch:*

<pre><code>
<?php

class TargetClass01 extends TargetClass01_Original implements \TYPO3\Flow\Object\Proxy\ProxyInterface {

	/**
	 * Autogenerated Proxy Method
	 */
	public function __construct() {

		if (isset($this->Flow_Aop_Proxy_methodIsInAdviceMode['__construct'])) {
			parent::__construct();
		} else {
			$this->Flow_Aop_Proxy_methodIsInAdviceMode['__construct'] = TRUE;
			try {
				$methodArguments = array();

				// The advice chain is only needed for an Around advice, before advices could be directly placed here
				// The advice chain is composed of a list of closures that actually call the method / advices to have an explicit call instead of call_user_func_array
				// (we could cache the advice chain instances per method if we can measure a performance improvement)
				$adviceChain = new LightweightAdviceChain(function($joinPoint) {
					// Needs PHP 5.4
					return parent::__construct();
				});

				$joinPoint = new \TYPO3\Flow\Aop\JoinPoint($this, 'TYPO3\Flow\Tests\Unit\Aop\Fixtures\TargetClass01', '__construct', $methodArguments, $adviceChain);

				$aspect = \TYPO3\Flow\Core\Bootstrap::$staticObjectManager->get('TYPO3\Flow\Tests\Functional\Aop\Fixtures\BaseFunctionalityTestingAspect');

				// The advices are invoked explicitly for easier debugging and profiling
				$result = $aspect->lousyConstructorAdvice($joinPoint);

			} catch (\Exception $e) {
				unset($this->Flow_Aop_Proxy_methodIsInAdviceMode['__construct']);
				throw $e;
			}
			unset($this->Flow_Aop_Proxy_methodIsInAdviceMode['__construct']);
			return;
		}

		if (get_class($this) === 'TYPO3\Flow\Tests\Unit\Aop\Fixtures\TargetClass01') {
			$this->initializeObject(1);
		}
	}
}
</code></pre>"
55958,TYPO3.Flow,Task,"",New,Should have,RFC: Use PHP 5.4 closure features for direct ObjectAccess,Christopher Hlubek,"",2014-02-13 08:30,"","",2014-02-13,"","",0,2014-02-13 08:30,"","",1542250,"","","We can get rid of @PropertyReflection@ in @ObjectAccess@ with a PHP 5.4 feature of binding closures to object instances. 

See this article: http://ocramius.github.io/blog/accessing-private-php-class-members-without-reflection/

A general decision would be needed if we drop support of PHP 5.3 with the next Flow release."
56036,TYPO3.Flow,Feature,"",New,Should have,Optimize autoloading,Benjamin Heek,"",2014-03-03 05:15,"","",2014-02-17,"","",0,2014-02-17 04:18,"","",1546100,"","","The TYPO3\Flow\Core\Autoloader is checking where to find a class every request.

It's much faster to store the founded path for a class in something like a `class path cache` variable.

It made my time per request go from 140ms to 70ms.


For Example:
<pre>
  /**
       * @var \TYPO3\Flow\Cache\Frontend\PhpFrontend
       */
       protected $classesCache;
       
           
       public function __construct() {
       		$this->classesPaths = apc_exists('classespaths') ? apc_fetch('classespaths') : array();
       }
        
       public function __destruct() {
       		apc_store('classespaths', $this->classesPaths);
       }

       /**
       * Loads php files containing classes or interfaces found in the classes directory of
       * a package and specifically registered classes.
       *
       * @param string $className Name of the class/interface to load
       * @return boolean
       */
       public function loadClass($className) {
              if ($className[0] === '\\') {
                     $className = substr($className, 1);
              }
              if (isset($this->classesPaths[$className])) {
                     require($this->classesPaths[$className]);
                     return TRUE;
              }
       
              // Loads any known proxied class:
              if ($this->classesCache !== NULL && $this->classesCache->requireOnce(str_replace('\\', '_', $className)) !== FALSE) {
                     $this->classesPaths[$className] = $this->classesCache->getBackend()->getCacheDirectory() . str_replace('\\', '_', $className) . '.php';
                     return TRUE;
              }
</pre>"
56074,TYPO3 Flow Base Distribution,Bug,"",New,Should have,Parse errors cause meaningless Flow exception messages.,Momchil Van,Adrian Föder,2014-02-18 08:14,"",2.x,2014-02-18,"","",0,2014-02-18 05:49,"","",1547950,"",(any),"Parse errors cause meaningless Flow exception messages.

For example, if we add a code in some controller action
    $test = array()
lacking the semicolon, it will produce meaningless flow error tracing messages:

    Uncaught exception #1355480641 in line 226 of /home/mmm/www/html/ddd/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php: Execution of subprocess failed with exit code 255 without any further output.
     
    17 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:core:compile"", array|16|)
    16 TYPO3\Flow\Core\Booting\Scripts::initializeProxyClasses(TYPO3\Flow\Core\Bootstrap)
    15 TYPO3\Flow\Core\Booting\Scripts::recompileClasses(TYPO3\Flow\Core\Bootstrap)
    14 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)
    13 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)
    12 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    11 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    10 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    9 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    8 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
    4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)
    3 TYPO3\Flow\Http\RequestHandler::boot()
    2 TYPO3\Flow\Http\RequestHandler::handleRequest()
    1 TYPO3\Flow\Core\Bootstrap::run()"
56107,TYPO3.Flow,Bug,"",New,Should have,Property mapping configuration only supports one wildcard at a time,Bastian Waidelich,"",2014-02-19 04:33,Property,"",2014-02-19,"","",0,2014-02-19 04:33,"","",1549600,"",Git master,"The PropertyMapper supports wildcards (introduced with #37436) in the form:
<pre>
<code class=""php"">
$propertyMappingConfiguration->forProperty('items.*')->allowAllProperties();
</code>
</pre>

Unfortunately this only works for *one* placeholder at a time. The following will never apply:
<pre>
<code class=""php"">
$propertyMappingConfiguration->forProperty('items.*.addons.*')->allowAllProperties();
</code>
</pre>

The only work-around I can think of is:
<pre>
<code class=""php"">
$someArgument = $this->request->getArgument('object');
$numberOfItems = isset($someArgument['items']) ? count($someArgument['items']) : 0;
for ($itemIndex = 0; $itemIndex < $numberOfItems; $itemIndex ++) {
  $propertyMappingConfiguration->forProperty('items.' . $itemIndex . '.addons.*')->allowAllProperties();
}
</code>
</pre>"
56237,TYPO3.Fluid,Task,"",New,Should have,in-line (Condition)ViewHelpers should not evaluate on parsing,Adrian Föder,"",2014-02-24 07:47,"","",2014-02-24,"","",0,2014-02-24 07:47,"","",1556100,"","","constructions like these,

<pre><code class=""html"">
{f:if(condition: anEntity, then: '{anEntity -> f:format.identifier()}')}
</code></pre>

make the then-branch be evaluated, i.e. invoked, even if the condition evals to false. In most cases this is the exact thing which is intended to be cirumvented when wrapping a ViewHelper invocation in a f:if condition."
56409,TYPO3.Flow,Bug,"",Resolved,Should have,Interface incompatibility - PackageManager,Tymoteusz Motylewski,"",2014-03-06 06:36,"","",2014-02-28,"","",100,2014-02-28 02:00,"","",1564650,"",Git master,"PackageManagerInterface contains following method declaration:
public function initialize(\TYPO3\Flow\Core\Bootstrap $bootstrap);

however in the PackageManager (which implements \TYPO3\Flow\Package\PackageManagerInterface)
it is implemented like this:
public function initialize(\TYPO3\Flow\Core\Bootstrap $bootstrap, $packagesBasePath = FLOW_PATH_PACKAGES, $packageStatesPathAndFilename = '') {

this is wrong and will fatal on some versions of php, see http://php.net/manual/en/language.oop5.interfaces.php 
""The class implementing the interface must use the exact same method signatures as are defined in the interface. Not doing so will result in a fatal error.""

It also fatals when running unit tests on hhvm (of CMS)"
56486,TYPO3.Flow,Feature,"",New,Should have,Optimize the ObjectManager for performance,Kobbe van Daatselaar,"",2014-03-04 11:33,"","",2014-03-03,"","",0,2014-03-03 05:21,"","",1568450,"","","The getCaseSensitiveObjectName operation in the ObjectManager can be optimized for better performance. The loop trough the objects variable is a CPU / time intensive loop.

2 fixes:

1) Cache the cachedLowerCasedObjectNames variable (between requests).
2) If the function returns false, this should also be saved in the cachedLowerCasedObjectNames variable.
Add this line before the return FALSE:
$this->cachedLowerCasedObjectNames[$lowerCasedObjectName] = false;

In my case a 5 - 10 ms performance improvement on a 100ms request."
56544,TYPO3.Flow,Bug,"",New,Must have,FLOW Exception on tar package inclusion via composer,Kay Strobach,"",2014-03-20 09:38,Core,"",2014-03-04,"","",0,2014-03-04 11:26,"","",1571350,"",Git master,"<pre>


Fatal error: Uncaught exception 'TYPO3\Flow\Package\Exception\InvalidPackageStateException' with message 'Could not find package with composer name ""robrichards/xmlseclibs"" in PackageStates configuration.' in /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php on line 388

TYPO3\Flow\Package\Exception\InvalidPackageStateException: Could not find package with composer name ""robrichards/xmlseclibs"" in PackageStates configuration. in /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php on line 388

Call Stack:
    0.0001     124452   1. {main}() /project/Web/index.php:0
    0.0011     179168   2. TYPO3\Flow\Core\Bootstrap->run() /project/Web/index.php:27
    0.0032     646832   3. TYPO3\Flow\Core\Booting\Scripts::initializePackageManagement() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Bootstrap.php:105
    0.0032     647192   4. TYPO3\Flow\Package\PackageManager->initialize() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php:126
    0.0034     654584   5. TYPO3\Flow\Package\PackageManager->loadPackageStates() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php:136
    0.0035     678612   6. TYPO3\Flow\Package\PackageManager->scanAvailablePackages() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php:734
    0.1160     944296   7. TYPO3\Flow\Package\PackageManager->sortAndSavePackageStates() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php:801
    0.1160     944360   8. TYPO3\Flow\Package\PackageManager->sortAvailablePackagesByDependencies() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php:933
    0.1183     992628   9. TYPO3\Flow\Package\PackageManager->sortPackagesByDependencies() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php:962
    0.1183     992628  10. TYPO3\Flow\Package\Package->getPackageMetaData() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php:987
    0.1183     992808  11. TYPO3\Flow\Package\PackageManager->getPackageKeyFromComposerName() /project/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/Package.php:155

</pre>

composer.json code in root directory:
<pre>
...

	""repositories"": [
		{
			""type"": ""package"",
			""package"": {
				""name"": ""robrichards/xmlseclibs"",
				""version"": ""1.3.1"",
				""dist"": {
					""url"": ""https://xmlseclibs.googlecode.com/files/xmlseclibs-1.3.1.tar.gz"",
					""type"": ""tar""
				},
				""autoload"": {
					""files"": [""xmlseclibs.php""]
				}
			}
		}
	],
</pre>

As you can see it's possible to load the package without composer.json.
Adding it manually results in a working installation ;)

FLOW should not rely on a composer.json in each package directory"
56555,TYPO3.Kickstart,Bug,"",New,Should have,Kickstart creates wrong labels in New.html,Rik Willems,"",2014-03-04 15:33,"","",2014-03-04,"","",0,2014-03-04 15:31,"","",1571900,"",Git master,"
Kickstart produces New.html templates, all field labels are equal with have the model name. The Edit.html templates are fine. 

The NewTemplate.html file has a wrong reference. See attached diff."
56556,TYPO3.Flow,Feature,"",New,Should have,support hasProperty and isProperty,Simon Schaufelberger,"",2014-04-07 18:34,"","",2014-03-04,"","",0,2014-03-04 16:15,"","",1571950,"","","The way how you currently check for existence of a value in fluid is not nice.

<pre>
<f:if condition=""{object.hasChildren}"">
[...]
</f:if>
</pre>

results in a method in the Model:

<pre>
public function getHasChildren()
</pre>

Instead it should be possible to just write:

<pre>
public funtion hasChildren()
</pre>

Same for ""is"".

Inspired by: https://github.com/czenker/cz_simple_cal/blob/master/Classes/Domain/Model/Base.php"
56573,TYPO3.Flow,Bug,Major Feature #56602: Handling Of Multi Identity Entities,New,Should have,Converting by Flow\Identity,Carsten Bleicker,"",2014-04-09 07:10,Persistence,"",2014-03-05,"","",0,2014-03-05 08:08,"","",1572800,"",Git 2.0,"i am receiving records from a third party by json rest api.
my entities getting a property $foreignIdentity wich is the id of third party.
i would expect that the converter finds these entities and converts them by any given identity.
maybe throw exception if its not unique. but it could be prevented by a unique constraint.

i would expect that 2.) works:

1.) http://acme.local/foo/fc700953-8911-9432-542e-968b7bff43e3
Status 200 and flow persistence identifier is converted to concrete object

2.) http://acme.local/foo/5317133a3e1bb <-- foreignIdentity wich is also a @Flow\Identity
Status 500
#1297933823: Object with identity ""5317133a3e1bb"" not found.

class looks like this:

// @Flow\Entity
class Foo{
	
	/**
	* @var string
	* @Flow\Identity
	*/
	protected $foreignIdentity;
	
}


my routing:
-
	name: 'Read Action by property ""foreignIdentity"" or ""flow_persistence_identifier"" as {foo}'
	uriPattern: 'foo/{foo}'
	httpMethods: ['GET']
	defaults:
		'@package':    'Acme.Foo'
		'@controller': 'Foo'
		'@action':     'show'
		'@format':     'json'



i dont want to bind the rest api to the flow persistence identifier because third party users should use their own identity in combination with their workspace as unique constraint over the fields foreignIdentity_workspace.

"
56598,TYPO3.Flow,Bug,"",Resolved,Should have,Absolute URI for WebEntry,Frederik Vosberg,Bastian Waidelich,2014-06-18 16:37,Security,"",2014-03-06,"","",100,2014-03-06 06:59,"","",1574050,"",Git master,"Hi,

I tried to configure an absolute URL for my entry point of a security provider. But it can't handle the absolute uri.

provider: MyProvider
entryPoint: 'WebRedirect'
entryPointOptions:
  uri: http://www.absolute-url.de/

I have created a patch.

Flow version: 2.1.1"
56601,TYPO3.Flow,Bug,Major Feature #56602: Handling Of Multi Identity Entities,Under Review,Must have,PersistenceManager wrong handling of ORM\Id,Carsten Bleicker,"",2015-02-16 11:56,"","",2014-03-06,"","",0,2014-03-06 07:22,"","",1574200,"",Git 2.0,"Having this to make id unique in combination with workspace to have client entities (in german it calls ""mandantenfähig""):
https://gist.github.com/pumatertion/9388169#file-cliententity-php-L22
https://gist.github.com/pumatertion/9388169#file-cliententity-php-L29

Doctrine allows composite keys: http://docs.doctrine-project.org/en/2.0.x/tutorials/composite-primary-keys.html
Wich is the sample above.

The PerstistenceManager having getIdentifierByObject() but this result is not usable by getObjectByIdentifier()
for entities having composite primary keys.

See comments:
https://gist.github.com/pumatertion/9388169#file-persistencemanager-php-L184
https://gist.github.com/pumatertion/9388169#file-persistencemanager-php-L222


Imho there is no need to manipulate the results of doctrine in the persistence. This is ""just persistence""
if identifier is an array wich x or y items has to be handled somewhere else as in the persistence. this should be realy get
removed from the persistence layer.

To use Flow ""fearless"" its essential for me that doctrine persistence delivers expected results as doctrine documented it and does not any manupalation of datatypes, like the current() did it in https://gist.github.com/pumatertion/9388169#file-persistencemanager-php-L200.
Currently features of Doctrine are reduces by Flows PersistenceManager.

To receive third party data wich needs to be stored with client AND id information, f.e. to handle a multiclient rest api deals with the clientside identity flow makes realy problems doing this because you expect that doctrine persistence acts like doctrine, but it doesnt. But thats exactly what is Flow build for, i think.

Do you aggree?

Kind Regards
carsten bleicker"
56602,TYPO3.Flow,Major Feature,"",New,Should have,Handling Of Multi Identity Entities,Christian Müller,"",2014-04-09 07:10,Persistence,"",2014-03-05,"","",0,2014-03-06 07:26,"","",1574250,0.00,"","Currently Flows behavior with entities that have a ""multi"" identity is not usable. Some changes need to be done to Persistence and Property Mapping to enable that."
56607,TYPO3.Flow,Bug,"",Closed,Should have,Don't use object path mapping for object routes without custom uriPattern,Bastian Waidelich,Bastian Waidelich,2014-05-14 12:10,MVC - Routing,"",2014-03-06,"","",0,2014-03-06 08:28,"","",1574500,"",(any),"Currently if you use the ""object route part"":http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartIII/Routing.html#object-route-parts handler, Flow adds an ""ObjectPathMapping"" record when the URL is created the first time.
This is done because the association might not be deterministic:
<pre>
<code class=""yaml"">
-
  name: 'Single product route'
  uriPattern: 'products/{product}'
  defaults:
    '@package':     'My.Demo'
    '@controller':  'Product'
    '@action':      'show'
  routeParts:
    product:
      objectType: 'My\Demo\Domain\Model\Product'
      uriPattern: '{product.name}'
</code>
</pre>

In this case, if multiple products have the *same name* flow would create separate ObjectPathMappings with a unique suffix (""<product.name>-<n>"" where n is a number starting with 1).

However this is *not* required if the mapping is deterministic, e.g. if the ""uriPattern"" is not specified. In that case Flow falls back to using the Identity properties and we don't need to persist ObjectPathMappings."
56608,TYPO3.Flow,Bug,"",Closed,Should have,Don't use object path mapping for object routes without custom uriPattern,Bastian Waidelich,Bastian Waidelich,2014-03-10 10:29,MVC - Routing,"",2014-03-06,"","",0,2014-03-06 08:28,"","",1574550,"",(any),"Currently if you use the ""object route part"":http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartIII/Routing.html#object-route-parts handler, Flow adds an ""ObjectPathMapping"" record when the URL is created the first time.
This is done because the association might not be deterministic:
<pre>
<code class=""yaml"">
-
  name: 'Single product route'
  uriPattern: 'products/{product}'
  defaults:
    '@package':     'My.Demo'
    '@controller':  'Product'
    '@action':      'show'
  routeParts:
    product:
      objectType: 'My\Demo\Domain\Model\Product'
      uriPattern: '{product.name}'
</code>
</pre>

In this case, if multiple products have the *same name* flow would create separate ObjectPathMappings with a unique suffix (""<product.name>-<n>"" where n is a number starting with 1).

However this is *not* required if the mapping is deterministic, e.g. if the ""uriPattern"" is not specified. In that case Flow falls back to using the Identity properties and we don't need to persist ObjectPathMappings."
56639,TYPO3.Flow,Feature,"",New,Must have,"Implement ""getPrivateStorageUriByResource()"" for recieving (image-) file URIs",Jan Greth,Robert Lemke,2014-03-07 04:06,"",2.x,2014-03-07,"","",0,2014-03-07 04:02,"","",1576100,"","","As talked about on Flow Mailing List (Thread: [Flow] Extract image EXIF data for resource objects and resize image on upload ""See here"":http://forum.typo3.org/index.php?t=msg&th=198203&goto=691685&#msg_691685) 
on August 5th 2013 it would be really handy to have a @$resourceManager->getPrivateStorageUriByResource($resource)@ method.

This is needed for processing imagefiles which are stored by TYPO3.Media Package by libraries/functions like exif_read_data() or with several imagemagick functions.

For getting the Exif information now the best way I found is like: 

<pre>
$exif_array = exif_read_data($this->resourceManager->getPersistentResourcesStorageBaseUri().$image->getResource()->getResourcePointer()->getHash(),'EXIF');
</pre>

I think this is quite a bit overload and would be much nicer when we could use the API method Robert anounced in the thread mentioned above."
56724,TYPO3.Flow,Feature,"",Closed,Should have,Get the roles after the authentication,Frederik Vosberg,Bastian Waidelich,2014-03-14 11:59,"","",2014-03-10,"","",0,2014-03-10 09:14,"","",1580350,"","","I cant believe that this is a bug, but I don't understand what I am doing wrong.

I am doing some database manipulation in my authentication provider. This invokes the security context to get the roles of the user, due to ACLs. But the roles dont get loaded again and are set to 'Everybody' and 'anonymous' for the whole request. 

So there is no possibility to query against the database in the provider. (I have to import some data and have to ensure, that there are accounts for my single sign on, where should I do it?)

Is it possible to 'null' the roles in the security context after authentication?
<pre>
       /**
	 * Invokes the security interception
	 *
	 * @return boolean TRUE if the security checks was passed
	 * @throws \TYPO3\Flow\Security\Exception\AccessDeniedException
	 * @throws \TYPO3\Flow\Security\Exception\AuthenticationRequiredException if an entity could not be found (assuming it is bound to the current session), causing a redirect to the authentication entrypoint
	 * @throws \TYPO3\Flow\Security\Exception\NoTokensAuthenticatedException if no tokens could be found and the accessDecisionManager denied access to the resource, causing a redirect to the authentication entrypoint
	 */
	public function invoke() {
		try {
			$this->authenticationManager->authenticate();
                        // NULL IT
                        $this->authenticationManager->getSecurityContext()->setRoles(NULL);
                        // OR EXTRACT THE INITIALIZATION OF THE ROLES
                        $this->authenticationManager->getSecurityContext()->initRoles();

		} catch (\Doctrine\ORM\EntityNotFoundException $exception) {
			throw new \TYPO3\Flow\Security\Exception\AuthenticationRequiredException('Could not authenticate. Looks like a broken session.', 1358971444, $exception);
		} catch (\TYPO3\Flow\Security\Exception\NoTokensAuthenticatedException $noTokensAuthenticatedException) {
			// We still need to check if the resource is available to ""Everybody"".
			try {
				$this->accessDecisionManager->decideOnJoinPoint($this->joinPoint);
				return;
			} catch (\TYPO3\Flow\Security\Exception\AccessDeniedException $accessDeniedException) {
				throw $noTokensAuthenticatedException;
			}
		}
		$this->accessDecisionManager->decideOnJoinPoint($this->joinPoint);
	}
</pre>

Thanks"
56744,TYPO3.Flow,Feature,"",New,Must have,stay logged in,Simon Schaufelberger,"",2014-03-27 07:17,"","",2014-03-11,"","",0,2014-03-10 21:59,"","",1581350,"","","Currently the Flow Developer has to set a session timeout globally for all sessions. What i need is that the user can decide if he wants to stay logged in just for this session (session will be over after browser closing) or stay logged in for a configured time like 1 month or so.

Needed:
1. A checkbox to activate the stay logged in feature (__authentication[TYPO3][Flow][Security]...)
2. A secure way to store a local cookie that identifies the user

see ""showPermaLogin"" in TYPO3 CMS felogin"
56856,TYPO3.Flow,Bug,"",Under Review,Must have,Fix StandardView Template,Simon Schaufelberger,"",2015-02-25 05:25,"","",2014-03-13,"","",0,2014-03-12 21:39,"","",1586950,"",Git master,"Image Mvc/StandardView_Package.png is missing and Text is outside of box.

Image was removed with this commit:

https://git.typo3.org/Packages/TYPO3.Flow.git/commit/331a78e8ba19923951a83d50e5f30cc09068db61

Image looked like:

https://git.typo3.org/Packages/TYPO3.Flow.git/blob/331a78e8ba19923951a83d50e5f30cc09068db61:/Resources/Public/Mvc/StandardView_Package.png"
56859,TYPO3 Flow Base Distribution,Bug,"",New,Should have,PHP Warning: TYPO3_Flow_Error_Exception.php not present in Data/Temporary,Michiel Roos,"",2014-03-13 05:30,"","",2014-03-13,"","",0,2014-03-13 05:30,"","",1587100,"",(any),"On a virgin FLOW install 2.0.0 and 2.2.0-beta1, the TYPO3_Flow_Error_Exception.php is not found when calling './flow help' for the first time. 

Warning: include_once(): Failed opening '/Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Error_Exception.php' for inclusion (include_path='/Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Packages/Libraries/phpunit/php-text-template:/Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Packages/Libraries/phpunit/phpunit-mock-objects:/Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Packages/Libraries/phpunit/php-timer:/Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Packages/Libraries/phpunit/php-token-stream:/Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Packages/Libraries/phpunit/php-file-iterator:/Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Packages/L in /Users/michiel/Projects/TYPO3/Typo3Workbench/Targets/WebRoot/typo3benchmark.workbench.local/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Cache/Backend/SimpleFileBackend.php on line 277"
56916,TYPO3.Flow,Feature,"",New,Should have,Support PATCH request method as of RFC5789,Alexander Berl,"",2014-03-14 11:50,Http,"",2014-03-14,"","",0,2014-03-14 11:50,"","",1589950,"","","https://tools.ietf.org/html/rfc5789

""Several applications extending the Hypertext Transfer Protocol (HTTP)
   require a feature to do partial resource modification.  The existing
   HTTP PUT method only allows a complete replacement of a document.
   This proposal adds a new HTTP method, PATCH, to modify an existing
   HTTP resource.""

Currently Flow always handles POST/PUT requests as partial updates, as all action arguments are merged with the persisted entity (at least if the identifier is provided).
It should be possible to define through the request method, wheter a full replace (PUT) or a partial update (PATCH) is expected.

A first step would be to at least handle the PATCH request method in Http\Request (create/buildUnifiedArguments).
"
57034,TYPO3.Flow,Bug,"",Resolved,Must have,Dependency injection for imported namespaces fails for collection classes,Bastian Waidelich,Bastian Waidelich,2014-03-20 06:48,Reflection,"",2014-03-18,"","",100,2014-03-18 08:04,"","",1595750,"",Flow 2.0.0,"In our ""Coding Guidelines"":http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartV/CodingGuideLines/PHP.html#importing-namespaces we encourage developers to import namespaces in order to increase readability.
With #46008 the ReflectionService is able to resolve relative and imported namespace (with #50909 this also works for abstract classes).

But this does not work for our custom notation of Collection types.
So while this works:
<pre>
<code class=""php"">
class SomeClass {

	/**
	 * @var \Doctrine\Common\Collections\Collection<\Some\Package\Domain\Model\SubEntity>
	 */
	protected $subEntities;

	/**
	 * @param \Doctrine\Common\Collections\Collection<\Some\Package\Domain\Model\SubEntity>$subEntities
	 */
	public function setSubEntities(\Doctrine\Common\Collections\Collection $subEntities) {
		$this->subEntities = $subEntities;
	}

}
</code>
</pre>

This will currently throw an exception:

<pre>
<code class=""php"">
use Doctrine\Common\Collections\Collection;
use Some\Package\Domain\Model\SubEntity as ImportedSubEntity;

class SomeClass {

	/**
	 * @var Collection<ImportedSubEntity>
	 */
	protected $subEntities;

	/**
	 * @param Collection<ImportedSubEntity>$subEntities
	 */
	public function setSubEntities(Collection $subEntities) {
		$this->subEntities = $subEntities;
	}

}
</code>
</pre>"
57052,TYPO3.Flow,Bug,"",Closed,Should have,#1355480641: Execution of subprocess failed with exit code 1 without any further output.,Rachitha Senevirathne,Bastian Waidelich,2014-03-31 09:11,- Error Handler Report -,2.0.1,2014-03-18,"","",0,2014-03-18 15:40,"","",1596650,"",Flow 2.0.0 beta 1,"<pre>
Execution of subprocess failed with exit code 1 without any further output. (Please check your PHP error log for possible Fatal errors)
12 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:core:compile"", array|18|)

11 TYPO3\Flow\Core\Booting\Scripts::initializeProxyClasses(TYPO3\Flow\Core\Bootstrap)

10 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)

9 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)

8 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)

3 TYPO3\Flow\Http\RequestHandler::boot()

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!
</pre>"
57160,TYPO3.Flow,Task,"",Resolved,Should have,Quickstart Guide references QueryResultProxy,Alexander Berl,"",2014-04-06 07:43,- Documentation -,"",2014-03-21,"","",100,2014-03-21 12:23,"","",1602000,"","","http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartII/ModelAndRepository.html#blog-repository

It should be QueryResultInterface instead of QueryResultProxy in the sample code."
57374,TYPO3.Flow,Bug,"",New,Should have,Persisted entities saved in session are not resolved,Aimo Künkel,"",2014-04-03 03:43,Session,2.x,2014-03-27,"",1.00,0,2014-03-27 07:35,"","",1612650,"",(any),"If you save a persisted entity in the session via

<pre>
$this->session->putData(""myEntity"", $myEntity);
</pre>

it is saved like some normal entity.

So later on if you do

<pre>
$sessionEntity = $this->session->getData(""myEntity"");
$persistedEntity = $this->entityRepository->findByIdentifier( $sessionEntity->getIdentifier() );
\TYPO3\Flow\var_dump($sessionEntity);
\TYPO3\Flow\var_dump($persistedEntity);
\TYPO3\Flow\var_dump($sessionEntity === $persistedEntity);
die();
</pre>

it show you twice the same object, but it's not the same.

It should instead just save the id in the background and fetch it again from the repo in case of a persisted entity.
Otherwise it's impossible to work with, because you e.g. can't pass it to the repo for updating and so on.


I'll provide a patch if wished, just comment please."
57404,TYPO3.Flow,Task,"",Resolved,Must have,Validation translation sample is wrong in documentation,Alexander Berl,"",2014-04-06 07:43,"","",2014-03-28,"","",100,2014-03-28 06:36,"","",1614100,"","","The Validation documentation in The Definitive Guide Part II show following example code:
<pre>
{error -> f:translate(key: error.code, arguments: error.arguments, package: 'TYPO3.Flow', source: 'ValidationErrors')}
</pre>
This is wrong, as the translate viewhelper argument for the ""key"" is actually named ""id"".
"
57410,TYPO3.Flow,Bug,"",Resolved,Should have,initializeAction() can be called as controller action from request,Thomas Pilgaard Carlsen,Bastian Waidelich,2014-04-02 10:42,MVC,"",2014-03-28,"","",100,2014-03-28 08:44,"","",1614400,"",Flow 2.0.0,"The following request can be called and without restriction:

vendor.mypackage/standard/initialize

Results in ""Template Initialize.html could not be loaded""

It seems to me that initializeAction should only be used internally in controller and should not be callable from request. "
57437,TYPO3.Flow,Bug,"",New,Should have,Composer package replacement is not supported,Andreas Wolf,"",2014-03-30 17:12,Package,"",2014-03-30,"","",0,2014-03-30 17:12,"","",1615750,"",Git master,"Composer offers a way to replace another package with your package (see https://getcomposer.org/doc/04-schema.md#replace). This mechanism is however currently not supported by the Flow package management.

A way to introduce this would be to allow package aliasing as a more generic approach."
57450,TYPO3.Flow,Bug,"",New,Should have,"International E-Mail addresses (umlauts, etc.) are not validated correctly",Alexander Berl,"",2014-04-30 08:58,Validation,"",2014-03-31,"","",0,2014-03-31 06:50,"","",1616400,"",Git master,"Currently, Flow does not validate mail addresses that contain international special characters (non-ascii), such as german umlauts.

This is due to the PHP filter_var method not taking care of that possibility, referring to RFC 5322:
https://bugs.php.net/bug.php?id=65630&edit=3
This only deals with special chars in the domain part of an Email address, which should be handled with the IDN encoding (@idn_to_ascii()@ on the domain part).

However, there is the more recent RFC 6531, which allows international addresses explicitly
http://tools.ietf.org/html/rfc6531#section-3.3

In detail, it allows the local part and the domain part of a mailbox address according to this definition:

The local part may be made up also of ""UTF8-non-ascii"" characters, i.e. all multibyte UTF8 characters (UTF8-2 / UTF8-3 / UTF8-4 according to http://tools.ietf.org/html/rfc3629#section-4) and extending from http://tools.ietf.org/html/rfc5321#section-4.1.2

The domain part may also be made up of U-Labels, where
> A ""U-label"" is an IDNA-valid string of Unicode characters, in
> Normalization Form C (NFC) and including at least one non-ASCII
> character, expressed in a standard Unicode Encoding Form (such as
> UTF-8).

I'm not completely sure about the consequences of this subtle difference in definition.

I see two possible solutions to deal with that within Flow:
* fall back to regular expressions when filter_var fails OR non-ascii chars are detected in the address (Ugly, but actual support of RFC6531)
* use idn_to_ascii on the whole address before giving it to filter_var (though I'm not sure it is formally correct to idn encode the local part, not RFC6531 conform)

Please provide your input on how to proceed, I will then take care of providing a changeset.
"
57541,TYPO3.Flow,Bug,"",Under Review,Must have,Content Security: operands work intrinsically differently in Rewrite and Manual check,Adrian Föder,"",2014-04-03 03:06,Security,"",2014-04-02,"","",0,2014-04-02 05:29,"","",1620950,"",(any),"when having defined an Entity resource like

<pre>'current.securityContext.party != this.owner'</pre>

the `owner` field refers to, in one case, to the actual `owner` field of the database table (i.e. in \TYPO3\Flow\Security\Aspect\PersistenceQueryRewritingAspect::rewriteQomQuery

and in the other case to the (hydrated) Entity property `owner` (i.e. in \TYPO3\Flow\Security\Aspect\PersistenceQueryRewritingAspect::checkAccessAfterFetchingAnObjectByIdentifier)

This leads to unpredicted results when the entity for example does not have a getter on this property, as it was in my case. I just considered it not necessary.

IMO urgently an exception is necessary if, in \TYPO3\Flow\Security\Aspect\PersistenceQueryRewritingAspect::checkSingleConstraintDefinitionOnResultObject, the following lines:

<pre><code class=""php"">
if (!is_array($constraintDefinition['leftValue']) && strpos($constraintDefinition['leftValue'], 'this.') === 0) {
	$referenceToThisFound = TRUE;
	$propertyPath = substr($constraintDefinition['leftValue'], 5);
	$leftOperand = $this->getObjectValueByPath($result, $propertyPath);
}
</code></pre>

need to throw an exception if @getObjectValueByPath@, leading to @ObjectAccess::getPropertyPath@, tries to access something that cannot be retrieved."
57583,TYPO3.Flow,Task,"",Resolved,Must have,No schema for cacheAllQueryResults in TYPO3.Flow.persistence.schema.yaml,Rafael Kähm,"",2014-06-12 02:37,Configuration,2.x,2014-04-03,"","",100,2014-04-02 19:18,"","",1623050,"","","<pre>./flow configuration:validate --type Settings</pre>

shows following:
 
1 errors were found:
- Settings.TYPO3.Flow.persistence.cacheAllQueryResults -> This property is not allowed here, check the spelling if you think it belongs here.

Is ""additionalProperties: FALSE"" in Settings/TYPO3.Flow.persistence.schema.yaml ok?"
57683,TYPO3.Flow,Task,"",Resolved,Must have,Constants are not Doc commented ,Rafael Kähm,Robert Lemke,2014-08-26 11:00,- Documentation -,"",2014-04-06,"","",100,2014-04-06 05:38,"","",1628000,"","","Hello,

large part of constants, which must be used by developers, are not doc commented but line commented.

Please follow guidelines as here defined http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartV/CodingGuideLines/PHP.html#documenting-variables-constants-includes "
57763,TYPO3.Flow,Feature,"",New,Should have,Allow controller / package / action as params in \TYPO3\Fluid\ViewHelpers\Form\ButtonViewHelper ,Kay Strobach,"",2014-04-09 06:43,"","",2014-04-09,"","",0,2014-04-09 05:51,"","",1632000,"","","formaction is already there in flow button viewHelper, but you can?t easily use package + controller + action to send the form.
So we need to add a way to calculate the formaction, formenctype formmethod and these things automatically."
57796,TYPO3.Flow,Bug,"",New,Should have,XLIFF Fails if id === nodedata,Carsten Bleicker,"",2014-04-09 15:43,"","",2014-04-09,"","",0,2014-04-09 15:43,"","",1633650,"",Git 2.0,"Fails:
<trans-unit id=""net"" xml:space=""preserve""><source><![CDATA[net]]></source></trans-unit>
<trans-unit id=""net"" xml:space=""preserve""><source>net</source></trans-unit>

Works:
<trans-unit id=""net.label"" xml:space=""preserve""><source><![CDATA[net]]></source></trans-unit>
<trans-unit id=""net.label"" xml:space=""preserve""><source>net</source></trans-unit>
"
57815,TYPO3.Flow,Bug,"",New,Should have,Invalid resources are saved in the persistent resources folder,Stephen Bungert,"",2014-04-10 16:02,Resource,"",2014-04-10,"","",0,2014-04-10 16:02,"","",1634600,"",Flow 2.0.0,"I have a file type validator for a property of type \TYPO3\Flow\Resource\Resource.

The error message is shown in the front end, for example, that a zip file was uploaded when the file should be jpg or png.

But flow has also moved the file to the resources folder.

Should flow do this if the validator added an error in validation? Am I to remove this myself? Or is this a bug?"
57817,TYPO3.Flow,Bug,"",Rejected,Should have,"StringLengthValidator accept empty value, although the ""minimum"" option is greater than ""0""",Timo Dödtmann,Bastian Waidelich,2014-04-11 04:54,Validation,"",2014-04-10,"","",0,2014-04-11 01:40,"","",1634700,"",Flow 2.0.0,"For the StringLengthValidator the property ""acceptsEmptyValues"" is set to ""TRUE"", even if the ""minimum"" option is greater than ""0"".
So, if a empty string is valitated, where the minimum option is set set to e.g. ""1"", the StringLengthValidator doesn't generate a error."
57885,TYPO3.Fluid,Bug,"",New,Must have,Inputs are cleared from a second form if the first form produced a vallidation error,Nicholas Gray,"",2014-04-13 18:00,"","",2014-04-13,"","",0,2014-04-13 18:00,"","",1638050,"",Git master,"Hi,

we ran in to the following Bug:

What is needed:
-A fluid template containing 2 forms (form A and B).
-Both forms are containing values from a stored object

How to reproduce the error:
- Update one form (form A) so that it will produce a validation error

Result/Reason:
- The other form (form B) will no longer contain the filled in values from the stored object as the formfield viewhelpers search for these in last submitted input array. This array only contains the inputs of the form (form A) which produced the error and thus form B is filled in with empty values

Fix:
Quickly hacked together (please refer to the attached 3 files)...
Each form is now extended with an unique ID which is checked in the hasValidationErrors method. Thus only the fields of the form producing the error will return true and the fields of other forms are filled in as usual. The ID simply generated by counting how often the form tag was called. There is certainly a better way to handle it but that was the best I could come up with. I hope it helps

Best regards "
57972,TYPO3.Flow,Bug,"",New,Should have,Missing @ManyToOne in example for resource,Kay Strobach,"",2014-04-16 00:32,- Documentation -,"",2014-04-16,"","",0,2014-04-16 00:32,"","",1642400,"",Git master,"<pre>
  /**
    * @var \TYPO3\Flow\Resource\Resource
    */
   protected $originalResource;
  /**
    * @param \TYPO3\Flow\Resource\Resource $originalResource
    * @return void
    */
   public function setOriginalResource(\TYPO3\Flow\Resource\Resource $originalResource) {
      $this->originalResource = $originalResource;
   }

   /**
    * @return \TYPO3\Flow\Resource\Resource
    */
   public function getOriginalResource() {
      return $this->originalResource;
   }
</pre>

http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartIII/ResourceManagement.html

<pre>
add to line2
	 * @ORM\ManyToOne
</pre>

like for example here:
https://git.typo3.org/Packages/TYPO3.Blog.git/blob/HEAD:/Classes/TYPO3/Blog/Domain/Model/Image.php"
57992,TYPO3 Flow Base Distribution,Task,"",Resolved,Should have,Make package HHVM compatible - failing getPackageReturnsTheSpecifiedPackage test,Tymoteusz Motylewski,"",2014-07-11 14:19,"","",2014-04-16,"","",100,2014-04-16 10:47,"","",1643400,0.00,"","the PackageManagerTest::getPackageReturnsTheSpecifiedPackage is failing on hhvm, because it HHVM doesn't support calling key() on objects.
So it is failing now with ""Fatal error: Cannot access empty property in...""
Responsible code is in Package->getNamespace()

<pre>
$namespaces = $manifest->autoload->{'psr-0'};
if (count($namespaces) === 1) {
	$namespace = key($namespaces);
}
</pre>

it can be solved by first cast object to an array
<pre>
$namespaces = (array)$manifest->autoload->{'psr-0'};
if (count($namespaces) === 1) {
	$namespace = key($namespaces);
}
</pre>


quote from
https://github.com/facebook/hhvm/blob/master/hphp/doc/inconsistencies#L90-95
about this inconsistency:

(5) Object internal cursors

Under Zend PHP, objects have an internal cursor (similar to the array internal
cursor) that can be used to iterate over the object's properties. Under HipHop
VM, objects do not have internal cursors, and the next(), prev(), current(),
key(), reset(), end(), and each() builtin functions do not support objects.

"
57998,TYPO3.Fluid,Feature,"",Resolved,Should have,f:form.select support to sort by translated label,Carsten Bleicker,Karsten Dambekalns,2014-08-11 05:32,ViewHelpers,"",2014-04-16,"","",100,2014-04-16 15:55,"","",1643700,"","","request for feature:

<pre>
<f:form.select ...
	optionValueField=""iso2""
	optionLabelField=""name""
	translate=""{by:'label'}""
	sortBy=""{propertyName:'optionLabelField'}""
/>
</pre>

This should sort options after translating by ""optionLabelField""
"
58153,TYPO3.Flow,Bug,"",New,Should have,"Session - Scope, Property with interface annotation fails at wakeup",Ferdinand Kuhl,"",2014-04-24 06:46,AOP,2.1,2014-04-24,"","",0,2014-04-24 06:37,"","",1651450,"",Flow 2.0.0,"Assume I have an Object called Vendor\Package\Service\PackageSession which has Session scope. This object has a property, which is annotated with an interface, which some of my domain objects may implement.

If this object is reconstituted the AOP Proxy crashes during wakeup with the following trace:
<pre>
Uncaught exception in line 40 of Packages/Libraries/doctrine/common/lib/Doctrine/Common/Persistence/Mapping/RuntimeReflectionService.php: Class 'Vendor\Package\Domain\Model\EntityInterface' does not exist

40 Doctrine\Common\Persistence\Mapping\MappingException::nonExistingClass(""Vendor\Package\Domain\Model\EntityInterface"")
39 Doctrine\Common\Persistence\Mapping\RuntimeReflectionService::getParentClasses(""Vendor\Package\Domain\Model\EntityInterface"")
38 Doctrine\Common\Persistence\Mapping\AbstractClassMetadataFactory::getParentClasses(""Vendor\Package\Domain\Model\EntityInterface"")
37 Doctrine\Common\Persistence\Mapping\AbstractClassMetadataFactory::loadMetadata(""Vendor\Package\Domain\Model\EntityInterface"")
36 Doctrine\Common\Persistence\Mapping\AbstractClassMetadataFactory::getMetadataFor(""Vendor\Package\Domain\Model\EntityInterface"")
35 Doctrine\ORM\EntityManager::getReference(""Vendor\Package\Domain\Model\EntityInterface"", ""072e6c49-6a9a-a791-bbc3-91a502d73e83"")
34 TYPO3\Flow\Persistence\Doctrine\PersistenceManager_Original::getObjectByIdentifier(""072e6c49-6a9a-a791-bbc3-91a502d73e83"", ""Vendor\Package\Domain\Model\EntityInterface"", TRUE)
33 TYPO3\Flow\Persistence\Doctrine\PersistenceManager::getObjectByIdentifier(""072e6c49-6a9a-a791-bbc3-91a502d73e83"", ""Vendor\Package\Domain\Model\EntityInterface"", TRUE)
32 call_user_func_array(array|2|, array|3|)
31 TYPO3\Flow\Persistence\Doctrine\PersistenceManager::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
30 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
29 TYPO3\Flow\Security\Aspect\PersistenceQueryRewritingAspect_Original::checkAccessAfterFetchingAnObjectByIdentifier(TYPO3\Flow\Aop\JoinPoint)
28 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
27 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
26 TYPO3\Flow\Persistence\Doctrine\PersistenceManager::getObjectByIdentifier(""072e6c49-6a9a-a791-bbc3-91a502d73e83"", ""Vendor\Package\Domain\Model\EntityInterface"", TRUE)
25 Vendor\Package\Service\PackageSession::__wakeup()
[...]

</pre>

The Problem is that the proxy-class builder generates the following code:
<pre><?php
if ($this->$propertyName instanceof \TYPO3\Flow\Persistence\Aspect\PersistenceMagicInterface && !\TYPO3\Flow\Core\Bootstrap::$staticObjectManager->get('TYPO3\Flow\Persistence\PersistenceManagerInterface')->isNewObject($this->$propertyName) || $this->$propertyName instanceof \Doctrine\ORM\Proxy\Proxy) {
	if (!property_exists($this, 'Flow_Persistence_RelatedEntities') || !is_array($this->Flow_Persistence_RelatedEntities)) {
		$this->Flow_Persistence_RelatedEntities = array();
		$this->Flow_Object_PropertiesToSerialize[] = 'Flow_Persistence_RelatedEntities';
	}
	$identifier = \TYPO3\Flow\Core\Bootstrap::$staticObjectManager->get('TYPO3\Flow\Persistence\PersistenceManagerInterface')->getIdentifierByObject($this->$propertyName);
	if (!$identifier && $this->$propertyName instanceof \Doctrine\ORM\Proxy\Proxy) {
		$identifier = current(\TYPO3\Flow\Reflection\ObjectAccess::getProperty($this->$propertyName, '_identifier', TRUE));
	}
	$this->Flow_Persistence_RelatedEntities[$propertyName] = array(
		'propertyName' => $propertyName,
		'entityType' => $className,
		'identifier' => $identifier
	);
	continue;
}
?>
</pre>

Of course the interface is known to the ObjectManager, so the interface name stays in class name. Correct behaviour would be to ask the object for its class name. Interesting is, that if a doctrine-proxy is set this way, everything works as expected"
58184,TYPO3.Flow,Major Feature,"",New,Should have,HTTP request argument building for different use cases,Carsten Bleicker,"",2014-04-25 05:30,Http,"",2014-04-25,"","",0,2014-04-25 05:30,"","",1653000,"","","HTTP Request

The concept of http request handling is imho currently not realy http compatible.
First of all, there is no body possible for PATCH request types. Its simply skipped.
Body is currently only avalable for POST and PUT.

But there are additional issues.
Lets say f.e. you want to update the sourcecode of you logo.gif.
So an http request arrives with $_GET[filename]=logo.gif
and a Post with the sourcecode. request type will be image/gif.
request method will be PUT.

The body will be handled with: parse_str($body, $arguments);
@see Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Request.php:560
wich will fail.

Another example wich will be not possible:
Rename the logo.gif to logo_old.gif.
What will arrive is a request type PATCH (if above patch support enabled)
you run in other problems. $_GET[filename]=logo.gif will be an identifier in this case.
body arguments of this PATCH request containing also ?&filename=logo_old.gif?.
So we end up in a request just holding request->getArgument('filename') === logo_old.gif.
The get information is lost :(

Maybe you say now ?thats not a patch case?.
So lets take a look at it in case of a COPY request type:
get: filename=logo.gif
post: filename=logo_copy.gif
requestmethod: COPY
what you want to copy (the resource logo.gif) is lost also in this case because of the merging of
get and post. @see Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/Request.php:513

I want to discuss to make a difference like this:
$this->request->getBody()->getArguments('filename');
$this->request->getResource()->getArguments()->getArgument('filename');

Example 3:
Receiving http request with multipart body.
This could end up in:
$this->request->getBody()->getArguments('part1');
$this->request->getBody()->getArguments('part2');
$this->request->getBody()->getArguments('part3');


Validation:
Different kinds of requests types should invoke different kind of validations:
1. POST/PUT validates the whole entity (resource)
2. PATCH validates only those properties wich realy should be patched (present in the body arguments)
3. COPY does not invoke validation because an existing resource is valid
4. DELETE should also not invoke validation because an existing resoure is valid.

kind regards
carsten"
58193,TYPO3.Flow,Bug,"",Under Review,Should have,Forward-port changelogs to master branch,Bastian Waidelich,Karsten Dambekalns,2014-05-23 12:11,"","",2014-04-25,"","",0,2014-04-25 10:12,"","",1653450,"",Git master,"Currently most of the change-log-links on http://flow.typo3.org/download are broken because the change-logs are missing in the latest documentation.
Reason is that change-logs are currently only pushed to the branch they belong to.
IMO we should adjust the release scripts so that logs are (also) pushed to master, so that master (and docs.typo3.org) contain the full change-log of all branches.

@Karsten I had a quick look into the shell scripts, but I'm lost and it's probably really easy for you so I took the liberty to assign this to you ;)"
58408,TYPO3.Flow,Task,"",New,Should have,Disable manualy persisting,Carsten Bleicker,"",2014-05-02 04:58,"","",2014-05-02,"","",0,2014-05-02 04:58,"","",1664100,"","","HTTP says, no writing if GET.
But in Neos f.e. there are several places using hard/manualy persisting somewhere inside the job stack.
You can send f.e. a GET request to a NodeController wich moves an entity. The persistence is invoked manualy.

I dont want to worry about sending GET Requests to the server. I want to be sure ""Okay, if you send GET, definitly NOTHING will happen to the system"".

So imho $this-persistenceManager->persistAll() f.e. should not be possible in safe requests.
Strictly throw Exception.

"
58494,TYPO3.Flow,Bug,"",Needs Feedback,Must have,Inifinite redirects if index.php presents in URI,Rafael Kähm,Bastian Waidelich,2014-05-25 05:29,MVC - Routing,"",2014-05-04,"","",0,2014-05-04 07:49,"","",1668400,"",Git master,"TYPO3.Welcome package can show this issue.

If you have fresh TYPO3 Flow Setup and call http://...../index.php/flow/welcome(or http://...../index.php to) you'll be redirected to:

<pre>
[04/May/2014:11:21:26 +0200] ""GET /index.php HTTP/1.1"" 303 115
[04/May/2014:11:21:26 +0200] ""GET /index.php/flow/welcome HTTP/1.1"" 303 130
[04/May/2014:11:21:27 +0200] ""GET /index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 145
[04/May/2014:11:21:27 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 160
[04/May/2014:11:21:28 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 175
[04/May/2014:11:21:28 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 190
[04/May/2014:11:21:28 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 205
[04/May/2014:11:21:29 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 220
[04/May/2014:11:21:29 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 235
[04/May/2014:11:21:29 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 250
[04/May/2014:11:21:30 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 265
[04/May/2014:11:21:30 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 280
[04/May/2014:11:21:30 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 295
[04/May/2014:11:21:30 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 310
[04/May/2014:11:21:31 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 325
[04/May/2014:11:21:31 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 340
[04/May/2014:11:21:31 +0200] ""GET /index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/index.php/flow/welcome HTTP/1.1"" 303 355</pre>
recursively.

NOTE: This infinite redirects makes not apache but TYPO3 Flow.
You can see that, if you add following line in TYPO3\Welcome\Controller\StandardController::redirectAction(): 
<pre>$this->systemLogger->log(sprintf('I\'m currently on ""%s"".', $_SERVER['REQUEST_URI']));</pre>

I use Apache 2.4 with mod_proxy_fcgi like http://wiki.apache.org/httpd/PHP-FPM shown."
58517,TYPO3.Flow,Bug,"",Resolved,Should have,Integer arent allowed as object identifier in routes,Frederik Vosberg,Bastian Waidelich,2015-04-26 13:30,MVC - Routing,"",2014-05-05,"","",100,2014-05-05 07:40,"","",1669550,"",Git master,"I want to have an integer as persistence object identifier, so I implemented it this way:

<pre>
    /**
     * @var int
     * @ORM\Id
     * @ORM\GeneratedValue
     * @Flow\Identity
     */
    protected $id;
</pre>

But flow raised an exception while it tries to resolve the route for the show action for my object. I think the following part of the core is the problem, isnt it?

I attached my patch.
"
58557,TYPO3.Fluid,Feature,"",Rejected,Won't have this time,Define Namespaces in Configuration File,Aimo Künkel,Bastian Waidelich,2014-05-15 09:34,Core,2.x,2014-05-06,"","",0,2014-05-06 05:08,"","",1671500,"","","It would be nice if one could define the namespaces via configuration file, additionally to the existing way inside the fluid file.
This way you could move the f: namespace definition out of TYPO3\Fluid\Core\Parser\TemplateParser::$namespaces into the yaml file.

Advantages would be:
* cleaner fluid templates
* simple (re-)configuration across a package
* convention over configuration (e.g. when multiple frontend developers create multiple fluid templates)
* reconfiguration of the f: namespace"
58579,TYPO3.Flow,Feature,"",New,Should have,Adding own environment constants to Flow,Peter Russ,"",2014-05-06 16:14,"",2.x,2014-05-06,"",2.00,50,2014-05-06 15:16,"","",1672600,"","","It would be pretty helpful if we could define allowed environment constants to be included into Flow.
This way it could be used in configuration

e.g.
FLOW_ADDITIONAL_CONSTANTS=MY_CONSTANTS_1,APPLICATION_VALUE_2,..

Patch will follow and be commited to Master"
58622,TYPO3.Flow,Feature,"",New,Must have,Clearer Exception: Array to string conversion,Kay Strobach,"",2014-05-08 04:23,Core,"",2014-05-08,"","",0,2014-05-08 04:23,"","",1674750,"","","If an array to string conversion happens in a FLUID Template, the Exception should state, where it happend in the FLUID context ...

<pre>
Uncaught Exception in Flow
#1: Notice: Array to string conversion in /project/Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php line 49
More information

TYPO3\Flow\Error\Exception thrown in file
Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Error/ErrorHandler.php in line 77.
Reference code: 20140508101915c5df73

Go to the FORGE issue tracker and report the issue - if you think it is a bug!

71 TYPO3\Flow\Error\ErrorHandler::handleError(8, ""Array to string conversion"", ""/project/Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php"", 49, array|3|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00047:      $output = $output->__toString();
00048:     } else {
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);

70 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)
</pre>

"
58696,TYPO3.Flow,Feature,"",Resolved,Should have,TypedArrayConverter,Bastian Waidelich,Bastian Waidelich,2014-06-12 06:36,Property,"",2014-05-11,"","",100,2014-05-11 07:57,"","",1678450,"","","Flow is missing a TypeConverter that can turn simple arrays into an ""object array"" (aka generics).
For this to work the PropertyMapper needs to be adjusted because currently it cuts off possible element type notations (""<Some\Element\Type>"") from the targetType before calling *canConvertFrom()*."
58744,TYPO3.Flow,Bug,"",New,Should have,Can not split configuration in settings.yaml,DANIEL Rémy,"",2014-05-14 06:06,"","",2014-05-13,"","",0,2014-05-13 03:57,"","",1680800,"",Git master,"Hi

I don't know if this is a bug. If not, please close this ticket.

I tried to organize a little my settings.yaml by grouping some parts of the configuration into main entries.
But, then I noticed that ""excludeClasses"" were not anymore taken into account by the reflection service.
TYPO3.Flow's sub-entries were totaly empty.

<pre>
TYPO3:
  Flow:
    object:
      excludeClasses:
       'gedmo.doctrineextensions': ['.*']

TYPO3:
  Flow:
    persistence:
      doctrine:
        filters:
          soft-deletable: 'Gedmo\SoftDeleteable\Filter\SoftDeleteableFilter'
        eventListeners:
          -
            events: ['onFlush', 'loadClassMetadata']
            listener: 'Gedmo\SoftDeleteable\SoftDeleteableListener'
</pre>

I think we cannot have, in the same yaml file, multiple occurrences of the same key, isn't it?"
58773,TYPO3.Flow,Bug,"",Accepted,Should have,Improve NoMatchingRouteException,Bastian Waidelich,Bastian Waidelich,2014-05-13 09:59,MVC - Routing,"",2014-05-13,"","",0,2014-05-13 09:56,"","",1682250,"",Git master,"Currently, when trying to create an URI but no matching route could be found, one only gets a very generic ""Could not resolve a route and its corresponding URI for the given parameters."" exception.
Because this exception is *very* common it should be improved so that the developer knows what to do about it."
58829,TYPO3.Fluid,Feature,"",Closed,Should have,Register package namespaces automatically,Bastian Waidelich,Marc Neuhaus,2014-12-08 14:32,Core,"",2014-05-15,"","",0,2014-05-15 09:33,"","",1684900,"","","Currently when using ViewHelpers from 3rd party packages the package namespace has to be registered:
<pre>
<code class=""html"">
{namespace xyz=Acme\SomePackage\ViewHelpers}
<xyz:someViewHelper />
</code>
</pre>

It would be useful if the namespace of all 3rd party packages *containing at least one ViewHelper* would be registered automatically (in addition to the explicitly registered namespaces) .
For the above example that would mean:
<pre>
<code class=""html"">
<acme.somepackage:someViewHelper />
</code>
</pre>

Would be sufficient, if SomeViewHelper resides in a sub-namespace ""ViewHelpers"" as suggested."
58852,TYPO3.Flow,Bug,"",New,Should have,TYPO3\Flow\Security\Exception\AccessDeniedException should clarify which action fails to execute,Kay Strobach,"",2014-05-16 03:36,Security,"",2014-05-16,"","",0,2014-05-16 03:36,"","",1686050,"",Git master,"
The exception should definitly state, which actions failed to execute ..."
58853,TYPO3.Flow,Bug,"",Resolved,Must have,configuration:validate -> Problems in FLOW,Kay Strobach,"",2014-06-12 02:37,Configuration,"",2014-05-16,"","",0,2014-05-16 04:12,"","",1686100,"",Git master,"Packages/Framework/TYPO3.Flow/Configuration/Settings.yaml:195
<pre>
./flow configuration:validate --type Settings
Validating Settings configuration

1 errors were found:
 - Settings.TYPO3.Flow.persistence.cacheAllQueryResults -> This property is not allowed here, check the spelling if you think it belongs here.
</pre>

Packages/Framework/TYPO3.Flow/Resources/Private/Schema/Views.schema.yaml
<pre>
./flow configuration:validate --type Views   
Validating Views configuration

Error:
    The schema file
    "".../Packages/Framework/TYPO3.Flow/Resources/Private/Schema/Views.schema.yaml"" is empty.
</pre>

IMHO FLOW should not throw any warning within the base packages ..."
58862,TYPO3.Fluid,Bug,"",Needs Feedback,Should have,FormViewHelper doesn't accept NULL as value for $arguments,Kevin Fischer,Bastian Waidelich,2014-06-04 06:49,ViewHelpers,"",2014-05-16,"","",0,2014-05-16 05:47,"","",1686550,"",Flow 2.0.0 beta 2,"Unlike other ViewHelpers like the ActionViewHelpers, the FormViewHelper doesn't accept NULL as value for the $arguments argument, because it's type-hinted as ""array"" in the render() method. This leads to PHP throwing a Catchable Fatal Error when passing NULL to it.

A patch file is attached."
58894,TYPO3.Flow,Bug,"",New,Must have,MySQL max key length exceeded during Neos setup,Andreas Kastl,"",2014-05-17 16:37,- Error Handler Report -,2.x,2014-05-17,"","",0,2014-05-17 16:34,"","",1688150,"",Flow 2.0.0,"I tried to install Typo3 Neos 1.1 Beta 2 including Flow 2.2 and recieved the exception listed below during setup process. 
Database version is 5.5.31-1~dotdeb.0-log (MyISAM engine), PHP version is 5.3.28.
I also tried Typo3 Neos 1.0.2 with same result. Database is UTF-8 as required by Neos.

It seems that the primary key is too long for MySQL running on MyISAM engine and UTF-8 encoding. 3 columns x 255 chars x UTF-8 encoding (3 bytes) > 1000 bytes allowed by MySQL with MyISAM engine. Please provide a fix that works under MyISAM with UTF-8. 

-------------------

TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file Scripts.php

Uncaught Exception
  An exception occurred while executing 'CREATE TABLE
  typo3_flow3_mvc_web_routing_objectpathmapping (objecttype VARCHAR(255)
  NOT NULL, uripattern VARCHAR(255) NOT NULL, pathsegment VARCHAR(255) NOT
  NULL, identifier VARCHAR(255) DEFAULT NULL, PRIMARY KEY(objecttype,
  uripattern, pathsegment)) ENGINE = InnoDB':

  SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was
  too long; max key length is 1000 bytes

More Information
  Exception code      #0
  File                <path>/Neos-1.1.0-beta2/Packages/Libraries/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php line 47

31 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:doctrine:migrate"", array|16|, FALSE)

30 TYPO3\Setup\Step\DatabaseStep_Original::postProcessFormValues(array|8|)

29 TYPO3\Setup\Controller\SetupController_Original::postProcessStep(array|8|, TYPO3\Setup\Step\DatabaseStep)

28 TYPO3\Setup\Controller\{closure}(TYPO3\Form\Core\Model\FinisherContext)

27 TYPO3\Form\Finishers\ClosureFinisher_Original::executeInternal()

26 TYPO3\Form\Core\Model\AbstractFinisher::execute(TYPO3\Form\Core\Model\FinisherContext)

25 TYPO3\Form\Core\Runtime\FormRuntime_Original::invokeFinishers()

24 TYPO3\Form\Core\Runtime\FormRuntime_Original::render()

23 TYPO3\Setup\Controller\SetupController_Original::indexAction(0)

22 TYPO3\Setup\Controller\SetupController::indexAction(0)

21 call_user_func_array(array|2|, array|1|)

20 TYPO3\Setup\Controller\SetupController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

15 TYPO3\Setup\Controller\SetupController::indexAction(0)

14 call_user_func_array(array|2|, array|1|)

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()"
58921,TYPO3.Fluid,Bug,"",New,Should have,f:form.* VHs crash if NOT inside f:form but followed by f:form,Aimo Künkel,"",2014-05-19 09:29,"","",2014-05-19,"","",0,2014-05-19 08:28,"","",1689500,"",Git master,"The f:form.* ViewHelpers work inside of forms and standalone, but they crash if used standalone and they are followed by any fluid form.

This works fine and results in a perfect html select:
<pre>
<f:form.select name=""select"" options=""{1: 'One', 2: 'Two', 3: 'Three'}"" />
</pre>

This also works fine and results in a submittable form:
<pre>
<f:form action=""some"" name=""form"">
	<f:form.button type=""submit"">Go!</f:form.button>
</f:form>
</pre>

This instead (both concatenated) ...
<pre>
<f:form.select name=""select"" options=""{1: 'One', 2: 'Two', 3: 'Three'}"" />

<f:form action=""some"" name=""form"">
	<f:form.button type=""submit"">Go!</f:form.button>
</f:form>
</pre>
... will throw the following error:
h3. #1243352010: The key ""TYPO3\Fluid\ViewHelpers\FormViewHelper->formFieldNames"" was already stored and you cannot override it.

I regard this as a bug and propose to let them produce the html select, followed by the submittable form.


I explain it this detailed because i had a discussion in IRC on what a developer would expect the output to be, but i definitely would like to have multiple forms on a page AND multiple independent inputs NOT inside of forms (for UI reasons, for JS handling, ...)"
58927,TYPO3.Flow,Bug,"",New,Should have,Overlapping ressouce definitions in Policy.yaml resolved incorrectly,Sven Radetzky,"",2014-05-19 09:19,Security,2.1,2014-05-19,"","",0,2014-05-19 09:19,"","",1689800,"",Git master,"Just encountered this particular bug while updating a Policy.yaml file.

If you have two ressource definitions that overlap:

<pre>
ressources:
  methods:
    allMethods: 'method(Vendor\Ext\Controller\SomeController->.*Action())'
    specificMethod: 'method(Vendor\Ext\Controller\SomeController->specificAction())'
</pre>

And acls similar to this:

<pre>
acls:
  OneRole:
    methods:
      allMethods: GRANT
  SecondRole:
    methods:
      specificMethod: GRANT
</pre>

Then the second role can not access the specific method. By votes (0 denied, 0 granted, 1 abstained). The interesting part is when you execute
<pre>
./flow security:showeffectivepolicy Vendor.Ext:SecondRole
</pre>
The output says that specificMethod is allowed for SecondRole.

So even if this behavior is intended there is a bug in the SecurityCommandController at the very least.

PS:

Affected Flow Version: 2.1.2

Although this version or any version beyond 2.0.0 does not actually exist here in forge."
58953,TYPO3.Flow,Bug,"",Closed,Could have,"When an import is missing, no error is shown",Aimo Künkel,Bastian Waidelich,2014-05-20 06:10,"","",2014-05-20,"","",0,2014-05-20 05:22,"","",1691100,"",Git master,"When you use a type hint in an action without namespace and you forgot to import that class, the response will be a blank page witout error message, log or exception.
This can be hard to debug and it would be really nice if something is shown here.

Example class to test with:

<pre>
<?php
namespace Vendor\Package\Backend\Controller;

use TYPO3\Flow\Annotations as Flow;

class TestController ... {

	/**
	 * results in blank page
	 * 
	 * @param  Vendor\Package\Domain\Model\Object $object the object to show
	 * @return void
	 */
	public function testAction(Object $object) {
		$this->view->assign('object', $object);
	}

}
</pre>

The ""Object"" here used as parameter is never imported, that's why it breaks."
58959,TYPO3.Flow,Bug,"",Resolved,Should have,FunctionalTestCase->registerRoute() does not support the httpMethods configuration,Rens Admiraal,Rens Admiraal,2014-07-17 11:00,"","",2014-05-20,"","",100,2014-05-20 07:50,"","",1691400,"",Git master,Currently it is not possible to register routes in the FunctionalTestCase that limit possible httpMethods
58972,TYPO3.Fluid,Bug,"",Closed,Should have,"DateViewHelper property ""forceLocale"" not passed as boolean",Carsten Bleicker,Bastian Waidelich,2014-05-21 09:43,ViewHelpers,"",2014-05-20,"","",0,2014-05-20 16:19,"","",1692050,"",Git master,"As far as i understand this should check localisationService.
<f:format.date forceLocale=""true"">{document.dateTime}</f:format.date>

But boolean is not realy passed to \TYPO3\Fluid\Core\ViewHelper\AbstractLocaleAwareViewHelper::getLocale?"
58975,TYPO3.Flow,Bug,"",New,Must have,Fix command for Linux in Qucikstart documentation,Michael Kohler,"",2014-05-21 13:47,- Documentation -,"",2014-05-20,"","",100,2014-05-20 17:50,"","",1692200,"",(any),"Since almost all Linux based installations will use www_data as group, we should use it everywhere. Above the fixed line it's always ""www_data"" for Linux.

Patch is attached."
58976,TYPO3 Flow Base Distribution,Bug,"",New,Should have,debug_backtrace,Carsten Bleicker,"",2014-05-20 19:07,"","",2014-05-21,"","",0,2014-05-20 19:07,"","",1692250,"",Git master,"using php debug_backtrace results in a debug recursion?
can anybody reproduce this?"
58983,TYPO3.Fluid,Bug,"",New,Should have,format.date does not respect linebreaks and throws exception,Carsten Bleicker,"",2014-05-21 04:00,"","",2014-05-21,"","",0,2014-05-21 04:00,"","",1692600,"",Git master,"This one works:
<pre>
<f:format.date>{dateTime}</f:format.date>
</pre>

This throws exception:
<pre>
<f:format.date>{dateTime}
</f:format.date>
</pre>

<pre>
Uncaught exception #1 in line 374 of /Users/pumatertion/Sites/neos.pipeu/Data/Temporary/Development/Cache/Code/Fluid_TemplateCache/Standalone_template_source_ed2243736f0374ec6c98237138f5894df31295e4.php: Catchable Fatal Error: Object of class DateTime could not be converted to string in /Users/pumatertion/Sites/neos.pipeu/Data/Temporary/Development/Cache/Code/Fluid_TemplateCache/Standalone_template_source_ed2243736f0374ec6c98237138f5894df31295e4.php line 374

85 TYPO3\Flow\Error\ErrorHandler::handleError(4096, ""Object of class DateTime could not be converted to string"", ""/Users/pumatertion/Sites/neos.pipeu/Data/Temporary/Development/Cache/Code/Fluid_TemplateCache/Standalone_template_source_ed2243736f0374ec6c98237138f5894df31295e4.php"", 374, array|3|)
84 FluidCache_Standalone_template_source_ed2243736f0374ec6c98237138f5894df31295e4::{closure}()
83 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
82 TYPO3\Fluid\ViewHelpers\Format\DateViewHelper_Original::render(NULL, ""d.m.Y"", NULL, NULL)
81 call_user_func_array(array|2|, array|4|)
80 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()
79 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()
78 FluidCache_Standalone_template_source_ed2243736f0374ec6c98237138f5894df31295e4::render(TYPO3\Fluid\Core\Rendering\RenderingContext)
77 TYPO3\Fluid\View\AbstractTemplateView::render()
76 PIPEU\Site\Service\Converter\DocumentToPdfConverter_Original::convert(PIPEU\Factura\Domain\Model\Documents\Order)
75 PIPEU\Factura\NodeTypes\Controller\BasketController_Original::indexAction()
74 PIPEU\Factura\NodeTypes\Controller\BasketController::indexAction()
73 call_user_func_array(array|2|, array|0|)
72 PIPEU\Factura\NodeTypes\Controller\BasketController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
71 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
70 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)
69 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
68 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
67 PIPEU\Factura\NodeTypes\Controller\BasketController::indexAction()
66 call_user_func_array(array|2|, array|0|)
65 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()
64 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
63 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
62 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
61 TYPO3\Neos\TypoScript\PluginImplementation_Original::evaluate()
60 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>/element<PIPEU.Factura.NodeTypes:Basket>"", ""Exception"")
59 TYPO3\TypoScript\Core\Runtime_Original::render(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>/element<PIPEU.Factura.NodeTypes:Basket>"")
58 TYPO3\TypoScript\TypoScriptObjects\MatcherImplementation_Original::evaluate()
57 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>"", ""Exception"")
56 TYPO3\TypoScript\Core\Runtime_Original::render(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>"")
55 TYPO3\TypoScript\TypoScriptObjects\CaseImplementation_Original::renderMatcher(""default"")
54 TYPO3\TypoScript\TypoScriptObjects\CaseImplementation_Original::evaluate()
53 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>/itemRenderer"", ""Exception"")
52 TYPO3\TypoScript\Core\Runtime_Original::render(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>/itemRenderer"")
51 TYPO3\TypoScript\TypoScriptObjects\AbstractCollectionImplementation::evaluate()
50 TYPO3\Neos\TypoScript\ContentCollectionImplementation_Original::evaluate()
49 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>"", ""Exception"")
48 TYPO3\TypoScript\Core\Runtime_Original::render(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection>"")
47 TYPO3\TypoScript\TypoScriptObjects\MatcherImplementation_Original::evaluate()
46 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>"", ""Exception"")
45 TYPO3\TypoScript\Core\Runtime_Original::render(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/default<TYPO3.TypoScript:Matcher>"")
44 TYPO3\TypoScript\TypoScriptObjects\CaseImplementation_Original::renderMatcher(""default"")
43 TYPO3\TypoScript\TypoScriptObjects\CaseImplementation_Original::evaluate()
42 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main"", ""NULL"", NULL)
41 TYPO3\TypoScript\Core\Runtime_Original::evaluate(""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main"")
40 TYPO3\TypoScript\TypoScriptObjects\Helpers\TypoScriptPathProxy_Original::objectAccess()
39 TYPO3\Fluid\Core\Parser\SyntaxTree\ObjectAccessorNode_Original::getPropertyPath(TYPO3\Fluid\Core\ViewHelper\TemplateVariableContainer, ""content.main"", TYPO3\Fluid\Core\Rendering\RenderingContext)
38 FluidCache_Standalone_template_file_Default_e52a2bc8e4188d8f367a0c0fdfb536c5271802ac::{closure}()
37 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()
36 TYPO3\Fluid\ViewHelpers\Format\RawViewHelper_Original::render(NULL)
35 call_user_func_array(array|2|, array|1|)
34 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()
33 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()
32 FluidCache_Standalone_template_file_Default_e52a2bc8e4188d8f367a0c0fdfb536c5271802ac::section_02083f4579e08a612425c0c1a17ee47add783b94(TYPO3\Fluid\Core\Rendering\RenderingContext)
31 TYPO3\Fluid\View\AbstractTemplateView::renderSection(""body"", NULL, FALSE)
30 TYPO3\Fluid\View\AbstractTemplateView::renderStandaloneSection(""body"", NULL, FALSE)
29 TYPO3\Fluid\View\AbstractTemplateView::renderSection(""body"")
28 TYPO3\TypoScript\TypoScriptObjects\TemplateImplementation_Original::evaluate()
27 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page<TYPO3.Neos:Page>/body"", ""NULL"", TYPO3\TypoScript\TypoScriptObjects\ArrayImplementation)
26 TYPO3\TypoScript\Core\Runtime_Original::evaluate(""page<TYPO3.Neos:Page>/body"", TYPO3\TypoScript\TypoScriptObjects\ArrayImplementation)
25 TYPO3\TypoScript\TypoScriptObjects\AbstractTypoScriptObject::tsValue(""body"")
24 TYPO3\TypoScript\TypoScriptObjects\ArrayImplementation_Original::evaluate()
23 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""page"", ""Exception"")
22 TYPO3\TypoScript\Core\Runtime_Original::render(""page"")
21 TYPO3\TypoScript\TypoScriptObjects\MatcherImplementation_Original::evaluate()
20 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""root<TYPO3.TypoScript:Case>/default<TYPO3.TypoScript:Matcher>"", ""Exception"")
19 TYPO3\TypoScript\Core\Runtime_Original::render(""root<TYPO3.TypoScript:Case>/default<TYPO3.TypoScript:Matcher>"")
18 TYPO3\TypoScript\TypoScriptObjects\CaseImplementation_Original::renderMatcher(""default"")
17 TYPO3\TypoScript\TypoScriptObjects\CaseImplementation_Original::evaluate()
16 TYPO3\TypoScript\Core\Runtime_Original::evaluateInternal(""root"", ""Exception"")
15 TYPO3\TypoScript\Core\Runtime_Original::render(""root"")
14 TYPO3\Neos\View\TypoScriptView_Original::render()
13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()
12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
9 call_user_func_array(array|2|, array|2|)
8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
2 TYPO3\Flow\Http\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>"
58996,TYPO3.Flow,Bug,"",New,Should have,ResourceManager adding to persistence,Carsten Bleicker,"",2014-06-25 08:38,"","",2014-05-21,"","",0,2014-05-21 09:23,"","",1693250,"",Git master,"If youre using the resourceManager to create a resource from content f.e.
it creates the resourcepointer and adding it to persistence:
Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Resource/ResourceManager.php:276

i want to ask, why the resourcemanager is adding a resourcepointer directly to the persistence.
shouldnt this be done by annotations on the owning site wich receives this pointer?

imho just creating object should not lead to magic automaticly adding to the persistence.
i would simply expect, that this is done by cascading the object structure and its annotations for orm.

i was confused about the exception thrown that there is something new registered for the persistence
wich i definitly does not add by myself. it was thrown because of the $whitelist check of saferequests.

sure, it makes not realy a sense to create a resource if you dont want to persist.
but it also makes no sense to get an exception for new objects wich i never added by mysqlf into the persistence.
my expactation is: ""do whatever you want. create objects, destroy them, etc. the persistence is only involved if you explicit want it to. be sure, anything is save until you add it.""



"
59013,TYPO3.Flow,Bug,"",Closed,Should have,SystemLogger does not log additional arguments,Carsten Bleicker,Bastian Waidelich,2014-05-22 08:38,Log,"",2014-05-21,"","",0,2014-05-21 15:08,"","",1694100,"",Git master,"The SystemLogger Interface supports additional arguemtns on exception logging.
But the dont appear in the logfile."
59019,TYPO3 Flow Base Distribution,Suggestion,"",New,Should have,Add marker for lazyloaded properties to \TYPO3\Flow\var_dump,Christian Loock,"",2014-05-22 04:15,"","",2014-05-22,"","",0,2014-05-22 04:15,"","",1694400,"","","Hi,

it would be good, if you could see a lazy loaded property when you use \TYPO3\Flow\var_dump. It would be even better, if it would just automatically load those properties. See Carsten Bleicker's Email from today in the mailing list. It can cause some confusion."
59023,TYPO3.Flow,Bug,"",New,Should have,BooleanConverter should not convert empty values to boolean,Alexander Berl,"",2014-06-10 08:04,Property,"",2014-05-22,"","",0,2014-05-22 05:53,"","",1694600,"",Git master,"Currently, it is not possible to validate boolean fields for @NotEmpty, because even empty values are converted to boolean value before validation takes place.
This should be changed to work in line with other type converters like e.g. IntegerConverter"
59031,TYPO3.Flow,Bug,"",Closed,Must have,Broken Reflection behavior on class-/filename mismatch,Bastian Waidelich,Bastian Waidelich,2014-11-27 04:36,Reflection,"",2014-05-22,"","",0,2014-05-22 08:45,"","",1695000,"",(any),"When a PHP class is not named exactly like the corresponding file, weird things happen:
* If only the case doesn't match (e.g. ""someclass"" vs ""SomeClass"") the class is reflected but weird side effects happen during ""runtime""
* If the class name is different (e.g. ""SomeClass"" vs ""SomeRenamedClass"") the ReflectionService currently ""silently"" skips the class

Depending on what class is affected this can lead to a ""Cannot redeclare class"" error:
<pre>
#1355480641:
Fatal error: Cannot redeclare class Some\Package\Domain\Model\SomeEntity in Packages/Application/Some.Package/Classes/Some/Package/Domain/Model/RenamedEntity.php on line xx
</pre>"
59049,TYPO3.Flow,Bug,"",New,Should have,TYPO3\Flow\Error\Exception thrown in file ErrorHandler.php,Daniel Schlageter,"",2014-05-22 17:34,- Error Handler Report -,"",2014-05-22,"","",0,2014-05-22 17:34,"","",1695900,"",Flow 2.0.0,"Notice: Undefined variable: exception in /var/www/html/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Persistence_Doctrine_Query.php line 166
27 TYPO3\Flow\Error\ErrorHandler::handleError(8, ""Undefined variable: exception"", ""/var/www/html/Data/Temporary/Development/Cache/Cod?_Classes/TYPO3_Flow_Persistence_Doctrine_Query.php"", 166, array|2|)

26 TYPO3\Flow\Persistence\Doctrine\Query_Original::getResult()

25 TYPO3\Flow\Persistence\Doctrine\QueryResult_Original::initialize()

24 TYPO3\Flow\Persistence\Doctrine\QueryResult_Original::toArray()

23 TYPO3\Neos\Domain\Repository\DomainRepository_Original::findOneByHost(""localhost"")

22 TYPO3\Neos\Domain\Repository\DomainRepository_Original::findOneByActiveRequest()

21 call_user_func_array(array|2|, array|0|)

20 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::__call(""findOneByActiveRequest"", array|0|)

19 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::findOneByActiveRequest()

18 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::buildContextFromWorkspaceName(""live"")

17 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::buildContextFromNodeContextPath("""")

16 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::convertNodeContextPathToNode("""")

15 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::matchValue("""")

14 TYPO3\Flow\Mvc\Routing\DynamicRoutePart_Original::match("""")

13 TYPO3\Flow\Mvc\Routing\Route_Original::matches(TYPO3\Flow\Http\Request)

12 TYPO3\Flow\Mvc\Routing\Router_Original::findMatchResults(TYPO3\Flow\Http\Request)

11 TYPO3\Flow\Mvc\Routing\Router_Original::route(TYPO3\Flow\Http\Request)

10 TYPO3\Flow\Mvc\Routing\Router::route(TYPO3\Flow\Http\Request)

9 call_user_func_array(array|2|, array|1|)

8 TYPO3\Flow\Mvc\Routing\Router::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Fluid\Core\Widget\AjaxWidgetRoutingAspect_Original::routeAjaxWidgetRequestAdvice(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Routing\Router::route(TYPO3\Flow\Http\Request)

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
59057,TYPO3.Fluid,Bug,"",Under Review,Must have,Hidden empty value fields shoud be disabled when related field is disabled,Alexander Berl,Bastian Waidelich,2014-06-18 11:23,ViewHelpers,"",2014-05-22,"","",0,2014-05-23 07:14,"","",1696300,"",Git master,"*Use case:* A form which is used to redisplay a stored entity with some fields (checkbox) being disabled for further edit, where the current value is *checked*.
Submit the edit form without changes.

*Expected:* The value for the disabled checkbox fields stays unchanged

*Actual:* The empty default value for the fields is submitted, hence the state of the disabled checkbox field changed to *unchecked*

*Solution:* AbstractFormFieldViewHelper::renderHiddenFieldForEmptyValue() needs to check if the current field is disabled, and if so, add this flag to the hidden field"
59084,TYPO3.Flow,Bug,"",New,Should have,if 403 Exception show reason,Kay Strobach,"",2014-05-24 12:20,"","",2014-05-24,"","",0,2014-05-24 12:20,"","",1697650,"",Git master,"hi,

if access to a resource is blocked, there should be a clear message why:
- either by firewall
- or by policy"
59140,TYPO3.Flow,Bug,"",New,-- undefined --,TYPO3\Flow\Error\Exception thrown in file ErrorHandler.php,David McNaughtan,"",2014-05-27 09:51,- Error Handler Report -,"",2014-05-27,"","",0,2014-05-27 09:51,"","",1700450,"",(any),"Notice: Undefined variable: exception in /Applications/MAMP/htdocs/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Persistence_Doctrine_Query.php line 166
27 TYPO3\Flow\Error\ErrorHandler::handleError(8, ""Undefined variable: exception"", ""/Applications/MAMP/htdocs/Data/Temporary/Developme?_Classes/TYPO3_Flow_Persistence_Doctrine_Query.php"", 166, array|2|)

26 TYPO3\Flow\Persistence\Doctrine\Query_Original::getResult()

25 TYPO3\Flow\Persistence\Doctrine\QueryResult_Original::initialize()

24 TYPO3\Flow\Persistence\Doctrine\QueryResult_Original::toArray()

23 TYPO3\Neos\Domain\Repository\DomainRepository_Original::findOneByHost(""localhost"")

22 TYPO3\Neos\Domain\Repository\DomainRepository_Original::findOneByActiveRequest()

21 call_user_func_array(array|2|, array|0|)

20 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::__call(""findOneByActiveRequest"", array|0|)

19 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::findOneByActiveRequest()

18 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::buildContextFromWorkspaceName(""live"")

17 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::buildContextFromNodeContextPath("""")

16 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::convertNodeContextPathToNode("""")

15 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::matchValue("""")

14 TYPO3\Flow\Mvc\Routing\DynamicRoutePart_Original::match("""")

13 TYPO3\Flow\Mvc\Routing\Route_Original::matches(TYPO3\Flow\Http\Request)

12 TYPO3\Flow\Mvc\Routing\Router_Original::findMatchResults(TYPO3\Flow\Http\Request)

11 TYPO3\Flow\Mvc\Routing\Router_Original::route(TYPO3\Flow\Http\Request)

10 TYPO3\Flow\Mvc\Routing\Router::route(TYPO3\Flow\Http\Request)

9 call_user_func_array(array|2|, array|1|)

8 TYPO3\Flow\Mvc\Routing\Router::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Fluid\Core\Widget\AjaxWidgetRoutingAspect_Original::routeAjaxWidgetRequestAdvice(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Routing\Router::route(TYPO3\Flow\Http\Request)

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Exception occurred at the first startup attempt, Setup = iMac/Mavericks 10.9.3/MAMP Pro current version/Safari 7.0.4
Please include more helpful information!"
59244,TYPO3.Flow,Feature,"",New,Should have,Message or Container needs context,Carsten Bleicker,"",2014-05-31 05:47,"","",2014-05-31,"","",0,2014-05-31 05:47,"","",1705650,"","","In order to be able to publish f.e. page and plugin messages and show them at different places
it could be usefull to set their context and also flush them by context.

This could be done f.e. using an additional argument in the ActionController->addFlashMessage().

Example:
<pre>
public function addFlashMessage(.., .., .., $container = NULL){
   if($container === NULL) $container = $this->flashMessageContainers->getDefaultContainer();
   ....
}
</pre>

"
59322,TYPO3.Flow,Bug,"",New,Should have,Mssing field exception should show missing migrations as well,Kay Strobach,"",2014-06-04 00:47,Persistence,"",2014-06-04,"","",0,2014-06-04 00:47,"","",1709550,"",Git master,"If there is a database exception because of a missing field, the not migrated migrations / suggested updates should be shown to hint to the missing DB Layout adjustment."
59357,TYPO3.Flow,Bug,"",New,Should have,Using the PackageManager directly instead of the Interface results in unexpected behavior,Marc Neuhaus,"",2014-06-05 08:34,"","",2014-06-05,"","",0,2014-06-05 05:25,"","",1711300,"",Git master,"If you try to inject the PackageManager into your class using the Inject Annotation
the ""getAvailablePackages"" returns no Packages because the PackageManager doesn't
seem to be initialized. Using the alternative injection method through an injectPackageManager
method works without a Problem."
59358,TYPO3 Flow Base Distribution,Bug,"",Closed,Should have,PackageManager does not work when being injected via Annotation,Christian Loock,"",2014-06-05 07:40,"","",2014-06-05,"","",0,2014-06-05 05:26,"","",1711350,"",Flow 2.0.0,"Hi,

when I try to use the PackageManager, i discovered the following odd behaviour.

When I try to inject it via @Flow\Inject, any method called on it, will return no result.

When I use a injectPackageManager method, it works normally."
59366,TYPO3.Flow,Bug,"",Under Review,Should have,fix* lifecycle callbacks should not be registered for unproxied entities,Alexander Berl,"",2014-11-27 03:41,Persistence,"",2014-06-05,"","",0,2014-06-05 08:52,"","",1711750,"",Git master,"When entities are annotated @Flow\Proxy(false), lifecycle methods for fix* are still registered in the AnnotationDriver, leading to an exception being thrown by doctrine that the lifecycle callback method does not exist.

Since unproxied classes are not supposed to work with AOP/DI and those fix* methods only deal with that, the registration of those fixes is unneeded in that case.

Example code:
https://gist.github.com/albe/77937e10cd2a86c12d09

Note: Obviously, unproxied entities need to handle primary key/identifier themself."
59404,TYPO3.Flow,Bug,"",Resolved,Must have,Sub-Requests losing arguments,Carsten Bleicker,Carsten Bleicker,2014-10-25 21:00,MVC,2.x,2014-06-07,"","",100,2014-06-07 10:06,"","",1713650,"",Git master,A sub-request losing its arguments it a route is defined with defaults.
59442,TYPO3.Flow,Bug,"",Under Review,Should have,Composite primary keys including foreign entity don't work,Alexander Berl,"",2014-11-27 03:34,Persistence,"",2014-06-10,"","",0,2014-06-10 07:47,"","",1715550,"",Git master,"Currently, the implementation of the FlowAnnotationDriver prevents composite primary keys including an foreign entity reference do not work, as in the example of doctrine:
http://docs.doctrine-project.org/en/2.0.x/tutorials/composite-primary-keys.html#identity-through-foreign-entities

This is due to OneToOne and ManyToOne relations missing the following statement:
<pre>
if ($this->reader->getPropertyAnnotation($property, 'Doctrine\ORM\Mapping\Id') !== NULL) {
	$mapping['id'] = TRUE;
}
</pre>"
59672,TYPO3.Flow,Feature,Task #55953: Repair and streamline ValueObject support,Under Review,Should have,Add support for Doctrine 2.5 embeddables,Alexander Berl,Alexander Berl,2015-04-08 11:42,Persistence,"",2014-06-19,"","",0,2014-06-19 17:08,"","",1726950,"","","Doctrine 2.5 will finally support ValueObjects in the form of @Embedded/@Embeddable:
https://github.com/doctrine/doctrine2/pull/835
https://github.com/schmittjoh/doctrine2/commit/9ad376c0064fae0c8ae6f6c3e15406936323727c

Flow should add support for this feature and extend ValueObjects to be embedded through an annotation setting."
59747,TYPO3.Flow,Bug,"",New,Should have,TYPO3\Flow\Error\Exception thrown in file ErrorHandler.php,Harald Atteneder,"",2014-06-20 15:28,"","",2014-06-20,"","",0,2014-06-20 15:23,"","",1730700,"",FLOW3 1.1.0,"After update from 1.1.0-beta1 to 1.1.0 stable images in nodes aren't working any more. This message appears when visiting a site in the frontend and also when trying to open the media browser to insert an image.


<pre>
#1: Warning: symlink(): No such file or directory in /var/www/domain/public/TYPO3-Neos-1.1/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Resource_Publishing_FileSystemPublishingTarget.php line 252
More information

TYPO3\Flow\Error\Exception thrown in file
Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Error/ErrorHandler.php in line 77.
Reference code: 2014062021122072abab

99 TYPO3\Flow\Error\ErrorHandler::handleError(2, ""symlink(): No such file or directory"", ""/var/www/domain/public/TYPO3-Neos-1.1/Data/T?Resource_Publishing_FileSystemPublishingTarget.php"", 252, array|3|)

</pre>"
59858,TYPO3.Kickstart,Bug,"",New,Must have,Property <Path>\CoffeeBean::$Persistence_Object_Identifier does not exist,Leandro Anthonioz,"",2015-01-13 06:20,"",2.x,2014-06-25,"","",0,2014-06-24 23:11,"","",1736250,"",Flow 2.0.0,"Hi, I'm a Yii developer trying to migrate to a DDD oriented PHP framework like Typo3 Flow :)

I downloaded Typo3 Flow 2.2 this week and followed the QuickStart guide step by step (http://docs.typo3.org/flow/TYPO3FlowDocumentation/Quickstart/Index.html).

However, after execute this command: 

./flow kickstart:actioncontroller --generate-actions --generate-related Acme.Demo CoffeeBean

I executed the following command:

./flow doctrine:update

And I received the following error:

""Property Acme\Demo\Domain\Model\CoffeeBean::$Persistence_Object_Identifier does not exist""

I manually added that property to the CoffeeBean model and that has solved this issue (I was able to do CRUD operations with that model) but I'm not sure if this is an expected manual change before execute ""doctrine:update"". Even if that property should be added manually, I guess will be useful include that step in the QuickStart steps for newbies like me.

By the way, I like a lot the design of this framework, good job!

Thank you!
Leandro



"
59878,TYPO3.Flow,Bug,"",New,Must have,TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file Scripts.php,Andrew Isaak,"",2014-06-25 09:29,- Error Handler Report -,1.1.1,2014-06-25,"",1.00,0,2014-06-25 08:52,"","",1737250,"",FLOW3 1.1.0,"When trying to run Neos 1.1.0 (extracted directly from the zip archive) on Windows (7 or 8 - tried both) using Xamp (or similar package), the following fatal error occurs. This is a *critical* bug.

Execution of subprocess failed with exit code 1 without any further output. (Please check your PHP error log for possible Fatal errors)
12 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:core:compile"", array|16|)

11 TYPO3\Flow\Core\Booting\Scripts::initializeProxyClasses(TYPO3\Flow\Core\Bootstrap)

10 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)

9 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)

8 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)

3 TYPO3\Flow\Http\RequestHandler::boot()

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
59882,TYPO3.Flow,Bug,"",Closed,Should have,TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file Scripts.php,Andrew Isaak,"",2014-06-25 09:41,- Error Handler Report -,1.1.1,2014-06-25,"",1.00,0,2014-06-25 09:34,"","",1737450,"",FLOW3 1.1.0,"Uncaught Exception
  Warning: symlink(): Cannot create symlink, error code(1314) in
  C:\xampp\htdocs\neos\Data\Temporary\Development\Cache\Code\Flow_Object_Classes\TYPO3_Flow_Resource_Publishing_FileSystemPublishingTarget.php
  line 116

More Information
  Exception code      #1
  File                C:\xampp\htdocs\neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Error\ErrorHandler.php line 77
  Exception reference #20140625153238cc4e45

13 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:doctrine:compileproxies"", array|16|)

12 TYPO3\Flow\Core\Booting\Scripts::compileDoctrineProxies(TYPO3\Flow\Core\Bootstrap)

11 TYPO3\Flow\Core\Booting\Scripts::initializeProxyClasses(TYPO3\Flow\Core\Bootstrap)

10 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)

9 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)

8 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)

4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)

3 TYPO3\Flow\Http\RequestHandler::boot()

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
60003,TYPO3.Fluid,Feature,"",New,Should have,Add required-Attribute to f:form.password,David Sporer,"",2014-06-30 10:53,ViewHelpers,"",2014-06-30,"","",0,2014-06-30 10:33,"","",1743450,"","","Currently the ViewHelper f:form.password doesn't support the required-Attribute.
According to W3C the required attribute is valid for input-elements of type ""password"": http://www.w3.org/TR/html-markup/input.password.html
Therefore I think TYPO3 Flow should allow the usage of the required Attribute.
Adding required as optional parameter like it's done for the TextfieldViewHelper should be appropriate, shouldn't it?

Current:
<pre>
/**
	 * Renders the password input field.
	 *
	 * @return string
	 * @api
	 */
	public function render() {
		$name = $this->getName();
		$this->registerFieldNameForFormTokenGeneration($name);

		$this->tag->addAttribute('type', 'password');
		$this->tag->addAttribute('name', $name);
		$this->tag->addAttribute('value', $this->getValue());

		$this->setErrorClassAttribute();

		return $this->tag->render();
	}
</pre>

Should be:
<pre>
/**
	 * Renders the password input field.
	 *
	 * @param boolean $required If the field is required or not
	 * @return string
	 * @api
	 */
	public function render($required = FALSE) {
		$name = $this->getName();
		$this->registerFieldNameForFormTokenGeneration($name);

		$this->tag->addAttribute('type', 'password');
		$this->tag->addAttribute('name', $name);
		$this->tag->addAttribute('value', $this->getValue());

		if ($required === TRUE) {
			$this->tag->addAttribute('required', 'required');
		}
		
		$this->setErrorClassAttribute();

		return $this->tag->render();
	}
</pre>

I know that I can solve it by using the Textfield ViewHelper and specifying type=""password"" but it would be better if the password view helper also supports the required-Attribute."
60069,TYPO3.Fluid,Bug,"",Resolved,Must have,Objects cast to string are not escaped,Philipp Maier,Bastian Waidelich,2014-08-26 02:33,ViewHelpers,"",2014-07-03,"","",100,2014-07-03 03:02,"","",1746700,"",Git master,"Basically if you have a class like this:

class HelloWorld {
public function __toString() { return '<script>alert(""hello world"");</script>' }
}

and you assign it as a fluid variable like this:

$this->view->assign('helloworld', new HelloWorld());

and have a template like this:

{helloworld}

you're going to have a bad time."
60095,TYPO3.Flow,Feature,"",Under Review,Should have,LockManager's LockHoldingStackPage should be configurable,Kevin Fischer,"",2014-07-07 05:15,Configuration,"",2014-07-04,"","",0,2014-07-04 04:52,"","",1748000,"","","In the LockManager's current implementation, the file to be displayed when Flow is locked sadly is hard-coded on line 101:
<pre>
readfile(FLOW_PATH_FLOW . 'Resources/Private/Core/LockHoldingStackPage.html');
</pre>

This should be configurable and could be implemented like so in TYPO3.Flow's Settings.yaml:
<pre>
TYPO3:
  Flow:
    core:
      lockHoldingStackPage: 'resource://TYPO3.Flow/Private/Core/LockHoldingStackPage.html'
</pre>"
60181,TYPO3.Fluid,Feature,"",New,Could have,Caching mechanism for Fluid Views/Templates,Kevin Fischer,"",2014-07-08 07:18,View,"",2014-07-08,"","",0,2014-07-08 07:18,"","",1752300,"","","It would be nice to have have a way to tell Fluid to cache the result of a getter or ViewHelper. This could be done e.g. by prefixing the expression with a @$@, a similiar special character or otherwise indicating that Fluid should cache this expression:

<pre>
Won't cache: {object.myComplexGetter}
Will cache: {$ object.myComplexGetter}
Uncached: {object.myComplexGetter}
Cached: {$ object.myComplexGetter}
</pre>

<pre>
Won't cache: {acme:time.consuming()}
Will cache: {$ acme:time.consuming()}
Uncached: {acme:time.consuming()}
Cached: {$ acme:time.consuming()}
</pre>

The cache would operate on a per-file basis, as caching across multiple (independent) template and partial files could raise unforeseen issues and hard-to-debug errors.

The cache would only care about the first part of an expression chain. All subsquent parts of a chain would be executed normally. To avoid running a long or time consuming expression more than once, you could still use the @<f:alias>@ ViewHelper.

<pre>
Will cache: {$ object.myComplexGetter}
Uses cached result: {$ object.myComplexGetter -> f:count()}

Uses cached result, with the time consuming VH being executed every time:
{$ object.myComplexGetter -> acme:time.consuming()}
</pre>

I'd love to hear ideas and comments about this. Currently I'm using lots @<f:alias>@ in my code to accomplish this and I'd love to avoid it where possible.

A related feature request for ViewHelpers from someone else: http://forge.typo3.org/issues/3291"
60271,TYPO3.Fluid,Feature,"",New,Should have,"Paginate viewhelper, should also support arrays",Sebastian Strasser,"",2014-07-11 07:19,"","",2014-07-11,"","",0,2014-07-11 07:19,"","",1756800,"","","Hello,

i want to use this viewhelper for a search result page,

<pre>
<f:widget.paginate objects=""{contacts}"" as=""paginatedContacts"" configuration=""{itemsPerPage:8, insertAbove:0, insertBelow:1, maximumNumberOfLinks:10, addQueryStringMethod: '{method}'}"">
<div class=""container map_search_results"">

    <f:for each=""{paginatedContacts}"" as=""contact"">

        <f:render partial=""List/Contact"" arguments=""{contact: contact, lang: lang}"" />

    </f:for>
    <div class=""clear-fix""></div>

</div>
</f:widget.paginate>
</pre>

but i got a php error:
@PHP Fatal error:  Call to a member function getQuery() on a non-object in ...\cms\typo3\sysext\fluid\Classes\ViewHelpers\Widget\Controller\PaginateController.php on line 76@
"
60430,TYPO3.Fluid,Feature,"",Closed,Should have,Add a negate-option to the IfViewHelper,Stefan Neufeind,"",2014-08-01 03:59,ViewHelpers,"",2014-07-21,"","",0,2014-07-21 07:14,"","",-7700,"","",Allows to simply turn conditions into the opposite.
60556,TYPO3.Flow,Bug,"",Closed,Should have,"Form VewiHelpers inside a Widget that is inside a f:form, are unaware of the surrounding form",Christian Loock,Bastian Waidelich,2015-02-25 11:27,"","",2014-07-25,"","",0,2014-07-25 06:09,"","",-14000,"",(any),"When I use a custom widget ViewHelper inside a f:form, I cannot use f:form.* ViewHelpers inside the widget, like I could inside the form itself:

Example. (Assume that foo is an object that has a property bar)

The for:
<f:form action=""update""  objectName=""foo"" object=""{bar}"">
<vendor:widget.baz/>

</f:form>

And inside the widget:

<f:form.textfield propery=""bar""/>

Will result in a text field:

<input type=""text"" name=""bar"">

instead of 

<input type=""text"" name=""foo[bar]"">


There should at least be an option to make this possible in widget, to be able to build more complex form controlls, that write into object properties."
60856,TYPO3.Fluid,Bug,"",New,Must have,Target attribute not supported by the form viewhelper,Mathias Brodala,"",2014-08-08 07:14,ViewHelpers,"",2014-08-08,"","",0,2014-08-08 07:14,"","",-28950,"",(any),The @target@ attribute is valid in pretty much every (X)HTML doctype (except XHTML 1.0 Strict) and should be supported by the @FormViewHelper@ out of the box. Currently one has to work around this issue with  @additionalAttributes@.
61043,TYPO3.Flow,Task,"",New,Should have,Rename ClassSchema to ModelSchema,Andreas Wolf,"",2014-08-18 17:20,Reflection,"",2014-08-18,"","",0,2014-08-18 15:22,"","",-38300,"","","I think the new name would fit a lot better, as this is what the class in fact contains. The old name is not wrong, but leaves room for interpretation."
62009,TYPO3.Flow,Bug,"",New,Should have,Rewrite URI Filename could be empty,Bernhard Esders,"",2014-10-07 05:03,"","",2014-10-02,"","",0,2014-10-02 10:08,"","",-86350,"",Flow 2.0.0,"Due to an error in the following method, it may happen that an empty file name is generated. 
This happens whenever the file name does not consist of at least one ASCII character.

_TYPO3\Flow\Resource\Publishing\AbstractResourcePublishingTarget->rewriteFilenameForUri_
@
protected function rewriteFilenameForUri($filename) {
     return preg_replace(array('/ /', '/_/', '/[^-a-z0-9.]/i'), array('-', '-', ''), $filename);
}
@

Thus, it is not possible to load the file."
62292,TYPO3.Flow,Major Feature,"",New,Should have,Support for entity translation,Artus Kolanowski,"",2014-10-16 21:18,I18n,2.x,2014-10-17,"","",0,2014-10-16 20:31,"","",-100500,"","","It seems TYPO3 Flow doesn't support the translation of entities currently in a generic way. So either you choose some non generic approach like the following and do it again and again for all your entities which needs to be _translatable_:

<pre>
/**
 * @Flow\Entity
 */
class Product {
 
  /**
   * @var Product
   * @ORM\ManyToOne(inversedBy=""translations"")
   */
  protected $translationOriginal;
 
  /**
   * @var Collection<Product>
   * @ORM\OneToMany(mappedBy=""translationOriginal"")
   */
  protected $translations;
 
  /**
   * @var string
   */
  protected $locale;
 
  ...
 
}
</pre>


Or you try to implement it in a aspect oriented way like this, which of course might be a lot of work to realize:

<pre>
/**
 * @Flow\Entity
 */
class Product {
 
  /**
   * @var string
   * @Flow\Translatable
   */
   protected $name;
 
   ...
 
}
</pre>

Currently we have some multi-language projects in the pipe for which we could use TYPO3 Flow but without the aspect @Translatable@ it makes our decision not so easy.

Please excuse if this is a stupid feature request. The examples are from Akii and his article _My thoughts on Entity Translation in TYPO3 Flow_. So are there any plans about it or is this a pretty rare aspect?"
62346,TYPO3.Fluid,Feature,"",New,Could have,f:comment should have high precende,martin no-lastname-given,"",2014-10-20 05:33,Core,3.x,2014-10-20,"","",0,2014-10-20 05:33,"","",-103200,"","",Although it's only a viewhelper i think f:comment should be interpreted at highest priority. sections cannot be put inside a comment as they are interpreted before the comment is in effect.
62740,TYPO3.Flow,Bug,"",New,Should have,Add check on literal in TypeHandlingUtility::isCollectionType,Arjen Hoekema,"",2014-11-06 14:06,Utility,"",2014-11-06,"","",0,2014-11-06 07:26,"","",-122900,"",(any),"Add a check to 'isLiteral' before doing expensive 'class_exists' operations trying to resolve objects for literals like: string, int, etc.

Maybe the ValidatorResolver could also do a check on a 'literal' before doing a 'class_exists' in 'buildBaseValidatorConjunction'."
64342,TYPO3 Flow Base Distribution,Bug,"",New,Should have,ResourceManager->deleteResource() leaves database entry,Christoph Lehmann,"",2015-02-12 15:51,"","",2015-01-18,"","",0,2015-01-18 11:03,"","",-202900,"",Git 2.0,"I use typo3/flow 2.3.1 (c6f77fef8b8af9bf17db7f97f6ecd14ecf3331b9)

It removes the resource from filesystem, but leaves a database entry in typo3_flow_resource_resource and in typo3_flow_resource_resourcepointer."
64842,TYPO3.Flow,Feature,"",New,Could have,Validation of Property should also happen before Property Mapping.,Hardik Satasiya,"",2015-02-04 04:35,"","",2015-02-04,"","",0,2015-02-04 04:35,"","",-227850,"","","Problem :

I have relation from my model to user many to one so when i try to insert record and if i choose staff it works like charm but if i put it blank it throws me error during property mapping.

it seems its mapping argument before validating it.

As in post arguments :

momentForm[staff] = <blank> <-- throws error NULL given insted of ExtendedUser
If i remove ""momentForm[staff]"" then it validates the property properly.

But i can not remove ""momentForm[staff]"" from post if some one is not selecting anything from select box.


validation after :
initialize*Action - for manual property mapping
validation before :
and before automatic property mapping


*Scenario :*

*template :*
@<f:form action=""addMoment"" method=""post"" objectName=""momentForm"" >
...
	<f:form.select property=""staff"" prependOptionLabel=""- select staff -"" options=""{staff}""  optionLabelField=""name"" />@
...

*model :*

@/**
 * @var <package-name>\Domain\Model\ExtendedUser
 * @Flow\Validate(type=""NotEmpty"")
 * @ORM\ManyToOne
 * @ORM\Column(options={""comment""= ""Referance to User Account""})
 */
protected $staff;@

*controller :*
@
/**
 * add moment Action
 *
 * @param <package-name>\Domain\Model\<model-name> $momentForm
 * @return void 
 */
public function addMomentAction($momentForm) {@"
64970,TYPO3.Flow,Bug,"",Rejected,Must have,empty email address should return false in EmailAddressValidator,Tobias Braumann,Bastian Waidelich,2015-02-10 08:58,Validation,2.x,2015-02-10,"","",0,2015-02-10 07:56,"","",-234250,"",Flow 2.0.0,"I expected that an empty email adress in EmailAddressValidator, would return false, but that will not be checked until now. "
65424,TYPO3.Fluid,Bug,"",Under Review,Should have,SelectViewHelper must respect  option(Value|Label)Field for arrays,Stefan Neufeind,"",2015-02-28 16:23,ViewHelpers,"",2015-02-28,"","",0,2015-02-28 16:21,"","",-256950,"",FLOW3 1.1.0,"
<f:form.select options=""{array}"" optionValueField=""uid"" optionLabelField=""title"" />


should work with the given array:

array(
    array(
        'uid' => 1,
        'title' => 'Foo'
    ),
    array(
        'uid' => -1,
        'title' => 'Bar'
    ),
    array(
        'title' => 'Baz'
    ),
    array(
        'uid' => '2'
    ),
)

Currently fluid tries to use the keys as values and the arrays as label which results in an error.

(Port to upstream from TYPO3 CMS, #65073)"
65684,TYPO3.Flow,Bug,"",New,Should have,Could not acquire lock for ClassLoader cache creation,Sandeep Ranjan,Sebastian Heuer,2015-03-12 10:07,"","",2015-03-12,"","",0,2015-03-12 04:26,"","",-269950,"",Flow 2.0.0,"Hello,

I have following questions regarding Lock Mechanism.

1)How can we unlink expired lock files?
2)Why empty files created in Lock?

Best regards
Sandeep"
65758,TYPO3.Flow,Bug,"",Rejected,Must have,Error in AccessDecisionVoterManager,Thomas Lorenzen,Bastian Waidelich,2015-03-16 12:38,"",2.x,2015-03-16,"","",0,2015-03-16 06:53,"","",-273650,"",(any),"<toleranzen> Hi guys, I'm (still) having problems with access and routing in Flow 2.3.2
<toleranzen> When trying to access my updateAction() I get the following in my log file:
<toleranzen> Router route(): A cached Route with the cache identifier ""418a3a01f20eb0132d5e895135e7b203"" matched the path ""clioonline.abo2/product/update""
<toleranzen> No CSRF required, safe request
<toleranzen> Uncaught exception #1222268609 in line 341 of /hostroot/ABO2/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Security_Authorization_AccessDecisionVoterManager.php: Access denied (0 denied, 0 granted, 1 abstained)
<toleranzen> Somehow my list/edit/new/create actions work fine, but my updateAction is rejected
<toleranzen> Any ideas ?
<toleranzen> Things seem to work fine with Flow 2.2.2 by the way"
4318,Getting Started,Bug,"",Resolved,Should have,generateController only generates one controller at a time,ziyad saeed,Karsten Dambekalns,2010-10-20 05:49,Content / Instructions,1.0.0 alpha 4,2009-08-25,"","",0,2009-08-25 12:56,"","",2765650,"","According to the Getting Started guide alpha3. it says that using the following command
@(php Packages\Framework\FLOW3\Scripts\FLOW3.php
Kickstart Kickstart generateController --packageKey Blog --controllerName
Blog,Post,Comment)@ will generate the controllers for blog, post and comment.

On Windows 7 with WAMP 2 and Powershell
the command only generates controller for just one of them.
@PS C:\wamp\www\FLOW3Tutorial> (php Packages\Framework\FLOW3\Scripts\FLOW3.php Kickstart Kickstart generateController --packageKey Blog --controllerName Blog,Post,Comment)
+ .../Packages/Application/Blog/Classes/Controller/BlogController.php
+ .../Packages/Application/Blog/Resources/Private/Templates/Blog/index.html@"
4325,Getting Started,Bug,"",Resolved,Should have,Call to a member function findAll() on a non-object,ziyad saeed,Karsten Dambekalns,2010-10-20 05:49,Content / Instructions,1.0.0 alpha 4,2009-08-26,"","",0,2009-08-25 18:51,"","",2765600,"","Using the example given in Getting Started guide and creating a Blog model and Blog Repository and changing the Blog controller
The line of code @$blogs = $this->blogRepository->findAll();@ in the BlogController class is the problem. $this->blogRepository isn't an object. the framework should have injected the blogRepository object, but it didn't

@Call to a member function findAll() on a non-object in C:\wamp\www\FLOW3Tutorial\Packages\Application\Blog\Classes\Controller\BlogController.php on line 46@"
4327,Getting Started,Bug,"",Resolved,Should have,"Object ""F3\Blog\Domain\Model\Blog"" is not registered",ziyad saeed,Karsten Dambekalns,2010-10-20 05:49,Content / Instructions,1.0.0 alpha 4,2009-08-26,"","",0,2009-08-25 19:08,"","",2765550,"","As per Getting Started guide the BlogController's CreateAction is giving an exception

@$blog = $this->objectFactory->create('F3\Blog\Domain\Model\Blog');@

The exception is _Object ""F3\Blog\Domain\Model\Blog"" is not registered_"
4485,Getting Started,Bug,"",Resolved,Should have,Use Setx instead of Set,ziyad saeed,Karsten Dambekalns,2010-10-20 05:49,Content / Instructions,1.0.0 alpha 5,2009-09-08,"","",0,2009-09-08 06:19,"","",2765700,"","Getting Started Guide Chapter 6
When you set the environment variable in windows using Set, the variable isn't persistent, it disappears when you close the command window or console.

Use Setx instead. Its syntax is slightly different
<pre>
c:\> setx FLOW3_CONTEXT ""Development""
c:\> setx FLOW3_ROOTPATH ""C:\xampp\htdocs\tutorial""
c:\> setx FLOW3_WEBPATH ""C:\xampp\htdocs\tutorial""
</pre>

btw shouldn't the WEBPATH point to the Web folder inside the Tutorial directory"
4713,Getting Started,Bug,"",Resolved,Must have,"""Download PDF"" link does not work",Bastian Waidelich,Karsten Dambekalns,2010-10-20 05:48,"","",2009-09-21,"","",0,2009-09-21 05:45,"","",2765500,"",The links to the PDF version of the Getting Started tutorial on http://flow3.typo3.org/documentation/tutorials/ and http://flow3.typo3.org/documentation/tutorials/getting-started/ do not work. They point to a non-existing http://flow3.typo3.org/fileadmin/Tutorials/GettingStarted.pdf
5099,Getting Started,Bug,"",Closed,Should have,"Tutorial Bug on ""View""-Page",Nadine Schwingler,"",2010-10-20 05:48,"","",2009-10-25,"","",100,2009-10-25 10:40,"","",2765450,"","In the View Part about Templates.
The Template for the ""master.html"" is correct. The explanation is not.

In the template it says:
@<f:base />@
which works fine.
The explanation following it says:
@<base href=""http://dev.tutorial.local/""></base>@
which causes an error in the FE"
5661,Getting Started,Bug,"",Closed,Should have,Fatal error: F3\PHP6\Functions::getT3LibCS(),Romeo Disca,Karsten Dambekalns,2010-10-20 05:49,Content / Instructions,"",2009-12-07,"","",0,2009-12-07 14:44,"","",2765400,"","I tried to walk through the tutorial and received following error message:

@/var/www/flow-tutorial$ ./flow3 kickstart package Blog@

<pre>
Fatal error: F3\PHP6\Functions::getT3LibCS(): Failed opening required '/var/www/flow-tutorial/Packages/Framework/PHP6/Classes/../Resources/PHP/class.t3lib_cs.php' (include_path='/var/www/flow-tutorial/Packages/Framework/PHPUnit/Resources/PHP:.:/usr/local/lib/php') in /var/www/flow-tutorial/Packages/Framework/PHP6/Classes/Functions.php on line 0
</pre>

<pre>
line 183: if (!class_exists('t3lib_cs', FALSE)) {
debug:      var_dump(is_file(__DIR__  . '/../Resources/PHP/class.t3lib_cs.php'));
line 184:   require(__DIR__  . '/../Resources/PHP/class.t3lib_cs.php');
line 185: }
</pre>

@var_dump@ returns false but the file is located there.

i use PHP Version 5.3.1-0.dotdeb.1 with ubuntu."
5666,Getting Started,Bug,"",Accepted,Must have,Change {f:uri.resource('Blog.css')} syntax to {f:uri.resource(path: 'Blog.css')} in Getting Started Tutorial ,Sebastian Wojtowicz,Robert Lemke,2010-10-20 05:49,Content / Instructions,1.0.0 alpha 7,2009-12-08,"","",0,2009-12-08 03:26,"","",2765900,"","In in r3354 the syntax of the ResourceViewHelper has changed. But the Getting Started Tutorial (Chapter 9) hasn't been updated yet.

So in the Documentation it should be

{f:uri.resource(path: 'Blog.css')} instead of {f:uri.resource('Blog.css')} and

{f:uri.resource(path: 'FLOW3-Logo-11px.png')} instead of {f:uri.resource('FLOW3-Logo-11px.png')}


See also Issue #5150"
5690,Getting Started,Feature,"",Accepted,Should have,Getting started documentation - setting the environment variables for FCGI,Marco Weber,Robert Lemke,2010-10-20 05:49,Content / Instructions,1.0.0 alpha 7,2009-12-09,"","",0,2009-12-09 10:09,"","",2765850,"","It is very important, that people are informed in the Getting Started Doumentation, that somethimes the ""SetEnv FLOW3_CONTEXT Development"" Directive doesn't set the environment variables in PHP!

In case you're using an SUEXEC/FCGI PHP Version in Apache, SUEXEC wont pass FLOW3_CONTEXT to the fcgi script...
( Because the varible wasn't defined in ""Safe-Vars"" on SUEXEC compilation time. )
Since providers propably won't recompile SUEXEC with FLOW3_CONTEXT defined in ""Safe-Vars"", php won't receive the value SET with SetEnv in apache...

In this case i've found just 3 quick solutions to set the environment variable:

*Solution 1: In the FCGI Starter Script:*
It usually looks something like this:
<pre>
#!/bin/sh
FLOW3_CONTEXT='Development'
export FLOW3_CONTEXT
PHPRC=""/path/to/php5/conf/directory""
export PHPRC
PHP_FCGI_CHILDREN=5
export PHP_FCGI_CHILDREN
PHP_FCGI_MAX_REQUESTS=5000
export PHP_FCGI_MAX_REQUESTS
exec '/path/to/php5.3/bin/php-cgi'
</pre>

*Solution 2: Creating a prepend file in your php.ini*
Create a prepend file that looks like this:
<pre>
<?php
$_SERVER['FLOW3_CONTEXT']='Development';
?>
</pre>
Finally, set the ""auto_prepend_file = /path/to/your/prepend-file.php"" option in your php.ini

*Solution 3: Alter the Web/index.php file*
Add the following line to the file after the ""define"" line:
<pre>
$_SERVER['FLOW3_CONTEXT']='Development';
</pre>


There might be other ways to set the environment variable, but this should be mentioned in the documentation."
6180,Getting Started,Bug,"",New,-- undefined --,Bugs in Getting-Started-Tutorial,Lukas Lentner,Robert Lemke,2010-10-20 05:49,"","",2010-01-22,"","",60,2010-01-22 12:48,"","",2765350,"","* im Template für das Bearbeiten von Blogs stimmt das for Attribut im Label-Tag von ""Titel"" nicht:
<pre>
<label for=""*name*"">Title <span class=""required"">(required)</...
<f:form.textbox property=""title"" id=""*title*"" />
</pre>

* die adressierung der Resourcen im Layout wird mit ""path: "" gemacht:
<pre>
<?xml version=""1.0"" encoding=""utf-8""?>
<!DOCTYPE html
     PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN""
     ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"">
<html lang=""en"" xml:lang=""en"" xmlns=""http://www.w3.org/1999/xhtml"">
	<head>
		<meta http-equiv=""Content-Type"" content=""text/html; charset=utf-8"" />
		<f:base />
		<title>{blog.title}</title>
		<link rel=""stylesheet"" href=""{*f:uri.resource('Blog.css')*}"" type=""text/css"" />
	</head>
	<body>
		<div id=""header"">
			<f:if condition=""{blog}"">
				<f:link.action action=""index"" controller=""Post"" arguments=""{blog: blog}"">
					<h1 class=""title"">{blog.title}</h1></f:link.action>
				<p class=""description"">{blog.description}</p>
			</f:if>
		</div>
		<div id=""maincontainer"">
			<div id=""mainbox""><f:render section=""mainbox"" /></div>
			<div class=""clear""></div>
		</div>
		<div id=""footer"">
			<a href=""http://flow3.typo3.org"">Powered by FLOW3 
				<img src=""{*f:uri.resource('FLOW3-Logo-11px.png')*}"" width=""11"" height=""11"" />
			</a>
		</div>
	</body>
</html>
</pre>

* Hat man den NICHT-Validierungsbefehl noch nicht geschrieben (10.3. Validating Updated Arguments) gibt es keinen Formatierten Fehler UND er kommt schon beim Aufrufen des Edit-Formulars und nicht beim Abschicken!"
6340,Getting Started,Bug,"",New,Must have,Wrong dokumentation for FLOW3.yaml setting,Simon Schaufelberger,"",2010-10-20 05:49,Content / Instructions,1.0.0 alpha 7,2010-02-04,"","",0,2010-02-04 04:38,"","",2765800,"","Here is written that you have to add the following line into FLOW3.yaml file:

http://flow3.typo3.org/documentation/tutorials/getting-started/gettingstarted.configuration/

utility: environment: temporaryDirectoryBase: 'C:/tmp/'

in the latest version alpha 7 this file does not exist and the setting MUST be done in Settings.yaml. i created the file FLOW3.yaml and tried it with this one but that does not affect anything.

Also the syntax is wrong. it should be:
FLOW3:
  utility: 
    environment: 
      temporaryDirectoryBase: 'C:/tmp/'"
6341,Getting Started,Bug,"",New,Must have,Wrong dokumentation for FLOW3.yaml setting,Simon Schaufelberger,"",2010-10-20 05:49,"",1.0.0 alpha 7,2010-02-04,"","",0,2010-02-04 04:41,"","",2765750,"","Here is written that you have to add the following line into FLOW3.yaml file:

http://flow3.typo3.org/documentation/tutorials/getting-started/gettingstarted.configuration/

utility: environment: temporaryDirectoryBase: 'C:/tmp/'

in the latest version alpha 7 this file does not exist and the setting MUST be done in Settings.yaml. i created the file FLOW3.yaml and tried it with this one but that does not affect anything.

Also the syntax is wrong. it should be:
FLOW3:
  utility: 
    environment: 
      temporaryDirectoryBase: 'C:/tmp/'"
6342,Getting Started,Task,"",New,Should have,Missing Dokumentation for including other Packages,Simon Schaufelberger,"",2010-10-20 05:49,Content / Instructions,1.0.0 alpha 7,2010-02-04,"","",0,2010-02-04 04:46,"","",27400,"","Please provide some dokumentation for using other Packages like ExtJS like how to include them, call them and so on"
7289,Getting Started,Task,"",Resolved,Should have,Update Getting Started Tutorial,Irene Höppner,Karsten Dambekalns,2010-10-20 05:49,"","",2010-04-16,"",1.00,100,2010-04-15 18:43,"","",33800,"","What I did (too lazy to translate :-)):

- alpha 7 -> alpha 8
- Setup Controller, erstes Listing: Klasse und php-Tag zu gemacht
- Chapter Controller -> 3 Create Action: Hinweis, dass in PostController
- Chapter View -> Templates: komisches erstes Zeichen im ersten Listing weg gemacht
- 2 Listings später: $postRepository injected + Hinweis, dass PostRepository und Partials rüber kopiert werden müssen
- edit.html: ausgetauscht, weil's des vom blog und nich des vom post war"
11841,Getting Started,Bug,"",New,Should have,Link to setup guide for php 5.3 broken,Zoran Zaric,"",2011-01-02 10:23,Content / Instructions,"",2011-01-02,"","",0,2011-01-02 10:23,"","",2765300,"",In the requirements chapter of the getting started guide ( http://flow3.typo3.org/documentation/tutorials/getting-started/gettingstarted.requirements/)  the link to the php 5.3 setup guide points to  http://flow3.typo3.org/documentation/reference/flow3.installingphp53/ but I think it should be http://flow3.typo3.org/documentation/manuals/flow3/flow3.installingphp53/
12845,Getting Started,Bug,"",New,Must have,broken link in GettingStarted,Daniel Brüßler,"",2011-06-20 05:03,"","",2011-02-07,"","",0,2011-02-07 07:59,"","",1778150,"","Hi,

on page http://flow3.typo3.org/documentation/tutorials/getting-started/gettingstarted.requirements/

there's a link ""setup guides for the most popular platforms"" pointing to 
http://flow3.typo3.org/documentation/reference/flow3.installingphp53/

what tells, that the parent page-name ""reference"" isn't there anymore."
12847,Getting Started,Bug,"",New,Could have,"GettingStarted package: link ""Known Issues"" has broken link",Daniel Brüßler,"",2011-06-20 05:03,"","",2011-02-07,"","",0,2011-02-07 08:43,"","",1778100,"","When the GettingStarted package 100a7 is just installed, the link ""KnownIssue"" points to http://forge.typo3.org/projects/package-flow3/issues?query_id=55 should point to
* for alpha7 to http://forge.typo3.org/projects/package-flow3/issues?query_id=74
* for alpha14 to http://forge.typo3.org/projects/package-flow3/issues?query_id=148
"
14064,Getting Started,Bug,"",New,Should have,Getting Started tutorial shouldn't use objectFactory,Jacob Floyd,"",2011-12-14 17:44,Content / Instructions,"",2011-03-26,"","",0,2011-03-26 06:06,"","",2765250,"","http://flow3.typo3.org/documentation/tutorials/getting-started/gettingstarted.controller/

The setup controller uses the objectFactory is an ""undefined property"" because it was removed in alpha 8:
http://wiki.typo3.org/FLOW3_1.0.0_alpha8

Please update the code sample to reflect the change in FLOW3."
28409,Getting Started,Task,"",Resolved,Must have,Update documentation to match the current master,Thomas Layh,Thomas Layh,2011-08-16 05:00,"","",2011-07-23,"","",100,2011-07-23 06:03,"","",193000,"",In preparation the documentation for the Getting Started tutorial has to be updated to match the current master.
3111,FluidBackporter,Task,"",New,Should have,Unit tests should be backported too!,Bastian Waidelich,"",2010-10-20 05:46,"","",2009-04-17,"","",0,2009-04-17 04:00,"","",14950,"","To ensure, backporting did not introduce bugs, unit tests should be backported too (where possible)"
3250,FluidBackporter,Bug,"",New,Should have,Translation of form.submit,Sebastian Fischer,"",2010-10-20 05:46,"","",2009-05-08,"","",0,2009-05-08 13:03,"","",2699200,"","Currently its impossible to translate form.submit

<f:form.submit><f:translate key=""lang_submit""/></f:form.submit>

This construct doesn't work. And in viewhelpertest is no matching example given. And no $this->renderChildren(); is given in SubmitViewHelper.php"
39154,FluidBackporter,Bug,"",Resolved,Should have,use interface for RenderingContext instead of concrete class,Tymoteusz Motylewski,"",2013-02-19 08:30,"","",2012-07-21,"","",100,2012-07-21 07:26,"","",719550,"","right now backporter adds
<pre>
$this->setRenderingContext($this->objectManager->create(\'Tx_Fluid_Core_Rendering_RenderingContext\'));
</pre>
to TemplateView.php file.
But should use 'Tx_Fluid_Core_Rendering_RenderingContextInterface'

"
39163,FluidBackporter,Bug,"",New,Should have,resolveDefaultEncoding with wrong fallback,Tymoteusz Motylewski,"",2012-07-21 10:31,"","",2012-07-21,"","",0,2012-07-21 10:31,"","",720000,"","Since TYPO3 4.7 the forceCharset configuration is deprecated. The class Tx_Fluid_Core_Compiler_AbstractCompiledTemplate
still uses the value of the localconf.php ($GLOBALS['TYPO3_CONF_VARS']['BE']['forceCharset']).
This patch removes this handling and always set UTF-8 if no default charset is set.

Related to Extbase fluid issue: #37929"
43073,FluidBackporter,Task,"",New,Should have,Remove TOKENS replacement  for templates fallbacks,Marc Bastian Heinrichs,"",2012-11-18 08:21,"","",2012-11-18,"","",0,2012-11-18 08:21,"","",907700,"",""
44676,FluidBackporter,Bug,"",Resolved,Should have,Synch fluid backporter with TYPO3 CMS 6.0 and Flow 1.1,Tymoteusz Motylewski,Tymoteusz Motylewski,2013-02-19 08:30,"","",2013-01-20,"","",100,2013-01-20 16:47,"","",987400,"",Fluid backported needs to be updated to reflect changes in CMS and Flow (e.g. namespaces)
51843,FluidBackporter,Feature,"",Resolved,Should have,Add Fluid V2 compatibility layer,Tymoteusz Motylewski,Tymoteusz Motylewski,2013-09-10 04:30,"","",2013-09-09,"","",100,2013-09-09 04:01,"","",1340050,"",Fluid backporter should be v1 and v2 compatible (based on the version switch).
3677,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,embed.javaScript,Steffen Ritter,"",2013-07-17 06:06,"","",2009-06-16,"","",0,2009-06-16 02:10,"","",2894050,"",No,"","Hi,
if you wanna put Inline JS into your fluid template your validation may fail if you lack the CDATA Section.

If you wanna call internal ViewHelpers in JS you cannot set CDATA manually in the template

--> Need for a ViewHelper

Attached is a ViewHelper I'm currently using and satisfying this.

Turns
<pre>
<f:js>
	Ext.get('BezirkeSearchField').on('keypress', function(){
		BezirkeAjaxSearch.delay(500); 
	});
	Ext.Ajax.url = '<f:uri.action action=""ajax"" />';
</f:js>
</pre>

into
<pre>

<script type=""text/javascript"">
	/* <![CDATA[ */

	Ext.get('BezirkeSearchField').on('keypress', function(){
		BezirkeAjaxSearch.delay(500); 
	});
	Ext.Ajax.url = '...?tx_rsbezirke_pi1%5Baction%5D=ajax&tx_rsbezirke_pi1%5Bcontroller%5D=Street';

	/* ]]> */
</script>


</pre>

It's pretty simple...
Thanks for taking care.

regards

Steffen"
5948,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,join,Martin Kutschker,"",2010-10-20 05:53,"","",2010-01-10,"","",0,2010-01-10 04:41,"","",2894000,"","","","Sometimes you want to concatenate elements as a comma separated list. Or maybe you want to put the elements in different lines by <br>.

The attached file implements this feature:

Shortest possible syntax:

<f:join each=""{0: 'apple', 1: 'banana'}"" by="" and "" />

Typical syntax:

<f:join each=""{0: 'apple', 1: 'banana'}"" as=""fruit"" by="" and "" >{fruit}</f:join><br>

Long syntax:

<f:join each=""{0: 'apple', 1: 'banana'}"" as=""fruit"">
 <f:item>{fruit}</f:item>
 <f:by> and </f:by>
</f:join>

The necessary ""item"" and ""by"" view helpers are similar to ""then"" and ""else""."
5949,Fluid - ViewHelper - Incubator,Suggestion,"",Needs Feedback,Could have,comment,Laurent Foulloy,"",2010-10-20 05:53,"","",2010-01-10,"","",0,2010-01-10 10:18,"","",2893950,"","","","A CommentViewHelper could be added to the standard distribution.

/**
 *
 * @param boolean If true the comment should be displayed
 * @return string Either the comment or a null string
 */
 public function render($show = FALSE) {
    if ($show) {
      return $this->renderChildren();
    } else {
      return '';
    }
 }

"
6007,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,form.dateTextbox,Nathan L,"",2010-10-20 05:53,"","",2010-01-13,"","",0,2010-01-13 10:59,"","",2893900,"","","","This could maybe be integrated into the textbox element instead of the way I did it in the attached view helper.

The textbox view helper could detect if the property is of type DateTime and then look for a format attribute.


"
6301,Fluid - ViewHelper - Incubator,Suggestion,"",Closed,Could have,form.select: Possibility to add an emptyOption,Susanne Moog,"",2013-09-17 03:47,"","",2010-02-01,"","",0,2010-02-01 10:52,"","",2893850,"",No,"","It would be nice to have an emptyOption as attribute for the f:form.select view helper. 

So you could write 

<f:form.select property=""category"" options=""{categories}""
optionLabelField=""name"" size=""1"" id=""category"" emptyOption=""- none -"" />

and generate:
<select name=""category"" size=""1"" id=""category"">
<option value="""">- none -</option>
<option value=""cat1"">cat1</option>
<option value=""cat2"">cat2</option>
<option value=""cat3"">cat3</option>
</select>


I implemented it with adding in selectViewHelper lines 210 ff (FLOW3 a7 version) these lines:
		if ($this->arguments->hasArgument('emptyOption')) {
			$options = array('' => $this->arguments['emptyOption']) + $options;
		}

and registering it in the initializeArguments method:
$this->registerArgument('emptyOption', 'string', 'If specified, an empty option will be added with the given string as label.');

I can't currently provide a real patch, as I have no svn version here, sorry :("
6327,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,page.title,Nathan L,"",2014-06-18 05:36,"","",2010-02-03,"","",0,2010-02-02 22:58,"","",2893800,"","","","I thought it might be nice to be able to set a page title.

<f:page.title>{blog.name}</f:page.title>

Arguments:

mode
glue 
display

Mode has three potential values:  
replace  - overwrite the existing page title.  This is the default.
append - add the value to the end of the existing title
prepend - add the value to the beginning of the existing title

glue is the string to use if the value is append or prepend.

display has two potential values:
none - meaning the viewHelper renders nothing in the template.
render - means that the tag will render it's children.  This way you could use it in the context of an h1 tag like this:

<h1><f:page.title display=""render"">{blog.title}</f:page.title></h1>
"
6459,Fluid - ViewHelper - Incubator,Feature,"",Closed,Could have,Loop information inside a For loop,Marc Neuhaus,"",2010-10-20 05:53,"","",2010-02-13,"","",0,2010-02-13 14:45,"","",2893750,"","","","In the past i used the template engine h2o. One thing about the For loop i liked was the special var {loop} which was available in For loop which contains some information about the loop like:
*first
*last
*odd
*even
*current
*length
http://wiki.github.com/speedmax/h2o-php/built-in-tags

i made some changes to the ForViewHelper which adds this behavior. Would be cool if you could integrate it."
6526,Fluid - ViewHelper - Incubator,Suggestion,"",Needs Feedback,Should have,cdata,Nils Blattner,"",2010-10-20 05:53,"","",2010-02-19,"","",0,2010-02-19 10:34,"","",2893700,"","","","Simple, yet essential ViewHelper if you want to print out CData content (as fluid removes the CDATA start/end tags and just prints the content).

<?php

/*                                                                        *
 * This script is part of the TYPO3 project - inspiring people to share!  *
 *                                                                        *
 * TYPO3 is free software; you can redistribute it and/or modify it under *
 * the terms of the GNU General Public License version 2 as published by  *
 * the Free Software Foundation.                                          *
 *                                                                        *
 * This script is distributed in the hope that it will be useful, but     *
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHAN-    *
 * TABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General      *
 * Public License for more details.                                       *
 *    */

/**
 * @package Fluid
 * @subpackage ViewHelpers
 * @version $Id: CropViewHelper.php 1734 2009-11-25 21:53:57Z stucki $
 */

/**
 * Use this Helper if you need to print <![CDATA[ ]].
 *
 * @version $Id:$
 * @license http://opensource.org/licenses/gpl-license.php GNU Public License, version 2
 * @scope prototype
 */
class Tx_CabagSteps_ViewHelpers_CdataViewHelper extends Tx_Fluid_Core_ViewHelper_AbstractViewHelper {

    /**
     * Render the CDATA content.
     *
     * @return string CDATA comment
     * @author Nils Blattner <nb@cabag.ch>
     */
    public function render() {
        return '<![CDATA[' . $this->renderChildren() . ']]>';
    }
}


?> "
7508,Fluid - ViewHelper - Incubator,Suggestion,"",Needs Feedback,Should have,form.noFunctionButton,Soren Malling,"",2010-10-20 05:53,"","",2010-04-28,"","",0,2010-04-28 02:37,"","",2893650,"","","","I really think Fluid needs a ""no function"" button

http://w3schools.com/tags/tag_button.asp

This button could be used a long with ex. a Javascript Framework, to customize a function when the button is clicked.

Ex:

HTML:
<form>
<input type=""button"" name=""showInfo"" ud=""showInfo"" />
</form>

JS (ExtJS):
Ext.get('showInfo').on('click', function() {
  Ext.get('infoBox').fadeIn();
});

If accepted I will take the time to write the viewhelper"
7533,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,form.select: building option keys with viewhelper not possible,Marc Bastian Heinrichs,"",2011-07-25 13:58,"","",2010-04-29,"","",0,2010-04-29 10:00,"","",2893600,"","","","The fluid parser doesn't support using viewhelpers as array keys, so 
the following would not get parsed
<pre>
<f:form.select name=""filter"" id=""filterbox"" options=""{ 
    {f:uri.action(action: 'index', arguments:{filter: 'health'})}:'{f:translate(key: \'dep.health\')}' 
}""> 
    <select> 
        <option value="""">###dummy###</option> 
    </select> 
</f:form.select>
</pre>

Feature-request:
Introducing an new argument optionsValuesArray to map the options array keys to other values.
Example:

<pre>
<f:form.select name=""filter"" id=""filterbox"" options=""{ 
    health: '{f:translate(key: \'dep.health\')}' 
}"" optionsValuesArray =""{ 
    health: '{f:uri.action(action: \'index\', arguments: {filter: \'health\'})}'
}""> 
    <select> 
        <option value="""">###dummy###</option> 
    </select> 
</f:form.select>
</pre>"
7653,Fluid - ViewHelper - Incubator,Suggestion,"",Resolved,Could have,calculation,Nikolas Hagelstein,Bastian Waidelich,2010-12-07 11:41,"","",2010-05-05,"","",20,2010-05-05 08:21,"","",2893550,"","","","Something like:
{whatever - 1} or {operand1 - operand2} would be great.

A calculation viewhelper would be sufficient as well.

e.g. :
<f:calculate operand1=""{something}"" operand2=""{somethingElse}"" operator=""-"" />

"
7654,Fluid - ViewHelper - Incubator,Suggestion,"",Rejected,Could have,loop,Nikolas Hagelstein,"",2010-10-20 05:53,"","",2010-05-05,"","",0,2010-05-05 08:23,"","",2893500,"","","","e.g. :

<f:Loop from=""1"" to=""{shoppingCartItem.quantity}"" as=""loopIndex"" step=""+1"">
</f:Loop>

Could take step argument into account."
8779,Fluid - ViewHelper - Incubator,Suggestion,"",Accepted,Should have,format.filesize,Thomas Deinhamer,"",2012-08-29 10:44,"","",2010-07-09,"","",0,2010-07-09 15:01,"","",2893450,"","","","Attached is a basic filesize formatting viewhelper for TYPO3 v4.
It's still missing some functions like the ability to disable
the unit suffix. Also localization features are missing, e.g.
defining the symbol which should be used as comma or thousands separator.

Feedback is highly appreciated!"
8828,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,format.telephoneNumber,Thomas Deinhamer,"",2011-07-25 13:58,"","",2010-07-12,"","",0,2010-07-12 15:24,"","",2893400,"","","","First version of the telephone format viewhelper.
Have a look at the file; the code is quite straightforward.

What I'm curious about is a nice way to implement a way
for localized formats of phone numbers.

In other words: The syntax/format of a phone number varies
from country to country, so there could be maybe a way to
have default ""presets"" of the function's arguments for
every country or something. Especially thinking about
the 'segmentSeparator' and 'directDialNumberSeparator', etc.
(Maybe even for the segmentLength and the countryCodePrefix.)

Please give feedback! =o)"
8882,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,AddToHtmlHead,Adrian Föder,"",2012-07-16 05:30,"","",2010-07-15,"","",0,2010-07-15 08:36,"","",2893350,"","","","Just a suggestion and I don't know if it does exist already in another case; but here's a ViewHelper i've just written for a custom project:

<pre>
	/**
	 * Render the head addition
	 *
	 * @param string $key the key for additionalHeaderData; useful for overriding
	 * @return void
	 */
	public function render($key = NULL) {
		$textToAdd = $this->renderChildren();

		if($key !== NULL) {
			$GLOBALS['TSFE']->additionalHeaderData[$key] = $textToAdd;
		} else {
			$GLOBALS['TSFE']->additionalHeaderData[] = $textToAdd;
		}
	}

</pre>

Usage:
<pre>
<solpersons:addToHtmlHead>
	<link rel=""stylesheet"" type=""text/css"" href=""{f:uri.resource(path:'Styles/default.css')}"" />
</solpersons:addToHtmlHead>

<div class=""tx-solpersons-pi1"">
	<f:render section=""main"" />
</div>
</pre>

...or alternatively
<pre>
<solpersons:addToHtmlHead key=""tx_solpersons_pi1_headCSS"">
	<link rel=""stylesheet"" type=""text/css"" href=""{f:uri.resource(path:'Styles/default.css')}"" />
</solpersons:addToHtmlHead>
</pre>


Thanks for reading :)


Best,
Adrian"
8901,Fluid - ViewHelper - Incubator,Suggestion,"",Needs Feedback,Should have,translate,Karol Gusak,Karol Gusak,2011-07-25 13:58,"","","","","",50,2010-07-16 07:35,"","",2893300,"","","","The TranslateViewHelper is meant to be used for message translation in Fluid Templates.

It has two modes of work:
* 'originalLabel' - the source label is used as a key, for which translated label is searched
* 'id' - key ID is given in order to find translation

Simple examples:
<pre>
<f:translate mode=""originalLabel"" source=""main"">Untranslated label</f:translate>
<f:translate mode=""id"" source=""main"">user.unregistered</f:translate>
</pre>

This ViewHelper supports plural forms, and parameters (values) substitution and formating. It is a wrapper for _\F3\FLOW3\I18n\Translator_ class."
9051,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,DateTimeViewHelper,Christian Zenker,"",2012-01-10 05:28,"","",2010-07-27,"","",0,2010-07-27 09:32,"","",2893250,"",No,"","The current DateViewHelper has no support for localized dates so I created a version that uses strftime() to render strings.

Additionally it supports UNIX-timestamps, dates that are understood by strtotime() (i.e. ""2010-07-27"") and DateTime-objects.

And you can also calculate dates relative to the given one. This way you can add days, weeks, months or whatsoever or get the first day of a week, a month or a year.

Keen on hearing your opinion.

source:DateTimeViewHelper/_Extension/trunk"
9077,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,format.numberChoice,Christian Zenker,"",2010-10-20 05:53,"","",2010-07-29,"","",0,2010-07-29 07:19,"","",2893200,"","","","This ViewHelper is a port of Symfony's <code>format_number_choice()</code> helper.

You can use it to render different strings depending on a given number. In the simplest of cases it can be used to have correct singulars and plurals. It also works well with localized strings.

Example:

<pre><code><f:format.numberChoice number=""42"" arguments=""{number:42}"">[0] no eggs|[1] 1 egg|[2,+Inf] ###number### eggs</f:format.numberChoice></code></pre>
will output 
<pre><code>42 eggs</code></pre>"
9179,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Tx_Fluid_ViewHelpers_Form_RteViewHelper ,Frank Frewer,"",2013-05-23 10:00,"","",2010-08-06,"","",0,2010-08-06 05:29,"","",2893150,"",No,"","With the attached RteViewHelper.php (Tx_Fluid_ViewHelpers_Form_RteViewHelper) it is possible to render a form field with the rtehtmlarea. 

Due to the fact that rtehtmlarea needs to make some modifications to the form tag (attribute ""onsubmit"") and adds some js before and beyond the form, it is necessary to modify the FormViewhelper.php (see attached patch_FormViewHelper.diff based on FormViewHelper.php in https://svn.typo3.org/TYPO3v4/CoreProjects/MVC/fluid/trunk/ Revision 2522).
With this modifications the FormViewHelper gets the needed JS for all Rte form fields from the viewHelperVariableContainer which is filled in by the RteViewHelper and adds this to the returned content.

I'm working with extbase/fluid just since two weeks. So I hope my suggestion matches your coding guidelines. If not, please tell me, what could be better.

I didn't attach now files for v5. If you are interested i can do that later.

Note:
In conjunction with extensions based an extbase / fluid the RTE produces tags with ID's which are not valid:
<div id=""pleasewaittx_meyxt_pi1[myobject][myfield] ...
<div id=""editorWraptx_meyxt_pi1[myobject][myfield] ...
<textarea id=""RTEareatx_meyxt_pi1[myobject][myfield] ...

The W3C Markup Validator says:
character ""["" is not allowed in the value of attribute ""id"" 

This happens in backend and frontend.

I reported this already to the bugtracker: http://bugs.typo3.org/view.php?id=15326"
9486,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,breadcrumb,Soren Malling,"",2011-07-25 13:57,"","",2010-08-28,"","",0,2010-08-28 15:02,"","",2893100,"","","","A breadcrumb viewhelper could be made using the cObj viewhelper, but that will require the designer/layouter to know get the needed TypoScript written.

Please comment on the example below

<pre>
<f:breadcrumb separator=""-"" linkToCurrent=""true/false"" linkToPrevious=""true/false"" />
</pre>

* separator = Used to separate the links
* linkToCurrent = Should the text for the current page link to the current page
* linkToPrevious = Should the text for previous pages link to the pages

Should it use another name than breadcrumb?"
14039,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Backend ViewHelper Tx_Sitemgr_ViewHelper_Be_Doc_AddCssFileViewHelper,Kay Strobach,"",2011-03-25 04:19,"","",2011-03-25,"","",0,2011-03-25 02:15,"","",2893050,"","","","Hi guys,

i have developed some small but usefully viewHelpers for Be Development.
You can find them here on forge:
http://forge.typo3.org/projects/extension-sitemgr/repository/show/trunk/Classes/ViewHelper/Be/Doc

As told on the newsgroup typo3v4mvc i will create and issue for every single viewHelper.

This ViewHelper allows you to add a css file with the pagerenderer.

Thanks for all your work.
Regards
Kay"
14040,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Tx_Sitemgr_ViewHelper_Be_Doc_AddInlineLanguageLabelFileViewHelper,Kay Strobach,"",2011-03-25 04:19,"","",2011-03-25,"","",0,2011-03-25 02:16,"","",2893000,"","","","Hi guys,

i have developed some small but usefully viewHelpers for Be Development.
You can find them here on forge:
http://forge.typo3.org/projects/extension-sitemgr/repository/show/trunk/Classes/ViewHelper/Be/Doc

As told on the newsgroup typo3v4mvc i will create and issue for every single viewHelper.

This ViewHelper allows you to add an ll-file to the be as js.

Thanks for all your work.
Regards
Kay"
14041,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Tx_Sitemgr_ViewHelper_Be_Doc_AddInlineSettingArrayViewHelper,Kay Strobach,"",2011-03-25 04:19,"","",2011-03-25,"","",0,2011-03-25 02:17,"","",2892950,"","","","Hi guys,

i have developed some small but usefully viewHelpers for Be Development.
You can find them here on forge:
http://forge.typo3.org/projects/extension-sitemgr/repository/show/trunk/Classes/ViewHelper/Be/Doc

As told on the newsgroup typo3v4mvc i will create and issue for every single viewHelper.

This ViewHelper allows you to add settings to the be as js.

Thanks for all your work.
Regards
Kay"
14042,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Tx_Sitemgr_ViewHelper_Be_Doc_AddJsFileViewHelper,Kay Strobach,"",2011-03-25 04:20,"","",2011-03-25,"","",0,2011-03-25 02:18,"","",2892900,"","","","Hi guys,

i have developed some small but usefully viewHelpers for Be Development.
You can find them here on forge:
http://forge.typo3.org/projects/extension-sitemgr/repository/show/trunk/Classes/ViewHelper/Be/Doc

As told on the newsgroup typo3v4mvc i will create and issue for every single viewHelper.

This ViewHelper allows you to add a js to the be with the pagerenderer.

Thanks for all your work.
Regards
Kay"
14043,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Tx_Sitemgr_ViewHelper_Be_Doc_AddJsFooterFileViewHelper,Kay Strobach,"",2011-03-25 04:20,"","",2011-03-25,"","",0,2011-03-25 02:19,"","",2892850,"","","","Hi guys,

i have developed some small but usefully viewHelpers for Be Development.
You can find them here on forge:
http://forge.typo3.org/projects/extension-sitemgr/repository/show/trunk/Classes/ViewHelper/Be/Doc

As told on the newsgroup typo3v4mvc i will create and issue for every single viewHelper.

This ViewHelper allows you to add a js file to the footer of the page.

Thanks for all your work.
Regards
Kay"
26929,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,Inline translation,Adrian Föder,"",2011-07-25 13:54,"","",2011-05-20,"","",0,2011-05-20 05:33,"","",122850,"","","","Hi folks,

in usual project context, labels and strings in templates neither can be really re-used nor an abstract, generic ""variable name"" for each string can be found.
So I would suggest some kind of ""inline translation"" View Helper, it uses an appoach I used to have use of in earlier ""pibase""-projects.

It would read simply the following:

<pre>
{f:inlineTranslate(values:{def:'My translation',de:'Meine Übersetzung',fr:'Mon translation(?)'})}
</pre>

This would reduce update overhead because translations that are anyway only used once in a specific context do not have to be updated in two files (the template file where the key is used and the locallang-xml-file).


Consider the situation where the customer wants to change the intro text of the login screen from ""Please login using your credentials"" to ""Please login using your user name and password"".
With ""the old style"" you have to look at the template file, obtain the key, switch to the locallang file and correct it in each language. And maybe the change of the textual value should result in changing the key also; changing the key could result in conflicts with existing ones...


What do you think?

I just wrote a project specific view helper that could be ported; I would be honoured to find it in the core."
28013,Fluid - ViewHelper - Incubator,Feature,"",Rejected,Should have,ViewHelper: CdataViewHelper,Jonas Felix,"",2011-07-11 05:12,"","",2011-07-09,"","",0,2011-07-09 04:30,"","",173600,"","","","This is a viewhelper suggested for the upcoming viewhelper incubator.

<pre>
{namespace cabagext=Tx_CabagExtbase_ViewHelpers_CdataViewHelper}

<cabagext:cdata>
Data you need CDATA
</cabagext>

</pre>

Output:

<![CDATA[

...your data...

]]>"
28021,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,ViewHelper: raw output,Jonas Felix,"",2011-07-25 13:55,"","",2011-07-09,"","",0,2011-07-09 05:06,"","",174000,"","","","This is a viewhelper suggested for the upcoming viewhelper incubator.

{namespace cabagext=Tx_CabagExtbase_ViewHelpers}

<cabagext:raw>
{funnyvariable}
raw outputed data - you need that sometimes
</cabagext>

Output:

Raw output of a variable... (ask Nils and Dimitri why it's needed...)

"
28038,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,ViewHelper: Date2CalViewHelper,Jonas Felix,"",2011-07-25 13:55,"","",2011-07-09,"","",0,2011-07-09 10:16,"","",174800,"","","","Adds a date2cal element into your fluid:

<pre>
{namespace cab=Tx_JamesServices_ViewHelpers}

<cab:Date2Cal id=""wishedStartDateTime"" prefix=""tx_jamesservices"" name=""tx_jamesservices_pi1[newOrder][singleorders][{service.uid}][wishedStartDateTime]"" />

</pre>

output -> calender field"
28101,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,SetBrowserTitleViewHelper,Mike Streibl,"",2011-07-25 13:55,"","",2011-07-12,"","",0,2011-07-12 02:33,"","",177950,"","","","You can overwrite the browsertitle with variables from your extension.

<pre>
<?php
class Tx_DlExt_ViewHelpers_SetBrowserTitleViewHelper extends Tx_Fluid_Core_ViewHelper_AbstractConditionViewHelper {
	
	/**
	 *	@param string $browsertitle The name of browser title
	 */
	public function render( $browsertitle ) {
		$GLOBALS['TSFE']->page['title'] = $browsertitle;
	}
}
</pre>

<pre>
{namespace dl=Tx_DlExt_ViewHelpers}
<dl:setBrowserTitle browsertitle=""{myVar} in {myVar2} - My Title""/>

</pre>"
28102,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,IfContains,Dimitri Koenig,"",2011-07-25 13:53,"","",2011-07-12,"","",0,2011-07-12 03:45,"","",178000,"","","","<c:ifContains value=""15"" in=""{entry.feGroup}"">

Searches for value in entry.feGroup"
28437,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Viewhelper to escape quotes and remove newlines for Javascript,Marco Huber,"",2011-07-25 13:55,"","",2011-07-24,"","",0,2011-07-24 17:31,"","",194250,"","","","Removes linebreaks and escapes ' (or "").
By default ' is replaced by \', but you can set the argument 
quote to say that all "" should be replaced by \"".

As soon as I'm allowed to I will commit it to the repository.

= Examples =

<code>
<script type=""text/javascript"">
var myString = '<f:jsString>this is a string<br />
perhaps it has a linebreak<br />
or it has a ' and would break the Javascript!</f:jsString>';
</script>
</code>
<output>
<script type=""text/javascript"">
var myString = 'this is a string<br />perhaps it has a linebreak<br />or it has a \' and would break the Javascript!';
</script>
</output>

<code>
<script type=""text/javascript"">
var myString = ""<f:jsString quote='\""'>this is a string and the "" should be escaped</f:jsString>"";
</script>
</code>
<output>
<script type=""text/javascript"">
var myString = ""this is a string and the \"" should be escaped"";
</script>
</output>"
28438,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,Viewhelper to add Javascript to <head>,Marco Huber,"",2012-07-16 05:30,"","",2011-07-24,"","",0,2011-07-24 17:34,"","",194300,"","","","Put your Javascript to the <head>

As soon as I'm allowed to I will commit it to the repository.

= Examples =

<code>
   <f:js>
      var myJavascriptVar;
      myJavascriptFunction();
   </f:js>
</code>
<output>
   <script type=""text/javascript"">
      var myJavascriptVar;
      myJavascriptFunction();
   </script>
</output>

<code>
   <f:js path=""path/to/my/javascript.js"" />
</code>
<output>
   <script type=""text/javascript"" src=""path/to/my/javascript.js""></script>
</output>"
28859,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,Implode ViewHelper,Alex Kellner,"",2011-08-09 05:36,"","",2011-08-09,"","",0,2011-08-09 04:23,"","",214950,"",Yes,"","I really often need a commaseparated list of subobjects in relation to my current object.
No problem with a foreach loop in fluid, but how to delete the last "",""?

Could be fixed with a viewhelper - e.g.:
<pre>
public function render($array, $field, $glue) {
	$string = '';
	foreach ($array as $object) {
		$string .= $object->{'get' . ucfirst($field)}(); // getTitle()
		$string .= $glue;
	}
	return substr($string, 0, (-1 * strlen($glue)));
}
</pre>"
29294,Fluid - ViewHelper - Incubator,Suggestion,"",New,Could have,IncreaseValue ViewHelper,David Greiner,"",2011-08-27 08:08,"","",2011-08-27,"","",0,2011-08-27 08:08,"","",236250,"",No,"","This ViewHelper increases a value in foreach-loops. 

<pre>

    protected $increasedValue;
    
    /**
     *
     * @param int $value 
     * @validate $value IntegerValidator
     * @return int
     */
    public function render($value) {
        
        $this->increasedValue = $this->increasedValue+$value;
        return $this->increasedValue;
    }
}
</pre>

"
37464,Fluid - ViewHelper - Incubator,Bug,"",New,Could have,ImageViewhelper with params,Mike Streibl,"",2014-02-18 03:46,"","",2012-05-24,"","",0,2012-05-24 08:13,"","",635950,"",No,"","<pre>
<?php

/*                                                                        *
 * This script belongs to the FLOW3 package ""Fluid"".                      *
 *                                                                        *
 * It is free software; you can redistribute it and/or modify it under    *
 * the terms of the GNU Lesser General Public License as published by the *
 * Free Software Foundation, either version 3 of the License, or (at your *
 * option) any later version.                                             *
 *                                                                        *
 * This script is distributed in the hope that it will be useful, but     *
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHAN-    *
 * TABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser       *
 * General Public License for more details.                               *
 *                                                                        *
 * You should have received a copy of the GNU Lesser General Public       *
 * License along with the script.                                         *
 * If not, see http://www.gnu.org/licenses/lgpl.html                      *
 *                                                                        *
 * The TYPO3 project - inspiring people to share!                         *
 *                                                                        */


class Tx_DlExtlib_ViewHelpers_ImageViewHelper extends Tx_Fluid_ViewHelpers_ImageViewHelper {
	/**
	 * Resizes a given image (if required) and renders the respective img tag
	 * @see http://typo3.org/documentation/document-library/references/doc_core_tsref/4.2.0/view/1/5/#id4164427
	 *
	 * @param string $src
	 * @param string $width width of the image. This can be a numeric value representing the fixed width of the image in pixels. But you can also perform simple calculations by adding ""m"" or ""c"" to the value. See imgResource.width for possible options.
	 * @param string $height height of the image. This can be a numeric value representing the fixed height of the image in pixels. But you can also perform simple calculations by adding ""m"" or ""c"" to the value. See imgResource.width for possible options.
	 * @param integer $minWidth minimum width of the image
	 * @param integer $minHeight minimum height of the image
	 * @param integer $maxWidth maximum width of the image
	 * @param integer $maxHeight maximum height of the image
	 * @param string $params
	 *
	 * @return string rendered tag.
	 * @author Sebastian Böttger <sboettger@cross-content.com>
	 * @author Bastian Waidelich <bastian@typo3.org>
	 * @author Mike Streibl <m.streibl@die-lobby.de>
	 */
	public function render($src, $width = NULL, $height = NULL, $minWidth = NULL, $minHeight = NULL, $maxWidth = NULL, $maxHeight = NULL, $params = NULL) {
		
		$setup = array(
			'width' => $width,
			'height' => $height,
			'minW' => $minWidth,
			'minH' => $minHeight,
			'maxW' => $maxWidth,
			'maxH' => $maxHeight,
			'params' => $params
		);
		$imageInfo = $this->contentObject->getImgResource($src, $setup);
		$imageInfo[3] = t3lib_div::png_to_gif_by_imagemagick($imageInfo[3]);
		$imageSource = $GLOBALS['TSFE']->absRefPrefix . t3lib_div::rawUrlEncodeFP($imageInfo[3]);
		
		return parent::render($imageSource, $width, $height, $minWidth, $minHeight, $maxWidth, $maxHeight );
		
	}
	

}

?>
</pre>


Example:
<pre>
{namespace vh=Tx_DlExtlib_ViewHelpers}

<vh:image src=""uploads/pics/{user.profileImage}"" alt=""{user.lastName}"" height=""80c"" width=""65"" params=""-colorspace GRAY""/>


</pre>"
46218,Fluid - ViewHelper - Incubator,Suggestion,"",New,Should have,ImageViewHelper with comma separated images and imageLinkWrap,Andrea Schmuttermair,"",2014-05-19 03:52,"","",2013-03-12,"","",100,2013-03-12 15:03,"","",1062100,"",No,"","Hi,

This ImageViewHelper can process image lists as they come from database: image1.jpg,image2.jpg

It just calls the standard ImageViewHelper for every image.

Then you can add a ImageLinkWrap config array, so you can use JSWindow.

And every image can be wrapped. 

Example:
<pre>
In Controller: 
$imageLinkWrap = array(
        'JSwindow' => 1,
        'JSwindow.' => array(
            'newWindow' => '0',
            'expand' => '17,20',
        ),
        'enable' => 1,
);
$this->view->assign('images', $item->getImages());
$this->view->assign('imageLinkWrap', $imageLinkWrap);

In Fluid Template: 
<myviewhelper:imageLinkWrap srcList=""{images}"" srcPath=""uploads/tx_myextension/"" alt="""" width=""120m"" height=""120m"" imageLinkWrap=""{imageLinkWrap}"" wrap=""<li>|</li>"" />
</pre>


View Helper Code:

<pre>
class Tx_MyExtension_ViewHelpers_ImageLinkWrapViewHelper extends Tx_Fluid_ViewHelpers_ImageViewHelper {
    
    /**
     * Extends ImageViewHelper with: 
     * - image lists (comma-separated image filenames)
     * - image wrap for every list item
     * - imageLinkWrap TypoScript
     *
     * @param string $srcList image list like: image1.jpg,image2.jpg (of course only one image is possible, too!)
     * @param string $srcPath image upload path
     * @param string $width width of the image. This can be a numeric value representing the fixed width of the image in pixels. But you can also perform simple calculations by adding ""m"" or ""c"" to the value. See imgResource.width for possible options.
     * @param string $height height of the image. This can be a numeric value representing the fixed height of the image in pixels. But you can also perform simple calculations by adding ""m"" or ""c"" to the value. See imgResource.width for possible options.
     * @param integer $minWidth minimum width of the image
     * @param integer $minHeight minimum height of the image
     * @param integer $maxWidth maximum width of the image
     * @param integer $maxHeight maximum height of the image
     * @param array $imageLinkWrap TypoScript imageLinkWrap TypoScript Configuration array
     * @param string $wrap a wrap for every image in the list 
     *
     * @return string rendered tag.
     * @author Andrea Schmuttermair <spam@schmutt.de>
     */
    public function render($srcList, $srcPath, $width = NULL, $height = NULL, $minWidth = NULL, $minHeight = NULL, $maxWidth = NULL, $maxHeight = NULL, $imageLinkWrap = NULL, $wrap = """") {

        $imageArray = explode("","", $srcList);
        
        $output = """";
        foreach($imageArray as $image) {
            
            //create image with fluid image view helper
            $imagetag = parent::render($srcPath . $image, $width, $height, $minWidth, $minHeight, $maxWidth, $maxHeight );
            
            //process imageLinkWrap
            $imageOutput = $imagetag;
            if ($imageLinkWrap != NULL) {
                $imageOutput = $this->contentObject->imageLinkWrap($imagetag, $srcPath . $image, $imageLinkWrap);    
            }
            
            //process wrap
            if (strlen($wrap)>0) {
                $imageOutput = $this->contentObject->wrap($imageOutput,$wrap);    
            }
            $output .= $imageOutput;
            
        }
        
        return $output;
    }
  

  
}
</pre>"
34725,TYPO3.FormBuilder,Bug,"",Closed,Must have,Fatal error:  ImageTypeValidator not found,Nico de Haen,Bastian Waidelich,2012-03-15 07:35,"","",2012-03-10,"","",0,2012-03-10 10:55,"","",501700,"","I'm not sure if bug reports are already welcome in this early state. 
There seems to be a missing Validator class in the latest git revision.

<pre>
PHP Fatal error:  Class 'TYPO3\\Media\\Validator\\ImageTypeValidator' not found in /www/flow3.local/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_Form_FormElements_ImageUpload_Original.php on line 26, referer: http://flow3.local/typo3.formbuilder/editor/index?formPersistenceIdentifier=bildForm
</pre>"
36112,TYPO3.FormBuilder,Bug,"",Resolved,Must have,change filename spelling corresponig to #33705,Vaclav Janoch,Bastian Waidelich,2012-05-03 12:42,"","",2012-04-15,"","",100,2012-04-15 13:01,"","",570000,"","Some filenames an direcoty names have been changed in the TYPO3.FLOW3 package. All references to the changed parts has to be adjusted TYPO3.FormBuilder as well.

e.g.
\TYPO3\FLOW3\MVC -> \TYPO3\FLOW3\Mvc

See Task #33705"
36823,TYPO3.FormBuilder,Bug,"",Resolved,Must have,Undefined class constant 'PATTERN_IDENTIFIER',Wouter Wolters,Bastian Waidelich,2012-05-08 12:28,"","",2012-05-03,"","",100,2012-05-03 17:17,"","",604350,"","Due to a new `Feature` in the package TYPO3.Form, the constant 'PATTERN_IDENTIFIER' is not defined anymore.
The constant is used in the FormManagerController on line 124

https://review.typo3.org/#/c/10936/
http://forge.typo3.org/issues/36722"
37444,TYPO3.FormBuilder,Bug,"",Resolved,Must have,Remove Amadeus\Somea related code,Bastian Waidelich,Robert Lemke,2013-10-21 07:53,"","",2012-05-23,"","",100,2012-05-23 12:13,"","",634950,"","http://git.typo3.org/FLOW3/Packages/TYPO3.FormBuilder.git?a=commit;h=952e7bb39ae641428c62ecfe73a3b3bd4fb42abb introduces hard-coded references to some @Amadeus\Somea\Suite\Common\Mvc\View\SomeaTemplateView@

I don't even know how it was technically possible to merge that, as Robert is not member of the project and I can't find the corresponding review request..!?"
43821,TYPO3.FormBuilder,Bug,"",Resolved,Must have,"Uri.resource view helper argument ""uri"" has been deprecated",Aske Ertmann,Bastian Waidelich,2012-12-20 11:18,"","",2012-12-10,"","",100,2012-12-10 05:37,"","",944850,"",Resources/Private/Templates/Editor/Index.html has two usages of the uri argument in 14 & 20. The argument has been deprecated in favor of support resource:// in the path argument instead.
53001,TYPO3.FormBuilder,Feature,"",New,Should have,Update FormBuilder to use Ember 1.0,Bastian Waidelich,"",2013-10-21 07:59,"","",2013-10-21,"","",0,2013-10-21 07:59,"","",1397500,"",If the FormBuilder would rely only on the latest version of Ember it would probably make it much easier to work inside a Neos module..
53042,TYPO3.FormBuilder,Bug,"",New,Should have,Preview should work on installation without vhost (with path in URL),Lukas Ciszewski,Lukas Ciszewski,2014-01-20 18:16,"","",2013-10-22,"","",0,2013-10-22 11:14,"","",1399550,"","When clicking on the preview button a new window is opened with a wrong URI.
This happens because the TYPO3.FormBuilder.Configuration.endpoints address is
used with a '/' in front as the param to window.open. When on a development installation
without a vhost, and therefore a base href with a path, the path is ignored.

Possible solution:
* make the address relative by removing the '/' in app.js:492
* let TYPO3.FormBuilder.Utility.getUri() respect the base href in the html
"
53783,TYPO3.FormBuilder,Feature,"",New,Should have,Allow assigning a preset as default preset for the Form,Lorenz Ulrich,"",2013-11-20 03:23,"","",2013-11-20,"","",0,2013-11-20 03:23,"","",1436250,"","Currently, the FormBuilder loads every form with the defaultPreset. If an element configuration is not available in the default preset, the form won't load. Therefore it would be nice if a preset could be assigned to a form and stored in the form definition.

This also needs a change in the YamlPersistenceManager of TYPO3.Form."
54239,TYPO3.FormBuilder,Task,"",New,Should have,Missing Policy.yaml,Henjo Hoeksma,"",2013-12-06 08:12,"","",2013-12-06,"","",0,2013-12-06 08:07,"","",1458900,"",The policy.yaml is missing.
34198,TYPO3.Form,Feature,"",Resolved,Should have,Skip unknown FormElements,Bastian Waidelich,Bastian Waidelich,2013-10-29 10:36,"","",2012-02-23,"","",100,2012-02-23 08:21,"","",476100,"","Currently, if a FormElement that is not specified in the current FormDefinition (e.g. current preset) an Exception is thrown.
It should be possible to skip such elements.

In the FormBuilder (rootForm.renderingOptions.previewMode == TRUE) unknown elements should be replaced by some ""MissingFormElement"" that renders some error message.
When rendering the Form it should be possible to simply skip those elements.
Possibly this could be achieved with some setting @skipUnknownFormElements@"
35969,TYPO3.Form,Bug,"",Resolved,Should have,\TYPO3\FLOW3\MVC\Web\SubRequestBuilder doesn't exist anymore,Soren Malling,Bastian Waidelich,2012-05-02 10:14,"","",2012-04-13,"","",100,2012-04-13 09:35,"","",562900,"","After the renaming/moving of classes in FLOW3, the following is causing issues in TYPO3.Form

\TYPO3\FLOW3\MVC\Web\SubRequestBuilder doesn't exist anymore.
If you need to create sub requests, do ""new ActionRequest($parentRequest)""""

Will try and submit a patch doing T3DD12"
36113,TYPO3.Form,Bug,"",Resolved,Must have,change filename spelling corresponig to #33705,Vaclav Janoch,Bastian Waidelich,2012-05-02 10:15,"","",2012-04-15,"","",100,2012-04-15 13:02,"","",570050,"","Some filenames an direcoty names have been changed in the TYPO3.FLOW3 package. All references to the changed parts has to be adjusted TYPO3.FormBuilder as well.

e.g.
\TYPO3\FLOW3\MVC -> \TYPO3\FLOW3\Mvc

See Task #33705"
36664,TYPO3.Form,Bug,"",Resolved,Should have,FormElements can't handle BackendModule Requests,Marc Neuhaus,Bastian Waidelich,2012-06-04 05:33,"","",2012-04-27,"","",0,2012-04-27 10:02,"","",596450,"","The current implementation of the Request handling only works for one getParentRequest level.
This fails in the Context of the Phoenix BackendModule because the Request is hidden deeper.

Attached is a diff to go as deep as it needs to go."
36722,TYPO3.Form,Feature,"",Resolved,Should have,Support identifiers with special characters,Marc Neuhaus,Bastian Waidelich,2012-05-04 03:43,"","",2012-04-30,"","",0,2012-04-30 09:49,"","",599350,"","Currently it isn't possible to add internal Arguments like ""__identity"" because it isn't a valid name identifier.

$page1->createElement(""__identity"", ""Foo.ContentManagement:Hidden"")

In my opinion the most logical way would be a new Method $page1->addInternalArgument(""__identity"", $id); to add elements like that.
"
36723,TYPO3.Form,Bug,"",Resolved,Should have,The action URI of a form should be equal to the request URI,Marc Neuhaus,Bastian Waidelich,2012-05-29 03:29,"","",2012-04-30,"","",100,2012-04-30 09:53,"","",599400,"","The action target for the Forms is always directed to the index action in the context of the BackendModule.

Since the Form should always have the current action as target i've attached a diff to set the actionUri in the FormViewHelper automatically.

"
36819,TYPO3.Form,Bug,"",Resolved,Should have,Element default values can't be set recursively,Bastian Waidelich,Bastian Waidelich,2012-05-08 11:54,"","",2012-05-03,"","",100,2012-05-03 12:52,"","",604150,"","Currently, if you use dots in the form element identifier in order to enable property mapping over multiple fields default values are no displayed as expected.
The reason is that the FormRuntime has no notion of ""property paths"" for default values.
So if you have a element with identifier ""user.name"", @$formRuntime['user']@ will return @NULL@ instead of @array('name' => 'some default value')@

Thanks to Marc Neuhaus for reporting:

> How to Reproduce:
> Create a form with a property like ""item.test"" and set a default value.
> The default value won't reach the textfield.

"
37725,TYPO3.Form,Bug,"",New,Should have,Set Dispatched on Request after FormRuntime run,Marc Neuhaus,"",2014-12-16 06:01,"","",2012-06-04,"","",0,2012-06-04 05:52,"","",648950,"",""
37728,TYPO3.Form,Feature,"",Resolved,Should have,Make class attributes of elements configurable,Bastian Waidelich,Bastian Waidelich,2012-07-11 05:23,"","",2012-06-04,"","",100,2012-06-04 08:44,"","",649100,"",Currently class attributes are hard coded in the provided Form Element templates. Those should be configurable so that they can be changed with a custom preset.
39034,TYPO3.Form,Feature,"",Resolved,Should have,Hidden field Form Element,Bastian Waidelich,Bastian Waidelich,2012-07-26 07:53,"","",2012-07-17,"","",100,2012-07-17 10:13,"","",713550,"","The Form package is currently missing a simple hidden field (<f:form.hidden />).
"
42562,TYPO3.Form,Bug,"",Resolved,Should have,Interrupt form rendering when redirect finisher is triggered,Martin Brüggemann,Bastian Waidelich,2013-10-29 10:36,"","",2012-10-31,"","",100,2012-10-31 10:29,"","",882650,"","There's a bug, that outputs content while a POST request is beeing processed by Flow. There should only be one redirect to the show action after the POST request has been processed. Otherwise it's very strange to see the ""old"" content after the POST data has been sent (f.e. after having added a comment but it's not there after the first redirect)."
47427,TYPO3.Form,Feature,"",Closed,Should have,missing Hooks in showForm(),Ralf Zimmermann,"",2013-10-08 07:15,"","",2013-04-22,"","",0,2013-04-22 06:00,"","",1121800,"","Hi,
i am a developer for the wt_spamshield extension.
Since TYPO3 4.6 ""form"" is rewritten. We miss Hooks to integrate wt_spamshield.
It would be great if the function showForm() in Classes/Controller/Form.php (for TYPO3 4.x) and FormController.php (for TYPO3 6.x)
could provide a Hook to manipulate the mail sending process.
I attached 2 patches for TYPO3 4.x and TYPO3 6.x"
52481,TYPO3.Form,Feature,"",Resolved,Should have,Translations for Error Message should be easily changed,Thomas Allmer,Bastian Waidelich,2013-10-29 10:36,"","",2013-10-02,"","",100,2013-10-02 11:41,"","",1371650,"","currently you have to copy
Packages\Application\TYPO3.Form\Resources\Private\Form\Layouts\Field.html

edit this line
{error -> f:translate(id: error.code, arguments: error.arguments, package: 'TYPO3.Form', source: 'ValidationErrors')}

TYPO3.Form => <Vendor.Package>


use your own layout
<pre>
TYPO3:
  Form:
    presets:
      default:
        formElementTypes:
          'TYPO3.Form:Base':
            renderingOptions:
              layoutPathPattern: 'resource://<Vendor.Package>/Private/Form/Layouts/{@type}.html'
</pre>

and THEN you can use your own xlf files in
Packages\Sites\<Vendor.Package>\Resources\Private\Translations\<language>\ValidationErrors.xlf

a simpler approach would be nice. Maybe just introduce a setting that will be used within Field.html... something like
ErrorTranslationPackage: 'TYPO3.Form'"
52777,TYPO3.Form,Feature,"",New,Should have,Support of wizards/branched forms,Daniel Neumann,"",2013-11-06 09:16,"","",2013-10-14,"","",0,2013-10-14 05:16,"","",1386300,"","I wondered if there is a chance to support junctions within a _FormDefinition_. My idea was to decide whether to show or to hide a set of Page objects depending from e.g. checking a specific box. I tried to do this similar to the _ConditionalRequired_ _FormElement_ of the _TYPO3.FormExample_ Package, simply by doing something like 

> $this->getRootForm()->removePage($pageToDisable);

That solution works for one page-switch - if I press on next/previous at the page that I successfully skipped, I get led to the disabled one directly - that's really confusing.

Maybe there is already a way to implement it as I imagine (see the pdf as example). Maybe I have to split the form into different forms which are simply connected by finishers?
"
53031,TYPO3.Form,Bug,"",Resolved,Should have,"when traversing back to a previous form step, make sure the current values are saved nevertheless",Sebastian Kurfuerst,Sebastian Kurfuerst,2013-10-22 10:35,"","",2013-10-22,"","",100,2013-10-22 06:09,"","",1399000,"","Steps to reproduce:

* Create a form with multiple pages.
* fill in things on the 1st and 2nd page
* then go back to *1st* page
* then go forward to *2nd* page
* now, the form elements filled in on 2nd page are not filled anymore.

Furthermore, we only want to trigger validation if we ""forward"", so while
going back, validation should not be triggered, but the values shall be stored.
"
53784,TYPO3.Form,Feature,"",Under Review,Should have,Allow storing a presetName for a form,Lorenz Ulrich,"",2013-12-17 10:22,"","",2013-11-20,"","",0,2013-11-20 03:24,"","",1436300,"","In the Form Builder, a form is always opened with the defaultPreset. If a field configuration is not available in this preset, the form cannot be opened (see #53783). The yamlPersistenceManager should be extended by the presetName of a form (falling back to the defaultPreset of none is set)."
63418,TYPO3.Form,Bug,"",New,Should have,Links inside form not available,d.ros no-lastname-given,"",2014-11-29 02:44,"","",2014-11-28,"","",0,2014-11-29 02:44,"","",-156750,"","
No possiblity to put links into a form Textblock Element. 

Links within Textblocks should be allowed."
33262,TYPO3.Imagine,Feature,"",New,Should have,Introduce Transform service,Soren Malling,Soren Malling,2012-08-28 10:58,"","",2012-01-17,"","",0,2012-01-17 09:45,"","",429900,"","TYPO3.Media currently holds a Transform service, but Imagine doesn't

This should be ported to Imagine and give a Interface for other to work against. Copy from IRC chat

<pre>
[14:38] bwaidelich: so my suggestion would be: move the concrete implementation to the imagine package (as you did) and introduce an ImageTransformerInterface (or similar)
[14:41] bwaidelich: but again: i think, your change makes absolute sense. only, if you are going to remove the service from the Media package i'd suggest to add a new interface and code against that in the Media package
[14:41] sorenmalling: bwaidelich: I like that suggetion, IMO Imagine should be shipped with some sort of service library, so you don't have to rewrite it your self, or depend on some other packages domain model (ex. TYPO3.Medias transformservice only ""accepts"" TYPO3.Media Image domain model)
[14:41] bwaidelich: then the only dependency to Imagine would be in Objects.yaml
</pre>"
40348,TYPO3.Imagine,Bug,"",Resolved,Must have,Font and Image Factory don't work with current version,Bastian Waidelich,Bastian Waidelich,2012-09-06 03:47,"","",2012-08-28,"","",100,2012-08-28 11:06,"","",776950,"","With the latest version of the imagine library, the concrete implementations of @\Imagine\Image\FontInterface@ and @\Imagine\Image\ImageInterface@ expect a constructor argument. This breaks functionality of the respective factories.

The easiest solution would be to remove the factories. As imagine images & fonts shouldn't be required stand-alone, this shouldn't be a problem."
48347,TYPO3.Imagine,Bug,"",New,Should have,Remove this project,Christian Müller,"",2013-05-17 09:46,"","",2013-05-17,"","",0,2013-05-17 09:46,"","",1167200,"",As we now use the composer version of Imagine we might want to remove this project to reduce clutter.
52602,TYPO3.Imagine,Bug,"",New,Must have,Fatal error in Production mode if PhpUnit is not installed,Christian Jul Jensen,"",2014-02-10 19:09,"","",2013-10-08,"","",0,2013-10-08 02:37,"","",1377600,"","Fatal error: Class 'PHPUnit_Framework_Constraint' not found in Packages/Libraries/imagine/imagine/lib/Imagine/Test/Constraint/IsImageEqual.php on line 19.

Actually this should probably be fixed in Flow as unpresent or unreflectable classes should be ignored during compile time, I already implemented that, but I am not sure why it doesnt kick in, in this case"
49757,TYPO3.Jobqueue.Common,Feature,"",New,Must have,Add Documentation how to use it,Simon Schaufelberger,"",2013-07-06 20:04,"","",2013-07-07,"","",0,2013-07-06 20:04,"","",1237250,"",I would like to use this package but i have no glue how to use it. For now just a few lines of example code would help a lot.
56878,TYPO3.Jobqueue.Common,Feature,"",New,Should have,Support different serialization formats,Andreas Wolf,"",2014-03-13 11:16,"","",2014-03-13,"","",0,2014-03-13 11:16,"","",1588050,"","Currently, the message contents are unserialized with @unserialize()@, which is AFAIK only supported natively by PHP. To make it easier to use the message queue with different platforms, more formats like JSON should be supported. Support for this would require to also store the serialization format/content type with the message, as is supported e.g. by RabbitMQ."
33757,TYPO3.MailForm,Feature,"",Resolved,Must have,Add I18n support to MailForm,Karsten Dambekalns,Karsten Dambekalns,2012-02-16 20:30,"","",2012-02-07,"","",100,2012-02-07 17:05,"","",454250,"",Make the templates use translations.
31334,TYPO3.Media,Feature,"",Resolved,Could have,Additional orientation-related functions for Image,Adrian Föder,Bastian Waidelich,2012-02-01 06:30,"","",2011-10-27,"","",100,2011-10-27 04:53,"","",335950,"","Hi guys,

I would like to improve the image handling of the TYPO3.Media package; I like it very much so far.


When working on it, I figured out some things that could be improved, I think or hope.


At first I added a few functions to the Image class, could be backed also into the interface (see attached patches).


In general, I would suggest a bit another approach of the ImageVariant: at first I say it should be extended from Image, because an image variant mostly has the properties of an Image (which is inherently correct :)

This ImageVariant class then has only an additional property $originalImage which is set during construction. All other properties and methods are interited anyway, and that's correct.

Then I say an Image Variant should not be ""created"" or ""transformed"" during creation (i.e. within the constructor), but be more a ""base"" for working on an image variant. So I would suggest something like this (pseudo-code):
<pre>
class ImageVariant extends Image {
	/**
	 * @var \TYPO3\Media\Domain\Model\Image
	 */
	protected $originalImage;

	
	/**
	 * @param Image $baseImage The Image that image variant is based on
	 */
	public function __construct(\TYPO3\Media\Domain\Model\Image $baseImage) {
		$this->originalImage = $baseImage;
		$this->width = $baseImage->getWidth();
		$this->height = $baseImage->getHeight();
	}
</pre>


and than one could do the following:

<pre>
$myThumbnail = new ImageVariant();
$myThumbnail->setWidth(180)->preserveAspectRatio(true)->cropToSquare()->getResource();
</pre>

each mentioned function is set in the ImageVariant and returns $this itself. Also each function just modyfies private properties; and with e.g. getResource() or any other 'build()' function (even __toString() is possible) the image is finally built.


What do you think?


"
33181,TYPO3.Media,Feature,"",Resolved,Could have,"Validators for image size, type and orientation",Adrian Föder,Bastian Waidelich,2012-03-21 09:35,"","",2012-01-13,"","",100,2012-01-13 11:33,"","",425850,"","Create an ImageValidator that validates for images size (resolution), type (IMAGETYPE_*) & orientation (square, portrait, landscape)"
33263,TYPO3.Media,Task,"",New,Should have,Use Imagine TransformInterface,Soren Malling,"",2012-09-14 04:30,"","",2012-01-18,2012-01-18,"",0,2012-01-17 09:47,"","",429950,"","Related to:
http://forge.typo3.org/issues/33262

TYPO3.Media should follow the interface provided by Imagine, when the ticket above is done"
33413,TYPO3.Media,Feature,"",Resolved,Should have,Image ViewHelper,Adrian Föder,Adrian Föder,2012-05-10 08:02,"","",2012-01-24,"","",0,2012-01-24 09:35,"","",437250,"","Building a ViewHelper for rendering an <img> tag out of a TYPO3\Media\Image object.
Please discuss here about the features and the code, I will gladly build it once agreed."
33447,TYPO3.Media,Feature,"",Resolved,Should have,ImageConverter,Bastian Waidelich,Bastian Waidelich,2012-02-01 06:30,"","",2012-01-25,"","",100,2012-01-25 13:56,"","",438950,"",Provide Image Type Converter that can convert arrays to Image objects
33564,TYPO3.Media,Bug,"",Resolved,Must have,Persisting image throws Exception,Karsten Dambekalns,Bastian Waidelich,2012-05-08 12:10,"","",2012-01-31,"","",100,2012-01-31 10:29,"","",444700,"","When trying to upload an image I get this result:

http://dl.dropbox.com/u/1536167/Phoenix/stacktrace.html"
33766,TYPO3.Media,Bug,"",Resolved,Must have,Functional tests break following tests,Karsten Dambekalns,Karsten Dambekalns,2012-07-09 08:44,"","",2012-02-08,"","",0,2012-02-08 07:20,"","",454700,"",In @tearDown()@ one must call @parent::tearDown()@ as well.
34462,TYPO3.Media,Feature,"",New,Could have,"Provide base mechanism for direct streaming of ""media""",Adrian Föder,"",2012-03-02 08:56,"","",2012-03-02,"","",0,2012-03-02 08:56,"","",489000,"","It would be useful to have the option to allow requesting a media (for current implementations consider an Image) directly per URI request.
I'd like to collect some ideas together how this could be achieved.

For a first draft I thought about providing both an AbstractController and an AbstractView that fetches the appropriate image and the view basically echo's that view after setting a Content-Type:image/jpeg (e.g.) header.
That Uri could be configured being for example

<pre>
http://cdn.example.org/image/bfc4d56e-ec2f-4ac6-8571-b60d97f37cac/300x.jpg
</pre>

would output the image scaled to 300px width. 

While thinking through that; another approach would be to provide an own request handler.

Additionally of course a caching mechanism should be used in order not to recalculate the same image every time.

At a very later stage, a simple cache proxy could be used however in order to ""protect"" the FLOW3 engine for unnecessary subsequent requests."
36115,TYPO3.Media,Bug,"",Closed,-- undefined --,TYPO3.Media: Properties cannot be mapped,Florian Carstens,Adrian Föder,2012-11-02 10:34,"","",2012-04-15,"","",0,2012-04-15 14:03,"","",570150,"","I tried to persist a \TYPO3\Media\Domain\Model\Image to database after submitting a fluid form and got the following Exception:

<pre>
Property ""name"" was not found in target object of type ""Acme\MyApp\Domain\Model\Participant"".

20 TYPO3\FLOW3\Property\TypeConverter\PersistentObjectConverter_Original::getTypeOfChildProperty(""Acme\MyApp\Domain\Model\Participant"", ""name"", TYPO3\FLOW3\Mvc\Controller\MvcPropertyMappingConfiguration)

19 TYPO3\FLOW3\Property\PropertyMapper_Original::doMapping(array, ""Acme\MyApp\Domain\Model\Participant"", TYPO3\FLOW3\Mvc\Controller\MvcPropertyMappingConfiguration, array)

18 TYPO3\FLOW3\Property\PropertyMapper_Original::convert(array, ""Acme\MyApp\Domain\Model\Participant"", TYPO3\FLOW3\Mvc\Controller\MvcPropertyMappingConfiguration)

17 TYPO3\FLOW3\Mvc\Controller\Argument_Original::setValue(array)

16 TYPO3\FLOW3\Mvc\Controller\AbstractController::mapRequestArgumentsToControllerArguments()

15 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

14 TYPO3\FLOW3\Mvc\Dispatcher_Original::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

13 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

12 call_user_func_array(array, array)

11 TYPO3\FLOW3\Mvc\Dispatcher::FLOW3_Aop_Proxy_invokeJoinPoint(TYPO3\FLOW3\Aop\JoinPoint)

10 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

9 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\Aop\JoinPoint)

8 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)

7 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

6 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\Aop\JoinPoint)

5 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)

4 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)

3 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)

2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()
</pre>

I var_dumped in the \TYPO3\FLOW3\Property\PropertyMapper::doMapping() function the var $typeConverter->getSourceChildPropertiesToBeConverted($source) and got this:

<pre>
array(12) {
  [""firstname""]=>
  string(4) ""Karl""
  [""lastname""]=>
  string(8) ""Schuster""
  [""address""]=>
  string(15) ""Musterstraße 1""
  [""zip""]=>
  string(5) ""12345""
  [""city""]=>
  string(11) ""Musterstadt""
  [""email""]=>
  string(16) ""karl@mydomain.com""
  [""photo""]=>
  array(1) {
    [""resource""]=>
    array(1) {
      [""submittedFile""]=>
      array(2) {
        [""fileName""]=>
        string(0) """"
        [""resourcePointer""]=>
        string(0) """"
      }
    }
  }
  [""name""]=>
  array(1) {
    [""photo""]=>
    array(1) {
      [""resource""]=>
      string(5) ""1.jpg""
    }
  }
  [""type""]=>
  array(1) {
    [""photo""]=>
    array(1) {
      [""resource""]=>
      string(10) ""image/jpeg""
    }
  }
  [""tmp_name""]=>
  array(1) {
    [""photo""]=>
    array(1) {
      [""resource""]=>
      string(24) ""C:\xampp\tmp\php923B.tmp""
    }
  }
  [""error""]=>
  array(1) {
    [""photo""]=>
    array(1) {
      [""resource""]=>
      int(0)
    }
  }
  [""size""]=>
  array(1) {
    [""photo""]=>
    array(1) {
      [""resource""]=>
      int(1099718)
    }
  }
}
</pre>

My fluid form contains:
<pre><code class=""html"">
<f:form action=""create"" object=""{newParticipant}"" name=""newParticipant"" enctype=""multipart/form-data"">
[...]
	<label for=""photo"">Foto</label><br />
	<f:form.upload property=""photo.resource"" id=""photo"" /><br />
[...]
</f:form>
</code></pre>"
36958,TYPO3.Media,Bug,"",Resolved,Must have,Empty image title results in exception,Nikolas Hagelstein,Adrian Föder,2012-07-09 08:28,"","",2012-05-08,"","",0,2012-05-08 12:00,"","",611050,"","SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'title' cannot be null

This has been introduced by:
http://git.typo3.org/FLOW3/Packages/TYPO3.Media.git?a=commit;h=6e958f2f3b5113aefcd22d871f87a6f74ef8361a

Possible solution:
1. Set the default value of the title to ''

or 

2. Annotate with ""to be null""

or

3. Make the image title mandatory

I would go for 1 for now.


"
36959,TYPO3.Media,Bug,"",Resolved,Must have,Image title should be settable via form field,Nikolas Hagelstein,Adrian Föder,2012-10-19 02:28,"","",2012-05-08,"","",0,2012-05-08 12:04,"","",611100,"","At them moment it is not possible to set the image title via form field,
since the typeConverter handles nothing but the ressource property (not sure if that's the reason, just guessing)

"
36960,TYPO3.Media,Bug,"",Closed,Must have,Updating Record consisting of image property results in exception,Nikolas Hagelstein,"",2012-11-02 10:35,"","",2012-05-08,"","",0,2012-05-08 12:09,"","",611150,"","Trying to updae an existing record consisting of an image property without changing anything throws an exception.

Demo package attached.

Steps to reproduce:
Create a new post record, with an image.
Edit this post and hit save without changing the image.

"
37063,TYPO3.Media,Task,"",Resolved,Should have,"Re-Evaluate the best practice usage of the Image Validator ""network""",Adrian Föder,"",2012-09-14 04:29,"","",2012-05-10,"","",0,2012-05-10 08:33,"","",616250,"","consider the following use case
<pre><code class=""php"">
	/**
	 * @param \TYPO3\Media\Domain\Model\Image $newImage
	 * @FLOW3\Validate(""$newImage"", type=""\TYPO3\Media\Validator\ImageSizeValidator"", options={ ""minimumWidth""=150, ""minimumHeight""=150 })
	 * @FLOW3\Validate(""$newImage"", type=""\TYPO3\Media\Validator\ImageTypeValidator"", options={ ""allowedTypes""={""jpeg"",""png"",""gif""} })
	 * @return void
	 */
	public function createAction(\TYPO3\Media\Domain\Model\Image $newImage) {
	}
</code>
---
<code class=""html"">
	<f:form action=""create"" name=""newImage"" enctype=""multipart/form-data"">
		<f:form.upload property=""resource"" class=""upload"" />
	</f:form>
</code>
</pre>

Currently, providing a non-image file like a .txt file, results in three validation errors:

* 1319801362: The actual image width of 0 is lower than the allowed minimum width of 150.
* 1319801925: The actual image height of 0 is lower than the allowed minimum height of 150.
* 1328030664: The uploaded file is no valid image.

The first two messages are of course thrown in the SizeValidator, the last message is from the ImageTypeValidator.
Interestingly, the getimagesize() method from the Image constructor does not result in a warning or similar when providing a text file.

If providing no image at all (i.e. submitting an empty form), the following exception occurs:

<pre>
#1: Catchable Fatal Error: Argument 1 passed to Acme\Foo\Controller\ImageController_Original::createAction() must be an instance of TYPO3\Media\Domain\Model\Image, null given
</pre>


The latter occurence could be fetched with adding the NotEmptyValidator; but what to do in case of an invalid image? Generally the TypeValidator should be responsible for that; but due to the fact that an Image instance is generated however, the SizeValidator also comes to place.

Having talked to Christian about that, we came to the idea that the Image (constructor) should throw an exception if it's not actually an image (per PHP doc it should however throw a Warning, but I'll check that).
That exception could be caught by the ImageTypeConverter, returning NULL if that Exception occurs.
So at the end, again the NotEmptyValidator would catch that case.

I'll provide a patch for that; feel free to add comments here meanwhile."
37230,TYPO3.Media,Bug,"",Resolved,Should have,Image TypeConverter does not allow to map Image by Identity,Carsten Bleicker,Adrian Föder,2012-11-07 05:10,"","",2012-05-16,"","",0,2012-05-16 10:55,"","",624300,"","I want to remove an Image Entity from another Entity by its Identity.
So i used <f:link.action action=""remove"" arguments={section:section,image:image}> ...
The resulting URI looks like this: &section[__identity]=29870197-33ca-43c7-9649-70c3c0f28004&image[__identity]=51e35272-e273-4aa3-8f3f-bdd0932edb23

controller action just has these mapping infos:
**
* Remove Image from a given Section
* @param \My\Name\Domain\Model\Section $section
* @param \TYPO3\Media\Domain\Model\Image $image
* @return void
*/
public function removeImageAction(\My\Name\Domain\Model\Section $section, \TYPO3\Media\Domain\Model\Image $image){
	$section->removeImage($image);
	$this->persistenceManager->update($section);
	$this->redirect('show',NULL,NULL,array('section'=>$section));
}


But the mapping throws the following exception for this removeImageAction:
#1297759968: Exception while property mapping for target type ""TYPO3\Media\Domain\Model\Image"", at property path """": It is not allowed to map property ""__identity"". You need to use $propertyMappingConfiguration->allowProperties('__identity') to enable mapping of this property. (More information)



Just for testing i disabled the mathing of the ImageConverter from $targetType = 'TYPO3\Media\Domain\Model\Image';
to $targetType = 'TYPO3\Media\Domain\Model\ImageFoo';

And the mapping works again.
Can somebody explain me the need of this ImageConverter?

Kind regards
Carsten

"
37677,TYPO3.Media,Bug,"",Closed,Must have,Bug on TYPO3\Media\TypeConverter\ImageConverter,Nicolas C,"",2012-11-02 10:50,"","",2012-06-01,"","",0,2012-06-01 06:46,"","",646600,"","Bug on TYPO3\Media\TypeConverter\ImageConverter from TYPO3.Form:ImageUpload.

I have an exception when i use ""TYPO3.Form:ImageUpload"" in my form factory.
Exception said :

#1297759968: Exception while property mapping for target type ""TYPO3\Media\Domain\Model\Image"", at property path """": It is not allowed to map property ""resource"". You need to use $propertyMappingConfiguration->allowProperties('resource') to enable mapping of this property.


I have modify ""TYPO3\Media\TypeConverter\ImageConverter"" :

On line 46 :
    return $source;
Replaced by :
    return array();

"
38782,TYPO3.Media,Feature,"",Resolved,Could have,Alias-support for image variants,Adrian Föder,Adrian Föder,2012-12-05 06:07,"","",2012-07-09,"","",0,2012-07-09 09:34,"","",701300,"","currently, the so-called ""image variants"" are not really meant to be reused because they are based on the hash of their ""processing instructions"".
This means, if an image variant should be used, the processing instruction has to be provided anyways, which make the presence of a variant be useful for the framework, but not useful for the developer.

Having talked with Bastian, we suggest introducing ""image aliases"" which can be introduced by the developer. Such an alias could be @small@, @micro@, @default@, @micro_watermarked@ or so.

The method @createImageVariant@ would be extended to accept an alias, i.e.
<pre><code class=""php"">
	public function createImageVariant(array $processingInstructions) {
		$uniqueHash = sha1($this->resource->getResourcePointer()->getHash() . '|' . serialize($processingInstructions));
</code>
will become
<code class=""php"">
	public function createImageVariant(array $processingInstructions, $alias = NULL) {
		$uniqueHash = sha1($this->resource->getResourcePointer()->getHash() . '|' . $alias ?: serialize($processingInstructions));
</code></pre>

additionally, there will be methods
<pre><code class=""php"">
public function removeImageVariantByAlias($alias);

public function getImageVariantByAlias($alias);

</code></pre>


As an optional enhancement, I could imagine an extension of the getImageVariantByAlias that, if that alias does not exist, attempts to create an ImageVariant with the _processingInstructions taken from the Settings.yaml_. So this settings.yaml could look like
<pre><code class=""yaml"">
TYPO3:
  Media:
    ImageVariants:
      AliasPresetProcessingInstructions:
        'micro':
          command: thumbnail
          options:
            size:
              width: 16
              height: 16
            mode: %TYPO3\Media\Domain\Model\ImageInterface::RATIOMODE_INSET% //if that const accessing works
        

</code></pre>"
39857,TYPO3.Media,Task,"",On Hold,Should have,Implement _toString functions,Soren Malling,Robert Lemke,2012-09-14 03:11,"","",2012-08-16,"","",0,2012-08-16 07:49,"","",754350,"","To use TYPO3.Media element in ex. Workspace module, listing etc. a _toString function is to be implemented
"
41891,TYPO3.Media,Bug,Bug #41843: Composer and rename issues (umbrella issue),Resolved,Must have,"Image's serialized ImageVariants array still carries ""FLOW3_Persistence_Identifier""",Adrian Föder,Adrian Föder,2013-01-15 11:19,"","",2012-10-11,"","",0,2012-10-11 10:06,"","",849750,"",""
42167,TYPO3.Media,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Under Review,Must have,Image processing instructions cannot be stored on PostgreSQL,Karsten Dambekalns,Karsten Dambekalns,2013-08-06 10:22,"","",2012-10-19,"","",0,2012-10-19 04:16,"","",863100,"","With PostgreSQL the storing of processing instructions fails. The serialized data contains NUL bytes and so data is truncated in the PDO layer when using PostgreSQL.

Two possible ways:

# escape the NUL byte
# use a BLOB field"
42650,TYPO3.Media,Bug,"",Resolved,Should have,Repository on forge.typo3.org is outdated svn repository,Benno Weinzierl,Karsten Dambekalns,2012-11-06 04:30,"","",2012-11-02,"","",100,2012-11-02 14:25,"","",886850,"","The linked repository on this project-page is outdated:
http://forge.typo3.org/projects/package-typo3-media/repository

Should be this:
http://git.typo3.org/FLOW3/Packages/TYPO3.Media.git
"
42749,TYPO3.Media,Bug,"",Resolved,Should have,Broken ImageConverter for PHP 5.3,Karsten Dambekalns,Karsten Dambekalns,2012-11-07 05:35,"",Sprint February 2013,2012-11-07,"","",100,2012-11-07 05:10,"","",891700,"","The use of isset() on a string leads to wrong results:

<pre>$source = 'someString';
$set = isset($source['__identity'])
// set is TRUE now, because of type juggling, in PHP 5.3</pre>

See http://ci.typo3.robertlemke.net/job/TYPO3-Neos-Commit/6670/console for an example :)"
44821,TYPO3.Media,Bug,"",Closed,Must have,Migration file is not able to apply with current Doctrine,Adrian Föder,"",2013-01-26 07:07,"","",2013-01-26,"","",0,2013-01-26 06:55,"","",994600,"","When attempting to execute the MySQL migration file ...40946, introduced in I782ae08c80ebd65214baac2e163729ef442023c6 (https://review.typo3.org/#/c/15515/), the following occurs:

<pre>
$ ./flow doctrine:migrationexecute 20121011140946
Uncaught Exception
  Unknown database type bit requested,
  Doctrine\DBAL\Platforms\MySqlPlatform may not support it.

More Information
  Exception code      #0
  File                ...\Packages\Libraries\doctrine\dbal\lib\Doctrine\DBAL\Platforms\AbstractPlatform.php line 321
</pre>

Probably that's of a new Doctrine ""feature""?

---

Addition: ok, obviously the error message should be rather >>Unkown database type ""bit"" requested<<; this is the exception trail:

<pre>
Uncaught exception in line 112 of ...\Packages\Libraries\doctrine\dbal\lib\Doctrine\DBAL\Schema\MySqlSchemaManager.php: Unknown database type bit requested, Doctrine\DBAL\Platforms\MySqlPlatform may not support it.

25 Doctrine\DBAL\Platforms\AbstractPlatform::getDoctrineTypeMapping(""bit"")
24 Doctrine\DBAL\Schema\MySqlSchemaManager::_getPortableTableColumnDefinition(array|9|)
23 Doctrine\DBAL\Schema\AbstractSchemaManager::_getPortableTableColumnList(""bittest"", ""phx-edsh"", array|1|)
22 Doctrine\DBAL\Schema\AbstractSchemaManager::listTableColumns(""bittest"")
21 Doctrine\DBAL\Schema\AbstractSchemaManager::listTableDetails(""bittest"")
20 Doctrine\DBAL\Schema\AbstractSchemaManager::listTables()
19 Doctrine\DBAL\Schema\AbstractSchemaManager::createSchema()
18 Doctrine\DBAL\Migrations\Version::execute(""up"", FALSE)
17 TYPO3\Flow\Persistence\Doctrine\Service_Original::executeMigration(""20121011140946"", ""up"", NULL, FALSE)
16 TYPO3\Flow\Command\DoctrineCommandController_Original::migrationExecuteCommand(""20121011140946"", ""up"", NULL, FALSE)
15 call_user_func_array(array|2|, array|4|)
14 TYPO3\Flow\Cli\CommandController_Original::callCommandMethod()
13 TYPO3\Flow\Cli\CommandController_Original::processRequest(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
12 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
11 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
10 call_user_func_array(array|2|, array|2|)
9 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
8 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
3 TYPO3\Flow\Cli\CommandRequestHandler::handleRequest()
2 TYPO3\Flow\Core\Bootstrap::run()
1 require(""...\Packages\Framework\TYPO3.Flow\Scripts\flow.php"")
/pre>"
46659,TYPO3.Media,Feature,"",Resolved,Should have,ImageVariant should use original filename as filename instead of hash,Benno Weinzierl,Benno Weinzierl,2013-03-26 10:38,"","",2013-03-25,"","",100,2013-03-25 12:50,"","",1083950,"","For SEO purposes the imageVariant should not use a cryptic hash as filename but instead use the filename of the original resource.

<pre>
_Resources/Persistent/bf4ae4ef715ee8db89e721aca905e2109b3223b0/bf4ae4ef715ee8db89e721aca905e2109b3223b0.jpg
should be:
_Resources/Persistent/bf4ae4ef715ee8db89e721aca905e2109b3223b0/MyImageName.jpg
</pre>

This is essential for example for google image search."
47262,TYPO3.Media,Feature,"",Resolved,Should have,Easily extending the Image Model,Christoph Lehmann,Karsten Dambekalns,2013-06-17 07:36,"","",2013-04-15,"","",100,2013-04-15 14:43,"","",1113750,"","Please make it possible to let this work:

class Picture extends \TYPO3\Media\Domain\Model\Image {

...

}

I was told there is something missing like

@ORM\InheritanceType(""JOINED"")


in \TYPO3\Media\Domain\Model\Image.php

Thank you!"
47394,TYPO3.Media,Bug,"",Resolved,Should have,Unnecessary requirement for \Image implementation in ImageService and ImageVariant,Thomas Hempel,Adrian Föder,2013-09-03 06:35,"","",2013-04-20,"","",100,2013-04-20 05:25,"","",1120150,"","Hi,

when implementing the ImageInterface, you probably do that to use the viewhelpers from Media package. Due to a little oddity, this doesn't work right now. The constructor of the  ImageVariant requires a concrete implementation of 
\TYPO3\Media\Domain\Model\Image and so does the transformImage method in the ImageService.

This makes it pretty much impossible to have your own image model without duplicating almost the entire media package.

As far as I can oversee it, this can be fixed pretty easily by setting the required type to the interface instead of the implementation. I've attached a patch that does that."
47428,TYPO3.Media,Feature,"",Resolved,Should have,Provide Asset base class,Karsten Dambekalns,Karsten Dambekalns,2013-06-17 07:36,"","",2013-04-22,"","",100,2013-04-22 06:28,"","",1121850,"",""
49137,TYPO3.Media,Feature,"",Under Review,Should have,Filesize and last modification date should be available for resources,Karsten Dambekalns,Karsten Dambekalns,2014-08-26 05:09,"","",2013-06-14,"","",50,2013-06-14 11:23,"","",1206500,"",""
49844,TYPO3.Media,Bug,"",Accepted,Must have,Install of TYPO3.Media Package results in SQL-Error,Kay Schecker,Adrian Föder,2015-04-28 10:43,"","",2013-07-10,"","",0,2013-07-10 04:32,"","",1241500,"","If i try to install the TYPO3.Media package i run into the following error: 

General error: 1005 Can't create table 'DATABASENAME.#sql-531_78c9e'

My composer configuration look like this:

{
    ""name"": ""namespace/package"",
    ""description"" : ""description"",
    ""license"": ""LGPL-3.0+"",
    ""minimum-stability"" : ""dev"",
    ""config"": {
        ""vendor-dir"": ""Packages/Libraries"",
        ""bin-dir"": ""bin""
    },
    ""repositories"": [
        {
            ""type"": ""git"",
            ""url"": ""myPrivateGitUrl""
        }
    ],
    ""require"": {
        ""typo3/flow"": ""dev-master"",
        ""typo3/fluid"": ""@dev"",
        ""typo3/party"": ""@dev"",
        ""doctrine/migrations"": ""@dev"",
	""typo3/media"": ""dev-master"",
        ""myPrivateGitPackage"": ""dev-master""
    },
    ""require-dev"": {
        ""typo3/kickstart"": ""dev-master"",
        ""typo3/buildessentials"": ""dev-master"",
        ""mikey179/vfsstream"": ""1.1.*""
    },
    ""scripts"": {
        ""post-update-cmd"": [
            ""Namespace\\Package\\App\\Composer\\InstallerScripts::postUpdateAndInstall"",
            ""./flow flow:cache:flush"",
            ""./flow doctrine:migrate"",
            ""./flow doctrine:update""
        ],
        ""post-install-cmd"":  [
            ""Namespace\\Package\\App\\Composer\\InstallerScripts::postUpdateAndInstall"",
            ""./flow flow:cache:flush"",
            ""./flow doctrine:migrate"",
            ""./flow doctrine:update""
        ]
    }
}
"
51975,TYPO3.Media,Bug,"",Resolved,Should have,Add parameter $ratioMode in ImageInterface::getThumbnail,Dominique Feyer,Karsten Dambekalns,2013-11-14 13:58,"",1.0 beta 1,2013-09-13,"","",100,2013-09-13 06:14,"","",1346600,"",Currently the ImageVariant::getThumbnail doesn't set the ratio mode when calling getThumbnail
52307,TYPO3.Media,Feature,"",Resolved,Should have,Configurable image options,Bastian Waidelich,Bastian Waidelich,2013-10-02 07:36,"","",2013-09-26,"","",100,2013-09-26 10:31,"","",1363100,"",The ImageService currently uses the default options of the Imagine package when creating images. This should be configurable (e.g. in order to specify the default image quality)
52729,TYPO3.Media,Bug,"",Closed,Must have,Image viewhelper not cropping if property maximumWidth is set ,Jan-Erik Revsbech,Adrian Föder,2014-09-01 11:51,"","",2013-10-12,"","",0,2013-10-12 15:26,"","",1383900,"","During working on a new Neos site I experience a problem with the builtin Media viewhelper. In a custom Element (nodetype) I specify an imagenode and render it with

<media:image image=""{image}"" alt=""My image image""  maximumWidth=""200"" />

But cropping given in the Neos image inspector is not respected when the maximumWidth attribute is set! This happens because the viewhelper is i handed a ""ImageVariant"" domain model, and if the maximumWidth is set (and is less than the images width and allowUpScale is FALSE) then the getThumbnail method og the ImageVariant is called.
For ImageVarians, this method is correctly documented as ""Creates a thumbnail of the original image"" and thus is forgets all about the variants ProcessingInstructions which are needed for the cropping.

I think this is a bug. The easyest way to reproduce it is setting the following TypoScript

 prototype(TYPO3.Neos.NodeTypes:Image).maximumImage = 200

(default is 2560)

and then insert a Image content element, crop it with the very cool Image Inspector, and watch how the cropping is not in effect any longer.

Can any other confirm this behaviour, and that is it undesired?

If this is a bug, then I suggest either of these solutions:

1: Change the viewhelper, to be aware of ImageVarians, and if an ImageVariant is given, then add the new transformations, instead of creating a new ImageVarians
2: Change the viewhelper to not actually use Thumbnails, but do a scale transformations directly using a \TYPO3\Media\Domain\Service\ImageService
3: Change the behaviour of the getThumbnail method on the ImageVariant (this will probably have sideeffects)
4: Add a new method that generates a thumbnail that respects the exising transformations on the ImageVariant.

In my opinoin, option 2 is the most clean.

I will create the patchset if any other can confirm the problem and we can agree on the correct solution.

I'm running alpha5 and, I'm aware that a lot happened the last week, but from what I can see in the Gitlog, this is not changed.
"
53139,TYPO3.Media,Bug,"",New,Should have,Missing tagMode relay in Asset/Index template,Bernhard Schmitt,"",2013-10-25 12:05,"","",2013-10-25,"","",0,2013-10-25 12:05,"","",1404400,"","* The AssetController defaults the tagMode variable to self::TAG_GIVEN in the index action
* The respective template does not set the appropriate tagMode variables in the ""All assets"" and ""Untagged Assets"" links

-> No possibility to reset the tag selection in Neos Inspector -> Media"
54351,TYPO3.Media,Bug,"",Resolved,Should have,Selection of media in thumbnail view give an error 500,Thierry Brodard,"",2014-08-05 05:57,"","",2013-12-12,"","",100,2013-12-12 02:04,"","",1464100,"","In list view, everything is fine"
54389,TYPO3.Media,Bug,"",New,Could have,Update tag count upon dropping asset,Arjen Hoekema,"",2013-12-13 06:02,"","",2013-12-13,"","",0,2013-12-13 06:02,"","",1466000,"","When adding/dropping a media asset to a tag the count is not updated.

Maybe this could be added to the 'done' handler in 'tagging.js':

$('.count', tag).text(parseInt($('.count', tag).text()) + 1);"
54390,TYPO3.Media,Bug,"",New,Could have,Prevent adding duplicate tags to a media item,Arjen Hoekema,"",2013-12-13 06:10,"","",2013-12-13,"","",0,2013-12-13 06:10,"","",1466050,"",A media item/asset can be added to the same tag multiple times
54399,TYPO3.Media,Bug,"",Resolved,Should have,Upload of non-image results in Catchable Fatal Error,Mathias Bolt Lesniak,"",2014-02-08 11:35,"","",2013-12-13,"","",100,2013-12-13 10:18,"","",1466500,"","Hi!

I get a Catchable Fatal Error in Neos 1.0, when uploading a non-image file in the Media Manager (/neos/management/media). See attached file for full debug info.

<pre>
#1: Catchable Fatal Error: Argument 1 passed to TYPO3\Media\ViewHelpers\ImageViewHelper_Original::render() must implement interface TYPO3\Media\Domain\Model\ImageInterface, instance of TYPO3\Media\Domain\Model\Asset given in /Volumes/Data/Users/mathias/ApacheSites/oksval2.net.local/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Media_ViewHelpers_ImageViewHelper.php line 104
</pre>

I tested with a Word file called ""test.doc"". Uploading a JPEG file works fine.



- Mathias"
54578,TYPO3.Media,Feature,"",Resolved,Should have,Add link to the resource to the edit view,Rens Admiraal,"",2014-02-20 09:36,"","",2013-12-23,"","",100,2013-12-23 07:09,"","",1475300,"",In the edit view of an image you can right click the image in the preview to get the actual public link to the resource. If a thumbnail for an asset is generated (like for a word file for example) this is not possible. There should at least be a way to find the actual link to a resource from the media manager interface.
54721,TYPO3.Media,Feature,"",New,Should have,Make Image inspector more configurable ,Nikos Poaros,"",2014-01-03 08:11,"","",2014-01-03,"","",0,2014-01-03 08:11,"","",1482450,"","Looks as if some of the image properties are hard coded i.e. width and height.

it would be cool if these could be removed/included on custom content element bases.

Just a thought

Nick :)"
54970,TYPO3.Media,Bug,"",New,Should have,Asset should show its references if it's used in a node,Thierry Brodard,"",2014-01-14 00:23,"","",2014-01-14,"","",0,2014-01-14 00:23,"","",1494550,"","Additionally, the user shouldn't delete the asset if it's used in a node, or be warned"
55220,TYPO3.Media,Bug,"",Needs Feedback,Must have,unable to choose media in neos backend,Dominic Garms,"",2014-02-02 11:16,"",1.x,2014-01-21,"","",0,2014-01-21 11:38,"","",1506350,"","Hello,

at Neos 1.0.1 with blank installation its impossible to choose any existing media with images. An upload of images is working as expected but choosing an existing throws following error:
<pre>
Uncaught exception #1297759968: Exception while property mapping for target type ""TYPO3\Media\Domain\Model\Image"", at property path """": Object with identity ""undefined"" not found.

18 TYPO3\Flow\Property\PropertyMapper_Original::convert(""undefined"", ""TYPO3\Media\Domain\Model\Image"", TYPO3\Flow\Mvc\Controller\MvcPropertyMappingConfiguration)
17 call_user_func_array(array|2|, array|3|)
16 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::__call(""convert"", array|3|)
15 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::convert(""undefined"", ""TYPO3\Media\Domain\Model\Image"", TYPO3\Flow\Mvc\Controller\MvcPropertyMappingConfiguration)
14 TYPO3\Flow\Mvc\Controller\Argument_Original::setValue(""undefined"")
13 TYPO3\Flow\Mvc\Controller\AbstractController::mapRequestArgumentsToControllerArguments()
12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
9 call_user_func_array(array|2|, array|2|)
8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
2 TYPO3\Flow\Http\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>"
55772,TYPO3.Media,Bug,"",Resolved,Should have,Image are loading during ImageVariant initialization,Dominique Feyer,Dominique Feyer,2014-02-07 13:35,"","",2014-02-07,"","",100,2014-02-07 11:52,"","",1533300,"",This problem can have a big impact on the overall performance if many document node type has an image property
55778,TYPO3.Media,Feature,"",Resolved,Should have,Add a cache around getimagesize,Dominique Feyer,Dominique Feyer,2014-04-10 12:43,"","",2014-02-07,"","",100,2014-02-07 16:31,"","",1533600,"","getimagesize need to read the full file from disk, so it impact performance a lots, a cache for those value can have a positive impact"
56562,TYPO3.Media,Feature,"",Closed,Could have,Visual response while starting uploading,Thomas Deuling,Thomas Deuling,2014-12-10 12:30,"","",2014-03-05,"","",0,2014-03-05 02:53,"","",1572250,"","I miss a visual response while starting uploading a file in media-module. Firstly it wasn't clear that the upload has already started.
Perfect would be a simple animated gif with a small text like: Waiting for transferring media, or something else like the already in plupload integrated filelist/progress.

Or is there already something like that, but I can't see it?!
When this visual response is still an open task, I could offer to try to integrate such a functionality."
56887,TYPO3.Media,Bug,"",New,Should have,Tagging via Drag-Drop failed,Simon Edelmann,"",2014-03-13 15:46,"","",2014-03-13,"","",0,2014-03-13 15:15,"","",1588500,"","We have a clean installation of Typo3 Neos 1.0.2. We tried to tag some pictures but we got the error message
> *Tagging the asset failed.*

The problem seems to be that Neos don't get the Asset Identifier from JavaScript. So Neos doesn't know which image to tag.

We've located the problem in this file:

*Problem*: Line 23 in /Packages/Application/TYPO3.Media/Resources/Public/Scripts/tagging.js
<pre>
assetIdentifier = $(ui.draggable[0]).parent().data('asset-identifier');
</pre>

There it refers to this HTML code section:

<pre>
01 <li class=""asset"" data-asset-identifier=""08adf6aa-5c8d-a91f-8ef8-123d4d82f81b"">
02 	<a class=""neos-thumbnail draggable-asset"" title=""Edit Image1.jpg"" href=""http://example.de/neos/management/media/edit?moduleArguments%5Basset%5D%5B__identity%5D=08adf6aa-5c8d-a91f-8ef8-123d4d82f81b"">
03 		<div class=""neos-img-container"">
04 			<img alt=""Image1.jpg"" width=""189"" height=""189"" src=""http://example.de/_Resources/Persistent/29ab2743368e636ae10bd27100fe6dfa87b5eb72/Image1.jpg"">
05 		</div>
06 		<span class=""neos-caption"">Image1.jpg</span>
07 	</a>
08	<a class=""neos-thumbnail draggable-asset ui-draggable-dragging"" title=""Edit Image1.jpg"" href=""http://example.de/neos/management/media/edit?moduleArguments%5Basset%5D%5B__identity%5D=08adf6aa-5c8d-a91f-8ef8-123d4d82f81b"" style=""position: absolute; opacity: 0.3; left: 135px; top: 350px;"">
09 		<div class=""neos-img-container"">
10 			<img alt=""Image1.jpg"" width=""189"" height=""189"" src=""http://example.de/_Resources/Persistent/29ab2743368e636ae10bd27100fe6dfa87b5eb72/Image1.jpg"">
11 		</div>
12 		<span class=""neos-caption"">Image1.jpg</span>
13 	</a>
14 </li>
</pre>

While debugging the JavaScript we realized that @$(ui.draggable[0])@ points to the <a>-Tag (Line 08), while @data('asset-identifier')@ is on the parent li-Tag (Line 01).
The problem could be solved by adding a @.parent()@ in the JavaScript.

*Solution*: Line 23 in /Packages/Application/TYPO3.Media/Resources/Public/Scripts/tagging.js
<pre>
assetIdentifier = $(ui.draggable[0]).parent().data('asset-identifier');
</pre>"
59732,TYPO3.Media,Bug,"",Resolved,Should have,"Selecting an image with the ""Media"" button in the ""Inspector"" ""Image"" section stopped working after update",Tim Spiekerkötter,"",2014-07-01 12:23,"","",2014-06-20,"","",0,2014-06-20 11:35,"","",1729950,"","Hi Guys,

I just updated my Neos installation from 1.0.x to 1.1.x via the intructions on http://neos.typo3.org/download/upgrade-instructions.html.
Now I can't select an image anymore. Neos just starts a spinner where the dummy image was and that's it. Looking into the request the server answers with an 404.

The problem seems to be because of the ExtJS removal, here is the part of my log file:
<pre>
14-06-20 17:22:17 19096      NOTICE    Flow                 Router route(): No route matched the route path ""neos/content/imageWithMetadata/2c17a0b5-c121-6db6-1b5e-71ac7624c03a"".
14-06-20 17:22:17 19096      DEBUG     Flow                 No CSRF required, safe request
14-06-20 17:22:17 19096      CRITICAL  Flow                 Uncaught exception #1303209195 in line 74 of 
/my/path/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php: No controller could be resolved which would match your request. Package key: """", controller name: ""Standard"". (GET http://my.domain/neos/content/imageWithMetadata/2c17a0b5-c121-6db6-1b5e-71ac7624c03a) - See also: 2014062017221644a42f.txt
</pre>

Did I do something wrong, or is this a bug?"
61065,TYPO3.Media,Bug,"",Closed,Could have,@TODO breaks,Bram Verhaegh,"",2014-10-01 06:32,"","",2014-08-19,"","",0,2014-08-19 08:59,"","",-39400,"","adding @TODO breaks in < TYPO3 Flow <2.0.0

this occurs in 

TYPO3.Media/Classes/TYPO3/Media/ViewHelpers/Uri/ImageViewHelper.php 97
and
TYPO3.Media/Classes/TYPO3/Media/ViewHelpers/ImageViewHelper.php


Uncaught Exception
    [Semantical Error] The annotation ""@TODO"" in method
    TYPO3\Media\ViewHelpers\Uri\ImageViewHelper::getImageThumbnailImage()
  was
    never imported. Did you maybe forget to add a ""use"" statement for this
    annotation?"
80,TYPO3.Neos,Feature,"",Closed,Should have,"Rename package ""CMS"" to ""TYPO3""",Robert Lemke,Robert Lemke,2010-10-20 05:40,"","","","","",0,2007-12-18 06:33,"","",1817800,"","The package ""CMS"" is our CMS product, which is called ""TYPO3"". Therefore we rename the CMS package to ""TYPO3""."
4757,TYPO3.Neos,Bug,"",Closed,Should have,Page->setView() only,Falk Kühnel,"",2010-10-20 05:40,"","",2009-09-24,"","",0,2009-09-24 11:29,"","",1817650,"","Classes/TypoScript/Page.php->setView() is missing a
$this->view = $view;
after the Exception handling, isnt it?
"
7016,TYPO3.Neos,Bug,"",Resolved,Must have,UI Prototype: The action menu does not really work combined with frontend editing.,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:40,UI,"",2010-02-25,"","",100,2010-03-25 11:05,"","",1817600,"","This bug is in the UI prototype of the TYPO3 v5 Backend. It can be reproduced in the following way:

* Click ""edit"" on the top action menu
* hover over an editable content element
* click ""edit"" on the editable content element
* now, the *top action menu* changes, not only the one in the content preview."
7017,TYPO3.Neos,Feature,"",Resolved,Must have,UI Prototype: Create an in-place editor for the TYPO3 v5 UI prototype,Sebastian Kurfuerst,Sebastian Kurfuerst,2010-10-20 05:40,"","",2010-02-25,"","",100,2010-03-25 11:11,"","",1817550,"","We want to create some dummy in-place editor for the TYPO3 v5 UI prototype, which should work as described by Jens on tr.im/t35ui .
If you double click on an editable content element, an in-place editor should be created which can be used to adjust texts."
7300,TYPO3.Neos,Task,"",Resolved,Should have,Package demo site HTML and CSS,Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-04-16,"","",100,2010-04-16 08:33,"","",33900,"","The demo site HTML and CSS and its assets need to be packaged into a FLOW3 package.
A Fluid layout and templates need to be created."
7301,TYPO3.Neos,Task,"",Resolved,Should have,Set up the demo package,Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-04-16,"","",100,2010-04-16 08:36,"","",33950,"","A (FLOW3) demo package called ""SiteTYPO3Demo"" (needs to be discussed) needs to be created.
It'll contain the Templates, TS etc.
Must be linked into the distribution"
7302,TYPO3.Neos,Task,"",Resolved,Should have,Check the status / finish the TS Rendering Engine,Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-04-16,"","",100,2010-04-16 08:38,"","",34000,"",The TS renderer must be able to render a page and text content elements.
7334,TYPO3.Neos,Task,"",Resolved,Should have,Finish/clean up the content model,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:00,"","",34500,"",Check the current state and finish/clean up as needed.
7336,TYPO3.Neos,Task,"",Rejected,Should have,Refactor Content Repository so that it's based on FLOW3 persistence,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","",2010-04-27,"",18.00,10,2010-04-19 10:02,"","",34550,18.00,"The CR currently stores It's data in it's own database, this should be changed to use the FLOW3 persistence layer"
7338,TYPO3.Neos,Task,"",Closed,Should have,Refactor TYPO3 Content Service so that it uses the Content Repository API,Karsten Dambekalns,"",2012-08-31 04:39,"","","","","",0,2010-04-19 10:04,"","",34600,"","The content service should use the CR API directly, now that we no longer hide it in the lower layers of FLOW3."
7339,TYPO3.Neos,Task,"",Resolved,Should have,Create the demo controller which creates demo content and a demo user,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:05,"","",34650,"",A demo controller to create content and a demo user needs to be created.
7340,TYPO3.Neos,Task,"",Resolved,Should have,Setup Fluid templates for demo site,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:06,"","",34700,"",Create Fluid templates out of the delivered demosite HTML.
7341,TYPO3.Neos,Task,"",Resolved,Should have,Make the package which contains the site's assets configurable,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:09,"","",34750,"",Website assets are to be bundled in a package. Which package that is naturally needs to be configurable.
7342,TYPO3.Neos,Task,"",Resolved,Should have,Analyze the current state and fix concept for the TS rendering,Karsten Dambekalns,"",2012-08-31 04:39,"","","","","",100,2010-04-19 10:10,"","",34800,"",Check the current state of TS rendering and adjust/fix as needed.
7343,TYPO3.Neos,Task,"",Resolved,Should have,Implement TS rendering for a whole page and text elements,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:11,"","",34850,"",.
7344,TYPO3.Neos,Task,"",Resolved,Should have,For nice URLs (paths!) we need some proper Page Controller -> routing.,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:12,"","",34900,"",.
7345,TYPO3.Neos,Task,"",Resolved,Could have,Split up TS processors into separate classes,Karsten Dambekalns,Bastian Waidelich,2012-08-31 04:39,"","",2010-06-10,"",5.00,100,2010-04-19 10:14,"","",34950,5.00,Due to Fluid view helper architecture we need to split the TS processors into separate classes.
7346,TYPO3.Neos,Task,"",Resolved,Should have,"Implement a backend controller, web entry point points to login controller",Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:15,"","",35000,"",.
7347,TYPO3.Neos,Task,"",Resolved,Should have,Implement a login controller,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:16,"","",35050,"",Maybe used as service w/ JSON; Logout
7349,TYPO3.Neos,Task,"",Resolved,Should have,Resolve issue #7113: Make view resolution in ActionController independent from Fluid,Karsten Dambekalns,Robert Lemke,2012-08-31 04:39,"","","","","",100,2010-04-19 10:30,"","",35100,"",.
7350,TYPO3.Neos,Task,"",Resolved,Should have,Implement proper inclusion of the JavaScript framework,Karsten Dambekalns,Christopher Hlubek,2012-08-31 04:39,"","","","","",100,2010-04-19 10:31,"","",35150,"",.
7351,TYPO3.Neos,Task,"",Closed,Could have,Implement detection of the JS bootstraps of the different packages,Karsten Dambekalns,"",2012-08-31 04:39,"","","","","",0,2010-04-19 10:32,"","",35200,"",.
7352,TYPO3.Neos,Task,"",Resolved,Should have,Implement selenium tests,Karsten Dambekalns,Nils Dehl,2012-08-31 04:39,"","",2010-05-01,"","",100,2010-04-19 10:33,"","",35250,"",.
7353,TYPO3.Neos,Task,"",Resolved,Should have,Create base build scripts for the TYPO3 Phoenix distribution,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","",2010-04-26,"","",100,2010-04-19 10:39,"","",35300,"","Create base build scripts for the TYPO3 Phoenix distribution (run tests, metrics etc.)"
7354,TYPO3.Neos,Task,"",Resolved,Should have,Create demo site deployment script,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","","","","",100,2010-04-19 10:40,"","",35350,"",.
7355,TYPO3.Neos,Task,"",Resolved,Should have,Create script for publishing the API documentation,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","",2010-04-26,"","",100,2010-04-19 10:42,"","",35400,"",.
7356,TYPO3.Neos,Task,"",Resolved,Should have,Create build task for selenium tests,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","","","","",100,2010-04-19 10:43,"","",35450,"",The selenium tests need to be run automatically as well.
7358,TYPO3.Neos,Task,"",Resolved,Should have,Exploration: Use a VM for phoenix.demo.typo3.org?,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","","","","",100,2010-04-19 10:49,"","",35500,"","To be able to do blue-green deployment, foster local testing and to be køøl we need this. Do we? How, why, when?"
7359,TYPO3.Neos,Task,"",Resolved,Should have,Setup web spaces for demo sites,Karsten Dambekalns,Andreas Förthner,2012-08-31 04:39,"","","","","",100,2010-04-19 10:53,"","",35550,"",We need phoenix.demo.typo3.org and latest.phoenix.demo.typo3.org
7360,TYPO3.Neos,Task,"",Resolved,Should have,Setup DNS for Phoenix demo sites,Karsten Dambekalns,Sebastian Kurfuerst,2012-08-31 04:39,"","","","","",100,2010-04-19 10:55,"","",35600,"",We need phoenix.demo.typo3.org and latest.phoenix.demo.typo3.org
7361,TYPO3.Neos,Task,"",Resolved,Should have,Create a small section on FLOW3 website with information,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","",2010-04-26,"",3.00,100,2010-04-19 10:56,"","",35650,3.00,"Create a small section on flow3.typo3.org with information about Phoenix, the documentation etc."
7450,TYPO3.Neos,Task,"",Resolved,Should have,Selenium RC Server,Daniel Poetzinger,Andreas Förthner,2012-08-31 04:39,"","",2010-04-23,"","",100,2010-04-23 11:35,"","",36050,"",Einrichten für die Seleniumtests
7473,TYPO3.Neos,Task,"",Resolved,Should have,Adjust the dist configuration files,Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-04-26,"","",100,2010-04-26 10:25,"","",36250,"",The yaml files in Configuration/ of the phoenix dist are using old settings. In general these files must be adjusted to match the current FLOW3 version.
7496,TYPO3.Neos,Task,"",Resolved,Should have,Implement nested array support in persistence,Robert Lemke,Karsten Dambekalns,2012-08-31 04:39,"","",2010-04-28,"",6.00,100,2010-04-27 09:24,"","",36450,6.00,See feature #7495 . This is needed for persisting Structure Nodes of the TYPO3 content model.
7497,TYPO3.Neos,Task,"",Resolved,Should have,Design generic error message screen for TYPO3 frontend,Robert Lemke,"",2012-08-31 04:39,"","",2010-04-27,"","",100,2010-04-27 09:37,"","",36500,"","There are situations in which TYPO3 is just not correctly configured, not site has been defined, no root node is found or some other fundamental error occurs. Currently TYPO3 or FLOW3 will just throw an exception and display the message with its built-in exception handlers (see screenshot).

For TYPO3 we need a well-looking and friendly error page. We need a design for this, implemented as HTML / CSS which allows for displaying the following information:

* error message (short), something like ""No Site Defined""
* error code, e.g. 1247043365
* description, e.g. ""Currently your TYPO3 installation seems to have no site defined, please create one by using the Manage Content module.""
* a help icon / link which points to a wiki or online manual with further information

Please create this as a self-contained HTML file with inline CSS because we can't be sure that the templating system or resource management works when an error must be displayed."
7502,TYPO3.Neos,Task,"",Resolved,Should have,"Create a ""Demo"" distribution",Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-04-27,"","",100,2010-04-27 12:08,"","",36550,"",For the demo site we need a TYPO3 Phoenix Demo distribution. This dist should contain the DemoSite package and possible further configuration necessary for the demo site.
7513,TYPO3.Neos,Task,"",Resolved,Should have,Move context configuration defaults to package,Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-04-28,"","",100,2010-04-28 06:19,"","",36600,"",Implement feature #7479 because then we can leave the global Configuration directory blank and use the defaults provided by FLOW3.
7517,TYPO3.Neos,Task,"",Resolved,Could have,Implement feature #7516 (encryption hash generation),Robert Lemke,Karsten Dambekalns,2012-08-31 04:39,"","",2010-06-23,"",2.00,100,2010-04-28 09:21,"","",36650,2.00,We need to implement feature #7516 (encryption hash generation) so that the global Configuration directory can be empty in the Phoenix Demo or Base distribution.
7521,TYPO3.Neos,Task,"",Resolved,Should have,Write real texts for the demo website,Robert Lemke,"",2012-08-31 04:39,"","",2010-04-28,"","",100,2010-04-28 09:44,"","",36700,"",The current demo package (as it was imported from the TYPO3 v4 introduction extension) contains a lot of lorem-ipsum dummy text. For the demo website (and in general it also makes much sense) we need properly written text which describes the features you see on the site.
7532,TYPO3.Neos,Task,"",Resolved,Should have,Implement a login screen,Robert Lemke,"",2012-08-31 04:39,"","",2010-04-29,"","",100,2010-04-29 09:58,"","",36750,"","We need a login view which is shown at .../typo3/login. This view displays a username and a password field as well as a login button. Authentication is done through an AJAX call (Backend\LoginController->authenticate()).

Below the login fields there's an iframe containing the webpage which has been visited just before the login page was called.
"
7536,TYPO3.Neos,Task,"",Resolved,Could have,Implement a mechanism which saves and restores the path to the last visited page,Robert Lemke,Nils Dehl,2012-08-31 04:39,"","",2010-04-29,"","",100,2010-04-29 11:51,"","",36800,"",Some small JS code which is contained on every page rendered by TYPO3 will set a cookie with the path of the current page. This allows us to display exactly that page after a user logged into the backend.
7549,TYPO3.Neos,Task,"",Closed,Won't have this time,Implement a generic configuration container available in JavaScript,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-04-30,"","",60,2010-04-30 04:38,"","",36850,"","We need to transfer some configuration data from PHP to JavaScript, like URLs which should be called, and the like.

After discussion with Nils, we came up with the following proposal:
The JS configuration should be found at
F3.TYPO3.Config.[Modulename].[module specific configuration], so for login, it could be:
F3:TYPO3.Config.Login.authenticationControllerUri

This needs to be built on the server side."
7550,TYPO3.Neos,Task,"",Resolved,Should have,Implement JavaScript API generation during the Build process.,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-04-30,"","",100,2010-04-30 05:43,"","",36900,"","We need a JS api doc as well as a PHP api doc, so we need to implement this."
7551,TYPO3.Neos,Task,"",Resolved,Should have,Design a Page Not Found screen for the TYPO3 frontend,Robert Lemke,"",2012-08-31 04:39,"","",2010-04-30,"","",100,2010-04-30 06:17,"","",36950,"",Design a Page Not Found screen for the TYPO3 frontend
7553,TYPO3.Neos,Task,"",Resolved,Should have,Fix curly braces bug in TS Parser,Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-04-30,"","",100,2010-04-30 07:12,"","",37000,"",See #7555
7578,TYPO3.Neos,Task,"",Resolved,Should have,small Bug in Bootstrap,Daniel Poetzinger,Karsten Dambekalns,2012-08-31 04:39,"","",2010-05-03,"","",100,2010-05-01 02:33,"","",37150,"","Exception is thrown in Production context

<pre>
--- Core/Bootstrap.php	(revision 4252)
+++ Core/Bootstrap.php	(working copy)
@@ -170,8 +170,8 @@
 		$this->ensureRequiredEnvironment();
 		$this->context = (strlen($context) === 0) ? 'Production' : $context;
 
-		if ($context !== 'Production' && $context !== 'Development') {
-			exit('FLOW3: Unknown context ""' . $context . '"" provided, currently only ""Production"" and ""Development"" are supported. (Error #1254216868)');
+		if ($this->context !== 'Production' && $context !== 'Development') {
+			exit('FLOW3: Unknown context ""' . $this->context . '"" provided, currently only ""Production"" and ""Development"" are supported. (Error #1254216868)');
 		}
 		$this->FLOW3Package = new \F3\FLOW3\Package\Package('FLOW3', FLOW3_PATH_FLOW3);
 	}
@@ -648,4 +648,4 @@
 	}
 }
 
</pre>




-----

(Also there is no unittests testing if the bootstrap can be initialised with diffrent contexts - maybe thats useful. The bootstarp is just a accessible mock where the constructor seems not to be called)"
7775,TYPO3.Neos,Task,"",Resolved,Should have,Implement a 404 error page,Christopher Hlubek,Christopher Hlubek,2012-08-31 04:39,"","",2010-05-14,"","",100,2010-05-14 08:00,"","",37800,"",The user should get an error page like wireframed in #7551 when trying to view a missing page.
7777,TYPO3.Neos,Task,"",Resolved,Should have,Implement preliminary backend,Christopher Hlubek,Christopher Hlubek,2012-08-31 04:39,"","",2010-05-14,"","",100,2010-05-14 08:36,"","",37850,"",There should be a simple backend with a menu bar and the frontend site shown in an iframe.
8025,TYPO3.Neos,Task,"",Resolved,Should have,Wrong version in Package.xml for FLOW3-alpha9,Michael Schams,Karsten Dambekalns,2012-08-31 04:39,"","",2010-07-03,"",1.00,100,2010-06-01 23:12,"","",39350,1.00,"File FLOW3-1.0.0-alpha9-build26.tar.gz (downloaded from file repository at SourceForge) shows wrong version number in file FLOW3's Package.xml:

@./Packages/Framework/FLOW3/Meta/Package.xml@

Attribute ""version"" is 1.0.0-alpha8 but alpha9 expected.
See attached screenshot.
"
8059,TYPO3.Neos,Task,"",Resolved,Must have,Create a JSON view.,Sebastian Kurfuerst,"",2012-08-31 04:39,"","","","","",100,2010-06-04 06:10,"","",39450,"","We need a JSON view which will convert an object graph to JSON.
The idea would be to read the configuration which part of the object graph shoud be converted from a YAML file.

Some inspiration from Rails: http://apidock.com/rails/ActiveRecord/Serialization/to_json"
8143,TYPO3.Neos,Task,"",Resolved,Should have,Proper Exception Handling in Ext Direct,Christopher Hlubek,Christopher Hlubek,2012-08-31 04:39,"","",2010-06-10,"","",100,2010-06-10 09:45,"","",39850,"",Exceptions in Ext Direct result in a rendered HTML Exception instead of a propert JSON response. The Exception should be converted according to the Ext Direct specification.
8144,TYPO3.Neos,Task,"",Resolved,Could have,Remove unused exceptions,Karsten Dambekalns,Karsten Dambekalns,2010-12-21 08:00,"","","","",1.00,100,2010-06-10 09:52,"","",39900,1.00,"The following exceptions are defined but not used:
* F3\TYPO3\Controller\Exception\NoSiteException
* F3\TYPO3\Domain\Exception\NodeAlreadyExistsException
* F3\TYPO3\Domain\Exception\NoSuchNodeException
* F3\TYPO3\Domain\Exception\NoSuchDomainException
* F3\TYPO3\Domain\Exception\InvalidSectionException

They could be removed, unless their usage is still intended."
8276,TYPO3.Neos,Feature,"",Closed,Should have,Implement getParent() and getPath() for structure nodes,Robert Lemke,Robert Lemke,2010-10-20 05:40,Services,"",2010-06-16,"","",0,2010-06-16 04:40,"","",1817500,"","For the menu generation and various other purposes we need a way to determine the parent node of a given structure node and its absolute node path.
"
8277,TYPO3.Neos,Task,"",Closed,Won't have this time,Implement #8276 ? getParent() and getPath(),Robert Lemke,Robert Lemke,2012-08-31 04:39,"","",2010-06-16,"","",0,2010-06-16 04:41,"","",40400,"",Implement #8276 ? getParent() and getPath() for structure nodes
8284,TYPO3.Neos,Feature,"",Resolved,Should have,Import content from a file,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,"","",2010-06-16,"",6.00,100,2010-06-16 05:57,"","",1817450,"","It should be possible to import a site's structure and content from a file, this allows easier testing, distribution of demo content and migration."
8285,TYPO3.Neos,Task,"",Resolved,Should have,Create a way to import test/demo content into TYPO3,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","",2010-06-16,"",6.00,100,2010-06-16 05:59,"","",40450,6.00,Currently needed to replace the hardcoded setup controller and to allow easier creation of a larger page tree to test menu generation.
8442,TYPO3.Neos,Task,"",Resolved,Should have,Fluid ViewHelper <f:render> should support same-template section rendering,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-06-22,"",5.00,100,2010-06-22 08:32,"","",41300,5.00,"For menu generation, we to change the way sections are rendered in Fluid, so the following should be possible inside a template:
<pre>
<f:render section=""itemList"" arguments=""{items: items}"" />

<f:section name=""itemList"">
        <ul>
                <f:for each=""{items}"" as=""item"">
                        <li><f:link.action package=""TYPO3"" controller=""Frontend\Page"" action=""show"" arguments=""{page: '{item.nodePath}'}"">{item.label}</f:link.action>
                        <f:if condition=""{item.subItems}"">
                            <f:render section=""itemList"" arguments=""{items: item.subItems}"" />
                        </f:if>                        
                        </li>
                </f:for>
        </ul>
</f:section>
</pre>

As this part is somehow hacky anyways inside TemplateView, it needs to be cleaned up.

The following cases need to be tested separately:

* <f:render section=""foo"" /> in a Layout
** should render section in TEMPLATE
** should use variables of TEMPLATE
* <f:render partial=""foo"" /> (no matter where)
** should render the given partial EVERYWHERE
** arguments need to be passed explicitely
* <f:render section=""foo"" /> in a Partial
** should use section in same PARTIAL
** arguments need to be passed explicitely
* <f:render section=""foo"" /> in a Template
** should use section in same TEMPLATE
** arguments need to be passed explicitely
* <f:render partial=""foo"" section=""bla""/>
** should use section of given partial
** arguments need to be passed explicitely

"
8456,TYPO3.Neos,Task,"",Resolved,Should have,Wrong package in resource links,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:39,"","","","",2.00,100,2010-06-23 04:25,"","",41400,2.00,We boasted about the possibility to use simple relative URLs in templates to include CSS and JS. Turns out it works only so-so...
8459,TYPO3.Neos,Task,"",Resolved,Should have,Configure the package to use for ResourceInterceptor if possible,Karsten Dambekalns,Karsten Dambekalns,2010-10-20 05:40,TypoScript,"",2010-06-23,"",1.00,100,2010-06-23 06:17,"","",41500,"",As pointed out in #8456 and #8455 we need to help the ResourceInterceptor to use the correct package for site resources. The place to add this would be the Template TS object.
8629,TYPO3.Neos,Task,"",Resolved,Should have,Info Message printed by SetupController has a wrong path,Sebastian Michaelsen,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-07-03,"","",100,2010-07-03 15:21,"","",42300,"","Currently when you use typo3/setup/ to populate the Demo Package with Content you get a message:
Imported website data from ""PhoenixDemoTypo3Org/Resources/Content/Sites.xml""
The Folder Resources/Private/ is missing in the path."
8630,TYPO3.Neos,Task,Story #8796: As Roger I want a flexible and powerful TCA Concept in order to define my objects,Closed,Could have,Use the permission model inside JavaScript,Sebastian Kurfuerst,"",2011-09-07 10:07,UI,"",2010-07-03,"","",0,2010-07-03 15:23,"","",42350,"","We (Andi, Sebastian, Patrick, Karsten), discussed this at t3dd.

# enhance the policy system that you can add something like (... && UserInterface(F3.TYPO3.[someComponent]), and if this component is ACCESS_DENY, then this sould be transferred to a JSON array.
## TODO: Improve the way we can write that.
# in Application.bootstrap, we will only run bootstrappers in case they are not denied.
# We will add all DENIED resources to every Domain Object we transfer to the client side (be it via JSON, Page Template, ...)
# JavaScript will update its permissions (f.e. ""currentPage.permissions""), and if the permissions change, this will trigger change events. Components can listen to this and react appropriately (i.e. disable/enable the button)."
8631,TYPO3.Neos,Task,"",Resolved,Should have,Copyright information should have a fixed width,Robert Lemke,"",2012-08-31 04:39,"","",2010-07-03,"","",100,2010-07-03 15:27,"","",42400,"",The copyright information on the login page takes the full width. It should rather have a fixed width (I suggest 700px) with a variable left and right padding.
8632,TYPO3.Neos,Task,"",Resolved,Should have,TYPO3 logo is on the wrong side,Robert Lemke,Berit Hlubek,2012-08-31 04:39,"","",2010-07-03,"","",100,2010-07-03 15:28,"","",42450,"",The TYPO3 logo should be aligned to the right above the login screen.
8633,TYPO3.Neos,Task,"",Resolved,Should have,Add a hint that the UI is only wireframes,Robert Lemke,Berit Hlubek,2012-08-31 04:39,"","",2010-07-03,2010-07-08,"",30,2010-07-03 15:29,"","",42500,"","The login screen should display a (nicely designed) hint that all you see is just wireframes and that colors, sizes, icons etc. should be just ignored."
8635,TYPO3.Neos,Task,"",Resolved,Should have,Visual appearance of content dialog button bar needs to be fixed,Robert Lemke,Berit Hlubek,2012-08-31 04:39,"","",2010-07-03,"","",100,2010-07-03 15:36,"","",42550,"","IMO it's a bit confusing that the background of the button bar is semi-transparent (see screenshot). It's also not consistent (looks different in Safari / Firefox).

Also in my opinion the buttons are not visible well enough, maybe that can look a bit more like buttons even without mouse over?"
8636,TYPO3.Neos,Task,"",Closed,Should have,Backend Login doesn't work in Production Context,Robert Lemke,Andreas Förthner,2012-08-31 04:39,"","",2010-07-03,"","",0,2010-07-03 15:51,"","",42600,"",When trying to login in the production context you'll get an exception thrown by the security framework (no policies defined)
8637,TYPO3.Neos,Task,"",Resolved,Should have,On trying on the Demo distribution you'll get a 404 as welcome message,Robert Lemke,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-07-03,"","",100,2010-07-03 15:57,"","",42650,"","The demo distribution comes with an empty Objects.db, therefore a call to the front page currently triggers the FLOW3 404 error.

We should instead either

* show a TYPO3 error message claiming that there's no site yet with a link to the setup controller to create one or
* directly forward to the setup controller or
* automatically import the site"
8639,TYPO3.Neos,Task,"",Resolved,Should have,F3\Party\Domain\Model\PersonName->getFullName() has wrong spaces around the name,Sebastian Michaelsen,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-07-03,"","",100,2010-07-03 17:28,"","",42700,"","The fullName of a PersonName is not built up correctly concerning the spaces.

I refactored the generation of fullName and added a Unit Test."
8640,TYPO3.Neos,Task,"",Resolved,Should have,"Rename variable in TemplateView ""domainModel"" > ""model""",Robert Lemke,Christopher Hlubek,2012-08-31 04:39,"","",2010-07-03,"","",100,2010-07-03 17:30,"","",42750,"","Rename variable in TemplateView ""domainModel"" > ""model"""
8642,TYPO3.Neos,Task,"",Resolved,Should have,Submit changed page title on <Enter>,Bastian Waidelich,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-07-04,2010-07-07,"",100,2010-07-03 18:30,"","",42800,"","When hitting the Enter key while editing a page title, the changes should be submitted"
8682,TYPO3.Neos,Task,Story #7921: As  Magarethe I want to add  pages,Resolved,Should have,Add a new menu entry for creating pages,Sebastian Kurfuerst,Robert Lemke,2012-08-31 04:39,"","",2010-07-06,"",0.00,100,2010-07-06 07:13,"","",43050,0.00,"For creating new pages, a new menu entry in the RootlineMenu is needed. See the screenshot attached to the related story #7921."
8684,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Rejected,Should have,Refactor PropertyMenu so that Opening and Closing is handled with an animation.,Sebastian Kurfuerst,Christian Müller,2011-07-27 10:01,UI,Sprint 7,2010-07-06,"","",80,2010-07-06 07:16,"","",43100,"","The property menu opens up when the user f.e. edits the page properties or creates a new page (see screenshot attached to story).

Right now, this is directly implemented inside F3.TYPO3.Content.Edit.PagePropertiesDialog, and not inside the abstract class. Additionally, the module is shown directly, not via an animated slide down.

This should be changed."
8685,TYPO3.Neos,Task,Story #7921: As  Magarethe I want to add  pages,Resolved,Should have,The Form Configuration for the Module Menu should be extracted to a separate file,Sebastian Kurfuerst,"",2012-08-31 04:39,"","",2010-07-06,"","",0,2010-07-06 07:19,"","",43150,"","Right now, all entries inside the ModuleMenu are directly programmed in JavaScript (see F3.TYPO3.Content.Edit.PagePropertiesDialog). The form configuration should be refactored to a new file, as we want to load it from the server side at a later point in time."
8686,TYPO3.Neos,Task,Story #8796: As Roger I want a flexible and powerful TCA Concept in order to define my objects,Closed,Should have,Create a TCA-like configuration on the server side,Sebastian Kurfuerst,"",2012-08-31 04:39,"","",2010-07-06,"","",0,2010-07-06 07:20,"","",43200,"","For forms, we need some TCA-like configuration on the server side, which enables us to declaratively build up forms.
I am not sure if we will make this change inside Sprint 3."
8687,TYPO3.Neos,Task,"",Resolved,Should have,"Should the ""Add Page"" and ""Edit Page Properties"" dialog be the same?",Sebastian Kurfuerst,"",2012-08-31 04:43,"","",2010-07-06,"","",0,2010-07-06 07:22,"","",43250,"","Should the ""Add Page"" and ""Edit Page Properties"" dialog be the same? this is an open Question to Jens :-)"
8688,TYPO3.Neos,Task,"",Resolved,Should have,"Instead of OK/Cancel buttons, use Commit?",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:39,"","",2010-07-06,"","",0,2010-07-06 07:24,"","",43300,"","To me, it is not yet clear how the OK/Cancel buttons (shown when editing page properties) play together with the ""Commit""-feature when you edit content.

There are several possibilities I think:

* After pressing ""OK"", the changes are on the live site
* After pressing ""OK"", the change still needs to be committed.
* get rid of the OK/cancel buttons altogether and instead display the ""commit"" button like when editing content

The same issue occurs when deleting a page: Is it still needed to *commit* this change?"
8689,TYPO3.Neos,Task,Story #11044: As  Magarethe I want to add  pages,Resolved,Should have,create a widget for selecting the position of elements (like pages),Sebastian Kurfuerst,Aske Ertmann,2012-08-31 04:38,"",Sprint 7,2010-07-06,"",0.00,0,2010-07-06 07:29,"","",43350,0.00,"When adding pages, the position of the added page should be changeable via Drag and Drop. The current page should be always selected, and it should be only possible to move that page around.
See the attached screenshot for the mockup.

The widget should be created to be used for a general drag-drop reordering of a single element, and not tied to pages."
8690,TYPO3.Neos,Task,Story #7921: As  Magarethe I want to add  pages,Resolved,Should have,A Service for adding content is needed,Sebastian Kurfuerst,Robert Lemke,2012-08-31 04:38,"","",2010-07-06,"",0.00,0,2010-07-06 07:30,"","",43400,0.00,"We need a PHP Service for adding pages, which is exposed via ExtDirect.

Also, it makes sense to abstract this, and build a service which can be used to add generic *content*. This should also work via ExtDirect."
8691,TYPO3.Neos,Task,"",Resolved,Should have,Add a new menu entry for deleting pages,Sebastian Kurfuerst,Karsten Dambekalns,2012-08-31 04:38,"","",2010-07-06,"","",100,2010-07-06 07:32,"","",43450,"","For deleting pages, a new menu entry is needed; see screenshot of related story for details."
8692,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,"Refactor ContentDialog to handle different colors, different buttons and different sides",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,2010-07-06,"",0.00,0,2010-07-06 07:34,"","",43500,0.00,"The ContentDialog (F3.TYPO3.UserInterface.ContentDialog) currently hard-codes ""OK"" and ""Cancel"" buttons, but should also work with other button labels and other actions. Additionally, the dialog should also be displayable on the left side (see screenshot of related story), and with a different background color."
8693,TYPO3.Neos,Task,"",Resolved,Should have,Create Server-Side Service to delete content / pages,Sebastian Kurfuerst,Robert Lemke,2012-08-31 04:38,"","",2010-07-06,"","",100,2010-07-06 07:36,"","",43550,"",We need a server-side method with which one can delete content or pages. This should be callable via ExtDirect.
8696,TYPO3.Neos,Task,"",Closed,Should have,Create a Section-Content Element,Sebastian Kurfuerst,"",2012-08-31 04:38,"","",2010-07-06,"","",0,2010-07-06 07:40,"","",43650,"",The Section-Content element consists of a Header and some contents and is used to structure the page semantically.
8697,TYPO3.Neos,Task,"",Closed,Should have,all editable content must be wrapped with a div containing the UUID and additonal information.,Sebastian Kurfuerst,"",2012-08-31 04:38,"","",2010-07-06,"","",30,2010-07-06 07:42,"","",43700,"",This shoudl be done in a layout on the server side.
8698,TYPO3.Neos,Task,"",Resolved,Should have,Text Elements and Section Elements should be editable inline,Sebastian Kurfuerst,Nils Dehl,2012-08-31 04:38,"","",2010-07-06,"","",100,2010-07-06 07:42,"","",43750,"",Text Elements and Section Elements should be editable inline
8699,TYPO3.Neos,Task,"",Resolved,Should have,"If the Frontend Editor looses focus, all Content Element Fields must be saved correctly",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","",2010-07-06,"","",100,2010-07-06 07:44,"","",43800,"","This means data might have to be splitted on either the server or the client side, for the sub-elements to work."
8700,TYPO3.Neos,Task,Story #8644: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,Create a BorderLayout for the Management View,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","",2010-07-06,"",0.00,0,2010-07-06 07:59,"","",43850,0.00,Create a basic BorderLayout for the content area in the Management View
8701,TYPO3.Neos,Task,Story #8644: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,Add a generic tree to the Management View,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","",2010-07-07,2010-07-07,0.00,0,2010-07-06 08:00,"","",43900,0.00,Add a tree to the Management view on the left side
8702,TYPO3.Neos,Task,Story #8644: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,add a generic TableView / grid to the Management View,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","",2010-07-07,2010-07-07,0.00,0,2010-07-06 08:01,"","",43950,0.00,The Management View needs a grid to show data.
8703,TYPO3.Neos,Task,Story #11045: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,Connect Tree and Grid in Management View with events on ManagementModule,Sebastian Kurfuerst,"",2012-08-31 04:38,"","",2010-07-08,2010-07-08,0.00,0,2010-07-06 08:02,"","",44000,0.00,"When clicking on a tree element, the actual Grid should be shown."
8704,TYPO3.Neos,Task,"",Resolved,Should have,Content Dialog should have a soft shadow like in the wireframes,Sebastian Kurfuerst,Berit Hlubek,2012-08-31 04:38,"","",2010-07-06,"","",0,2010-07-06 08:04,"","",44050,"","It'd be really nice if we could still add a soft shadow (via CSS3) to the ""OK/Cancel"" buttons, like it is in the wireframes."
8706,TYPO3.Neos,Task,"",Resolved,Should have,"For the login screen, add an autofocus to the username",Sebastian Kurfuerst,Berit Hlubek,2012-08-31 04:38,"","",2010-07-06,"","",100,2010-07-06 08:06,"","",44100,"",It'd be great if the username could be already pre-selected :)
8707,TYPO3.Neos,Task,"",Resolved,Should have,Remove the [x] buttons in the login screen,Sebastian Kurfuerst,Berit Hlubek,2012-08-31 04:38,"","",2010-07-06,"","",0,2010-07-06 08:06,"","",44150,"","Remove the [x] buttons in the login screen, as we all decided upon that on the T3DD sprint planning."
8731,TYPO3.Neos,Task,"",Resolved,Should have,Meaninful messages in setup controller,Christian Müller,Robert Lemke,2012-08-31 04:38,"","",2010-07-07,"","",100,2010-07-07 14:30,"","",44350,"",In case of not providing information (username & password) to create admin account some generic error message is thrown. 
8734,TYPO3.Neos,Task,"",Resolved,Should have,Clean up SetupController and its resources,Robert Lemke,Karsten Dambekalns,2012-08-31 04:38,"","",2010-07-08,"","",100,2010-07-08 04:33,"","",44450,"","The Backend\SetupController is currently a real mess. FLOW3's validation is neglected, the Fluid template uses inline styles (well, it uses the ""error"" layout to display the setup screen) and so on. Also the import functionality should be extracted to its own class.

Bottomline: Make this a clean controller, properly implemented"
8739,TYPO3.Neos,Task,"",Resolved,Should have,Create a new tree based breadcrumb menu component ,Nils Dehl,Rens Admiraal,2012-08-31 04:38,"","",2010-07-08,"","",100,2010-07-08 08:35,"","",44500,"","Create a new breadcrumb menu component based on a Ext.tree.TreePanel.

Behaviour see ""TYPO3 5.0 Experience Concept Presentation"":http://typo3.org/teams/usability/t35ui/ starting with slide 150.

The tree data structure allows us to have hierarchical menus. Add and remove childnodes or dynamical reload them. 

technical todos:
* Create a abstract breadcrumb menu component based on Ext.tree.TreePanel 
* Creat a NodeUi class which render the tree horizontal
* add the animations and behaviour jens described in the slides.   

Additionally, see the JavaScript class F3.TYPO3.UserInterface.BreadcrumbMenu for the (currently quite hacky) implementation, which needs to be refactored."
8794,TYPO3.Neos,Bug,"",Closed,Could have,As Gallus I want a reference documentation available TypoScript Objects,Daniel Poetzinger,"",2012-08-31 04:38,"","",2010-07-10,"","",0,2010-07-10 06:07,"","",2606700,"","Propably related to the Workshop on the DevDays (XML format was definded)
"
8795,TYPO3.Neos,Task,"",Resolved,Could have,Rootline should be renamed to Breadcrumb in ExtJs,Daniel Poetzinger,Robert Lemke,2012-08-31 04:38,"","",2010-07-10,"","",80,2010-07-10 06:09,"","",45400,"",""
8847,TYPO3.Neos,Task,"",Resolved,Should have,Only focus the username field if it has not been focused already,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:40,"","",2010-07-13,"","",0,2010-07-13 11:58,"","",45850,"","Since r4774 we have a nice autofocus feature in the TYPO3 login form.
I noticed one issue though:
If the page still loads while you're already typing the password, the focus will switch to the username field..
You can reproduce this by clearing your browser cache, calling http://latest.phoenix.demo.typo3.org/typo3/login and typing in the password field.
Maybe it already helps to move the JS to the top of the page."
9183,TYPO3.Neos,Task,"",Resolved,Should have,Bugs in Edit Page Properties,Daniel Poetzinger,"",2012-08-31 04:38,"","",2010-08-06,"","",50,2010-08-06 07:43,"","",47900,"","Tested on: http://latest.phoenix.demo.typo3.org/typo3

1) The current page title is not shown if I edit the pageproperties - it is alway empty

2) The page preview is not refreshed after saving

3) If I open ""edit pageproperties"" and then navigate on the website below some of this should happen:
   a) The pageproperties dialog should be closed (warning if i have unsaved data)
   b) navigation should be disabled if I edit something
   c) The pageproperties dialog should reload to the page that is beeing clicked
"
9322,TYPO3.Neos,Bug,"",Resolved,Should have,Aloha Connector causes JS error: en.dict could not be loaded,Robert Lemke,"",2010-10-20 05:40,UI,"",2010-08-16,"","",100,2010-08-16 05:26,"","",1817350,"",F3.TYPO3.Content.AlohaConnector: Error while getting dictionary file http://dev.demo.phoenix.rob/_Resources/Static/Packages/TYPO3/Backend/Aloha/WebContent/plugins/F3.TYPO3.Content.AlohaConnector/i18n/en.dict: server returned error
9474,TYPO3.Neos,Bug,"",Closed,Should have,As Cornelius I want a basic set of CE-Types (Building Blocks for Websites),Daniel Poetzinger,Berit Hlubek,2012-08-31 04:38,"","","","","",100,2010-08-26 16:40,"","",1765800,0.00,"We want to have a basic set of common contenttypes that are common for most websites.
This is for having better real world examples for the upcoming Editing Stories. And this is useful as a basic for building new layouts.

The idea is to have at least this contenttypes (see attachment for first wireframe)


- Text Element
  - Having rich text markup (h1,h2...) as well as plain images (floating, alttext)
  [no special contentelement settings] 

- 2 Column Element
 [Settings: Layout; Columnweight (e.g. 50:50; 25:75)]

- 3 Column Element
[Settings: Layout; Columnweight (e.g. 33:33:33; 50:25:25)]

- Tab Element
[Settings: Layout; Behaviour | Actions: add tab]

- Accordion Element
[Settings: Layout; Behaviour | Actions: add accordion]

-CTA Button (CTA= Call to action)
[Settings: Layout]

- Box Element
[Settings: Layout; Foating; Background-Image; Fixed Sizes]




Acceptance criteria:
 - JS + HTML + CSS Markup prepared in nice sample pages for the starterpage layout
 - Optional: further documentation on the contentelements in the wiki

"
9479,TYPO3.Neos,Task,"",Resolved,Must have,Move ContentService functionality to TYPO3CR,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","",2010-08-27,"","",0,2010-08-27 05:11,"","",48900,"","Currently the TYPO3 package has its own little content repository functionality (structure nodes, content service etc.). As discussed during the scrums and inbetween, we move this portion to the TYPO3CR package.

Refactor the respective code parts so that it works like before, but this time based on the TYPO3CR."
9480,TYPO3.Neos,Feature,"",Resolved,Should have,Login screen should redirect to setup controller if no account exists,Robert Lemke,Karsten Dambekalns,2010-10-20 05:40,"","",2010-08-27,"","",100,2010-08-27 08:28,"","",1817300,"","http://host/typo3 shows the login screen even if no account or site is configured. That can be misleading because the only error you'll see is ""wrong username or password"".

Instead we should redirect to the setup controller if no account exists yet."
9624,TYPO3.Neos,Task,"",Resolved,Should have,CSS changes after login,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:38,"","","","","",100,2010-09-07 05:44,"","",49550,"",After logging in the site looks different than before. Not exactly what the bold WYSIWYG approach of Aloha promises...
9629,TYPO3.Neos,Bug,"",Resolved,Should have,en.dict not found in Aloha,Karsten Dambekalns,"",2010-10-20 05:40,UI,"","","","",100,2010-09-07 07:16,"","",1817250,"",Issue #9322 is back...
9681,TYPO3.Neos,Bug,"",Resolved,Must have,DomainRepository->findByHost passes wrong parameter type ,Christian Jul Jensen,Karsten Dambekalns,2010-10-20 05:40,"","",2010-09-10,"","",100,2010-09-10 09:45,"","",1817200,"","F3\TYPO3\Domain\Repository\Configuration\DomainRepository->findByHost directly passes the result $this->findAll() to getSortedMatches.

findAll returns an objcet, but getSortedMatches expects an array"
10082,TYPO3.Neos,Bug,"",Resolved,Should have,"After deleting the current page, a redirect should be done to the PARENT page.",Sebastian Kurfuerst,Karsten Dambekalns,2010-11-22 09:50,UI,"",2010-10-06,"","",100,2010-10-06 02:16,"","",1817150,"","After deleting the current page, a redirect should be done to the PARENT page.

Right now, ""Page not found"" is displayed."
10083,TYPO3.Neos,Bug,"",Closed,Should have,Remove F3.TYPO3.Content.contentChanged event,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-09-07 10:07,UI,"",2010-10-06,"","",0,2010-10-06 02:18,"","",1817100,"","Remove F3.TYPO3.Content.contentChanged event, and instead rewrite it to use the ContentModule, and not Application."
10084,TYPO3.Neos,Bug,"",Resolved,Should have,Core.Application.js -> initializeModules->Change to event handling ,Sebastian Kurfuerst,"",2010-12-10 08:42,"","",2010-10-06,"","",0,2010-10-06 02:20,"","",1817050,"","The method in *Core/Application.js* has a todo comment -- we should use event handling, and get rid of ""afterInitializationCallbacks"".


	/**
	 * Invoke the registered modules.
	 * @private
	 */
	_initializeModules: function() {
		for (var moduleName in this.modules) {
			if (this.modules[moduleName].initialize !== undefined) {
				this.modules[moduleName].initialize(F3.TYPO3.Core.Application);
			}
		}

		// TODO Change to event handling
		Ext.each(this.afterInitializationCallbacks, function(c) {
			if (this.modules[c.moduleName]) {
				c.callback.call(c.scope, this.modules[c.moduleName]);
			}
		}, this);
		this.afterInitializationCallbacks = [];
	},"
10085,TYPO3.Neos,Bug,"",Resolved,Should have,Fix variable names in F3.TYPO3.UserInterface.BreadcrumbMenu.EventModel,Sebastian Kurfuerst,Rens Admiraal,2010-10-20 05:40,"","",2010-10-06,"","",100,2010-10-06 02:38,"","",1817000,"","Sometimes, the variables inside F3.TYPO3.UserInterface.BreadcrumbMenu.EventModel are ""e"" or ""t"", please use more speaking names for them."
10086,TYPO3.Neos,Task,"Story #10367: As Roger, I want to have Guidelines for JavaScript and CSS Programming",Resolved,Should have,Create a JavaScript CGL for Phoenix,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","",2010-10-06,"",0.00,80,2010-10-06 02:49,"","",52900,0.00,Create a JavaScript CGL for Phoenix
10087,TYPO3.Neos,Task,"Bug #11043: As Roger, I want to have Guidelines for CSS Programming",Closed,Should have,Create a CSS CGL for Phoenix,Sebastian Kurfuerst,Berit Hlubek,2012-08-31 04:38,"","",2010-10-06,"","",0,2010-10-06 02:49,"","",52950,"",Create a CSS CGL for Phoenix
10143,TYPO3.Neos,Bug,"",Resolved,Should have,Animation of breadcrumb module navigation is jerky,Robert Lemke,Christian Müller,2010-10-20 05:40,UI,"",2010-10-07,"","",100,2010-10-07 07:11,"","",1816950,"",see attached video
10168,TYPO3.Neos,Bug,"",Resolved,Must have,Can't execute delete page action in WebKit browsers,Robert Lemke,Robert Lemke,2010-10-20 05:40,TypoScript,"",2010-10-08,"","",100,2010-10-08 10:03,"","",1816900,"","In WebKit based browsers no pages can be deleted: When trying to press the OK button of the deletion dialog, a syntax error is displayed due to ""delete"" being a reserved keyword."
10271,TYPO3.Neos,Task,"Story #8797: As a backend user, I want the new Visual Design implemented",Resolved,Should have,Create empty design implementation guideline document,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:38,"","","","",1.00,100,2010-10-15 08:41,"","",54750,1.00,"We need a ""Guideline for Design Implementation"" and should use DocBook for that."
10272,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Render Design Implementation Guideline on website,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:38,"",Sprint 7,"","",1.00,100,2010-10-15 08:42,"","",54800,0.00,"We need the ""Guideline for Design Implementation"" rendered on the Phoenix website."
10276,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Create ExtJS Theme for Phoenix,Nils Dehl,Nils Dehl,2011-09-07 10:07,UI,Sprint 7,2010-10-15,2010-11-12,"",10,2010-10-15 11:14,"","",54900,"","* create a new theme folder
* create theme testsite where we can test all components like -> http://dev.sencha.com/deploy/dev/examples/themes/index.html
* define a order for layouting the components
* rewrite xtemplates with lightweight html5 markup where needed 

"
10282,TYPO3.Neos,Task,"Story #8797: As a backend user, I want the new Visual Design implemented",Resolved,Must have,Set up a WebDAV server for sharing photoshop and other design files,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","",2010-10-16,2010-10-21,"",100,2010-10-16 04:18,"","",55050,"","We need a WebDAV file server which we can use to share bigger files, like photoshop files."
10283,TYPO3.Neos,Task,"Story #8797: As a backend user, I want the new Visual Design implemented",Resolved,Should have,"Upload Photoshop Files for Content View, Login, ...",Sebastian Kurfuerst,Jens Hoffmann,2012-08-31 04:38,"","",2010-10-22,2010-10-22,0.00,0,2010-10-16 04:19,"","",55100,0.00,depends on WebDAV being done first.
10284,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,"Create and maintain the ""Guideline for design Implementation""",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,2010-10-16,"","",30,2010-10-16 04:21,"","",55150,"","make sure it is consistent, everything is included, etc."
10310,TYPO3.Neos,Bug,"",Resolved,Must have,"TYPO3 is GPL, not LGPL",Karsten Dambekalns,Christian Müller,2010-10-20 05:40,"","",2010-10-18,"","",100,2010-10-17 18:17,"","",1816850,"","In a bunch of JS files the header mentions LGPL, this is wrong and *must* be fixed!"
10364,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Rejected,Should have,create a generic Icon-Widget with Glow+Shadow+...,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-10-21 04:20,"","",55800,"",""
10365,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,"Create ""Guidelines for the UI/UX""",Sebastian Kurfuerst,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-10-21 04:24,"","",55850,"",""
10366,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Clean up Breadcrumb Menu,Sebastian Kurfuerst,Rens Admiraal,2012-08-31 04:38,"","","","",0.00,0,2010-10-21 04:29,"","",55900,0.00,""
10369,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,"Add API Documentation to JavaScript files, and format them according to CGLs",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","",2010-10-07,2010-10-07,0.00,0,2010-10-21 04:38,"","",55950,0.00,""
10370,TYPO3.Neos,Task,Story #10368: As Gerrit I want that editors don't edit content directly on the live website,Resolved,Should have,Content Repository: Implement basic workspace support with personal workspaces,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-10-21 04:38,"","",56000,0.00,""
10371,TYPO3.Neos,Task,Story #10368: As Gerrit I want that editors don't edit content directly on the live website,Resolved,Should have,"Implement ""Publish workspace?"" dialog in the backend UI",Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-10-21 04:39,"","",56050,0.00,""
10372,TYPO3.Neos,Task,Story #10368: As Gerrit I want that editors don't edit content directly on the live website,Resolved,Should have,Implement service method for publishing workspace,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-10-21 04:39,"","",56100,0.00,""
10375,TYPO3.Neos,Task,Story #7922: As Magarethe I want to delete pages,Resolved,Should have,Make sure the user is redirected to the parent page.,Sebastian Kurfuerst,Karsten Dambekalns,2012-08-31 04:38,"","","","",0.00,0,2010-10-21 05:05,"","",56150,0.00,""
10376,TYPO3.Neos,Task,Story #9475: As Robin I want to use a REST service to access the content repository,Closed,Should have,Document use of REST service,Robert Lemke,"",2012-08-31 04:38,"","","","",0.00,0,2010-10-21 05:12,"","",56200,0.00,""
10377,TYPO3.Neos,Task,"Story #8797: As a backend user, I want the new Visual Design implemented",Resolved,Should have,Implement the login screen design,Berit Hlubek,Berit Hlubek,2012-08-31 04:38,"","",2010-10-21,"","",0,2010-10-21 05:52,"","",56250,"",Implement the login screen design
10378,TYPO3.Neos,Task,"Story #10367: As Roger, I want to have Guidelines for JavaScript and CSS Programming",Resolved,Should have,Create a separate Document for all CGLs (inside FLOW3 Package),Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","","","",0.00,0,2010-10-21 06:21,"","",56300,0.00,""
10379,TYPO3.Neos,Task,Bug #9474: As Cornelius I want a basic set of CE-Types (Building Blocks for Websites),Closed,Should have,Add jquery to the tab & the accordion CE HTML,Berit Hlubek,Berit Hlubek,2012-08-31 04:38,"","","","","",0,2010-10-21 06:22,"","",56350,"",Add jquery to the tab & the accordion content element HTML.
10380,TYPO3.Neos,Task,Bug #9474: As Cornelius I want a basic set of CE-Types (Building Blocks for Websites),Closed,Should have,Embed the HTML content types in an example page,Berit Hlubek,Berit Hlubek,2012-08-31 04:38,"","","","","",0,2010-10-21 06:23,"","",56400,"",Embed the HTML content types in an example page that has the layout of the starterpackage.
10381,TYPO3.Neos,Task,Bug #9474: As Cornelius I want a basic set of CE-Types (Building Blocks for Websites),Closed,Should have,Place the HTML templates to Versioncontrol,Berit Hlubek,Berit Hlubek,2012-08-31 04:38,"","","","","",0,2010-10-21 06:42,"","",56450,"",""
10388,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Find the right place for JavaScript unit tests,Sebastian Kurfuerst,Rens Admiraal,2012-08-31 04:38,"","","","",0.00,0,2010-10-21 13:49,"","",56500,0.00,""
10390,TYPO3.Neos,Bug,"",Resolved,Should have,Modules do not get an updated Layout upon activation,Christian Müller,Christian Müller,2010-10-22 05:15,"","",2010-10-21,"","",100,2010-10-21 14:42,"","",1816800,"",For now we just have the Content Module which is layouted by default (ExtJS rendering). Other modules might need a forced doLayout of the content area on changing the module. Eg. Management View will be broken without because sizes don't get updated correctly.
10393,TYPO3.Neos,Task,"",Resolved,Should have,latest.phoenix.demo.typo3.org is still not working.,Sebastian Kurfuerst,Karsten Dambekalns,2012-08-31 04:38,"","",2010-10-23,"","",100,2010-10-22 02:37,"","",56650,"",""
10424,TYPO3.Neos,Task,Story #10373: As Roger I want to have functional testing support in FLOW3,Resolved,Should have,Implement build scripts for functional testing,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-10-25 06:15,"","",56900,0.00,""
10425,TYPO3.Neos,Task,Story #10373: As Roger I want to have functional testing support in FLOW3,Resolved,Should have,Automatically register classes found in PackageKey/Tests/Functional/,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-10-25 06:18,"","",56950,0.00,""
10426,TYPO3.Neos,Task,Story #10373: As Roger I want to have functional testing support in FLOW3,Resolved,Should have,Implement functional testing support in the Testing package,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-10-25 06:19,"","",57000,0.00,""
10435,TYPO3.Neos,Task,Story #10373: As Roger I want to have functional testing support in FLOW3,Resolved,Should have,Integrate functional testing in Hudson build,Robert Lemke,Karsten Dambekalns,2012-08-31 04:38,"","","","",0.00,100,2010-10-25 11:28,"","",57050,0.00,""
10437,TYPO3.Neos,Task,Story #10373: As Roger I want to have functional testing support in FLOW3,Closed,Should have,Document functional testing and unit test namespaces in CGLs,Robert Lemke,Karsten Dambekalns,2012-08-31 04:38,"","","","",0.00,50,2010-10-25 11:55,"","",57100,0.00,""
10438,TYPO3.Neos,Task,Story #10373: As Roger I want to have functional testing support in FLOW3,Resolved,Should have,Adjust tests to new namespace conventions,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-10-25 12:32,"","",57150,0.00,""
10458,TYPO3.Neos,Task,Story #10373: As Roger I want to have functional testing support in FLOW3,Resolved,Should have,Create Phing task which flushes caches prior to running functional tests,Robert Lemke,Karsten Dambekalns,2012-08-31 04:38,"","","","","",100,2010-10-26 04:51,"","",57650,"",""
10466,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Clean up module registration,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","","","",0.00,0,2010-10-26 08:11,"","",57750,0.00,""
10478,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Update JS Unit Tests to use YUI Test 3,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","","","",0.00,0,2010-10-27 04:15,"","",57800,0.00,""
10479,TYPO3.Neos,Task,"Story #11042: As Roger, I want clean and extensible JavaScript Code",Closed,Should have,Move JS Unit testing to the Testing package,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-10-27 04:57,"","",57850,"",""
10497,TYPO3.Neos,Task,"Story #11042: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,"Refactor Content.FrontendEditor.getCurrentContext -- this is used in a lot of places, and is right now called with
Ext.getCmp('F3.TYPO3.Content.FrontendEditor').getCurrentContext() -- which seems kinda unclean",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-10-28 03:53,"","",58000,0.00,""
10499,TYPO3.Neos,Task,"Story #11042: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Refactor UserInterface.ContentDialog event names,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-10-28 04:01,"","",58050,0.00,""
10500,TYPO3.Neos,Task,"Story #11042: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,"Refactor ""Content Changed"" events",Sebastian Kurfuerst,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-10-28 04:06,"","",58100,0.00,""
10502,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,make sure the unit tests also run in WebKit browsers -- there seem to be some registry errors there,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","","","",0.00,0,2010-10-28 04:49,"","",58200,0.00,""
10507,TYPO3.Neos,Bug,"",Resolved,Should have,As  Klaus  I want to use nested content elements on a website,Daniel Poetzinger,"",2012-08-31 04:38,"","","","","",100,2010-10-28 08:42,"","",2606900,0.00,""
10611,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Explore using JSON schema to document/test the registry.,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","","","",0.00,0,2010-11-03 14:50,"","",59700,0.00,""
10619,TYPO3.Neos,Task,Story #8644: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,Implement an ExtDirect method returning the root node of a site,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-04 07:12,"","",59850,0.00,""
10621,TYPO3.Neos,Task,Story #10620: As Roger I want a reasonable test coverage of the TYPO3CR package,Resolved,Should have,Implement functional tests for API functions,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-04 07:17,"","",59900,0.00,""
10622,TYPO3.Neos,Task,Story #10620: As Roger I want a reasonable test coverage of the TYPO3CR package,Resolved,Should have,Implement unit tests,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-04 07:18,"","",59950,0.00,""
10625,TYPO3.Neos,Task,Story #11045: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,implement custom accessor to get only FOLDERs (for left side),Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","","","","",0,2010-11-04 10:28,"","",60000,"",""
10626,TYPO3.Neos,Task,Story #11045: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,"make mgmt view extensible, to be able to add items to left and right area",Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","","","",0.00,0,2010-11-04 10:29,"","",60050,0.00,should work similarily to how it is done in ContentArea
10628,TYPO3.Neos,Task,Story #8644: As Robin I want to have a Basic ManagementView (List),Rejected,Should have,create grouping store for grids on the right side,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","","","",0.00,0,2010-11-04 10:31,"","",60100,0.00,""
10629,TYPO3.Neos,Task,Story #11045: As Robin I want to have a Basic ManagementView (List),Rejected,Should have,"create ""TabGrid"" component for right side of management view",Sebastian Kurfuerst,"",2012-08-31 04:38,"","","","",0.00,0,2010-11-04 10:32,"","",60150,0.00,"is a TabPanel, and there is one tab for each content type; and inside is a Grid with the elements displayed"
10630,TYPO3.Neos,Task,Story #11045: As Robin I want to have a Basic ManagementView (List),Rejected,Should have,implement a GridEditor to edit the grid elements,Sebastian Kurfuerst,"",2012-08-31 04:38,"","","","",0.00,0,2010-11-04 10:34,"","",60200,0.00,""
10631,TYPO3.Neos,Task,Story #9475: As Robin I want to use a REST service to access the content repository,Resolved,Should have,Refactor current REST service to new namespace conventions,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-04 10:35,"","",60250,0.00,""
10632,TYPO3.Neos,Task,Story #11045: As Robin I want to have a Basic ManagementView (List),Rejected,Should have,"make TabGrid listen to ""change events"" and create appropriate children",Sebastian Kurfuerst,"",2012-08-31 04:38,"","","","",0.00,0,2010-11-04 10:57,"","",60300,0.00,"on change of left side selection:
* fetch data (everything which is NOT folder), grouped by data type
* create for each data type: 
** the appropriate store (an instance of NodeStore)
** the grid
** connect the two
** set the correct writer"
10633,TYPO3.Neos,Task,Story #8644: As Robin I want to have a Basic ManagementView (List),Resolved,Should have,CGL cleanup for the management view,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","","","",0.00,0,2010-11-04 11:07,"","",60350,0.00,""
10647,TYPO3.Neos,Task,"Story #10285: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Get rid of eval() in DeletePageDialog.js,Karsten Dambekalns,Sebastian Kurfuerst,2012-08-31 04:38,"","","","",0.00,0,2010-11-05 10:39,"","",60400,0.00,""
10675,TYPO3.Neos,Task,Story #7921: As  Magarethe I want to add  pages,Resolved,Should have,Adding pages is broken since JS cleanup,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:38,"","","","",0.00,0,2010-11-08 09:19,"","",60750,0.00,""
10681,TYPO3.Neos,Task,Story #9475: As Robin I want to use a REST service to access the content repository,Resolved,Should have,Add support for Accept headers,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-08 11:26,"","",60800,0.00,""
10720,TYPO3.Neos,Task,"Story #8797: As a backend user, I want the new Visual Design implemented",Resolved,Should have,Implement wallpaper in backend,Sebastian Kurfuerst,Berit Hlubek,2012-08-31 04:38,"","","","",0.00,0,2010-11-11 02:39,"","",61350,0.00,""
10722,TYPO3.Neos,Task,Story #10368: As Gerrit I want that editors don't edit content directly on the live website,Resolved,Should have,"Make parameters of URI and Link NodeViewHelper optional.

If parameters are omitted, the _current_ value of the contexts should be used.",Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-11 03:47,"","",61400,0.00,""
10727,TYPO3.Neos,Task,Story #7921: As  Magarethe I want to add  pages,Resolved,Should have,After adding a page I want to be redirected there,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:38,"","","","",1.00,0,2010-11-11 05:30,"","",61500,0.00,""
10733,TYPO3.Neos,Bug,"",Closed,Could have,"As a backend user, I want a clean visual design for the whole UI",Robert Lemke,"",2012-08-31 04:38,"",Sprint 7,2010-07-06,2010-11-12,1.00,100,2010-11-11 10:05,"","",1766100,0.00,""
10734,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Breadcrumb Menu jitters when when you roll over that,Jens Hoffmann,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-11-11 10:20,"","",61550,0.00,""
10810,TYPO3.Neos,Task,Story #10368: As Gerrit I want that editors don't edit content directly on the live website,Resolved,Should have,Implement delete-nodes support for workspaces,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-15 06:54,"","",62300,0.00,""
10855,TYPO3.Neos,Task,"Story #11042: As Roger, I want clean and extensible JavaScript Code",Resolved,Must have,Restructure files beneath Resources/Public/JavaScript,Rens Admiraal,Rens Admiraal,2011-05-17 04:05,UI,Sprint 7,2010-11-16,"","",100,2010-11-16 11:30,"","",62450,"","Restructure files beneath Resources/Public/JavaScript
"
11043,TYPO3.Neos,Bug,"",Closed,Should have,"As Roger, I want to have Guidelines for CSS Programming",Robert Lemke,"",2012-08-31 04:38,"","",2010-10-06,"","",100,2010-11-24 06:37,"","",2606650,0.00,""
11156,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Create technical concept for content element handling,Robert Lemke,Robert Lemke,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-11-30 05:44,"","",64500,0.00,""
11157,TYPO3.Neos,Task,"Story #10273: As Roger, I want to have Doctrine2 for persistence evaluated",Resolved,Should have,Create prototype to assess issues when using Doctrine2,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:38,"","","","",0.00,0,2010-11-30 05:44,"","",64550,0.00,""
11176,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Closed,Should have,Implement content type registration mechanism (e.g. ContentTypes.yaml),Robert Lemke,"",2012-08-31 04:38,"",Sprint 7,"","","",0,2010-11-30 10:24,"","",64750,"",""
11177,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,"Remove ""OpenID"" button from login screen (because that's not implemented yet)",Robert Lemke,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-11-30 10:34,"","",64800,"",""
11181,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Style the Aloha floating menu,Robert Lemke,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","",0.00,70,2010-11-30 11:48,"","",64850,0.00,""
11182,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Style the Aloha content border (aka yellow flashing rectangle),Robert Lemke,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-11-30 11:49,"","",64900,0.00,""
11183,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Develop new double-click / activation behavior for Aloha content,Robert Lemke,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-11-30 11:53,"","",64950,"",""
11184,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Style top bar background,Robert Lemke,Berit Hlubek,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-11-30 12:04,"","",65000,"",""
11185,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,"Style ""My Area"" + publish indicator",Robert Lemke,Berit Hlubek,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-11-30 12:35,"","",65050,"",""
11186,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,"Remove Report, Layout and System tabs as they are not yet implemented",Robert Lemke,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-11-30 12:38,"","",65100,"",""
11188,TYPO3.Neos,Task,"Story #11187: As a community member, I want a smooth demo site experience",Resolved,Should have,Make Latest Tweets widget non-editable,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","","","",0.00,0,2010-11-30 13:27,"","",65150,0.00,""
11189,TYPO3.Neos,Task,"Story #11187: As a community member, I want a smooth demo site experience",Resolved,Should have,Implement create-demo-account functionality,Robert Lemke,Bastian Waidelich,2012-08-31 04:38,"","","","",0.00,0,2010-11-30 13:28,"","",65200,0.00,""
11192,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Create wireframe for Dashboard (publish list / commit),Robert Lemke,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-11-30 15:01,"","",65250,"",""
11200,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Auto-create text element after creating new page,Robert Lemke,"",2012-08-31 04:38,"",Sprint 7,"","","",0,2010-12-01 04:40,"","",65300,"",""
11220,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Explore technical possibilities for add-new-content-element in Aloha,Robert Lemke,Christian Müller,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-02 04:47,"","",65500,0.00,""
11221,TYPO3.Neos,Task,"Story #11187: As a community member, I want a smooth demo site experience",Resolved,Should have,"Create simple support for ""Plugin"" content types",Robert Lemke,Bastian Waidelich,2012-08-31 04:38,"","","","",0.00,0,2010-12-02 05:00,"","",65550,0.00,""
11259,TYPO3.Neos,Task,"Story #11187: As a community member, I want a smooth demo site experience",Resolved,Should have,Make sure pages with invalid node name cannot be created ,Karsten Dambekalns,Karsten Dambekalns,2012-08-31 04:38,"","","","","",0,2010-12-03 08:24,"","",65650,"",""
11327,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Disabled Aloha on the actual website (outside the UI) even when a user is logged in,Robert Lemke,"",2012-08-31 04:38,"",Sprint 7,"","","",0,2010-12-08 04:12,"","",65800,"",""
11360,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Hide Frontend iFrame or style with background #333 to avoid flashing right after login,Robert Lemke,Christian Müller,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-09 10:52,"","",65950,0.00,""
11373,TYPO3.Neos,Task,"",Resolved,Should have,Setup / kickstarter is broken,Christian Winther,Karsten Dambekalns,2012-08-31 04:38,"","",2010-12-10,"","",100,2010-12-10 06:10,"","",66100,"","I'm getting

Error: During import an exception occured. Unknown content type ""Twitter:LatestTweets"".  (in typo3/setup)"
11424,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Style the logout button,Robert Lemke,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-13 09:20,"","",66450,0.00,"Style the logout button (and the name tab) according to the Photoshop design.

!Dashboard-Logout-010a24046cedf607d18244c84df4ff4be22893b6_.png!"
11524,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Create Favicon.ico file,Sebastian Kurfuerst,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-16 13:44,"","",66800,0.00,""
11542,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Set Dashboard background to #A6A6A6,Robert Lemke,Christian Müller,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-12-17 05:27,"","",66850,"",""
11543,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Style display filter bar,Robert Lemke,Berit Hlubek,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-17 05:30,"","",66900,0.00,""
11544,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Fix labels for dialog buttons,Robert Lemke,Christian Müller,2012-08-31 04:38,"",Sprint 7,"","","",0,2010-12-17 05:31,"","",66950,"",""
11545,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Could have,Make content-changed-number 100% visible all the time,Robert Lemke,"",2011-09-07 10:07,UI,Sprint 7,"","","",0,2010-12-17 05:54,"","",67000,"",""
11547,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Move Logout button to module bar in Dashboard,Robert Lemke,Christopher Hlubek,2012-08-31 04:38,"",Sprint 7,"","","",60,2010-12-17 06:12,"","",67050,"",""
11557,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Dashboard: Implement scrollbar for list of unpublished nodes,Robert Lemke,Christopher Hlubek,2012-08-31 04:38,"",Sprint 7,"","","",100,2010-12-17 11:24,"","",67100,"",""
11588,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Style the breadcrumb menu (icons),Robert Lemke,Robert Lemke,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-20 05:47,"","",67250,0.00,""
11612,TYPO3.Neos,Task,"",Closed,Should have,Login screen does not scroll on small windows,Rens Admiraal,Berit Hlubek,2012-08-31 04:38,"","",2010-12-21,"","",0,2010-12-21 01:55,"","",67500,"","When you have a small browser window you have no chance to login because you don't have the loginform visible.

This is not only the case when firebug is opened (like in the screenshot), but also when you have a small browser window."
11613,TYPO3.Neos,Task,"",Resolved,Should have,'Non editable markers' of aloha do not relocate on browser resize,Rens Admiraal,Sebastian Kurfuerst,2012-08-31 04:38,"","",2010-12-21,"","",0,2010-12-21 02:52,"","",67550,"","When you are in editing mode, and resize your browser window, than the 'non editable markers' stay on the same location relative to left top corner, while the content below (which it marks) are possibly moved to another location."
11622,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Create a design for the Dashboard,Jens Hoffmann,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-21 06:10,"","",67650,0.00,""
11625,TYPO3.Neos,Task,"Story #11187: As a community member, I want a smooth demo site experience",Resolved,Should have,Prevent the initial setup from being executed twice,Bastian Waidelich,Bastian Waidelich,2012-08-31 04:38,"","","","",0.00,0,2010-12-21 08:11,"","",67750,0.00,""
11628,TYPO3.Neos,Feature,"",Resolved,Could have,Make secondLevelMenu a submenu of current page,Robert Lemke,Robert Lemke,2012-07-13 10:39,"","","","","",0,2010-12-21 09:12,"","",2608900,"",""
11637,TYPO3.Neos,Bug,"",Resolved,Must have,Fix aloha editing in firefox,Andreas Förthner,Sebastian Kurfuerst,2011-06-23 02:13,UI,Sprint 7,2010-12-22,"","",0,2010-12-22 04:13,"","",2606600,"","Sometimes the aloha editing does not work in firefox. Aloha is loaded, but no cursor appears and editing text does not work. Formatting a selection works, though. Reloading helps sometimes."
11648,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,"Remove ""Update List"" button in Dashboard and make ""Publish"" button green (positive action)",Robert Lemke,Robert Lemke,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2010-12-22 05:42,"","",67850,0.00,""
11654,TYPO3.Neos,Bug,"",Rejected,-- undefined --,Fix key press handling in Content Dialog,Christian Müller,"",2011-07-27 10:00,"","",2010-12-22,"","",0,2010-12-22 09:33,"","",2606550,"",Currently the ContentDialog uses a Ext.keyMap on document to work with key events. That should be refactored.
11959,TYPO3.Neos,Bug,"",Closed,Should have,Documentation,Sebastian Kurfuerst,"",2012-08-31 04:38,"","",2011-01-07,"","",100,2011-01-06 08:20,"","",2607100,0.00,""
11960,TYPO3.Neos,Task,Bug #11959: Documentation,Closed,Should have,update Installation documentation,Sebastian Kurfuerst,Karsten Dambekalns,2012-08-31 04:38,"","","","","",0,2011-01-06 08:20,"","",70700,"",""
11961,TYPO3.Neos,Task,Bug #11959: Documentation,Resolved,Should have,migrate Cache Framework documentation to FLOW3,Sebastian Kurfuerst,Karsten Dambekalns,2012-08-31 04:38,"","",2011-01-07,"","",100,2011-01-06 08:20,"","",70750,"",""
11963,TYPO3.Neos,Task,Bug #11959: Documentation,Closed,Should have,create documentation for MVC,Sebastian Kurfuerst,"",2012-08-31 04:38,"","","","","",0,2011-01-06 08:22,"","",70850,"",""
11966,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,"create ""final"" icons for the breadcrumb menu",Sebastian Kurfuerst,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","","",0,2011-01-06 08:25,"","",70950,"",""
11990,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Make it possible to render a given node on its own,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-01-07 05:04,"","",71200,0.00,""
12102,TYPO3.Neos,Task,"Story #11946: As Roger, I want to have Doctrine implemented as Persistence backend",Resolved,Should have,Explore Doctrine2 implementation details,Robert Lemke,Karsten Dambekalns,2012-08-31 04:38,"","","","",0.00,0,2011-01-11 09:22,"","",71550,0.00,""
12103,TYPO3.Neos,Task,"Story #11946: As Roger, I want to have Doctrine implemented as Persistence backend",Resolved,Should have,Implement Doctrine2 support in Persistence,Robert Lemke,Karsten Dambekalns,2012-08-31 04:38,"","","","","",100,2011-01-11 09:22,"","",71600,"",""
12104,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Closed,Should have,Create Photoshop design for add-new-content element,Robert Lemke,"",2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-01-11 09:52,"","",71650,0.00,""
12363,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Aloha should have buttons to insert new content elements,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-01-19 04:51,"","",73800,0.00,""
12366,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Make content type names localizable,Sebastian Kurfuerst,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-01-19 05:39,"","",73850,0.00,""
12368,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Implement moving of nodes,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-01-19 06:28,"","",73900,0.00,""
12370,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Create placeholders if contenteditable is empty,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-01-19 07:06,"","",73950,0.00,""
12388,TYPO3.Neos,Task,"Bug #12610: As Klaus, I want to move content elements",Closed,Should have,Make moving of nodes workspace-aware,Sebastian Kurfuerst,Christian Müller,2012-08-31 04:38,"","","","","",0,2011-01-20 00:32,"","",74150,"",""
12610,TYPO3.Neos,Bug,"",Closed,Should have,"As Klaus, I want to move content elements",Sebastian Kurfuerst,"",2012-08-31 04:38,"","","","","",67,2011-01-28 07:00,"","",2607000,0.00,""
12611,TYPO3.Neos,Task,"Bug #12610: As Klaus, I want to move content elements",Closed,Should have,"UI: when in editing mode, highlight content elements on roll over",Sebastian Kurfuerst,Sebastian Kurfuerst,2011-05-10 02:45,"","","","","",0,2011-01-28 07:01,"","",75600,"",""
12685,TYPO3.Neos,Task,"Story #11042: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,Cleanup Aloha Frontend Editor,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-02-01 04:28,"","",76400,0.00,""
12686,TYPO3.Neos,Task,"Bug #12610: As Klaus, I want to move content elements",Resolved,Should have,Move content elements in JavaScript,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","","","",0.00,0,2011-02-01 04:30,"","",76450,0.00,""
12696,TYPO3.Neos,Task,Story #8787: As  Klaus  I want to add new content elements to a website,Resolved,Should have,Style content placeholders,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-02-01 08:18,"","",76500,0.00,""
12697,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Resolved,Should have,Breadcrumb menu should be animated a bit slower,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-02-01 08:22,"","",76550,0.00,"As discussed with Jens, the animations in the breadcrumb menu should be a little bit slower.
Furthermore, on shrinking, the opacity should be animated *first*, and then the *width* should shrink"
13502,TYPO3.Neos,Task,"Story #11946: As Roger, I want to have Doctrine implemented as Persistence backend",Resolved,Should have,Refactor models etc. of TYPO3 package,Robert Lemke,Andreas Förthner,2012-08-31 04:38,"","","","","",100,2011-03-02 04:09,"","",82650,"",""
13529,TYPO3.Neos,Task,Story #13528: Improve editing of content elements,Closed,Should have,Design some kind of menu for a content element (for example for drag and drop),Rens Admiraal,Jens Hoffmann,2012-08-31 04:38,"","","","","",0,2011-03-02 10:12,"","",82950,"",""
13530,TYPO3.Neos,Task,Story #13528: Improve editing of content elements,Closed,Should have,Concept / Design for changing HTML,Rens Admiraal,"",2012-08-31 04:43,"","","","","",0,2011-03-02 10:12,"","",83000,"",""
13531,TYPO3.Neos,Task,Story #8786: As Klaus I want to see all available contenttypes in order to add one to the current page,Resolved,Should have,Insert HTML content element,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",100,2011-03-02 10:13,"","",83050,"",""
13533,TYPO3.Neos,Task,Story #8786: As Klaus I want to see all available contenttypes in order to add one to the current page,Resolved,Should have,Nice to have: Text/image content element,Rens Admiraal,Sebastian Kurfuerst,2011-09-19 11:36,UI,Sprint 7,"","","",100,2011-03-02 10:14,"","",83100,"",""
13535,TYPO3.Neos,Task,Bug #10507: As  Klaus  I want to use nested content elements on a website,Resolved,Should have,Nice to have: Nested content elements for containers,Rens Admiraal,"",2012-08-31 04:38,"","","","","",0,2011-03-02 10:14,"","",83150,"",""
13536,TYPO3.Neos,Task,Story #13528: Improve editing of content elements,Closed,Should have,Nice to have: content element styles,Rens Admiraal,"",2012-08-31 04:38,"","","","","",0,2011-03-02 10:15,"","",83200,"",""
13537,TYPO3.Neos,Task,Story #8788: As Magarethe I want to delete content elements on a website,Closed,Should have,Finetune deletion of elements,Rens Admiraal,"",2012-08-31 04:38,"","","","","",0,2011-03-02 10:16,"","",83250,"",""
13538,TYPO3.Neos,Task,Story #13528: Improve editing of content elements,Resolved,Should have,"Cleanup aloha text presets (leave paragraph + h1, h2, h3)",Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"","","","","",100,2011-03-02 10:19,"","",83300,"",""
13539,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Colors / design of the publish nodes dashboard finetuning,Rens Admiraal,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","","",0,2011-03-02 10:20,"","",83350,"",""
13540,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Make 'Filter menu' ready for conference site (should contain meaningful data / the correct design),Rens Admiraal,"",2012-08-31 04:38,"",Sprint 7,"","","",0,2011-03-02 10:21,"","",83400,"",""
13541,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Design how visibility / access settings for a page should be configured,Rens Admiraal,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","","",0,2011-03-02 10:21,"","",83450,"",""
13542,TYPO3.Neos,Task,"Bug #10733: As a backend user, I want a clean visual design for the whole UI",Closed,Should have,Design how visibility / access settings for content elements should be configured,Rens Admiraal,Jens Hoffmann,2012-08-31 04:38,"",Sprint 7,"","","",0,2011-03-02 10:22,"","",83500,"",""
13543,TYPO3.Neos,Bug,"",Closed,Should have,Improve page management,Rens Admiraal,"",2012-08-31 04:38,"","","","","",0,2011-03-02 10:22,"","",2606950,0.00,""
13544,TYPO3.Neos,Task,"",Resolved,Should have,Add possibility to select a page template,Rens Admiraal,"",2013-10-22 10:30,UI,"","","","",100,2011-03-02 10:23,"","",83550,"",""
13545,TYPO3.Neos,Feature,"",Closed,Should have,Configure accessRoles options for pages,Rens Admiraal,Rens Admiraal,2014-10-04 06:07,UI,"","","","",0,2011-03-02 10:24,"","",2608750,"","We are already able to configure a page as ""hidden"", and set start and stop time.

However, we are not yet able to configure the ""AccessRoles"" for the page in the Content module. This should be fixed."
13546,TYPO3.Neos,Task,Bug #13543: Improve page management,Resolved,Should have,Nice to have: Move existing pages,Rens Admiraal,Aske Ertmann,2012-08-31 04:38,"","","","",0.00,100,2011-03-02 10:24,"","",83600,0.00,""
13701,TYPO3.Neos,Task,Story #8788: As Magarethe I want to delete content elements on a website,Resolved,Should have,Add content element 'container' so we can add an action menu to it (for deletion of elements / dragging elements),Rens Admiraal,Sebastian Kurfuerst,2012-08-31 04:38,"","","","","",100,2011-03-09 02:28,"","",85400,"",""
13876,TYPO3.Neos,Task,"",Closed,Should have,Make database connection configurable in setup,Christian Müller,Christian Müller,2012-08-31 04:38,"","",2011-03-17,"","",0,2011-03-17 06:48,"","",87350,"",The Phoenix Setup needs a way to easily configure database settings.
25498,TYPO3.Neos,Bug,"",Closed,Should have,Make Aloha floating menu draggable again,Sebastian Kurfuerst,"",2011-09-07 10:07,UI,"",2011-03-31,"","",0,2011-03-31 11:25,"","",2606500,"","Due to the internal implementation of the Drag and Drop of content elements, it is right now not possible to move the Aloha floating menu around.

We should fix this :-)"
25499,TYPO3.Neos,Task,"",Resolved,Should have,"Display current website mode (Browsing, Selection, Editing) as icon in ""Content"" tab",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","",2011-03-31,"","",100,2011-03-31 11:26,"","",91200,"","Currently, the current mode of the website is displayed in a greyed-out button -- which is a very unsexy and unintuitive."
25610,TYPO3.Neos,Task,"",Resolved,Should have,Workspace has two root nodes,Robert Lemke,Robert Lemke,2012-08-31 04:38,"","",2011-04-01,"","",100,2011-03-31 20:31,"","",91400,"",A workspace has two root nodes but should only have one.
25761,TYPO3.Neos,Task,"",Closed,Could have,Enable Plugins to link/redirect to other pages,Bastian Waidelich,"",2014-10-04 06:05,"",Sprint February 2013,2011-04-05,"","",0,2011-04-05 04:46,"","",91800,"","Currently if you place a link in a Phoenix Plugin, there is no way to specify the target page.
Instead of creating special link/uri view helpers for Phoenix that allow you to specify a page node we thought about a more ""decentralized"" solution:
It should be possible to specify a target page for certain plugins/actions so that you don't have to deal with pages in your Fluid templates.
Those target pages might even be determined automatically if not configured explicitly (that's how it's done in Extbase, see http://forge.typo3.org/projects/typo3v4-mvc/wiki/Automatic_Target_Page_Determination)."
25803,TYPO3.Neos,Task,"",Resolved,Should have,NodeRoutePartHandler should not return a node object,Bastian Waidelich,Bastian Waidelich,2012-08-31 04:38,"",Sprint 7,2011-04-06,"","",100,2011-04-06 11:10,"","",92050,"","See #25801 for the reasoning.
*Note:* This change leads to the fact that a node has to be fetched twice for a request. But as successful Routing matches are cached, this should not be a problem."
26486,TYPO3.Neos,Bug,"",Closed,Should have,Aloha activation on double click broken,Rens Admiraal,"",2011-09-07 10:07,UI,"",2011-04-29,"","",0,2011-04-29 05:24,"","",101800,"","When you double click a content element GENTICS.Aloha.activeEditable is not set yet. Because of this the _onNewContentElementClick of the Aloha ContentEditorFrontend plugin immediately returns before creating a new content element.

When you double click a content element again everything is fine."
26598,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Rejected,Could have,Run the current backend code with ExtJS4 in compatibility mode,Christian Müller,Regine Rosewich,2011-05-12 03:45,UI,Sprint 7,2011-05-03,"","",0,2011-05-03 14:06,"","",107300,"",""
26625,TYPO3.Neos,Task,"Story #11042: As Roger, I want clean and extensible JavaScript Code",Resolved,Should have,JS Unit tests should run automatically in build,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-05-05 01:48,"","",108550,0.00,""
26666,TYPO3.Neos,Bug,"",Resolved,Should have,Implement basic Proxy Caching Support,Robert Lemke,Robert Lemke,2012-08-31 04:38,"",Sprint 7,2011-05-06,"","",100,2011-05-06 05:14,"","",110250,0.00,"TYPO3 must send correct cache headers so that static pages and other content can really be cached by a proxy such as Varnish. This story is solved when

* rendered pages are cashed in Varnish
* pages are not cached if a user is logged in
* logging in as a user into the frontend and backend is possible
* the maximum age for cached pages can be configured globally
"
26668,TYPO3.Neos,Task,Bug #26666: Implement basic Proxy Caching Support,Resolved,Should have,Send correct cache headers in Frontend Controller,Robert Lemke,Robert Lemke,2012-02-28 15:36,Frontend,Sprint 7,2011-05-06,"","",0,2011-05-06 05:23,"","",110350,"",The Frontend Controller should send cache headers which allow for caching the page in a reverse proxy. The maximum age should be globally configurable.
26713,TYPO3.Neos,Task,"",Resolved,Must have,(Selection Mode) Implement Add Content and Delete Content Element,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-05-25 03:05,UI,Sprint 7,2011-05-10,"","",100,2011-05-10 02:36,"","",112600,"",""
26714,TYPO3.Neos,Bug,"",Resolved,Should have,Fix failing Jasmine tests,Sebastian Kurfuerst,Rens Admiraal,2011-05-16 06:33,UI,Sprint 7,2011-05-10,"","",100,2011-05-10 02:40,"","",112650,"","Currently, the Jasmine tests fail on Jenkins; and the tests are wrong because of a missing feature in the Registry.

This means:

* *The Registry Tests must be corrected*
* *The Registry must be fixed*"
26717,TYPO3.Neos,Task,"",Resolved,Must have,"Update Aloha to recent trunk version, as soon as it is stable again",Sebastian Kurfuerst,Sebastian Kurfuerst,2011-06-21 01:05,UI,Sprint 7,2011-05-10,"","",100,2011-05-10 02:51,"","",112800,"",""
26849,TYPO3.Neos,Bug,"",Resolved,Must have,Saving of Content Elements does not work anymore,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-06-23 09:10,Content Model,Sprint 7,2011-05-17,"","",90,2011-05-17 04:50,"","",119150,"",""
26855,TYPO3.Neos,Task,"",Resolved,Should have,Combine RDF(a) and HTML in  valid way,Karsten Dambekalns,"",2012-08-31 04:38,"","",2011-05-17,"","",0,2011-05-17 06:29,"","",119450,"","_Some input from Jochen on the validation errors (http://validator.w3.org/check?uri=http%3A%2F%2Ft3con11-frankfurt.typo3.org%2F) with the current T3CON11 site_


HTML5 ist kein XML. Daher kann es auch kein xmlns geben (die einzig zulässige Ausnahme ist der exakte String xmlns=""http://www.w3.org/1999/xhtml"" ). In RDFa1.1 wird es für die Definition von CURIEs ein prefix-Attribut geben. Das sieht dann so aus:

<pre><html xmlns=""http://www.w3.org/1999/xhtml"" 
	prefix=""dc: http://purl.org/dc/terms/
	typo3: http://typo3.org/ontology/TYPO3#
	flow3: http://typo3.org/ontology/FLOW3#
	t3con11: http://t3con11-frankfurt.typo3.org/resources/""></pre>

Das versteht derzeit aber weder ein Validator noch ein RDF-Extraktor, da alle HTML5 und RDFa1.1 Spezifikationen zur Zeit nur Working-Draft-Status haben. Daher bleibt in HTML5 derzeit nur die Lösung, doch xmlns zu verwenden. Das validiert dann zwar nicht, aber Extraktoren, sollten aber mit dem Dokument dann zurecht kommen.

Die CURIE ""typo3:TYPO3:Text"" wird auf ""http://www.typo3.org/ns/2011/FLOW3/Packages/TYPO3/Content/TYPO3:Text"" projiziert wird und ist damit nicht standardkonform. Besser wäre ""typo3:Text"". Ich weiß, dass TYPO3:Text der TYPOScript-Name ist. Vielleicht lohnt es sich hier eine Vereinheitlichung zu finden, bei der der (lowercase) Package-Name als Präfix genommen und der Name (""Text"") dann groß geschrieben wird. Ich würde außerdem die Informationen über die Seite an sich in die meta-Tags schreiben. Das Endergebnis sähe dann so aus:

<pre><!DOCTYPE html>
<html 	xmlns=""http://www.w3.org/1999/xhtml"" 
	xmlns:dcterms=""http://purl.org/dc/terms/""
	xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#""
	xmlns:dbr=""http://dbpedia.org/resource/""
       xmlns:typo3=""http://typo3.org/ontology/TYPO3#""
       xmlns:flow3=""http://typo3.org/ontology/FLOW3#""
	xmlns:t3con11=""http://t3con11-frankfurt.typo3.org/resource/"">
	<head>
		<base href=""http://t3con11-frankfurt.typo3.org/"" />
		<title>Overview - T3CON11</title>
		<meta charset=""UTF-8"" />
		<meta property=""dcterms:creator"" content=""TYPO3 Association"" />
		<link rel=""rdf:type"" href=""[typo3:Page]"" />
	</head>
	<body>
		<div about=""[t3con11:efcd08af-9214-4d11-9f56-2fab5a04cc42]"" typeof=""typo3:Text"">
			<span rel=""dcterms:subject"" href=""[dbr:TYPO3]""></span>
			<h1 property=""dcterms:title"">T3CON11 - Frankfurt</h1>
			<p>This year's biggest TYPO3 conference will again take place close to Frankfurt, Germany:</p>
		</div>
	</body>
</html></pre>

Ein Extraktor (http://inspector.sindice.com/) liest Folgendes:

<pre><http://t3con11-frankfurt.typo3.org/>
	<http://purl.org/dc/terms/title> ""Overview - T3CON11"" ;
	<http://purl.org/dc/terms/creator> ""TYPO3 Association"" ;
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://typo3.org/ontology/TYPO3#Page> .

<http://t3con11-frankfurt.typo3.org/resource/efcd08af-9214-4d11-9f56-2fab5a04cc42>
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://typo3.org/ontology/TYPO3#Text> ;
	<http://purl.org/dc/terms/subject> <http://dbpedia.org/resource/TYPO3> ;
	<http://purl.org/dc/terms/title> ""T3CON11 - Frankfurt"" .</pre>

Das schöne ist nun, dass man sowohl unter http://dbpedia.org/resource/TYPO3 als auch unter http://t3con11-frankfurt.typo3.org/resource/efcd08af-9214-4d11-9f56-2fab5a04cc42 (über REST) weitere Informationen suchen kann. Eine Maschine macht das automatisch. Linked Data nennt man das dann.

Hier noch einige Einstiegspunkte zum Weiterlesen (bei Interesse).

* Neuester Draft des RDFa Primer: http://www.w3.org/TR/2011/WD-rdfa-primer-20110419/
* Neuester Draft RDFa 1.1: http://www.w3.org/TR/2011/WD-rdfa-core-20110331/
* Neuester Draft der HTML+RDFa Spec: http://www.w3.org/TR/rdfa-in-html/
* Aktuell gültiger RDFa Primer: http://www.w3.org/TR/xhtml-rdfa-primer/
* Neuester Draft HTML5: http://dev.w3.org/html5/spec/
"
26924,TYPO3.Neos,Bug,"",Closed,Won't have this time,StopException in Plugins handled wrong,Karsten Dambekalns,Henjo Hoeksma,2014-10-02 04:48,TypoScript,"",2011-05-20,"","",0,2011-05-20 03:33,"","",122600,"","If a plugin throws a StopException (.e.g when using redirect), the backtrace appears as plugin content in the output. You don't see that usually, because of the Location header, but that seems broken, it should bubble up and produce the expected redirect HTML output.

The exception is actually handled separately in TypoScript\Plugin, so the error seems to be further up."
27129,TYPO3.Neos,Feature,"",Resolved,Should have,Implement Selenium tests for the backend,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-01-20 08:38,UI,Sprint 7,2011-05-30,"","",100,2011-05-30 01:56,"","",131900,"",""
27381,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Resolved,Must have,Check & Fix the Core/History class,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",0,2011-06-12 06:22,"","",144100,"",""
27382,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Resolved,Must have,Make the ModuleMenu work fully again,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",100,2011-06-12 06:22,"","",144150,"",""
27383,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Resolved,Must have,Get ExtDirect to work,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","",0.00,100,2011-06-12 06:22,"","",144200,0.00,""
27384,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Resolved,Must have,Fix DashboardModule,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","","",100,2011-06-12 06:23,"","",144250,"",""
27385,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Closed,Should have,Fix ManagementModule,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","",0.00,0,2011-06-12 06:23,"","",144300,0.00,""
27386,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Closed,Should have,Fix ContentModule,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,2011-06-16,"","",100,2011-06-12 06:23,"","",144350,0.00,""
27387,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Rejected,Won't have this time,Fix styling issues caused by ExtJS4 integration,Rens Admiraal,"",2012-08-31 04:38,"",Sprint 7,"","","",0,2011-06-12 06:23,"","",144400,"",""
27388,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Resolved,Should have,Migrate alle class definitions / renamed methods / the rough UI to ExtJS4,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,"","",0.00,100,2011-06-12 06:26,"","",144450,0.00,""
27500,TYPO3.Neos,Task,Story #11968: Ext JS 4.0 integration,Resolved,Should have,Fix the buttons of the moduleDialogs,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"",Sprint 7,2011-06-16,"","",0,2011-06-16 11:01,"","",149900,"",The ok / cancel buttons are not shown.
27501,TYPO3.Neos,Task,Task #27386: Fix ContentModule,Closed,Should have,Fix the aloha frontend editor,Rens Admiraal,"",2012-08-31 04:38,"",Sprint 7,2011-06-16,"","",0,2011-06-16 11:04,"","",149950,"",""
27502,TYPO3.Neos,Task,Task #27386: Fix ContentModule,Closed,Should have,Fix the 'edit toolbar' in selection mode,Rens Admiraal,"",2012-08-31 04:38,"",Sprint 7,2011-06-16,"","",0,2011-06-16 11:06,"","",150000,"","Currently the hover does work, but the breadcrumbmenu component is not added"
27503,TYPO3.Neos,Bug,"",Resolved,Must have,TYPO3_lastVisitedUri causes problems with non hostname paths for rootpages,Aske Ertmann,"",2011-07-13 05:05,"","",2011-06-16,"","",100,2011-06-16 11:57,"","",150050,"","The cookie TYPO3_lastVisitedUri is set with the path to the current page in TYPO3/Resources/Private/TypoScriptObjects/Head.html

This works fine if you're using the hostname as the root for your website (http://localhost/). But if you're using something like http://localhost/Web/ it doesn't work on the rootpage."
27535,TYPO3.Neos,Feature,"",Closed,Should have,Versionupgrading via Extension Manager,Stephan no-lastname-given,"",2011-11-07 04:35,"","",2011-06-18,"","",0,2011-06-18 12:42,"","",151650,"",It is easier to upgrade like an extension. forums like smf have such a function included. This is a must have for typo3 v5.
27553,TYPO3.Neos,Task,Task #27386: Fix ContentModule,Closed,Should have,Fix javascript errors if no subnodes found for grid,Rens Admiraal,"",2012-08-31 04:38,"",Sprint 7,2011-06-19,"","",0,2011-06-19 17:10,"","",152400,"","If an item in the node tree is clicked which has no subitems, the error 'Uncaught TypeError: Cannot read property 'style' of undefined' occurs... "
27699,TYPO3.Neos,Task,"",Closed,Should have,Nice to have: Text/image content element,Jörg ,Sebastian Kurfuerst,2011-09-07 10:07,UI,"",2011-06-26,"","",0,2011-06-25 22:21,"","",159650,"",""
27700,TYPO3.Neos,Feature,"",Closed,Should have,Versionupgrading via Extension Manager,Stephan no-lastname-given,"",2011-09-28 04:05,"","",2011-06-18,"","",0,2011-06-25 22:26,"","",159700,"",It is easier to upgrade like an extension. forums like smf have such a function included. This is a must have for typo3 v5.
27701,TYPO3.Neos,Task,"",Closed,Should have,Make database connection configurable in setup,Christian Müller,Christian Müller,2012-08-31 04:38,"","",2011-03-17,"","",0,2011-06-25 22:27,"","",159750,"",The Phoenix Setup needs a way to easily configure database settings.
27702,TYPO3.Neos,Task,"",Closed,Should have,Make database connection configurable in setup,Christian Müller,Christian Müller,2012-08-31 04:38,"","",2011-03-17,"","",0,2011-06-25 22:27,"","",159800,"",The Phoenix Setup needs a way to easily configure database settings.
27703,TYPO3.Neos,Task,"",Closed,Should have,Make database connection configurable in setup,Christian Müller,Christian Müller,2012-08-31 04:38,"","",2011-03-17,"","",0,2011-06-25 22:28,"","",159850,"",The Phoenix Setup needs a way to easily configure database settings.
27704,TYPO3.Neos,Task,"",Closed,Should have,Embed the HTML content types in an example page,Berit Hlubek,Berit Hlubek,2012-08-31 04:38,"","","","","",0,2011-06-25 22:33,"","",159900,"",Embed the HTML content types in an example page that has the layout of the starterpackage.
27795,TYPO3.Neos,Bug,"",Resolved,Should have,login returns 404 if no accounts are setup,Bastian Waidelich,"",2011-09-01 07:05,"","",2011-07-01,"","",100,2011-07-01 08:06,"","",164450,"","If no accounts can be found, the LoginController of the TYPO3 package currently forwards to a 'Backend\Setup' Controller, that no longer exists:
<pre>
if ($this->accountRepository->countAll() === 0) {
	$this->forward('index', 'Backend\Setup');
}
</pre>

This results in a 404 page not found error.
Instead a message should be shown that explains how to setup initial data with the CLI."
27991,TYPO3.Neos,Bug,"",Resolved,Must have,Page view doesn't work in the backend with usernames containing a dot,Aske Ertmann,"",2012-05-23 18:30,Frontend,"",2011-07-08,"","",100,2011-07-08 10:23,"","",172500,"","http://localhost/TYPO3v5/Web/homepage@user.name.html which is set in the cookie for lastVisitedUri, which is used in the backend for the iframe page view doesn't work."
28131,TYPO3.Neos,Feature,"",Resolved,Should have,Migration of Phoenixreloaded into TYPO3 package,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-07-13 05:05,UI,"",2011-07-12,"","",100,2011-07-12 10:52,"","",179450,"","* http://review.typo3.org/3282
* http://review.typo3.org/3283
* http://review.typo3.org/3284


After pulling the three changesets, run the commands below to get a working version:

<pre>
git submodule init
git submodule update
cd Resources/Public/Library/Aloha/
git submodule init
git submodule update
cd src/plugins/common
git submodule init
git submodule update
cd ../../../../../../../
</pre>"
28163,TYPO3.Neos,Bug,"",Resolved,Should have,WS id in last visited URL not overwritten,Karsten Dambekalns,"",2011-11-07 04:29,UI,"",2011-07-13,"","",100,2011-07-13 05:11,"","",181000,"","After being logged in as ""karsten"" I logged out and in again with a different account (""bad"") without going to the FE in between. Seems we need to *replace* the WS identifier in the last visited URL: http://dev.con.kmac/contribute/list-of-sponsors@user-karsten@user-baz.html"
29539,TYPO3.Neos,Bug,"",Closed,Must have,Importing a Site from XML does not work if DB is not empty,Bastian Waidelich,Karsten Dambekalns,2012-04-18 16:40,Services,"",2011-09-07,"","",0,2011-09-07 05:54,"","",247800,"","When trying to import the T3CON11 Site via
<pre>
flow3 typo3.typo3:site:import < Packages/Sites/TYPO3.T3con11Typo3Org/Resources/Private/Content/Sites.xml
</pre>
I get following error:
<pre>
Error: During import an exception occured. Notice: unserialize(): Error at offset 60 of 3284 bytes in Packages/Framework/Doctrine/Classes/DBAL/Types/ArrayType.php line 46
</pre>

After reseting the database (delete, re-create) the command works once.

Interestingly the export command works
<pre>
flow3 typo3.typo3:site:export > Export.xml
</pre>

But re-importing that export results in another error:
<pre>
Error: During import an exception occured. String could not be parsed as XML
</pre>"
29542,TYPO3.Neos,Feature,"",Resolved,Won't have this time,Allow for arbitrary menu starting points set in TS,Sebastian Kurfuerst,"",2013-05-13 03:35,TypoScript,"",2011-09-07,"","",100,2011-09-07 10:12,"","",247900,"","If you set the ""baseNode"" property of a Menu to a node path the
resulting menu will start from there.
It doesn't support entryLevel or lastLevel for now (both will be
ignored).


Attached is a work-in-progress. This was in https://review.typo3.org/#change,1789 before"
29986,TYPO3.Neos,Task,"",Closed,Must have,Inspector: should warn also when page is closed,Rens Admiraal,"",2014-10-04 06:13,UI,"",2011-09-18,"","",0,2011-09-18 12:28,"","",269850,"",The inspector should show a warning if the window is closed if there's still unsaved data.
29987,TYPO3.Neos,Task,"",Closed,Won't have this time,ExtDirect: cleanup ExtDirect server side,Rens Admiraal,"",2014-10-04 06:15,Services,"",2011-09-18,"","",0,2011-09-18 12:29,"","",269900,"",The ExtDirect server should be cleaned up
29988,TYPO3.Neos,Task,"",Resolved,Should have,Implement UI for start & stop time,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"","",2011-09-18,"","",0,2011-09-18 12:30,"","",269950,"",Implement UI for start & stop time
30096,TYPO3.Neos,Bug,"",Resolved,Must have,Remove Page Refresh: Update History using HTML5 history API,Sebastian Kurfuerst,"",2012-05-21 09:58,UI,"",2011-09-20,"","",100,2011-09-20 11:57,"","",275350,"","So far, we removed the page refreshes in TYPO3 v5 Content module.

However, when you click another link inside the content module, the URI of the page does not change. We need to fix this; using the HTML5 History API to adjust the URI as needed."
30099,TYPO3.Neos,Task,"",Resolved,Should have,Add posibility to scale images during upload,Rens Admiraal,Rens Admiraal,2012-07-31 04:35,"","",2011-09-20,"","",100,2011-09-20 13:56,"","",275500,"","Give users the posibility to scale images during the upload, so they can upload a full-scale image which is automatically downsized and stored as the original. For example:

- 800 x 600
- 1024 x 768
- don't scale"
30194,TYPO3.Neos,Feature,"",Resolved,Should have,"Mockups and implementation for ""new content element""",Berit Hlubek,Christian Müller,2011-11-07 04:18,UI,"",2011-09-22,"","",100,2011-09-22 05:08,"","",280250,"","We created some mockups for the behaviour of the ""new content element"" wizard.
This has to be implemented with jQuery UI Tabs."
30195,TYPO3.Neos,Feature,"",Resolved,Should have,"Mockup and implementation of the ""inspector""",Berit Hlubek,Sebastian Kurfuerst,2012-02-09 05:10,"","",2011-09-22,"","",100,2011-09-22 05:13,"","",280300,"","We created some mockups for the content edit ""inspector"".
This has to be implemented. We don't want to use the ""edit"" button but have a ""apply"" button which is always visible but will be active as far as any changes are made. The editor doesn't have to go inside an edit-mode, all options are always visible.

The different edit-functions are collapsable and expandable through an accordion. It should be possible to expand or collapse all via a button on the top and it should be possible to expand only those tabs you would like to expand. Afterwards the system should store the status while leaving an element and when editing it again you will have exactly the same accordion elements expanded again."
30267,TYPO3.Neos,Bug,"",Closed,Must have,site:import task broken,Martin Brüggemann,Karsten Dambekalns,2011-09-30 18:00,Services,"",2011-09-25,"","",0,2011-09-25 06:02,"","",283850,"","I cloned the TYPO3 Phoenix base repository and tried to import the flow3org-Site-Package with:

<pre>
./flow3 site:import --package-key=TYPO3.Flow3Org
</pre>

Unfortunately, this doesn't work anymore. I get the following exception:

<pre>
Uncaught Exception in FLOW3 #1297759968: Exception while property mapping at property path """":No converter found which can be used to convert from ""boolean"" to ""string"".
thrown in file /Volumes/Data/Users/herr/Sites/_ZFWSPACE/Flow3Org/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Property_PropertyMapper_Original.php
in line 129
Reference code: 20110925115603994843

  Nested exception:

  Uncaught Exception in FLOW3 No converter found which can be used to convert from ""boolean"" to ""string"".
  thrown in file /Volumes/Data/Users/herr/Sites/_ZFWSPACE/Flow3Org/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Property_PropertyMapper_Original.php
  in line 222
Reference code: 20110925115603ce7894

#0 TYPO3\FLOW3\Error\DebugExceptionHandler::echoExceptionCli()
   /Volumes/Data/Users/herr/Sites/_ZFWSPACE/Flow3Org/Packages/Framework/TYPO3.FLOW3/Classes/Error/AbstractExceptionHandler.php:59

#1 TYPO3\FLOW3\Error\AbstractExceptionHandler::handleException()
</pre>

I recreated the database and tried again, but it seems to be a bug with the site:import command. Or am I using the wrong import command?"
30584,TYPO3.Neos,Bug,"",Resolved,Should have,setup command should not create account with same identifier twice,Christian Müller,"",2011-12-23 10:20,"","",2011-10-05,"","",100,2011-10-05 14:54,"","",299400,"","Either setup command controller or account model itself should ensure uniqueness of accounts. 

Simple to reproduce, just run:

./flow3 setup:createadministrator --identifier admin --password pass

multiple times and check DB contents.

Please comment about which option would be best (setting unique contraint in account model or checking the accountRepository in command controller), I can take care of the patch."
30638,TYPO3.Neos,Bug,"",Resolved,Must have,no-brainer: typo in code annotation of SiteImportService::importFromPackage(),Roland Schenke,"",2011-11-23 03:58,"","",2011-10-07,"","",0,2011-10-07 11:37,"","",302050,"","namespace TYPO3\TYPO3\Domain\Service
class SiteImportService
public function importFromPackage()

	/**
	 * Checks for the presence of Content.xml in the given package and imports
	 * it if found.
	 *
	 * @param string $packageKey
	 * @return void
	 * @author Karsten Dambekalns <karsten@typo3.org>
	 * @author Christian Müller <christian@kitsunet.de>
	 */
	public function importFromPackage($packageKey) {
[...]
		} elseif (!file_exists('resource://' . $packageKey . '/Private/Content/Sites.xml')) {
[...]

Code annotation mentions 'Content.xml' and file_exists() is looking for 'Sites.xml'.

Rolands-MacBook-Pro:TYPO3v5 rschenke$ git pull
Already up-to-date.
Rolands-MacBook-Pro:TYPO3v5 rschenke$ find . -name Content.xml
Rolands-MacBook-Pro:TYPO3v5 rschenke$ find . -name Sites.xml
./Packages/Sites/TYPO3.PhoenixDemoTypo3Org/Resources/Private/Content/Sites.xml
Rolands-MacBook-Pro:TYPO3v5 rschenke$ 

So I think Sites.xml is correct and Content.xml a left over. :-)

I assume this is a no-brainer, but I just wanted to mention it. :-)"
31013,TYPO3.Neos,Bug,"",Closed,Should have,FrontendNodeRoutePartHandler does not match against complete RoutePath,Bastian Waidelich,Bastian Waidelich,2013-10-18 11:42,Frontend,"",2011-10-17,"","",0,2011-10-17 11:18,"","",320350,"","Currently the FrontendNodeRoutePartHandler only matches a Request against the uriPattern until the *first occurence* of the *splitString* (the next static RoutePart).
Example:
For the uriPattern '{node}/{foo}' the NodePartHandler would look for the first ""/"" in the request path and only match that against the node repository.

Instead the FrontendNodeRoutePartHandler should iterate through *all* remaining path segments until a segment does not match a node path, and then compare the exceeding path with the split string."
31205,TYPO3.Neos,Bug,"",Closed,Could have,TYPO3\TYPO3CR\Exception\NodeException thrown in file TYPO3_TYPO3CR_Domain_Model_Node_Original.php,Andrew Jones,Andrew Jones,2012-05-10 09:40,Frontend,"",2011-10-23,"","",0,2011-10-23 15:27,"","",329600,"","The security context is not yet intialized, thus the Node ""/sites/phoenixdemotypo3org/homepage/adminpage"" cannot determine if it is accessible. Some code part is calling isAccessible() early than is possible at that initialization stage.
20 TYPO3\TYPO3CR\Domain\Model\Node_Original::isAccessible()

19 TYPO3\TYPO3\Controller\Frontend\NodeController_Original::showAction(TYPO3\TYPO3CR\Domain\Model\Node)

18 call_user_func_array(array, array)

17 TYPO3\FLOW3\MVC\Controller\ActionController_Original::callActionMethod()

16 TYPO3\FLOW3\MVC\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

15 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

14 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

13 call_user_func_array(array, array)

12 TYPO3\FLOW3\MVC\Dispatcher::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

11 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

10 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\AOP\JoinPoint)

9 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

8 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

7 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)

6 TYPO3\FLOW3\AOP\Advice\AroundAdvice_Original::invoke(TYPO3\FLOW3\AOP\JoinPoint)

5 TYPO3\FLOW3\AOP\Advice\AdviceChain_Original::proceed(TYPO3\FLOW3\AOP\JoinPoint)

4 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

3 TYPO3\FLOW3\MVC\Web\RequestHandler_Original::handleRequest()

2 TYPO3\FLOW3\Core\Bootstrap::handleWebRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
31369,TYPO3.Neos,Bug,"",Resolved,Should have,Inline javascript is executed a second time by Aloha block implementation,Rens Admiraal,Rens Admiraal,2012-01-13 17:45,UI,"",2011-10-27,"","",0,2011-10-27 16:44,"","",337700,"","Example: the inline javascript on the FLOW3 homepage uses a twitter plugin. The javascript code is added inline. When the aloha blocks are 'blockified' a new parent DOM element is created which is 'wrapped' around the content element. This is probably triggering the browser to execute the inline code again.

I already pushed a workaround for the flow3.org website, please check if there's no condition around the code before you try to reproduce this.

We need some brainstormen how to fix this."
31639,TYPO3.Neos,Feature,"",Resolved,Must have,Implementation of module framework,Sebastian Kurfuerst,Aske Ertmann,2012-01-31 01:46,UI,"",2011-11-07,"","",100,2011-11-07 04:54,"","",351000,"","* create prototype / draft (example: show a page tree, user management, group management)
* 1st step: load module contents as Subrequests
* 2st step: replace page reloads with AJAX

Module package example:
https://gist.github.com/1534417"
31643,TYPO3.Neos,Bug,"",Resolved,Must have,Cleanup remainings of graphical setup wizard,Sebastian Kurfuerst,Markus Goldbeck,2011-11-23 06:07,"","",2011-11-07,"","",100,2011-11-07 07:12,"","",351200,"","we once had a graphical setup tool for TYPO3 Phoenix. However, by now, this is removed and setup is done through CLI. 

However, some template and layout files are still remaining; so we need to clean them up..."
31644,TYPO3.Neos,Task,"",Resolved,Must have,Create TYPO3 Phoenix Sprint Release,Sebastian Kurfuerst,Rens Admiraal,2012-08-31 04:38,"","",2011-11-07,"","",100,2011-11-07 07:13,"","",351250,"","we promised to create a sprint release on T3CON11, so we should do that finally :)"
31716,TYPO3.Neos,Bug,"",Resolved,Must have,Page Tree is not working consistently when Pages are created and moved,Markus Goldbeck,Markus Goldbeck,2013-01-18 10:03,UI,"",2011-11-09,"","",100,2011-11-09 14:46,"","",354700,"","The following test cases fail when pages are created or move or both


* Creating new page and editing the page title 
	-> no updating of the title in the pagetree
	-> after F5 it is shown correct
	-> false icon in front of the title in the page tree; folder instead of page icon
	

* Moving a fresh created page with unedited pagetitle to a parentnode is not possible
	-> the [New Page] disappears in the pagetree but is shown on the menu at the old place
	-> F5 is not solving the problem

* Moving a page (leaf) from the original xml siteimport to a leaf to make this leaf a parentnode 
is not possible. 
	-> F5 is not solving the problem

* Moving a fresh created page, edit the title of the page and the moving the leaf to a parentnode 
duplicates the leaf in the new branch with the default title [New Page].
	-> F5 is not solving the problem

* It is not possible to make a branch with the depth more than 4.
For example:
TYPO3 Phoenix Demo Site/Home/page1/page11/page111
The created page ""disappears"" in the tree. But moving the page page11 as the parent node of the 
""missing page"" page111 to the deletion dropzone occurrs the right dialog for deleting pages with childs. 
	-> F5 is not solving the problem "
31796,TYPO3.Neos,Feature,"",Closed,Must have,Plugins have to be able to set page header information,Andreas Förthner,"",2014-10-04 06:19,"","",2011-11-14,"","",0,2011-11-14 06:28,"","",358700,"","A plugin has to have the possiblity to add meta tags, javascripts or css includes in the head section of a page. This is currently not possible, as the head part is already rendered when the plugin gets called."
31833,TYPO3.Neos,Task,"",Closed,Should have,The Plugin TypoScript object can't be rendered from TypoScript,Rens Admiraal,"",2012-08-31 04:38,"","",2011-11-15,"","",0,2011-11-15 14:49,"","",360500,"",When a plugin is added to a page using TypoScript a fatal error occurs since the Plugin object depends on a node to find the package / controller / action settings.
32031,TYPO3.Neos,Bug,"",Closed,Should have,"Fix CSS Stylings of icons in ""content"" module",Sebastian Kurfuerst,Sebastian Kurfuerst,2014-10-02 05:16,UI,"",2011-11-23,"","",0,2011-11-23 08:22,"","",370400,"","When being in content module and selecting a content element, several icons are displayed around it (to add new elements, cut/paste the element).

In the FLOW3 Org website, these icons are completely broken // misaligned. This can be fixed by applying some more restrictive / overriding CSS styles."
32032,TYPO3.Neos,Bug,"",Resolved,Should have,Replace JavaScript animations by CSS transitions,Sebastian Kurfuerst,"",2012-09-03 05:39,UI,"",2011-11-23,"","",100,2011-11-23 08:24,"","",370450,"","see title ^^

Examples of non-CSS-animation animation:
* Enabling / Disabling ""Preview mode""
* toggling top toolbar (pushes page down)

I.e. grep for .slideDown, .slideUp .animate to find these bastards.."
32033,TYPO3.Neos,Bug,"",Resolved,Should have,"Implement error handling for ""Publish Page"" button",Sebastian Kurfuerst,"",2012-09-03 05:41,UI,"",2011-11-23,"","",100,2011-11-23 08:25,"","",370500,"","In case the publishing of a page does not work, no error is shown to the user.

Also the button is always disabled when pressed, so it the XHR request is stopped is not possible to try again without a page refresh. This should work with the response state of the XHR request/error handling.."
32492,TYPO3.Neos,Bug,"",Resolved,Must have,Creating an admin with ./flow3 setup:createadministrator,Markus Goldbeck,"",2011-12-15 10:06,"","",2011-12-13,"","",100,2011-12-13 04:27,"","",393150,"","Currently it is not possible to create an admin.

<pre>
./flow3 setup:createadministrator admin password
Created account ""admin"".
Uncaught Exception
  An instance of ""TYPO3\TYPO3\Domain\Model\User"" failed to pass validation
  with 1 error(s): 
  name:
  This property is required.
  

More Information
  Exception code      #1322585164
  File                /Applications/MAMP/htdocs/PhoenixCore/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Persistence_Doctrine_PersistenceManager_Original.php line 124
  Exception reference #201112131023183a7577
</pre>

After deleting the Annotation * @FLOW3\Validate(type=""NotEmpty"") in /TYPO3.Party/Classes/Domain/Model/Person.php it worked.

So it seems something to do with Validation"
32527,TYPO3.Neos,Bug,"",Resolved,Should have,Wrong Name? TYPO3 V5?,Jonas Felix,Karsten Dambekalns,2012-08-31 04:38,"","",2011-12-14,"","",0,2011-12-14 02:58,"","",394900,"","I think you took the wrong name on forge, shouldn't it be called TYPO3 Phoenix 1?"
32828,TYPO3.Neos,Task,"",Resolved,Should have,Update from Sproutcore 2 to Ember.js,Jacob Floyd,Christian Müller,2012-01-28 20:41,UI,"",2011-12-24,"","",100,2011-12-24 03:27,"","",408650,"","So, Sproutcore 2 has forked and left the Sproutcore project. It is now known as Ember.js.

At some point, it should be updated in TYPO3, and references to sproutcore should instead say Ember.js.

Check it out: http://www.emberjs.com/
Repos: https://github.com/emberjs
https://github.com/emberjs/ember.js

About the name change:
http://yehudakatz.com/2011/12/12/amber-js-formerly-sproutcore-2-0-is-now-ember-js/

Just thought I'd stick this in the queue for whoever ends up doing it at some point. I have no idea if when this should be done, I just figure it will, at some point, be done."
32841,TYPO3.Neos,Bug,"",Resolved,Should have,Access check on page nodes is broken,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"","",2011-12-27,"","",100,2011-12-27 10:34,"","",409300,"",When a page node has accessRoles configured the $node->isAccessible() check in NodeController->showAction throws an error because the securityContext is not yet initialized. This should be fixed in a way which is only initializing the securityContext if really needed to prevent session initialization whenever possible.
33007,TYPO3.Neos,Task,"",Needs Feedback,Should have,Remove dependency on Aloha because of requirejs,Rens Admiraal,Rens Admiraal,2013-12-07 14:03,"","",2012-01-06,"","",0,2012-01-06 04:27,"","",417350,"","Since https://review.typo3.org/#change,7614 the TYPO3.TYPO3 package depends on the Aloha package for requirejs. As we should not forget to fix this dependency."
33008,TYPO3.Neos,Bug,"",Resolved,Should have,Content blocks have borders in preview mode,Rens Admiraal,"",2013-04-10 15:05,UI,"",2012-01-06,"","",100,2012-01-06 04:29,"","",417400,"",Content blocks have borders in preview mode on hover / selection
33010,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Editing of HTML elements with javascript causes problems,Rens Admiraal,"",2014-11-02 12:22,"","",2012-01-06,"","",100,2012-01-06 05:14,"","",417500,"",When an HTML element with inline javascript is edited this fails because the script is executed. We should come up with some kind of concept for this.
33167,TYPO3.Neos,Task,"",Resolved,Should have,Convert documentation to restructured text,Christian Müller,Sebastian Kurfuerst,2012-07-13 10:35,"","",2012-01-13,"","",100,2012-01-13 05:55,"","",425150,"",current TYPO3 Phoenix (developer) documentation is in textile / ruby guides format and should be adapted to restructured text.
33188,TYPO3.Neos,Feature,"",Closed,Should have,Add frontend localization to node controller and import; add locale settings to node and context,Rens Admiraal,"",2014-10-04 06:21,"","",2012-01-13,"","",0,2012-01-13 17:49,"","",426200,"","Add support for frontend localization.

Solution chosen for now is setting a current language in the FLOW3 I18n service class which is used by the TranslateViewHelper class. Besides that the treatNodeWithContext filters nodes of the wrong language.

Setting the languages can now be done using Settings.yaml, first language of the locales array is used as default language. This is just a placeholder for now as this of course has to be configured using TypoScript later on."
33548,TYPO3.Neos,Bug,"",Resolved,Must have,ImageTypeConverter conflicts with default ImageConverter,Bastian Waidelich,Bastian Waidelich,2012-02-01 08:52,"","",2012-01-31,"","",100,2012-01-31 05:38,"","",443950,"","With current HEAD the ImageTypeConverter that comes with TYPO3.TYPO3 conflicts with the new ImageConverter of the TYPO3.Media package:
<pre>There exist at least two converters which handle the conversion from  ""array"" to ""TYPO3\Media\Domain\Model\Image"" with priority ""1"":  TYPO3\Media\TypeConverter\ImageConverter and  TYPO3\TYPO3\TypeConverter\ImageTypeConverter</pre>

An easy solution would be to increase the priority of one of those."
33549,TYPO3.Neos,Bug,"",Closed,Must have,Duplicate TypeConverter clash,Karsten Dambekalns,"",2012-01-31 05:40,"","",2012-01-31,"","",0,2012-01-31 05:38,"","",444000,"","Probably due to some changes to the Media package the following happens when using TYPO3.Media and TYPO3.TYPO3 together:

@There exist at least two converters which handle the conversion from  ""array"" to ""TYPO3\Media\Domain\Model\Image"" with priority ""1"":  TYPO3\Media\TypeConverter\ImageConverter and  TYPO3\TYPO3\TypeConverter\ImageTypeConverter@"
33563,TYPO3.Neos,Bug,"",Resolved,Must have,New content is invisible until moved to live workspace manually,Karsten Dambekalns,"",2012-09-03 05:44,"","",2012-01-31,"","",100,2012-01-31 10:28,"","",444650,"","When creating content all works fine, except nothing of it is visible in the BE. After manually (in the DB) moving the nodes to the live workspace, the new content becomes visible."
33612,TYPO3.Neos,Feature,"",Resolved,Must have,"Create ""Initial Setup"" wizard",Sebastian Kurfuerst,"",2012-07-25 05:59,"","",2012-02-02,"","",100,2012-02-02 03:58,"","",447050,"","Create a wizard for the initial setup of TYPO3 Phoenix, where one can enter DB credentials etc

Ideas for direction:
# setup.php in the Web folder -> check if the TYPO3.Setup bootstrap file is available
** TYPO3.Setup is a separate package since continues deployment won't need this feature
** Check if the package TYPO3.Setup is activated?
# Run the TYPO3.Setup bootstrap
** Check for minimum requirements? Most are duplicated in the FLOW3 core bootstrap (could we combine this somehow)?
** We should have some kind of authentication (Maybe a file should be CREATED to run the setup wizard)
*** A file could be created automatically if it's the first time FLOW3 is executed (also a file somewhere) with the login information
** Check file permissions?
# If everything is okay (FLOW3 is running):
** Run the FLOW3 core bootstrap in Setup context through the already executed code and then create a request handler which mimics the web request handler, although the request builder doesn't use routing for fetching the correct setup controller
*** Authenticate with login field (FLOW3 security)
# A step setup wizard
** Steps configured in yaml
** Handle a variable number of steps
** Use form step stuff from the form project

* Call commands through the \TYPO3\FLOW3\Core\Booting\Scripts executeCommand method
* Would be nice if the setup could create the database if provided with user/pass with access for that
** http://www.doctrine-project.org/documentation/manual/1_0/nl/connections:creating-and-dropping-database
* Steps (must be able to go back & forth)
*# Language
*# Pre-installation check (requirement meets)
*# Database setup (type, name, user, pass)
*** Advanced options (host, port)
*** Backup of old db?
*# Title, Administrator (username, password, e-mail), default language/timezone? (TYPO3 specific)
*# Import site (TYPO3 specific)

User scenarios:
* Cloud server
* Shared hosting server
* No database created (but access to create db's)
* Full access

Open questions/suggestions:
* Create a configuration tool like the v4 install tool using the same request handler for TYPO3 / FLOW3
* Create a install script suggested by Jacob Floyd, which would fetch the packages through or w/o git (if available)
** Then after this process has finished it should redirect to the setup wizard
** More about it here: https://docs.google.com/document/d/136atxn0pNVR04uD5b_l57rwdfxwnUImRFmF0rD07ut4/edit"
33613,TYPO3.Neos,Feature,"",Resolved,Should have,Create Wireframe Default Template vor virgin sites,Sebastian Kurfuerst,Christian Müller,2012-09-22 10:10,"","",2012-02-02,"","",0,2012-02-02 03:59,"","",447100,"","when no template has been created yet, the user needs some way to edit content nevertheless. Thus, a template which looks like a wireframe would be great to have for this use-case."
33723,TYPO3.Neos,Feature,"",Resolved,Should have,Shortcut page support,Karsten Dambekalns,Karsten Dambekalns,2012-02-09 16:52,"","",2012-02-06,"","",100,2012-02-06 17:20,"","",452600,"","The good old shortcut page type is indeed a useful thing. It should
 
# redirect to the target (303) if called
# in menus the target should point to the target directly
# the link and uri view helpers for nodes should resolve the shortcut as well
# shortcuts pointing to shortcuts need to be resolved recursively
# some options for shortcut mode and target?"
33824,TYPO3.Neos,Task,"",Closed,Should have,Shortcut handling needs improvements,Karsten Dambekalns,"",2014-10-04 06:33,"","",2012-02-09,"","",0,2012-02-09 16:55,"","",457600,"","The shortcut handling

* introduced code duplication (resolving logic in frontend node routepart handler & menu TS object).
* added hardcoded content type checks (same places as above)
* lacks support for shortcut target and mode"
33831,TYPO3.Neos,Bug,"",Resolved,Should have,Only show data-* attributes when logged in to TYPO3,Rens Admiraal,Rens Admiraal,2012-03-30 20:39,"","",2012-02-10,"","",100,2012-02-10 03:40,"","",457950,"","The ContentElementWrapping service is adding the data-* attributes to the content elements, without checking if someone is logged in to TYPO3.

This is a problem as it doubles the size of the HTML output, and might be a security risk. We should hide these data attributes when the site is not editable.
"
34233,TYPO3.Neos,Bug,"",Resolved,Must have,Shortcut Handling in FrontendNodeRoutePartHandler can lead to exception,Christian Müller,Christian Müller,2012-02-26 16:32,"","",2012-02-24,"","",100,2012-02-24 10:36,"","",477850,"","resolveValue in FrontendNodeRoutePartHandler doesn't check if $node is really instance of NodeInterface, it just calls methods on it. This leads to unhandled exceptions in vanilla Phoenix Distribution. 

To test checkout clean Pheonix master, import, create admin and login, you should directly end up with the exception."
34305,TYPO3.Neos,Feature,"",Resolved,Should have,History Management,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-04-04 08:39,Frontend,"",2012-02-26,"","",100,2012-02-26 16:20,"","",481300,"","When navigating a website in content view, the location bar should be updated as pages are traversed. Navigation using the browser's back and forward buttons should be possible."
34398,TYPO3.Neos,Bug,"",Resolved,Must have,Fix Ext Direct API used for saving and loading,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"","",2012-02-28,"","",100,2012-02-28 16:45,"","",485800,"","Currently, we cannot use ExtDirect requests properly, effectively breaking the Phoenix Content module at various places (Save content, load tree, ...).

This obviously needs to be fixed :-) We do the following:

* Fix ExtDirect request handler
* remove default authentication provider"
35164,TYPO3.Neos,Bug,"",Closed,Should have,Image url during documentation rendering,Rens Admiraal,Karsten Dambekalns,2012-08-31 04:38,"","",2012-03-22,"","",0,2012-03-22 16:44,"","",523250,"","https://review.typo3.org/#/c/9318/1 fixed a missing _Resources/ in the image urls, for some reason I now need this _Resources/ path to get images working.
We should find what causes this behavior, till then I push a change supporting both situations."
35167,TYPO3.Neos,Bug,"",Resolved,Should have,Add a helper CommandController for managing domains,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"","",2012-03-22,"","",100,2012-03-22 18:53,"","",523400,"",For testing multisite installations and managing the domain records while the management module isn't finished it's useful to add a CommandController to add / delete / search domain records.
35615,TYPO3.Neos,Bug,"",Resolved,Must have,Aloha Sidebar handle hides logout button,Christian Müller,"",2012-08-31 04:38,"","",2012-04-03,"","",100,2012-04-03 10:28,"","",545550,"",The new Aloha Sidebar handle is for me directly on top of the logout button so that logout is almost impossible right now...
35736,TYPO3.Neos,Bug,"",Resolved,Must have,Fix Handling of CurrentNode,Christian Müller,Christian Müller,2012-08-31 04:38,"","",2012-04-06,"","",100,2012-04-06 05:24,"","",551550,"","The context holds a currentNode property which is set in the TYPO3.TYPO3 NodeController and used in Typoscript rendering. This is dangerous as the context is not a singleton and can be overriden due to treatNodesWithContext() for example in link generation. After that the currentNode is lost. I would propose to move the currentNode and possible other information about the current rendering into a singleton (NodeRenderingEnvironment tbd.) to prevent it being lost.


The change: https://review.typo3.org/#/c/10173 is a quick fix for the Quebec site to circumvent the problem but shouldn't be merged (or just as a temporary solution)"
35836,TYPO3.Neos,Bug,"",Resolved,Should have,"While pagetree is opened clicking the search stuff, results within a wrongly placed pagetree",Steffen Ritter,Markus Goldbeck,2012-09-07 04:35,"","",2012-04-11,"","",100,2012-04-11 04:44,"","",556550,"","See attached image
"
35839,TYPO3.Neos,Bug,"",Resolved,Should have,Renaming a page removes it from live (before publishing),Steffen Ritter,"",2013-04-10 15:11,"","",2012-04-11,"","",100,2012-04-11 04:51,"","",556700,"","After importing the Demo Site I renamed ""third page"" to 3rd page. No publishing happened.
Doing so the website is removed in live.

"
36137,TYPO3.Neos,Bug,"",Resolved,Must have,incorrect <html> xml attributes,Adrian Föder,Christian Müller,2012-05-11 08:38,Frontend,"",2012-04-16,"","",100,2012-04-16 04:44,"","",571250,"","at the current state, the source code reads

<pre><code class=""html"">
<html version=""HTML+RDFa 1.1"" xmlns:typo3=""http://www.typo3.org/ns/2011/FLOW3/Packages/TYPO3/Content/"" class=""page-home"">
</code></pre>

*before* the @xmlns:typo3@ attribute there should be an @xmlns=""http://www.w3.org/1999/xhtml""@ in order to introduce the @xmlns@ namespace."
36579,TYPO3.Neos,Bug,"",Resolved,Must have,Backend provider request patterns not working,Aske Ertmann,Aske Ertmann,2012-04-25 20:38,"","",2012-04-25,"","",100,2012-04-25 14:32,"","",592250,"","After the HTTP refactoring some settings were misconfigured.

The request patterns are not a part of the provider options,
which caused the token to be always active. This gave some
problems if other tokens had a entry point as well, because
this entry point would be redirected first."
36678,TYPO3.Neos,Feature,"",On Hold,Could have,Complex Controllers don't work as BackendModule,Marc Neuhaus,"",2012-07-25 06:57,"","",2012-04-27,"","",0,2012-04-27 12:14,"","",597150,"","In case of the ContentManagement Module i use a quite complex controller which doesn't contain the Actions in itself and instead as seperate classes. Because of this i can only show the index action in BackendModules.

I've attached a diff to allow to disable the hasMethod check for the action through settings.yaml

This was the quickest and simplest way which came to my mind for this kind of thing. Maybe there's a better way i can't think of right now."
36962,TYPO3.Neos,Bug,"",Resolved,Must have,Most ExtDirect calls fail,Kristian Videmark Parkov,"",2012-05-21 07:35,Frontend,"",2012-05-08,"","",100,2012-05-08 14:21,"","",611250,"","In most ExtDirect calls, but easily reproduced by folding out the page tree in ""Pages"", an internal error 500 occurs.

The log reads:

PHP Fatal error:  Call to a member function getBaseUri() on a non-object in /Users/parkov/Websites/Flow3Org/Data/Temporary/Development/Cache/Code/FLOW3_Object_Classes/TYPO3_FLOW3_Resource_Publishing_FileSystemPublishingTarget_Original.php on line 213

I've tracked the error down to $requestHandler->getHttpRequest() being NULL, but only in the context of an asynchronous call."
37072,TYPO3.Neos,Bug,"",Closed,Should have,"Nodes are published twice, leading to errors",Karsten Dambekalns,Rens Admiraal,2014-10-02 05:18,Services,"",2012-05-10,"","",0,2012-05-10 09:43,"","",616700,"","The publishing mechanism is publishing the same node twice which causes the node to be in the live workspace already on the second try.

This causes a 'Response: null' on the ExtJS requests because of the Workspace object to call the getName() method of it's baseWorkspace. This is not possible in the live workspace as it has no baseWorkspace."
37267,TYPO3.Neos,Bug,"",Resolved,Must have,protected content nodes are rendered,Bastian Waidelich,Christian Müller,2014-04-26 08:38,Frontend,"",2012-05-17,"","",0,2012-05-17 16:04,"","",626150,"","Nodes that are restricted to a role (@accessRoles@) are currently displayed even if the logged in user does not belong to the respective role.

Example:

<pre>
<code class=""xml"">
<node identifier="""" type=""TYPO3.TYPO3:Text"" nodeName=""someProtectedNode"" locale="""">
	<accessRoles>
		<role>Administrator</role>
	</accessRoles>
	<properties>
		<headline>Some headline</headline>
		<text><![CDATA[
			<p>This should only be visible to Administrators.</p>
		]]></text>
	</properties>
</node>
</code>
</pre>

The text is displayed even if the logged in user is not in the role ""Administrator"""
38005,TYPO3.Neos,Feature,"",New,Should have,"Introduce a plugincontroller to take care of ""plugin stuff""",Soren Malling,"",2012-06-13 08:40,"","",2012-06-13,"","",0,2012-06-13 08:30,"","",662850,"","It would be a sweet thing to have a PluginController to take care of plugin arguments etc. 

Discussed it with Aske here at work

"
38021,TYPO3.Neos,Bug,"",Resolved,Must have,UpperCamelCase username,Eric Dorr,Rens Admiraal,2012-08-31 04:38,"","",2012-06-13,"","",100,2012-06-13 14:24,"","",663650,"","If you create in Phoenix Demo Page a user like ""CoreTex"" you can't log in.

You will be redirected to an error page like ""http://phoenix.XXXXXXX.xxx/homepage@user-CoreTex.html

Error Code: Page Not Found"
38069,TYPO3.Neos,Task,"",New,Should have,Fix IE Styling issues in demo distribution,Rens Admiraal,Rens Admiraal,2012-08-31 04:38,"","",2012-06-15,"","",0,2012-06-15 05:06,"","",666050,"","Fix IE Styling issues and move CSS => SCSS

Henjo Hoeksma offered to do this, issue for registration."
38072,TYPO3.Neos,Task,"",Closed,-- undefined --,Add csh to setup wizard,Henjo Hoeksma,"",2014-10-04 07:38,"","",2012-06-15,"","",0,2012-06-15 05:58,"","",666200,"","I think it would be a good thing to provide some CSH in the new setup wizard. 
For example using the ""popover"":http://twitter.github.com/bootstrap/javascript.html#popovers functionality and the icon-exclamation-sign icon.

Just a few lines of descriptive information will make it more user friendly imho."
38073,TYPO3.Neos,Bug,"",Resolved,Should have,Next step in setup wizard should not be present when in step 3,Henjo Hoeksma,"",2012-08-31 04:38,"","",2012-06-15,"","",100,2012-06-15 06:01,"","",666250,"","Clicking the next step button will lead you to step 4, which isn't configured. This button should not be here in this step."
38284,TYPO3.Neos,Task,"",New,Should have,Improve exception handling,Karsten Dambekalns,"",2012-06-22 04:09,JavaScript,"",2012-06-22,"","",0,2012-06-22 04:05,"","",676800,"","As recognized with https://review.typo3.org/12030 something like in https://gist.github.com/2966975 should be added:
<pre>
function TYPO3Exception(message, code) {
  this.message = message;
  this.code = code;
  this.toString = function() {
    return this.message + ' (#' + this.code + ')';
  };
}
throw new TYPO3Exception('error message', 123456789);
</pre>

Maybe add a wrapper function like Ember.assert with a syntax like Ember.assert({message: 'error message', code: 123456789}, false);"
38500,TYPO3.Neos,Task,"",Resolved,Should have,Build Surf configuration for Phoenix release,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-31 04:38,"",Sprint 9,2012-06-30,"","",0,2012-06-30 07:32,"","",687500,"","As we use Surf for building a FLOW3 release, we should do that also for Phoenix releases."
38542,TYPO3.Neos,Bug,"",Resolved,Must have,Missing leading namespace-backslash,Adrian Föder,Adrian Föder,2012-07-04 03:35,Frontend,"",2012-07-02,"","",100,2012-07-02 05:38,"","",689600,"",TYPO3.TYPO3\Classes\View\TypoScriptView.php misses a leading backslash in an exception.
38544,TYPO3.Neos,Bug,"",Resolved,Must have,Unit test for TypoScript\Processors\DateProcessorTest::dateBasicallyWorks fails,Adrian Föder,Karsten Dambekalns,2013-04-10 14:52,TypoScript,"",2012-07-02,"","",100,2012-07-02 05:52,"","",689700,"","<pre>
Time: 1 second, Memory: 5.50Mb

There was 1 failure:

1) TYPO3\TYPO3\TypoScript\Processors\DateProcessorTest::dateBasicallyWorks
The TypoScript processor ""date"" did not return the expected result while
converting a UNIX timestamp. Expected ""July 24, 2007, 2:25 pm"" but got
""July 24, 2007, 12:25 pm""
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'July 24, 2007, 2:25 pm'
+'July 24, 2007, 12:25 pm'

/var/www/Packages/Application/TYPO3.TYPO3/Tests/Unit/TypoScript/Processors/DateProcessorTest.php:43
/var/www/Packages/Framework/TYPO3.FLOW3/Tests/BaseTestCase.php:50
</pre>

"
38899,TYPO3.Neos,Bug,"",Resolved,Should have,"Newly created section nodes are not published with the ""Publish Page"" Button",Christian Müller,"",2012-09-03 06:19,"","",2012-07-12,"","",100,2012-07-12 07:35,"","",707000,"","Use Phoenix Demo page
-> Go to an empty page that shows the ""Add new Content"" Button
-> Add new content
-> publish
-> nothing seen

Inspecting the database will show you that the content element you created is now in live workspace but the section node is still in the user workspace so nothing is to be seen..."
38913,TYPO3.Neos,Bug,"",Resolved,Must have,Two Column Content Element has no rendering definition,Christian Müller,Christian Müller,2012-09-22 10:08,"","",2012-07-12,"","",0,2012-07-12 13:00,"","",707700,"",Two Column Content Element simply is not rendered at the moment as there is no definition in Typoscript for it.
38914,TYPO3.Neos,Bug,"",Resolved,Should have,Default Plugin Namespace should not default to be always typo3_typo3_typoscript_plugin,Christian Müller,Christian Müller,2013-10-04 11:20,"",1.0 beta 1,2012-07-12,"","",0,2012-07-12 13:13,"","",707750,"","As Plugins no longer extend the Typoscript Plugin base class the default namespace now is always typo3_typo3_typoscript_plugin which is quite useless, I guess we can create a better default from the plugin settings given in Typoscript."
39236,TYPO3.Neos,Feature,"",New,Could have,Setup step features,Aske Ertmann,"",2012-07-25 05:37,"","",2012-07-25,"","",0,2012-07-25 05:37,"","",723650,"","* Language
* Default language/timezone
* Database
** Port
** PDO Driver
** Delete existing database"
39238,TYPO3.Neos,Feature,"",New,Could have,CLI setup,Aske Ertmann,"",2012-07-25 05:45,"","",2012-07-25,"","",0,2012-07-25 05:45,"","",723750,"","Suggested by Bastian

The setup should be available through a CLI via a command controller that converts the setup step forms into arguments or s.th."
39239,TYPO3.Neos,Feature,"",New,Could have,Install script,Aske Ertmann,"",2012-07-25 05:47,"","",2012-07-25,"","",0,2012-07-25 05:47,"","",723800,"","Suggested by Jacob Floyd: https://docs.google.com/document/d/136atxn0pNVR04uD5b_l57rwdfxwnUImRFmF0rD07ut4/edit#heading=h.5onofd1s1aex

<pre>
I've added to that google doc about the pre-setup install script (that downloads/initializes a flow3/typo3 phoenix distribution): Make the install script so that it can be automated from the command line, as well as running in the browser. CLI for more cloud environments especially corporate environments. Web install for shared hosts, and mom/pop shops.

In other words: make the installation friendly to enterprise customers as well as small businesses and even personal websites. If people can use it at home, they're more likely to learn to love it and start a ground swell of support from within the corporate environment. That's one reason WP is so popular - lots of people use it at home for personal sites, and then they recommend using WP when it comes time to build a site in their org.

I think an ideal basic installation should take about 5 minutes. That includes the initial setup wizard. So, people should be able to get a basic, mostly extension-less Typo3 Phoenix installation, running with a barebones functional website, in about 5-10 minutes. (Some fudge room could be acceptable for bandwidth considerations or download time - so, that's 5-10 minutes of active effort on the user's part.)

Make the install and setup process fast, so that the first impression of Typo3 is, ""Wow, I like this"", or ""Wow, that was fast, so my website will be fast!"" (first impressions aren't always logical... But they color your view of the product for the rest of the evaluation process)
</pre>"
39240,TYPO3.Neos,Feature,"",Needs Feedback,Should have,Setup: Final step,Aske Ertmann,"",2013-05-13 09:18,"","",2012-07-25,"","",0,2012-07-25 05:57,"","",723850,"","* Advanced setup options (TYPO3 configuration)
* Package management (TYPO3 module)
* Warnings & recommendations
** Could be a separate module (usable for FLOW3, too) that is equal to the System report in v4."
39433,TYPO3.Neos,Bug,"",Resolved,Must have,functional TypoScript\RenderingTest fails on Windows,Adrian Föder,Adrian Föder,2012-08-31 05:35,"","",2012-08-01,"","",100,2012-08-01 03:21,"","",733400,"","due to incorrect path-separator-handling, the FunctionalTests fail with messages similar to

<pre>
1) TYPO3\TYPO3\Tests\Functional\TypoScript\RenderingTest::basicRenderingWorks
TYPO3\Fluid\View\Exception\InvalidTemplateResourceException: Template file
""C:UsersafoederFLOW3PhoenixBasePackagesApplicationTYPO3.TYPO3TestsFunctionalTypoScrip
t/Fixtures//WebsiteTemplate.html"" could not be loaded
</pre>

this is caused by __DIR__ being used as base path, being '\' on windows and causing these errors.

"
39447,TYPO3.Neos,Task,"",Closed,Should have,Renaming of CSS and js folders in all packages,Markus Goldbeck,"",2014-10-03 07:16,"","",2012-08-01,"","",0,2012-08-01 08:37,"","",734100,"","The naming of the CSS and js folders is inconsistent so they should be renamed in all packages.

CSS -> StyleSheets

js ->  JavaScripts"
39748,TYPO3.Neos,Feature,"",New,Could have,Side By Side View Of Changes in the Workspace,Christian Müller,"",2014-10-02 07:00,"","",2012-08-13,"","",14,2012-08-13 05:19,"","",749000,0.00,"EPIC STORY

Should show current live page and my workspace version of a page side by side."
39749,TYPO3.Neos,Feature,Feature #39748: Side By Side View Of Changes in the Workspace,New,Should have,Allow modifications in Side-By-Side Workspace view,Christian Müller,"",2012-08-13 05:21,"","",2012-08-13,"","",0,2012-08-13 05:21,"","",749050,"",If I detect a typo or small error I should be able to fix it directly in the Side-By-Side view.
39750,TYPO3.Neos,Feature,"",Closed,Should have,Visualisation of changes in the node tree (workspace),Christian Müller,"",2014-10-04 12:06,"","",2012-08-13,"","",0,2012-08-13 05:24,"","",749100,"",Node tree with color highlighting of changed nodes in comparison to live workspace.
39751,TYPO3.Neos,Feature,"",Resolved,Should have,List view of unpublished changes to publish or undo,Christian Müller,"",2012-08-23 10:35,"","",2012-08-13,"","",100,2012-08-13 05:48,"","",749150,"",""
39752,TYPO3.Neos,Feature,Feature #39748: Side By Side View Of Changes in the Workspace,New,Should have,Navigate to next or previous changed page in order to review my work in progress,Christian Müller,"",2012-08-13 05:49,"","",2012-08-13,"","",0,2012-08-13 05:49,"","",749200,"",Inside the Side-By-Side workspace preview
39753,TYPO3.Neos,Feature,Feature #39748: Side By Side View Of Changes in the Workspace,New,Should have,"Select changes to be included in the next ""publish set""",Christian Müller,"",2012-08-13 05:50,"","",2012-08-13,"","",0,2012-08-13 05:50,"","",749250,"",""
39754,TYPO3.Neos,Feature,"",New,Should have,Allow publishing changes quickly for a single user environment,Christian Müller,"",2012-08-13 05:50,"","",2012-08-13,"","",0,2012-08-13 05:50,"","",749300,"",""
39755,TYPO3.Neos,Feature,"",Resolved,Should have,Ability to discard changes to go back to the current live version of a node,Christian Müller,"",2012-08-23 10:35,"","",2012-08-13,"","",100,2012-08-13 05:51,"","",749350,"",""
39756,TYPO3.Neos,Feature,"",New,Should have,Notification system for changes in workspaces,Christian Müller,"",2012-08-13 05:52,"","",2012-08-13,"","",0,2012-08-13 05:51,"","",749400,0.00,""
39757,TYPO3.Neos,Feature,Feature #39756: Notification system for changes in workspaces,New,Should have,"Setting up notifications through my preferred channel (mail, IRC, twitter, SMS etc.)",Christian Müller,"",2012-08-13 05:52,"","",2012-08-13,"","",0,2012-08-13 05:52,"","",749450,"",""
39758,TYPO3.Neos,Feature,Feature #39748: Side By Side View Of Changes in the Workspace,New,Could have,Comment on changes,Christian Müller,"",2014-10-02 07:00,"","",2012-08-13,"","",50,2012-08-13 05:52,"","",749500,0.00,Allow commenting on changes.
39759,TYPO3.Neos,Feature,Feature #39758: Comment on changes,New,Should have,List to quickly review change comments,Christian Müller,"",2012-08-13 05:53,"","",2012-08-13,"","",0,2012-08-13 05:53,"","",749550,"",""
39760,TYPO3.Neos,Feature,Feature #39748: Side By Side View Of Changes in the Workspace,New,Should have,Possibility to skip changes to make a decision about publishing later,Christian Müller,"",2012-08-13 05:54,"","",2012-08-13,"","",0,2012-08-13 05:54,"","",749600,"",""
39761,TYPO3.Neos,Feature,Feature #39748: Side By Side View Of Changes in the Workspace,New,Should have,Controller Interface for change review,Christian Müller,"",2012-08-13 05:58,"","",2012-08-13,"","",0,2012-08-13 05:58,"","",749650,"",""
39762,TYPO3.Neos,Feature,"",New,Should have,Workflow Administration,Christian Müller,"",2012-08-13 05:59,"","",2012-08-13,"","",0,2012-08-13 05:59,"","",749700,"",EPIC STORY. How to manage creating workflows for reviewing and publishing.
39763,TYPO3.Neos,Feature,"",New,Should have,Approval Workflow,Christian Müller,"",2012-08-13 06:00,"","",2012-08-13,"","",0,2012-08-13 06:00,"","",749750,"",EPIC STORY. How could a workflow for change review and publishing look like?
39764,TYPO3.Neos,Feature,"",Closed,Should have,Translation Workflow,Christian Müller,Hubertus Golf,2014-10-01 12:09,"","",2012-08-13,"","",0,2012-08-13 06:00,"","",749800,"",EPIC STORY. How can a workflow for translating content and publishing translations once they are ready look like.
39797,TYPO3.Neos,Bug,"",Resolved,Should have,User Management crashes on trying to update a user,Robert Lemke,"",2012-08-29 12:49,UI,"",2012-08-14,"","",100,2012-08-14 07:40,"","",751350,"","On trying to submit a new password (or other data), a fatal mapping error occurs.
"
39806,TYPO3.Neos,Task,"",Accepted,Should have,Refactor user management to use central domain service,Robert Lemke,Robert Lemke,2012-08-14 12:01,Services,Sprint February 2013,2012-08-14,"","",0,2012-08-14 12:01,"","",751800,"","The code dealing with user creation, update and deletion is spread all over the packages. We need to centralize this in a Domain Service."
39833,TYPO3.Neos,Feature,"",New,Must have,Cross site linking using the link/uri view helpers,Aske Ertmann,"",2012-08-15 09:58,"","",2012-08-15,"","",0,2012-08-15 09:58,"","",753150,"","At the moment it's not possible to link to a node from a another site than the current content context's root node. It throws an exception since no routepart handlers are capable of resolving the route.

The solution is a combination of rewriting the check in the NodeRoutePartHandler's resolveValue method, where it checks if the site node paths match and a way of setting an alternative absolute uri for the uri builder in FLOW3."
39972,TYPO3.Neos,Feature,"",New,Should have,Allow Paste into empty sections,Christian Müller,"",2012-08-19 11:30,"","",2012-08-19,"","",0,2012-08-19 11:30,"","",760050,"","Currently an empty content section will show a ""Create new content"" button, but not allow you to paste copy/cut content."
39987,TYPO3.Neos,Bug,"",Resolved,Should have,Image publishing throws an error,Rens Admiraal,"",2013-04-10 12:43,"","",2012-08-20,"","",100,2012-08-20 05:06,"","",760800,"","ExtDirect error: Uncaught exception #1297759968 (ref 201208201047006e6fe1) - 
Exception while property mapping for target type ""TYPO3\TYPO3CR\Domain\Model\NodeInterface"", at property path """": 
Exception while property mapping for target type ""TYPO3\Media\Domain\Model\ImageVariant"", at property path """": 
Length of either side cannot be 0 or negative, current size is x"
40078,TYPO3.Neos,Bug,"",Closed,Should have,Upload image link almost invisible,Karsten Dambekalns,"",2013-03-15 09:06,UI,"",2012-08-23,"","",0,2012-08-23 07:16,"","",765350,"",See screenshot.
40249,TYPO3.Neos,Bug,"",Resolved,Must have,Site export: nodes containing CDATA blocks make XML crash,Adrian Föder,Karsten Dambekalns,2012-09-05 03:35,Services,Sprint 10 (1.0 TP1),2012-08-27,"","",100,2012-08-27 02:07,"","",773900,"","nodes actually containing CDATA blocks themselves (like in <script> tags), will result into a not well-formed XML due to nested CDATA blocks.
This might be either an XMLwriter drawback, or even an XML lack?
I once already looked out how to ""escape"" inner-CDATA, but did not find any useful stuff.
Will look again, then :)"
40304,TYPO3.Neos,Task,"",Resolved,Should have,"As a user, I'd like to be redirected to the last edited page after logging out",Robert Lemke,Karsten Dambekalns,2012-12-20 06:36,"","","","","",100,2012-08-28 05:48,"","",776150,"",""
40350,TYPO3.Neos,Task,Task #40370: Use ContentType objects instead of strings in NodeInterface,Closed,Should have,Use ContentType objects for NodeInterface::getContentType(),Karsten Dambekalns,"",2012-10-04 10:03,"",Sprint 10 (1.0 TP1),2012-08-28,"","",100,2012-08-28 12:13,"","",777050,"",The getContentType() should return ContentType instances instead of the content type name.
40370,TYPO3.Neos,Task,"",Resolved,Should have,Use ContentType objects instead of strings in NodeInterface,Karsten Dambekalns,"",2012-10-04 10:03,"","",2012-08-28,"","",100,2012-08-29 06:26,"","",778050,0.00,""
40371,TYPO3.Neos,Task,Task #40370: Use ContentType objects instead of strings in NodeInterface,Closed,Should have,Use ContentType objects for NodeInterface::setContentType() / createNode(),Karsten Dambekalns,"",2012-10-04 10:03,"",Sprint 10 (1.0 TP1),2012-08-29,"","",100,2012-08-29 06:27,"","",778100,"",""
40464,TYPO3.Neos,Bug,"",Closed,Should have,No add icon appears when hovering over element,Karsten Dambekalns,Karsten Dambekalns,2013-04-11 05:07,"",Sprint 10 (1.0 TP1),2012-08-31,"","",0,2012-08-31 05:16,"","",782600,"",See https://skitch.com/k-fish/ex59f/hover-to-add-1 and https://skitch.com/k-fish/ex59c/add-element-2 to see the effect.
40552,TYPO3.Neos,Bug,Work Package #45021: [WIP] [ASSIGNEE MISSING] Cross Browser Compatibility,Closed,Should have,Firefox 11 / 15 issues,Adrian Föder,"",2014-10-01 11:57,JavaScript,1.0 beta 1,2012-09-03,"","",0,2012-09-03 06:05,"","",786800,"","on Firefox 11 (Windows 7/8 64bit), the New Content Element selector is not visually partitioned in tabs, all selectable items are on one ""tab sheet"". Additionally, after a few seconds, suddenly content from the start page appears on the screen (see http://imgur.com/a/YG8dC).

"
40553,TYPO3.Neos,Bug,"",Resolved,Should have,Exception on visiting Workspace Module,Adrian Föder,"",2013-01-25 10:49,"",Sprint 10 (1.0 TP1),2012-09-03,"","",0,2012-09-03 06:08,"","",786850,"","When attempting to run the workspace module (ie http://dev.phoenix.example.org/typo3/management/workspaces), the following exception occurs:

> #1: Catchable Fatal Error: Argument 1 passed to TYPO3\TYPO3CR\Domain\Model\Node_Original::createProxyForContextIfNeeded() must implement interface TYPO3\TYPO3CR\Domain\Model\NodeInterface, null given, called in C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php on line 347 and defined in C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php line 963 (More information)

The full exception log txt reads
<pre>
Uncaught exception #1 in line 963 of C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php: Catchable Fatal Error: Argument 1 passed to TYPO3\TYPO3CR\Domain\Model\Node_Original::createProxyForContextIfNeeded() must implement interface TYPO3\TYPO3CR\Domain\Model\NodeInterface, null given, called in C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php on line 347 and defined in C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php line 963

36 TYPO3\FLOW3\Error\ErrorHandler::handleError(4096, ""Argument 1 passed to TYPO3\TYPO3CR\Domain\Model\Node_Original::createProxyForContextIfNeeded() must implement interface TYPO3\TYPO3CR\Domain\Model\NodeInterface, null given, called in C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php on line 347 and defined"", ""C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php"", 963, array)
35 TYPO3\TYPO3CR\Domain\Model\Node_Original::createProxyForContextIfNeeded(NULL)
34 TYPO3\TYPO3CR\Domain\Model\Node_Original::getParent()
33 TYPO3\TYPO3\Controller\Module\Management\WorkspacesController_Original::findFolderNode(TYPO3\TYPO3CR\Domain\Model\Node)
32 TYPO3\TYPO3\Controller\Module\Management\WorkspacesController_Original::indexAction(NULL)
31 call_user_func_array(array, array)
30 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::callActionMethod()
29 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)
28 TYPO3\FLOW3\Mvc\Dispatcher_Original::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)
27 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)
26 TYPO3\TYPO3\Controller\Backend\ModuleController_Original::indexAction(array)
25 TYPO3\TYPO3\Controller\Backend\ModuleController::indexAction(array)
24 call_user_func_array(array, array)
23 TYPO3\TYPO3\Controller\Backend\ModuleController::FLOW3_Aop_Proxy_invokeJoinPoint(TYPO3\FLOW3\Aop\JoinPoint)
22 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)
21 TYPO3\FLOW3\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\FLOW3\Aop\JoinPoint)
20 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)
19 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)
18 TYPO3\TYPO3\Controller\Backend\ModuleController::indexAction(array)
17 call_user_func_array(array, array)
16 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::callActionMethod()
15 TYPO3\FLOW3\Mvc\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)
14 TYPO3\FLOW3\Mvc\Dispatcher_Original::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)
13 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)
12 call_user_func_array(array, array)
11 TYPO3\FLOW3\Mvc\Dispatcher::FLOW3_Aop_Proxy_invokeJoinPoint(TYPO3\FLOW3\Aop\JoinPoint)
10 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)
9 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\Aop\JoinPoint)
8 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)
7 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)
6 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\Aop\JoinPoint)
5 TYPO3\FLOW3\Aop\Advice\AroundAdvice::invoke(TYPO3\FLOW3\Aop\JoinPoint)
4 TYPO3\FLOW3\Aop\Advice\AdviceChain::proceed(TYPO3\FLOW3\Aop\JoinPoint)
3 TYPO3\FLOW3\Mvc\Dispatcher::dispatch(TYPO3\FLOW3\Mvc\ActionRequest, TYPO3\FLOW3\Http\Response)
2 TYPO3\FLOW3\Http\RequestHandler::handleRequest()
1 TYPO3\FLOW3\Core\Bootstrap::run()
</pre>"
40624,TYPO3.Neos,Feature,"",Closed,Should have,Appereance of div.t3-contentelement wrapping div's should be configurable,Adrian Föder,Adrian Föder,2013-04-11 02:22,Frontend,"",2012-09-04,"","",0,2012-09-04 16:10,"","",790050,"","currently, obviously every element carries an automatically rendered surrounding div like

<pre><code class=""html"">
<div class=""t3-contentelement typo3-typo3-text"" id=""c344fb619-e1a3-4496-8c7d-c163aa2224ae"">
</code></pre>

Since this may end up in even breaking layouts (for example it prevents ""margin collapsing"", http://www.w3.org/TR/CSS2/box.html#collapsing-margins), it should be made configurable which Content Type wrap, if however, should be rendered *when not logged in*."
40639,TYPO3.Neos,Bug,"",Closed,Must have,"When logged out, some (menu) links still have @johndoe.html ",Adrian Föder,Adrian Föder,2014-10-02 05:19,Frontend,"",2012-09-05,"","",0,2012-09-05 02:13,"","",790750,"","When logged out, some (not all) links in an automatically generated menu still have the user namespace carrying, for example

http://dev.internal.example.org/node502771126c5f7/node50277a063bc0f@user-adrian.html


...resulting in an 403 Forbidden when clicking on it.
When manually removing this addendum, the page serves fine as expected."
40719,TYPO3.Neos,Task,"",Resolved,Should have,TYPO3 exceptions should inherit from FLOW3 exceptions,Bastian Waidelich,Bastian Waidelich,2012-09-08 07:35,"","",2012-09-07,"","",100,2012-09-07 03:39,"","",794600,"","The exceptions of the TYPO3.TYPO3 package extend @\TYPO3\TYPO3\Exception@. This one currently directly inherits from PHPs @\Exception@.
Instead @\TYPO3\TYPO3\Exception@ should extend @\TYPO3\FLOW3\Exception@ in order to support @statusCode@ and @referenceCode@"
40735,TYPO3.Neos,Bug,Work Package #45021: [WIP] [ASSIGNEE MISSING] Cross Browser Compatibility,Closed,Should have,Missing button margin in Firefox 14,Mattias Nilsson,"",2013-12-07 07:27,"",1.0 beta 1,2012-09-07,"","",0,2012-09-07 09:05,"","",795300,"","When using TYPO3 backend in Firefox 14 the types of <input type=""submit"" value=""Save"" name="""" class=""btn btn-primary t3-button""> misses a padding button. Look at the attached image and the greeen ""Save"" button."
40856,TYPO3.Neos,Bug,"",Resolved,Should have,Missing jquery.notice.js stops Backend from Working,Cedric Ziel,"",2013-01-29 09:41,JavaScript,"",2012-09-12,"","",0,2012-09-12 04:37,"","",801250,"","Hi;

I noticed a missing piece of JavaScript in current master.

RequireJS tries to get jquery.notice.js; but this is not existent. In Chrome 23, this stops the Backend from initializing correct.

Fix:
Get the file from [[http://code.google.com/p/jquery-notice/source/browse/trunk/jquery.notice.js]] and put it in the TYPO3.TYPO3 Resources / Public / JavaScript folder..

It would be great, if you could fix this fast, as it is a fairly simple one.

Maybe there was a reason for removing it?"
41017,TYPO3.Neos,Bug,"",Resolved,Must have,Editing a pagetitle is not working,Markus Goldbeck,Markus Goldbeck,2012-09-25 06:35,JavaScript,Sprint February 2013,2012-09-17,"","",100,2012-09-17 17:16,"","",808900,"",""
41019,TYPO3.Neos,Task,"",Resolved,Should have,seperate Handling click and dblclicking a pagetitle,Markus Goldbeck,Markus Goldbeck,2012-09-25 06:35,"",Sprint February 2013,2012-09-17,"","",100,2012-09-17 17:37,"","",809000,"",The event handling of clicking a pagetitle for loading a page and dblclicking for editing a pagetitle works not always right.
41218,TYPO3.Neos,Bug,"",Resolved,Should have,Page icon in page tree for newly created page different than regular page icon,Karsten Dambekalns,Markus Goldbeck,2012-09-25 04:35,UI,Sprint February 2013,2012-09-21,"","",100,2012-09-21 17:19,"","",818300,"",see screenshot?
41335,TYPO3.Neos,Task,"Story #41152: As a content editor, I want to use a page tree which fits into the overall UI",Closed,Could have,Keyboard Navigation for the pagetree,Markus Goldbeck,Markus Goldbeck,2014-10-04 11:33,UI,"",2012-09-24,"","",100,2012-09-24 17:34,"","",824050,"","In my opinion it would be nice to navigate the pagetree with the Cursors.

up -> up on the same level, or going up a level
down -> like up
left -> go to parent node and collapse
right -> go down to the next parent node and expand

with https://review.typo3.org/#/c/14876/
and https://review.typo3.org/#/c/14680/

'esc' and 'enter' work already for editing a pagetitle"
41336,TYPO3.Neos,Bug,"",Closed,Must have,"Updating Data should be actualized in Inspector, Pagetree and Inspecttree",Markus Goldbeck,"",2013-01-29 09:32,"",Sprint February 2013,2012-09-25,"","",0,2012-09-25 02:34,"","",824100,"","When a pagetitle is changed it should also be changed in the Inspector, and Inspecttree and the other way round.

Inspector
* pagetitle
* nodename
* hidden


Tree
* page is hidden
* change of the nodename
* key <- nodename
* nodepaths for children

Inspectree
* pagetitle
* nodepaths for children


Content
* a reload should be enough"
41343,TYPO3.Neos,Task,Story #41313: General UI bugs (CSS / JS),Closed,Should have,Useless formatting options on title offered,Karsten Dambekalns,Sebastian Kurfuerst,2012-10-04 05:09,UI,Sprint 10 (1.0 TP1),2012-09-25,"","",100,2012-09-25 05:05,"","",824450,"",See screenshot.
41618,TYPO3.Neos,Bug,"",Resolved,Should have,Adding ElectronicAddresses in User module is not possible,Gordon Brüggemann,Mattias Nilsson,2013-03-26 09:37,"","",2012-10-05,"","",100,2012-10-05 07:38,"","",836900,"","http://neos.demo/neos/administration/users/show?moduleArguments[account][__identity]=2c4c646d-f7e1-461b-a228-6a61ca996236

edit  the Accout to add the EMail but on the the Edit Form is no input for Electronic Addresses

http://neos.demo/neos/administration/users/edit?moduleArguments[account][__identity]=2c4c646d-f7e1-461b-a228-6a61ca996236

// edit by afoeder:
the partial @Module/Shared/EditUserSettingsForm@ looks like 
<pre><code class=""html"">
	<f:if condition=""{account.party.electronicAddresses}"">
		<div class=""control-group"">
			<label class=""control-label"">Electronic addresses:</label>
			<ul class=""inputs-list"">
				<f:for each=""{account.party.electronicAddresses}"" as=""electronicAddress"">
					<li>{electronicAddress.identifier} ({electronicAddress.type})</li>
				</f:for>
			</ul>
		</div>
	</f:if> 
</code></pre>

it's obvious that there is not possibility to add an electronic address if there isn't already one set."
41660,TYPO3.Neos,Task,"",Resolved,Must have,Fatal Error in Package Management,Jochen Weiland,Karsten Dambekalns,2012-12-17 12:10,"","",2012-10-07,"","",100,2012-10-07 16:23,"","",839000,"","NEOS-1.0alpha1 Installation, Demo Web Site:

When you are logged into the NEOS BE, go to Administration and then click on the link Package Management you get a fatal error:

Fatal error: Call to undefined method TYPO3\Flow\Package\MetaData::getTitle() in /.../NEOS-1.0alpha1/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_TYPO3_Controller_Module_Administration_PackagesController_Original.php on line 45"
42041,TYPO3.Neos,Task,"",Resolved,Should have,Delete Buttons of content nodes in firefox not working,Carsten Bleicker,Karsten Dambekalns,2012-12-17 15:02,"","",2012-10-16,"","",100,2012-10-16 06:12,"","",857000,"","Tried in FF v15 and v16.
Buttons doing exactly nothing :(
It works in Chrome."
42175,TYPO3.Neos,Bug,"",Resolved,Should have,Username with dot will see error page after login,Christoph Niewerth,Karsten Dambekalns,2012-12-17 14:44,"","",2012-10-19,"","",100,2012-10-19 09:18,"","",863500,"","Similar behaviour like #38021

If you create in Phoenix Demo Page a user like ""christoph.niewerth"" you can't log in.

Redirect to http://neos.dev.enetr.de/homepage/home@user-christoph.niewerth will be done, displaying Page Not Found Page."
42198,TYPO3.Neos,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Should have,Check for uniqueness of page url when changed in inspector,Rens Admiraal,"",2013-11-22 11:02,"","",2012-10-20,"","",0,2012-10-19 19:22,"","",864650,"","The ""name (url)"" field of a page is not checking if the name already exists. When adding a page and changing the name (url) field to ""home"", the page is not editable anymore. When switching to wireframe mode (and back) the page is editable again.

The frontend shows:
#1328018972: Non-unique result found for path ""/sites/phoenixdemotypo3org/homepage/features"" (More information)"
42199,TYPO3.Neos,Task,"",Needs Feedback,Should have,Show friendly message if no root node found,Rens Admiraal,Karsten Dambekalns,2012-12-21 05:56,"","",2012-10-20,"","",0,2012-10-19 19:25,"","",864700,"",If the root node is deleted the site breaks with a fatal error. We should probably show a friendly message here.
42200,TYPO3.Neos,Bug,Work Package #45021: [WIP] [ASSIGNEE MISSING] Cross Browser Compatibility,Resolved,Should have,IE9: Loading the page tree fails,Rens Admiraal,"",2013-07-06 20:37,"",1.0 beta 1,2012-10-20,"","",100,2012-10-19 19:26,"","",864750,"",In Internet Explorer 9 it's not possible to open the pagetree.
42201,TYPO3.Neos,Bug,"",Closed,Should have,IE8: The backend breaks completely,Rens Admiraal,Henjo Hoeksma,2014-10-02 04:56,"","",2012-10-20,"","",0,2012-10-19 19:27,"","",864800,"","- Multiple JS errors on load
- Most of the UI parts are not visible at all"
42204,TYPO3.Neos,Bug,"",Closed,Should have,Internal server error during password change,Rens Admiraal,Rens Admiraal,2014-10-02 05:24,"","",2012-10-20,"","",0,2012-10-19 19:33,"","",864950,"","Internal server error (ref: 20121012122533a5c3d9) (reproduce: Change password in user settings, but leave repeat password blank, flash message appears, make password field blank and submit again)


#1313663277: The object of type ""TYPO3\TYPO3\Domain\Model\User"" (identifier: ""e114664e-39b3-4d0a-bca3-f6b45144d4fc"") which was passed to EntityManager->update() is not a previously persisted object. Check the code which updates this entity and make sure that only objects are updated which were persisted before. Alternatively use add() for persisting new objects."""
42207,TYPO3.Neos,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Needs Feedback,Should have,Cropping an image resizes the image to the original size of the full image,Rens Admiraal,Rens Admiraal,2012-12-17 14:50,"","","","","",0,2012-10-19 19:44,"","",865100,"",""
42211,TYPO3.Neos,Task,"",Resolved,Should have,Even in production context full classnames are shown in errors,Rens Admiraal,Karsten Dambekalns,2012-12-18 12:35,"","",2012-10-20,"","",100,2012-10-20 06:01,"","",865300,"","Production errors in flashmessage contain full class names (reproduce: enter a new password in User Settings and leave the repeat password blank)

This kind of information should not be shown in a production environment"
42212,TYPO3.Neos,Bug,"",Closed,Should have,User settings show double error messages,Rens Admiraal,Karsten Dambekalns,2012-12-17 12:03,"","",2012-10-20,"","",0,2012-10-20 06:02,"","",865350,"","If you change your password and leave the 'repeat password' empty, you get the errors as shown in attachment. This should of course just be 1 friendly error"
42213,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Script code in inspector panel fields is executed,Rens Admiraal,Mattias Nilsson,2014-11-02 12:22,JavaScript,1.0 beta 1,2012-10-20,"","",80,2012-10-20 06:06,"","",865400,"","JavaScript code in the inspector panel is executed when pressing enter

Reproduce:
- Focus on an input field in the inspector
- Paste for example: <script>alert('foo');</script>
- Press enter"
42214,TYPO3.Neos,Task,"",New,Should have,The title of a page node should be required in the inspector panel,Rens Admiraal,"",2012-10-20 06:09,"","",2012-10-20,"","",0,2012-10-20 06:09,"","",865450,"","It is now possible to empty the title field, and publish te page. This leads to weird behavior (automatic redirect to the backend if you click on a page link to such a page while browsing the website).

Making the title required would prevent that issue, and it's required anyway (although it might still make sense to have a look at the redirect)"
42215,TYPO3.Neos,Task,"",Needs Feedback,Should have,Rename title attribute of content types,Rens Admiraal,"",2012-10-20 07:00,"","",2012-10-20,"","",0,2012-10-20 06:18,"","",865500,"","We use the single _ in a property name if the property is meant for internal use, like _hiddenBeforeDateTime. This is basically the same for the title property which we use for giving content elements a recognizable name in the backend. But this should not conflict with a custom content type made by a user which needs a title property.

My suggestion would be to rename title to _title"
42217,TYPO3.Neos,Bug,"",Resolved,Should have,There is still a button for deleting the current user,Rens Admiraal,Rens Admiraal,2012-10-20 14:35,"","",2012-10-20,"","",100,2012-10-20 06:22,"","",865600,"",In the user list we disabled the delete button for the user which is currently logged in. This button is still visible by clicking on the 'info' button. (deletion doesn't actually work because it's also checked in the removeAction)
42218,TYPO3.Neos,Bug,"",Closed,Should have,The Neos logo on the login page is cropped in firefox,Rens Admiraal,Rens Admiraal,2014-10-02 05:21,"","",2012-10-20,"","",0,2012-10-20 06:24,"","",865650,"",In firefox the logo of Neos is cropped on the login screen (bottom pixels are lost)
42222,TYPO3.Neos,Feature,"",Closed,Should have,The user should be notified about an expired session,Rens Admiraal,"",2014-10-01 12:06,"","",2012-10-20,"","",0,2012-10-20 07:06,"","",865850,"","When you login to Neos, and let the session expire, the UI does not update or notify that the session is actually expired. This leads to problems when you start working again as all calls to the server will fail because of the expired session."
42315,TYPO3.Neos,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,Site name from import step not used,Karsten Dambekalns,Karsten Dambekalns,2012-10-23 13:35,"","",2012-10-23,"","",100,2012-10-23 10:39,"","",870500,"",The site name entered is never handed down to the site kickstarter?
42316,TYPO3.Neos,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,"Exception during site import is not logged, details are missing",Karsten Dambekalns,Karsten Dambekalns,2012-10-29 14:20,"","",2012-10-23,"","",100,2012-10-23 10:47,"","",870550,"",""
42410,TYPO3.Neos,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Must have,Page loading is broken ,Markus Goldbeck,Markus Goldbeck,2012-11-07 14:36,JavaScript,"",2012-10-26,"","",100,2012-10-26 04:17,"","",875150,"","Clicking in the Backend or in the tree to visit a page leads to an exception

""You have marked a DOM element with the CSS class t3-reloadable-content; but this element has no ID.""

This exception is thrown in TYPO3.TYPO3/Ressources/Public/JavaScript/phoenix/contentmodule.js -> loadPage line418

$('.t3-reloadable-content').each(function() {
	var id = $(this).attr('id');
	if (!id) {
		     // TODO: we need cleaner developer error handling
		throw 'You have marked a DOM element with the CSS class t3-reloadable-content; but this element has no ID.';
	}
	selectorsToReplace.push('#' + id);
});"
42415,TYPO3.Neos,Bug,"",Resolved,Must have,Image with text content type cannot be deleted,Diana Precup,Aske Ertmann,2013-01-30 17:42,"",Sprint February 2013,2012-10-26,"","",0,2012-10-26 05:23,"","",875400,"","Using TYPO3-Neos-1.0.0-alpha1, if you add an image with text content type into a section, you don't upload an image and try to delete this content the attached error appear and the default image with the text ""Enter text here"" appear in the front end. The only solution I found now is to hide that record. "
42673,TYPO3.Neos,Task,"Story #42672: As everybody, I want no JavaScript loading issues (Bugfix story)",Closed,Should have,jQuery.widget is not a function,Markus Goldbeck,"",2014-10-04 11:34,"","",2012-11-04,"","",100,2012-11-04 10:43,"","",887900,"","""[""jquery"",""emberjs"",""emberjs/dictionary-object"",""jquery-ui"",""aloha"",""vie"",""phoenix/common"",""vie/entity"",""phoenix/content/model"",""phoenix/content/ui/elements/button"",""phoenix/content/ui/elements/toggle-button"",""phoenix/content/ui/elements/popover-button"",""phoenix/content/ui/elements/toolbar"",""phoenix/content/ui/elements/new-contentelement-popover-content"",""phoenix/content/ui/contentelement-handles"",""phoenix/content/ui/section-handles"",""phoenix/content/ui/elements"",""phoenix/content/ui/editors"",""phoenix/content/ui""]"""
42674,TYPO3.Neos,Task,"Story #42672: As everybody, I want no JavaScript loading issues (Bugfix story)",Resolved,Should have,TypeError: Ext.EventManager is undefined,Markus Goldbeck,Karsten Dambekalns,2012-12-17 11:28,"","",2012-11-04,"","",100,2012-11-04 10:47,"","",887950,"","""[""jquery"",""emberjs"",""jquery-ui"",""emberjs/dictionary-object"",""aloha"",""vie"",""vie/entity"",""phoenix/content/model"",""phoenix/common"",""create"",""phoenix/content/controller"",""storage"",""phoenix/content/ui/elements/button"",""phoenix/content/ui/elements/toggle-button"",""phoenix/content/ui/elements/popover-button"",""phoenix/content/ui/elements/toolbar"",""phoenix/content/ui/elements/new-contentelement-popover-content"",""phoenix/content/ui/contentelement-handles"",""phoenix/content/ui/section-handles"",""phoenix/content/ui/elements"",""phoenix/content/ui/editors"",""phoenix/content/ui"",""phoenix/contentmodule"",""contentmodule-main""]"""
42714,TYPO3.Neos,Task,"Story #41107: As a user, I want a working demo site",Resolved,Must have,Version20120725073211.yaml is broken,Karsten Dambekalns,Karsten Dambekalns,2012-11-20 04:44,"","",2012-11-06,"","",100,2012-11-06 04:24,"","",889950,"",The second filter of the up migration in @Version20120725073211.yaml@ is wrongly indented.
42733,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,It is not possible to interact with a plugin that throw exceptions,Stephan Schuler,Tim Kandel,2014-11-02 12:22,"",1.0 beta 1,2012-11-06,"","",100,2012-11-06 10:22,"","",890900,"","Hey there.

If a plugin throws an exception, now backend interaction handles such as ""add new content element after"" or ""delete"" are available.

A simple example: Create a plugin having a default action with a required property.
Real world example: orderController::checkoutAction($order)

Having a plugin with a required property makes sense if you want to allow editors to add regular content above and below such a plugin.

Avoiding required properties in those actions destroys validation, so this is not a sollution.

I can think about three sollutions:
# Use default property when being in backend editing mode. This could be configured throug TypoScript or plugin configuration and obviousely only works for plugins that don't trigger persistence::write() operations. 
# Make plugins skippable through TypoScript when being in backend editing mode.
# Catch all kind of exceptions like it's currently done, but don't skip interaction handler wrapping.

I would vote for both sullutions, 1 and 2. And number 2 should be default for all plugins with required arguments. I'm sure there are several plugin situations that don't have required properties but fail to render propertly, too. So it's not only a problem for required arguments.

Regards,
Stephan."
42769,TYPO3.Neos,Task,"",Needs Feedback,Should have,Deleting a page without a title gives a weird prompt message,Aske Ertmann,Karsten Dambekalns,2012-12-18 15:10,"","",2012-11-07,"","",0,2012-11-07 14:52,"","",892700,"","<pre>
Are you sure you want to delete the page """"?
</pre>"
42951,TYPO3.Neos,Bug,"",Needs Feedback,Should have,Redirect on backend login when Webroot is not ../Web,Matthias Witte,Karsten Dambekalns,2013-10-04 03:53,"","",2012-11-14,"","",0,2012-11-14 04:47,"","",901600,"","For developing I would like to use one vHost for several instances. I think I changed the RewriteBase in ../Web/.htdocs correctly.

Everything is working except that if I log in I'll get redirected to 
http://neos.local/@user-wittem.html 
but i should be something like 
http://neos.local/neos/neosgit/Web/homepage/@user-wittem.html

The fallback in the BackendController is just /<workspace> but this is not sufficient if my vHost's DocumentRoot points to a different directory than ../Web"
43156,TYPO3.Neos,Feature,"",Resolved,Should have,Allow inclusion of CSS files in Backend modules,Adrian Föder,Adrian Föder,2013-02-13 06:43,UI,"",2012-11-20,"","",0,2012-11-20 10:00,"","",911850,"","allow an additional configuration directive at
<pre><code class=""yaml"">
TYPO3:
  Neos:
    modules:
      administration:
        submodules:
          sample:
            label: 'An example module'
            controller: 'Acme\Foobar\Controller\Module\Administration\SampleController'
            description: >
              This is just a description for the controller.
              Note the additional ""resources.css|js"" directives.
            icon: 'resource://TYPO3.Neos/Public/Images/Icons/Black/notepad_icon-24.png'
            additionalResources:
              styleSheets:
                - resource://Acme.Foobar/Public/Css/Module/Sample.css
              javaScripts:
                - resource://Acme.Foobar/Public/JavaScript/Module/Foo.js
                - resource://Acme.Foobar/Public/JavaScript/Module/Bar.js

</code></pre>

We need to be aware of the upcoming asset handling then and modify this appropriately."
43306,TYPO3.Neos,Bug,"",Resolved,Must have,Non existing Argument in Fluid ViewHelper throws Exception in Backend Widget,Cedric Ziel,Christian Müller,2012-11-26 10:35,UI,"",2012-11-26,"","",100,2012-11-26 09:28,"","",919300,"","Hi,

After a fresh installation off Neos, it directly throws Exceptions if you switch Modules in Backend.

This is because in TYPO3.Neos/Resources/Private/Templates/Module/Widget.html, unregistered Argument ""uri"" in ViewHelper ""f:uri.resource"" is used.

Changing the Argument Name in the ViewHelper to path corrects this issue.

Before:
<pre>
<f:if condition=""{submoduleConfiguration.icon}"">
                        <img src=""{f:uri.resource(uri: submoduleConfiguration.icon)}"" class=""pull-right"" />
                </f:if>
</pre>
After/Fix:
<pre>
<f:if condition=""{submoduleConfiguration.icon}"">
                        <img src=""{f:uri.resource(path: submoduleConfiguration.icon)}"" class=""pull-right"" />
                </f:if>
</pre>

*I think this one is urgent cause it breaks the whole Backend.*"
43597,TYPO3.Neos,Bug,"",Rejected,Must have,Frontend CSS disables Backend Menu,dirk doering,Markus Goldbeck,2013-04-10 15:19,UI,"",2012-12-04,"","",0,2012-12-04 15:51,"","",933750,"",If any frontend element has a position:fixed class the frontend is positioned below/over (depends on z-index) the NEOS backend menu. 
43829,TYPO3.Neos,Task,"",Resolved,Should have,"Remove ""Import package"" from ""Package Management""",Soren Malling,"",2012-12-12 16:12,"","",2012-12-10,"","",100,2012-12-10 07:54,"","",945250,"","Since introducing composer, the importPackage function isn't existing anymore.

Therefore, remove it from the GUI."
44036,TYPO3.Neos,Task,"",Resolved,Should have,When trying to create a new user in Administration part a 500 error is thrown,Mattias Nilsson,Mattias Nilsson,2012-12-17 11:36,"","",2012-12-16,"","",100,2012-12-16 13:25,"","",955550,"","When trying to create a new user in Administration part a 500 error is thrown. This is due to a missing action in the link.

#1237823699: Required argument ""action"" was not supplied. (More information)
TYPO3\Fluid\Core\Parser\Exception thrown in file
/Applications/MAMP/htdocs/phoenix.dev/Phoenix/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_TemplateParser_Original.php in line 554.
Reference code: 2012121619222907366c"
44138,TYPO3.Neos,Bug,"",Resolved,Must have,Using the tree to navigate gives random 303 redirects,Aske Ertmann,"",2013-01-29 09:37,"","",2012-12-19,"","",100,2012-12-19 17:47,"","",960550,"","When using the page tree to navigate after some page reloads some of them return a 303 redirect due to the security framework not authenticating the backend controller and thus redirecting to the login page. Right now this is solved in a very bad way by reloading the page assuming that the page structure has changed, which of course it hasn't, but think that because the fetched page is the login page.

The page reload is done in contentmodule.js line 456.

See screenshots for more info
* http://i.imgur.com/Q6tVA.png
* http://i.imgur.com/H8CWr.png"
44174,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Removing image dimensions throws exception in AJAX response,Soren Malling,Aske Ertmann,2014-11-02 12:21,UI,"",2012-12-21,"","",100,2012-12-21 05:12,"","",962350,"","Removing dimensions, when inserting a image causes the AJAX response to throw a exception. ImageVariant can't take 0 or negative numbers.

This could somehow be handlede both in the inspector and/or in the ImageVariant class"
44212,TYPO3.Neos,Bug,"",Resolved,Should have,Typo in variable $worskpaceName in LauncherController.php,Mattias Nilsson,"",2013-01-06 14:11,"","",2012-12-25,"","",100,2012-12-25 05:08,"","",964250,"",Typo in variable name $worskpaceName in  TYPO3\Neos\Service\ExtDirect\V1\Controller\LauncherController.php
44220,TYPO3.Neos,Bug,"",Resolved,Should have,When searching using the search toolbar an error is thrown,Mattias Nilsson,"",2013-01-06 14:11,"","",2012-12-25,"","",100,2012-12-25 10:59,"","",964650,"","When searching using the search toolbar an error is thrown:

{""type"":""exception"",""tid"":5,""message"":""Uncaught exception #1301650951 (ref 20121225165841dfb689) - No controller object was found for package \""typo3.neos\"", subpackage \""Service\\ExtDirect\\V1\"", controller \""frontend\\node\"" in route \""TYPO3Neos :: Frontend content with (HTML) format\""."",""where"":"" (ref 20121225165841dfb689)""}"
44228,TYPO3.Neos,Bug,"",Closed,Should have,When browsing through months in datepicker an exception is thrown,Mattias Nilsson,"",2013-03-15 09:03,"","",2012-12-26,"","",0,2012-12-26 14:38,"","",965000,"","When browsing through months in datepicker an exception is thrown, the exception(s) are:

uncaught exception: Missing instance data for this datepicker

uncaught exception: Missing instance data for this datepicker	
if ( elem.nodeName ) {
jquery-1.7.2.js (line 1898)"
60753,TYPO3.Neos,Bug,"",Closed,Should have,ArrayConverter with same priority,Carsten Bleicker,Bastian Waidelich,2014-08-04 04:41,"","",2014-08-03,"","",0,2014-08-03 14:12,"","",-23850,"","#1297951378: There exist at least two converters which handle the conversion from ""array"" to ""array"" with priority ""2"": TYPO3\Flow\Property\TypeConverter\TypedArrayConverter and TYPO3\Neos\TypeConverter\ArrayConverter
"
60752,TYPO3.Neos,Bug,"",Closed,Should have,Validation for objects by __type converted Interface not invoked,Carsten Bleicker,"",2014-10-01 06:35,"","",2014-08-03,"","",0,2014-08-03 13:37,"","",-23800,"","Having this:

/**
* @var TransportInterface
*/
protected $abreise;

and converting into concrete type by __type argument, the validation of concrete type is not invoked.
but it works with this:

/**
* @var AbstractTransport
*/
protected $abreise;


Maybe related to this?
https://review.typo3.org/#/c/31936/

"
60747,TYPO3.Neos,Bug,"",Closed,Should have,JS NumberRangeValidator does not work as expected,Carsten Bleicker,"",2014-10-01 06:38,"","",2014-08-03,"","",0,2014-08-03 05:02,"","",-23550,"","My Configuration:
      validation:
        'TYPO3.Neos/Validation/NumberRangeValidator':
          'minimum': 1
          'maximum': 9999

Result see attachement."
59839,TYPO3.Neos,Bug,"",Closed,Should have,Site Export skips empty contentcollection,Carsten Bleicker,"",2014-10-01 06:41,"","",2014-06-24,"","",0,2014-06-24 04:35,"","",1735300,"","I did a site export.
One of my Nodetype contains additional childnodes.
Some of them are empty and holding no subcontent nodes.
Seems that these ""contentCollection"" nodes will be skipped in an export.
I had to rebuild them after importing with flow node:autocreatechildnodes.
Also empty contentCollections should be exportet?"
59795,TYPO3.Neos,Bug,"",Closed,Should have,Publishing throws exception,Carsten Bleicker,"",2014-10-01 07:13,"","",2014-06-22,"","",0,2014-06-22 07:23,"","",1733100,"","Simply delete a Textelement and hit Publish (NOT Publish All).
See: https://www.dropbox.com/s/swkisnmqp4f815y/CommunicationErrorOnPublish.mov
See: Exception attached.

"
59767,TYPO3.Neos,Bug,"",Closed,Should have,Wrong title of + icon for content collections,Georg Ringer,"",2014-10-01 07:19,UI,"",2014-06-21,"","",0,2014-06-21 11:15,"","",1731700,"","The + icon of a content collection got the tile tag ""create after"" which is wrong as it must be ""create inside"".

using 1.1"
59760,TYPO3.Neos,Bug,"",Closed,Should have,"special char in template ""Exception while rendering""",Georg Ringer,"",2014-10-04 07:42,Frontend,"",2014-06-21,"","",0,2014-06-21 05:03,"","",1731350,"","If the template contains the char which is attached, then there is a not really helpful error
<pre>
Exception while rendering
root:
Exceeding segment end token after position 4644 (20140621110207d3942a)
</pre>

using 1.1"
59759,TYPO3.Neos,Bug,"",Closed,Should have,Wrong styles for Setup DB selection,Georg Ringer,"",2014-10-01 13:58,UI,"",2014-06-21,"","",0,2014-06-21 03:12,"","",1731300,"","the db selection is quite hard to use because background AND font is white. see attached screenshot, used latest chrome.

using latest 1.1"
59735,TYPO3.Neos,Bug,"",Closed,Should have,Forward to log in page after auto-log out,Dochat Damian,"",2014-10-01 14:13,"","",2014-06-20,"","",0,2014-06-20 12:07,"","",1730100,"",When creating a new content after being inactive for some minutes Neos loads forever instead of jumping on the log in page.
59674,TYPO3.Neos,Bug,"",Closed,-- undefined --,Production Mode does not resolve current domain,Carsten Bleicker,"",2015-03-20 07:10,"","",2014-06-19,"","",0,2014-06-19 17:26,"","",1727050,"","Having a site without any domain records the domain of first call is used for any other domain:
So this results here in this, f.e.:
<meta property=""og:image"" content=""http://pipeu.local/_Resources/Static/Packages/PIPEU.Site/Media/OpenGraphLogo.png""/>

first call was from local
second call with other domainname f.e. pipeu.whatever.de.
pipeu.whatever.de is not used in this case. any absolute link has local domain."
59452,TYPO3.Neos,Bug,"",Resolved,Should have,HTML Panel isnt getting closed on page change,Carsten Bleicker,"",2014-06-20 14:37,"","",2014-06-10,"","",100,2014-06-10 09:55,"","",1716000,"","If you have an opened html panel and navigate to another page
the html panel stays open."
59204,TYPO3.Neos,Bug,"",Resolved,Must have,Shortcut's itemState in menu should be »STATE_ACTIVE« if subpage is selected.,Björn Klusekemper,Marc Neuhaus,2014-06-20 06:12,"",1.x,2014-05-29,"",0.25,100,2014-05-29 11:08,"","",1703650,"","In my page tree I have a shortcut with subpages that links to the first subpage like this:

* 1. page
* 2. page
* shortcut to first subpage
> * 1. subpage
> * 2. subpage
> * 3. subpage

If the first subpage is selected, the shortcut AND the subpage gain the state »STATE_CURRENT«. If the second subpage is selected, the shortcut is »STATE_NORMAL«. In both cases the shortcut should have the state »STATE_ACTIVE«.

This is due to a mistake in the »MenuImplementation«. Line 266 is:

<pre>
$item['state'] = $this->calculateItemState($possibleFinalNode);
</pre>

should be:

<pre>
$item['state'] = $this->calculateItemState($currentNode);
</pre>
"
59072,TYPO3.Neos,Bug,"",Closed,Must have,Multiple 404 if 'base url' is not '/',Rafael Kähm,"",2014-05-26 08:21,UI,"",2014-05-24,"","",0,2014-05-24 06:01,"","",1697050,"","Currently sputters Neos in Backend if base url is not ""/"".

I tried Neos with Apaches ""RewriteBase /typo3-neos/"" and NginX ""location = /typo3-neos/ { ... }""

in both cases multiple 404 because absolute paths for resources are used.

f.x. in following files:
Resources/Public/JavaScript/Content/Inspector/Editors/ImageEditor.js
Resources/Public/JavaScript/ContentModule-built.js

in frontend is all fine, also i see no 404 in logs.

TYPO3.Setup does not work with RewriteBase at all. 
"
58998,TYPO3.Neos,Feature,"",Closed,Should have,[Aloha editor] Add custom formats and styles,Romain Capot,"",2014-10-01 07:53,"",1.x,2014-05-21,"","",0,2014-05-21 09:38,"","",1693350,"","The goal of this feature is to add new customs formats and styles for Aloha editor.

All following changes are presents in the attachement files.

I created new Aloha plugin include in a new Neos package :
	- Packages/Application/AlohaPlugin.ExtraFormats/Resources/Public/AlohaExtraFormatsPlugin/lib/extra-formats-plugin.js
His role is to get the original Format plugin and adding new styles in it.
Each styles is associated with a class attribute, which is define in a .css file associated with the plugin.
I decided to create my plugin in external package to reduce the impact in Neos core, because you can adapt the plugin
for your needs.

To add the new formats, I needed to add some feature not fully implemented.
I implement the ""addButton"" function in this two files :
	- Packages/Application/TYPO3.Neos/Resources/Public/JavaScript/LibraryExtensions/UiAlohaPlugin/multiSplit.js
	- Packages/Application/TYPO3.Neos/Resources/Public/Library/aloha/aloha.js

I needed to load my Aloha plugin dynamically. I implement this feature in the aloha configuration and in yaml configuration :
	- Packages/Application/TYPO3.Neos/Resources/Public/JavaScript/aloha.js
	- Packages/Application/TYPO3.Neos.NodeTypes/Configuration/NodeTypes.yaml
With this feature you can add new Aloha plugins dynamically for specific nodes.
The yaml configuration is only there as example, you can implement every Aloha plugins you need."
58939,TYPO3.Neos,Bug,"",Closed,Should have,Redirecting from Plugin action to another and try to use debug in target action leads to white page,Carsten Bleicker,"",2014-10-01 07:56,"","",2014-05-19,"","",0,2014-05-19 11:55,"","",1690400,"","Having PluginA wich redirects on finalizeAction() to PluginB->showAction().
Using flows debugger either directly in the action with \TYPO3\Flow\var_dump() leads to a white page.
Also white page if you use <f:debug> inside of the action template.

Additional: There is not realy a redirect to the node where PluginB is located. You stay on the node where PluginA is located also if PluginA is in use.
Dont know if this is a bug or a feature or is it a good idea to resolve the node where the PluginB is located"
58917,TYPO3.Neos,Bug,"",Closed,Should have,Pluginviews and properties,Carsten Bleicker,"",2015-03-20 06:20,"","",2014-05-19,"","",0,2014-05-19 06:50,"","",1689300,"","Properties defined in node yaml not present in actions used by pluginview.
Having a defined targetNode property in my plugin configuration.
This value is not present if an action is defined as a pluginview."
58733,TYPO3.Neos,Bug,"",Closed,Must have,Caseinsensitive Login,Carsten Bleicker,Daniel Lienert,2014-10-01 06:47,"","",2014-05-12,"","",0,2014-05-12 14:05,"","",1680300,"","Username is currently ""Foo"".
Login is possible with ""foo"".

Imho Username needs exact match."
58626,TYPO3.Neos,Feature,"",Closed,Should have,Add node path to shortcut selection,Sebastian Sommer,"",2014-10-01 15:57,"","",2014-05-08,"","",0,2014-05-08 05:51,"","",1674950,"",It would be great if the node path would be added to the shortcut selection menu. Because if you have some pages with the same name it is hard to decide which page you want to linked.
58613,TYPO3.Neos,Task,"",Closed,Should have,Naming of ContentElementWrapper and InlineEditableWrapper,Carsten Bleicker,"",2014-10-01 16:05,"","",2014-05-07,"","",0,2014-05-07 15:39,"","",1674300,"","Aske provides me a wonderfull example how to make pageproperties inlineeditable. [[https://gist.github.com/aertmann/f9c8a33e8720f7cb21be]]
What i mentioned is, that in this case the naming of the viewhelpers doesnt realy match the usecase.
Better rename them from - to?
<neos:contentElement.wrap node=""{node}""> to <neos:node.wrap node=""{node}"">
<neos:contentElement.editable property=""title"" tag=""h1"" /> to <neos:node.editable.property property=""title"" tag=""h1"" />

Carsten"
58608,TYPO3.Neos,Feature,"",Closed,Should have,Setting ENV-Vars does not work on every System (PHP CGI),Sebastian Sommer,"",2014-07-01 09:18,"","",2014-05-07,"","",0,2014-05-07 12:38,"","",1674050,"",It would be great to have some other option to set the env vars needed for the rewriting or the application context. Because on some servers you need to run NEOS in PHP-CGI Mode and there is no setenv available.
58607,TYPO3.Neos,Bug,"",Closed,Should have,Auto-publish throws an exception,Sebastian Sommer,Sebastian Sommer,2014-10-01 16:09,"",1.1,2014-05-07,"","",0,2014-05-07 12:31,"","",1674000,"","After updating from 1.0 to 1.1-beta-2 Auto-publish throws the following exception:

<pre>
#1298012500: Required argument ""nodes"" is not set.

TYPO3\Flow\Mvc\Exception\RequiredArgumentMissingException thrown in file Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Mvc/Controller/AbstractController.php in line 352.
Reference code: 20140507182107341d7d
</pre>

Request Data:

<pre>
targetWorkspaceName:live
__csrfToken:733432e72a61528df6dca0c2218d4dce
</pre>"
58588,TYPO3.Neos,Bug,"",Resolved,Must have,Hardcoded URIs in backend,Aske Ertmann,Adrian Föder,2014-05-26 11:36,JavaScript,1.1,2014-05-07,"","",100,2014-05-07 04:25,"","",1673050,"","in Resource/Public/JavaScript there are occurrences of neos/; fixing directions:

* Image editor and asset editor pointing to the media browser
* Resources\Public\JavaScript\Content\Inspector\Editors\ImageEditor.js: @_defaultUploadPreviewImageSource: '/_Resources/Static/Packages/TYPO3.Neos/Images/dummy-image.png', // TODO: we need a way to fetch the static resources base URI@ and @template: Ember.Handlebars.compile('<iframe style=""width:100%; height: 100%"" src=""/neos/content/assets""></iframe>')@
* Menu panel controller checks for /neos/
* Publish menu has a link to the workspaces module

<+aertmann> open NeosBackendEndpoints.html
<+aertmann> and add those that's needed.. then you use something similar to $('link[rel=""neos-vieschema""]').attr('href') in the JS
<+aertmann> for the /neos/ one you just link to the Backend/Backend controller
<+aertmann> Backend\Backend *"
58558,TYPO3.Neos,Feature,"",Resolved,Should have,Pagetree does not keep my current state of open/closed nodes,Carsten Bleicker,"",2014-06-20 07:29,"",1.x,2014-05-06,"","",100,2014-05-06 05:33,"","",1671550,"",The whole pagetree is opened again on browsing to another page.
58502,TYPO3.Neos,Bug,"",Resolved,Should have,Don't show inspector groups of there are no properties,Soren Malling,"",2014-05-13 08:37,"","",2014-05-04,"","",100,2014-05-04 10:36,"","",1668800,"","A inspector group with no properties, should not be shown.

Therefore, check if the iterated inspectorgroup has any properties, or else just continue to next iteration"
58501,TYPO3.Neos,Feature,"",Closed,Should have,Allow selecting multiple nodes,Carsten Bleicker,"",2014-10-01 16:12,"",1.x,2014-05-04,"","",0,2014-05-04 10:19,"","",1668750,"","Multiple nodes in structure should be selectable by strg + klick.
And then be able to do a ""mass"" delete."
58500,TYPO3.Neos,Feature,"",Closed,Should have,Allow hit enter on asking questions in the backend,Carsten Bleicker,"",2014-10-01 16:21,"",1.x,2014-05-04,"","",0,2014-05-04 10:16,"","",1668700,"","@see attached image
allow apply this box by hitting enter?"
58398,TYPO3.Neos,Bug,"",Closed,Must have,Changing page in document panel does not change nodes of structure panel,Carsten Bleicker,"",2014-10-01 08:11,"",1.1,2014-05-01,"","",0,2014-05-01 16:03,"","",1663600,"","Structure Panel is not in sync with document tree.
@see https://www.youtube.com/watch?v=pQbg4q4rCM4"
58390,TYPO3.Neos,Bug,"",Closed,Should have,Current link not shown on selecting <a>,Carsten Bleicker,Philipp Hanebrink,2014-10-01 08:46,"","",2014-05-01,"","",0,2014-05-01 10:56,"","",1663200,"",@see attachement
58383,TYPO3.Neos,Bug,"",Closed,Should have,Its not possible to delete a MultiColumn Item in the Structure Panel,Carsten Bleicker,"",2014-06-03 16:03,"","",2014-05-01,"","",0,2014-05-01 08:28,"","",1662850,"",NT
58297,TYPO3.Neos,Feature,"",Rejected,Could have,Enable Links to Node,Carsten Bleicker,"",2014-06-20 10:51,"","",2014-04-28,"","",0,2014-04-28 10:14,"","",1658550,"","Currently you can't click on nodelinks of the backend contentelement ""Menu"" f.e. because of the editing overlays.
Would be nice to get this links available (disable content editing overlay) with a click on a special button in editing options.
""Disable Editing Option Temporary"""
58280,TYPO3.Neos,Bug,"",Closed,Should have,Absolute body influences backend usability,Carsten Bleicker,"",2014-10-01 07:58,"","",2014-04-28,"","",0,2014-04-28 03:35,"","",1657800,"","body {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

@see file"
58276,TYPO3.Neos,Bug,"",Closed,Must have,Wired Error Message on Copy Page into same Parent Node,Carsten Bleicker,"",2014-10-02 04:41,"","",2014-04-27,"","",0,2014-04-27 13:50,"","",1657600,"",see image attached
58272,TYPO3.Neos,Bug,"",Resolved,Should have,Copy paste on same entity results in recursion,Carsten Bleicker,"",2014-06-03 16:03,"",1.1,2014-04-27,"","",0,2014-04-27 13:01,"","",1657400,"",see image attached
58267,TYPO3.Neos,Bug,"",Closed,Should have,Rename nodename results in errors,Carsten Bleicker,Markus Goldbeck,2014-10-31 05:06,"","",2014-04-27,"","",0,2014-04-27 12:34,"","",1657150,"","Node Tree loading error.
Server communication error: Forbidden"
58201,TYPO3.Neos,Bug,"",Closed,Should have,Scaling in preview mode shows buttons of backend,Carsten Bleicker,"",2014-10-01 08:51,"","",2014-04-26,"","",0,2014-04-25 18:13,"","",1653850,"",""
58200,TYPO3.Neos,Bug,"",Needs Feedback,Must have,Cant edit items in Structure Panel without html output,Carsten Bleicker,Christian Müller,2014-06-20 07:35,"","",2014-04-25,"","",0,2014-04-25 16:59,"","",1653800,"","<pre>
'TYPO3.Neos.NodeTypes:Page':
  superTypes: ['TYPO3.Neos:Document']
  childNodes:
    visuals:
      type: 'TYPO3.Neos:ContentCollection'
</pre>

""childNodes.visuals"" should be printed out as a json string in a data attribute.
Output Example:

<pre>
<div data-plugin=""Lazy-Loading-Slider"" data-mediaelements=""{jsonofcollectionImages}"">
   <div class=""slideElement""></div>
</div>
</pre>

But Neos does not allow me to access the properties of a selected node in structure panel without an existing output on the page?
Selecting the node should allways show the nodeproperties panel. no matter if it has an output on the page or not."
58199,TYPO3.Neos,Bug,"",Closed,Should have,Editing Image Properties does not refresh structure panel,Carsten Bleicker,"",2014-10-02 04:47,"","",2014-04-25,"","",0,2014-04-25 15:09,"","",1653750,"","1. Edit an Image
2. Change the title property

Structure tree shows old value. No refresh."
58196,TYPO3.Neos,Bug,"",Closed,Should have,Unexpected error while moving node: TypeError: Cannot read property 'length' of null,Carsten Bleicker,"",2014-10-01 08:57,"","",2014-04-25,"","",0,2014-04-25 14:54,"","",1653600,"","Cut & Paste of Content from one page to another results in:
Unexpected error while moving node: TypeError: Cannot read property 'length' of null"
58183,TYPO3.Neos,Bug,"",Resolved,Should have,HTML editor and Media window should close when changing page,Daniel Corn,"",2014-06-21 12:01,UI,1.x,2014-04-25,"","",100,2014-04-25 05:29,"","",1652950,"","When I open an HTML editor or the window to choose a media asset I can close it by clicking on the inspector button again, or hit ""Discard changes"" or ""Apply"". But when I change the page without closing the window, I will not be able to close it.

*Reproduce it:*
Select a HTML element
Click ""Edit HTML""
Select another page in the navigator
Inspector shows the page properties

*Problem:*
HTML editor stays open and cannot be closed, because all inspector-buttons that would close the editor disappeared.

*Workaround:*
Refresh the complete browser"
58073,TYPO3.Neos,Feature,"",Closed,Should have,TYPO3.Neos:Content NodeType as Reference in Inspector,Lars Malach,"",2014-10-02 04:50,"","",2014-04-20,"","",0,2014-04-20 17:02,"","",1647450,"","The Inspector of Neos doest not suggest nodes of super type TYPO3.Neos:Content. This should work like with TYPO3.Neos.NodeTypes:Page nodes.

<pre>
'Blub.Bla:ContentType':
  superTypes: ['TYPO3.Neos:Content']
  ui:
    label: 'Color'
    group: 'plugins'
    icon: 'icon-adjust'
    inspector:
      groups:
        properties:
          label: 'Properties'
          position: 10
  properties:
    title:
      type: string
      translatable: TRUE
      ui:
        label: 'Title'
        reloadIfChanged: TRUE
        inspector:
          group: properties

'Blub.Bla:Blo':
  superTypes: ['TYPO3.Neos:Content']
    colors:
      type: references
      ui:
        label: 'Colors'
        reloadIfChanged: true
        inspector:
          group: properties
          editorOptions:
            nodeTypes:
              - 'Blub.Bla:ContentType'
</pre>"
57877,TYPO3.Neos,Bug,"",Closed,Should have,Copy @live content into other structure copies into @live instead of @editorcontext,Carsten Bleicker,"",2014-10-02 04:54,"","",2014-04-13,"","",0,2014-04-13 10:04,"","",1637650,"","1. Select Live Content in Structure Panel
2. Klick copy
3. Navigate to another page
4. Select child collection
5. Insert Copy element

I would expect that the copied element is in @editorcontext and publish buttons will switch.
Also it does not get marked with ""orange"" visual effekt to see this is unpublished."
57839,TYPO3.Neos,Bug,"",Resolved,Should have,Removing Content Nodes does not remove Node after Publishing from Structure Panel,Carsten Bleicker,"",2014-07-06 16:00,"","",2014-04-11,"","",100,2014-04-11 10:43,"","",1635800,"","1. Create a Text Node
2. Publish
3. Delete it (It is marked as orange in the Structure Panel)
4. Publish (Deleted Content Node still exists in Structure Panel, also not marked orange)

After Reloading the Structure Panel anything is fine again.
"
57717,TYPO3.Neos,Task,"",Closed,Must have,Rewriting of links to a another PluginView is broken if calling PluginView queried by TS ,Carsten Bleicker,Bastian Waidelich,2014-04-08 04:14,TypoScript,"",2014-04-07,"","",0,2014-04-07 09:42,"","",1629700,"","Hi,
having a PluginView ""SimpleBasket"" wich calls BasketController::simpleAction().
Another PluginView ""ExtendedBasket"" calls BasketController::indexAction().

BasketController->simpleAction() should be available on any page. so i query its pluginView by ts and push it into the page.

so i do:
page = Page {
	parts{
		simpleBasket = PIPEU.Site:SimpleBasket{
			node = ${q(site).find('simplebasket').children('main').filter('[instanceof TYPO3.Neos:PluginView]').first()}
		}
	}
}

page template:
{parts.simpleBasket->f:format->raw()}
{content.main->f:format.raw()}

The template of BasketController->simpleAction:
<p>You have currently X items in your <f:link.action action=""index"">basket</f:link.action></p>

Viewing the frontendpage wich holds the pluginView of simpleBasket (basket/simplebasket.html) i have the pluginView twice on the page wich is correct.
1. the existing as node coming from children('main')
2. the second one added by {parts.simpleBasket->f:format.raw()}

The link action of the template produces two different links:

#1 - the node version: basket.html?--pipeu_site-basket[%40package]=pipeu.site
So this is the link to the page with the pluginView for BasketController::indexAction(). Correct!

#2 - the ts version: basket/simplebasket.html?--typo3_neos_nodetypes-page[%40package]=pipeu.site
This is always a link to the current page. Just switching simpleBasket ts from simpleAction to indexAction.

Why does the same PluginView produces different links?

Carsten"
57670,TYPO3.Neos,Bug,"",Closed,Should have,Tag not preserved right for upload in media module,Rik Willems,Philipp Hanebrink,2014-10-01 17:03,"","",2014-04-05,"","",0,2014-04-05 08:51,"","",1627350,"","In the media module you can create tags and select these. When selecting a tag you get an url like [1]. Then when clicking the upload button you get an url like [2]. But, when you switch the view mode before going to upload you get an url like [3].
After both [2] and [3] you get back at the selected tag.

1) http://dev.neos.loc/neos/management/media/?moduleArguments%5Btag%5D%5B__identity%5D=6584559f-0f39-7d8d-2c45-3a3b7c1bdd48
2) http://dev.neos.loc/neos/management/media/new
3) http://dev.neos.loc/neos/management/media/new?tag%5B__identity%5D=6584559f-0f39-7d8d-2c45-3a3b7c1bdd48"
57559,TYPO3.Neos,Bug,"",New,Should have,jQuery UI - Default Styles,Sebastian Sommer,Christian Müller,2014-04-02 08:53,"","",2014-04-02,"","",0,2014-04-02 08:32,"","",1621850,"",Currently TYPO3 Neos loads the default jQuery UI CSS Themes with no prefixes. If someone is using jQuery UI on his Website he has to remove all the Styles added from the CSS-Template in the Backend-View.
57299,TYPO3.Neos,Bug,"",Resolved,Should have,Discard all operation does not reload node tree,Pankaj Lele,Rens Admiraal,2014-10-02 05:06,UI,"",2014-03-25,"","",0,2014-03-25 11:11,"","",1608950,"",After deleting a node from the node tree when discard all is clicked from the Publish menu then the deleted node does not appear back in the tree. 
57290,TYPO3.Neos,Bug,"",Resolved,Should have,Cannot edit a youtube video anymore ,Christiaan Wiesenekker,"",2014-07-06 15:31,"","",2014-03-25,"","",100,2014-03-25 09:52,"","",1608500,"","Was playing around with NEOS today. I added a youtube video which i cannot edit anymore. I cant get into the 'box' because if i click i start the video :O 

Couldnt find the issue in the project already, so i added it. "
56975,TYPO3.Neos,Bug,"",Closed,Should have,Publish own nodetypes throws a exception @ cache clearing,Soren Malling,Philipp Hanebrink,2014-10-01 17:33,"","",2014-03-17,"","",0,2014-03-17 04:04,"","",1592900,"","Another issue apperead while working with #56974

I've defined my own nodetypes with the following configuration

<pre>

prototype(TYPO3.Neos:PrimaryContent).blogPost {
	condition = ${q(documentNode).is('[instanceof Meteko.Homepage:Post]')}
	type = 'Meteko.Homepage:Post'
	title  = ${this.title}
}

prototype(Meteko.Homepage:Post) < prototype(TYPO3.TypoScript:Template) {
	templatePath = 'resource://Meteko.Homepage/Private/Templates/TypoScript/Post.html'
	title = ${q(node).property('title')}
	node = ${node}

		# Render the main ContentCollection of the Post like a page would
	main = TYPO3.Neos:ContentCollection {
		nodePath = 'main'
	}
}

prototype(Meteko.Homepage:PostList) < prototype(TYPO3.Neos:Menu) {
	#items = ${q(site).find('[instanceof Meteko.Homepage:Post]')}
	templatePath = 'resource://Meteko.Homepage/Private/Templates/NodeTypes/PostList.html'
	itemCollection = ${q(site).children('blog').children().get()}
}

</pre>

When i create a new page of my own nodetype, place some content element and publish the cache clearing chokes at this point

<pre>
/var/log/apache2/error_log:27332:[Sun Mar 16 00:54:08 2014] [error] [client 127.0.0.1] PHP Fatal error:  Call to a member function getIdentifier() on a non-object in /Users/sorenmalling/Sites/Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_TypoScript_Cache_ContentCacheFlusher.php on line 72, referer: http://meteko.sma/neos/management/workspaces
</pre>

at this place, it doe's a check for depth and tries to clear cache the for parent node. For some reason, the ""parent"" node (my custom page nodetype) can't seem to be resolved.
"
56974,TYPO3.Neos,Bug,"",Closed,Should have,Own nodetype: Uncaught TypeError: Cannot call method 'render' of undefined - vie.js:6768,Soren Malling,Philipp Hanebrink,2014-10-01 17:35,"","",2014-03-17,"","",0,2014-03-17 03:57,"","",1592850,"","Configured NodeType
TS
<pre>

prototype(Meteko.Homepage:PostList) < prototype(TYPO3.Neos:Menu) {
	#items = ${q(site).find('[instanceof Meteko.Homepage:Post]')}
	templatePath = 'resource://Meteko.Homepage/Private/Templates/NodeTypes/PostList.html'
	itemCollection = ${q(site).children('blog').children().get()}
}
</pre>

YAML
<pre>
'Meteko.Homepage:PostList':
  superTypes: ['TYPO3.Neos.NodeTypes:Menu']
  ui:
    label: 'Blog Post List'
</pre>

When I place a instance of Meteko.Homepage:PostList on a page the following javascript error is thrown

<pre>
Uncaught TypeError: Cannot call method 'render' of undefined                   vie.js:6768
</pre>

After this, no other content elements can be inserted

Afterward reloading the page, my structure got the element, but it's not being rendered

https://www.evernote.com/shard/s58/sh/fc6d40fc-381a-4895-9383-c9cd3f6a4879/06b0c562701f03fdce65b61b8ebd2125"
56902,TYPO3.Neos,Bug,"",Resolved,Should have,Content cache is not domain specific,Rens Admiraal,"",2014-04-10 13:44,"","",2014-03-14,"","",100,2014-03-14 05:53,"","",1589250,"","The content caching does not take the currently active domain into account. This means that snippets are cached containing url's in the content which could point to different url's then the user is currently visiting.

Imagine you've a setup with 2 domains pointing to 1 site node, domain1 and domain2. Whatever domain will be opened first will be in the cached snippets, and those will be served on every subsequent request no matter what domain the user is visiting."
56732,TYPO3.Neos,Bug,"",Resolved,Should have,"link.node and uri.node lack ""arguments"" parameter",Karsten Dambekalns,Bastian Waidelich,2014-03-11 10:36,"",1.1,2014-03-10,"","",100,2014-03-10 10:35,"","",1580750,"",Both @uri.link@ and @uri.node@ lack the possibility to add arguments to the generated link.
56531,TYPO3.Neos,Task,Bug #54392: Installation issues,Closed,Should have,Warn user when memory is about to exceed,Bastian Waidelich,"",2014-10-02 05:39,"","",2014-03-04,"","",0,2014-03-04 07:58,"","",1570700,"","Some of the hard-to-debug installation issues originate in a low memory_limit (see #54347 for example).

We should detect low memory_limit setting (or even better: detect limit dynamically using *memory_get_usage()*) during the Neos setup"
56456,TYPO3.Neos,Feature,"",Closed,Could have,Light colored UI switch,Tanel Põld,"",2014-10-02 06:46,UI,"",2014-03-01,"","",0,2014-03-01 06:14,"","",1566950,"","Idea comes from mr. Twisk ""Question for you, is it possible to get rid of the dark background and show a white layout? The dark background during editing hurt's my eyes..?"".

As many people find dark on light background easier for the eye it would be nice to have switch for dark vs light UI skin.
Grouping classes in CSS for colors and maybe even putting into separate CSS file would make it rather easy to come up with a different skin coloring.

Adobe has it similar in it's tools.
Here's what Pixelmator users talk about dark interface: http://support.pixelmator.com/viewtopic.php?f=4&t=7630

All in all would be nice to have switchable alternative in user settings."
56302,TYPO3.Neos,Task,"",Closed,Should have,Use location header for nextUri?,Rens Admiraal,"",2014-10-02 06:50,"","",2014-02-26,"","",0,2014-02-26 04:09,"","",1559300,"","In https://review.typo3.org/#/c/25204/22/Classes/TYPO3/Neos/Service/Controller/NodeController.php Bastian commented on the nextUri we put into the response. This nextUri is then client side evaluated and a ajax page reload is triggered if it's set. For example after node creation.

We could use a reponse header in this case, and as such create a cleaner response."
56163,TYPO3.Neos,Feature,"",Closed,Must have,tel: links,Tanel Põld,"",2014-10-02 06:55,"","",2014-02-20,"","",0,2014-02-20 13:43,"","",1552400,"","tel: links seem not to be recognized. Certainly very much needed feature in modern web.

Probably could be solved by basically duplicating the Fluid EmailViewHelper?
"
56144,TYPO3.Neos,Feature,Feature #39758: Comment on changes,Closed,Could have,In-place commenting for groupwork,Tanel Põld,"",2014-10-02 07:00,"","",2014-02-20,"","",0,2014-02-20 05:35,"","",1551450,"","One of the most common things in editing and translating process we do is the editor - owner communication, discussion over the pieces of text, image etc in the article, on page and so on.

In place commenting would become very handy feature. Something similar to GoogleDrive maybe. Just by selecting the text and adding comment and notifying the users who need to see the comment."
56042,TYPO3.Neos,Bug,"",Closed,Should have,Case sensitive search,Tanel Põld,Markus Goldbeck,2014-10-01 09:18,"","",2014-02-17,"","",0,2014-02-17 06:56,"","",1546400,"","Page structure and link search seem to be case sensitive.
Match case could be optional."
56041,TYPO3.Neos,Feature,"",Resolved,Should have,Linking documents,Tanel Põld,"",2014-06-20 08:07,"","",2014-02-17,"","",100,2014-02-17 06:46,"","",1546350,"","No way to create file links in text?
It will be certainly needed in order to provide fully featured content editing experience."
56000,TYPO3.Neos,Bug,"",Resolved,Should have,Missing dependency in Scripts/package.json,Rens Admiraal,"",2014-02-16 17:35,"","",2014-02-15,"","",100,2014-02-15 11:00,"","",1544300,"","grunt-trimtrailingspaces is not set as dependency in Scripts/package.json resulting in a: ""Local Npm module ""grunt-trimtrailingspaces"" not found. Is it installed?"" when grunt concat is called."
55980,TYPO3.Neos,Bug,"",Resolved,Should have,Buggy Structure Panel,Andreas Sander,Markus Goldbeck,2014-06-20 10:55,UI,1.1,2014-02-14,"","",0,2014-02-14 05:18,"","",1543300,"","Whenever I create a content element, via the plus icon, in the structure panel I have to reload the backend manually to actually *see* what I've created before. When I add the element in the preview area, the actual website, I can see the object directly after adding it."
55960,TYPO3.Neos,Bug,"",Closed,Should have,Inline Editable Implementation without surrounding <div>,Carsten Bleicker,"",2014-10-03 09:16,"","",2014-02-13,"","",0,2014-02-13 08:40,"","",1542350,"","I am trying to get a clean output in the frontend for a header:
<header>
<h1>Foo</h1>
</header>

Anything insite header should be inline editable.
If i want to do this, i always have to wrap the resulting <header> tag of editableViewhelper with an additional div wich represents the content type:

{namespace neos=TYPO3\Neos\ViewHelpers}
<div{attributes -> f:format.raw()}>
  {neos:contentElement.editable(property: 'title', tag:'header')}
</div>


This wrapping div destroys my frontend html structure.

what i tried is:
{neos:contentElement.editable(property: 'title', tag:'header', node:node)}
without the wrapping div wich results in a <header> containing several neos attributes. but still not inline editable.

Imho inline editing should be possible without this wrapping div. F.e.:
{neos:contentElement.editable(property: 'title', tag:'header')}
{neos:contentElement.editable(property: 'title', tag:'div')}
{neos:contentElement.editable(property: 'title', tag:'td')}




"
55873,TYPO3.Neos,Bug,"",Resolved,Should have,New MenuImplementation does not give current state to homepage,Rens Admiraal,Rens Admiraal,2014-06-20 10:58,"","",2014-02-11,"","",0,2014-02-11 05:33,"","",1538100,"","For the usecase where the homepage is a shortcut to the parent page (with content on the site root) the new MenuImplementation gives unexpected states:

*If on homepage*
* All menu items have a normal state

*If on subpage*
* Homepage has state 'active' (as the homepage shortcut points to the siteroot which is in the rootline)
* The subpage currently in the rootline (for example 'about us') also has active state

I'm now sending a patch that fixes the first situation (and as such giving current state to the homepage if the homepage is opened). The second usecase will have to be done with conditions in the template for now."
55844,TYPO3.Neos,Bug,"",Closed,Should have,Switch between Editor and Admin does not load any admin options,Carsten Bleicker,Markus Goldbeck,2014-10-01 16:20,"","",2014-02-10,"","",0,2014-02-10 08:27,"","",1536650,"","Reproduce like this:

1. Login with Editor account
2. Logout
3. Login as Admin

I would expect to see my Admin options but they dont appear.
The screenshot shows the options after 3.

Also works in other direction:
1. Login as Admin
2. Logout
3. Login as Editor

Result: You have Admin options in your panel


"
55771,TYPO3.Neos,Bug,"",Resolved,Should have,Uploading PDF as Media ends up in exception,Carsten Bleicker,"",2014-06-20 10:56,"",1.1,2014-02-07,"","",0,2014-02-07 11:48,"","",1533250,"","Uploading PDF in Media Browser results in Exception from ImageViewhelper.
I think, either do not accept mediatypes others then image or do not invoke ImageViewhelper."
55730,TYPO3.Neos,Bug,"",Closed,Should have,invisible elements in database selector during setup,Peter Kraume,"",2014-10-01 13:58,UI,"",2014-02-06,"","",0,2014-02-06 08:33,"","",1531200,"","After entering the database credentials during the setup wizard, the entries in the database selector box are invisible. They appear only on mouse over (see attached screenshot).

I was able to reproduce this in Chrome 32/Ubuntu and IE11/Windows 7."
55680,TYPO3.Neos,Bug,"",Closed,Should have,Exception when there's no active sites,Paul Rohrbeck,"",2014-10-01 13:48,"","",2014-02-04,"","",0,2014-02-04 17:36,"","",1528700,"","Here's what I did:
- I deactivated all sites in the site management
- First thing that's weird is that there still is a world-icon with no text associated with it.
- when I visit http://neos.dev/neos I get an exception:

Fatal error: Call to a member function getPath() on a non-object in /Users/.../Sites/typo3-neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Routing_FrontendNodeRoutePartHandler.php on line 182

Once I clear the cache I get a 'Page Not Found' error. Not sure if the exception is actually a bug since it's just an invalid cache, but for people who start out fresh a nicer message ala 'Create a site now' instead of an Error might be nice. (Actually I get a message like that when visiting http://neos.dev/ so why doesn't that appear at http://neos.dev/neos as well?)"
55622,TYPO3.Neos,Bug,"",Resolved,Should have,DatePicker cannot be read when frontend table styling is specifically set,Henjo Hoeksma,Henjo Hoeksma,2014-03-05 10:36,UI,"",2014-02-03,"","",100,2014-02-03 08:01,"","",1525800,"",The dates cannot be read in the DatePicker when for example Zurb Foundation is used in the frontend which contains specific table styles.
55598,TYPO3.Neos,Bug,"",Closed,Should have,Media browser is not loading all required JS sources,Rens Admiraal,Rens Admiraal,2014-10-04 06:57,"","",2014-02-02,"","",0,2014-02-02 11:09,"","",1524600,"",The media browser does not load the javascript from the TYPO3.Media package as the the inline resource handling tries to find those resources in the TYPO3.Neos package
55501,TYPO3.Neos,Bug,"",Closed,Should have,presetName of prototype(TYPO3.Neos.NodeTypes:Form) is not overwritable,Dominic Garms,Bastian Waidelich,2014-01-31 06:48,TypoScript,"",2014-01-31,"","",0,2014-01-31 05:46,"","",1520350,"","Hello,

I try to follow the DemoSite package and the docs for overwriting the presetName for customisation of a contact form. It does not matter on which position I try to overwrite the ""default"" preset, the  TYPO3.Neos.NodeTypes package overwrites my custom preset with its value.

Here the link to my application: https://github.com/dohomi/Neos-Plugin-DMF.BootstrapContent

It is currently just a similar copy of the DemoSite for testing but it shows, that the preset remains ""default"". I checked already the order of PackageState and also the yaml ordering is correct. Only the ordering of TypoScript seems to get wrong.

Thanks for reviewing this,

Dominic"
55492,TYPO3.Neos,Bug,"",Resolved,Must have,Disabling the defaultUriSuffix breaks routing,Dominic Garms,Bastian Waidelich,2014-01-31 05:36,"","",2014-01-31,"","",100,2014-01-31 03:42,"","",1519900,"","Hello,

after creating my content I tried to change the routing behaviour in Configuration/Routes.yaml:

  'defaultUriSuffix': '.html' => 'defaultUriSuffix': ''

After this change all subpages are not accessible in BE and FE. I cleared the caches with hard reset of removing temporary files but the result stays the same. Following error shows up inside the BE:

<pre>
Could not read page metadata from response. Please open the location (...) outside the Neos backend.
</pre>

Same behaviour on Linux shared hosting and local Mac environment.

Regards
Dominic"
55438,TYPO3.Neos,Feature,"",Closed,Should have,"Dynamic usage of ""selector"" in inspector",Soren Malling,"",2014-10-03 09:21,"","",2014-01-29,"","",0,2014-01-29 09:59,"","",1517200,"","Many selectors can consist of dynamic content:
 * Specific nodetypes
 * tags
 * objects/models from your own package/backend module
 * and many more..

Somehow, this could be dynamicly possible within configuration. This is an example, and hopefully be usable for discussion

<pre>

    properties:
        selectorElementInTheInspector:
            type: [IM IN DOUBT HERE, AS IT CAN BE ANYTHING. MAYBE A PROXY?]
            ui:
                label: 'Tags'
                reloadIfChanged: true
                inspector:
                    editor: TYPO3.Neos/Inspector/Editors/SelectBoxEditor
                    editorOptions:
                        placeholder: 'Select the tags identifier'
                        multipleItems: TRUE // IF ITS POSSIBLE TO CHOOSE MULTIPLE ITEMS
                        displaySelectedItems: TRUE // IF DISPLAYED ITEMS SHOULD BE DISPLAYED (EX. tags)
                        [SOMEHOW CONFIGURATE THE DYNAMIC PARTS (nodeTypes, domain object etc.)
                        values:
                            '': null
                            contact-form:
                                label: 'Contact form'
</pre>"
55412,TYPO3.Neos,Bug,"",New,Should have,f:form.select in backend module toggles the menu onclick,Maxi Schulz,"",2014-03-04 07:07,JavaScript,"",2014-01-29,"","",0,2014-01-29 01:44,"","",1515900,"","Hi TYPO3 Neos devs,

i've discovered a problem with the f:form.select tag, if you use it within a backend module (fresh install of Neos 1.0.1). Because whenever you click on the generated dropdown, the left menu slides in. This is kind of annoying, because in my case the menu slides over the select element.
You can still click the options though.

As i am not particularly pro in javascript i could not find the bug myself, but i think that select elements in the backend are a common usecase, so i this is a ""should have"" bug.

Regards
Maxi"
55379,TYPO3.Neos,Task,"",Closed,-- undefined --,Typo3 to Typo3 Neos? ,Frank God,Bastian Waidelich,2014-01-28 04:47,"","",2014-01-28,"","",0,2014-01-28 03:20,"","",1514250,"","Question 1:
Is there a tool/plugin what ever for Typo3 to switch to Typo3 Neos?

Question 2:
Can I use the typo3 database for typo3 neos?

Question 3:
Is there another way to export typo3 to typo 3 neos?
"
55356,TYPO3.Neos,Bug,"",New,Should have,priority is not working as expected,Dominic Garms,"",2014-01-27 07:38,"","",2014-01-27,"","",0,2014-01-27 07:38,"","",1513100,"","Hello,

I started an application but the priority setting of ui groups doesn't work as expected. The groups are getting ordered as latest inside of the inspector view. Here a link to my settings, where I followed the online docs.

https://github.com/dohomi/Neos-Plugin-DMF.BootstrapContent/blob/master/Configuration/NodeTypes.yaml

Regards,
Dominic"
55351,TYPO3.Neos,Bug,"",Closed,Must have,Neos default markup does not validate because of xmlns,Christopher Hlubek,"",2014-10-02 07:41,"","",2014-01-27,"","",0,2014-01-27 05:38,"","",1512850,"","We should consider using ""prefix"" attributes as described in RDFa core 1.1 (http://www.w3.org/TR/rdfa-syntax/#s_curieprocessing)."
55335,TYPO3.Neos,Bug,"",New,Must have,Auto creating child nodes can fail due to missing NULL check,Philipp Maier,"",2014-01-25 14:41,"","",2014-01-25,"","",0,2014-01-25 14:41,"","",1512100,"","The command _autoCreateChildNodes_ of the _NodeCommandController_ produces a fatal error when the node created by the nodeFactory is NULL.

<code>
PHP Fatal error:  Call to a member function createNode() on a non-object in /Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Command_NodeCommandController.php on line 97
</code >

Background: The return type of the nodeFactory for this method can be NULL.

@Christian: This seems to be correlated to this node type being NULL thingy we talked quite a while ago."
55201,TYPO3.Neos,Task,"",Closed,Should have,Translating of the backend,Soren Malling,Bastian Waidelich,2015-01-30 08:40,"","",2014-01-21,"","",0,2014-01-21 04:26,"","",1505400,"",To discus the structure of XLF files and the work of translating the TYPO3.Neos Application
54969,TYPO3.Neos,Bug,"",Closed,Should have,"After deleting a page, and create it new, if the url has to be set like the old removed page, an error occurs",Thierry Brodard,Philipp Hanebrink,2014-10-01 17:39,"","",2014-01-14,"","",0,2014-01-14 00:11,"","",1494500,"","<pre>
ExtDirect error: Uncaught exception #1297759968 (ref 20140114060737cbb45d) - Exception while property mapping for target type ""TYPO3\TYPO3CR\Domain\Model\Node"", at property path """": An exception occurred while executing 'UPDATE typo3_typo3cr_domain_model_nodedata SET pathhash = ?, path = ?, version = version + 1 WHERE persistence_object_identifier = ? AND version = ?' with params [""d1b544fbbd1cf2564ec6c45dfca79859"", ""\/sites\/amsys\/skills"", ""e74079e2-dfb4-92b3-84c3-7521c54db450"", 3]: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'd1b544fbbd1cf2564ec6c45dfca79859-user-thierry' for key 'UNIQ_60A956B92DBEC7578D940019'
</pre>

If I manually delete the old page node in the typo3_typo3cr_domain_model_nodedata, it's OK"
54958,TYPO3.Neos,Task,"",Closed,Must have,Backend Search doesn't work,Falk Ulrich,"",2014-10-02 05:10,"","",2014-01-13,"","",0,2014-01-13 11:12,"","",1493950,"","The Backend Search causes the exeption:

ExtDirect error: Error parsing json response: null"
54937,TYPO3.Neos,Bug,"",Resolved,Should have,"Missing ""attributes"" declaration in Menu defaul TS",Christian Müller,Christian Müller,2014-06-20 09:40,"","",2014-01-13,"","",100,2014-01-13 05:21,"","",1492900,"","The Menu.html uses:

<ul{attributes -> f:format.raw()}>

But in fact the Menu.ts2 does not declare ""sttributes. It misses the line:

attributes = TYPO3.TypoScript:Attributes"
54835,TYPO3.Neos,Bug,"",Closed,Should have,Bad link for create site button in adminstration overview,Birger Fuehne,"",2014-10-01 08:35,"","",2014-01-08,"","",0,2014-01-08 08:18,"","",1488000,"","In the Administration overview (e.g. http://neos.demo/neos/administration), in the ""Sites management"" box, the blue button labelled ""Create site"" produces a 404. It does so because it links to ""administration/sites/newSite"", while the correct path probably is ""administration/sites/newsite"". (camelCase in the word ""newSite"", while lowercase seems to be expected)."
54752,TYPO3.Neos,Bug,"",Closed,Must have,NumberRangeValidator fails ,Nikos Poaros,"",2014-10-01 09:58,"","",2014-01-05,"","",0,2014-01-05 15:16,"","",1483900,"","Small error in Shared/Validation/NumberRangeValidator causes it to fail

This will trigger an error if value is a number as isNaN returns false for a number:

@isValid: function(value) {
				if ((typeof(value) === 'number' || typeof(value) === 'string') && value !== '' && !isNaN(value)) {
					this.addError('A valid number is expected !.');
					return;
				}@

So a simple change, removing the ! sorts it out:

@isValid: function(value) {
				if ((typeof(value) === 'number' || typeof(value) === 'string') && value !== '' && isNaN(value)) {
					this.addError('A valid number is expected !.');
					return;
				}@


"
54746,TYPO3.Neos,Bug,"",Closed,Should have,.htaccess should not comment FLOW_CONTEXT Production,Kay Strobach,Hubertus Golf,2014-10-01 11:33,"","",2014-01-05,"","",0,2014-01-05 04:15,"","",1483600,"","for normal people the FLOW_CONTEXT Production in the .htaccess should be enabled by default.

Developers can switch it off ... but for the first the performance seems to be poor, with this option enabled ;)"
54745,TYPO3.Neos,Bug,"",Closed,Should have,"Catch Exception creating a new Site, when Packages is not writeable",Kay Strobach,"",2014-10-02 07:42,Services,1.0,2014-01-05,"","",0,2014-01-05 04:14,"","",1483550,"","If you create a new Package and the Packages dir is not writeable you get an exception, this should be transformed in a nice Error message :D

#1: Warning: mkdir() [<a href='function.mkdir'>function.mkdir</a>]: Permission denied in /.../neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Utility/Files.php line 223
"
54709,TYPO3.Neos,Bug,"",Closed,Must have,"Special character ""&"" during setup as sitename",Christian Ducrot,"",2014-10-02 04:38,"","",2014-01-02,"","",0,2014-01-02 09:24,"","",1481850,"","Entering special character ""&"" during setup as sitename results in an unvalid Sitemap.xml and the setup doesn't finished."
54673,TYPO3.Neos,Feature,"",Closed,Should have,Software Ergonomics: Tooltip for User Roles in Neos User Management,Chr is,"",2014-10-04 12:03,UI,"",2014-01-01,"","",0,2014-01-01 11:25,"","",1480050,"","In Neos backend GUI -> Administration -> User Management there is a column ""Roles"". 

 
For EDITORs it shows: TYPO3.Neos:Editor (TYPO3.TYPO3CR:Administrator) 
For ADMINISTRATORs is shows: TYPO3.Neos:Administrator (TYPO3.Neos:Editor)


This is not self-explanatory. How is this to be read?


If it is to be read as ""User has the Role TYPO3.Neos:Editor"" then - what does the appendix in brackets mean?


*From a software ergonomics point of view there should be a mouse-over explanation (Tooltip) giving the user a helping hand.*"
54671,TYPO3.Neos,Bug,"",Closed,Must have,Neos 1.0.1 Media preview not showing up with .png file,Chr is,"",2014-06-29 13:10,"","",2014-01-01,"","",0,2014-01-01 11:20,"","",1479950,"","With a fresh install of Neos 1.0.1 and a new empty site created
I uploaded a .png file with the help of Media Management in Neos backend GUI.

The preview of the image is broken.


*-> Please see attached screenshot.*"
54670,TYPO3.Neos,Bug,"",Resolved,Must have,"""Create tag"" raises error message: An error occurred while trying to call TYPO3\Media\Controller\AssetController-&gt;createTagAction()",Chr is,Christian Müller,2014-03-03 14:18,"","",2014-01-01,"","",0,2014-01-01 11:14,"","",1479900,"","After uploading an image (abcxyz.png) via *Neos backend GUI -> Management -> Media* I tried to create a tag.


After pressing the ""*Create tag*"" Button I get an orange Error Message from Neos backend GUI:


<pre>
An error occurred while trying to call TYPO3\Media\Controller\AssetController-&gt;createTagAction()
</pre>



*This happens with a fresh installation of Neos 1.0.1 with an new site OOTB.*"
54669,TYPO3.Neos,Feature,"",Closed,Should have,Add Empty robots.txt,Chr is,"",2014-10-02 04:30,"","",2014-01-01,"","",0,2014-01-01 10:13,"","",1479850,"","Add Empty robots.txt to TYPO3 Neos ""Web"" folder."
54647,TYPO3.Neos,Feature,"",New,Should have,"""New site"" should generate TS-object-template folder by default",Chr is,"",2013-12-30 10:54,"","",2013-12-30,"","",0,2013-12-30 10:54,"","",1478750,"","After creating a new site (e.g. ABC.Xyz) with Neos GUI backend there is no folder

/TYPO3-Neos/Packages/Sites/Abc.Xyz/Resources/Private/Templates/*TypoScriptObjects*

As this is a common necessity for TS-object-templates, Neos itself should generate this folder by default."
54638,TYPO3.Neos,Bug,"",New,Should have,Uncaught exception #1291371910: Paths must not contain two consecutive slashes,Chr is,"",2013-12-30 04:31,"","",2013-12-30,"","",0,2013-12-30 04:31,"","",1478300,"","+Neos 1.0.1+

Taken from /TYPO3-Neos/Data/Logs/Exceptions/:


*Uncaught exception #1291371910* in line 681 of /path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_TYPO3CR_Domain_Model_Node.php: *Paths must not contain two consecutive slashes.*

<pre>
18 TYPO3\TYPO3CR\Domain\Model\NodeData_Original::normalizePath(""cpumon//vdr-cpumon-0"")
17 TYPO3\TYPO3CR\Domain\Model\Node_Original::getNode(""cpumon//vdr-cpumon-0"")
16 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::convertNodeContextPathToNode(""cpumon//vdr-cpumon-0"")
15 TYPO3\Neos\Routing\FrontendNodeRoutePartHandler_Original::matchValue(""cpumon//vdr-cpumon-0"")
14 TYPO3\Flow\Mvc\Routing\DynamicRoutePart_Original::match(""cpumon//vdr-cpumon-0.0.6a.tgz'"")
13 TYPO3\Flow\Mvc\Routing\Route_Original::matches(TYPO3\Flow\Http\Request)
12 TYPO3\Flow\Mvc\Routing\Router_Original::findMatchResults(TYPO3\Flow\Http\Request)
11 TYPO3\Flow\Mvc\Routing\Router_Original::route(TYPO3\Flow\Http\Request)
10 TYPO3\Flow\Mvc\Routing\Router::route(TYPO3\Flow\Http\Request)
9 call_user_func_array(array|2|, array|1|)
8 TYPO3\Flow\Mvc\Routing\Router::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Fluid\Core\Widget\AjaxWidgetRoutingAspect_Original::routeAjaxWidgetRequestAdvice(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
3 TYPO3\Flow\Mvc\Routing\Router::route(TYPO3\Flow\Http\Request)
2 TYPO3\Flow\Http\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>"
54637,TYPO3.Neos,Feature,"",New,Should have,"""New site"" should generate Public resource folder by default",Chr is,"",2014-06-27 17:48,"","",2013-12-30,"","",0,2013-12-30 04:05,"","",1478250,"","After creating a new site (e.g. ABC.Xyz) with Neos GUI backend there is no folder

/TYPO3-NEOS/packages/sites/ABC.Xyz/Resources/*Public*


*As this is a common necessity, Neos itself should generate this folder by default.*"
54635,TYPO3.Neos,Bug,"",Closed,Should have,"Neos backend URL for ""globe"" (sitename) contains double slash (//) at the end",Chr is,"",2014-10-01 13:26,"","",2013-12-29,"","",0,2013-12-29 17:25,"","",1478150,"","After logging into Neos backend as admin I noticed the URL attached to the globe icon that is prepending the site's name has a double slash (//) at the end and thus redirecting to Neos backend login screen instead of the content view.

Please see attached screenshot for visual confirmation and detail.

Latest Neos version used: 1.0.1"
54625,TYPO3.Neos,Bug,"",Closed,Should have,ExtDirect error: Uncaught exception #1210858767 when entering Neos backend after Update,Chr is,"",2014-10-04 05:57,"",1.x,2013-12-28,"","",0,2013-12-28 12:26,"","",1477650,"","After updating to development master:

<pre>
user@machine:~/path/to/TYPO3-Neos$ ~/composer/composer.phar update
Loading composer repositories with package information
Updating dependencies (including require-dev)
Generating autoload files
</pre>


and force-flushing the cache:

<pre>
user@machine:~/path/to/TYPO3-Neos$ ./flow flow:cache:flush --force
PHP:  syntax error, unexpected '=' in Unknown on line 7
Force-flushed caches for ""Development"" context.
</pre>


While entering Neos backend as administrator I get:

<pre>
ExtDirect error: Uncaught exception #1210858767 (ref 20131228182225447a19) - Invalid argument name (must be a non-empty string).
</pre>
"
54592,TYPO3.Neos,Bug,"",Resolved,Should have,Security policies are too strict,Rens Admiraal,"",2014-03-03 15:36,"","",2013-12-25,"","",100,2013-12-24 18:45,"","",1476000,"","The following policy is far too strict:

<pre>
    TYPO3_Neos_AllControllerActions: 'within(TYPO3\Flow\Mvc\Controller\AbstractController) && method(public .*->.*Action())'
</pre>

This secures all controllers in the full Flow application, which is an issue if you create an application in Flow and add Neos on top for managing a few content pages (or in whatever other usecase Flow packages would be used next to Neos).

I'm not sure if we want to secure all plugins of developers by default, or just want to secure all Neos controllers. But for now I would suggest only securing all controllers in the TYPO3\Neos\* namespace."
54591,TYPO3.Neos,Feature,"",Resolved,Should have,Filter assets in the media browser to display only images,Rens Admiraal,"",2014-03-04 08:36,"","",2013-12-25,"","",100,2013-12-24 18:39,"","",1475950,"",The media browser in the image editor should only display Image assets and no files.
54587,TYPO3.Neos,Bug,"",Closed,Should have,"Setting a filter to ""Page"" for navigation viewport raises error",Chr is,"",2014-10-02 07:08,"","",2013-12-23,"","",0,2013-12-23 16:34,"","",1475750,"","When applying a filter for ""Page"" to the navigation viewport
- an error message is displayed
- an endlessly spinning circular icon appears
- the Publish button turns orange


The tree view in navigation viewport did only contain pages before that.


See annotated screenshot for details!"
54586,TYPO3.Neos,Bug,"",Closed,Should have,No refresh in structure viewport when changing page title in inspector viewport,Chr is,"",2014-10-04 05:14,"","",2013-12-23,"","",0,2013-12-23 16:00,"","",1475700,"","When changing a page's title in ""inspector"" viewport the navigation viewport is refreshed.

The ""structure"" viewport's content below - however - is not being refreshed w.r.t. the page's title.


Please see attached screenshot."
54585,TYPO3.Neos,Bug,"",Closed,Should have,Two column content element does not render columns side by side,Chr is,"",2014-10-01 13:41,"","",2013-12-23,"","",0,2013-12-23 15:53,"","",1475650,"","The ""Two column content"" Element does not render the columns side by side.
They are just displayed one after another - like normal paragraphs.


PS: The rendering of that element was mentioned in an earlier bug:
http://forge.typo3.org/issues/38913 http://forge.typo3.org/issues/38913]"
54584,TYPO3.Neos,Bug,"",Closed,Should have,Drag & Drop PDF files->Media Management = constantly exception on opening Media Management,Chr is,"",2014-10-04 07:03,"","",2013-12-23,"","",0,2013-12-23 15:38,"","",1475600,"","I opened my site's Media Management (http://www.example.org/neos/management/media).

Then I selected 2 PDF files from my Desktop, drag&dropped them to the Media Management field saying ""... drop here"".

I got the exception below.

From then on every attempt to access my site's Media Management (http://www.example.org/neos/management/media) fails with this exception (deleting everything within directory */path/to/TYPO3-Neos/Data/Temporary* did not help here!)

###############################################

Uncaught Exception in Flow
#1: Catchable Fatal Error: Argument 1 passed to TYPO3\Media\ViewHelpers\ImageViewHelper_Original::render() must implement interface TYPO3\Media\Domain\Model\ImageInterface, instance of TYPO3\Media\Domain\Model\Document given in /path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Media_ViewHelpers_ImageViewHelper.php line 104
More information

TYPO3\Flow\Error\Exception thrown in file
Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Error/ErrorHandler.php in line 77.
Reference code: 20131223210526c35325

Go to the FORGE issue tracker and report the issue - if you think it is a bug!

108 TYPO3\Flow\Error\ErrorHandler::handleError(4096, ""Argument 1 passed to TYPO3\Media\ViewHelpers\Imageâ?¦nstance of TYPO3\Media\Domain\Model\Document given"", ""/path/to.â?¦lasses/TYPO3_Media_ViewHelpers_ImageViewHelper.php"", 104, array|0|)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Media_ViewHelpers_ImageViewHelper.php:
00102:   * @return string an <img...> html tag
00103:   */
00104:  public function render(ImageInterface $image = NULL, $maximumWidth = NULL, $maximumHeight = NULL, $allowCropping = FALSE, $allowUpScaling = FALSE) {
00105:   $thumbnailImage = $this->getThumbnailImage($image, $maximumWidth, $maximumHeight, $allowCropping, $allowUpScaling);
00106: 

107 TYPO3\Media\ViewHelpers\ImageViewHelper_Original::render(TYPO3\Media\Domain\Model\Document, ""250"", ""250"", FALSE, FALSE)

106 call_user_func_array(array|2|, array|5|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

105 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

104 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

103 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

102 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00302:    return $closure();
00303:   }
00304:   return $this->viewHelperNode->evaluateChildNodes($this->renderingContext);
00305:  }
00306: 

101 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_Link_ActionViewHelper.php:
00104:   }
00105:   $this->tag->addAttribute('href', $uri);
00106:   $this->tag->setContent($this->renderChildren());
00107:   $this->tag->forceClosingTag(TRUE);
00108: 

100 TYPO3\Fluid\ViewHelpers\Link\ActionViewHelper_Original::render(""edit"", array|1|, NULL, NULL, NULL, """", """", array|0|, FALSE, array|0|, FALSE, TRUE)

99 call_user_func_array(array|2|, array|12|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

98 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

97 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

96 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

95 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00302:    return $closure();
00303:   }
00304:   return $this->viewHelperNode->evaluateChildNodes($this->renderingContext);
00305:  }
00306: 

94 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00316:   $self = $this;
00317:   return function() use ($self) {
00318:    return $self->renderChildren();
00319:   };
00320:  }

93 TYPO3\Fluid\Core\ViewHelper\{closure}()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_ForViewHelper.php:
00127:     $iterationData['cycle']++;
00128:    }
00129:    $output .= $renderChildrenClosure();
00130:    $templateVariableContainer->remove($arguments['as']);
00131:    if ($arguments['key'] !== '') {

92 TYPO3\Fluid\ViewHelpers\ForViewHelper_Original::renderStatic(array|5|, Closure, TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_ForViewHelper.php:
00078:   */
00079:  public function render($each, $as, $key = '', $reverse = FALSE, $iteration = NULL) {
00080:   return self::renderStatic($this->arguments, $this->buildRenderChildrenClosure(), $this->renderingContext);
00081:  }
00082: 

91 TYPO3\Fluid\ViewHelpers\ForViewHelper_Original::render(TYPO3\Flow\Persistence\Doctrine\QueryResult, ""asset"", """", FALSE, NULL)

90 call_user_func_array(array|2|, array|5|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

89 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

88 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

87 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

86 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_RootNode.php:
00026:   */
00027:  public function evaluate(RenderingContextInterface $renderingContext) {
00028:   return $this->evaluateChildNodes($renderingContext);
00029:  }
00030: }

85 TYPO3\Fluid\Core\Parser\SyntaxTree\RootNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_RenderChildrenViewHelper.php:
00038: 
00039:   $this->addArgumentsToTemplateVariableContainer($arguments);
00040:   $output = $widgetChildNodes->evaluate($renderingContext);
00041:   $this->removeArgumentsFromTemplateVariableContainer($arguments);
00042: 

84 TYPO3\Fluid\ViewHelpers\RenderChildrenViewHelper_Original::render(array|1|)

83 call_user_func_array(array|2|, array|1|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

82 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

81 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

80 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

79 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_RootNode.php:
00026:   */
00027:  public function evaluate(RenderingContextInterface $renderingContext) {
00028:   return $this->evaluateChildNodes($renderingContext);
00029:  }
00030: }

78 TYPO3\Fluid\Core\Parser\SyntaxTree\RootNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_ParsingState.php:
00096:   */
00097:  public function render(RenderingContextInterface $renderingContext) {
00098:   return $this->rootNode->evaluate($renderingContext);
00099:  }
00100: 

77 TYPO3\Fluid\Core\Parser\ParsingState_Original::render(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/View/AbstractTemplateView.php:
00211:   } else {
00212:    $this->startRendering(self::RENDERING_TEMPLATE, $parsedTemplate, $this->baseRenderingContext);
00213:    $output = $parsedTemplate->render($this->baseRenderingContext);
00214:    $this->stopRendering();
00215:   }

76 TYPO3\Fluid\View\AbstractTemplateView::render()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Controller_ActionController.php:
00403: 
00404:   if ($actionResult === NULL && $this->view instanceof \TYPO3\Flow\Mvc\View\ViewInterface) {
00405:    $this->response->appendContent($this->view->render());
00406:   } elseif (is_string($actionResult) && strlen($actionResult) > 0) {
00407:    $this->response->appendContent($actionResult);

75 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Controller_ActionController.php:
00167:   }
00168: 
00169:   $this->callActionMethod();
00170: 
00171:  }

74 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Widget/AbstractWidgetController.php:
00051:   }
00052:   $this->widgetConfiguration = $widgetContext->getWidgetConfiguration();
00053:   parent::processRequest($request, $response);
00054:  }
00055: 

73 TYPO3\Fluid\Core\Widget\AbstractWidgetController::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Widget/AbstractWidgetViewHelper.php:
00196:   /** @var $subResponse Response */
00197:   $subResponse = $this->objectManager->get('TYPO3\Flow\Http\Response');
00198:   $this->controller->processRequest($subRequest, $subResponse);
00199:   return $subResponse;
00200:  }

72 TYPO3\Fluid\Core\Widget\AbstractWidgetViewHelper::initiateSubRequest()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_Widget_PaginateViewHelper.php:
00062:   */
00063:  public function render(QueryResultInterface $objects, $as, array $configuration = array('itemsPerPage' => 10, 'insertAbove' => FALSE, 'insertBelow' => TRUE, 'maximumNumberOfLinks' => 99)) {
00064:   $response = $this->initiateSubRequest();
00065:   return $response->getContent();
00066:  }

71 TYPO3\Fluid\ViewHelpers\Widget\PaginateViewHelper_Original::render(TYPO3\Flow\Persistence\Doctrine\QueryResult, ""paginatedAssets"", array|2|)

70 call_user_func_array(array|2|, array|3|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

69 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Widget/AbstractWidgetViewHelper.php:
00100:   $this->initializeWidgetContext();
00101: 
00102:   return $this->callRenderMethod();
00103:  }
00104: 

68 TYPO3\Fluid\Core\Widget\AbstractWidgetViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

67 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

66 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_RootNode.php:
00026:   */
00027:  public function evaluate(RenderingContextInterface $renderingContext) {
00028:   return $this->evaluateChildNodes($renderingContext);
00029:  }
00030: }

65 TYPO3\Fluid\Core\Parser\SyntaxTree\RootNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_ParsingState.php:
00096:   */
00097:  public function render(RenderingContextInterface $renderingContext) {
00098:   return $this->rootNode->evaluate($renderingContext);
00099:  }
00100: 

64 TYPO3\Fluid\Core\Parser\ParsingState_Original::render(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/View/AbstractTemplateView.php:
00340:    $output = $this->renderSection($sectionName, $variables);
00341:   } else {
00342:    $output = $parsedPartial->render($renderingContext);
00343:   }
00344:   $this->stopRendering();

63 TYPO3\Fluid\View\AbstractTemplateView::renderPartial(""ThumbnailView"", NULL, array|2|)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_RenderViewHelper.php:
00088: 
00089:   if ($partial !== NULL) {
00090:    return $this->viewHelperVariableContainer->getView()->renderPartial($partial, $section, $arguments);
00091:   } elseif ($section !== NULL) {
00092:    return $this->viewHelperVariableContainer->getView()->renderSection($section, $arguments, $optional);

62 TYPO3\Fluid\ViewHelpers\RenderViewHelper_Original::render(NULL, ""ThumbnailView"", array|1|, FALSE)

61 call_user_func_array(array|2|, array|4|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

60 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

59 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

58 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

57 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00302:    return $closure();
00303:   }
00304:   return $this->viewHelperNode->evaluateChildNodes($this->renderingContext);
00305:  }
00306: 

56 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_ThenViewHelper.php:
00029:   */
00030:  public function render() {
00031:   return $this->renderChildren();
00032:  }
00033: }

55 TYPO3\Fluid\ViewHelpers\ThenViewHelper_Original::render()

54 call_user_func_array(array|2|, array|0|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

53 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

52 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

51 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractConditionViewHelper.php:
00089:    if ($childNode instanceof ViewHelperNode
00090:     && $childNode->getViewHelperClassName() === 'TYPO3\Fluid\ViewHelpers\ThenViewHelper') {
00091:     $data = $childNode->evaluate($this->renderingContext);
00092:     return $data;
00093:    }

50 TYPO3\Fluid\Core\ViewHelper\AbstractConditionViewHelper::renderThenChild()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_IfViewHelper.php:
00098:  public function render($condition) {
00099:   if ($condition) {
00100:    return $this->renderThenChild();
00101:   } else {
00102:    return $this->renderElseChild();

49 TYPO3\Fluid\ViewHelpers\IfViewHelper_Original::render(TRUE)

48 call_user_func_array(array|2|, array|1|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

47 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

46 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

45 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

44 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00302:    return $closure();
00303:   }
00304:   return $this->viewHelperNode->evaluateChildNodes($this->renderingContext);
00305:  }
00306: 

43 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::renderChildren()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_SectionViewHelper.php:
00106:   if ($this->viewHelperVariableContainer->exists('TYPO3\Fluid\ViewHelpers\SectionViewHelper', 'isCurrentlyRenderingSection')) {
00107:    $this->viewHelperVariableContainer->remove('TYPO3\Fluid\ViewHelpers\SectionViewHelper', 'isCurrentlyRenderingSection');
00108:    return $this->renderChildren();
00109:   }
00110:   return '';

42 TYPO3\Fluid\ViewHelpers\SectionViewHelper_Original::render()

41 call_user_func_array(array|2|, array|0|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

40 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

39 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

38 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/View/AbstractTemplateView.php:
00271: 
00272:    $this->startRendering($renderingTypeOnNextLevel, $parsedTemplate, $renderingContext);
00273:    $output = $section->evaluate($renderingContext);
00274:    $this->stopRendering();
00275:   }

37 TYPO3\Fluid\View\AbstractTemplateView::renderSection(""Content"", array|1|, FALSE)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_ViewHelpers_RenderViewHelper.php:
00090:    return $this->viewHelperVariableContainer->getView()->renderPartial($partial, $section, $arguments);
00091:   } elseif ($section !== NULL) {
00092:    return $this->viewHelperVariableContainer->getView()->renderSection($section, $arguments, $optional);
00093:   }
00094:   return '';

36 TYPO3\Fluid\ViewHelpers\RenderViewHelper_Original::render(""Content"", NULL, array|0|, FALSE)

35 call_user_func_array(array|2|, array|4|)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00268: 
00269:   try {
00270:    return call_user_func_array(array($this, 'render'), $renderMethodParameters);
00271:   } catch (Exception $exception) {
00272:    if (!$this->objectManager->getContext()->isProduction()) {

34 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/ViewHelper/AbstractViewHelper.php:
00249:   $this->initialize();
00250: 
00251:   return $this->callRenderMethod();
00252:  }
00253: 

33 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_ViewHelperNode.php:
00139:   }
00140: 
00141:   $output = $viewHelper->initializeArgumentsAndRender();
00142: 
00143:   return $output;

32 TYPO3\Fluid\Core\Parser\SyntaxTree\ViewHelperNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/Core/Parser/SyntaxTree/AbstractNode.php:
00049:      $output = (string) $output;
00050:     }
00051:     $subNodeOutput = $subNode->evaluate($renderingContext);
00052: 
00053:     if (is_object($subNodeOutput)) {

31 TYPO3\Fluid\Core\Parser\SyntaxTree\AbstractNode::evaluateChildNodes(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_SyntaxTree_RootNode.php:
00026:   */
00027:  public function evaluate(RenderingContextInterface $renderingContext) {
00028:   return $this->evaluateChildNodes($renderingContext);
00029:  }
00030: }

30 TYPO3\Fluid\Core\Parser\SyntaxTree\RootNode_Original::evaluate(TYPO3\Fluid\Core\Rendering\RenderingContext)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_Core_Parser_ParsingState.php:
00096:   */
00097:  public function render(RenderingContextInterface $renderingContext) {
00098:   return $this->rootNode->evaluate($renderingContext);
00099:  }
00100: 

29 TYPO3\Fluid\Core\Parser\ParsingState_Original::render(TYPO3\Fluid\Core\Rendering\RenderingContext)

Packages/Framework/TYPO3.Fluid/Classes/TYPO3/Fluid/View/AbstractTemplateView.php:
00207:    }
00208:    $this->startRendering(self::RENDERING_LAYOUT, $parsedTemplate, $this->baseRenderingContext);
00209:    $output = $parsedLayout->render($this->baseRenderingContext);
00210:    $this->stopRendering();
00211:   } else {

28 TYPO3\Fluid\View\AbstractTemplateView::render()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Controller_ActionController.php:
00403: 
00404:   if ($actionResult === NULL && $this->view instanceof \TYPO3\Flow\Mvc\View\ViewInterface) {
00405:    $this->response->appendContent($this->view->render());
00406:   } elseif (is_string($actionResult) && strlen($actionResult) > 0) {
00407:    $this->response->appendContent($actionResult);

27 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Controller_ActionController.php:
00167:   }
00168: 
00169:   $this->callActionMethod();
00170: 
00171:  }

26 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php:
00075:    try {
00076:     $this->emitBeforeControllerInvocation($request, $response, $controller);
00077:     $controller->processRequest($request, $response);
00078:     $this->emitAfterControllerInvocation($request, $response, $controller);
00079:    } catch (StopActionException $exception) {

25 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php:
00292:    $this->Flow_Aop_Proxy_fixMethodsAndAdvicesArrayForDoctrineProxies();
00293:   if (isset($this->Flow_Aop_Proxy_methodIsInAdviceMode['dispatch'])) {
00294:   $result = parent::dispatch($request, $response);
00295: 
00296:   } else {

24 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Controller_Backend_ModuleController.php:
00074:   $moduleResponse = new Response($this->response);
00075: 
00076:   $this->dispatcher->dispatch($moduleRequest, $moduleResponse);
00077: 
00078:   if ($moduleResponse->hasHeader('Location')) {

23 TYPO3\Neos\Controller\Backend\ModuleController_Original::indexAction(array|3|)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Controller_Backend_ModuleController.php:
00231:    $this->Flow_Aop_Proxy_fixMethodsAndAdvicesArrayForDoctrineProxies();
00232:   if (isset($this->Flow_Aop_Proxy_methodIsInAdviceMode['indexAction'])) {
00233:   $result = parent::indexAction($module);
00234: 
00235:   } else {

22 TYPO3\Neos\Controller\Backend\ModuleController::indexAction(array|3|)

21 call_user_func_array(array|2|, array|1|)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Controller_Backend_ModuleController.php:
00217:   if (__CLASS__ !== $joinPoint->getClassName()) return parent::Flow_Aop_Proxy_invokeJoinPoint($joinPoint);
00218:   if (isset($this->Flow_Aop_Proxy_methodIsInAdviceMode[$joinPoint->getMethodName()])) {
00219:    return call_user_func_array(array('self', $joinPoint->getMethodName()), $joinPoint->getMethodArguments());
00220:   }
00221:  }

20 TYPO3\Neos\Controller\Backend\ModuleController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Aop/Advice/AdviceChain.php:
00055:    $result = $this->advices[$this->adviceIndex]->invoke($joinPoint);
00056:   } else {
00057:    $result = $joinPoint->getProxy()->Flow_Aop_Proxy_invokeJoinpoint($joinPoint);
00058:   }
00059:   return $result;

19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Security_Aspect_PolicyEnforcementAspect.php:
00060:   }
00061: 
00062:   $result = $joinPoint->getAdviceChain()->proceed($joinPoint);
00063: 
00064:   // @TODO Once we use the AfterInvocation again, it needs to be invoked here and its result returned instead.

18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Aop/Advice/AroundAdvice.php:
00032:   $adviceObject = $this->objectManager->get($this->aspectObjectName);
00033:   $methodName = $this->adviceMethodName;
00034:   return $adviceObject->$methodName($joinPoint);
00035:  }
00036: }

17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Aop/Advice/AdviceChain.php:
00053:   $this->adviceIndex++;
00054:   if ($this->adviceIndex < count($this->advices)) {
00055:    $result = $this->advices[$this->adviceIndex]->invoke($joinPoint);
00056:   } else {
00057:    $result = $joinPoint->getProxy()->Flow_Aop_Proxy_invokeJoinpoint($joinPoint);

16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Controller_Backend_ModuleController.php:
00245:      $adviceChain->rewind();
00246:      $joinPoint = new \TYPO3\Flow\Aop\JoinPoint($this, 'TYPO3\Neos\Controller\Backend\ModuleController', 'indexAction', $methodArguments, $adviceChain);
00247:      $result = $adviceChain->proceed($joinPoint);
00248: 
00249:    } catch (\Exception $e) {

15 TYPO3\Neos\Controller\Backend\ModuleController::indexAction(array|3|)

14 call_user_func_array(array|2|, array|1|)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Controller_ActionController.php:
00371: 
00372:   if (!$validationResult->hasErrors()) {
00373:    $actionResult = call_user_func_array(array($this, $this->actionMethodName), $preparedArguments);
00374:   } else {
00375:    $actionIgnoredArguments = static::getActionIgnoredValidationArguments($this->objectManager);

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Controller_ActionController.php:
00167:   }
00168: 
00169:   $this->callActionMethod();
00170: 
00171:  }

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php:
00075:    try {
00076:     $this->emitBeforeControllerInvocation($request, $response, $controller);
00077:     $controller->processRequest($request, $response);
00078:     $this->emitAfterControllerInvocation($request, $response, $controller);
00079:    } catch (StopActionException $exception) {

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php:
00292:    $this->Flow_Aop_Proxy_fixMethodsAndAdvicesArrayForDoctrineProxies();
00293:   if (isset($this->Flow_Aop_Proxy_methodIsInAdviceMode['dispatch'])) {
00294:   $result = parent::dispatch($request, $response);
00295: 
00296:   } else {

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php:
00276:   if (__CLASS__ !== $joinPoint->getClassName()) return parent::Flow_Aop_Proxy_invokeJoinPoint($joinPoint);
00277:   if (isset($this->Flow_Aop_Proxy_methodIsInAdviceMode[$joinPoint->getMethodName()])) {
00278:    return call_user_func_array(array('self', $joinPoint->getMethodName()), $joinPoint->getMethodArguments());
00279:   }
00280:  }

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Aop/Advice/AdviceChain.php:
00055:    $result = $this->advices[$this->adviceIndex]->invoke($joinPoint);
00056:   } else {
00057:    $result = $joinPoint->getProxy()->Flow_Aop_Proxy_invokeJoinpoint($joinPoint);
00058:   }
00059:   return $result;

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Security_Aspect_RequestDispatchingAspect.php:
00078:   try {
00079:    $this->firewall->blockIllegalRequests($request);
00080:    return $joinPoint->getAdviceChain()->proceed($joinPoint);
00081:   } catch (AuthenticationRequiredException $exception) {
00082:    $response = $joinPoint->getMethodArgument('response');

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Aop/Advice/AroundAdvice.php:
00032:   $adviceObject = $this->objectManager->get($this->aspectObjectName);
00033:   $methodName = $this->adviceMethodName;
00034:   return $adviceObject->$methodName($joinPoint);
00035:  }
00036: }

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Aop/Advice/AdviceChain.php:
00053:   $this->adviceIndex++;
00054:   if ($this->adviceIndex < count($this->advices)) {
00055:    $result = $this->advices[$this->adviceIndex]->invoke($joinPoint);
00056:   } else {
00057:    $result = $joinPoint->getProxy()->Flow_Aop_Proxy_invokeJoinpoint($joinPoint);

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

/path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php:
00307:      $adviceChain->rewind();
00308:      $joinPoint = new \TYPO3\Flow\Aop\JoinPoint($this, 'TYPO3\Flow\Mvc\Dispatcher', 'dispatch', $methodArguments, $adviceChain);
00309:      $result = $adviceChain->proceed($joinPoint);
00310: 
00311:    } catch (\Exception $e) {

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Http/RequestHandler.php:
00122:   $this->securityContext->setRequest($actionRequest);
00123: 
00124:   $this->dispatcher->dispatch($actionRequest, $this->response);
00125: 
00126:   $this->response->makeStandardsCompliant($this->request);

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Bootstrap.php:
00111: 
00112:   $this->activeRequestHandler = $this->resolveRequestHandler();
00113:   $this->activeRequestHandler->handleRequest();
00114:  }
00115: 

1 TYPO3\Flow\Core\Bootstrap::run()

/path/to/htdocs/index.php:
00025: $context = getenv('FLOW_CONTEXT') ?: (getenv('REDIRECT_FLOW_CONTEXT') ?: 'Development');
00026: $bootstrap = new \TYPO3\Flow\Core\Bootstrap($context);
00027: $bootstrap->run();"
54583,TYPO3.Neos,Bug,"",Closed,Should have,Uncaught Exception in Flow while deleting package TYPO3.NeosDemoTypo3Org,Chr is,Daniel Lienert,2014-10-02 07:39,"","",2013-12-23,"","",0,2013-12-23 15:22,"","",1475550,"","During Neos installation, I imported the Demo Site TYPO3.NeosDemoTypo3Org.

After that I created a new site.

Then I deleted the Demo Site TYPO3.NeosDemoTypo3Org in ""Site Management"".

Then I opened ""Package Management"" and scrolled down the list to the very end.

There still was a package TYPO3.NeosDemoTypo3Org - so I deleted it.


This is what I got the next moment:

#########################################
Uncaught Exception in Flow
#1: Warning: Invalid argument supplied for foreach() in /path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_ExtJS_ViewHelpers_ExtDirect_ProviderViewHelper.php line 82

TYPO3\Flow\Error\Exception thrown in file
Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Error/ErrorHandler.php in line 77.
Reference code: 20131223211117753650






Warning: Invalid argument supplied for foreach() in /path/to/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_ExtJS_ViewHelpers_ExtDirect_ProviderViewHelper.php line 82
26 TYPO3\Flow\Error\ErrorHandler::handleError(2, ""Invalid argument supplied for foreach()"", ""/path/to.?ExtJS_ViewHelpers_ExtDirect_ProviderViewHelper.php"", 82, array|7|)

25 TYPO3\ExtJS\ViewHelpers\ExtDirect\ProviderViewHelper_Original::render(NULL)

24 call_user_func_array(array|2|, array|1|)

23 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

22 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

21 FluidCache_TYPO3_Neos_Backend_Module_action_index_10d48640e6a7f5162bca27d497169064d8fb3b51::section_1a954628a960aaef81d7b2d4521929579f3541e6(TYPO3\Fluid\Core\Rendering\RenderingContext)

20 TYPO3\Fluid\View\AbstractTemplateView::renderSection(""head"", array|1|, FALSE)

19 TYPO3\Fluid\ViewHelpers\RenderViewHelper_Original::render(""head"", NULL, array|0|, FALSE)

18 call_user_func_array(array|2|, array|4|)

17 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

16 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

15 FluidCache_TYPO3_Neos_Backend_Module_layout_Default_f67b744270fc42e6c5c62d9c1a9c47f413ac4b90::render(TYPO3\Fluid\Core\Rendering\RenderingContext)

14 TYPO3\Fluid\View\AbstractTemplateView::render()

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()
"
54574,TYPO3.Neos,Bug,"",Resolved,Should have,Headlines style for alignment is not saved,Rens Admiraal,"",2014-01-09 13:20,"",1.0,2013-12-22,"","",100,2013-12-22 14:38,"","",1475100,"",when a headline is centered / aligned with Aloha the style gets lost on save. This is because the style attribute is not allowed in the aloha sanitize
54572,TYPO3.Neos,Bug,"",Closed,Should have,Neos deletes text parts on saving data,Alexander Schnitzler,Dominique Feyer,2015-03-20 06:08,"",1.x,2013-12-22,"","",0,2013-12-22 10:01,"","",1475000,"","I am using the blog plugin of Robert Lemke which add's blog posts as new documents and comments als child nodes.

If a user posts a comment I can log into the backend and edit the comment inline as well as changing data via the inspector.

Depending on the text of the comment itself, parts of the text will be deleted on applying any change.

The comment text:
<pre>
Hi alex,
thanks for this nice tutorial.
I found a small problem at the end of you article.
<f:translate key=""error.{field.propertyName}.{field.errorCode}"" ... This will only work if your property is lowercase only. If you use lower-camelcase like myTestProperty it won?t work because you will have to convert it to my_test_property. Did you have any solution for this?

Thanks
Alex
</pre>


The comment text will be processed by htmlentities and nl2br which results in:
<pre>
Hi alex&comma;<br />
&NewLine;thanks for this nice tutorial&period;<br />
&NewLine;I found a small problem at the end of you article&period;<br />
&NewLine;&lt;f&colon;translate key&equals;&quot;error&period;&lbrace;field&period;propertyName&rcub;&period;&lbrace;field&period;errorCode&rcub;&quot; &period;&period;&period; This will only work if your property is lowercase only&period; If you use lower-camelcase like myTestProperty it won&rsquo;t work because you will have to convert it to my&lowbar;test&lowbar;property&period; Did you have any solution for this&quest;<br />
&NewLine;<br />
&NewLine;Thanks<br />
&NewLine;Alex
</pre>


So the whole comment data inside the node repository is this:
<pre>
a:5:{s:6:""author"";s:4:""Alex"";s:12:""emailAddress"";s:11:""mail@foo.de"";s:4:""text"";s:630:""Hi alex&comma;<br />
&NewLine;thanks for this nice tutorial&period;<br />
&NewLine;I found a small problem at the end of you article&period;<br />
&NewLine;&lt;f&colon;translate key&equals;&quot;error&period;&lbrace;field&period;propertyName&rcub;&period;&lbrace;field&period;errorCode&rcub;&quot; &period;&period;&period; This will only work if your property is lowercase only&period; If you use lower-camelcase like myTestProperty it won&rsquo;t work because you will have to convert it to my&lowbar;test&lowbar;property&period; Did you have any solution for this&quest;<br />
&NewLine;<br />
&NewLine;Thanks<br />
&NewLine;Alex"";s:4:""spam"";b:0;s:13:""datePublished"";O:8:""DateTime"":3:{s:4:""date"";s:19:""2013-12-22 14:53:06"";s:13:""timezone_type"";i:3;s:8:""timezone"";s:13:""Europe/Berlin"";}}
</pre>


When applying any change the text will be changed as such:
<pre>
Hi alex,<br/>

thanks for this nice tutorial.<br/>

I found a small problem at the end of you article.<br/>



<br/>

Thanks<br/>

Alex
</pre>


Data inside the node repository:
<pre>
a:5:{s:6:""author"";s:5:""Alex "";s:12:""emailAddress"";s:11:""mail@foo.de"";s:4:""text"";s:135:""Hi alex,<br/>

thanks for this nice tutorial.<br/>

I found a small problem at the end of you article.<br/>



<br/>

Thanks<br/>

Alex"";s:4:""spam"";b:0;s:13:""datePublished"";O:8:""DateTime"":3:{s:4:""date"";s:19:""2013-12-22 00:00:00"";s:13:""timezone_type"";i:3;s:8:""timezone"";s:13:""Europe/Berlin"";}}
</pre>


Maybe someone can tell me how the data is process before it's saved inside the database to find out what's going on in detail there."
54565,TYPO3.Neos,Feature,"",Closed,Could have,Preset crop ratios for images,Tanel Põld,"",2015-03-09 10:44,"","",2013-12-22,"","",0,2013-12-22 03:41,"","",1474700,"",Configurable preset crop ratios in crop tool. Little drop down menu or just shape icons toolbar. Selecting the preset and moving it around/scaling on the picture is needed.
54564,TYPO3.Neos,Bug,"",Closed,Should have,Copy and Paste works but throws error message,Thomas Hempel,"",2014-10-02 06:57,"","",2013-12-22,"","",0,2013-12-22 02:53,"","",1474650,"","When I try to copy and paste something to a page I receive an error message. When I reload the page, the content was successfully copied though.

<pre>
ExtDirect error: Uncaught exception #1301610453 (ref 201312220847474ee00a) - Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details.
</pre>

Here is the full backtrace:

<pre>
Uncaught exception #1301610453 in line 354 of /var/www/www.scriptme.de/releases/20131216100203/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Routing_UriBuilder.php: Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details.

34 TYPO3\Flow\Mvc\Routing\Router_Original::resolve(array|5|)
33 TYPO3\Flow\Mvc\Routing\UriBuilder_Original::build(array|5|)
32 TYPO3\Flow\Mvc\Routing\UriBuilder_Original::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"", NULL)
31 TYPO3\Flow\Mvc\Routing\UriBuilder::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"", NULL)
30 call_user_func_array(array|2|, array|5|)
29 TYPO3\Flow\Mvc\Routing\UriBuilder::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
28 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
27 TYPO3\Neos\Aspects\PluginUriAspect_Original::rewritePluginViewUris(TYPO3\Flow\Aop\JoinPoint)
26 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
25 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
24 TYPO3\Flow\Mvc\Routing\UriBuilder::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"")
23 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController_Original::copyAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""after"", """")
22 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::copyAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""after"", """")
21 call_user_func_array(array|2|, array|4|)
20 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)
17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
15 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::copyAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""after"", """")
14 call_user_func_array(array|2|, array|4|)
13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()
12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
9 call_user_func_array(array|2|, array|2|)
8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
2 TYPO3\ExtJS\ExtDirect\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>"
54562,TYPO3.Neos,Bug,"",Closed,Should have,Useful error messages for users,Thomas Hempel,"",2014-10-02 05:20,"",1.1,2013-12-22,"","",0,2013-12-22 02:28,"","",1474550,"","At the moment, as Neos is still very very young and has a lot of quirks and misses fundamental documentation, the error messages it throws every time you do something else then editing the Demo Sitepackage are not helpful at all.

The error messages consist of cryptic messages and backtraces. Here is an example

<pre>
Exception while rendering
page<TYPO3.Neos:Page>/
body<TYPO3.TypoScript:Template>/
content/
main<TYPO3.Neos:ContentCollection>/
itemRenderer<TYPO3.Neos:ContentCase>/
default<TYPO3.TypoScript:Matcher>/
element<Scriptme:Article>:
The TypoScript object at path ""page/body/content/main/itemRenderer/default/element"" could not be rendered: Missing implementation class name for ""Scriptme:Article"". Add @class in your TypoScript configuration. (20131222080619db2270)
</pre> 

What does that even mean? The ""@class"" is barely mentioned in any of the documentation and this error doesn't make sense whatsoever. I just created a custom element with a handful of properties. Why would I need to define the class for it. There is no special logic involved. (I followed the documentation on creating your own content elements.)

Please try to give meaningful feedback. With this I neither know what is wrong (as it makes no sense and worked in 1.0.0) nor what I should do to solve it because the suggested solution doesn't make sense either.

This is just an example. In many other cases, the user only get's the backtrace with a general message that sounds a little like ""something something very wrong. much error. something something"".


Greets,
Thomas"
54485,TYPO3.Neos,Bug,"",Closed,Must have,"""Paste After"" Icon spinning forever",Chr is,"",2014-10-02 07:32,"",1.0,2013-12-18,"","",0,2013-12-18 03:15,"","",1470700,"","Within a test-installation of TYPO3 Neos 1.0 from launchr.com I encountered the following bug.


*+What I did using the admin backend:+*

# I added a new page to my site.
# I added some new text sections and a headline.
# The I tried to move one of the text sections below another one to simply change their order of appearance on screen.
# I clicked into the text section that I wanted to move.
# I clicked the ""Cut"" icon (text section's utility-zone in upper right corner) for the first text section.
# I clicked into the text section that was intended to precede the text section from *step 4*.
# I clicked the ""Paste After"" icon (text section's utility-zone in upper right corner) for text section from *step 6*.


The ""Paste After"" icon changed into a spinning circle of rays and kept spinning endlessly (see attached screenshot).
The edit view of the page did not refresh.


_In case this bug is not reproducable: There might be a side effect from renaming that new page's title and URL after *step 2* and not refreshing the tree view in ""Navigate"" to the left._"
54480,TYPO3.Neos,Bug,"",Resolved,Must have,Opening shortcuts with a configured layout fails,Rens Admiraal,"",2013-12-23 17:35,"",1.0,2013-12-17,"","",100,2013-12-17 09:51,"","",1470450,"","When a shortcut is opened in the tree and a layout is active (by inheritance for example) the backend throws an ""Could not read page metadata from response"" and makes it impossible to edit the shortcut afterwards."
54465,TYPO3.Neos,Bug,"",Closed,Should have,Fatal error after login ,Florian Mast,"",2014-10-02 06:50,"","",2013-12-17,"","",0,2013-12-16 18:19,"","",1469800,"","On log in to the backend -after successful installation and setup - I got a Fatal error.

Login user and password were accepted, 
after being redirected to /user-myuser I get the following error

Fatal error: Call to a member function getHash() on a non-object in /var/www/TYPO3-Neos/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_Media_Domain_Service_ImageService.php on line 54

My system:
ubuntu 12.04
PHP 5.3.10-1ubuntu3.9 
MySQL Server 5.5.34-0ubuntu0.12.04.1
Apache/2.2.22 (Ubuntu)"
54463,TYPO3.Neos,Bug,"",Closed,Should have,Auto-publish changes cursor position while typing,Tanel Põld,"",2014-10-02 07:36,"","",2013-12-16,"","",0,2013-12-16 14:20,"","",1469700,"","While typing the text and if auto-publish happens cursor is taken to the beginning of the text. It leads to typing error and hassle.

Maybe auto-publish should happen only if focus is removed from the content element so no half edited content would not be published?"
54435,TYPO3.Neos,Bug,"",Closed,Must have,Absolute URIs in Ext.Direct requests do not use the base URI setting,Christopher Hlubek,"",2014-10-04 07:04,"",1.0,2013-12-15,"","",0,2013-12-15 09:30,"","",1468300,"","The navigate node tree and actions on nodes are requested using Ext.Direct. Absolute URIs in the responses do not use the configured base URI of Flow, which leads to problems when working with a proxied site (e.g. Varnish)."
54424,TYPO3.Neos,Feature,"",New,Should have,Editor bar cannot be extended,Henjo Hoeksma,"",2014-02-17 02:59,UI,"",2013-12-15,"","",0,2013-12-14 18:23,"","",1467750,"","It is not possible to extend the Aloha editor with for example options for strikethrough text, or other not default present tags."
54421,TYPO3.Neos,Task,"",Closed,Should have,BUG: Import error in package TYPO3.NeosTypo3Org,Simon Schaufelberger,"",2014-10-03 07:11,"","",2013-12-14,"","",0,2013-12-14 15:16,"","",1467600,"","I tried to install a local copy of the neos demo website but got the following error in the last step of the web installer.

<pre>
Uncaught exception #1300360480: Error: During import an exception occurred: ""The node type ""TYPO3.Neos:Page"" is marked as abstract and cannot be assigned to nodes."".

33 TYPO3\Neos\Domain\Service\SiteImportService_Original::importFromPackage(""TYPO3.NeosTypo3Org"", TYPO3\Neos\Domain\Service\ContentContext)
</pre>"
54401,TYPO3.Neos,Bug,"",Resolved,Should have,[Neos BE] - HTML editor issue in Firefox ,Rania Marou,"",2014-03-03 16:36,"","",2013-12-13,"","",100,2013-12-13 11:57,"","",1466600,"","Typo3 Neos 1.0.0 Installation,
Browser: Firefox 25.0.1

In the BE when you add a new HTML node and you press ""Edit HTML"" (on the right side) a part of the HTML editor is hidden.
I figured out that the rule ""padding-right: 320px;"" of the class "".neos .neos-secondary-inspector""  hides a part of the HTML editor and puts it outside the screen on the left side.
If I disable the rule the editor is fine."
54392,TYPO3.Neos,Bug,"",Closed,-- undefined --,Installation issues,Bastian Waidelich,"",2014-10-02 05:41,"","",2013-12-10,"","",100,2013-12-13 07:03,"","",1466150,0.00,""
54380,TYPO3.Neos,Bug,Bug #54392: Installation issues,Closed,Should have,Neos installation fails on fresh Ubuntu Server,Christopher Hlubek,"",2014-10-02 05:33,"",1.0,2013-12-13,"","",0,2013-12-13 05:31,"","",1465550,"","Reported by https://twitter.com/freyzeit:

See http://neos.zic-dev.ch/log/ for more details"
54379,TYPO3.Neos,Bug,"",Resolved,Must have,Linking to the a page without workspace fails when reloading the page in the backend,Christopher Hlubek,"",2013-12-13 13:52,"",1.0,2013-12-13,"","",100,2013-12-13 05:17,"","",1465500,"","When clicking a link to page without the workspace identifier in the backend, a JS error occurs:

<pre>Uncaught TypeError: Cannot read property 'getSubject' of undefined</pre>

This is caused by the missing document metadata in the response.

I would expect an error notification and staying on the same page."
54377,TYPO3.Neos,Bug,"",Closed,Should have,Using an array for classes in content elements is not possible by default,Christopher Hlubek,Daniel Lienert,2014-10-02 07:04,"",1.0,2013-12-13,"","",0,2013-12-13 05:14,"","",1465400,"","Writing something like this in the TypoScript for a custom node type should be possible:

<pre>
attributes.class = TYPO3.TypoScript:RawArray
attributes.class.foo = 'bar'
</pre>

Right now it causes problems with the processor that is applied to the class attribute in @prototype(TYPO3.Neos:Content).attributes.class@ because the value of the attribute is treated only as a string, which gives an ""Array to string conversion exception"".

It should be possible to do so by making the expression for the class generation more robust."
54374,TYPO3.Neos,Bug,"",Closed,Should have,Secondary inspector width in Firefox (Media view),Arjen Hoekema,"",2014-10-02 06:28,UI,"",2013-12-13,"","",0,2013-12-13 04:47,"","",1465250,"","The width of the secondary inspector is not calculated correctly in Firefox. This leads to the tags sidebar not showing up in the Media view.

Solution: change 'box-sizing' in '_SecondaryInspector.scss' from:

box-sizing: border-box;

to:

@include box-sizing(border-box);

Maybe check for other occurences of 'box-sizing' that still need some browser vendor prefixes."
54356,TYPO3.Neos,Bug,"",Closed,Should have,"content element ""text and image"" and ""image"" is not working properly",Thorsten Vallender,"",2014-10-01 13:23,"","",2013-12-12,"","",0,2013-12-12 06:22,"","",1464350,"","Hallo,

it is not possible to change or modify a picture in a content element ""image"" & ""text and image"" over the ""Thumbnails View"".
The Inspector ist waiting ... and waiting ...

If I use the ""List View"" change or modify a picture, then it works fine."
54355,TYPO3.Neos,Bug,"",Closed,Should have,rename Name(URL) is not working properly,Thorsten Vallender,"",2014-10-02 06:47,"","",2013-12-12,"","",0,2013-12-12 06:20,"","",1464300,"","Hallo,

in the page Inspector when i change the Name(URL) and press ""Apply""
the ""Publish"" button displays a incorrect sum.

For example in the TYPO3 Neos Demo Site:
Change the Name(Url) from the page ""Multi columns"" from ""multiple-columns"" to ""multiple-columns12"",
the publish button shows (26) and the ""Publish all"" shows (28).
When I press the button ""Publish(26)"" the following error is displayed:

""Server communication error, reload the page to return to a safe state if another publish does not work""
""ExtDirect error: Uncaught exception #0 - A detached entity was found during removed TYPO3\TYPO3CR\Domain\Model\NodeData@0000000009d63df6000000004d7e9473""
""Server communication error, reload the page to return to a safe state if another publish does not work""
""ExtDirect error: Uncaught exception #0 - A detached entity was found during removed TYPO3\TYPO3CR\Domain\Model\NodeData@0000000009d63df7000000004d7e9473""

etc ...

But if I press the button ""Publish all(28)"", then it works without problems;
or I press the button ""Publish(10)"" again.

"
54347,TYPO3.Neos,Bug,Bug #54392: Installation issues,Closed,-- undefined --,Noes won't install or run,Salfa mi,Bastian Waidelich,2014-03-04 07:59,"","",2013-12-12,"","",0,2013-12-11 21:22,"","",1463900,"","I'm not really sure what's going on here. When I want to set up neos ( /setup ) after the green message telling me to wait 10 to 60 seconds I get redirected to /setup/login and the error and stack trace you see below.
When I just browse the home directory I get another error 500.

What's strange is that I see the last GET with the error code 500 in the access log but there are no errors or what so ever in the error log.

As the server is running a lot of websites (TYPO3, Magento, WordPress, ...) with the same configuration I'm not sure if the problem is on my side or if it is a bug.

So far I only tried to use the archive instead what composer downloads (so first I tried it with composer) and I tried to clear the Temporary folder manually as well as ./flow flow:cache:flush --force
These things had no effect.

Stack trace and error (note that the actual http root is /home/user/public_html/neos/Web/ - not /home/user/public_html/):

<pre>
Warning: is_file(): Unable to find the wrapper ""resource"" - did you forget to enable it when you configured PHP? in /home/user/public_html/neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Fluid_View_TemplateView.php line 271

18 TYPO3\Flow\Error\ErrorHandler::handleError(2, ""is_file(): Unable to find the wrapper &quot;resource&quot; -?d you forget to enable it when you configured PHP?"", ""/home/user/public_html/neos/Data/Temporar?w_Object_Classes/TYPO3_Fluid_View_TemplateView.php"", 271, array|4|)
17 is_file(""resource://TYPO3.Setup/Private/Templates/Login/Login.html"")
16 TYPO3\Fluid\View\TemplateView_Original::getTemplatePathAndFilename(NULL)
15 TYPO3\Fluid\View\TemplateView_Original::getTemplateIdentifier(NULL)
14 TYPO3\Fluid\View\AbstractTemplateView::render()
13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()
12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
9 call_user_func_array(array|2|, array|2|)
8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)
2 TYPO3\Setup\Core\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>"
54344,TYPO3.Neos,Bug,"",Closed,Must have,Broken paths for links created below Web/_Resources/Static/Packages/,Morton Jonuschat,"",2014-10-04 07:26,"","",2013-12-11,"","",0,2013-12-11 11:12,"","",1463750,"","When using PHP in a chroot environment (php-fpm + chroot) the ?detected? absolute paths don't match the paths seen by the webserver when serving static assets.

Pre-Requisites:

1) The following directory holds the TYPO3 Neos 1.0 installation: /srv/customers/webs/user1/html/domain1.de/
2) The apache vhost ist configured with a document root: /srv/customers/webs/user1/html/domain1.de/Web/
3) PHP is chrooted to: /srv/customers/webs/user1/

What happens is that Neos/Flow publishes the static resources and creates absolute symlinks pointing to /html/domain1.de/.../, for example TYPO3.Flow -> /html/domain1.de/Packages/Framework/TYPO3.Flow/Resources/Public

These links are correct from the viewpoint of the PHP client but are wrong from the viewpoint of the Webserver. The correct symlink should be relative so that both PHP and Apache can reach the right destination independent of their starting point.
TYPO3.Flow -> ../../../../Packages/Framework/TYPO3.Flow/Resources/Public"
54338,TYPO3.Neos,Feature,"",On Hold,Should have,Drag and drop for the intuitive content positioning,Tanel Põld,"",2013-12-23 06:57,UI,"",2013-12-11,"","",0,2013-12-11 08:20,"","",1463450,"","Right now it takes 4 clicks to change the content element position. Could be done with one drag and drop.
And fair 8 clicks to bring bottom content to the top.

Over all I think it's hard to get the point of content placement using another content element for that, another element that you don't think you need to touch.

That goes for the copy,cut/paste as well as adding new content.
Selecting new content type and dragging it to the desired place would make sense.

Gridelements introduced it in TYPO3 CMS very well.
It took time to make drag and drop to the TYPO3 CMS but wasn't it a relief!"
54336,TYPO3.Neos,Bug,"",Accepted,Should have,"Preview ""Print"" ends up blank, no way to get back",Tanel Põld,"",2014-07-10 11:19,"","",2013-12-11,"","",0,2013-12-11 07:50,"","",1463350,"","Activating ""Preview/Print"" in a newly created site ends up with a blank page.
No way to get back to the admin interface.

Blank page content:
<!-- Exception while rendering print: No ""print"" TypoScript object found. Please make sure to define one in your TypoScript configuration. (20131211144633435fcc) -->"
54334,TYPO3.Neos,Task,"",Under Review,Should have,Hiding a page sets content item icon 'hidden' state active as well,Tanel Põld,Tim Kandel,2013-12-16 14:56,"","",2013-12-11,"","",0,2013-12-11 07:38,"","",1463250,"","While editing content and clicking ""Hide Page"" icon the content item ""Hidden"" icon will be set active as well.

"
54317,TYPO3.Neos,Bug,Bug #54392: Installation issues,Closed,Should have,Neos installation fails on managed server (hosteurope),Dominic Garms,"",2014-10-02 05:26,"","",2013-12-11,"","",0,2013-12-10 21:53,"","",1462400,"","Hello,

after the ""Your environment is suited for installing TYPO3 Flow"" the installation redirects to http://neos.dmfmedia.de/setup/index and following message is shown:

Flow: The compile run failed. Please check the error output or system log for more information.

error_log:
File does not exist: /www/neos/demo/Web/_Resources/Static, referer: http://neos.dmfmedia.de/setup

Not sure what exactly fails or if the .htaccess mod_rewrite fails. The server is TYPO3 CMS ready and usually works without any issues. PHP 5.3.27 with Suhosin-Patch is in use.

Regards,

Dominic
"
54314,TYPO3.Neos,Bug,"",Resolved,Should have,Reflecting class TYPO3\Neos\Domain\Service\TypoScriptService while compiling,Danny Rosifka,Bastian Waidelich,2013-12-13 06:49,"",1.0,2013-12-10,"","",100,2013-12-10 18:02,"","",1462250,"","Hi,

after install a fresh T3 Neos 1.0 with composer on a  shared webhosting environment (confixx, suPHP, PHP 5.3) it fails on first request while compiling.

In System_Development.log the last message is

<pre>
13-12-10 23:02:50 1612       DEBUG     Flow                 Reflecting class TYPO3\Neos\Domain\Service\TypoScriptService
13-12-10 23:02:50 1476       CRITICAL  Flow                 Uncaught exception #1355480641 in line 467 of /var/www/web76/html/neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php:
Flow: The compile run failed. Please check the error output or system log for more information. - See also: 2013121023022788d3ce.txt
</pre>

and the thrown exception:

<pre>
Uncaught exception #1355480641 in line 467 of /var/www/web76/html/neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php:
Flow: The compile run failed. Please check the error output or system log for more information.

13 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:doctrine:compileproxies"", array|16|)
12 TYPO3\Flow\Core\Booting\Scripts::compileDoctrineProxies(TYPO3\Flow\Core\Bootstrap)
11 TYPO3\Flow\Core\Booting\Scripts::initializeProxyClasses(TYPO3\Flow\Core\Bootstrap)
10 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)
9 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)
8 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)
3 TYPO3\Flow\Http\RequestHandler::boot()
2 TYPO3\Flow\Http\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>

I stepped through the source code and debugged it a bit and the reason for the problem I think is the @var Annotation  of the followng properties in the class \TYPO3\Neos\Domain\Service\TypoScriptService

* $prependTypoScriptIncludes
* $appendTypoScriptIncludes


@var array in the format array('resources://MyVendor.MyPackageKey/Private/TypoScript/Root.ts2', 'resources://SomeVendor.OtherPackage/Private/TypoScript/Root.ts2')



While compiling Flow calls the method expandType(...) in TYPO3\Flow\Reflection\ReflectionService to suggest the correct type of the @var annotation:

<pre>
...
// we try to find the class relative to the current namespace...
$possibleFullyQualifiedClassName = sprintf('%s\\%s', $class->getNamespaceName(), $type);
if (class_exists($possibleFullyQualifiedClassName)) {
    return $possibleFullyQualifiedClassName;
}
...
</pre>

For the properties $possibleFullyQualifiedClassName has e.g. the value _\TYPO3\Neos\Domain\Service\array in the format array('resources://MyVendor.MyPackageKey/Private/TypoScript/Root.ts2', 'resources://SomeVendor.OtherPackage/Private/TypoScript/Root.ts2')_ 

The call class_exists(..) for this value breaks the compiling process. 
Maybe the autoloader has a problem with the slashes  ?

After removing the comment on both annotations (leave only @var array ) everything works.







	$possibleFullyQualifiedClassName = sprintf('%s\\%s', $class->getNamespaceName(), $type);
		if (class_exists($possibleFullyQualifiedClassName)) {
			return $possibleFullyQualifiedClassName;
		}expandType"
54308,TYPO3.Neos,Bug,Bug #54392: Installation issues,Closed,Must have,Warning No such file or directory TYPO3_Flow_Error_Exception.php / no setup possible,Wolfgang Klinger,"",2014-10-02 05:37,"","",2013-12-10,"","",0,2013-12-10 14:02,"","",1461950,"","after first install of Neos 1.0
all files writable for webserver user

Darwin azrael 13.0.0 Darwin Kernel Version 13.0.0: Thu Sep 19 22:22:27 PDT 2013; root:xnu-2422.1.72~6/RELEASE_X86_64 x86_64
Apache/2.2.25 (Unix) mod_ssl/2.2.25 OpenSSL/1.0.1e DAV/2 PHP/5.3.27


Warning: include_once(/private/var/www/neos/TYPO3-Neos-1.0.0/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Error_Exception.php) [<a href='function.include-once'>function.include-once</a>]: failed to open stream: No such file or directory in /private/var/www/neos/TYPO3-Neos-1.0.0/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Cache/Backend/SimpleFileBackend.php on line 277
Call Stack
#	Time	Memory	Function	Location
1	0.0002	643568	{main}( )	../index.php:0
2	0.0043	2066448	TYPO3\Flow\Core\Bootstrap->run( )	../index.php:27
3	0.1081	3314888	TYPO3\Setup\Core\RequestHandler->handleRequest( )	../Bootstrap.php:113
4	0.2284	4722912	TYPO3\Flow\Http\RequestHandler->boot( )	../RequestHandler.php:63
5	0.2292	4784376	TYPO3\Flow\Core\Booting\Sequence->invoke( )	../RequestHandler.php:160
6	0.2292	4784376	TYPO3\Flow\Core\Booting\Sequence->invokeStep( )	../Sequence.php:85
7	0.2294	4821256	TYPO3\Flow\Core\Booting\Sequence->invokeStep( )	../Sequence.php:105
8	0.4490	5661200	TYPO3\Flow\Core\Booting\Sequence->invokeStep( )	../Sequence.php:105
9	0.4699	6405896	TYPO3\Flow\Core\Booting\Sequence->invokeStep( )	../Sequence.php:105
10	0.4730	6732920	TYPO3\Flow\Core\Booting\Sequence->invokeStep( )	../Sequence.php:105
11	0.4738	6809768	TYPO3\Flow\Core\Booting\Sequence->invokeStep( )	../Sequence.php:105
12	0.4738	6809768	TYPO3\Flow\Core\Booting\Step->__invoke( )	../Sequence.php:101
13	0.4738	6809816	call_user_func ( )	../Step.php:49
14	0.4738	6809848	TYPO3\Flow\Core\Booting\Scripts::initializeObjectManager( )	../Step.php:49
15	0.4738	6810240	TYPO3\Flow\Core\ClassLoader->loadClass( )	../Step.php:0
16	0.4738	6810344	TYPO3\Flow\Cache\Frontend\PhpFrontend->requireOnce( )	../ClassLoader.php:96
17	0.4738	6810344	TYPO3\Flow\Cache\Backend\SimpleFileBackend->requireOnce( )	../PhpFrontend.php:106
18	0.4738	6812424	TYPO3\Flow\Error\ErrorHandler->handleError( )	../PhpFrontend.php:277
19	0.4739	6813968	class_exists ( )	../ErrorHandler.php:76
20	0.4739	6814360	TYPO3\Flow\Core\ClassLoader->loadClass( )	../ErrorHandler.php:0
21	0.4739	6814456	TYPO3\Flow\Cache\Frontend\PhpFrontend->requireOnce( )	../ClassLoader.php:96
22	0.4739	6814456	TYPO3\Flow\Cache\Backend\SimpleFileBackend->requireOnce( )"
54296,TYPO3.Neos,Bug,"",Closed,Should have,Login page redirects to /neos/neos/login - adding base tag helps,Mathias Bolt Lesniak,Bastian Waidelich,2013-12-18 07:55,"","",2013-12-09,"","",0,2013-12-09 13:24,"","",1461350,"","Hi!

After upgrading a Neos install from beta1 to beta2 I had an issue where the Neos login would redirect me to domain.local/neos/neos/login. This made it impossible to log in. The issue was fixed by adding @<f:base />@ to the Login Page Template at TYPO3.Neos/Resources/Private/Templates/Login/Index.html.

In my changed version the ""head"" section looks like this:

<pre>
<f:section name=""head"">
	<title>TYPO3 Neos Login</title>
	<f:base />
	<link rel=""stylesheet"" href=""{f:uri.resource(path: 'Styles/Login.css')}"" />
	<script src=""{f:uri.resource(path: 'Library/jquery/jquery-1.10.2.js')}""></script>
	<script src=""{f:uri.resource(path: 'Library/jquery-ui/js/jquery-ui-1.10.3.custom.js')}""></script>
</f:section>
</pre>

Patch attached.



- Mathias"
54224,TYPO3.Neos,Bug,"",Closed,Should have,Searchbox looses focus with results appearing,Tanel Põld,"",2014-10-02 06:40,UI,"",2013-12-06,"","",0,2013-12-06 06:00,"","",1458150,"","Typing ""A"" and waiting for a bit it shows first results and removes focus from search box. Need to click the search box again to gain back focus to continue typing.
I think focus should remain until I select desired result by clicking on it."
54222,TYPO3.Neos,Bug,"",Closed,Should have,No user readable error message for missing database,Christopher Hlubek,"",2014-10-01 16:02,"","",2013-12-06,"","",0,2013-12-06 05:32,"","",1458050,"","If a database is configured but not existing a request to the frontend causes a cryptic stacktrace:

<pre>
Uncaught Exception in Flow
#1297759968: Exception while property mapping for target type ""TYPO3\TYPO3CR\Domain\Model\Node"", at property path """": The database which was specified in the configuration does not exist.
More information

TYPO3\Flow\Property\Exception thrown in file
/Users/hlubek/Dev/Neos/TYPO3-Neos-master/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Property_PropertyMapper.php in line 119.
Reference code: 20131206112950f5b241

Nested Exception
#1049: The database which was specified in the configuration does not exist.
More information

TYPO3\Flow\Persistence\Doctrine\Exception\DatabaseConnectionException thrown in file
/Users/hlubek/Dev/Neos/TYPO3-Neos-master/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Persistence_Doctrine_Query.php in line 159.
Reference code: 201312061129503b3954

Go to the FORGE issue tracker and report the issue - if you think it is a bug!
</pre>

It seems to be caused by the property mapping nesting the underlying DatabaseException which won't be displayed using a nice exception handler then."
54221,TYPO3.Neos,Bug,"",Closed,Should have,CSS position: fixed; elements hidden behind the UI,Tanel Põld,"",2014-10-04 06:11,UI,"",2013-12-06,"","",0,2013-12-06 05:28,"","",1458000,"",".menu {
    position: fixed;
    top: 40px;
    left: 0px;
}

This item will be hidden behind the user interface, Navigation tab and Context Bar in header. 
Shouldn't <body> be fully shown in content editing area?"
54217,TYPO3.Neos,Bug,"",Closed,Should have,"Using ""(/)"" as defaultUriSuffix only works for top-level pages",Andreas Wolf,Bastian Waidelich,2014-02-10 04:59,"","",2013-12-05,"","",0,2013-12-05 11:05,"","",1457800,"","We've got an existing site on Neos that used to have URLs ending in ""/"". When upgrading to a recent Neos master (about two weeks ago), the URLs changed to "".html"". On 1.0 Beta 2, we have set ""defaultUriSuffix"" in Routes.yaml to ""(/)"" (""/"" was not accepted because the routing mechanism generally does not like routes ending in a slash).

This works fine for pages directly beneath the site root, but pages inside a subpage are not found. The system log says something like this:

<code>
13-12-05 17:02:23 32682      NOTICE    Flow                 Router route(): No route matched the route path ""subpage/subsubpage/"".
13-12-05 17:02:23 32682      DEBUG     Flow                 No CSRF required, safe request
13-12-05 17:02:23 32682      CRITICAL  Flow                 Uncaught exception #1303209195 in line 74 of /data/www/mysite/Data/Temporary/Development/SubContextThinkpad/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Dispatcher.php: No controller could be resolved which would match your request. Package key: """", controller name: ""Standard"". (GET http://dev.mysite.localsite/subpage/subsubpage/) - See also: 2013120517022324e652.txt
</code>

I'm a bit clueless where to exactly look for this bug. When setting @defaultUriSuffix@ to "".html"", ""http://dev.mysite.localsite/subpage/subsubpage.html"" is found."
54210,TYPO3.Neos,Bug,"",Resolved,Should have,Dateselector goes forward but not backwards,Thomas Hempel,"",2013-12-22 05:36,UI,"",2013-12-05,"","",100,2013-12-05 06:41,"","",1457450,"","I know that Neos is for the future but it would be cool if the dateselector in the inspector could go back in time. ;-)

Seriously, only the arrow to the right works. The arrow to the left (go back in time) also goes forward."
54209,TYPO3.Neos,Bug,"",Closed,Should have,"""paste after"" ends with error in 1.0 beta 2",Andreas Neumann,"",2014-10-01 08:33,"","",2013-12-05,"","",0,2013-12-05 05:35,"","",1457400,"","I get an error every time I cut/copy an element and try to paste it after another element.
No matter if I use the tree- or the site-view itself.

After a browser-reload the element shows up at its expected position. 

ExtDirect error: Uncaught exception #1301610453 (ref 20131205111814ab098d) - Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details.

Errorlog:
Uncaught exception #1301610453 in line 354 of /Users/andreas/Sites/typo3.org/TYPO3.Neos/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Routing_UriBuilder.php: Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details.

34 TYPO3\Flow\Mvc\Routing\Router_Original::resolve(array|5|)
33 TYPO3\Flow\Mvc\Routing\UriBuilder_Original::build(array|5|)
32 TYPO3\Flow\Mvc\Routing\UriBuilder_Original::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"", NULL)
31 TYPO3\Flow\Mvc\Routing\UriBuilder::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"", NULL)
30 call_user_func_array(array|2|, array|5|)
29 TYPO3\Flow\Mvc\Routing\UriBuilder::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
28 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
27 TYPO3\Neos\Aspects\PluginUriAspect_Original::rewritePluginViewUris(TYPO3\Flow\Aop\JoinPoint)
26 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
25 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
24 TYPO3\Flow\Mvc\Routing\UriBuilder::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"")
23 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController_Original::moveAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""into"")
22 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::moveAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""into"")
21 call_user_func_array(array|2|, array|3|)
20 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)
17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
15 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::moveAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""into"")
14 call_user_func_array(array|2|, array|3|)
13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()
12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
9 call_user_func_array(array|2|, array|2|)
8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
2 TYPO3\ExtJS\ExtDirect\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()"
54192,TYPO3.Neos,Bug,"",Closed,Must have,Menus don't respect deleted pages,Thomas Hempel,Bastian Waidelich,2013-12-04 12:43,"",1.0 beta 2,2013-12-04,"","",0,2013-12-04 05:05,"","",1456550,"","The menu render object seems not to ignore deleted pages. It's really easy to render single pages unusable:

1) Create a site ""foo""
2) Create a site ""bar""
3) Delete site ""foo""
4) Rename URL name of site ""bar"" to ""foo""

This crashes horribly as it makes the entire site unusable.

If you try to delete the malicous page ""bar"", you'll get an exception for ""non-unique"" paths. ""/yoursite/foo"" still exists but now twice. 

The FE doesn't render any more. At least in my case. I used the demo site package. Publishing button doesn't work anymore.

The site itself can not be deleted nor can the name be changed as the backend will not load anything.

This is very critical."
54187,TYPO3.Neos,Bug,"",Resolved,Should have,Router ignores default Suffix from browser,Thomas Hempel,Bastian Waidelich,2014-02-25 18:36,"","",2013-12-04,"","",100,2013-12-04 03:59,"","",1456300,"","Since Neos beta 2 one has to set the defaultUriSuffix. If you set it to .html all links will be created like ""page1.html"", ""page2.html"" etc. So far so good. 

But if you enter an address like ""page1.jgsdhjgasjdhg"" or ""page2.FooBarBaz"" in your browser, the page is still displayed despite the wrong suffix. You can just enter anything. Only the name is processed. This behavior is rather unexpected. An unknown suffix should at least return a 404 status.

Best wishes,
Thomas

-P.S.: Sorry if this is in the wrong project. Not sure where to put. It seems like a routing problem and not Neos specific.-"
54186,TYPO3.Neos,Bug,"",Closed,Should have,Setup fails after cache generation with internal server error (beta2),Thomas Hempel,"",2014-10-02 06:24,"","",2013-12-04,"","",0,2013-12-04 03:54,"","",1456250,"","When setting up a new installation and follow the instructions from the website you probably run into an internal server error.

I'm not entirely sure what causes the problem, but it's very likely either a missing Settings.yaml or wrong file permissions.

The error states that the argument ""partial"" was not registered."
54171,TYPO3.Neos,Task,"",Resolved,Should have,Configure Behat to use saucelabs for behavior tests,Irene Höppner,Irene Höppner,2014-08-26 05:00,"","",2013-12-03,"","",100,2013-12-03 10:30,"","",1455500,"",""
54137,TYPO3.Neos,Task,Task #53046: Reduce generated code of ContentElementWrappingService,Resolved,Should have,Deprecate ContentElement ViewHelper,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:43,"",1.0 beta 2,2013-12-02,"","",100,2013-12-02 10:10,"","",1453800,"","In order to simplify content element templates, the ContentElement ViewHelper should not be required.
Instead all required meta data attributes should be added via a TS processor.

Old Template:
<pre>
<code class=""html"">
<neos:contentElement node=""{node}"">
  {someProperty}
</neos:contentElement>
</code>
</pre>

New Template:
<pre>
<code class=""html"">
<div>
  {someProperty}
</div>
</code>
</pre>


For B/C reasons the ContentElement ViewHelper should still render a tag."
54016,TYPO3.Neos,Task,Task #53046: Reduce generated code of ContentElementWrappingService,Resolved,Should have,Introduce Content TypoScript object,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:43,TypoScript,1.0 beta 2,2013-11-27,"","",100,2013-11-27 13:14,"","",1447850,"","From #53046:

* Introduce new *Content* TS Object: prototype(TYPO3.Neos:Content) < TYPO3.TypoScript:Template
* Deprecated *TYPO3.Neos:Template*: prototype(TYPO3.Neos:Template) < TYPO3.Neos:Content // DEPRECATED
* Make Plugin(View) extend *Content*: prototype(TYPO3.Neos:Plugin) <  TYPO3.Neos:Content"
53990,TYPO3.Neos,Bug,"",Closed,Should have,"Create new user - Required argument ""roleIdentifier"" is not set.",Krzysztof Adamczyk,"",2014-10-01 13:11,"","",2013-11-26,"","",0,2013-11-26 14:40,"","",1446600,"","Hi Neos team;

When i want create new user and I not choose ""Role"" i received error ""#1298012500: Required argument ""roleIdentifier"" is not set."""
53989,TYPO3.Neos,Bug,"",Resolved,Must have,user workspace must not be configurable,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:43,"",1.0 beta 2,2013-11-26,"","",100,2013-11-26 12:54,"","",1446550,"","The user workspace is currently determined via
<pre>
<code class=""php"">
$user = $this->securityContext->getPartyByType('TYPO3\Neos\Domain\Model\User');
$userWorkspaceName = $user->getPreferences()->get('context.workspace');
</code>
</pre>

This is error-prone and - as user preferences can be changed by the user - a security flaw.
I'd suggest following measures:

h3. Get rid of the UserPreference entity

* This is just a serialized array, that could be in the user model - if we need it at all
* It is currently used for ""context.workspace"" and ""contentEditing.wireframeMode"" - both of which should not be in there

h3. Centralize the users workspace logic

There is already *UserService::getCurrentWorkspace()* that could do what currently *UserFactory::create()* does:

<pre>
<code class=""php"">
$workspaceName = 'user-' . preg_replace('/[^a-z0-9]/i', '', $username);
</code>
</pre>

Even though this method is not yet called *once* in our code base."
53947,TYPO3.Neos,Task,"",Closed,Should have,Misleading behaviour in MAMP PRO,Pascal no-lastname-given,"",2014-10-04 08:00,"","",2013-11-25,"","",0,2013-11-25 10:18,"","",1444450,"","In my MAMP PRO install most of the cli ./flow commands I used ran into memory problems: PHP Fatal error:  Allowed memory size of 33554432 bytes exhausted.
After raising the limit several times, even up to 640M, the problem remained.

After some digging around I found out MAMP PRO uses a different php.ini for cli commands.
Not a FLOW or Neos problem but this might be worth mentioning in the docs, preventing a lot of frustration and broken keyboards.... ;-)"
53888,TYPO3.Neos,Bug,"",Closed,Should have,Shortcuts should show the content of the target node.,Alexander Schnitzler,"",2014-10-02 06:36,"",1.0 beta 1,2013-11-22,"","",0,2013-11-22 12:10,"","",1441500,"","I made a short screencast to show you the behaviour I think is a bug in Neos.

https://www.youtube.com/watch?v=NCaaSAipmpo"
53883,TYPO3.Neos,Bug,"",Resolved,Should have,Mismatched anonymous define() module,Alexander Schnitzler,"",2014-03-04 09:35,JavaScript,1.0 beta 1,2013-11-22,"","",100,2013-11-22 10:35,"","",1441250,"","Using the javascript of foundation, requirejs does not work properly.

<pre>
Uncaught Error: Mismatched anonymous define() module: function (){return e}
http://requirejs.org/docs/errors.html#mismatch require.js:8
B require.js:8
M require.js:15
(anonymous function) require.js:26
</pre>

However, in the ""frontend"" my website just works fine, using neos the error occures and the whole interface of neos is not being loaded at all."
53876,TYPO3.Neos,Bug,"",Closed,Should have,Setup fails with Internal server error,Pascal no-lastname-given,"",2014-10-02 07:26,"","",2013-11-22,"","",0,2013-11-22 09:03,"","",1440900,"","When trying to install beta1 into a new database which name contains a blank (or any other invalid character?), the setup terminates after the 'Create an administrator account' screen displaying an Internal Server Error. 

The error log shows: 'Allowed memory size of xxxx bytes exhausted' and the first line of the stack trace file:
---
Uncaught exception #1353085860 in line 53 of /www/TYPO3-Neos-1.0/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Security_AccountFactory.php: The role with identifier ""TYPO3.Neos:Administrator"" is unknown
---
(stack trace attached)

[workaround: remove the blank in the DB]


"
53822,TYPO3.Neos,Feature,"",New,Should have,Show nice error page for inaccessible nodes,Pankaj Lele,"",2013-11-21 04:03,"","",2013-11-21,"","",0,2013-11-21 04:03,"","",1438200,"","When a node is set with accessRoles and if somehow user reach this node and not matching the role then user see a error like ""An error occurred while trying to call TYPO3\Neos\Controller\Frontend\NodeController->showAction(). Error for node: Could not convert array to Node object because the node ""/sites/xxx/xxx/xxx"" does not exist."" on a white page. 

Currently I am handling this with an Aspect to catch this validation error and redirect user to page which shows access denied message OR just add a flash message. But a better way could be there with the core itself. 

<pre>
/**
	 * Intercepts NodeController->errorAction()
	 *
	 * When a Node is not accessible node is not found error is displayed.
	 * This function will see if certain error number is found and then redirect
	 * user to login form and block call of errorAction(). For other errors errorAction()
	 * is called normally.
	 *
	 * @Flow\Around(""method(TYPO3\Neos\Controller\Frontend\NodeController->errorAction())"")
	 * @param \TYPO3\Flow\Aop\JoinPointInterface $joinPoint The current join point
	 * @return void
	 */
	public function redirectIfNodeInaccessible(\TYPO3\Flow\Aop\JoinPointInterface $joinPoint) {
		/** @var $nodeController \TYPO3\Neos\Controller\Frontend\NodeController */
		$nodeController = $joinPoint->getProxy();
		/** @var $arguments \TYPO3\Flow\Mvc\Controller\Arguments */
		$arguments = ObjectAccess::getProperty($nodeController, 'arguments', TRUE);
		$nodeInaccessibleError = FALSE;
		$message = '';
		foreach ($arguments->getValidationResults()->getFlattenedErrors() as $propertyPath => $errors) {
			foreach ($errors as $error) {
				/** @var $error \TYPO3\Flow\Error\Error */
				if ($error->getCode() === 1370502328) {
					$nodeInaccessibleError = TRUE;
					$message = $error->getMessage();
					break;
				}
			}
		}
		if ($nodeInaccessibleError) {
			// redirect user
			// or add flash message

		} else {
			// proceed to executing errorAction normally
			$joinPoint->getAdviceChain()->proceed($joinPoint);
		}
	}
</pre>"
53706,TYPO3.Neos,Bug,"",Closed,-- undefined --,Exception is thrown when deleting a package,Alexander Schnitzler,"",2014-10-02 07:30,"","",2013-11-16,"","",0,2013-11-16 14:51,"","",1432450,"","<pre>
Warning: Invalid argument supplied for foreach() in /vagrant/src/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_ExtJS_ViewHelpers_ExtDirect_ProviderViewHelper.php line 82
26 TYPO3\Flow\Error\ErrorHandler::handleError(2, ""Invalid argument supplied for foreach()"", ""/vagrant/src/Data/Temporary/Development/Cache/Code?ExtJS_ViewHelpers_ExtDirect_ProviderViewHelper.php"", 82, array|7|)

25 TYPO3\ExtJS\ViewHelpers\ExtDirect\ProviderViewHelper_Original::render(NULL)

24 call_user_func_array(array|2|, array|1|)

23 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

22 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

21 FluidCache_TYPO3_Neos_Backend_Module_action_index_e5d94aac4b8f32829465a631d7d1b4c318a963b7::section_1a954628a960aaef81d7b2d4521929579f3541e6(TYPO3\Fluid\Core\Rendering\RenderingContext)

20 TYPO3\Fluid\View\AbstractTemplateView::renderSection(""head"", array|1|, FALSE)

19 TYPO3\Fluid\ViewHelpers\RenderViewHelper_Original::render(""head"", NULL, array|0|, FALSE)

18 call_user_func_array(array|2|, array|4|)

17 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::callRenderMethod()

16 TYPO3\Fluid\Core\ViewHelper\AbstractViewHelper::initializeArgumentsAndRender()

15 FluidCache_TYPO3_Neos_Backend_Module_layout_Default_ca54c0e07492b77ea6d2b6f96f6985c19d16d85d::render(TYPO3\Fluid\Core\Rendering\RenderingContext)

14 TYPO3\Fluid\View\AbstractTemplateView::render()

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Flow\Http\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()
</pre>

Working on beta1"
53704,TYPO3.Neos,Bug,"",Closed,Must have,compiled CSS files still contains SASS code,Benjamin Albrecht,"",2014-10-01 06:38,"","",2013-11-16,"","",0,2013-11-16 14:03,"","",1432350,"","The compiled and delivered CSS Files in the public resources still contains uncompiled SASS Code:

e.g. Includes-build.css line 160ff:

<pre>
[...]
.neos {
  
  
  
  @-moz-keyframes spin {
    0% {
      -moz-transform: rotate(0deg);
    }
    100% {
      -moz-transform: rotate(359deg);
    }
}
[...]
</pre>"
53703,TYPO3.Neos,Bug,"",Closed,Should have,Creating links just works for absolute urls,Alexander Schnitzler,Bastian Waidelich,2013-11-18 06:37,"","",2013-11-16,"","",0,2013-11-16 14:03,"","",1432300,"","Don't know if this should work already but imho it's not possible to link to something different than an absolute url. I would like to link to one of my pages, how do I do this?

Working on master, some commits after beta1."
53644,TYPO3.Neos,Bug,"",Resolved,Should have,createAndRender() fails to render element added to Carousel,Karsten Dambekalns,Christian Müller,2013-12-12 04:54,"","",2013-11-14,"","",0,2013-11-14 14:08,"","",1429350,"","The first image element added to a Carousel element is rendered as expected (dummy image). The request sent to callAndRender() is this (edited for clarity):

<pre>""data"": [
  ""/sites/jounal/home/tech/on-the-go/back-to-the-future/main/node52851b1557c8b/carouselItems@user-username"", 
  ""pageArticle<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/journalCommonsArticle<TYPO3.TypoScript:Matcher>/element<Journal.Commons:Article>/main<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>/
element<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>/element<Journal.Commons:Carousel>/carouselItems<TYPO3.Neos:ContentCollection>"",
  {""nodeType"": ""TYPO3.Neos.NodeTypes:Image"", ""properties"": {}},
  ""into""
]</pre>

The second image, regardless of it being added after the existing image or to the Carousel's content collection fails to render and shows an exception:

<pre>Failed to render element
pageArticle<TYPO3.Neos:Page>/
body<TYPO3.TypoScript:Template>/
content/
main<TYPO3.Neos:PrimaryContent>/
journalCommonsArticle<TYPO3.TypoScript:Matcher>/
element<Journal.Commons:Article>/
main<TYPO3.Neos:ContentCollection>/
itemRenderer<TYPO3.Neos:ContentCase>/
default<TYPO3.TypoScript:Matcher>/
element<Journal.Commons:Carousel>/
carouselItems<TYPO3.Neos:ContentCollection>/
itemRenderer<TYPO3.Neos:ContentCase>/
default<TYPO3.TypoScript:Matcher>/
element<TYPO3.Neos:ContentCollection>/
itemRenderer<TYPO3.Neos:ContentCase>/
default<TYPO3.TypoScript:Matcher>/
element<TYPO3.Neos.NodeTypes:Image>
$subject must be an object or array, NULL given.</pre>

The request sent in that case is this:

<pre>""data"": [
  ""/sites/journal/home/tech/on-the-go/back-to-the-future/main/node52851b1557c8b/carouselItems/node52851b354c080@user-username"", 
  ""pageArticle<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/content/main<TYPO3.Neos:PrimaryContent>/journalCommonsArticle<TYPO3.TypoScript:Matcher>/element<Journal.Commons:Article>/main<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>
/element<Journal.Commons:Carousel>/carouselItems<TYPO3.Neos:ContentCollection>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.NodeTypes:Image>"",
  {""nodeType"": ""TYPO3.Neos.NodeTypes:Image"", ""properties"": {}},
  ""before""
]</pre>

All as expected (into the carouselItems first, then before a node in the carouselItems), except the typoscriptPath argument, which looks really weird."
53624,TYPO3.Neos,Bug,"",Closed,Should have,CSS - Misplaced .neos-inspector-image-width/height checkmarks,Andreas Sander,"",2014-10-02 06:23,Frontend,"",2013-11-13,"","",0,2013-11-13 16:00,"","",1428450,"","The checkmarks for the width, respectively the height, of a choosen image are misplaced in Firefox (at least v25.0).

Fix:

A @position:relative;@ is needed for the checkmark container div (@.neos-input-prepend neos-input-append@).

Hence adding the @position:relative;@ to the rule @.neos #neos-inspector .neos-inspector-form .neos-input-prepend, .neos #neos-inspector .neos-inspector-form .neos-input-append@ (_Includes-built.css, Line 6490_) for Beta 1 of Neos should fix it."
53611,TYPO3.Neos,Bug,"",Resolved,Should have,Markup is lost upon publishing,Tim Kandel,"",2013-12-13 02:03,"","",2013-11-13,"","",100,2013-11-13 08:53,"","",1427800,"","Reproduce: Add a new text element to your site and create a table within. Fill it with data and publish it: all <table> markup is gone.

This is also happens if you try to align text."
53610,TYPO3.Neos,Task,Task #48071: Navigate component,Resolved,Should have,Navigate component breaks when changing a parent node name,Bastian Waidelich,Mattias Nilsson,2013-12-10 12:36,UI,"",2013-11-13,"","",100,2013-11-13 08:41,"","",1427750,"","When moving/renaming a node in the backend, the content is reloaded and it's href is updated in the navigate component. However if that node has child document nodes, those still point to the old URI.
Refreshing the page fixes the issue, but the navigate component should refresh itself (or at least invoke a complete browser refresh)"
53609,TYPO3.Neos,Task,"",Resolved,Should have,Improve homepage migration,Bastian Waidelich,Bastian Waidelich,2013-12-08 20:37,"","",2013-11-13,"","",100,2013-11-13 08:24,"","",1427700,"","With #53381 the site node of a Neos installation acts as entry point for a site.
Migrating previous sites (or importing an ""old"" Sites.xml) turns the site node to a shortcut.

In addition this shortcut should be ""hidden in index"" and get a title (= site name) by default."
53586,TYPO3.Neos,Bug,"",Resolved,Must have,Unable to use left menu in Firefox 26 on Winows,Christopher Seidel,"",2014-07-02 05:41,JavaScript,"",2013-11-13,"","",100,2013-11-13 04:04,"","",1426550,"","Hi,

since beta 1 the left menu doesnt work on properly in a Firefox 26. The menu hides whenever i try to go to a menu element with the mouse.

In the alpha version the menu works fine.
"
53582,TYPO3.Neos,Task,Task #48071: Navigate component,Closed,Should have,Node Type Filter: ExtDirect Error,Thierry Brodard,"",2014-10-04 04:54,JavaScript,"",2013-11-13,"","",0,2013-11-13 03:27,"","",1426350,"","When choosing for example ""Shortcut"" in the ""node type filter"" (I presume it's called like this), the filter doesn't work, and an ExtDirect error is displayed (see !neos_node_type_filter.png!"
53559,TYPO3.Neos,Task,"",New,Should have,Fine tune page redirection after pasting a node,Rens Admiraal,"",2013-11-12 08:33,"","",2013-11-12,"","",0,2013-11-12 08:33,"","",1425200,"","Currently Neos redirects the user to the parent document to which the node was pasted. This seems to be the best behaviour, but causes issues if a node is pasted in a collection that is actually positioned on another page. This could for example when a static footer is used that stores the nodes for the footer on the homepage, but enables editing of the footer on subpages too. In this usecase the user would be redirected to the homepage if a node is pasted into the footer.
"
53463,TYPO3.Neos,Bug,"",Closed,Should have,Nested Child Nodes for new node creation,Torsten no-lastname-given,"",2014-10-02 05:17,"","",2013-11-08,"","",0,2013-11-08 11:38,"","",1420400,"","hey,
it would be great if we could define a node type that automatically creates nested child nodes. For example a page type that automatically creates a main content collection (as it does atm) which is repopulated with a two column layout node.


Could look something like this in NodeTypes.yaml:

<pre>
'MyPackage:BlogPage':
  superTypes: ['TYPO3.Neos:Document']
  childNodes:
    main:
      type: 'TYPO3.Neos:ContentCollection'
      childNodes:
        twoColumnLayout:
          type: 'TYPO3.Neos.NodeTypes:TwoColumn'
</pre>

What do you think? "
53448,TYPO3.Neos,Bug,"",Resolved,Should have,Outgoing routes are not cached,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:43,"",1.0 beta 2,2013-11-08,"","",100,2013-11-08 06:09,"","",1419650,"",URIs to nodes can't be cached because they contain an argument of type NodeInterface which can't be serialized by the UriBuilder.
53411,TYPO3.Neos,Bug,"",Closed,Must have,Discarding changes in workspace manager with column content does not work,Sascha Wilking,"",2014-10-04 04:53,"","",2013-11-07,"","",0,2013-11-07 07:36,"","",1417850,"","Hi, 

i have following scenario:
1. I have added a multi column element (three columns) in my page
2. Then i filled the columns with some content.
3. After that i accidently deleted this multi column container and wanted to recover it through workspace manager.
4. I discarded all the changes with workspace manager. But it restored only the column container but not the columns with the content.

we would expect the columns to be restored as well.

thanks

"
53381,TYPO3.Neos,Feature,"",Resolved,Should have,Allow the site node to contain content,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:44,Content Model,1.0 beta 2,2013-11-06,"","",100,2013-11-06 09:54,"","",1416350,"","Neos has no notion of an initial landing page (e.g. homepage).
When accessing the root page (""http://www.yourdomain.tld/"") you actually get a representation of the *primary child node* of the resolved site node.
The magic happens in the @FrontendNodeRoutePartHandler@:
<pre>
<code class=""php"">
$node = ($relativeNodePath === '') ? $siteNode->getPrimaryChildNode() : $siteNode->getNode($relativeNodePath);
</code>
</pre>

This is a problem for several reasons:

* When linking to the homepage, f.e. using Fluid: node.uri(node: '~'), Neos will create an URI ""/home.html""
* The content of ""/"" is the same as ""/home.html"" which is bad SEO-wise
* The homepage will be on the same level as other pages in the navigation tree which is wrong."
53347,TYPO3.Neos,Bug,"",Resolved,Should have,Revise Neos Routes,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:40,"",1.0 beta 2,2013-11-05,"","",100,2013-11-05 08:04,"","",1414650,"","The Routes.yaml of the TYPO3.Neos package contains some too generic rules. This leads to the situation that the "".html"" suffix can be omitted from all frontend URIs creating lots of duplicate cache entries and ""non-canonical"" URLs.
Besides, we use @appendExceedingArguments@ far too often restricting the future flexibility.

We should make use of new Routing features such as ""nested subRoutes"" and ""HTTP method constraints"" to make the routing setup easier to adjust"
53330,TYPO3.Neos,Bug,"",Resolved,Should have,Renaming site root node throws Exception,Alexander Stehlik,Bastian Waidelich,2014-01-06 10:31,"","",2013-11-05,"","",100,2013-11-05 03:01,"","",1413800,"","When you try to rename the site root node in the sites administration you will get an Exception:

> #1364290748: Invalid node name ""My new site name"" (a node name must only contain characters, numbers and the ""-"" sign).

Reason for this is that the site name is used for the new node name instead of the node name.

Additinally it would be nicer when the user gets a validation error and no Exception when he uses an invalid node name."
53321,TYPO3.Neos,Feature,"",Resolved,Should have,Auto-generate TypoScript code for node types,Christopher Hlubek,Christopher Hlubek,2013-11-11 12:36,"","",2013-11-04,"","",100,2013-11-04 12:43,"","",1413350,"","A new or changed node type needs an according change to the TypoScript code. To make this process as easy as possible the basic TypoScript code for rendering nodes should be auto-generated.

* Reduce the overhead when implementing node types
* Have extensible TypoScript objects per default, instead of using @{node.properties.example}@ as a shortcut
* No rendering errors because of missing TypoScript definitions
"
53318,TYPO3.Neos,Feature,"",New,Could have,Configuration to automatically reload the page if a new content element is added,Torsten no-lastname-given,"",2013-11-04 11:29,"","",2013-11-04,"","",0,2013-11-04 11:29,"","",1413200,"","It would be great if the page could be automatically reloaded after a new content element is added to a contentCollection. This should be configurable in NodeTypes.yaml exactly like ""reloadIfChanged: TRUE"" for properties but for childNodes.

My use case:
I've created a nice slider element that uses the content elements of a content collection as slides. The indicators and transitions are based on the number of elements. After a (currently manually) page reload, all slides are perfectly in place. "
53317,TYPO3.Neos,Bug,"",Resolved,Must have,Workspace module throws error after deleting / renaming a page,Torsten no-lastname-given,Bastian Waidelich,2013-12-11 14:29,"",1.0,2013-11-04,"","",0,2013-11-04 11:23,"","",1413150,"","After deleting / renaming a page with unpublished changes, I receive an error in TYPO3\Neos\Controller\Module\Management\WorkspacesController on line 98 saying that $document is null.
Only solution is to manually delete the row from typo3_typo3cr_domain_model_nodedata.

Deleting or renaming a node should undate the path in nodeData or something like this."
53316,TYPO3.Neos,Bug,"",Closed,Must have,"JS Exception ""TypeError: 'undefined' is not a function (evaluating 'Aloha.ready(function(){e.enableEdit()})')""",Torsten no-lastname-given,Hubertus Golf,2014-10-01 11:56,"",1.0 alpha 8,2013-11-04,"","",0,2013-11-04 11:19,"","",1413100,"","I'm receiving this error very often but not all the time. Seems like a race condition:


@TypeError: 'undefined' is not a function (evaluating 'Aloha.ready(function(){e.enableEdit()})')@"
53276,TYPO3.Neos,Bug,"",Closed,Should have,Uncaught TypeError: Cannot call method 'replace' of undefined (ContentModule-built.js),Andreas Sander,"",2014-10-04 07:08,JavaScript,"",2013-11-01,"","",0,2013-11-01 16:01,"","",1411100,"","The JS Error:

@Uncaught TypeError: Cannot call method 'replace' of undefined@

inside _ContentModule-built.js_ occurs after:

# Creating a new image element
# Click on the placeholder image inside to change it
# Click on an image inside the media explorer

@define(""Shared/Utility"", [""emberjs""], function(e) {
    return e.Object.extend({isValidJsonString: function(e) {
    return !/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(e.replace(/""(\\.|[^""\\])*""/g, """"))
}}).create()@ 

e seems to be undefined here while trying to access it."
53265,TYPO3.Neos,Bug,"",New,Could have,'window.webkitStorageInfo' is deprecated (ContentModule-built.js:299),Andreas Sander,"",2013-11-01 08:11,"","",2013-11-01,"","",0,2013-11-01 08:11,"","",1410550,"","Following warning appears inside Google Chrome (30.0.1599.101) on Mavericks.

@'window.webkitStorageInfo' is deprecated. Please use 'navigator.webkitTemporaryStorage' or 'navigator.webkitPersistentStorage' instead. (ContentModule-built.js:299)@

The Chrome team ""updated the Quota API Code"":https://code.google.com/p/chromium/issues/detail?id=197116 to match the ""_W3C_ spec"":http://www.w3.org/TR/quota-api/

> We'll keep supporting the old API (with a deprecation message) and we have sometime before the change actually hits stable, but wanted to give a heads-up that the documentation needs to be updated.

So maybe Neos should also use the new API."
53264,TYPO3.Neos,Bug,"",New,Should have,Overlapping click events on an element in the structure sidebar,Andreas Sander,"",2013-11-01 07:53,Frontend,"",2013-11-01,"","",0,2013-11-01 07:49,"","",1410500,"","I use Mac OS X 10.9 (Mavericks), Chrome v. 30.0.1599.101 and the last Neos Alpha 7.

When I create an element with the help of the buttons at the top of the structure sidebar, the element is created. 

Everything is fine. But when I click on the freshly added element (linked to /home/main/nodeXYZ) the behavior is strange:

* Often a redirect to this Node URI occurs and it's showing me the right inspector context, based on the element I clicked on. But I further stepped into a new level, regarding the structure tree, which I didn't want.
* Sometimes I get redirected to the root page

But sometimes it works as expected: The clicked element is outlined inside the view and I get the right inspector context to edit the element."
53260,TYPO3.Neos,Feature,"",Closed,Should have,Switch from Chosen to Select2,Dominique Feyer,Dominique Feyer,2014-10-02 07:25,"","",2013-11-01,"","",0,2013-11-01 05:12,"","",1410300,"","Replace the current Chosen with Select2 or Chosem, to add support for Icon, and more advanced select.

Or maybe: https://github.com/iest/Chosem"
53258,TYPO3.Neos,Bug,"",Resolved,Should have,rendering of internal links doesn't work,Benjamin Albrecht,Bastian Waidelich,2013-11-01 11:36,TypoScript,"",2013-10-31,"","",100,2013-10-31 17:03,"","",1410200,"","Hi,

the rendering of internal links in text (new feature of alpha7) doesn't work with php 5.3.27 on my mac.

The problem seems to be a call to a protected method in class ""ConvertNodeUrisImplementation"".

Line 82:
<pre>
$self = $this;
return preg_replace_callback(self::PATTERN_NODE_URIS, function(array $matches) use ($self, $node) {
	return $self->convertNodeIdentifierToUri($matches[1], $node);
}, $text);
</pre>
The method ""convertNodeIdentifierToUri()"" is a protected method of class ""ConvertNodeUrisImpementation"".

AFAIK the call of protected methods inside of an anonymous function is not allowed with php 5.3.
After changing the method ""convertNodeIdentifierToUri()"" from protected to public the rendering works fine..."
53107,TYPO3.Neos,Bug,"",Closed,Should have,Headline styling disappears upon publish,Karsten Dambekalns,"",2014-10-01 12:07,UI,1.0 beta 1,2013-10-24,"","",0,2013-10-24 16:09,"","",1402800,"",I recorded a short screencast: https://vimeo.com/77730135
53046,TYPO3.Neos,Task,"",Resolved,Should have,Reduce generated code of ContentElementWrappingService,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:43,Services,1.0 beta 2,2013-11-27,"","",100,2013-10-22 15:47,"","",1399750,0.00,"Rendering content elements currently creates a whole lot of attributes and additional wrapping elements. Especially the latter is an issue because it has an effect on the rendering.

h2. Example of the rendering of a simple headline:

h3. Current output in ""live"" workspace:

<pre>
<code class=""html"">
<div class=""neos-contentcollection"">
	<div class=""neos-contentelement typo3-neos-nodetypes-headline"" id=""c8f734d31-bd9f-4487-bf4d-033ea5c52a4d"">
		<div>
			<h1>Some headline</h1>
		</div>
	</div>
</div>
</code>
</pre>

h3. Expected output in ""live"" workspace:

<pre>
<code class=""html"">
<h1>Some headline</h1>
</code>
</pre>

h3. Current output in ""editor"" workspace:

<pre>
<code class=""html"">
<div class=""neos-contentcollection"" about=""/sites/neosdemotypo3org/home/main@user-admin"" typeof=""typo3:TYPO3.Neos:ContentCollection"" rel=""typo3:content-collection"" data-neos-_typoscript-path=""page&lt;TYPO3.Neos:Page&gt;/body&lt;TYPO3.TypoScript:Template&gt;/content/main&lt;TYPO3.Neos:ContentCollection&gt;"" data-neos-__workspacename=""user-admin"">
	<div class=""neos-contentelement typo3-neos-nodetypes-headline"" id=""c8f734d31-bd9f-4487-bf4d-033ea5c52a4d"" typeof=""typo3:TYPO3.Neos.NodeTypes:Headline"" about=""/sites/neosdemotypo3org/home/main/headline1@user-admin"" tabindex=""0"" data-neos-__workspacename=""user-admin"" data-neos-_typoscript-path=""page&lt;TYPO3.Neos:Page&gt;/body&lt;TYPO3.TypoScript:Template&gt;/content/main&lt;TYPO3.Neos:ContentCollection&gt;/itemRenderer&lt;TYPO3.Neos:ContentCase&gt;/default&lt;TYPO3.TypoScript:Matcher&gt;/element&lt;TYPO3.Neos.NodeTypes:Headline&gt;"" data-neos-_removed=""false"" data-neosdatatype-_removed=""xsd:boolean"" data-neos-_hidden=""false"" data-neosdatatype-_hidden=""xsd:boolean"" data-neos-_hidden-before-date-time="""" data-neosdatatype-_hidden-before-date-time=""xsd:date"" data-neos-_hidden-after-date-time="""" data-neosdatatype-_hidden-after-date-time=""xsd:date"" data-neos-title=""&lt;h1&gt;I'm here to be defaced ;-)&lt;/h1&gt;"" data-neos-__nodetype=""TYPO3.Neos.NodeTypes:Headline"">
		<div property=""typo3:title"" class=""neos-inline-editable""><h1>Some headline</h1></div>
	</div>
</div>
</code>
</pre>

h3. Expected output in ""editor"" workspace (exemplary):

<pre>
<code class=""html"">
<neos-contentcollection data-neos-node-type=""typo3:TYPO3.Neos:ContentCollection"" neos-node-path=""/sites/neosdemotypo3org/home/main"" data-neos-typoscript-path=""page&lt;TYPO3.Neos:Page&gt;/body&lt;TYPO3.TypoScript:Template&gt;/content/main&lt;TYPO3.Neos:ContentCollection&gt;"" data-neos-workspace-name=""user-admin"">
	<h1 data-neos-node-type=""typo3:TYPO3.Neos.NodeTypes:Headline"" neos-node-property=""title"" neos-node-path=""/sites/neosdemotypo3org/home/main/headline1"" data-neos-typoscript-path=""page&lt;TYPO3.Neos:Page&gt;/body&lt;TYPO3.TypoScript:Template&gt;/content/main&lt;TYPO3.Neos:ContentCollection&gt;/itemRenderer&lt;TYPO3.Neos:ContentCase&gt;/default&lt;TYPO3.TypoScript:Matcher&gt;/element&lt;TYPO3.Neos.NodeTypes:Headline&gt;"" tabindex=""0"">Some headline</h1>
</neos-contentcollection>
</code>
</pre>

h2.General ideas (to be discussed!):

* Reduce nesting levels: If the content element contains a root element, modify it instead of adding an additional wrapping tag
* If we need to add a wrapping element, we could use non-existing elements prefixed with @neos-@ (e.g. @neos-contentelement@). This is better to distinguish for the user and it is less immersive because browsers (should) ignore unknown elements.
* only use @data-neos-@-prefixed attributes for consistency. They can be used in CSS selectors, too.
* No need to use underscores in attribute-names (e.g. @data-neosdatatype-_hidden@ as everything prefixed with @neos-@ should be considered ""private""
* Only add attributes for non-defaults (e.g. @data-neos-removed=""false""@ can be omitted)"
53018,TYPO3.Neos,Bug,"",Closed,Should have,"Icons ""ghost""",Rasmus Skjoldan,"",2014-10-01 14:10,"","",2013-10-21,"","",0,2013-10-21 14:21,"","",1398350,"","This occurs ""sometimes"" when I edit content, the icons suddenly get a ""ghost"" clone. It's happened several times. The ghost icons are still there after logging out and in + force reloading the page.

Using Chrome Version 31.0.1650.26 beta"
53017,TYPO3.Neos,Feature,"",Resolved,Should have,Add closest FlowQuery operation,Aske Ertmann,Aske Ertmann,2013-10-28 18:36,TypoScript,1.0 alpha 7,2013-10-21,"","",100,2013-10-21 13:42,"","",1398300,"","We need a way to fetch the nearest node of a certain type, currently we have a lot of loops doing the same in multiple places."
52964,TYPO3.Neos,Bug,"",Resolved,Must have,ActionName can be empty in PluginImplementation,Dominique Feyer,Dominique Feyer,2013-10-20 06:35,TypoScript,"",2013-10-18,"","",100,2013-10-18 14:07,"","",1395650,"","Currently the PluginImplement check the node property action is strictly NULL, but we also need to check if it's empty."
52918,TYPO3.Neos,Feature,"",New,Should have,TYPO3 Neos detailed system requirements,Fedir RYKHTIK,"",2013-11-01 16:09,"","",2013-10-17,"","",0,2013-10-17 07:41,"","",1393350,"","Could You show detailed system requirements to install TYPO3 Neos ?

Maximum what I found is requirements for FLOW3 : http://docs.typo3.org/flow/TYPO3FlowDocumentation/TheDefinitiveGuide/PartII/Requirements.html

But it's quite tiny.

I saw, what Robert develops on Mac, but it's not quite open source, so is there any detailed system requirements to run TYPO3 Neos on Debian or Ubuntu Server ?

Thanks."
52916,TYPO3.Neos,Bug,"",Resolved,Should have,Installation error => Exception => Use of undefined constant LIBXML_PARSEHUGE,Fedir RYKHTIK,"",2013-12-13 10:36,"","",2013-10-17,"","",100,2013-10-17 06:39,"","",1393250,"","Hi guys,

During TYPO3 Neos alpha 6 installation, I get an error :

Error: During the import of the ""Sites.xml"" from the package ""TYPO3.NeosDemoTypo3Org"" an exception occurred: Error: During import an exception occurred. Notice: Use of undefined constant LIBXML_PARSEHUGE - assumed 'LIBXML_PARSEHUGE' in /mnt/pcFedir/neos/trunk/TYPO3-Neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Domain_Service_SiteImportService.php line 93

PHP version 5.3.18

Best regards,
Fedir"
52914,TYPO3.Neos,Bug,"",Closed,Should have,"Class TYPO3\Flow\Composer\InstallerScripts is not autoloadable, can not call post-package-install script",Fedir RYKHTIK,Bastian Waidelich,2013-12-11 14:23,"","",2013-10-17,"","",0,2013-10-17 05:59,"","",1393150,"","Hi guys, 

I'm trying to install TYPO3 Neos 1.0 alpha 6 after the tutorial, proposed on http://neos.typo3.org/download.html

During installation there are lots of messages ""Class TYPO3\Flow\Composer\InstallerScripts is not autoloadable, can not call post-package-install script"" appears.

The log is in the attachment.

My system config :

Ubuntu 12.04 LTS
PHP 5.4.6-1ubuntu1.4 (cli) (built: Sep  4 2013 19:36:09) 
Composer version 34dd0e2850b20f6d9e40c9ca6024629cdc1a9aaf 2013-10-16 16:35:44

A similar anomaly was detected previously with old version of composer, but it's seems to be resolved. I tried patched version of composer, but messages appears anyway.

Looks like it's anormal behavior. Could You check, please.

Best Regards,
Fedir"
52911,TYPO3.Neos,Bug,"",Resolved,Should have,Fix PrimaryContent default TypoScript,Christopher Hlubek,Christopher Hlubek,2013-10-19 09:36,"","",2013-10-17,"","",100,2013-10-17 05:28,"","",1393000,"","The @TYPO3.Neos:PrimaryContent@ TypoScript object is broken since no @nodePath@ can be set easily by an integrator.

The API should be usable like this:

<pre>
page.body.content.main = PrimaryContent
page.body.content.main.nodePath = 'main'
</pre>

This needs a new TypoScript feature to allow properties on a @Case@ object that are not used as matchers and results in the following TS:

<pre>
prototype(TYPO3.Neos:PrimaryContent) < prototype(TYPO3.TypoScript:Case) {
        nodePath = 'to-be-defined-by-user'

        @override.nodePath = ${this.nodePath}
        @ignoreProperties = ${['nodePath']}
        default {
                prototype(TYPO3.Neos:ContentCollection) {
                    nodePath = ${nodePath}
                }
                condition = ${true}
                type = 'TYPO3.Neos:ContentCollection'
                @position = 'end'
        }
}
</pre>

This will use the configured @nodePath@ property on the @PrimaryContent@ object and puts that into the context for rendering the matcher. The @default@ matcher defines a nested prototype that assigns the nodePath from the context to the nodePath property of the ContentCollection."
52821,TYPO3.Neos,Task,Task #48071: Navigate component,Closed,Must have,Add new / pasting in context structure tree can add child nodes to non collections,Aske Ertmann,"",2014-11-20 10:43,"","",2013-10-14,"","",0,2013-10-14 16:42,"","",1388500,"",We need to check when adding / pasting content in the context structure tree to avoid inserting content into non collections
52711,TYPO3.Neos,Bug,"",Resolved,Should have,404 page of the demo site is not styled,Rens Admiraal,Rens Admiraal,2013-10-26 06:35,"","",2013-10-11,"","",100,2013-10-11 16:41,"","",1383050,"",The 404 currently looks like the screenshot in the attachment. Should be fixed
52524,TYPO3.Neos,Task,"",Resolved,Should have,Allow sorting and extending nodeTypeGroups in node type wizard,Dominique Feyer,Dominique Feyer,2013-10-15 16:35,"","",2013-10-04,"","",100,2013-10-04 03:33,"","",1373700,"","Currently the TYPO3.Neos.nodeTypeGroups is a simple array, and really hard to extend. This task propose a new synthax like:

<pre>
  Neos:
    nodeTypeGroups:
      general:
        position: 'start'
        label: 'General'
      structure:
        position: 100
        label: 'Structure'
      plugins:
        position: 200
        label: 'Plugins'
</pre>

With this synthax, any package can add a new group, change ordering, or remove an existing group."
52513,TYPO3.Neos,Bug,Task #49852: Design inline handles,Closed,Should have,Remove focus outline of content element handles,Aske Ertmann,"",2014-10-01 15:56,"","",2013-10-03,"","",0,2013-10-03 12:29,"","",1373200,"","When clicking a button in the content element handles twice the button is outlined, which it shouldn't be"
52511,TYPO3.Neos,Feature,"",New,Should have,More graceful degradation of broken content elements,Christoph Dähne,"",2013-10-31 08:06,"",1.0 beta 1,2013-10-03,"","",0,2013-10-03 10:24,"","",1373100,"","Broken content elements can sometimes be removed, hidden, ... as they are normal content element, even if they cannot be rendered.

Under some circumstances, e.g. if the content element is of a not-existing type, it cannot be removed yet. The wrapping of the content elements needs to be made more fault tolerant.

Where to start:
* See TODO in TYPO3\Neos\TypoScriptNeosRenderingExceptionHandler
* Refactor, make more fault tolerant and maybe split to multiple functions TYPO3\Neos\Service\ContentElementWrappingService->wrapContentObject

Depends on
  https://review.typo3.org/#/c/24239/"
52477,TYPO3.Neos,Bug,"",Resolved,Should have,Auto publish stops working upon reload,Tim Kandel,Tim Kandel,2013-10-03 03:34,JavaScript,"",2013-10-02,"","",0,2013-10-02 11:15,"","",1371450,"","If you activate auto publish in the backend and then reload the page, it is no longer selected."
52462,TYPO3.Neos,Feature,"",New,Should have,Include own UI elements to the inspector,Soren Malling,"",2013-11-10 08:21,"","",2013-10-02,"","",0,2013-10-02 06:06,"","",1370700,"","While working on 

http://forge.typo3.org/issues/47895#note-5

I will like to add my own element to the righthand inspector - but at the moment it doesn't seem possible due to limitation in JavascriptConfigurationViewHelper

<pre>
$resourcePath = 'resource://TYPO3.Neos/Public/JavaScript';
$localizedResourcePathData = $this->i18nService->getLocalizedFilename($resourcePath);
$matches = array();
if (preg_match('#resource://([^/]+)/Public/(.*)#', current($localizedResourcePathData), $matches) === 1) {
	$package = $matches[1];
	$path = $matches[2];
}
</pre>

I would like it to be possible to add my own with a configuration like this

<pre>
      boolean:
        editor: Content/Inspector/Editors/BooleanEditor
      taxonomy:
        editor: resource://TYPO3.Neos.Taxonomy/Scripts/Content/Editor/TaxonomyEditor
</pre>

or maybe

<pre>
      taxonomy:
        package: 'TYPO3.Neos.Taxonomy'
        editor: Content/Inspector/Editors/BooleanEditor
</pre>

Please comment and I will give my own first try"
52409,TYPO3.Neos,Bug,"",Closed,Should have,Misleading error message when database is empty,Oliver Eglseder,"",2014-10-02 06:43,"","",2013-09-30,"","",0,2013-09-30 14:52,"","",1368050,"","When i install TYPO3 Neos and provide an empty database in the settings (without going through the setup) the ""No Database Connection"" error is shown
""Sorry, the database connection could not be established."" But the connection was established successfully. The correct error message would be ""The database has not been migrated"" or ""The database is empty""."
52406,TYPO3.Neos,Task,"",Resolved,Should have,Update Chosen to version 1.0,Dominique Feyer,Dominique Feyer,2013-11-05 14:05,JavaScript,"",2013-09-30,"","",100,2013-09-30 14:13,"","",1367900,"","Currently we use version 0.12.1, need to move to 1.0"
52404,TYPO3.Neos,Bug,"",Resolved,Should have,Inline-editing new HMTL-Content-Elements,Christoph Dähne,"",2013-10-11 09:36,"",1.0 beta 1,2013-09-30,"","",100,2013-09-30 13:40,"","",1367800,"","If just created, a HTML-Content-Element can be inline-edited until the first refresh of the page.
HTML-Tags are escaped, though.

# Create a new HTML-Content-Element
# Klick it
# Start editing
"
52403,TYPO3.Neos,Task,"",New,Should have,New User form should refill fields on validation error,Irene Höppner,"",2013-09-30 13:30,"","",2013-09-30,"","",0,2013-09-30 13:30,"","",1367750,"",If you create a User within the User Management module and a validation error occures (e.g. not all required fields are filled) you have to refill every single field.
52387,TYPO3.Neos,Bug,"",Resolved,Should have,Inconsistent Handling of HTML-Tags in HTML-Elements,Christoph Dähne,"",2013-10-01 10:35,"",1.0 beta 1,2013-09-30,"","",100,2013-09-30 09:34,"","",1366950,"","The following behavior seems not good to me:

# Add a new Html-Content-Element
# Inline-Edit it inserting '<p>Hello World</p>'
# Deselect Html-Node and it displays '<p>Hello World</p>'
# Select it again and open the Html-Editor clicking in 'Edit HTML'
# Add '!' after 'World'
# Klick Apply
# Now the content element displays 'Hello World!' and the surrounding p-tag is gone

My problem: Inline-editing seems to preserve tags as text and later html-editing removes the prior preserved tags again.
What I see is not what I get.
"
52384,TYPO3.Neos,Bug,"",Closed,Should have,Error in console when selecting in-line-editable content in preview mode,Christoph Dähne,"",2014-10-01 14:03,"",1.0 beta 1,2013-09-30,"","",0,2013-09-30 08:48,"","",1366800,"","How to reproduce:

* edit text
* go to preview mode
* then click another content element

Our guess is that the automatic CreateJS.disableEdit() in controller.js does not fully work,
and does not unregister all event handlers. We might try to update Create.js and this could
fix the problem.

Stack Trace:

<pre>
 Uncaught TypeError: Cannot read property 'element' of undefined create.js:573
    .    jQuery.widget._paramscreate.js:573
    .    (anonymous function)jquery-with-dependencies.js:10711
    .    propertyElement.enablePropertyEditor.deactivatedcreate.js:819
    .    (anonymous function)create.js:2253
    .    jQuery.event.dispatchjquery-with-dependencies.js:5095
    .    elemData.handlejquery-with-dependencies.js:4766
    .    jQuery.event.triggerjquery-with-dependencies.js:5007
    .    jQuery.event.triggerjquery-with-dependencies.js:10282
    .    (anonymous function)jquery-with-dependencies.js:5691
    .    jQuery.extend.eachjquery-with-dependencies.js:657
    .    jQuery.fn.jQuery.eachjquery-with-dependencies.js:266
    .    jQuery.fn.extend.triggerjquery-with-dependencies.js:5690
    .    Aloha.triggeraloha.js:29769
    .    Aloha.Editable.Class.extend.bluraloha.js:25860
    .    $.extend.deactivateEditablealoha.js:6635
    .    (anonymous function)aloha.js:6300
    .    jQuery.event.dispatchjquery-with-dependencies.js:5095
    .    elemData.handle
</pre>"
52203,TYPO3.Neos,Task,Work Package #47023: Global user interface,Resolved,Should have,Redesign login screen,Rasmus Skjoldan,Rens Admiraal,2013-10-09 16:23,UI,1.0 alpha 6,2013-09-23,"","",100,2013-09-23 17:31,"","",1357950,"","New updated design for the login screen to match the flat UI style.

The design doesn't contain any handling of failed logins/logout, but that should be a tooltip which is shown beneath the login button and styled like the inspector validation error with the arrow and error color if failed login and notice or success color for successful logout."
52136,TYPO3.Neos,Feature,"",Resolved,Must have,"Create any kind of document node via tree ""+"" button",Robert Lemke,Robert Lemke,2013-09-23 04:35,UI,1.0 alpha 7,2013-09-19,"","",100,2013-09-19 08:34,"","",1354600,"","When creating a new node for the tree, the user should be able to select the (Document) node type he wants to create. Without this feature it was only possible to create Page nodes."
52061,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Pasting from clipboard to empty page doesn't work,Aske Ertmann,"",2014-11-02 12:22,"",1.0 beta 1,2013-09-17,"","",0,2013-09-17 04:10,"","",1350900,"","When copying an element and then switching to another page without any content the pasting doesn't work when pasting into the empty collection, this might also be an issue with empty collections on the same page"
51468,TYPO3.Neos,Task,Story #45973: As a content editor I want improved image handling,Closed,Must have,Image preview is not reset after cancelling changes in inspector,Aske Ertmann,"",2014-11-02 12:22,"",1.0 beta 1,2013-08-28,"","",0,2013-08-28 11:40,"","",1321450,"",""
51367,TYPO3.Neos,Feature,"",Resolved,Could have,Possiblity to register callback on importand Neos events,Jan-Erik Revsbech,Jan-Erik Revsbech,2013-10-01 11:35,"","",2013-08-26,"","",100,2013-08-26 14:45,"","",1316400,"","For websites relying on JS, it would be great to be able to register callbacks in Neos, to be notified when certain event happens. Most important when Neos reloads content, but other events would be something like

* content reload
* switch to preview mode
* switch back from preview mode
* selecting / editing a node
* unselecting a node

This could be done by triggering traditional jQuery events on the document object."
51302,TYPO3.Neos,Bug,"",Resolved,Should have,Node with object has property break PluginImplementation,Dominique Feyer,Dominique Feyer,2013-10-01 11:35,"","",2013-08-23,"","",100,2013-08-23 09:41,"","",1313200,"","Currently Neos PluginImplementation use the Request argument to pass the node properties. This work fine for simple type, but break with object. By using internal arguments, object can be passed with success.

This is a breaking change."
50982,TYPO3.Neos,Bug,"",Closed,Should have,Renaming a page works only rarely on first try,Lorenz Ulrich,"",2014-10-01 06:14,"","",2013-08-09,"","",0,2013-08-09 16:40,"","",1297300,"","When I'm trying to rename a page by double-clicking, chancing and hitting enter, the first 1-3 times the new title isn't saved but the old one restored."
50981,TYPO3.Neos,Bug,"",Closed,Should have,"If multiple pages are added in the tree at once, not all of them are existing",Lorenz Ulrich,"",2014-10-01 06:24,"","",2013-08-09,"","",0,2013-08-09 16:38,"","",1297250,"","Persisting a change in the page tree takes some time at the moment. But the interface allows to add another page before the page that was added before is persisted. Therefore the last added page is only existing in the tree, but not in the database."
50954,TYPO3.Neos,Bug,"",Resolved,Should have,Alpha-5: Class TYPO3\Flow\Composer\InstallerScripts is not autoloadable,Christian Wolff,Karsten Dambekalns,2013-08-12 04:51,"","",2013-08-09,"","",100,2013-08-09 03:58,"","",1295950,"","Hi i have been trying to Install Alpha 5: as described on the website.

The composer install runs fine until the custom install tryis to run:

Generating autoload files
Class TYPO3\Flow\Composer\InstallerScripts is not autoloadable, can not call post-install-cmd script

therefore the flow directory structure is not correctly generated:

here is an List of the directory Struckture i have after the install:

drwxr-xr-x  12 chris  chris    408  9 Aug 09:39 .
drwxr-xr-x   9 chris  chris    306  9 Aug 09:32 ..
-rw-r--r--   1 chris  chris    312  9 Aug 09:32 .gitignore
drwxr-xr-x   6 chris  chris    204  9 Aug 09:36 Build
drwxr-xr-x   3 chris  chris    102  9 Aug 09:32 Configuration
drwxr-xr-x   6 chris  chris    204  9 Aug 09:36 Packages
drwxr-xr-x   3 chris  chris    102  9 Aug 09:32 Tests
drwxr-xr-x   3 chris  chris    102  9 Aug 09:32 Web
drwxr-xr-x   5 chris  chris    170  9 Aug 09:37 bin
-rw-r--r--   1 chris  chris   1455  9 Aug 09:32 build.xml
-rw-r--r--   1 chris  chris    801  9 Aug 09:32 composer.json
-rw-r--r--   1 chris  chris  61590  9 Aug 09:37 composer.lock

my commandline to install / Geather the composer loging data:
composer create-project -vvv --dev --stability alpha typo3/neos-base-distribution NeosX > composer_neos.log

system data:
Mac OS X 10.8.4
Composer version 30fb3d48fee4b3b53d7b140525c230a49ad08f05
php version:
PHP 5.3.15 with Suhosin-Patch (cli) (built: Aug 28 2012 18:19:13) 
Copyright (c) 1997-2012 The PHP Group
Zend Engine v2.3.0, Copyright (c) 1998-2012 Zend Technologies

if you need any other help or information am glad to help
"
50928,TYPO3.Neos,Task,"",New,Should have,Internal arguments in plugin requests documentation,Aske Ertmann,"",2013-08-08 09:57,"",1.0 alpha 6,2013-08-08,"","",0,2013-08-08 09:57,"","",1294650,"","The plugin documentation should mention the internal arguments being added to the plugin request for __node and __documentNode

Example usage: $this->request->getInternalArgument('__node')

Related to http://forum.typo3.org/index.php/t/197976/"
50669,TYPO3.Neos,Task,"",Resolved,Should have,Remove unused image resources,Aske Ertmann,Aske Ertmann,2013-08-02 09:15,"",1.0 alpha 5,2013-08-01,"","",100,2013-08-01 12:12,"","",1281900,"",""
50598,TYPO3.Neos,Bug,"",Rejected,Should have,Redirect Error after a fresh install,Markus Günther,"",2013-08-01 03:40,"","",2013-07-31,"","",0,2013-07-31 08:13,"","",1278400,"","Hi,

i am not sure if there is still a existing ticket for that. I did not find a bug in the issue tracker.

I create a fresh neos and did not import the demo page in the install tool. I create a own package. The package creation works great, but if i log in to the backend i get an error because neos want to go to the home site. The default page is homepage and not home. So the redirect ends in a page not found exception.

http://neos.dev/home@user-admin.html does not work by default and should be
http://neos.dev/homepage@user-admin.html or http://neos.dev/@user-admin.html

If you need more information please give me a note."
50567,TYPO3.Neos,Bug,"",Resolved,Must have,URI to imageWithMetadata action is hard coded,Adrian Föder,"",2014-05-07 04:23,JavaScript,1.1,2013-07-30,"","",100,2013-07-30 11:09,"","",1276900,"","currently, the imageWithMetadata action used in the Image inspector, is hard coded in 

<pre>
Packages/Application/TYPO3.Neos/Resources/Public/JavaScript/Content/Inspector/Editors/ImageEditor.js:500
<code class=""JavaScript"">
that.set('_loadPreviewImageHandler', $.get('/neos/content/imageWithMetadata/' + imageVariant.originalImage, function(result) {
...
</code>
</pre>

this should be changed obviously; a suggestion was

> to create a URL in the JavaScriptConfigurationViewHelper to the content controller and set window.T3Configuration.ContentUri or similar and use that instead in the ImageEditor

but maybe an overall concept should be thought about which serves URIs generally."
50420,TYPO3.Neos,Bug,"",Rejected,Should have,<ts:render /> is not possible in plugins because of missing fluidTemplateTsObject in the context,Carsten Bleicker,"",2013-07-25 13:47,"","",2013-07-25,"","",0,2013-07-25 04:44,"","",1269550,"","having a plugin and trying to render with ts:render viewhelper wich throws this exception:

Exception while rendering
page<TYPO3.Neos:Page>/body<TYPO3.Neos:Template>/content/main<TYPO3.Neos:ContentCollection>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos:ContentCollection.Default>/itemRenderer<TYPO3.Neos:ContentCase>/default<TYPO3.TypoScript:Matcher>/element<BLEICKER.Pipeu:ProductPlugin>:
Tried to get a variable ""fluidTemplateTsObject"" which is not stored in the context! (2013072510430231b968)"
50372,TYPO3.Neos,Bug,"",Closed,Should have,Shortcuts not respected correctly on user workspace,Carsten Bleicker,"",2014-10-02 07:20,"","",2013-07-24,"","",0,2013-07-24 07:26,"","",1267250,"","NodeStructure Example:

site/mysite/de [Shortcut to first Childnode]
site/mysite/de/homepage
site/mysite/en [Shortcut to first Childnode]
site/mysite/en/homepage

Now do this:
1. selecting the node site/mysite/de/homepage
2. selecting the node site/mysite/en/homepage
3. selecting the node site/mysite/de/homepage

error: step 3 shows the english site :(

If i click the shortcut itself and the message on the page ""This is a shortcut to the first child page.
Click here to continue to the page."" seems to solve this problem.


Kind regards
Carsten Bleicker"
50309,TYPO3.Neos,Bug,"",Resolved,Should have,Delete and Modal Window does not work,Carsten Bleicker,"",2013-08-07 01:48,"","",2013-07-22,"","",100,2013-07-22 14:01,"","",1264150,"","Delete button in User Listview of User Management does not work.
Modal box does not get opened. Maybe missing Bootstap Scripts?"
50307,TYPO3.Neos,Bug,"",Closed,Should have,Styling of input appended input fields,Carsten Bleicker,"",2014-10-02 06:30,"","",2013-07-22,"","",0,2013-07-22 11:56,"","",1264050,"","Seems that a lot of styles based on twitter bootstrap.
would be great to get this styling worked:
<div class=""input-append"">
   <f:form.textfield property=""price.value"" id=""price""/>
   <span class=""add-on"">?</span>
</div>

Kind regards

Carsten Bleicker"
50278,TYPO3.Neos,Bug,"",Closed,Must have,Cut and Paste Nodes from one Content Section to another section disables further content creation,Carsten Bleicker,"",2014-10-02 06:22,"","",2013-07-22,"","",0,2013-07-22 07:58,"","",1262600,"","If you cut and paste a node from one section to another the create/delete/copy/etc. options disappear.

Kind regards
Carsten Bleicker"
50277,TYPO3.Neos,Task,"",Closed,Should have,CSS Side Effects,Carsten Bleicker,"",2014-10-02 07:11,"","",2013-07-22,"","",0,2013-07-22 07:53,"","",1262550,"","Client sends me a Template wich has css styles like

a{
 text-shadow: -1px -1px 0px #101010, 1px 1px 0px #505050;
}

Styles like this having side effects f.e. on the pagetree.
Maybe its a good advice for the template builder to introduce a rule like:
Always build a wrapper div after the body <div class=""myProject""> and prefix all your css with .myProject ...{}
wich should be not a big problem if youre using sass or less.

Or the css of neos has to reset all possible stype informations. but i think you'll never get all of them, right?

Kind regards
Carsten Bleicker"
50275,TYPO3.Neos,Task,"",Closed,Could have,Auto Save should be more present,Carsten Bleicker,"",2014-10-02 07:36,"","",2013-07-22,"","",0,2013-07-22 07:43,"","",1262450,"","If i start editing some content the old state ""Saved"" is still present.
Maybe you cold change it directry to ""unsaved"" after changing something?
Otherwise i could think, that my changes are saved already because old state ""Saved"" is shown
until the autosave is triggered.

I think it should also be more present in its visual appearance so that its possible to recognice
changes on save state from the corner of one's eye.

Kind regards
Carsten Bleicker"
50261,TYPO3.Neos,Bug,"",Closed,Should have,"H1 style ""centered text"" removed after publishing",Carsten Bleicker,"",2014-10-01 12:05,"","",2013-07-21,"","",0,2013-07-21 16:48,"","",1261750,"","dont know why.
i can align a h1 tag with style=""text-align:center"" but after publishing its gone.
on a p-tag it works.

kind regards
carsten bleicker"
50051,TYPO3.Neos,Bug,"",Resolved,Must have,Flush Routing Cache when Domain has changed,Kerstin Huppenbauer,Kerstin Huppenbauer,2013-07-16 10:37,Services,1.0 alpha 5,2013-07-15,"","",100,2013-07-15 15:46,"","",1251450,"",Routing Cache needs to be flushed when Domain has changed
49990,TYPO3.Neos,Bug,"",Closed,Must have,Copying a content element having an image resource breaks with Fatal error,Pankaj Lele,"",2014-10-01 12:02,Content Model,1.0 beta 1,2013-07-12,"","",0,2013-07-12 15:27,"","",1248500,"","When an a content element  having image resource is copied and pasted then it does not work and ends up in a PHP Fatal error:
<pre>
Fatal error: Call to a member function getResourcePointer() on a non-object in /opt/local/apache2/htdocs/neos.dev/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Media_Domain_Service_ImageService.php on line 41
</pre>

and then Workspace module constantly throws this error and user gets completely locked."
49950,TYPO3.Neos,Task,"",Resolved,Should have,Change header for new content element selection,Aske Ertmann,Aske Ertmann,2013-08-02 09:21,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 16:11,"","",1246550,"","Currently the header is ""Create new node"", but since we don't want to use the word node for the end user, we should change it to ""Create new"""
49949,TYPO3.Neos,Feature,"",Resolved,Should have,Respect restricted roles for modules,Aske Ertmann,Aske Ertmann,2013-07-24 09:38,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 16:01,"","",1246500,"","* It should be possible to configure a role for submodules
* The menu component should respect the role restriction
* The module controller should prevent accessing a restricted role without having the necessary role"
49948,TYPO3.Neos,Task,Work Package #47023: Global user interface,Resolved,Should have,Shortcut page styling,Aske Ertmann,Aske Ertmann,2013-08-02 09:21,"",1.0 alpha 5,2013-07-11,"","",0,2013-07-11 15:59,"","",1246450,"",""
49947,TYPO3.Neos,Task,Task #48091: Inspector,Resolved,Should have,Rename caption label to 'Enable caption',Aske Ertmann,Aske Ertmann,2013-07-14 16:42,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 15:58,"","",1246400,"",To make it more clear the label is adjusted
49946,TYPO3.Neos,Task,Task #48071: Navigate component,Resolved,Should have,Node tree filtering,Aske Ertmann,Aske Ertmann,2013-10-15 09:36,"",1.0 beta 1,2013-07-11,"","",100,2013-07-11 15:55,"","",1246350,"","Add the possibility to filter the node tree with a query textfield matching the node titles and a selector for filtering node available node types.

Since the tree structure needs to be there always, we will still show other nodes if they're parents of a filtered result. When querying the text matching should be highlighted and when filtering by node type the whole non-matched parent node should be dimmed/grayed out."
49945,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Prevent page reload if content structure is different,Aske Ertmann,"",2014-11-02 12:22,"",1.0 beta 1,2013-07-11,"","",100,2013-07-11 15:51,"","",1246300,"","Currently when a page is loaded via AJAX and the content structure of the loaded page is different from the initialized page, the whole browser location is reloaded. This is because we lack a way to initialize different structures for VIE. It shouldn't matter if it's a page with one content collection or two and what they're called."
49944,TYPO3.Neos,Task,"",Closed,Should have,Find closest document node service,Aske Ertmann,"",2014-10-04 11:16,"",1.0 beta 1,2013-07-11,"","",0,2013-07-11 15:46,"","",1246250,"","Currently there are multiple places we do a while loop to find the closest document node, we should refactor these blocks into a reusable service method"
49941,TYPO3.Neos,Task,Task #48091: Inspector,Closed,Should have,Styling/layout of secondary inspector,Aske Ertmann,"",2014-10-04 11:21,"",1.0 beta 1,2013-07-11,"","",100,2013-07-11 15:36,"","",1246100,"","* Cropping
* HTML editor
* etc."
49940,TYPO3.Neos,Task,Work Package #47023: Global user interface,Resolved,Should have,Remove unused resources,Aske Ertmann,"",2013-08-28 10:28,"",1.0 beta 1,2013-07-11,"","",100,2013-07-11 15:35,"","",1246050,"","Remove all unused resources

* Glyphicons
* Twitter Bootstrap icons (+ css)
* Public/Icons folder
* Public/Images/Icons
* Public/Images/ContentModule
* Public/Images/module-bg.jpg
* Public/Images/dynatree-icons.png
* etc."
49939,TYPO3.Neos,Task,Story #45973: As a content editor I want improved image handling,Closed,Should have,Consider replacing image alignment with layout,Aske Ertmann,"",2014-11-02 12:22,"",1.0 beta 1,2013-07-11,"","",0,2013-07-11 15:29,"","",1246000,"","Instead of having an option for image alignment, we should provide a layout instead with some common scenarios instead of left, right, center because the rendering might be tied more to the importance of the image and not the positioning in different views"
49938,TYPO3.Neos,Task,Story #45973: As a content editor I want improved image handling,Closed,Should have,Add crop aspect ratio lock presets,Aske Ertmann,"",2014-11-02 12:22,"",1.0 beta 1,2013-07-11,"","",0,2013-07-11 15:27,"","",1245950,"","It would be useful to provide a set of crop aspect ratio lock presets for square, portrait, landscape, panorama e.g."
49937,TYPO3.Neos,Task,Story #45973: As a content editor I want improved image handling,Closed,Should have,Make multiple image selection possible,Aske Ertmann,"",2014-11-02 12:22,"",1.0 beta 1,2013-07-11,"","",0,2013-07-11 15:24,"","",1245900,"","All image properties should allow selecting multiple images

The editor should behave the same for one image as for multiple images

Additional options like crop, width, height, caption enabling, alt text, title text and linking should be done per image in the secondary inspector"
49936,TYPO3.Neos,Bug,Feature #48235: Publish menu,Resolved,Should have,Auto-publish functionality behaves inconsistently,Aske Ertmann,Aske Ertmann,2013-07-18 04:38,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 15:19,"","",1245850,"",When toggling the auto-publish checkbox the button state becomes inactive if active or active if inactive. Seems like it doesn't really take into account if there already are unpublished changes or not. When switching auto-publish on we should publish all changes and deactivate the button.
49935,TYPO3.Neos,Task,Task #48091: Inspector,Resolved,Should have,Chosen unselect button styling,Aske Ertmann,Aske Ertmann,2013-07-15 09:37,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 15:10,"","",1245800,"",The styling of the unselect button for chosen selectors is broken
49934,TYPO3.Neos,Bug,Task #48075: Context bar,Resolved,Should have,Background color of context bar,Aske Ertmann,Aske Ertmann,2013-07-14 16:36,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 15:10,"","",1245750,"","Currently it's the same color as the rest of the components, but it should be the medium gray instead to distinguish."
49933,TYPO3.Neos,Feature,Feature #48235: Publish menu,Resolved,Should have,"Add ""Publish all changes"" option",Aske Ertmann,Mattias Nilsson,2013-10-02 06:36,"",1.0 alpha 6,2013-07-11,"","",100,2013-07-11 15:05,"","",1245700,"",We need a way of easing publishing of all changes directly from the content module. This should be a button/option in the dropdown marked with the number of unpublished changes.
49932,TYPO3.Neos,Task,Task #48080: Breadcrumb,Resolved,Should have,Add label and icons to content breacrumb,Aske Ertmann,Aske Ertmann,2013-07-14 16:36,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 15:03,"","",1245650,"","Since we have icons for all node types we should add that as a easy reference to the type of node. Should both be in the closed and open selector options.

In additional we need a label ""Selected element"" to clarity the functionality of the component"
49931,TYPO3.Neos,Task,Task #48091: Inspector,Resolved,Should have,Add label for the whole inspector,Aske Ertmann,Aske Ertmann,2013-07-14 16:36,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 14:58,"","",1245600,"","We need to make people aware what the inspector is called, so for now we just add a label ""Inspector"" until we have a filtering mechanism with the placeholder ""Filter inspector"""
49930,TYPO3.Neos,Bug,"",Resolved,Must have,Redirection check for last visited uri is broken,Aske Ertmann,Aske Ertmann,2013-07-15 15:37,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 14:54,"","",1245550,"","The check if a node with the path actually exists in the backend redirection service is broken, since it actually redirects to {node.name}.html"
49929,TYPO3.Neos,Bug,"",Resolved,Must have,Last visited uri is set with {node.name}.html,Aske Ertmann,Aske Ertmann,2013-07-16 03:37,"",1.0 alpha 5,2013-07-11,"","",100,2013-07-11 14:51,"","",1245500,"","When installing a new site and visiting the frontend, the session storage variable last visited uri is set to http://domain/{node.html} because the node variable is not available in the template. This makes it very difficult to login to the backend."
49928,TYPO3.Neos,Task,Task #45587: Re-enable Aloha,Closed,Should have,Aloha table options inspector stays,Aske Ertmann,Aske Ertmann,2014-11-02 12:21,"",1.0 beta 1,2013-07-11,"","",100,2013-07-11 14:48,"","",1245450,"",When choosing another element or deselecting the current element after focusing a table in aloha the inspector options stay
49927,TYPO3.Neos,Task,Story #45973: As a content editor I want improved image handling,Closed,Could have,Remove image caption alignment,Aske Ertmann,Aske Ertmann,2014-11-02 12:22,"",1.0 beta 1,2013-07-11,"","",0,2013-07-11 14:46,"","",1245400,"","Since aligning the image caption can be done with the inline editor, there's no need for having a option for that in the inspector.

Aloha behaves a little weird concerning alignment. If there's a p tag it will add the style, but if there isn't it doesn't do anything"
49859,TYPO3.Neos,Task,Task #48091: Inspector,Resolved,Should have,Date editor,Aske Ertmann,Rasmus Skjoldan,2013-09-29 15:35,"","",2013-07-10,"","",100,2013-07-10 07:41,"","",1242200,"",With time and today button
49857,TYPO3.Neos,Task,Work Package #47023: Global user interface,Resolved,Should have,Module design,Aske Ertmann,Rasmus Skjoldan,2013-12-08 18:38,"","",2013-07-10,"","",100,2013-07-10 07:39,"","",1242100,"",""
49856,TYPO3.Neos,Task,Work Package #47023: Global user interface,Resolved,Should have,Button design,Aske Ertmann,Mattias Nilsson,2013-10-24 18:36,"",1.0 alpha 6,2013-07-10,"","",100,2013-07-10 07:39,"","",1242050,"","* Default
* Primary
* Info
* Success
* Warning
* Danger
* Inverse?
* Link?

* Disabled state
* Hover state
* Pressed state

http://twitter.github.io/bootstrap/base-css.html#buttons"
49853,TYPO3.Neos,Task,Task #48091: Inspector,Resolved,Should have,Redesign inspector collapse icons,Rasmus Skjoldan,Aske Ertmann,2013-07-14 16:36,"",1.0 alpha 5,2013-07-10,"","",100,2013-07-10 06:58,"","",1241900,"",Redesign inspector collapse/expand icons and states to match the revised collapse icons of the menu.
49852,TYPO3.Neos,Task,Work Package #47023: Global user interface,Resolved,Should have,Design inline handles,Rasmus Skjoldan,Aske Ertmann,2014-10-01 15:56,"",1.0 alpha 5,2013-10-03,"","",100,2013-07-10 06:55,"","",1241850,0.00,Redesign the inline handles to match the revised UI.
49850,TYPO3.Neos,Task,Task #48068: Menu component,Closed,Should have,Condensed sticky menu,Rasmus Skjoldan,"",2014-11-02 12:24,"",1.0 alpha 6,2013-07-10,"","",100,2013-07-10 06:51,"","",1241800,"","Design the condensed sticky version of the menu - showing only the icons without module names. If user collapses a module section and then afterwards condenses the menu, only the top level module will be seen.

Menu has 3 states:
# Full expanded, showing both icons and module names
# Collapsed
# Condensed, showing only icons 

Design:
* Icon in the bottom left corner
* Design border-right/shadow when menu is collapsed


"
49761,TYPO3.Neos,Bug,"",Closed,Should have,Hostname validator produces false negatives,Philipp Gampe,"",2014-10-01 08:56,"",1.0 beta 1,2013-07-07,"","",0,2013-07-07 05:19,"","",1237450,"","The regex in the hostname validator is completely wrong:
<pre>$pattern = '/([a-zA-Z0-9\-_]+\.)?[a-zA-Z0-9\-_]+\.[a-zA-Z]{2,5}/'; </pre>

First of all a hostname does not need to have a dot. This is a common use case in intranets where the DNS suffix is used while finding the IP, but the actual hostname does not contain additional parts:
@intranet[.my-company.com] -> http://intranet/@.

Second, the new TLDs allow longer domain names than five chars, e.g. @travel@ which is already included in the list of valid domain suffixes:
http://data.iana.org/TLD/tlds-alpha-by-domain.txt
http://www.iana.org/domains/root/db

There are more limits that could be checked, e.g.
* 127 level limit
* 253 char limit total in text representation
http://tools.ietf.org/html/rfc1035


Also internationalized domain names should be taken into account.

"
49709,TYPO3.Neos,Bug,"",Rejected,Should have,Getting an ExtDirect error if you use _ in the url name,Markus Günther,"",2013-07-11 16:54,"","",2013-07-05,"","",100,2013-07-05 11:04,"","",1234850,"","This is maybe not a real error it is more ugly that you get a exception instead of a notification.

So your not allowed to use _ but you dont get a nice notification - you will get a ugly extdirect exception.

ExtDirect error: Uncaught exception #1297759968 (ref 2013070516584307fb4d) - Exception while property mapping for target type ""TYPO3\TYPO3CR\Domain\Model\PersistentNodeInterface"", at property path """": Invalid node name ""test_1"" (a node name must only contain characters, numbers and the ""-"" sign)."
49708,TYPO3.Neos,Bug,"",Closed,Should have,Error after adjusting Name (URL) in the Backend,Markus Günther,"",2013-07-05 11:33,"","",2013-07-05,"","",0,2013-07-05 10:58,"","",1234800,"","If you change the Name (Url) field for a page node you will have a menu link to the backend in the frontend and not to the frontend.

Steps to reproduce:
- create a new page node
- publish it and everything is ok actually. You will have a link like http://master.neos/node51d6d8ed13acd
- if you now change the name (url) field to e.g. test
- save and publish it
- go to the frontend and you will now have a link like http://master.neos/test@user-admin.html in the frontend instead of http://master.neos/test

That behavior will only happen with the last modified node. So if you create a new node, everything is ok.

I actually use the dev-master."
49681,TYPO3.Neos,Bug,"",Closed,Must have,Preview Mode on shortcut page breaks Backend,Tim Kandel,Tim Kandel,2013-07-16 13:08,"",1.0 beta 1,2013-07-05,"","",100,2013-07-05 05:51,"","",1233550,"","If you toggle the preview mode when you are on a shortcut page, you can't return back to the backend.
We should find a way to make it possible to return to the backend. Or find out why that breaks"
49365,TYPO3.Neos,Bug,"",Resolved,Must have,Example plugins (youtube/registration) are not addable,Hans Höchtl,Aske Ertmann,2013-07-16 16:15,"",1.0 alpha 5,2013-06-23,"","",0,2013-06-23 16:08,"","",1217850,"","The plugins included in the demo are not longer visible in the newelement-popup so they seem to be not properly loaded.


"
49358,TYPO3.Neos,Bug,"",Resolved,Should have,remove html code in tooltip,Simon Schaufelberger,"",2013-06-24 02:37,"","",2013-06-23,"","",100,2013-06-23 10:02,"","",1217500,"","in the installer while creating a backend user, the tooltip for the skip button contains html. that should be removed."
49333,TYPO3.Neos,Bug,"",Resolved,Should have,page load layer is not shown,Markus Goldbeck,"",2013-07-11 17:10,JavaScript,1.0 beta 1,2013-06-21,"","",100,2013-06-21 15:49,"","",1216250,"","When a User clicks through the page by the pagetree or the side navigation itsself there was a loading Layer shown. 

The Loading Layer is not shown any longer."
49285,TYPO3.Neos,Bug,"",Resolved,Should have,Placeholder text color is too dark,Karsten Dambekalns,Aske Ertmann,2013-07-11 17:11,UI,"",2013-06-20,"","",100,2013-06-20 07:46,"","",1213850,"","With change I5b2565c9bd38e9e110b5e4b42179e0c4a0848eea the $grayLight in @Foundation/_variables.scss@ was set to #3f3f3f, which makes it look like regular text (see screenshot)."
49268,TYPO3.Neos,Bug,"",Resolved,Must have,Sites containing start/end dates cannot be exported/import,Karsten Dambekalns,Karsten Dambekalns,2013-09-24 08:36,"",1.0 beta 1,2013-06-19,"","",100,2013-06-19 16:59,"","",1213050,"","Exporting \DateTime instances is not possible, which means sites containing pages hidden by date cannot be exported.

On top of that building the error message in those cases causes another error."
49145,TYPO3.Neos,Bug,"",Resolved,Should have,Inspector box-shadow is visible in preview mode,Mattias Nilsson,Mattias Nilsson,2013-06-16 07:38,UI,1.0 beta 1,2013-06-15,"","",100,2013-06-15 04:48,"","",1206900,"",Inspector box-shadow is visible in preview mode in the right corner.
49116,TYPO3.Neos,Bug,"",Closed,Should have,User settings menu is not working in wireframe mode,Mattias Nilsson,"",2013-06-20 06:41,UI,1.0 beta 1,2013-06-14,"","",100,2013-06-14 01:59,"","",1205450,"","The user settings menu is not working in wireframe mode, due to inclusion order between jquery and twitter bootstrap."
49042,TYPO3.Neos,Bug,"",Closed,Should have,own backend module routes not working in own Routes file,Simon Schaufelberger,Bastian Waidelich,2013-06-12 07:21,"","",2013-06-12,"","",0,2013-06-11 20:48,"","",1201750,"","i guess this route here in neos package is a catcher for every route:
<pre>
-
  name: 'Backend - Modules'
  uriPattern: 'neos/{module}'
  defaults:
    '@package':    'TYPO3.Neos'
    '@controller': 'Backend\Module'
    '@action':     'index'
    '@format':     'html'
  routeParts:
    module:
      handler: TYPO3\Neos\Routing\BackendModuleRoutePartHandler
</pre>
its not possible to define a more granular route in an own Routes file. When i have my own route in the neos routes file, the route works. when i move it out into my own package, it doesnt work again."
48858,TYPO3.Neos,Bug,"",Resolved,Must have,"Deleting of users, sites and objects generally in the backend is broken",Simon Schaufelberger,"",2013-07-03 11:13,"",1.0 beta 1,2013-06-05,"","",100,2013-06-04 18:39,"","",1192700,"","currently you cannot delete anything in the neos backed. I don't know but maybe its because the CSRF string is missing? The delete button is just a normal link with the node identifier attached.

if thats not in the right project, please move it in the correct one. i just dont know if thats related to neos or to flow generally."
48679,TYPO3.Neos,Bug,"",Under Review,Should have,menu and button style wrong in own backend module,Simon Schaufelberger,Simon Schaufelberger,2013-12-25 09:49,UI,"",2013-05-30,"","",0,2013-05-30 10:49,"","",1183750,"","as far as i have found out is that the neos backend is based on twitter bootrap but some things are missing or wrong.

dropdownmenu.png: here is the active state really bad styled

dropdownmenu2.png: active state has ugly underline

buttons.png: this is a bit more complicated. using the usermanagement as an example, the parent container of the a tag doesnt have a btn-group class which is missing imho. changing the link to a dropdown menu breaks the appearance of the dropdown itself. its somewhere at the bottom of the page. adding btn-group fixes that but then the button itself has round corners."
48531,TYPO3.Neos,Bug,"",Resolved,Should have,User menu is not working in Wireframe mode,Mattias Nilsson,"",2013-05-26 04:35,Frontend,1.0 beta 1,2013-05-25,"","",100,2013-05-25 08:27,"","",1176350,"",The user menu is not working in Wireframe mode when trying to click to activate the dropdown.
48530,TYPO3.Neos,Bug,"",Resolved,Should have,Bullets from li elements are shown on button in Wireframe mode,Mattias Nilsson,"",2013-05-26 08:39,Frontend,1.0 beta 1,2013-05-25,"","",100,2013-05-25 08:25,"","",1176300,"","Bullets from li elements are shown in the Wireframe mode on the buttons in the ""context bar""."
48505,TYPO3.Neos,Bug,"",Closed,Should have,There are no section handles for a section with removed content,Christopher Hlubek,"",2013-07-06 06:40,JavaScript,"",2013-05-24,"","",0,2013-05-24 04:46,"","",1175050,"","*Scenario:*

Create a content element inside a section and delete the content element.

*Problem:*

The button to create new content elements is not shown again for the section."
48496,TYPO3.Neos,Bug,"",Resolved,Must have,javascript errors in ContentModule-built.js,Simon Schaufelberger,"",2013-09-30 05:40,"","",2013-05-23,"","",100,2013-05-23 13:53,"","",1174600,"","on my fresh installation with neos on my windows machine and dev mode i get the following error right after opening the neos backend:

<pre>
Uncaught TypeError: Object #<Object> has no method 'ready'
Uncaught TypeError: Cannot read property 'success' of undefined
</pre>

the original request is made from:
<pre>
_Resources/Static/Packages/TYPO3.ExtJS/JavaScript/ext-direct.js
</pre>

and neos shows a notification:

<pre>
ExtDirect error: Unable to connect to the server.
</pre>"
48424,TYPO3.Neos,Feature,"",Needs Feedback,Should have,"NodeTypes: Create a simple ""EmbeddedNode""-Type",Berit Hlubek,Berit Hlubek,2014-01-05 13:10,"","",2013-05-21,"","",0,2013-05-21 15:57,"","",1171050,"","We need basic NodeType which can be used as SuperType for more complexe NodeTypes which consist of a fixed structure.
For example: 2 images with two texts which will be shown inside a special JavaScript element.

In this case a SuperType is needed which can not be hidden or deleted in any case."
48423,TYPO3.Neos,Bug,"",Resolved,Should have,Inspector: Allow to edit multiple images within a NodeType,Berit Hlubek,Christopher Hlubek,2013-07-15 08:39,"",1.0 alpha 5,2013-05-21,"","",100,2013-05-21 15:42,"","",1171000,"","At the moment it is not possible to add more than one image to a NodeType. A JavaScript error is thrown because the ID @image-width@ is used twice.

To have the chance to create fully flexible NodeTypes it has to be possible to put multiple properties of the type image inside one NodeType."
48422,TYPO3.Neos,Feature,"",New,Should have,Inspector: NodeType properties inside unknown groups are not shown,Berit Hlubek,"",2013-05-21 15:37,"","",2013-05-21,"","",0,2013-05-21 15:37,"","",1170950,"",We need a solution for NodeType properties which have an unknown group assigned. At the moment these properties are not shown at all but it would be good to show them for example inside a fallback group type or display them below all other groups with the group name as label.
48393,TYPO3.Neos,Bug,"",Resolved,Should have,Empty Sections don't show a new content element button,Christian Müller,"",2013-05-24 04:42,"","",2013-05-20,"","",100,2013-05-20 05:00,"","",1169500,"",""
48363,TYPO3.Neos,Task,Work Package #48275: TypoScript consistency,New,Should have,(maybe) implement declarative configuration per TYPO3CR Node,Sebastian Kurfuerst,"",2013-05-24 19:14,"","",2013-05-17,"","",0,2013-05-17 11:59,"","",1168000,"","in the long run, we thought of having static, per-node configuration values which ""shine through"" to subnodes
is a good idea. Especially with the removal described in #48321, this feature might become more important.

Possible use cases are that editors can set teaser colors, mark site areas, ... -- all could influence the rendering

* That's somehow comparable to the ""constants"" in TypoScript of TYPO3 CMS
* they would be available in FlowQuery / eel, possibly through @${node.configuration.XYZ}@
* they would be *merged recursively* (maybe in a configurable manner)

*alternatively*, we can implement a FlowQuery Operation @slide@ which can be used to get node properties, and if they do not exist on the current node, do the same on the parent node. That could ""emulate"" this behavior; and might even be more elegant than an extra ""configuration"" array."
48331,TYPO3.Neos,Bug,"",Resolved,Should have,Demo registration plugin throws exception,Pankaj Lele,Tim Kandel,2013-07-16 16:14,"",1.0 alpha 5,2013-05-17,"","",100,2013-05-17 06:27,"","",1166400,"","The Registration plugin from demo site throws exception 

CRITICAL  TypoScript           Uncaught exception #1368517488 in line 151 of /opt/local/apache2/htdocs/neos.dev/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_TypoScript_Core_Runtime.php: An exception occurred while rendering ""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/sections/main<TYPO3.Neos:Section>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.NodeTypes:Section.Default>/itemRenderer<TYPO3.TypoScript:Case>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.NodeTypes:Section>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.NodeTypes:Section.Default>/itemRenderer<TYPO3.TypoScript:Case>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.NeosDemoTypo3Org:Registration>"". Please see the nested exception for details. - See also: 201305171544168ab81f.txt
    previousException => Uncaught exception #1301610453: Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details."
48307,TYPO3.Neos,Feature,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Support changing node type in the inspector,Aske Ertmann,"",2014-11-02 12:22,UI,1.1,2013-05-16,"","",100,2013-05-16 12:41,"","",1165250,"","It should be possible to change node type in the inspector. We should just make a select box with option groups for the node categories

All properties that are not already in the node should be created with their default value if it has one"
48261,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Inline editable properties are reset after applying changes in the inspector for reloadIfChanged properties,Pankaj Lele,Aske Ertmann,2014-11-02 12:22,UI,1.0 beta 1,2013-05-16,"","",100,2013-05-16 06:56,"","",1163000,"","Inline editable poperties of content elements are reset to default values when some other ""reloadIfChanged"" properties are edited in the inspector. 

To reproduce the behavior:

# create new Text with Image content
# don't do anything in content editing area
# change e.g. the ""Title"" field in the inspector
# click apply
# add some text in the content editing area now
# wait for changes to be auto-saved
# change ""Title"" again in inspector
# click apply
# you will see ""Enter text here"" again"
48235,TYPO3.Neos,Feature,Feature #48233: Top bar,Closed,Should have,Publish menu,Aske Ertmann,Rasmus Skjoldan,2014-10-04 11:18,"",1.0 alpha 5,2013-07-11,"","",100,2013-05-15 20:50,"","",1161750,0.00,"Implement a publish menu with options for just publishing the current page and a dropdown menu for options like ""Publish all changes"", ""Publish lock"", etc.

We need a way to distinguish if there's unpublished changes or not. By making the button green and changing the label to ""Published"" when there are no unpublished changes, it is clear easier for the user to know that they need to publish their changes."
48234,TYPO3.Neos,Feature,Feature #48233: Top bar,Closed,Should have,User menu,Aske Ertmann,"",2014-10-04 11:19,"",1.0 beta 1,2013-05-16,"","",50,2013-05-15 20:47,"","",1161700,"","Implement a user menu with different options like workspace selection, settings, about, logout"
48233,TYPO3.Neos,Feature,Work Package #47023: Global user interface,Resolved,Should have,Top bar,Aske Ertmann,"",2014-10-04 11:19,"",1.0 beta 1,2013-05-16,"","",100,2013-05-15 20:42,"","",1161650,0.00,"Implement a top bar as a container for components like the menu button, navigate button, search and results, user menu, publish menu"
48230,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Wireframen mode broken after Ember RC3 update,Sebastian Hens,Sebastian Hens,2014-11-02 12:22,"","",2013-05-15,"","",100,2013-05-15 17:31,"","",1161500,"",The wireframe mode is broken due to it trying to include a jQuery library that has been removed due to updating the version.
48152,TYPO3.Neos,Bug,"",Closed,Must have,Hidden content elements visible once after publishing pages,Pankaj Lele,Pankaj Lele,2013-07-16 14:24,Frontend,"",2013-05-13,"","",100,2013-05-13 12:03,"","",1157650,"",If a content element is hidden and page is viewed in Frontend then the content element is displayed. If page is refreshed then it goes off. It is visible again only when any page is changed and published. Does not matter which page is changed and published. 
48151,TYPO3.Neos,Bug,"",Closed,Should have,Image disappears from inspector on dimension change,Pankaj Lele,Pankaj Lele,2013-12-10 06:26,JavaScript,1.0 beta 1,2013-05-13,"","",0,2013-05-13 11:51,"","",1157600,"","With TYPO3.Neos.loadMinifiedJavascript = TRUE when dimension of an image is changed and clicked Apply the preview image in the inspector disappears and dummy image is shown instead. 

This behavior is not reproduced when TYPO3.Neos.loadMinifiedJavascript is set to FALSE."
47752,TYPO3.Neos,Bug,"",Resolved,Must have,Changes list for workspace has broken type icons,Karsten Dambekalns,Karsten Dambekalns,2013-04-30 17:36,UI,1.0 beta 1,2013-04-30,"","",100,2013-04-30 11:59,"","",1137800,"",The change at https://review.typo3.org/19475 broke the icons in the list of workspace changes.
47510,TYPO3.Neos,Bug,"",Resolved,Should have,Content editing is broken when page uses RequireJS,Andreas Wolf,"",2014-03-04 09:35,JavaScript,1.0 beta 1,2013-04-23,"","",100,2013-04-23 13:41,"","",1125900,"","When the website that should be edited uses RequireJS, the Neos backend breaks (i.e. the top menu is shown, but no content can be edited. Even basic functionality is missing. When disabling the local RequireJS instance, everything works fine.

I suppose this is because the script mentioned in the data-main attribute of the RequireJS script tag is not executed - but I have not further debugged this issue.

Maybe it's possible to totally separate the JS Neos uses by using the separation techniques RequireJS provides (see http://requirejs.org/docs/api.html#multiversion)."
47224,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,"Neos creates ""unstructured"" nodes on error",Bastian Waidelich,"",2014-11-02 12:22,"","",2013-04-15,"","",100,2013-04-15 04:07,"","",1111850,"","When an error occurs during insertion of content elements in the content module (e.g. some exception when inserting a plugin) Neos displays this exception nicely as notification:
<pre>
ExtDirect error: Uncaught exception ...
</pre>

At the same time the CE node is created with nodetype = ""unstructured"" breaking everything on reload.
The only way to restore neos is (AFAIK) to remove the broken node from the database manually..

"
47177,TYPO3.Neos,Task,"",Resolved,Must have,Update Ember to 1.0,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-05-11 16:37,JavaScript,1.0 beta 1,2013-04-13,"","",100,2013-04-13 04:44,"","",1109500,"",""
47109,TYPO3.Neos,Bug,"",Resolved,Should have,Logging in after session timeout leads to exception,Aske Ertmann,Aske Ertmann,2013-04-30 07:36,"",1.0 beta 1,2013-04-10,"","",100,2013-04-10 17:09,"","",1106100,"","Exception: http://i.imgur.com/iHq7vyu.png http://i.imgur.com/7TsiGOl.png

*How to reproduce*
This can be reproduced by setting the setting TYPO3.Flow.security.session.inactivityTimeout very low and then login to the backend. Then wait for the inactivity timeout has been reached and trigger an AJAX call (e.g. open inspect tree). Then reload the page and login.

*The problem*
The reason for this problem is that the last request which finds out that session has expired is an ExtDirect call, so even though the last request is to the node controller, the intercepted request was the ExtDirect one, so that's where you'll be redirected after you gain access (login).

*Solution*
Check if the original request is a ExtDirect request and if so use the default redirect instead."
46799,TYPO3.Neos,Feature,"",Rejected,Should have,Missing option to set filename when using site:export in CLI,Mattias Nilsson,"",2013-03-30 18:28,"","",2013-03-30,"","",0,2013-03-30 06:51,"","",1090700,"","When using the CLI and the command site:export, there is not a possibility to export the content into a specific file. "
46682,TYPO3.Neos,Bug,"",Closed,Should have,Redirecting to a Request pointing to a Neos node does not work,Adrian Föder,Christian Müller,2014-10-04 07:20,"",1.0 beta 1,2013-03-26,"","",0,2013-03-26 06:51,"","",1085100,"","in Neos' FrontendNodeRoutePartHandler's resolveValue(), the intended node is found out the following way:

<pre>
	$contentContext = $this->nodeRepository->getContext();
	if ($contentContext->getWorkspace(FALSE) === NULL) {
		return FALSE;
	}
	$node = $contentContext->getCurrentSiteNode()->getNode($matches['NodePath']);
</pre>

The node Repository's Context is more or less ""side-effectly"" set while the Router calls FrontendNodeRoutePartHandler's matchValue(), this again calls

<pre>
$this->nodeService->getNodeByContextNodePath($requestPath);
</pre>

followed by creating the live workspace.


However, when calling redirectToRequest(), it looks like the routing part is somewhat skipped (is that correct?), hence no such context is prepared.

h3. Update

Probably the actual reason or issue is that *building* an URI leads to these problems if there is no such context available."
46630,TYPO3.Neos,Bug,"",Rejected,Should have,Submodules doesn't support linking to a different controller,Soren Malling,"",2013-04-10 15:37,"","",2013-03-24,"","",0,2013-03-24 09:33,"","",1082500,"","While trying to do a simple concept implementation of TYPO3.FormBuilder I found out, that links with a ""Controller"" argument isn't supported. The ""Controller"" argument isn't respected, and the link points to the registred (in Settings.yaml) controller"
46563,TYPO3.Neos,Task,"",Closed,Should have,Page which is hidden in menu should get own icon,Markus Goldbeck,Markus Goldbeck,2013-07-06 07:10,UI,1.0 beta 1,2013-03-22,"","",100,2013-03-22 12:33,"","",1079200,"","Pages which are 'hidden in menus' are recognized by the pagetree. They have the same icon like normal pages.

They should get a new icon which is to create. The suggestion was to take the normal page icon with a reduced oppacity and a dotted outline."
46266,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Deleting an Image content element having no image results into exception,Adrian Föder,"",2014-11-02 12:22,"","",2013-03-14,"","",100,2013-03-14 07:08,"","",1064500,"","When attempting to delete an Image Content Element that has not (yet) an image assigned, but only its placeholder representation, the following error message occurs after confirming the delete? dialog:

<pre>
ExtDirect error: Uncaught exception #1297759968 (ref 201303141055336bf762) - Exception while property mapping for target type ""TYPO3\TYPO3CR\Domain\Model\PersistentNodeInterface"", at property path """": Exception while property mapping for target type ""TYPO3\Media\Domain\Model\ImageVariant"", at property path """": No converter found which can be used to convert from ""string"" to ""TYPO3\Media\Domain\Model\ImageVariant"".</pre>

Aske on IRC:
>  it's because it tries to map the image property to a image variant, but there is none until you upload an image

This issue also happens when trying to save something on an element with an image property before uploading an image"
46252,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Date picker breaks after switching month,Aske Ertmann,"",2014-11-02 12:22,"","",2013-03-13,"","",0,2013-03-13 17:49,"","",1063800,"","When using the jQuery UI datepicker in the inspector and navigating to another month it breaks.

The error is probably related to our RequireJS inclusion of jQuery UI

Either switch to Twitter Bootstrap date picker or fix the issue"
46251,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Date picker breaks after switching month,Aske Ertmann,Frans Saris,2014-11-02 12:22,"",1.0 alpha 6,2013-03-13,"","",100,2013-03-13 17:49,"","",1063750,"","When using the jQuery UI datepicker in the inspector and navigating to another month it breaks.

The error is probably related to our RequireJS inclusion of jQuery UI

Either switch to Twitter Bootstrap date picker or fix the issue"
46232,TYPO3.Neos,Task,"",New,Should have,DateTimeValidator,Aske Ertmann,"",2013-03-13 08:37,JavaScript,1.0 beta 1,2013-03-13,"","",0,2013-03-13 08:36,"","",1062800,"","Since the DateTimeValidator in Flow is quite advanced this validator has it's own ticket.

We could use https://github.com/twitter/twitter-cldr-js/blob/master/lib/assets/javascripts/twitter_cldr/en.js for some of the CLDR stuff needed for this validator"
46231,TYPO3.Neos,Task,"",New,Should have,NumberValidator,Aske Ertmann,"",2013-03-13 08:37,JavaScript,1.0 beta 1,2013-03-13,"","",0,2013-03-13 08:33,"","",1062750,"","Since the NumberValidator in Flow is quite advanced this validator has it's own ticket.

We could use https://github.com/twitter/twitter-cldr-js/blob/master/lib/assets/javascripts/twitter_cldr/en.js for some of the CLDR stuff needed for this validator"
46221,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Server communication error,Pankaj Lele,"",2014-11-02 12:22,Frontend,1.0 beta 1,2013-03-13,"","",0,2013-03-13 02:53,"","",1062250,"","""Server communication error, reload the page to return to a safe state if another publish does not work""

This error is shown only when an Image content element is added on the page and page is published. Error is shown only while clicking Publish Page. Even if the error is shown, content is actually published.

No errors visible in System.log. 

Producible in both Development and Production context. "
46152,TYPO3.Neos,Feature,"",Closed,Should have,"Adding new content with ""create after"" from inside another element is unnatural",Tanel Põld,"",2014-10-03 07:25,"","",2013-03-10,"","",0,2013-03-10 01:19,"","",1059000,"","I have been struggling with the idea, adding new content elements from inside the element above.
I think focus should be removed from the edited (i'm done with it for now) content element and should not need to be touched again before I want to change, delete or replace it.

Adding new content should be standalone act. Clicking on already there content is logically for manipulating this very same content element but not adding a new one.

As for a very nice and intuitive example I'd bring this: http://sitecake.com/
It's fairly close to the Neos editing UI but feels lot more natural.
TYPO3 CMS gridelements extension brings similar features to the TYPO3 backend and users are very happy with it."
46059,TYPO3.Neos,Bug,"",Resolved,Should have,Workspace error,Piseth Sok,Piseth Sok,2013-05-11 13:51,"","",2013-03-06,"","",0,2013-03-05 23:59,"","",1054350,"","I got this error when I navigate to workspace module in backend.

PHP Fatal error:  Call to a member function getResourcePointer() on a non-object in /home/bruderer/public_html/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Media_Domain_Service_ImageService_Original.php on line 41

I think it is content error with image but I am not sure."
45981,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Searching for pages in link wizard causes exception for unfound nodes,Aske Ertmann,Aske Ertmann,2014-11-02 12:22,"",1.0 beta 1,2013-03-03,"","",100,2013-03-03 06:31,"","",1050450,"","If the search returns a node that cannot be found with the current content context, an exception occurs because it tries to handle NULL as a node."
45980,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Inserting of new content which uses layout or partials fails,Aske Ertmann,Aske Ertmann,2014-11-02 12:22,"",1.0 beta 1,2013-03-03,"","",100,2013-03-03 06:23,"","",1050400,"",When inserting new content which uses layout or partials the standalone view is unable to find the partial or layout if it ends with .html due to it's being rendered through a ExtDirect call. This means that it tries to look for a layout or partial with .extdirect instead of .html
45972,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Improve error handling occurring during image upload,Aske Ertmann,"",2014-11-02 12:22,"",1.0 beta 1,2013-03-02,"","",0,2013-03-02 13:14,"","",1050050,"","Currently when the image upload fails there's only a alert shown saying ""HTTP Error"". It should have a more detailed error and specific messages for too large file, partial upload, missing file etc."
45794,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Erroneous XHR Tasks are not always considered as such,Adrian Föder,"",2014-11-02 12:22,"",1.0 beta 1,2013-02-24,"","",0,2013-02-24 11:07,"","",1041300,"","When deleting a Node and confirming the confirmation message, the element disappeared in GUI, but not actually (it was there again after reload).

The XHR Response in that case was a 200 OK, however, the actual response body was
<pre>
{""type"":""rpc"",""tid"":3,""action"":""TYPO3_Neos_Service_ExtDirect_V1_Controller_NodeController"",""method"":""update"",""result"":{""errors"":{""node"":""Could not convert array to Node object because the node \""\/sites\/acme\/ueber-uns\/main\/50462f9712dc2\/content\/node512a353096b15\"" does not exist.""},""success"":false}}
</pre>

(why this happens at all is another story).

Since result.success === false and there are result.errors, these should be shown instead (handling like on a 500); or better: send a 500 error header, I assume it'll be handled automatically then in the frontend.

For the record, the GET uri was @?TYPO3_ExtJS_ExtDirectRequest=1&__csrfToken=5c...@, the request body POST parameters were

<pre>
{""action"":""TYPO3_Neos_Service_ExtDirect_V1_Controller_NodeController"",""method"":""update"",""data"":[{""source"":""<div class=\""team\"">\n <p>Consectetur dolorem ipsum quia dolor sit amet, adipisci velit incidunt ut labor.</p>\n</div>\n"",""_hiddenAfterDateTime"":"""",""_hiddenBeforeDateTime"":"""",""_hidden"":false,""_removed"":true,""_typoscriptPath"":""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/sections/main<TYPO3.Neos:Section>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.ContentTypes:Section.Default>/itemRenderer<TYPO3.TypoScript:Case>/default<TYPO3.TypoScript:Matcher>/element<acme.acmeDe:GridContainer>/containerContent<TYPO3.Neos.ContentTypes:Section>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.ContentTypes:Section.Default>/itemRenderer<TYPO3.TypoScript:Case>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.ContentTypes:Html>"",""__contextNodePath"":""/sites/acmede/ueber-uns/main/50462f9712dc2/content/node512a353096b15@user-adrian""}],""type"":""rpc"",""tid"":3}
</pre>"
45722,TYPO3.Neos,Bug,"",Resolved,Must have,@TODO in method documentation UniqueEntityValidator throws error when updating Neos,Mattias Nilsson,Mattias Nilsson,2013-02-21 13:36,"","",2013-02-21,"","",100,2013-02-21 13:04,"","",1037850,"","@TODO in method documentation UniqueEntityValidator throws error when updating Neos

#1355480641: Execution of subprocess failed with exit code 1 and output: Uncaught Exception [Semantical Error] The annotation ""@TODO"" in class TYPO3\Neos\Validation\Validator\UniqueEntityValidator was never imported. Did you maybe forget to add a ""use"" statement for this annotation? More Information Exception code #0 File /Applications/MAMP/htdocs/phoenix.dev/Base/Packages/Libraries/doctrine/common/lib/Doctrine/Common/Annotations/AnnotationException.php line 52 The erroneous command was: FLOW_ROOTPATH='/Applications/MAMP/htdocs/phoenix.dev/Base/' FLOW_CONTEXT='Development' XDEBUG_CONFIG='idekey=FLOW_SUBREQUEST remote_port=9001' ""/Applications/MAMP/bin/php/php5.3.6/bin/php"" -c '/Applications/MAMP/bin/php/php5.3.6/conf/php.ini' '/Applications/MAMP/htdocs/phoenix.dev/Base/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/../../../../Scripts/flow.php' 'typo3.flow:core:compile' (More information)"
45542,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Workspace module breaks with error,Pankaj Lele,"",2014-11-02 12:22,Content Model,"",2013-02-17,"","",100,2013-02-17 00:57,"","",1029000,"","Workspace module breaks with error:

Argument 1 passed to TYPO3\TYPO3CR\Domain\Model\Node_Original::createProxyForContextIfNeeded() must implement interface TYPO3\TYPO3CR\Domain\Model\NodeInterface, null given, called in /XX/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_TYPO3CR_Domain_Model_Node_Original.php on line 406 and defined"", ""/XX/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_TYPO3CR_Domain_Model_Node_Original.php

This error is seen when I deleted a page node from the tree and when I went to publish this deletion in Management->Workspaces this error is seen and I am just locked."
45534,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,"In Backend, clicking a link should not follow the link",Adrian Föder,Mattias Nilsson,2014-11-02 12:22,UI,1.0 beta 1,2013-02-16,"","",100,2013-02-16 11:57,"","",1028600,"","When clicking an editor-created link (in order to change it, for example), the Browser follows this link which makes it impossible to change the properties, link target etc."
45531,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,"In Backend, handle exceptions more gracefully if possible",Adrian Föder,Tim Kandel,2014-11-02 12:22,"",1.0 beta 1,2013-02-16,"","",100,2013-02-16 09:09,"","",1028450,"","As soon as an exception occurs, it's displayed and the whole backend halts with no way to escape.

As an example, we removed a declaration in TypoScript regarding the plugin implementations of TYPO3.MailForm; such a plugin node was however still present. This resulted in the correct exception

<pre>
#1332493995: The TypoScript object at path ""page<TYPO3.Neos.ContentTypes:Page>/body<TYPO3.TypoScript:Template>/sections/main<TYPO3.Neos.ContentTypes:Section>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.Neos.ContentTypes:Section.Default>/itemRenderer<TYPO3.TypoScript:Case>/default<TYPO3.TypoScript:Matcher>/element<TYPO3.MailForm:Plugin>"" could not be rendered: Missing implementation class name for ""TYPO3.MailForm:Plugin"". Add @class in your TypoScript configuration. (More information)
</pre>

Although this is correct; this exception should rather occur as an inline note or something like that; giving the opportunity to finally delete the node or whatever.

"
45486,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Copy/cut breaks after pasting an element,Mattias Nilsson,"",2014-11-02 12:22,UI,1.0 beta 1,2013-02-14,"","",100,2013-02-14 08:54,"","",1026250,"",Copy/cut/insert new/paste breaks after pasting an element
45485,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Pasting content causes page reload but inserting doesn´t,Mattias Nilsson,Rens Admiraal,2014-11-02 12:22,UI,1.0 beta 1,2013-02-14,"","",0,2013-02-14 08:54,"","",1026200,"",Pasting content causes page reload but inserting doesn´t.
45483,TYPO3.Neos,Task,Story #45435: As a content editor I want to be aware when asynchronous loading is taking place,Closed,Should have,Show loader when searching for page inside link wizard,Mattias Nilsson,Mattias Nilsson,2014-11-02 12:22,UI,1.0 beta 1,2013-02-14,"","",100,2013-02-14 08:50,"","",1026100,"",Show loader when searching for page inside link wizard.
45464,TYPO3.Neos,Task,"",Resolved,Should have,Allow string node paths in node link/uri ViewHelpers as DocCommented,Adrian Föder,Adrian Föder,2013-04-28 16:35,"","",2013-02-13,"","",100,2013-02-13 11:20,"","",1025150,"",the DocComment of Neos' @link.node@ and @uri.node@ says also a node path was accepted which is currently not true.
45456,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,HTML editor displays dynamically inserted content rather than the actual node's,Adrian Föder,"",2014-11-02 12:22,UI,1.0 beta 1,2013-02-13,"","",0,2013-02-13 08:24,"","",1024750,"","if you have an HTML content element which inner content is changed by some client side JavaScript, the HTML editor shows this changed content rather than the background node's.
You can say, the HTML editor always shows the current DOM node's content instead of the TYPO3CR Node's.
"
45454,TYPO3.Neos,Feature,"",New,Must have,Support custom configuration of schema,Aske Ertmann,"",2013-02-13 08:17,"",1.0 beta 1,2013-02-13,"","",0,2013-02-13 08:17,"","",1024650,"","We need a way of providing values to the schema like a list of available plugins, list of available templates etc."
45452,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Part of a site is hidden for small screens,Aske Ertmann,"",2014-11-02 12:22,UI,1.0 beta 1,2013-02-13,"","",100,2013-02-13 08:12,"","",1024550,"",The margin we add to a site makes some of the site unavailable in the content editing view because it is not possible to scroll the page down enough to see those parts
45451,TYPO3.Neos,Feature,"",New,Should have,Enable CSRF token for modules,Aske Ertmann,"",2013-02-13 08:10,"","",2013-02-13,"","",0,2013-02-13 08:10,"","",1024500,"",Currently the CSRF token is disabled for modules because the aspect doesn't do it properly. To implement it we probably need to write our own aspect to support the way routing for the modules work
45450,TYPO3.Neos,Feature,"",New,Could have,Use media queries to change width of tree panel/inspector dependent on screen width,Aske Ertmann,"",2013-02-13 08:08,"",1.0 beta 1,2013-02-13,"","",0,2013-02-13 08:08,"","",1024450,"","When someone is using a wide screen to edit the content, there shouldn't be any harm in making the page tree/inspector wider than default"
45449,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Labels for content elements without a title,Aske Ertmann,Mattias Nilsson,2014-11-02 12:22,"",1.0 beta 1,2013-02-13,"","",100,2013-02-13 08:05,"","",1024400,"","We should improve the default labe generator to be able to generate labels for elements without or with an empty title

If no title is present and no specific label generator is defined, we should use the properties to see if we can generate something useful"
45448,TYPO3.Neos,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Add missing icons for inspect tree,Aske Ertmann,Aske Ertmann,2014-11-02 12:22,UI,1.0 beta 1,2013-02-13,"","",100,2013-02-13 08:03,"","",1024350,"","Currently the fallback icon for the inspect tree doesn't fit with the other icons

Also the root icon is not a globe, but the fallback icon

This is related to #45431 where the icons should change from being added to CSS to using actual images instead"
45447,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Should have,HTML editor causes JavaScript error,Aske Ertmann,Aske Ertmann,2014-11-02 12:22,"","",2013-02-13,"","",100,2013-02-13 08:01,"","",1024300,"","When clicking the HTML element twice triggers the HTML Editor, which something fails with a JavaScript error

<pre>
Uncaught ReferenceError: CodeMirror is not defined
</pre>"
45445,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Link wizard autocompletion of pages not working properly,Aske Ertmann,"",2014-11-02 12:22,UI,1.0 beta 1,2013-02-13,"","",0,2013-02-13 07:50,"","",1024200,"","* Should not search if it starts with http://, https:// or mailto:
* Should not return multiple results for same node across workspaces
** If the node exists in the users workspace, then it should use the this one to create the link/label. Nodes are connected by the identifier property."
45444,TYPO3.Neos,Task,Task #47024: Overlays,Closed,Should have,Streamline overlay styling,Aske Ertmann,Mattias Nilsson,2014-11-02 12:24,"",1.0 alpha 6,2013-02-13,"","",100,2013-02-13 07:49,"","",1024150,"","Currently there are a lot of different popups and most of them look different, they should all share a common look which can be used for all kinds of popups

Popups:
* Delete element
* Delete page prompt
* Inspector prompt
* New content element
* Image crop/HTML editor
* Link wizard
* Link browser (not implemented yet) - #45217
* Module modals"
45443,TYPO3.Neos,Task,"",Resolved,Must have,Replace Neos specific unique entity validator with the one from Flow,Aske Ertmann,Aske Ertmann,2013-02-25 16:37,"",1.0 beta 1,2013-02-13,"","",100,2013-02-13 07:44,"","",1024100,"","Since the sites management module has been merged, the clone of the unique entity validator has made it into Flow so we should use that one and get rid of the local duplicate"
45442,TYPO3.Neos,Bug,"",Resolved,Should have,Supertype configuration not inherited in VIE schema generation,Aske Ertmann,Aske Ertmann,2013-08-09 10:48,"",1.0 beta 1,2013-02-13,"","",100,2013-02-13 07:43,"","",1024050,"","Supertype configuration of node type configuration is not inherited when generating VIE schema in the NodeTypeSchemaBuilders convertToVieSchema method. This means that you have to configure stuff like group: and other stuff for every node type definition.

Currently it causes the icons of the column element not to be inherited leading to the default icon in the new content element popup"
45441,TYPO3.Neos,Task,"",New,Must have,Replace base tag with absRefPrefix,Aske Ertmann,"",2013-02-13 07:32,"",1.0 beta 1,2013-02-13,"","",0,2013-02-13 07:32,"","",1024000,"","Since having a base tag causes a lot of issues and usage of it is discouraged, we should implement the a way to set a global absolute reference prefix like in TYPO3 CMS.

Either it should be configurable or we should just always create link relative to /"
45439,TYPO3.Neos,Task,Story #45435: As a content editor I want to be aware when asynchronous loading is taking place,Closed,Should have,Indicate loading when inserting a new content element,Aske Ertmann,Mattias Nilsson,2014-11-02 12:22,"",1.0 beta 1,2013-02-13,"","",100,2013-02-13 05:55,"","",1023900,"",""
45438,TYPO3.Neos,Task,Task #45436: General code cleanup,Closed,Should have,Get rid of DOM class/id mix,Aske Ertmann,"",2014-10-04 11:09,"",1.0 beta 1,2013-02-13,"","",0,2013-02-13 05:52,"","",1023850,"","Currently we use id and classes for the UI elements and that is a little confusing when writing styles

We should get rid of classes that are also represented with an ID

Generally all elements that are direct children of the body tag should have an ID and the class t3-ui.

Examples:
* Currently the notifications container only has a class and no ID.
* The page panel currently has the class t3-inspector
* The footer panel currently has the class t3-toolbar
* The toolbar currently also has the class t3-toolbar
* The inspector currently also has the class t3-inspector"
45437,TYPO3.Neos,Task,Task #45436: General code cleanup,Closed,Should have,Organize SCSS files/styles,Aske Ertmann,"",2014-10-04 11:10,"","",2013-02-13,"","",0,2013-02-13 05:47,"","",1023800,"","The current state of the SCSS files and styles is one big mess.

We need to split everything into more specific folders/files and get rid of ""work in progress"" and also split of style.scss into smaller more specific files"
45436,TYPO3.Neos,Task,"",Closed,Should have,General code cleanup,Aske Ertmann,"",2014-10-04 11:11,"",1.0 beta 1,2013-02-13,"","",100,2013-02-13 05:45,"","",1023750,"",This is an umbrella task for cleaning up the code for ease of use and further development
45433,TYPO3.Neos,Feature,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Support configurable rendering max widths of images,Aske Ertmann,Aske Ertmann,2014-11-02 12:21,"",1.0 beta 1,2013-02-13,"","",100,2013-02-13 05:29,"","",1023700,"","It should be supported to define max width for image rendering using TypoScript

It should be possible to set the configuration based on the context using Eel"
45431,TYPO3.Neos,Feature,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Icon location for Node Types in Neos shouldn't be fixed to Neos package,Christian Müller,"",2014-11-02 12:21,"",1.0 beta 1,2013-02-13,"","",100,2013-02-13 04:45,"","",1023600,"",Allow usage of resource uris for icons to allow usage from other packages.
45361,TYPO3.Neos,Task,"",Resolved,Should have,"Make ""Neos_lastVisitedUri"" Cookie obsolete",Adrian Föder,Adrian Föder,2013-03-26 07:37,"","",2013-02-11,"","",100,2013-02-11 05:30,"","",1020100,"","Since it's at least for caching not a good practice to have cookies around, it would be worthwhile to renounce this cookie.

An idea would be to use localStorage; however this is not that easy to pass to the server like a Cookie is.

One solution would be to add the localStorage value to a hidden field in the login screen, making it available for the redirect.

Then the value should be stored in the user preferences or the flow session, so that the redirect would work when accessing /neos and already being logged in. This would mean that the redirect wouldn't necessarily go to the last visited page in the frontend when logged in, but the last visited page before logging in. We could possibly update the flow session / user preference when navigating pages and being logged in.

Another solution would be to make the redirect client based and use JavaScript to do the actual redirect combining the value of localStorage and the workspace name. This has the drawback of having to run JavaScript for the redirect and also the drawback of being unable to check whether a page exists or not before redirecting to it.

I think we should go with the first solution."
45321,TYPO3.Neos,Bug,"",Rejected,Should have,Launcherbar visible in preview mode,Mattias Nilsson,Mattias Nilsson,2013-04-10 15:25,UI,"",2013-02-09,"","",0,2013-02-09 10:59,"","",1018100,"",When activating preview mode during launcher search the launcher bar is still visible.
45320,TYPO3.Neos,Feature,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Support collapsing of inspector property groups,Mattias Nilsson,Aske Ertmann,2014-11-02 12:21,UI,"",2013-02-09,"","",100,2013-02-09 10:49,"","",1018050,"",Add the possibility to toggle between open and close inside the different inspector panel parts (see attached screenshot).
45277,TYPO3.Neos,Task,"",Resolved,Should have,Change width of the treepanel,Mattias Nilsson,Mattias Nilsson,2013-02-08 14:37,UI,"",2013-02-08,"","",100,2013-02-08 08:27,"","",1015950,"",Change the width of the treepanel due that on a small screen it takes up to much space.
45054,TYPO3.Neos,Bug,"",Resolved,Must have,Creating page in the pagetree works not properly after editing the nodename,Markus Goldbeck,Markus Goldbeck,2013-03-22 04:37,UI,"",2013-01-31,"","",100,2013-01-31 16:57,"","",1004950,"","When a nodename is changed in the inspector, the pagetree panel is closed and the tree reinitialized. Because of this the click events which are bind to the toolbar, are that often initialized and called as the tree. So many new pages are added to the tree on the clientside and on on the serverside, which leads to confusion. 
The solution is to unbind the click events in the toolbar when the pagetree is resetted.  "
45042,TYPO3.Neos,Task,"",Resolved,Should have,Add generic format matcher to root case object,Christian Müller,Christian Müller,2013-08-09 10:48,TypoScript,Sprint February 2013,2013-01-31,"","",100,2013-01-31 11:36,"","",1004400,"",""
44949,TYPO3.Neos,Task,Story #44950: As a Integrator I want to add RSS rendering in TypoScript,Resolved,Should have,Root element Case to decide rendering path,Christian Müller,Christian Müller,2013-01-31 06:37,"",Sprint February 2013,2013-01-30,"","",100,2013-01-30 03:19,"","",1000550,"",""
44834,TYPO3.Neos,Bug,"",Closed,Should have,Popover for delete confirm dialog is not fully visible,Mattias Nilsson,"",2013-02-07 10:04,UI,"",2013-01-26,"","",0,2013-01-26 14:59,"","",995250,"",Due to a lower z-index than the inspector panel the confirm delete dialog is not fully visible.
44827,TYPO3.Neos,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Error loading the VIE schema,Simon Schaufelberger,"",2014-11-02 12:22,"","",2013-01-26,"","",100,2013-01-26 11:48,"","",994900,"","i have neos on windows running and my machine is fast but still i get a timeout.

i want to edit a page and get the following 2 entries after a while (the network tab showed me 33 seconds) in firebug:

<pre>
GET http://neos.localhost/neos/schema/index?__csrfToken=xxx Aborted
Error loading the VIE schema http://neos.localhost/_Resources/Static/Packages/TYPO3.Neos/JavaScript/contentmodule-main-built.js in line 345
</pre>

the result is that the sidebar on the right is not loaded (just black and empty) and i cannot edit any content elements.

PS: The Inspector on the left bottom is also responding with a timeout."
44812,TYPO3.Neos,Feature,"",Resolved,Should have,Make non-editable-overlay configurable through content type schema,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-01-31 03:59,UI,1.0 beta 1,2013-01-25,"","",0,2013-01-25 10:51,"","",994150,"","We should make it configurable whether an ""uneditable overlay"" should be shown in the backend when a plugin is visible. In many cases, this clearly makes sense; but for some plugins this might be un-helpful as they are rendered differently in the backend."
44727,TYPO3.Neos,Bug,Work Package #45021: [WIP] [ASSIGNEE MISSING] Cross Browser Compatibility,Closed,Must have,Button toolbar is placed inline in Firefox,Mattias Nilsson,Mattias Nilsson,2014-10-02 05:26,UI,1.0 beta 1,2013-01-22,"","",0,2013-01-22 12:13,"","",989900,"","Button toolbar is placed inline in Firefox instead of on top of a content element, when trying to edit the element.

The affected class is ""btn-toolbar"". "
44667,TYPO3.Neos,Bug,"",Resolved,Should have,When contentTypeSelectorTabs is open the right t3-inspector is placed on top,Mattias Nilsson,Mattias Nilsson,2013-01-20 14:36,UI,"",2013-01-20,"","",100,2013-01-20 04:49,"","",986950,"",When contentTypeSelectorTabs is open the right t3-inspector is placed on top. This makes it impossible for the user to select the different kinds of content types.
44648,TYPO3.Neos,Bug,"",Rejected,Should have,Content Module Dialogs Styling is broken,Markus Goldbeck,Markus Goldbeck,2013-04-10 15:21,UI,"",2013-01-18,"","",0,2013-01-18 10:38,"","",986000,"",""
44647,TYPO3.Neos,Feature,"",Closed,Should have,Moving Contentelements into other Sections using the Inspecttree,Markus Goldbeck,Markus Goldbeck,2014-01-07 03:51,UI,"",2013-01-18,"","",0,2013-01-18 10:34,"","",985950,"",Right now it is only possible to move contentelements inside their own section. 
44646,TYPO3.Neos,Feature,"",Closed,Could have,Reloading the Pagetree,Markus Goldbeck,Markus Goldbeck,2014-01-07 03:52,UI,"",2013-01-18,"","",0,2013-01-18 10:30,"","",985900,"",Accordingly to the Pagetree in TYPO3 CMS there should be a possibility to reload the pagetree
44644,TYPO3.Neos,Feature,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Nodename according to the pagetitle,Markus Goldbeck,Robert Lemke,2014-11-02 12:22,UI,"",2013-01-18,"","",100,2013-01-18 10:11,"","",985800,"","When a new page is created the nodename should be accordingly named like the title.

Example:

new pagetitle: Products -> nodename: products

if there is already a nodename called 'products' it should be automatically be changed into 'products1'"
44628,TYPO3.Neos,Task,"",New,Should have,Integrating a timepicker into the Inspector Datepicker for timing visibility,Markus Goldbeck,Markus Goldbeck,2013-01-18 05:06,UI,"",2013-01-18,"","",0,2013-01-18 05:00,"","",985000,"","Right now it is only possible to time the visibility of a page only in days and not at a planned time. So a timepicker should be integrated into the datepicker.

Here two possibilities
http://trentrichardson.com/examples/timepicker/ Apache

http://trentrichardson.com/examples/timepicker/ MIT GPL
"
44582,TYPO3.Neos,Bug,"",Closed,Should have,Unstyled modal confirm dialog,Mattias Nilsson,"",2013-02-13 03:42,"","",2013-01-16,"","",0,2013-01-16 13:14,"","",982700,"","The modal confirm dialog is unstyled in the content tab. When for example changing a picture and the dialog it´s unstyled (see attached image).

Solution is to use the same modal styling as in backend modules."
44420,TYPO3.Neos,Bug,"",Resolved,Must have,New content element popover is positioned fixed,Aske Ertmann,Aske Ertmann,2013-01-11 12:37,JavaScript,"",2013-01-10,"","",100,2013-01-09 18:52,"","",974600,"","When clicking the new content element icon then the popover is opened, but is positioned fixed. This means that when you scroll the position of the popover is misleading and interferes."
44419,TYPO3.Neos,Bug,"",Resolved,Must have,Remove popover doesn't close new content element popover,Aske Ertmann,Aske Ertmann,2013-01-11 14:36,JavaScript,"",2013-01-10,"","",100,2013-01-09 18:49,"","",974550,"",When clicking the add new content element icon and then clicking the remove or any other popover the new content element doesn't close. This happens because the global variable to see if any popover windows are open is overwritten every time the popover plugin is used. Most of the popovers are initialised on load except for the remove popover.
44409,TYPO3.Neos,Bug,"",Resolved,Must have,Package management must not call updateSchema(),Karsten Dambekalns,Karsten Dambekalns,2013-01-15 04:38,"",1.0 beta 1,2013-01-09,"","",100,2013-01-09 07:58,"","",974050,"","When a package is activated or deactivated through the package management feature in the Administration module, @updateSchema()@ is called. This should never be done, if schema changes are needed, the use of migrations is in order (and that is best done elsewhere)."
44404,TYPO3.Neos,Task,"",Resolved,Should have,Improve error handling for missing root TypoScript template,Robert Lemke,Robert Lemke,2013-01-10 03:36,TypoScript,Sprint February 2013,2013-01-09,"","",100,2013-01-09 07:27,"","",973800,"","If a site does not contain a root TypoScript template (or it was placed at a wrong location), a meaningful error message should be displayed"
44403,TYPO3.Neos,Feature,"",Resolved,Should have,Support setting a target node for Shortcut,Robert Lemke,Robert Lemke,2013-01-10 03:36,Frontend,Sprint February 2013,2013-01-09,"","",100,2013-01-09 07:21,"","",973750,"","Even if there's no user interface which could handle Shortcut nodes (page tree redirects to the actual node, for example), it would be useful to enhance the Shortcut page type so that a specific node can be set programmatically instead of the behavior to redirect to the first sub node."
44400,TYPO3.Neos,Task,"",Resolved,Should have,ContenElementWrappingService needs safeguard for date unserialization,Robert Lemke,Robert Lemke,2013-01-09 15:37,UI,Sprint February 2013,2013-01-09,"","",100,2013-01-09 06:24,"","",973600,"","The service only checks if a date-typed node property is != NULL, but doesn't check if it is actually a DateTime object. In some cases, the property might be an empty string or ... whatever. These edge cases should at least not end with a fatal error."
44304,TYPO3.Neos,Bug,"",Resolved,Should have,When searching with the launch toolbar a boolean is shown instead of a node title,Mattias Nilsson,"",2013-01-18 01:35,"","",2013-01-04,"","",100,2013-01-04 08:11,"","",968800,"",When searching with the launch toolbar a boolean is shown instead of a node title. See attached image.
7143,Base Distribution,Story,"",Resolved,Must have,As a WebsiteUser I want to see a simple website. ,Robert Lemke,"",2011-05-05 07:49,"","","","","",0.00,100,2010-04-06 11:16,"","",2607800,"","*As a [[website user]] I want to see a simple website.*

* The content is in stored in the Content Repository
* At least 2 pages with real urls
* RTE text content is displayed
* W3C valid layout (demo package)
"
7144,Base Distribution,Story,"",Resolved,Must have,As a PHP Developer I want to have an easy API to create a page and add content to it.,Robert Lemke,"",2011-05-05 07:49,"","","","","",0.00,100,2010-04-06 11:34,"","",2607750,"","*As a [[PHP Developer]] I want to have an easy API to create a page and add content to it*

* demo controller
* developer documentation explaining the usage
"
7214,Base Distribution,Story,"",Resolved,Should have,As a Editor I want to login and a basic editor interface should be loaded.,Daniel Poetzinger,"",2011-05-05 07:49,"","",2010-04-11,"","",0.00,100,2010-04-11 14:49,"","",2607700,"","criteria:

* I can add ""/typo3"" to the Url and a login-screen is shown, that looks like the PSD

  * own extjs theme should be used
  * layout is not ""final"" but more ""example"" like

* If I type wrong credentials an error should be shown
* If I type in the correct credentials a basic BE is loaded (and below I see the page from before)
* a Selenium-Test tests the sucessful login for the demopackage
"
7215,Base Distribution,Story,"",Resolved,Must have,As Phoenix team member I want a state-of-the art build and CI environment,Daniel Poetzinger,"",2011-05-05 07:49,"","",2010-04-11,"","",0.00,100,2010-04-11 14:59,"","",2607650,"","h2. Suggestion for Build environments:

* integration_dev with own domain for fe access
* * building from the ""phoenix"" trunk  (using (svn externals) to FLOW3, TYPO3 5.0 and the Demopackage that we want to build up)


* integration with own domain for FE access
* * building from the latest/defined tag (using also tagged packages and not trunk of packages)

h2. Build Setups in Hudson:

1) phoenix-integration_dev_commit
* Quick build that is triggered by SVN commits. 
* build xml just checkout the packages and run the basic unit tests

2) phoenix-integration_dev_full
* triggered nightly
* build that builds from scratch (empty folder):
* build xml:
 * svn checkout of phoenix trunk
 * fill the contentrepository with a CR dump
 * system specific configurations (property file)
 * run unit tests
  * run integration unit tests and selenium tests

3) phoenix-integration_dev_tests and 4) phoenix-integration_tests
* triggered manual only running the selenium tests


4) phoenix-integration_full
* triggered manual (at en of sprint for instance)
* simelar to phoenix-interagtion_dev_full but 
  * as the first step it tags the relevant packages
  * it tags the phoenix and adjust svn externals to new tag
  * then it builds from tag





*Criteria:*
* phoenix-dev.typo3.org points to integration-dev
* phoenix.typo3.org points to integration
* Hudson shows the build projects
* build (phing) files are in svn and understandable
* some short system overview (physically) and some short explainations



"
7918,Base Distribution,Story,"",Resolved,Should have,As a User I want to see a dynamic navigation on the website,Daniel Poetzinger,Robert Lemke,2011-05-05 07:49,"","",2010-05-26,"","",0.00,100,2010-05-26 08:41,"","",2607900,"","- There should be a pagetree in the Content Repository with at least 1 Level
- It should be rendered with TypoScript as ul / li based navigation. It should render as Folddown menu (CSS or JS)
- The Menu Generation (TMENU?) should be documented, with features like:
   - entryLevel
   - diffrent Rendering of the diffrent Levels (wrap, classes)
   - diffrent Rendering of diffrent States (normal, active (=page in menu = current page), current (=page in menu is in rootline of current page))



"
7920,Base Distribution,Story,"",Resolved,Should have,As an Editor I want to edit page properties of current page.,Daniel Poetzinger,Christopher Hlubek,2011-05-05 07:49,"","",2010-05-26,"","",0.00,100,2010-05-26 08:44,"","",2607850,"","- After a Login I want to click on ""edit"" > ""Page properties"" and a form which allows me to edit pageproperties should be loaded. At least this fields:
(The fields that are avaiable for rendering should be configurable (TCA like)) 


   - Pagetitle (<title> tag)
   - Navigationtitle (Used in menues)
   - Pathsegment?
   - hidden

- After saving the changes the page should reload and the changes should take effect"
7921,Base Distribution,Story,"",Resolved,Should have,As  Magarethe I want to add  pages,Daniel Poetzinger,"",2011-05-05 07:49,"","",2010-07-06,"",1.00,0.00,100,2010-05-26 08:46,"","",2608500,0.00,"Click on ""add page""
  - slide down of page properties
  - Fields: title / navtitle / pathsegment
  - Part to select the position of the new page...  (it shows the siblings)

(creating childpages still needs to be planned)
"
7922,Base Distribution,Story,"",Resolved,Should have,As Magarethe I want to delete pages,Daniel Poetzinger,"",2011-05-05 07:49,"","","","","",0.00,0,2010-05-26 08:48,"","",2608450,0.00,"""trash"" icon shows a confirmation in a ""flyout dialog""
  - after confirmation it just deletes current page and reloads (shows next useful page)
"
7923,Base Distribution,Story,"",Resolved,Should have,As Magarethe I want to edit content on the website using inline editing,Daniel Poetzinger,"",2011-11-07 05:37,"","","","","",0.00,0,2010-05-26 08:53,"","",2607600,0.00,"-Edit Headline and Text inline on all pages where we have Text elements
  -if it looses focus it saves in the CE fields according to the CE structure

Structure to support:

   [mul_ZZ: Page]
  /  
[SN]    ------[de_DE: Section]
  |    /       title: ""Willkommen""
  |    +------[en_EN: Section]
  +--[SN]      title: ""Welcome""
       |
       +--[SN]---[mul_ZZ: Text]
            |     body: ""Go to our <link> other website!""
            | 
            +--[SN]---[mul_ZZ: Link] 
                      href: 

Content Context:
   de_DE
   time
   ...





"
8643,Base Distribution,Story,"",Resolved,Should have,As a Developer I want a Plugin API Concept,Daniel Poetzinger,"",2011-05-05 07:49,"","",2010-07-04,"","",0.00,100,2010-07-03 18:34,"","",2608000,"","- Documentation of API
- Dummy Controller Example
"
8644,Base Distribution,Story,"",Resolved,Should have,As Robin I want to have a Basic ManagementView (List),Daniel Poetzinger,"",2011-05-05 07:49,"","",2010-07-06,2010-07-07,"",0.00,0,2010-07-03 18:41,"","",2608400,0.00,"- click on management and a 2 column grid is shown:


--------------------------------------------------
 Pagetree   | tabbed panel (by object type)
            |    in the tabs: flat list of elements in this page



(no saving, editing yet)


"
8786,Base Distribution,Story,"",Closed,Should have,As Klaus I want to see all available contenttypes in order to add one to the current page,Daniel Poetzinger,"",2012-02-28 15:41,"",Sprint 7,"","","",0.00,100,2010-07-10 04:21,"","",1766050,0.00,"Includes
- Concept for configuring available CE Types for certain sites (pagetrees) - including preview icon
- Concept for permissions on CE Types
- Concept for Basis Set of CE"
8787,Base Distribution,Story,"",Closed,Should have,As  Klaus  I want to add new content elements to a website,Daniel Poetzinger,"",2011-09-20 11:54,"",Sprint 7,"","","",0.00,25,2010-07-10 04:21,"","",1766000,0.00,"Drag and Drop from the view area to the page
"
8788,Base Distribution,Story,"",Closed,Should have,As Magarethe I want to delete content elements on a website,Daniel Poetzinger,"",2011-11-07 04:48,"","","","","",0.00,100,2010-07-10 04:22,"","",2606850,0.00,Possible aloha tab?
8789,Base Distribution,Story,"",Closed,Must have,As Robin I want to add and configure a plugin on a page,Daniel Poetzinger,"",2011-09-20 11:54,"",Sprint 7,2010-07-10,"","",0.00,0,2010-07-10 04:23,"","",1765950,"","In Content View it should be possible to

* add a new content element of type Plugin
* basically configure the plugin's behavior / appearence"
8792,Base Distribution,Epic,"",New,Could have,EPIC: Speed and Contentcaching,Daniel Poetzinger,"",2012-08-31 05:07,"","",2010-07-10,"","",0.00,20,2010-07-10 06:04,"","",2607550,"","Integrate in Hudson a general jmeter performance graph

This can also include support vor Varnish"
8793,Base Distribution,Story,"",Resolved,Should have,Setup Git and Gerrit,Daniel Poetzinger,Karsten Dambekalns,2011-05-05 07:49,"","",2010-07-10,"","",0.00,100,2010-07-10 06:06,"","",2607950,"","- connection gerrit and redmine + authentification
- documentation for the usage "
8796,Base Distribution,Story,"",Closed,Could have,As Roger I want a flexible and powerful TCA Concept in order to define my objects,Daniel Poetzinger,"",2011-09-20 11:54,"","",2010-07-03,"","",0.00,100,2010-07-10 06:16,"","",2606800,0.00,"- documentation
- flexibility
- Domain driven design concepts"
8797,Base Distribution,Story,"",Resolved,Should have,"As a backend user, I want the new Visual Design implemented",Daniel Poetzinger,"",2011-05-05 07:49,"","",2010-10-16,2010-10-22,1.00,0.00,100,2010-07-10 06:18,"","",2608350,1.00,""
8798,Base Distribution,Story,"",On Hold,Should have,As Robin I want to edit basic objects in the management view.,Daniel Poetzinger,"",2013-04-10 14:53,"","",2010-07-10,"","",0.00,0,2010-07-10 06:19,"","",1765750,"",""
9473,Base Distribution,Story,"",Resolved,Should have,As Robin I want to use the content-repository to add contentelements and domain objects.,Daniel Poetzinger,Robert Lemke,2011-05-05 07:49,"","",2010-08-26,"","",0.00,0,2010-08-26 16:37,"","",2608050,"","Technical Issue that targets the required refactoring of the content-repository, in order to store contenttype-nodes together with domain-objects in the same structure.

Acceptance Criteria:

- Since the management view is also part of this sprint it should be possible to see the basic pagetree of the starterpackage: With pages and its structure + the contentelements in the pages + In a certain page ""Blog"" there should be some sample ""post"" domain records.

- Documentation:
1) The usage of the API (if useful together with a UML scetch showing how it works) should be available on the flow3 website
2) The definition of new contenttypes (How + Samples)
3) Optional: Kickstart TCA like concept for defining the editing behaviour of domain objects in the management view later


- Code-Coverage of persistence and contentrepository layer should be >80%"
9475,Base Distribution,Story,"",Resolved,Should have,As Robin I want to use a REST service to access the content repository,Daniel Poetzinger,Robert Lemke,2011-05-05 07:49,"","","","","",0.00,0,2010-08-26 16:42,"","",2608300,0.00,"Accessing the contentrepository should be possible through a REST service.

A nice acceptance criteria is a proof of concept access of the CR via the REST service through a mobile device. 


acceptance criteria:
- Documentation of the usage
- Sample Usage in TYPO3 5.0
- optional: Mobile device showcase"
10273,Base Distribution,Story,"",Resolved,Should have,"As Roger, I want to have Doctrine2 for persistence evaluated",Karsten Dambekalns,Karsten Dambekalns,2011-05-05 07:49,"","","","","",0.00,0,2010-10-15 08:45,"","",2608700,0.00,"* our DB structure would be compatible with other packages
* persistence is actually really usable afterwards :)
* they offered their help
* if Doctrine supports versioning, we should use it really soon"
10285,Base Distribution,Story,"",Resolved,Should have,"As Roger, I want clean and extensible JavaScript Code",Sebastian Kurfuerst,"",2011-05-05 07:49,"","",2010-10-07,2010-10-07,"",0.00,0,2010-10-16 04:23,"","",2608250,0.00,this includes also the Breadcrumb Menu
10367,Base Distribution,Story,"",Resolved,Should have,"As Roger, I want to have Guidelines for JavaScript and CSS Programming",Sebastian Kurfuerst,"",2011-05-05 07:49,"","",2010-10-06,"","",0.00,0,2010-10-21 04:30,"","",2608200,0.00,""
10368,Base Distribution,Story,"",Resolved,Should have,As Gerrit I want that editors don't edit content directly on the live website,Robert Lemke,"",2011-05-05 07:49,"","","","","",0.00,0,2010-10-21 04:36,"","",2608150,0.00,"Any user editing content should do so only in their personal workspace. After an editing session TYPO3 should give the opportunity to publish the new content to the live workspace.

* editing only affects the personal workspace of the logged in user
* on logout or closing the browser window, TYPO3 asks if workspace should be published
* publishing workspace overrides any other content of the live site (ie. no merge functionality yet)"
10373,Base Distribution,Story,"",Resolved,Should have,As Roger I want to have functional testing support in FLOW3,Robert Lemke,"",2011-05-05 07:49,"","","","","",0.00,14,2010-10-21 04:47,"","",2608100,0.00,""
10506,Base Distribution,Story,"",New,Must have,"Minimalistic Media Browser (Files, Images, Documents)",Daniel Poetzinger,Christian Müller,2013-01-30 08:29,Content Editing,1.0 beta 1,"","","",0.00,0,2010-10-28 08:40,"","",2607500,"",""
10508,Base Distribution,Epic,"",New,Must have,EPIC: Roles / Security for BE and FE / Usermanagement,Daniel Poetzinger,"",2013-01-30 08:43,"","","","","",0.00,0,2010-10-28 08:43,"","",1763100,0.00,"TODO!!!

* User Management for Frontend and Backend is the same.

DoD:

* Users are groupable into *Groups*
* Groups are assigned to roles

We start with the following roles:

* Admin
* Site Integrator
* Editor == Content Manager


Lateron, each module might define one or multiple roles."
10509,Base Distribution,Epic,"",New,Should have,EPIC: Workspaces and Publishing Workflows,Daniel Poetzinger,"",2012-08-31 05:07,"","","","","",0.00,0,2010-10-28 08:43,"","",2607450,"",""
10511,Base Distribution,Epic,"",Closed,Should have,EPIC: Timed Content,Daniel Poetzinger,"",2012-08-31 05:07,"","","","","",0.00,0,2010-10-28 08:45,"","",2607400,"",""
10513,Base Distribution,Epic,"",New,Won't have this time,EPIC: System-Monitoring / Maintenance,Daniel Poetzinger,"",2012-08-31 05:08,"","","","","",0.00,0,2010-10-28 08:47,"","",2607350,"",""
10514,Base Distribution,Epic,"",Closed,Should have,EPIC: Easy Layout Creatinon for Cornelius,Daniel Poetzinger,"",2012-08-31 05:08,"","","","","",0.00,0,2010-10-28 08:47,"","",2607300,"",""
10515,Base Distribution,Work Package,"",New,Must have,[WIP] Content Translation Support,Daniel Poetzinger,Karsten Dambekalns,2013-08-02 06:36,General / Project,1.1,"","","",0.00,0,2010-10-28 08:47,"","",2607250,"","h1. Content Translation Support

* Target Audience: *content editors* who want to deal with multi-lingual sites
* Responsible: Karsten Dambekalns
* Implemented by: Karsten Dambekalns, Christian Jul Jensen
* Amount: XY work days
* Version: *must have* for 1.1
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
10620,Base Distribution,Story,"",Resolved,Should have,As Roger I want a reasonable test coverage of the TYPO3CR package,Robert Lemke,"",2011-05-05 07:49,"","","","","",0.00,0,2010-11-04 07:16,"","",2608650,0.00,""
10828,Base Distribution,Epic,"",Closed,Should have,EPIC: Deploymentsupport,Daniel Poetzinger,"",2012-08-31 05:08,"","","","","",0.00,0,2010-11-16 06:03,"","",2607150,"",""
11042,Base Distribution,Story,"",Closed,Should have,"As Roger, I want clean and extensible JavaScript Code",Robert Lemke,"",2011-09-20 11:54,"",Sprint 7,2010-11-16,"","",0.00,29,2010-11-24 06:31,"","",1765900,0.00,this includes also the Breadcrumb Menu
11044,Base Distribution,Story,"",Resolved,Should have,As  Magarethe I want to add  pages,Robert Lemke,"",2011-05-06 02:49,"",Sprint 7,2010-07-06,"","",0.00,0,2010-11-24 06:44,"","",1765850,0.00,"Click on ""add page""
  - slide down of page properties
  - Fields: title / navtitle / pathsegment
  - Part to select the position of the new page...  (it shows the siblings)

(creating childpages still needs to be planned)
"
11045,Base Distribution,Story,"",Resolved,Should have,As Robin I want to have a Basic ManagementView (List),Robert Lemke,"",2011-05-05 07:49,"","",2010-07-08,2010-07-08,"",0.00,17,2010-11-24 06:46,"","",2608600,0.00,"- click on management and a 2 column grid is shown:


--------------------------------------------------
 Pagetree   | tabbed panel (by object type)
            |    in the tabs: flat list of elements in this page



(no saving, editing yet)


"
11187,Base Distribution,Story,"",Resolved,Should have,"As a community member, I want a smooth demo site experience",Robert Lemke,"",2011-05-05 07:49,"","","","","",0.00,20,2010-11-30 13:26,"","",2608550,0.00,""
11946,Base Distribution,Story,"",Resolved,Should have,"As Roger, I want to have Doctrine implemented as Persistence backend",Sebastian Kurfuerst,"",2011-05-05 07:51,"","","","","",0.00,67,2011-01-06 08:07,"","",2608850,0.00,""
11968,Base Distribution,Story,"",Closed,Won't have this time,Ext JS 4.0 integration,Sebastian Kurfuerst,"",2012-02-28 15:52,"",Sprint 7,2011-05-03,"","",0.00,75,2011-01-06 08:29,"","",1766350,0.00,""
12443,Base Distribution,Epic,"",New,Should have,EPIC: performant Contenttargeting (personalisation),Daniel Poetzinger,"",2012-08-31 05:07,"","","","","",0.00,0,2011-01-21 09:55,"","",2607200,"",""
13527,Base Distribution,Feature,"",Resolved,Should have,Simple backend usermanagement,Rens Admiraal,"",2012-01-31 01:47,"","","","","",0.00,100,2011-03-02 10:11,"","",2607050,"",""
13528,Base Distribution,Story,"",Closed,Should have,Improve editing of content elements,Rens Admiraal,"",2011-11-07 04:48,"","","","","",0.00,100,2011-03-02 10:11,"","",2606750,0.00,""
13532,Base Distribution,Story,"",New,Must have,Implement File Download Content Type,Rens Admiraal,Christian Müller,2013-01-30 10:06,Content Editing,1.0 beta 1,"","","",0.00,0,2011-03-02 10:14,"","",1760800,"","DoD:

* download a single file"
13534,Base Distribution,Feature,"",Resolved,Must have,"Links in continuous texts and a separate ""link"" field",Rens Admiraal,Sebastian Kurfuerst,2012-08-28 05:41,"","","","","",0.00,100,2011-03-02 10:14,"","",2608800,"",Linking to external and internal URLs must be supported in Aloha.
31638,Base Distribution,Feature,"",Resolved,Must have,Rewrite Rendering Process based on Fluid and TypoScript,Sebastian Kurfuerst,"",2012-08-28 05:41,"","",2011-11-07,"","",0.00,100,2011-11-07 04:12,"","",350950,"","The rendering process based on TypoScript and Fluid needs to be rewritten.

h1. Current Rendering Process

Currently, *both* TypoScript and Fluid are involved in rendering. TypoScript controls the rendering while Fluid is just used to render the individual parts. Thus, TypoScript renders the content. The process is as follows:

# @TYPO3\TYPO3\Controller\Frontend\NodeController::show@ gets a node passed, and triggers @render@ on the view
# @TYPO3\TYPO3\View\TypoScriptView@ picks up:
## it asks the TyposcriptObjectFactory to get a typoscript object name based on the current node type.
## then it checks if the current TypoScript tree has a *top-level object* for the which matches the expected TypoScript object name
## if yes, this is used. If no, we instanciate a default one.
# TypoScript @Page@ object renders a @Template@ TypoScript object
## For that, it assigns the @presentationPropertyNames@ to the template, after wrapping them into a proxy object which evaluate *TS Processors*
## then, the @Node@ object is assigned to the template
## Then, the template is rendered (see below), and the result is possibly wrapped again.
# @TYPO3\TYPO3\TypoScript\Template@ is a Fluid TemplateView and renders the template.
## Especially important is the @\TYPO3\TYPO3\TypoScript\Section@ (inheriting from @TYPO3\TYPO3\TypoScript\ContentArray@ and @\TYPO3\TypoScript\AbstractContentArrayObject@), which creates TypoScript sub-objects for *every* sub node, by asking the @\TYPO3\TypoScript\ObjectFactory@ again. This is how recursion is handled.

h2. Drawbacks of the current rendering process

* very complex
* TypoScriptView is quite inflexible
* recursive rendering creates very many objects, but is not really extensible.

h1. Requirements for revamped rendering

* Nodes can appear multiple times on a page. The rendering must be able to distinguish between these cases.
* When rendering a nodePath, we need to be able to render it completely out-of-context. I.e. render just a single content element being part of a bigger page. This could look somehow like: .../somePage/someSection/text?typoscriptObjectPath=page.sections.someSection.text
** This is needed for Varnish, ESI, etc.
** Thus, the question is *how to address nodes and their rendering information without ambiguity*
* Make Fluid replaceable by other rendering system?? TODO
* TODO: TypoScript objects should be ONLY allowed on FOLDER nodes.
* Bonus: wouldn't it be cool to use TypoScript in combination with Fluid *outside* of Phoenix as well?

h1. Pros and Cons

* *Fluid Template*
** + easy to understand, easy to write
** - only replaceable in an all-or-nothing manner
** - not context dependent; so it is hard to implement things like ""in the right column, all images should be 500 px wide maximum""
* *TypoScript*: 
** + adjustable and overridable on a very fine-grained level through use of TypoScript paths
** + processors are a powerful way to fine-tune rendering.
** + presentationModel enables creating ""virtual nodes"" which are declared just through TypoScript.
** - hard to write
** - presentationModel is hard to grasp and adds a lot of boilerplate code

h1. New Rendering Process

* *central problem: Adressing.* How do we address stuff like ""render node X in context Y""? Y must be identified by a path.
* *central problem: collections.* How do we render a *collection of nodes*? Through an <f:for> loop? Or differently?

* TODO: continue here..."
32034,Base Distribution,Story,"",Resolved,Should have,As a content editor I'd like to see the sub pages of my current page,Sebastian Kurfuerst,Markus Goldbeck,2012-09-04 16:35,"","",2011-11-23,"","",0.00,100,2011-11-23 08:26,"","",2952300,"","DoD:

* on opening, the page tree should have the current page selected
* the sub pages of the current page must be visible (expanded) already
* path to current page (parent nodes) is visible in page tree"
32772,Base Distribution,Feature,"",Resolved,Should have,Create localStorage API,Rens Admiraal,Rens Admiraal,2011-12-23 11:33,"","",2011-12-22,"","",0.00,100,2011-12-22 03:01,"","",406850,"",localStorage only supports storage of string values. This becomes an issue when we have complex fields storing arrays and objects. All those fields have to stringify / decode values themselves. We can work around this with a layer above the localStorage automatically converting the values.
32833,Base Distribution,Feature,"",Resolved,Should have,Update Aloha to most recent Development Version -- with refactored Aloha Blocks,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-01-07 02:14,"","",2011-12-25,"","",0.00,100,2011-12-25 13:18,"","",408900,"","Aloha Blocks have been greatly reworked by me; with lots of performance improvements and bugfixes along the road.

A short overview of the changes can be found at: https://github.com/alohaeditor/Aloha-Editor/pull/366/

However, there are quite some architectural changes in Aloha, which means we need to adjust some parts:

* Loading Order has changed; require.js is now embedded in aloha.js
* jQuery is now available under Aloha.jQuery; not under window.alohaQuery
* Block API has changed; block internals have changes
* numerous bugfixes"
40293,Base Distribution,Epic,"",Closed,Should have,EPIC: Workspace Publication,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:36,"","",1763050,"",was: PHX-9
40294,Base Distribution,Epic,"",New,Should have,"EPIC: Inline Editing Support (Links, Content Types, Plugin)",Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:44,"","",1763000,"",""
40295,Base Distribution,Epic,"",Resolved,Should have,EPIC: TypoScript Rendering,Robert Lemke,"",2013-01-29 10:00,"","","","","",0.00,0,2012-08-28 05:44,"","",1762950,"",""
40296,Base Distribution,Epic,"",Resolved,Should have,EPIC: Plugin Support,Robert Lemke,"",2014-02-09 10:58,"","","","","",0.00,100,2012-08-28 05:45,"","",1762900,"",""
40297,Base Distribution,Epic,"",New,Must have,EPIC: Basic Page Tree Operations,Robert Lemke,"",2013-12-04 13:54,"","","","","",0.00,0,2012-08-28 05:45,"","",1762850,0.00,""
40298,Base Distribution,Epic,"",New,Should have,EPIC: Design / Icons,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:45,"","",1762800,"",""
40299,Base Distribution,Epic,"",New,Must have,EPIC: Content Security (Workspaces),Robert Lemke,"",2012-09-07 04:11,"","","","","",0.00,0,2012-08-28 05:45,"","",1762750,0.00,""
40300,Base Distribution,Epic,"",New,Should have,EPIC: Consistent UI Design (Bootstrap),Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:46,"","",1762700,"",""
40301,Base Distribution,Epic,"",New,Should have,EPIC: System Log Viewer / Audit,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:46,"","",1762650,"",""
40302,Base Distribution,Epic,"",New,Should have,EPIC: Account Profile,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:46,"","",1762600,"",""
40305,Base Distribution,Story,"",Resolved,Should have,As a Content Editor I want to easily distinguish place holder texts in new content elements from actual content; placeholder text should disappear once I start to type.,Robert Lemke,Aske Ertmann,2014-06-16 09:37,Content Editing,1.1,"","","",0.00,100,2012-08-28 05:48,"","",1762400,"",""
40306,Base Distribution,Epic,"",New,Should have,EPIC: Content import from TYPO3,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:48,"","",1762350,"",""
40307,Base Distribution,Epic,"",New,Should have,EPIC: Custom View for Data Types,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:49,"","",1762300,"","For example: Business Card, Customer, Blog Post ?

Based on Fluid templates."
40308,Base Distribution,Epic,"",New,Should have,EPIC: In-table editing for items in the Management View,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 05:51,"","",1762250,"",""
40309,Base Distribution,Story,"",New,Should have,As a system administrator I want to see a meaningful error message if the database has not been set up correctly,Robert Lemke,"",2012-08-28 05:51,"","","","","",0.00,0,2012-08-28 05:51,"","",1762150,"",""
40310,Base Distribution,Story,"",Postponed,Should have,"As any User, if no site exists I want to be redirected to the Setup wizard",Robert Lemke,"",2012-09-18 02:55,"","","","","",0.00,0,2012-08-28 05:52,"","",1762450,"","- triggered by frontend request 
- triggered by backend request 
- redirects to respective step (""site setup"") of the Setup Wizard 
- provide simple (empty) site preset to be imported 
"
40311,Base Distribution,Story,"",New,Should have,As a user I want the UI to respect the lights-off principle,Robert Lemke,"",2013-01-29 08:18,"","","","","",0.00,0,2012-08-28 05:53,"","",1761100,0.00,"- reverse fading
- accelerate fading
- define and document color code for active and inactive
- define and document fading speed

Some buttons are fading from light to dark on mouse over, the contrary should happen though.
The animation should also be faster, about 0.5 seconds"
40312,Base Distribution,Story,"",Rejected,Should have,As a content editor I'd like to see the Publish button only if I can use it,Robert Lemke,"",2012-09-07 03:40,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-08-28 05:55,"","",1759950,"","- hide button if no changes are pending
- show button if changes are pending
- relabel the button to ""Publish""

The ""Publish Page"" button is visible (but deactivated) even if nothing is to be published. It should only be visible if there are pending changes.
Later on, the Publish button should lead to a dedicated screen for reviewing changes if there are changes from more than one page pending. This story doesn't cover that functionality, but as it is planned, the label of the button should already be changed to just ""Publish"".
"
40313,Base Distribution,Story,"",Needs Feedback,Should have,As a Site Developer I can define the title and package key for a site,Robert Lemke,"",2013-05-11 12:55,"","","","","",0.00,0,2012-08-28 05:57,"","",1762100,"",""
40314,Base Distribution,Story,"",Closed,Should have,As a Content Editor I want to use headlines just in my regular text elements,Robert Lemke,"",2012-10-04 10:02,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-08-28 05:57,"","",1759650,"","- remove dedicated ""headline"" field in all elements
- allow headline in text element
"
40315,Base Distribution,Story,"",Closed,Should have,Explore: As a Content Editor I want to use different content types for different purposes,Robert Lemke,"",2012-09-04 08:53,"","","","","",0.00,0,2012-08-28 05:58,"","",1762050,"","- a list of content types which should be available by default
- a thorough description of why each type is needed
- a list of properties and description for each type
"
40316,Base Distribution,Story,"",Postponed,Must have,"As a content editor, I don't want anybody else to see the content of my personal workspace ",Robert Lemke,Andreas Förthner,2012-09-18 02:56,Administration,"","","","",0.00,0,2012-08-28 05:59,"","",1762550,"","- only live workspace is visible without login
- personal workspace only visible for respective user"
40319,Base Distribution,Story,"",Closed,Should have,As a Content Editor I'd like to see at one glance if I can edit an element inline or not while hovering over it with the mouse,Robert Lemke,"",2012-10-04 10:02,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-08-28 06:04,"","",1759700,"",""
40320,Base Distribution,Epic,"",New,Should have,EPIC: User Interface style and implementation guide,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 06:04,"","",1762000,"",""
40321,Base Distribution,Story,"",Closed,Should have,As a System Administrator I want to read step-by-step instructions for setting up a basic Phoenix installation. ,Robert Lemke,"",2012-10-04 10:03,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-08-28 06:05,"","",1759900,"",- manual rendered on *.typo3.org
40322,Base Distribution,Story,"",New,Should have,As a site integrator I can disable and enable imported sites,Robert Lemke,"",2012-08-28 06:06,"","","","","",0.00,0,2012-08-28 06:06,"","",1761950,"",""
40323,Base Distribution,Story,"",New,Should have,As an site integrator I can remove an inactive imported site,Robert Lemke,"",2012-08-28 06:07,"","","","","",0.00,0,2012-08-28 06:07,"","",1761900,"","- possible through the sites modules 
- only possible if the site is inactive 
- should remove all content related to the sites node 
- should remove all domains tied to the site"
40324,Base Distribution,Story,"",New,Should have,"As a site integrator I can change the title, description & version of an imported site",Robert Lemke,"",2012-08-28 06:07,"","","","","",0.00,0,2012-08-28 06:07,"","",1761850,"",""
40325,Base Distribution,Story,"",Resolved,Should have,"As a site integrator I can create, modify & delete domains of an imported site",Robert Lemke,Mattias Nilsson,2013-01-30 16:37,"","","","","",0.00,100,2012-08-28 06:08,"","",1761800,"","- possible through the sites modules 
- domains are tied to the site 
- domains can be activated/inactivated"
40326,Base Distribution,Story,"",New,Should have,As an administrator I can create a new site package using an existing site as template,Robert Lemke,"",2012-08-28 06:11,"","","","","",0.00,0,2012-08-28 06:10,"","",1761750,"","- possible through the sites modules 
- site label & package key is configurable 
- should be able to use existing site packages as templates"
40328,Base Distribution,Story,"",New,Should have,As an administrator I can export selected parts of an existing site to a new site package,Robert Lemke,"",2012-08-28 06:12,"","","","","",0.00,0,2012-08-28 06:12,"","",1761700,"",""
40329,Base Distribution,Story,"",Postponed,Should have,"As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Robert Lemke,"",2012-10-04 08:00,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-08-28 06:17,"","",1759250,0.00,"Definition of done:

* List nodes / domain objects
* Pagination of the list
* configurable Sorting of the list
* configurable filtering or full-text search of the list
* create new domain objects
* delete nodes / domain objects
* edit a single domain object / node
* edit multiple nodes / domain objects
** change one property in all nodes/domain-objects to the same value
** change a set of properties in all nodes/domain objects to different values
* use AJAX where appropriate for a smooth user experience
* (maybe) create new nodes

we need a generic listing module which is fully adjustable.
It should have a filter tree on the left, and a right area which contains the actual data. This could be a grid, an item-like list, or ..."
40330,Base Distribution,Story,"",Closed,Should have,"[DISCUSS] As a Content manager, I want to identify specific content elements inside a list",Robert Lemke,Sebastian Kurfuerst,2012-10-04 10:02,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-08-28 06:19,"","",1759750,0.00,""
40331,Base Distribution,Story,"",New,Should have,"As a Content Manager, I want to create multiple pages at once",Robert Lemke,"",2012-08-28 06:21,"","","","","",0.00,0,2012-08-28 06:21,"","",1761600,"",""
40332,Base Distribution,Epic,"",New,Should have,EPIC: Management view content editing,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 06:21,"","",1761550,"",https://notes.typo3.org/p/PhoenixContentManagementModule
40334,Base Distribution,Epic,"",New,Should have,EPIC: Module Overview Pages,Robert Lemke,"",2012-08-31 05:07,"","","","","",0.00,0,2012-08-28 06:23,"","",1761500,"","basic idea: configure path to Fluid template inside the module configuration; this fluid template can then render a single ""module widget""
-> create a ViewHelper which wraps StandaloneView
-> in case a ""module widget"" should do more interactive stuff, the fluid template can always include a fluid widget."
40335,Base Distribution,Story,"",New,Should have,"As an Administrator, I want to run FLOW3 CLI commands in the Launch Bar",Robert Lemke,"",2013-05-11 12:57,"","","","","",0.00,0,2012-08-28 06:25,"","",1760150,"",""
40336,Base Distribution,Story,"",New,Could have,As a Site Integrator I want to see a list of rendering issues,Robert Lemke,"",2013-05-15 10:20,Content Rendering,1.0 beta 1,"","","",0.00,0,2012-08-28 06:26,"","",1760000,"","currently, when ""something goes wrong"", the inner page in ""Backend mode"" stays white and when examining the source code, one can see, for example,
<!-- Exception while rendering page&lt;TYPO3.TYPO3:Page&gt;/body : Cannot cast object of type ""TYPO3\Eel\FlowQuery\FlowQuery"" to string. -->
I think such happenings should pop through to the user more obviously."
40467,Base Distribution,Epic,"",Closed,Must have,Change the product name of TYPO3 Phoenix,Robert Lemke,"",2013-01-29 09:33,General / Project,Sprint February 2013,2012-08-31,"","",0.00,0,2012-08-31 05:24,"","",782750,"","Once we have decided upon and announced the real product name of ""Phoenix"", we need to adjust urls, namespaces and documentation.

All stories and tasks related to this name introduction belong to this epic."
40468,Base Distribution,Story,"",Closed,Should have,As a user I want to get instructions how to fix file permissions on the first run,Robert Lemke,"",2012-10-04 10:02,Setup,Sprint 10 (1.0 TP1),"","","",0.00,0,2012-08-31 05:55,"","",1759800,0.00,"When Phoenix is downloaded / cloned from git and run without running the setfilepermissions command, the first hit will fail in most cases because the Data/* directory and others can't be created. Instead of displaying a hint on how to proceed, the raw PHP error messages slips through (see screenshot).

dod:

* catch error messages resulting from insufficient file permissions on first run
* display message which gives instructions on how to run the setfilepermissions command

Even better (if possible):

* redirect to setup tool
* provide instructions for setting file permissions
* check (through AJAX) if that worked out and proceed automatically if file permissions are fine"
40469,Base Distribution,Story,"",New,Could have,(low prio) As a user I want to get redirected to setup tool if install is incomplete,Robert Lemke,"",2012-09-14 06:23,Setup,"","","","",0.00,50,2012-08-31 05:58,"","",1762200,0.00,"If file permissions are fine but a database has not been set up yet, the application displays an SQLSTATE exception instead of redirecting to the setup tool.

DOD:

* if database settings are wrong or database setup is incomplete or if no account exists, redirect to setup tool"
40471,Base Distribution,Story,"",Closed,Should have,As a Administrator I don't want to look up the setup password if the server is my local machine,Robert Lemke,"",2012-09-13 05:12,Setup,"",2012-08-31,"","",0.00,0,2012-08-31 06:13,"","",2953850,"","In order to log into the setup tool, a user needs to look up the password stored in a file in ./Data/. This is a good security measure for remote servers, however we may be able to avoid this step for a local machine:

If we try to include the file through an iFrame (using the path, like file:///foo/bar/baz) and that file would contain JS sending the password to the parent frame, the password could be entered and submitted automatically if the user is using a browser from the same machine Phoenix is being installed at.

I'm not 100% sure if this is technically possible, but we might want to try this."
40472,Base Distribution,Story,"",Closed,Should have,As a administrator I want to be warned if the selected database already contains data,Robert Lemke,"",2012-10-04 10:02,Setup,Sprint 10 (1.0 TP1),2012-09-04,"","",0.00,0,2012-08-31 06:16,"","",1759850,0.00,"In the setup tool, a database can be selected which already contains data. A user should be informed about this and be able to decide if

* he wants to proceed anyway
* go back and choose / create a different database
"
40473,Base Distribution,Epic,"",New,Should have,Bootstrap based login screen,Robert Lemke,"",2012-08-31 06:17,"","",2012-08-31,"","",0.00,0,2012-08-31 06:17,"","",782850,"",""
40582,Base Distribution,Task,Story #40468: As a user I want to get instructions how to fix file permissions on the first run,Closed,Should have,TEST,Robert Lemke,Robert Lemke,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-04 04:47,"","",788300,0.00,""
40584,Base Distribution,Story,"",Closed,Should have,[Page Tree] As a user I want the page tree to respond quickly on expanding nodes,Robert Lemke,"",2012-10-04 05:08,Content Editing,Sprint 10 (1.0 TP1),2012-09-04,"","",0.00,0,2012-09-04 05:04,"","",1759600,"","DoD:

* pre-load _all_ page nodes
* for expanding a sub tree no additional HTTP request is necessary"
40585,Base Distribution,Story,"",Closed,Should have,[Page Tree] As a content editor I want to move pages by drag and drop,Robert Lemke,"",2012-10-04 09:06,"",Sprint 10 (1.0 TP1),2011-12-05,"","",0.00,0,2012-09-04 05:47,"","",1759450,0.00,""
40586,Base Distribution,Task,Story #40585: [Page Tree] As a content editor I want to move pages by drag and drop,Closed,Should have,"Fix drag and drop positioning: currently the drop marker icon positioning is wrongly calculated due to the ""new page"" toolbar.",Robert Lemke,Markus Goldbeck,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 05:48,"","",788400,0.00,""
40587,Base Distribution,Story,"",Closed,Should have,[Page Tree] As a Content Manager I want to create a new page,Robert Lemke,"",2012-10-04 09:13,Content Editing,Sprint 10 (1.0 TP1),2012-09-04,"","",0.00,0,2012-09-04 05:56,"","",1759500,0.00,""
40588,Base Distribution,Story,"",Closed,Should have,[Page Tree] As a Content Manager I want to delete an existing page,Robert Lemke,"",2012-10-04 10:01,Content Editing,Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-04 05:56,"","",1759550,0.00,""
40591,Base Distribution,Task,Story #40588: [Page Tree] As a Content Manager I want to delete an existing page,Closed,Should have,Replace drop removal zone with delete icon in action toolbar for selected node,Aske Ertmann,Markus Goldbeck,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 06:15,"","",788550,0.00,""
40599,Base Distribution,Story,Work Package #45013: Flexible plugin integration (TODO: Reviews),Resolved,Should have,Include arbitrary Flow-Applications as Plugins,Sebastian Kurfuerst,Marc Neuhaus,2013-12-20 11:37,Content Rendering,Sprint February 2013,2013-03-26,2013-04-20,"",0.00,100,2012-09-04 08:37,"","",1760250,0.00,"As a content editor, I want to include an arbitrary Flow-Application inside a page.

Definition of done:

* FLOW3 packages should run as plugin inside the frontend
* we use the Blog package as example
* the controllers and most of the views should be re-used"
40612,Base Distribution,Task,Story #40587: [Page Tree] As a Content Manager I want to create a new page,Closed,Should have,Remove add a new page by dragging,Markus Goldbeck,Markus Goldbeck,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),2012-09-04,"",0.00,0.00,100,2012-09-04 10:17,"","",789500,0.00,Only possibility for adding a page should be clicking on the plus icon
40618,Base Distribution,Story,"",New,Should have,"[DISCUSS] As a user, I want to return to the last-used submodule when changing between main modules",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,0,2012-09-04 12:22,"","",1760850,"","Definition of Done:

* when clicking on the main module titles in the menu, the last-used submodule should be opened.
* we do not want a separate redirect for that
* there should be no side-effect across browser tabs (i.e. two tabs should not influence each other)
* the module overview can always be accessed through a special icon-link in the submenu (""tile-image"")

Technical Details:

* we give every browser window/tab an ID using window.name
* based on the browser window/tab and main module identifier, we store the last-visited module pages in local storage
* we intercept the main module links and replace them using JS"
40619,Base Distribution,Task,"Story #40330: [DISCUSS] As a Content manager, I want to identify specific content elements inside a list",Closed,Should have,Display a meaningful content element preview in lists,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-04 12:38,"","",789800,0.00,""
40628,Base Distribution,Story,"",Closed,Could have,"As any user, I need a Content Module based on semantic technologies (IKS)",Rens Admiraal,"",2012-10-04 10:10,"",Sprint 10 (1.0 TP1),"","","",0.00,9,2012-09-04 17:15,"","",1759100,0.00,""
40629,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Add editor (aloha / hallo),Rens Admiraal,Rens Admiraal,2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 17:15,"","",790250,0.00,""
40630,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Add range to sections in schema,Rens Admiraal,Rens Admiraal,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 17:15,"","",790300,0.00,""
40631,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,create collection widget with content handles,Rens Admiraal,Rens Admiraal,2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 17:16,"","",790350,0.00,""
40632,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Bind selected entity to the inspector panel,Rens Admiraal,Christopher Hlubek,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 17:16,"","",790400,0.00,""
40633,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,link plugin (for aloha / hallo),Rens Admiraal,Rens Admiraal,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-04 17:18,"","",790450,0.00,""
40634,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Make sure we can save changes to content,Rens Admiraal,"",2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 17:19,"","",790500,0.00,""
40635,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Rejected,Could have,(low prio) Basic workflow support,Rens Admiraal,"",2012-09-20 09:43,"",Sprint 10 (1.0 TP1),"","","",0.00,100,2012-09-04 17:20,"","",790550,"",""
40637,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Fetch templates for new content elements when they are created in the ui by clicking the 'new content element' handle,Rens Admiraal,"",2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-04 18:08,"","",790650,0.00,""
40652,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Make the notification plugin work,Rens Admiraal,Rens Admiraal,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-05 07:54,"","",791400,0.00,""
40691,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Test / fix image handling,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:07,"","",793350,0.00,""
40692,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,"!! Fix ""create new content"" (test positioning of new content / nodes)",Sebastian Kurfuerst,Rens Admiraal,2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:07,"","",793400,0.00,""
40693,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,!! remove submodules for create.js and VIE,Sebastian Kurfuerst,Rens Admiraal,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:07,"","",793450,0.00,""
40694,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,!! style content handles,Sebastian Kurfuerst,Aske Ertmann,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:08,"","",793500,0.00,"Christopher and Rens discussed that:

* we should use a twitter bootstrap button group with size button-mini: http://twitter.github.com/bootstrap/components.html#buttonGroups
* see attached ""screenshot"""
40695,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,re-implement copy / paste handles,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:08,"","",793550,0.00,""
40696,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,!! fix styling of notifications; use Create.js notifications,Sebastian Kurfuerst,Rens Admiraal,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:09,"","",793600,0.00,""
40697,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,minify javascript for release,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:10,"","",793650,0.00,""
40698,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,!! test that starttime / endtime can be set using UI,Sebastian Kurfuerst,"",2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:10,"","",793700,0.00,""
40699,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,"!! test that ""title"" and ""hidden"" can be changed by the inspector panel",Sebastian Kurfuerst,"",2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:11,"","",793750,0.00,""
40700,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,"!! directly display nodes as hidden when the ""hidden"" flag is changed (greyed-out, as it was before)",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:11,"","",793800,0.00,""
40701,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"re-implement: if a changed property is marked as ""reloadOnChange: true"" in the schema, reload the current page",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:12,"","",793850,0.00,""
40705,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,re-include aloha,Sebastian Kurfuerst,Rens Admiraal,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:15,"","",794050,0.00,""
40707,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,remove fontawesome,Sebastian Kurfuerst,"",2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 02:58,"","",794150,0.00,""
40708,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,!! move to review.typo3.org,Sebastian Kurfuerst,"",2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 03:00,"","",794200,0.00,""
40709,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Should have,Display activity indicator on server communication (saving / publishing),Sebastian Kurfuerst,Christopher Hlubek,2012-10-17 03:47,"","","","","",0.00,100,2012-09-07 03:10,"","",794250,"",""
40710,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"If you click publish, the button should be immediately deactivated",Sebastian Kurfuerst,Mattias Nilsson,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 03:12,"","",794300,0.00,""
40711,Base Distribution,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,create TYPO3.Expose on git.typo3.org and migrate TYPO3.Admin from mneuhaus' repository.,Sebastian Kurfuerst,Karsten Dambekalns,2012-10-04 05:00,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 03:17,"","",794350,0.00,""
40714,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Should have,mark section+menu content elements as .t3-reloadable-content,Sebastian Kurfuerst,Christian Müller,2012-10-21 12:42,"","","","","",0.00,0,2012-09-07 03:29,"","",794400,"",""
40715,Base Distribution,Task,Story #40311: As a user I want the UI to respect the lights-off principle,Accepted,Should have,global overlays should have the same color / transparency,Sebastian Kurfuerst,Martin Muzatko,2012-11-30 10:43,"","","","","",0.00,0,2012-09-07 03:31,"","",794450,"",""
40716,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,!! check HTML content element behavior,Sebastian Kurfuerst,"",2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 03:34,"","",794500,0.00,""
40717,Base Distribution,Story,"",Postponed,Should have,"Add Launch Bar to other modules (Management, ...)",Sebastian Kurfuerst,"",2012-09-18 02:56,"","","","","",0.00,0,2012-09-07 03:35,"","",1762500,"",""
40718,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Could have,"(low prio) Fix ""inspect"" functionality (lower-left button)",Sebastian Kurfuerst,"",2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-07 03:37,"","",794550,0.00,""
40720,Base Distribution,Story,Work Package #45020: Content Editing Stability and Features,Closed,Could have,"As a content editor with small screen, I want to have a collapsable inspector",Sebastian Kurfuerst,"",2014-11-02 12:21,"",Sprint February 2013,2014-11-02,"","",0.00,50,2012-09-07 03:41,"","",1760650,0.00,""
40721,Base Distribution,Task,"Story #40720: As a content editor with small screen, I want to have a collapsable inspector",Closed,Could have,automatically collapse inspector on small page,Sebastian Kurfuerst,"",2014-11-02 12:21,"",Sprint February 2013,2014-11-02,"",0.00,0.00,0,2012-09-07 03:41,"","",794650,0.00,""
40722,Base Distribution,Task,"Story #40720: As a content editor with small screen, I want to have a collapsable inspector",Closed,Should have,Make inspector panel collapsible,Sebastian Kurfuerst,Aske Ertmann,2014-11-02 12:21,Content Editing,Sprint February 2013,2014-11-02,"","",0.00,100,2012-09-07 03:41,"","",794700,0.00,""
40723,Base Distribution,Task,Story #40469: (low prio) As a user I want to get redirected to setup tool if install is incomplete,Resolved,Should have,Implement configurable exception workflows,Sebastian Kurfuerst,Bastian Waidelich,2012-09-14 06:17,"","","","","",0.00,0,2012-09-07 03:45,"","",794750,"",""
40724,Base Distribution,Story,"",Closed,Should have,"As a first-time user, I want a login screen consistent with the remaining UI",Sebastian Kurfuerst,Robert Lemke,2012-10-04 08:50,Global User Interface,Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-07 03:46,"","",1759350,0.00,""
40725,Base Distribution,Task,Story #40469: (low prio) As a user I want to get redirected to setup tool if install is incomplete,New,Could have,display a message in login form if no account exists with a linl to the setup.,Sebastian Kurfuerst,"",2012-09-14 06:17,"","","","","",0.00,0,2012-09-07 03:47,"","",794800,"",""
40736,Base Distribution,Task,Story #40587: [Page Tree] As a Content Manager I want to create a new page,Closed,Should have,Adding pages with action bar,Markus Goldbeck,Markus Goldbeck,2012-10-04 08:01,Content Editing,Sprint 10 (1.0 TP1),2012-09-07,"",0.00,0.00,100,2012-09-07 10:12,"","",795350,0.00,"* click the plus icon
* a new page is created in the page tree below the current page (the new page is a sub page of the current page)
* if pages already existed below the current page, the new page is set to be the last of these sub pages
* if the level below the current page has been collapsed, it now is expanded
* the new page is in edit mode: the cursors blinks and the user can now enter a title
* only after the edit field looses context (that is, by pressing enter or clicking elsewhere), the new page is actually created"
40752,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Cleanup the new content element button,Rens Admiraal,Rens Admiraal,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-08 08:28,"","",796150,0.00,""
40753,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Could have,Implement moving content elements,Rens Admiraal,Sebastian Kurfuerst,2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-08 08:53,"","",796200,0.00,""
40754,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Must have,re-implement delete node,Rens Admiraal,"",2012-09-25 15:35,Content Editing,"","","","",0.00,100,2012-09-08 08:54,"","",796250,"",""
40755,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,!! Check the order of entities after save,Rens Admiraal,Rens Admiraal,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-08 08:54,"","",796300,0.00,""
40759,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Check the inspector button,Rens Admiraal,Sebastian Kurfuerst,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-08 11:00,"","",796500,0.00,""
40761,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,re-implement overlay for non-inline editable elements,Rens Admiraal,Rens Admiraal,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-08 12:41,"","",796600,0.00,""
40762,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"add button bar (create, paste, ...) in top of all sections; permanently visible",Rens Admiraal,Rens Admiraal,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-08 13:06,"","",796650,0.00,""
40764,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Could have,Check if we can remove the inject method in the \TYPO3\TYPO3\ViewHelpers\ContentElement\* ViewHelpers,Rens Admiraal,"",2012-09-20 06:05,"","","","","",0.00,0,2012-09-08 15:54,"","",796750,"",""
40786,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,"HTML Editor does not work transactionally anymore (Edit HTML, do NOT press apply --> changes are directly applied)",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:53,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-10 07:29,"","",797850,0.00,""
40789,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"!! after an in-page reload, the content element handles disappear",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:50,"",Sprint 10 (1.0 TP1),"","","",0.00,100,2012-09-10 08:20,"","",798000,"",Bonus task: Save the currently selected node and restore it after reload.
40790,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,hallo controls broken --> because images are not there anymore,Sebastian Kurfuerst,Mattias Nilsson,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-10 08:22,"","",798050,0.00,"The Hallo editor (see screenshot) uses icons based on Fontawesome (http://fortawesome.github.com/Font-Awesome/). However, these icon CSS classes *collide* with the glyphicons provided by Twitter Bootstrap 2.

As a result, the editing controls are not visible anymore (see screenshot). To reproduce, just select a text in editing mode and see the black boxes to appear ;-)

To fix, we either find a way to include fontawesome icons in a way that they do not collide with our twitter bootstrap icons, or we add the necessary CSS and use twitter bootstrap icons inside the hallo editor."
40818,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Fix wireframe mode section editing,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-11 07:48,"","",799400,0.00,"TypeError: T3.Content.Model.BlockManager is undefined, pageBlock = T3.Content.Model.BlockManager.get('_pageBlock');"" in FireFox console when try to create a new section with Wireframe mode on an empty kickstarted site.



createSection: function(sectionName) {

			var pageBlock = T3.Content.Model.BlockManager.get('_pageBlock');

Does not exist"
40852,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Button-Bar should be positioned using jQuery UI position,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-12 03:29,"","",801050,0.00,"Currently the handles to add/delete/move content are displayed manually inside ui/elements/contentelement-handles.js around line 61.

However, this seems to break depending on the site's CSS quite often (for example on the flow3.org website).

Thus, we want to replace the manual positioning with using jQuery UI position helper: http://jqueryui.com/demos/position/#events

*Bonus:* If possible make the handles appear only when the content element is active, and not on hover. This should make the UI more visually ""stable""."
40853,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,show editing controls only for active element,Sebastian Kurfuerst,Mattias Nilsson,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-12 03:37,"","",801100,0.00,""
40860,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,!! an added element is not properly initialized in VIE,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-12 06:24,"","",801450,0.00,"Steps to reproduce:

* create a new content element through the UI
* then, if you do: require('vie/instance').entities.models
* pick the last, just created one; and expand ""attributes""
* they are EMPTY except subject and type, even if the template contained them.

* when checking the HTML source, the attributes are all there."
40886,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Fix non-existing section exception,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-13 02:52,"","",802700,0.00,""
40887,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"Trigger loading indicator if we know a page load will happen (f.e. when pressing ""apply"")",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-13 02:52,"","",802750,0.00,""
40891,Base Distribution,Story,"",Closed,Should have,"As any user, I want fast TypoScript rendering",Sebastian Kurfuerst,"",2013-01-29 09:36,"","","","","",0.00,100,2012-09-13 05:22,"","",1760300,0.00,""
40892,Base Distribution,Task,"Story #40891: As any user, I want fast TypoScript rendering",Closed,Should have,check TypoScript performance bottlenecks,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-01-29 09:36,"","","","","",0.00,0,2012-09-13 05:22,"","",802950,"",""
40896,Base Distribution,Task,"",New,Should have,"Fix layout in ""create account"" setup step",Robert Lemke,"",2012-09-13 05:59,Setup,Sprint 10 (1.0 TP1),2012-09-13,"","",0.00,0,2012-09-13 05:59,"","",803150,"","* the last field ""Confirmation"" doesn't fit in (see screenshot)
* the last field should be labeled ""Confirm password""
"
40901,Base Distribution,Story,"",Closed,Should have,"As a user, I do not want any JavaScript errors to appear because of Loading Order",Sebastian Kurfuerst,"",2012-10-04 08:10,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-13 07:34,"","",1759200,0.00,""
40903,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,fix renaming of page nodes in UI (it just loads forever),Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-13 07:45,"","",803450,0.00,""
40926,Base Distribution,Story,"",Closed,Should have,"As an Administrator, I wan to create, update and delete users",Robert Lemke,"",2012-10-04 10:28,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-14 07:45,"","",1759400,0.00,""
40927,Base Distribution,Task,"Story #40926: As an Administrator, I wan to create, update and delete users",Closed,Should have,Disable deletion of the currently logged in user.,Robert Lemke,Rens Admiraal,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-14 07:46,"","",804600,0.00,""
40928,Base Distribution,Story,"",Closed,Should have,"As a content manager, I want to publish content through the Workspaces module",Robert Lemke,"",2012-10-04 08:49,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-14 07:49,"","",1759300,0.00,""
40934,Base Distribution,Story,"",Closed,Could have,"As a Site Integrator, I want an easy way to get started with TypoScript",Robert Lemke,"",2012-10-04 06:04,"",Sprint 10 (1.0 TP1),2012-08-09,"","",0.00,33,2012-09-14 11:38,"","",1758950,0.00,""
40935,Base Distribution,Task,"Story #40934: As a Site Integrator, I want an easy way to get started with TypoScript",Closed,Should have,Remove necessesity to include the All.ts2 file manually.,Robert Lemke,Robert Lemke,2012-10-04 05:40,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-14 11:39,"","",804900,"",""
40985,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Create single issue tickets from walkthrough: https://dl.dropbox.com/u/1418806/PhoenixIssues-20120914.mov,Robert Lemke,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-17 05:42,"","",807350,0.00,""
40988,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Decide when to show the button bar for the sections,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-17 05:52,"","",807500,0.00,"* currently, they are always shown; leading to cluttered UI."
40990,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Fix / debug empty-height sections,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:51,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-17 05:53,"","",807600,0.00,see attached screenshot
40991,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,Check editing behavior of Hallo (You need to click twice ato activate an element),Sebastian Kurfuerst,Rens Admiraal,2012-10-04 07:51,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-17 05:55,"","",807650,"",""
40992,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Could have,Replace default image placeholder (Resources/Public/Images/dummy-image.png),Sebastian Kurfuerst,Robert Lemke,2012-10-04 07:50,"",Sprint 10 (1.0 TP1),"","","",0.00,100,2012-09-17 05:55,"","",807700,"",""
40993,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Accepted,Could have,Test whether drag / drop of image onto thumbnail works,Sebastian Kurfuerst,"",2013-01-23 10:02,"","","","","",0.00,0,2012-09-17 05:57,"","",807750,"",""
40994,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,check why URL is broken after uploading image in new Demo Site (see screenshot for URI,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:52,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-17 05:58,"","",807800,0.00,not sure if this is still relevant / can be reproduced
40995,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"for global links (f.e. when clicking at the logo), the current workspace is not preserved",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-17 06:00,"","",807850,0.00,""
40996,Base Distribution,Task,"Story #40928: As a content manager, I want to publish content through the Workspaces module",Closed,Should have,"Sometimes, the workspace module still throws exceptions and becomes unusable (probably when modifying images)",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-17 06:02,"","",807900,0.00,""
41000,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Closed,Could have,add body+html CSS classes when changing pages,Sebastian Kurfuerst,"",2014-11-02 13:25,"","",2014-11-02,"",0.00,0.00,0,2012-09-17 08:26,"","",808050,0.00,""
41005,Base Distribution,Task,"Story #40934: As a Site Integrator, I want an easy way to get started with TypoScript",Closed,Should have,Streamline and simplify namespaces in TypoScript,Robert Lemke,Robert Lemke,2012-10-04 05:39,Content Rendering,Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-17 09:37,"","",808300,0.00,""
41009,Base Distribution,Task,"",Resolved,Should have,Replace twitter-bootstrap icons with fontawesome,Rens Admiraal,Rens Admiraal,2012-09-18 03:35,"","",2012-09-17,"","",0.00,100,2012-09-17 12:42,"","",808500,"",""
41011,Base Distribution,Task,Story #40585: [Page Tree] As a content editor I want to move pages by drag and drop,Closed,Must have,Moving nodes into nodes with drag n drop,Markus Goldbeck,Markus Goldbeck,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-17 14:15,"","",808600,0.00,""
41014,Base Distribution,Task,"",Closed,Should have,Fix 'object is undefined' error in javascript during wireframe editing in original demo site,Rens Admiraal,Rens Admiraal,2012-10-04 05:00,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-17 14:51,"","",808750,"",""
41032,Base Distribution,Task,"Story #40934: As a Site Integrator, I want an easy way to get started with TypoScript",Closed,Should have,Simplify TypoScript templates for phoenix.typo3.org (namespaces),Robert Lemke,"",2012-10-04 05:33,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-18 04:42,"","",809600,0.00,""
41040,Base Distribution,Task,Story #41586: write Neos Integrator Guide,Resolved,Must have,(BREAKING) Rename page.headerData to page.head,Robert Lemke,Tim Kandel,2013-07-04 14:43,"",1.0 beta 1,"","","",0.00,100,2012-09-18 06:45,"","",810000,"",""
41047,Base Distribution,Task,"",Closed,Should have,In FireFox a 'Ext.EventManager is undefined' error is thrown,Rens Admiraal,Rens Admiraal,2012-11-08 16:19,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-18 13:34,"","",810350,0.00,""
41069,Base Distribution,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,"Style ""node delete"" view of Expose",Sebastian Kurfuerst,Mattias Nilsson,2012-10-04 08:00,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-19 08:40,"","",811400,0.00,"h2. Installation / Getting to the delete page

* <code>./flow3 package:import TYPO3.Expose</code>
* Then, inside the TYPO3.Expose package, apply the following changesets using cherry-pick:
** https://review.typo3.org/#/c/14726/
** https://review.typo3.org/#/c/14729/
** https://review.typo3.org/#/c/14730/
* Activate the package: <code>./flow3 package:activate TYPO3.Expose</code>
* Then, go to ""Management -> Content"" in Backend, select a node in the tree on the left side, choose a node in the list and press ""delete""

h2. Goal

* Style the delete page such that it matches the remaining backend look + feel in terms of colors etc

h2. Related:

* TYPO3.Expose/Resources/Private/Elements/Delete/Index.html
* Resources/Public -> compass compile"
41085,Base Distribution,Story,"",New,Should have,"As an integrator, I want to use the HTML5 ""header"" element for indicating titles in text",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,0,2012-09-20 03:59,"","",1760350,"","Currently, at least Hallo breaks with it; see https://review.typo3.org/#/c/14751/"
41087,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Could have,paste in section pastes AFTER section instead of at first element.,Sebastian Kurfuerst,"",2012-10-08 03:22,"","","","","",0.00,0,2012-09-20 04:03,"","",812250,"",""
41097,Base Distribution,Task,"Story #40724: As a first-time user, I want a login screen consistent with the remaining UI",Closed,Should have,Build login screen,Sebastian Kurfuerst,Christian Müller,2012-10-04 08:01,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-20 05:58,"","",812750,0.00,""
41098,Base Distribution,Story,"",New,Should have,"As a developer, I want a clean TypoScript package",Sebastian Kurfuerst,"",2013-05-18 06:51,"","","","","",0.00,33,2012-09-20 05:59,"","",1760550,0.00,""
41099,Base Distribution,Story,"",New,Should have,"As site integrator, I want a API reference for TypoScript objects",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,0,2012-09-20 05:59,"","",1760700,"",""
41100,Base Distribution,Task,Story #41586: write Neos Integrator Guide,Accepted,Could have,Create one-page reference about all available TypoScript objects (nice to have),Sebastian Kurfuerst,Christian Müller,2012-10-11 05:18,"",1.0 beta 1,"","","",0.00,0,2012-09-20 06:01,"","",812800,"",""
41101,Base Distribution,Story,"",New,Could have,"As user, I want a well-working content editing (Bugfix Story)",Sebastian Kurfuerst,"",2014-12-10 04:26,"","",2011-06-23,"","",0.00,44,2012-09-20 06:02,"","",1761150,0.00,""
41103,Base Distribution,Story,"",New,Should have,"As everybody, I want the new product name to be used inside Phoenix",Sebastian Kurfuerst,"",2013-05-11 13:06,"","",2012-10-05,"","",0.00,29,2012-09-20 06:12,"","",1761200,0.00,""
41104,Base Distribution,Task,"Story #40934: As a Site Integrator, I want an easy way to get started with TypoScript",Closed,Could have,Move all Phoenix content type definitions to an own package,Sebastian Kurfuerst,Christian Müller,2012-10-04 05:34,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-20 06:14,"","",812900,0.00,""
41105,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,"while typing, we should not loose focus",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:50,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-20 06:15,"","",812950,0.00,"- we have the ""midgardStorage"" plugin active with autoSave activated.
- while typing, the storage plugin periodically saves the changes to the server
- then, when the reply occurs, the VIE entity seems to be updated.
- this, in turn, triggers a DOM update of the innerHTML (at least that's how it looks like)
- and that's how the editor looses the current cursor position, as the cursor is placed at the start of the editable. And that sucks for the editor "
41106,Base Distribution,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,style forms to be more usable,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:59,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-20 06:17,"","",813000,0.00,""
41107,Base Distribution,Story,"",New,Should have,"As a user, I want a working demo site",Sebastian Kurfuerst,"",2013-01-29 08:18,"","",2012-10-11,"","",0.00,50,2012-09-20 06:19,"","",1761350,0.00,""
41108,Base Distribution,Task,"Story #41107: As a user, I want a working demo site",New,Should have,test / update demo/integration server,Sebastian Kurfuerst,"",2012-10-11 05:29,"","","","","",0.00,0,2012-09-20 06:20,"","",813050,"",""
41109,Base Distribution,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,style pagination,Sebastian Kurfuerst,Mattias Nilsson,2012-10-04 07:59,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-20 06:30,"","",813100,0.00,see attached screenshot
41110,Base Distribution,Task,"Story #40329: As a content manager, I want to list and edit my Content and Domain Objects inside the Management view",Closed,Should have,"disable ""table"" view",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:59,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-20 06:31,"","",813150,0.00,""
41112,Base Distribution,Task,"Story #41186: as a user, I want a clean listing of nodes inside management view",New,Should have,use better Content-Type previews,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-09-21 12:15,"",1.1,"","","",0.00,0,2012-09-20 06:33,"","",813250,"",""
41114,Base Distribution,Story,"",New,Should have,"As a user, I want to insert inline JavaScript in the HTML content elements",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,0,2012-09-20 08:23,"","",1760950,"",""
41116,Base Distribution,Task,"Story #41186: as a user, I want a clean listing of nodes inside management view",New,Could have,textareas in edit form should be made bigger,Sebastian Kurfuerst,"",2012-09-21 12:15,"",1.1,"","","",0.00,0,2012-09-20 09:38,"","",813400,"",""
41138,Base Distribution,Story,"",Closed,Should have,As a backend user I want to have sensible error handling,Robert Lemke,"",2012-10-04 10:11,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-20 17:01,"","",1759150,0.00,""
41139,Base Distribution,Task,Story #41138: As a backend user I want to have sensible error handling,Closed,Should have,"Adjust error page (404, ?) to login screen design",Robert Lemke,Christian Müller,2012-10-04 08:02,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-20 17:01,"","",814500,0.00,""
41140,Base Distribution,Task,Story #41592: As a backend user I want to have sensible error handling,New,Could have,Let client redirect to login page if inactivity timeout was reached.,Robert Lemke,"",2012-10-04 08:04,"","","","","",0.00,0,2012-09-20 17:03,"","",814550,"",""
41145,Base Distribution,Task,"Story #40724: As a first-time user, I want a login screen consistent with the remaining UI",Closed,Should have,Set focus on username field or password field ? depending on username parameter,Robert Lemke,Robert Lemke,2012-10-04 08:01,Global User Interface,Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-21 03:13,"","",814800,0.00,""
41149,Base Distribution,Task,"Story #41103: As everybody, I want the new product name to be used inside Phoenix",Closed,Must have,"Add ""TYPO3 Phoenix"", ""Phoenix"", ""phoenix"" etc. everywhere where we expect the new name.",Robert Lemke,"",2012-10-08 03:20,"","","","",0.00,0.00,0,2012-09-21 04:39,"","",815000,0.00,""
41150,Base Distribution,Task,"Story #41103: As everybody, I want the new product name to be used inside Phoenix",Closed,Should have,Prepare logos and other visuals for new name.,Robert Lemke,"",2012-10-08 03:20,"","","","",0.00,0.00,0,2012-09-21 04:39,"","",815050,0.00,""
41152,Base Distribution,Story,"",New,Could have,"As a content editor, I want to use a page tree which fits into the overall UI",Robert Lemke,"",2014-10-04 11:33,"","",2012-09-24,"","",0.00,100,2012-09-21 05:09,"","",1761300,0.00,""
41153,Base Distribution,Task,"Story #41152: As a content editor, I want to use a page tree which fits into the overall UI",Closed,Should have,Confirmation dialog: use the same style like in User Administration (see screenshot),Robert Lemke,Markus Goldbeck,2012-10-04 05:13,Content Editing,"","","","",0.00,100,2012-09-21 05:10,"","",815150,"",""
41154,Base Distribution,Task,"Story #41152: As a content editor, I want to use a page tree which fits into the overall UI",Resolved,Should have,"As a content editor, I want the Page Tree to hide when I click outside the flyout",Robert Lemke,Markus Goldbeck,2012-11-03 13:10,Content Editing,"","","","",0.00,100,2012-09-21 05:11,"","",815200,"",""
41167,Base Distribution,Story,"",Closed,Should have,"As a site integrator, I want a flexible content type system",Robert Lemke,"",2012-10-04 05:11,"",Sprint 10 (1.0 TP1),"","","",0.00,50,2012-09-21 09:43,"","",1758900,0.00,""
41168,Base Distribution,Task,"Story #41167: As a site integrator, I want a flexible content type system",Closed,Should have,Extract content type definitions from TYPO3.TYPO3 package to its own package.,Robert Lemke,Christian Müller,2012-10-04 05:10,Content Management,Sprint 10 (1.0 TP1),"","","",0.00,100,2012-09-21 09:44,"","",815850,"",""
41172,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Could have,Show button bar on hover with slight delay,Sebastian Kurfuerst,"",2012-09-26 00:18,"","","","","",0.00,0,2012-09-21 10:19,"","",816050,"",""
41174,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Could have,Remove blue border around currently active editable -> make the border grey and slightly dashed or so.,Sebastian Kurfuerst,Mattias Nilsson,2012-11-07 13:11,"","","","",0.00,0.00,0,2012-09-21 10:26,"","",816150,0.00,""
41175,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"check whether ordering of tabs in ""New Content Element"" dialog is deterministic (""General, Structure, Plugins"")",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-21 10:31,"","",816200,0.00,""
41176,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Could have,"! can't reproduce in chrome! remove blue glow when pressing ""tab"" in New content element choice dialog",Sebastian Kurfuerst,Mattias Nilsson,2012-11-07 13:11,"","","","",0.00,0.00,0,2012-09-21 10:32,"","",816250,0.00,""
41177,Base Distribution,Task,Story #41138: As a backend user I want to have sensible error handling,Closed,Must have,add alert box if javascript error occurs (window.onerror),Sebastian Kurfuerst,Christian Müller,2012-10-04 08:02,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-21 10:34,"","",816300,0.00,""
41178,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Closed,Should have,"Image Upload: Upload image in background directly after choosing it (without pressing ""upload"")",Sebastian Kurfuerst,Christian Müller,2014-12-10 04:26,"","",2014-12-10,"","",0.00,0,2012-09-21 10:37,"","",816350,0.00,""
41179,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Must have,"when editing two-column content (f.e. on Phoenix site), selection of one column content does not work; always, the two-column is selected",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:54,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-21 10:39,"","",816400,0.00,""
41186,Base Distribution,Story,"",New,Could have,"as a user, I want a clean listing of nodes inside management view",Sebastian Kurfuerst,"",2013-01-30 10:05,"",1.1,"","","",0.00,33,2012-09-21 12:14,"","",1760450,0.00,""
41305,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Closed,Should have,"Create sub-contentelements as determined by the ""structure"" property in the schema",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:55,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-24 04:14,"","",822650,0.00,""
41311,Base Distribution,Story,"",Closed,Could have,"As user, I want a well-working content editing (Bugfix Story)",Robert Lemke,"",2012-10-04 07:46,Content Editing,Sprint 10 (1.0 TP1),"","","",0.00,50,2012-09-24 06:27,"","",1759050,0.00,""
41312,Base Distribution,Task,"Story #41311: As user, I want a well-working content editing (Bugfix Story)",Closed,Could have,Headline should not support multiple lines,Robert Lemke,Sebastian Kurfuerst,2012-10-04 07:45,Content Editing,Sprint 10 (1.0 TP1),"","","",0.00,100,2012-09-24 06:32,"","",822950,"",""
41313,Base Distribution,Story,"",Closed,Should have,General UI bugs (CSS / JS),Robert Lemke,"",2012-10-04 04:59,"",Sprint 10 (1.0 TP1),2012-09-25,"","",0.00,100,2012-09-24 06:38,"","",1758850,0.00,""
41314,Base Distribution,Task,Story #41313: General UI bugs (CSS / JS),Closed,Should have,Page tree is off screen (with Zurb foundation),Robert Lemke,Sebastian Kurfuerst,2012-10-04 05:09,Content Editing,Sprint 10 (1.0 TP1),"","","",0.00,100,2012-09-24 06:39,"","",823000,"",""
41315,Base Distribution,Task,"Story #41311: As user, I want a well-working content editing (Bugfix Story)",Closed,Must have,Fix deletion of nodes,Robert Lemke,Robert Lemke,2012-10-04 07:39,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-24 07:13,"","",823050,0.00,""
41316,Base Distribution,Task,"Story #41311: As user, I want a well-working content editing (Bugfix Story)",Closed,Should have,Use correct icons for edit options,Robert Lemke,Sebastian Kurfuerst,2012-10-04 07:38,Content Editing,Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-24 07:16,"","",823100,0.00,""
41348,Base Distribution,Task,"Story #40901: As a user, I do not want any JavaScript errors to appear because of Loading Order",Closed,Should have,write loading-order analyzer,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 08:02,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,100,2012-09-25 07:49,"","",824700,0.00,""
41349,Base Distribution,Task,Story #41313: General UI bugs (CSS / JS),Closed,Must have,SiteImportService should use createSingleNode(),Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 05:09,"",Sprint 10 (1.0 TP1),"","","",0.00,100,2012-09-25 07:55,"","",824750,"",""
41350,Base Distribution,Task,"Story #40628: As any user, I need a Content Module based on semantic technologies (IKS)",Rejected,Could have,"check how to create a single ""break"" with hallo editor",Sebastian Kurfuerst,"",2012-09-25 08:29,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-25 07:59,"","",824800,"",""
41351,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Could have,"Make it possible to press ""enter"" when creating a link?",Sebastian Kurfuerst,Mattias Nilsson,2012-10-20 14:35,"","","","","",0.00,100,2012-09-25 08:00,"","",824850,"",""
41352,Base Distribution,Task,"Story #41167: As a site integrator, I want a flexible content type system",Closed,Should have,remove headline element from all content elements except headline,Sebastian Kurfuerst,Christian Müller,2012-10-04 05:10,"",Sprint 10 (1.0 TP1),"","",0.00,0.00,0,2012-09-25 08:01,"","",824900,0.00,""
41353,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Closed,Should have,phoenix.typo3.org website template still misses the multicolumn CSS from https://review.typo3.org/#/c/14975/,Sebastian Kurfuerst,Robert Lemke,2012-10-08 03:20,"","","","",0.00,0.00,0,2012-09-25 08:02,"","",824950,0.00,""
41354,Base Distribution,Task,"Story #41311: As user, I want a well-working content editing (Bugfix Story)",Rejected,Should have,check why hiding content does not work for two-colum elements; unhide does change CSS class back in all cases,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-09-25 08:32,"",Sprint 10 (1.0 TP1),"","","",0.00,0,2012-09-25 08:04,"","",825000,"",extra: check that hidden elements are not displayed in preview mode.
41355,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Should have,activate link-clicking inside texts in preview mode,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-04 07:36,"","","","","",0.00,0,2012-09-25 08:09,"","",825050,"",""
41356,Base Distribution,Task,"Story #41152: As a content editor, I want to use a page tree which fits into the overall UI",Resolved,Should have,"when adding a page in the page title, don't only create a new page and make it active, but also select the text inside the input field.",Sebastian Kurfuerst,Markus Goldbeck,2012-11-18 18:35,"","","","","",0.00,100,2012-09-25 08:11,"","",825100,"",""
41357,Base Distribution,Task,"Story #41152: As a content editor, I want to use a page tree which fits into the overall UI",Resolved,Should have,"when pressing ""enter"" after creating new page, this page should be selected.",Sebastian Kurfuerst,Markus Goldbeck,2012-11-07 14:36,"","","","","",0.00,100,2012-09-25 08:12,"","",825150,"",""
41359,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Needs Feedback,Should have,close popovers when clicking anywhere else,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-05-11 13:08,"","","","","",0.00,0,2012-09-25 09:56,"","",825250,"",""
41586,Base Distribution,Story,"",Accepted,Could have,write Neos Integrator Guide,Markus Goldbeck,Sebastian Kurfuerst,2013-07-04 14:43,Documentation,1.0 beta 1,"","","",0.00,50,2012-10-04 05:58,"","",1757550,0.00,"DoD:

* Write Neos Integrator Guide
* Document best practices including SASS/Compass + RequireJS in customer projects
* document deployment using Surf (at least roughly)"
41592,Base Distribution,Story,"",New,Could have,As a backend user I want to have sensible error handling,Markus Goldbeck,"",2012-10-04 08:04,"","","","","",0.00,0,2012-10-04 08:04,"","",2954050,0.00,""
41621,Base Distribution,Task,"",Resolved,Should have,noBrainer TYPO3 Neos 1.0 Alpha1 - delete __MACOSX Folder of ZIP file,Roland Schenke,Karsten Dambekalns,2013-01-29 10:55,"",Sprint February 2013,2012-10-05,"","",0.00,0,2012-10-05 08:15,"","",837050,"",Apple's meta files Folder for ZIP Archives should be unessential to others.
41626,Base Distribution,Task,"Story #41103: As everybody, I want the new product name to be used inside Phoenix",Closed,Should have,Replace old logos with new ones,Aske Ertmann,"",2012-10-08 03:20,"","",2012-10-05,"",0.00,0.00,0,2012-10-05 10:38,"","",837300,0.00,""
41627,Base Distribution,Task,"Story #41103: As everybody, I want the new product name to be used inside Phoenix",Closed,Should have,Replace old name usages with the new name,Aske Ertmann,"",2012-10-08 03:20,"","",2012-10-05,"",0.00,0.00,0,2012-10-05 10:57,"","",837350,0.00,""
41654,Base Distribution,Task,"",Resolved,Must have,Symlinks in ZIP install package causes setup to fail,Jochen Weiland,Karsten Dambekalns,2012-10-23 05:26,Setup,"",2012-10-07,"","",0.00,100,2012-10-07 12:45,"","",838700,"","When unzipping the file TYPO-Neos-1.0-alpha1, a number of symlinks with nonexistent targets are created in the Web/_Resources/Static/Packages folder:

    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Aloha  -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.Aloha/Resources/Public 
    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.ExtJS  -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.ExtJS/Resources/Public 
    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Flow  -> /Volumes/data/htdocs/neos-build/Packages/Framework/TYPO3.Flow/Resources/Public 
    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Fluid  -> /Volumes/data/htdocs/neos-build/Packages/Framework/TYPO3.Fluid/Resources/Public 
    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.PhoenixDemoTypo3Org  -> /Volumes/data/htdocs/neos-build/Packages/Sites/TYPO3.PhoenixDemoTypo3Org/Resources/Public 
    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Setup  -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.Setup/Resources/Public 
    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.TYPO3  -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.TYPO3/Resources/Public 
    linking: TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/Twitter.Bootstrap  -> /Volumes/data/htdocs/neos-build/Packages/Application/Twitter.Bootstrap/Resources/Public 
(...)
finishing deferred symbolic links:
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Aloha -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.Aloha/Resources/Public
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.ExtJS -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.ExtJS/Resources/Public
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Flow -> /Volumes/data/htdocs/neos-build/Packages/Framework/TYPO3.Flow/Resources/Public
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Fluid -> /Volumes/data/htdocs/neos-build/Packages/Framework/TYPO3.Fluid/Resources/Public
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.PhoenixDemoTypo3Org -> /Volumes/data/htdocs/neos-build/Packages/Sites/TYPO3.PhoenixDemoTypo3Org/Resources/Public
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Setup -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.Setup/Resources/Public
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.TYPO3 -> /Volumes/data/htdocs/neos-build/Packages/Application/TYPO3.TYPO3/Resources/Public
  TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/Twitter.Bootstrap -> /Volumes/data/htdocs/neos-build/Packages/Application/Twitter.Bootstrap/Resources/Public

The setup program tries to create the folders, e.g. TYPO3.Aloha in the Packages folder. Since the symlink already exists, the creating of the folder fails with a fatal error: 

Uncaught Exception
  Could not create directory
  ""/.../TYPO3-Neos-1.0-alpha1/Web/_Resources/Static/Packages/TYPO3.Aloha/Aloha""!

Temporary solution: 
Delete the symlinks in the Web/_Resources/Static/Packages folder after unzipping."
41655,Base Distribution,Task,"",Resolved,Must have,Fatal error after completing setup when viewing FE or logging into BE,Jochen Weiland,"",2013-05-11 13:08,Setup,"",2012-10-07,"","",0.00,0,2012-10-07 12:50,"","",838750,"","After installing Neos there is a fatal error message when either trying to view the FE or after logging into the BE:

Fatal error: require() [function.require]: Failed opening required '/.../TYPO3-Neos-1.0-alpha1/Data/Temporary/Production/Doctrine/Proxies/__CG__TYPO3TYPO3CRDomainModelNode.php' (include_path='.:/usr/local/lib/php') in /.../TYPO3-Neos-1.0-alpha1/Packages/Vendor/doctrine/orm/lib/Doctrine/ORM/Proxy/ProxyFactory.php on line 93

The directory TYPO3-Neos-1.0-alpha1/Data/Temporary/Production/Doctrine/Proxies/ is empty."
41668,Base Distribution,Task,"Story #41103: As everybody, I want the new product name to be used inside Phoenix",Resolved,Should have,Update code,Sebastian Kurfuerst,Karsten Dambekalns,2012-11-06 06:35,"","","","","",0.00,100,2012-10-08 03:20,"","",839350,"",""
41669,Base Distribution,Story,"",New,Should have,"As team member, I want updated deployment working",Sebastian Kurfuerst,"",2013-01-29 10:56,"",Sprint February 2013,"","","",0.00,38,2012-10-08 03:22,"","",1760600,0.00,""
41670,Base Distribution,Story,"",New,Should have,"as anybody, I want an updated flow and neos website",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,13,2012-10-08 03:22,"","",1760200,0.00,""
41671,Base Distribution,Story,"",New,Should have,"as developer, I want to make sure that jquery and ember is cleanly encapsulated and does not interfere with site JS",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,0,2012-10-08 03:23,"","",1761450,0.00,""
41672,Base Distribution,Story,"",New,Should have,"as developer, I want to make sure that CSS is cleanly encapsulated (i.e. site CSS does not change the UI css)",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,50,2012-10-08 03:23,"","",1761000,0.00,""
41673,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",New,Should have,"add guide ""tuning Flow Performance""",Sebastian Kurfuerst,"",2012-10-08 03:24,"","","","","",0.00,0,2012-10-08 03:24,"","",839400,"",""
41674,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",New,Should have,"add guide ""profile and debug Flow applications"" -> maybe ask othres to write that",Sebastian Kurfuerst,"",2012-10-08 03:24,"","","","","",0.00,0,2012-10-08 03:24,"","",839450,"",""
41675,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,make sure Surf works both with ./flow3 and ./flow,Sebastian Kurfuerst,"",2013-01-29 08:48,"",Sprint February 2013,"","","",0.00,0,2012-10-08 03:25,"","",839500,"",""
41676,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,fix documentation rendering on neos website,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-09 13:08,"",Sprint February 2013,"","",0.00,0.00,0,2012-10-08 03:25,"","",839550,0.00,""
41677,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,update flow3 website to use Flow packages (FLOW3 -> Flow conversion of packages),Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-09 08:53,"",Sprint February 2013,"","",0.00,0.00,0,2012-10-08 03:26,"","",839600,0.00,""
41678,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,make sure all Jenkins tasks run green again,Sebastian Kurfuerst,Karsten Dambekalns,2012-10-09 08:53,"",Sprint February 2013,"","",0.00,0.00,0,2012-10-08 03:26,"","",839650,0.00,""
41679,Base Distribution,Story,"",New,Should have,"As developer, I want to use packagist.org for all packages",Sebastian Kurfuerst,"",2013-01-29 08:18,"","","","","",0.00,20,2012-10-08 03:27,"","",1761400,0.00,""
41680,Base Distribution,Task,"Story #41679: As developer, I want to use packagist.org for all packages",New,Should have,"push all packages to packagist, with post-change hook",Sebastian Kurfuerst,"",2012-10-08 03:28,"","","","","",0.00,0,2012-10-08 03:28,"","",839700,"",""
41681,Base Distribution,Task,"Story #41679: As developer, I want to use packagist.org for all packages",Resolved,Should have,provide documentation on how to update from FLOW3 1.1 to Flow 2.0,Sebastian Kurfuerst,Karsten Dambekalns,2012-12-17 12:11,"","","","","",0.00,100,2012-10-08 03:28,"","",839750,"",""
41682,Base Distribution,Task,"Story #41679: As developer, I want to use packagist.org for all packages",Accepted,Should have,"create a package for flow.typo3.org website listing only typo3-flow-* composer packages (""mini-TER"")",Sebastian Kurfuerst,Marc Neuhaus,2012-10-11 05:30,"","","","","",0.00,0,2012-10-08 03:28,"","",839800,"",""
41683,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",Resolved,Should have,replace FLOW3 -> Flow on website,Sebastian Kurfuerst,Christian Müller,2012-10-17 13:33,"","","","","",0.00,100,2012-10-08 03:29,"","",839850,"",""
41684,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,disable sites.xml import on Neos website (production and integration server),Sebastian Kurfuerst,"",2012-10-11 10:48,"",Sprint February 2013,"","",0.00,0.00,0,2012-10-08 03:29,"","",839900,0.00,""
41685,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,make regular sites.xml backup and commit this to some git repo,Sebastian Kurfuerst,Karsten Dambekalns,2012-10-10 04:57,"",Sprint February 2013,"","","",0.00,100,2012-10-08 03:29,"","",839950,"",""
41686,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",New,Should have,"ask community to convert Christians ""Developing TYPO3 Neos Website"" to tutorial in ReST",Sebastian Kurfuerst,"",2012-10-08 03:30,"","","","","",0.00,0,2012-10-08 03:30,"","",840000,"",""
41687,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",New,Should have,"ask community to convert Sebastians ""Technical Overview to Neos"" to documentation in ReST",Sebastian Kurfuerst,"",2012-10-08 03:30,"","","","","",0.00,0,2012-10-08 03:30,"","",840050,"",""
41688,Base Distribution,Story,"",Closed,Should have,analyse log files from demo instance at T3CON and provide bug reports for that,Sebastian Kurfuerst,"",2013-01-29 09:38,"","","","","",0.00,0,2012-10-08 03:32,"","",1761650,"",""
41700,Base Distribution,Story,"",New,Should have,As a developer I want to have a reasonable test coverage for JavaScript,Rens Admiraal,"",2013-01-29 08:18,"","","","","",0.00,0,2012-10-08 05:01,"","",1760100,"",""
41701,Base Distribution,Story,"",New,Should have,As a content editor I want to have localization support ('single tree concept'),Rens Admiraal,"",2013-01-30 10:04,"",1.1,"","","",0.00,0,2012-10-08 05:01,"","",1757350,"",""
41702,Base Distribution,Story,"",New,Should have,As an integrator I want to configure read / write access to pages / sections,Rens Admiraal,"",2013-01-29 08:18,"","","","","",0.00,0,2012-10-08 05:01,"","",1760900,"",""
41703,Base Distribution,Story,"",New,Must have,Assign roles to users in user management,Rens Admiraal,Rens Admiraal,2013-01-30 08:43,Administration,1.0 beta 1,"","","",0.00,0,2012-10-08 05:02,"","",1760750,"","As an Administrator I want to assign roles to a user in the user management module.

The valid roles for the first version are:

* Administrator
* Content Editor"
41774,Base Distribution,Epic,"",Resolved,Must have,Thank you bug,Carsten Bleicker,Karsten Dambekalns,2012-12-17 14:37,General / Project,"",2012-10-09,"","",0.00,100,2012-10-09 06:40,"","",844150,"","A big ""*THANK YOU*"" because of the new TYPO3 Family members is missing.
Patch attached."
41775,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,Disable sites.xml import on flow.typo3.org,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-09 06:54,"",Sprint February 2013,"","",0.00,0.00,0,2012-10-09 06:54,"","",844200,0.00,""
41780,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,deactivate flow3.typo3.org on robertlemke's servers,Sebastian Kurfuerst,Robert Lemke,2012-10-11 10:41,"",Sprint February 2013,"","",0.00,0.00,0,2012-10-09 08:53,"","",844450,0.00,""
41781,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Accepted,Should have,set up integration.flow.typo3.org,Sebastian Kurfuerst,Karsten Dambekalns,2012-12-17 14:38,"",Sprint February 2013,"","","",0.00,90,2012-10-09 08:53,"","",844500,"",""
41782,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,set up integration.neos.typo3.org,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-10-09 09:19,"",Sprint February 2013,"","",0.00,0.00,0,2012-10-09 08:53,"","",844550,0.00,""
41787,Base Distribution,Task,"Story #41679: As developer, I want to use packagist.org for all packages",New,Should have,change git repositories on git.typo3.org (FLOW3 -> Flow; Neos Name),Sebastian Kurfuerst,"",2012-10-09 09:21,"","","","","",0.00,0,2012-10-09 09:21,"","",844800,"",""
41788,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,create backend user accounts for neos.typo3.org,Sebastian Kurfuerst,Karsten Dambekalns,2012-10-31 04:00,"",Sprint February 2013,"","","",0.00,100,2012-10-09 09:26,"","",844850,"",""
41789,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Resolved,Should have,create backend user accounts for flow.typo3.org,Sebastian Kurfuerst,Karsten Dambekalns,2012-10-31 03:59,"",Sprint February 2013,"","","",0.00,100,2012-10-09 09:26,"","",844900,"",""
41805,Base Distribution,Task,"Story #41669: As team member, I want updated deployment working",Accepted,Should have,adjust release process to Composer / create Neos release using release plugin etc,Sebastian Kurfuerst,Karsten Dambekalns,2013-01-29 10:56,"",Sprint February 2013,"","","",0.00,0,2012-10-09 13:10,"","",845700,"",""
41808,Base Distribution,Task,"",Rejected,Should have,Flow does not support Windows versions older than Windows Vista or Windows Server 2008 (Error #1312463704) ,Jean-Sébastien Gervais,"",2012-10-09 15:43,"","",2012-10-09,"","",0.00,0,2012-10-09 14:35,"","",845850,"",While trying to load up the setup page for a first install.  The message may be a bit misleading as I am working on a windows XP machine (virtualized) with under xampp 
41821,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",New,Should have,discuss how documentation can be improved,Sebastian Kurfuerst,Berit Hlubek,2012-10-11 05:37,"","","","","",0.00,0,2012-10-10 03:48,"","",846500,"",""
41838,Base Distribution,Task,"Story #41679: As developer, I want to use packagist.org for all packages",Accepted,Should have,document and update conventions for composer name and package keys,Sebastian Kurfuerst,Christian Jul Jensen,2012-10-10 08:33,"","","","","",0.00,0,2012-10-10 08:32,"","",847350,"","We want to go with the following conventions:
<code><pre>
TYPO3.Phoenix.ContentTypes ? typo3/phoenix-contenttypes
TYPO3.Queue ? typo3/queue
TYPO3.Queue.Redis ? typo3/queue-redis
</pre></code>"
41845,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",Needs Feedback,Should have,write chapter on Testing in flow.typo3.org guide (Christian Peters takes over this task),Sebastian Kurfuerst,Martin Muzatko,2012-11-05 10:35,"","","","","",0.00,0,2012-10-10 08:46,"","",847700,"",""
41849,Base Distribution,Task,"Story #41672: as developer, I want to make sure that CSS is cleanly encapsulated (i.e. site CSS does not change the UI css)",Resolved,Should have,Create normalize.css,Berit Hlubek,Berit Hlubek,2012-10-16 06:35,"","","","","",0.00,100,2012-10-10 13:53,"","",847900,"","This should contain ar least:
* <div> cleaning (no paddings, no margins, no borders on our own elements)
* <bod> cleaning (put base text-align, base font-family on our t3-ui-classes and important IDs)"
41850,Base Distribution,Story,"",New,Should have,As an integrator I would like to include default content styles from Neos,Berit Hlubek,"",2013-05-11 13:11,"","","","","",0.00,33,2012-10-10 14:06,"","",1761250,0.00,""
41851,Base Distribution,Task,Story #41850: As an integrator I would like to include default content styles from Neos,Closed,Should have,Include default content element styles automatically via TypoScript if the package is installed.,Berit Hlubek,Christian Müller,2013-05-11 13:11,"","","","","",0.00,0,2012-10-10 14:14,"","",847950,"",""
41852,Base Distribution,Task,Story #41850: As an integrator I would like to include default content styles from Neos,New,Should have,Add default content styles inside the content elements package.,Berit Hlubek,Berit Hlubek,2012-10-10 14:15,"","","","","",0.00,0,2012-10-10 14:15,"","",848000,"",""
41853,Base Distribution,Story,"",New,Should have,As an integrator I want an optimized setup,Berit Hlubek,"",2013-01-29 08:18,"","",2012-09-13,"","",0.00,80,2012-10-10 14:19,"","",1760050,0.00,""
41854,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,Un-bootstrap-ify the setup and make it look like the backend,Berit Hlubek,Berit Hlubek,2012-10-21 04:36,"","","","","",0.00,100,2012-10-10 14:21,"","",848050,"",""
41855,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,New,Should have,Optimize the usability of the site creation wizard,Berit Hlubek,Berit Hlubek,2012-10-10 14:26,"","","","","",0.00,0,2012-10-10 14:26,"","",848100,"",Add an accordion with one element for the site import and one element for the new creation of a site.
41856,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,New,Should have,Require the needed graphic modules for the site import and show a warning if the modules are not found,Berit Hlubek,"",2012-10-10 14:28,"","","","","",0.00,0,2012-10-10 14:28,"","",848150,"",""
41857,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,Add information about the password requirements within the user creation step,Berit Hlubek,Berit Hlubek,2012-10-21 05:35,"","","","","",0.00,100,2012-10-10 14:31,"","",848200,"",""
41858,Base Distribution,Story,"",New,Should have,As an integrator I want a complete feature set in TypoScript and EEL,Berit Hlubek,"",2013-07-19 08:53,"","","","","",0.00,65,2012-10-10 14:38,"","",1760400,0.00,""
41859,Base Distribution,Task,Story #41858: As an integrator I want a complete feature set in TypoScript and EEL,Accepted,Should have,"Create a standard library for common string, array and date functions in EEL",Berit Hlubek,Christopher Hlubek,2013-07-19 08:53,"","","","","",0.00,30,2012-10-10 14:39,"","",848250,"",""
41860,Base Distribution,Task,Story #41858: As an integrator I want a complete feature set in TypoScript and EEL,Resolved,Should have,Create a way to use static values/expressions in TypoScript paths,Berit Hlubek,Christopher Hlubek,2013-01-30 04:18,"","","","","",0.00,100,2012-10-10 14:41,"","",848300,"",For example something like a basic version of the old TEXT object.
41861,Base Distribution,Story,"",New,Should have,As any user I want a better usability of the backend UI,Berit Hlubek,"",2013-01-29 08:18,"","","","","",0.00,100,2012-10-10 15:01,"","",1761050,0.00,""
41862,Base Distribution,Task,Story #41861: As any user I want a better usability of the backend UI,Resolved,Should have,Change the logout button to a dropdown button also including a user settings link,Berit Hlubek,Christopher Hlubek,2012-10-30 14:35,"","","","","",0.00,100,2012-10-10 15:02,"","",848350,"",""
41871,Base Distribution,Task,"Story #41186: as a user, I want a clean listing of nodes inside management view",Closed,Should have,as a developer i want to easily edit domain objects with expose,Marc Neuhaus,Marc Neuhaus,2012-10-11 05:14,"",1.1,"","","",0.00,0,2012-10-11 05:06,"","",848800,"",""
41872,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,New,Should have,Detect if symlinks can be created,Rens Admiraal,"",2012-10-11 05:15,"","",2012-10-11,"","",0.00,0,2012-10-11 05:15,"","",848850,"","If symlinks can't be created a friendly error message should be shown.

This could be checked for example using ini_get('disable_functions') and / or actually creating a test symlink to check for windows policy"
41873,Base Distribution,Task,"Story #41107: As a user, I want a working demo site",Resolved,Should have,Fix the site:prune command,Rens Admiraal,"",2012-10-15 13:36,"","",2012-10-11,"","",0.00,100,2012-10-11 05:18,"","",848900,"",""
41875,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Must have,"Updating Syncronization between Inspector, Content, Pagetree and Inspectree",Markus Goldbeck,Markus Goldbeck,2013-01-31 13:07,Content Editing,"","","","",0.00,100,2012-10-11 05:30,"","",849000,"",""
41876,Base Distribution,Task,"Story #41671: as developer, I want to make sure that jquery and ember is cleanly encapsulated and does not interfere with site JS",New,Should have,Make Neos UI work with Zurb Foundation (for example),Robert Lemke,"",2012-10-11 05:30,"","","","","",0.00,0,2012-10-11 05:30,"","",849050,"",""
41877,Base Distribution,Task,"Story #41670: as anybody, I want an updated flow and neos website",New,Should have,Explore: Find a way to include Neos / Flow news via RSS,Robert Lemke,"",2013-05-11 13:19,"","","","","",0.00,0,2012-10-11 05:39,"","",849100,"",""
41878,Base Distribution,Task,"Story #41103: As everybody, I want the new product name to be used inside Phoenix",New,Should have,extract package management to own package,Sebastian Kurfuerst,"",2012-10-11 05:42,"","","","","",0.00,0,2012-10-11 05:42,"","",849150,"",""
41879,Base Distribution,Story,"",New,Could have,extract user management to own package,Sebastian Kurfuerst,Rens Admiraal,2013-01-29 09:46,"","","","","",0.00,0,2012-10-11 05:42,"","",2954200,"","As developer, I want to use the Neos user-managmeent also for standalone Flow applications. Rens wanted to look at this."
41892,Base Distribution,Task,"Story #41107: As a user, I want a working demo site",New,Should have,Set up an environment for the demo site plus the domain name: neos.demo.typo3.org,Ben van 't Ende,Ben van 't Ende,2012-10-11 10:47,"","","","","",0.00,0,2012-10-11 10:46,"","",849800,"",""
41928,Base Distribution,Task,"",Resolved,Must have,"Comment is generated in source: <!-- TODO: add the page properties in a more clever way, and only when being in backend... -->",Henjo Hoeksma,Henjo Hoeksma,2012-12-17 14:36,Content Rendering,"",2012-10-12,"","",0.00,100,2012-10-12 10:05,"","",851450,"","The comment <!-- TODO: add the page properties in a more clever way, and only when being in backend... --> is default generated in the source code.

Environment: new template creation.

Location of problem: Packages/Application/TYPO3.Phoenix.ContentTypes/Resources/Private/Templates/TypoScriptObjects/PageTemplate.html"
41930,Base Distribution,Task,"",Resolved,Should have,An empty div is default inserted in the generated source code,Henjo Hoeksma,"",2012-12-17 14:35,Content Rendering,"",2012-10-12,"","",0.00,100,2012-10-12 10:11,"","",851550,"","Coming from: 
Packages/Application/TYPO3.Phoenix.ContentTypes/Resources/Private/Templates/TypoScriptObjects/PageTemplate.html

<pre>
<code class=""html"">
<t:contentElement node=""{node}"" page=""1"" />
</code>
</pre>"
41931,Base Distribution,Task,"",New,Should have,"TODO: add the page properties in a more clever way, and only when being in backend... ",Henjo Hoeksma,"",2012-10-12 10:23,Content Rendering,"",2012-10-12,"","",0.00,0,2012-10-12 10:23,"","",851600,"",See issue: #41928 for details.
41958,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Should have,"Make the '@' usable in content editing (on a mac) by changing the ""search & navigate"" shortcut to another keyboard combination.",Berit Hlubek,Christopher Hlubek,2012-10-17 03:39,"","","","","",0.00,100,2012-10-13 14:02,"","",852950,"",""
41964,Base Distribution,Task,"",Closed,Should have,Phoenix in copyright source code header,Henjo Hoeksma,Henjo Hoeksma,2012-12-15 10:49,Content Rendering,"",2012-10-13,"","",0.00,0,2012-10-13 17:09,"","",853250,"",Phoenix in copyright source code header
41972,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Must have,Support user workspace names with underscore,Christopher Hlubek,Christopher Hlubek,2012-10-17 04:35,"","","","","",0.00,100,2012-10-14 07:42,"","",853650,"",""
41973,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Accepted,Should have,Align button bars for editables on top of the editable border to prevent overlay issues with the content,Christopher Hlubek,Sebastian Kurfuerst,2012-10-17 02:53,"","","","","",0.00,0,2012-10-14 07:44,"","",853700,"",""
41977,Base Distribution,Task,"Story #41103: As everybody, I want the new product name to be used inside Phoenix",Resolved,Should have,Make name in setup configurable (TYPO3 Setup -> Neos Setup),Christopher Hlubek,Christopher Hlubek,2012-10-17 03:16,"","","","","",0.00,100,2012-10-14 08:28,"","",853900,"",""
41978,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,Login after Logout does not work on first submit of the password,Christopher Hlubek,"",2013-01-22 05:48,"","","","","",0.00,100,2012-10-14 08:34,"","",853950,"",""
42014,Base Distribution,Task,Story #44957: Reliable clipboard and content element handles,Resolved,Must have,Cut and Paste is not working reliably ,Christopher Hlubek,"",2013-05-23 12:52,"",Sprint February 2013,"","","",0.00,100,2012-10-15 07:43,"","",855750,"",""
42038,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Must have,"Automatic save is not always in sync with content, content could be lost",Christopher Hlubek,"",2012-10-16 06:00,"","","","","",0.00,0,2012-10-16 06:00,"","",856850,"",""
42053,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Should have,Disable selection features in preview mode,Christopher Hlubek,Christopher Hlubek,2012-10-17 11:06,"","","","","",0.00,0,2012-10-16 10:44,"","",857600,"",""
42203,Base Distribution,Task,Story #44921: Decide TypoScript and TYPO3CR Naming,Resolved,Should have,To discuss: naming of 'Section' in Neos,Rens Admiraal,Robert Lemke,2013-01-29 11:56,"",Sprint February 2013,2012-10-20,"",0.00,0.00,0,2012-10-19 19:31,"","",864900,0.00,In a meeting with developers there was a discussion about the naming of 'sections'. Multiple developers said this naming was confusing with the HTML5 tag 'sections' which have a different meaning. It was said that 'Content Area' could be a better name.
42205,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Should have,"When you change a property in the inspector panel and press 'apply', the 'publish page' button does not become active",Rens Admiraal,Mattias Nilsson,2012-10-30 04:35,"","","","","",0.00,100,2012-10-19 19:43,"","",865000,"",""
42206,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Should have,When a content element is hidden based on hiddenBeforeDateTime / hiddenAfterDateTime the hidden CSS should also be applied (so the element should be transparent),Rens Admiraal,"",2012-10-19 19:44,"","","","","",0.00,0,2012-10-19 19:44,"","",865050,"",""
42208,Base Distribution,Task,"Story #41152: As a content editor, I want to use a page tree which fits into the overall UI",Resolved,Should have,"The pagetree should be hidden if you enable the preview mode (reproduce: open page tree, click the preview mode button)",Rens Admiraal,"",2013-01-09 13:36,"","","","","",0.00,100,2012-10-19 19:47,"","",865150,"",""
42209,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,It should be explained what effect skipping steps has. For example explain an admin user has to be created by using CLI commands. Now the 'skip' button raises questions.,Rens Admiraal,Christopher Hlubek,2012-11-12 16:35,"","","","","",0.00,100,2012-10-19 19:49,"","",865200,"",""
42216,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Should have,Show at least some recognizable content of a node in the inspector panel. Now the header property is used which only works for headlines,Rens Admiraal,"",2012-10-20 06:19,"","","","","",0.00,0,2012-10-20 06:19,"","",865550,"",""
42220,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",New,Should have,"""Uncaught ReferenceError: nextAnimation is not defined"" javascript error on load (demo package)",Rens Admiraal,"",2012-10-20 06:37,"","","","","",0.00,0,2012-10-20 06:37,"","",865750,"",""
42246,Base Distribution,Task,"Story #41672: as developer, I want to make sure that CSS is cleanly encapsulated (i.e. site CSS does not change the UI css)",New,Must have,Use same DOM hierarchy for logged in backend user and public and do not render content editing classes in public frontend,Christopher Hlubek,"",2012-10-21 10:42,"","","","","",0.00,0,2012-10-21 10:38,"","",867050,"","Basically the output has to be the same for a logged in user or a rendered page for every visitor. We should strive for the same DOM structure to prevent hard to find styling issues, because CSS could depend on the hierarchy.

A Section renders a @div@ around the content only if logged in. We need a configurable tag element for the Section (with attributes) and should always render it for consistency.
"
42248,Base Distribution,Task,Story #41850: As an integrator I would like to include default content styles from Neos,New,Must have,Move backend includes (JS and CSS) back to Neos package,Christopher Hlubek,"",2012-10-21 12:47,"","","","","",0.00,0,2012-10-21 11:33,"","",867150,"",Right now the header includes for content editing are in the page template of the content types package. It should be placed inside the Neos package (@TYPO3.TYPO3@). 
42670,Base Distribution,Task,"Story #41152: As a content editor, I want to use a page tree which fits into the overall UI",Resolved,Must have,creating two nodes depending on each other in a branch breaks the tree,Markus Goldbeck,Markus Goldbeck,2012-11-18 18:35,Content Editing,"","","","",0.00,100,2012-11-04 09:13,"","",887800,"",""
42672,Base Distribution,Story,"",New,Should have,"As everybody, I want no JavaScript loading issues (Bugfix story)",Markus Goldbeck,"",2014-10-04 11:34,"","",2012-11-04,"","",0.00,100,2012-11-04 10:38,"","",1760500,0.00,""
42740,Base Distribution,Task,Story #41853: As an integrator I want an optimized setup,Closed,Must have,Make all setup steps accessible again,Berit Hlubek,Karsten Dambekalns,2012-11-20 04:43,Setup,"","","","",0.00,0,2012-11-06 16:31,"","",891250,"","At the moment some setup steps seem to be broken.
I have a running site but started the setup again to create an admin user: After selecting the database I got directly redirected to the congratulation screen with the homepage link.

Independent on the current site status it should always be possible to have access to all setup steps (user create, site create/import, ...)."
42804,Base Distribution,Task,"",Closed,-- undefined --,Error in installation,Rasikh Mashhadi,Karsten Dambekalns,2012-12-17 11:24,"","",2012-11-08,"","",0.00,0,2012-11-08 17:17,"","",894350,"","I am not sure if this is a bug or not, i have been trying to install neos on my local. its MAC with MAMP php 5.3.5

Execution of subprocess failed with exitcode ""255"" and output: 

TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file
Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Core/Booting/Scripts.php in line 518.
Reference code: 201211090313548260ab

Go to the FORGE issue tracker and report the issue - if you think it is a bug!"
43313,Base Distribution,Impediment,"",Closed,Should have,Management/Administration tab in BE stop working,Visay Keo,Visay Keo,2012-12-11 07:15,"","",2012-11-26,"","",0.00,0,2012-11-26 11:50,"","",919650,"","* I clone the base distro from git master today (26 Nov 2012)
* Kickstart a new site and login to the Backend
* Only the ""Content"" tab is working but the ""Management"" and ""Administration"" tabs is not working anymore and lead to a server error with the following message:

<pre>
#1237823695: Argument ""uri"" was not registered.
</pre>

* These links were working properly with 1.0 Alpha 1 (same server config and php settings)"
43479,Base Distribution,Task,Story #41861: As any user I want a better usability of the backend UI,Resolved,Should have,Removing the alert for page loading when the HTML selector wasn't found,Markus Goldbeck,Markus Goldbeck,2012-12-04 08:36,"","","","","",0.00,100,2012-11-30 05:02,"","",927950,"",""
43684,Base Distribution,Task,"",Closed,Should have,Orange border around inline contentelement toolbar,Mattias Nilsson,Mattias Nilsson,2012-12-07 05:34,Content Editing,"",2012-12-06,"","",0.00,0,2012-12-06 13:08,"","",938100,"","In a orange border has appeared around the inline contentelement toolbar (class t3-contentelement-handle).

See the attached image screen dump."
43862,Base Distribution,Task,"",Rejected,Must have,ExtensionManager error after deleting typo3temp-files,Paul A. Auwehla,Paul A. Auwehla,2012-12-11 06:52,"","",2012-12-11,"","",0.00,0,2012-12-11 03:52,"","",946900,"","Oops, an error occurred!
File has been deleted.
This is all the ExtManager has to say
when the typo3temo-directory is cleared.
No further action of the ExtManager from this point on.
"
43940,Base Distribution,Task,"",Closed,Must have,Apache crashes every time,Felix Muster,Karsten Dambekalns,2012-12-17 11:16,"","",2012-12-13,"","",0.00,0,2012-12-13 03:24,"","",950800,"","Hello,

My System:
OS: Windows 7
Bundle: XAMPP v1.8.1

I installed Neos by ""this instruction"":http://www.binseed.com/post/553786-typo3-xampp-installation-typo3-neos-auf-windows-7-w-xampp.html. 
Everything works fine, but I get this error message all day when surfing in front- or in backend:

!error.png!


Problemsignatur:
  Problemereignisname:	APPCRASH
  Anwendungsname:	httpd.exe
  Anwendungsversion:	2.4.3.0
  Anwendungszeitstempel:	502f70a3
  Fehlermodulname:	php5ts.dll
  Fehlermodulversion:	5.4.7.0
  Fehlermodulzeitstempel:	505114f8
  Ausnahmecode:	c0000005
  Ausnahmeoffset:	00035ce8
  Betriebsystemversion:	6.1.7601.2.1.0.256.4
  Gebietsschema-ID:	1031
  Zusatzinformation 1:	0a9e
  Zusatzinformation 2:	0a9e372d3b4ad19135b953a78882e789
  Zusatzinformation 3:	0a9e
  Zusatzinformation 4:	0a9e372d3b4ad19135b953a78882e789


I think this is the corresponding error in the log-File from apache:
[Wed Dec 12 13:29:27.655765 2012] [mpm_winnt:notice] [pid 1412:tid 248] AH00428: Parent: child process exited with status 3221225477 -- Restarting.

The strange thing is, that nothing crashes like it says, it works fine, I only have to click ""Programm schließen / Close program"" and the website resumes loading.
XAMPP Control Panel also says, that apache is still running...


I googled a bit and tried all of this solutions:

Set in httpd.conf:

TraceEnable off
EnableMMAP off
EnableSendfile Off

output_buffer to 5000000

<IfModule mpm_winnt.c>
ThreadsPerChild 50
MaxRequestsPerChild  0
ThreadStackSize 8388608
</IfModule>

AcceptFilter http none
<IfDefine AEX>
Win32DisableAcceptEx
</IfDefine>



...But nothing works.

Can someone help me?"
44035,Base Distribution,Task,"",Resolved,Should have,"When deleting a page from pagetree, the modal prompt window is missing pagetitle and childrens pagetitles.",Mattias Nilsson,Mattias Nilsson,2012-12-20 06:36,"","",2012-12-16,"","",0.00,100,2012-12-16 06:58,"","",955500,"","When deleting a page from pagetree, the modal prompt window is missing pagetitle and childrens pagetitles.

In deletePageDialog.html the markup is that follows:

<div class=""modal"" id=""pagetreeDeleteDialog"">
	<div class=""modal-header"">
		{{view T3.Content.UI.ButtonDialog label=""x"" target=""parentView"" data-dismiss=""modal"" action=""cancel"" class=""close t3-button"" title=""x""}}
		<h3>Are you sure you want to delete the page ""{{pageTitle}}""?</h3>
		<p>This will delete the page {{page}} {{children}}.
			This operation can be undone in the workspace management.</p>
	</div>
	<div class=""modal-footer"">
			{{view T3.Content.UI.ButtonDialog label=""Cancel"" target=""parentView"" action=""cancel""   class=""btn t3-button"" title=""Cancel""}}
			{{view T3.Content.UI.ButtonDialog label=""Delete"" target=""parentView"" action=""delete""   class=""btn btn-danger t3-button icon-trash icon-white"" title=""Delete""}}
		</div>
</div>
<div class=""modal-backdrop in""></div>

The markup:
{{page}} {{children}} doesn´t output anything."
44211,Base Distribution,Task,"",Resolved,Should have,When clicking on search toolbar the website gets a margin-right: 296px,Mattias Nilsson,"",2013-01-06 14:12,"","",2012-12-25,"","",0.00,100,2012-12-25 03:40,"","",964200,"",When clicking on search toolbar the website gets a margin-right: 296px
44683,Base Distribution,Task,"Story #41101: As user, I want a well-working content editing (Bugfix Story)",Resolved,Should have,"Image upload of some filetypes is not working, button ""Upload!"" is disfunctional",Christopher Hlubek,Christopher Hlubek,2013-01-24 03:36,"","","","","",0.00,100,2013-01-21 03:44,"","",987750,"",""
44912,Base Distribution,Story,"",Accepted,Must have,Exploration: Accessible Neos Content Editing Module,Sebastian Kurfuerst,Patrick Broens,2013-01-29 10:48,Content Editing,Sprint February 2013,2013-01-29,"","",0.00,63,2013-01-29 09:02,"","",2954700,0.00,"As a user with disabilities, I want an accessible Neos Content Editing Module in order to interact with the website. *This task is about exploring the steps towards a more accessible Neos.*

DoD is an *answer to the following question*:

* What do we need to change in order to improve accessibility? What are easy-to-fix things in this area?
* Which general guidelines should we adhere to when creating new JavaScript parts in the Content Module?
* What needs to be done in the remaining Neos backend (f.e. Management Module) to make it accessible?
* How can keyboard shortcuts help with Accessibility?"
44913,Base Distribution,Story,"",On Hold,Should have,RESTful NodeController for easy comment creation,Robert Lemke,"",2013-05-31 05:49,Content Management,"","","","",0.00,100,2013-01-29 09:08,"","",1757900,0.00,"As a site integrator I want a RESTful NodeController in order to create blog post comments by just coding a Fluid-based form.

DoD
 - POST request on ...../blog/posts/my-blog-post/comments creates a new comment
 - properties are validated (-HTML not allowed in post comment- (Note: we don't support markup at all -> htmlspecialchars) email address required)
 - on validation error the user is returned to the original page with the form values still filled in and an error message displayed
 - NodeController also handles other types of content, for example Page"
44916,Base Distribution,Story,"",New,Should have,Explore: Usage of Touch Screens for Neos,Sebastian Kurfuerst,Patrick Broens,2013-01-29 09:19,Content Management,Sprint February 2013,2013-01-29,"","",0.00,0,2013-01-29 09:19,"","",2954750,"","As a normal user, I want to use Neos with a tablet or another touch-enabled device.

DoD:

* Which guidelines do we need to follow in order to make Neos usable on a touch device?
* Try out Neos on an iPad and list the problems
* Check both the Content Module and also the remaining backend (e.g. Management Module)"
44917,Base Distribution,Task,Story #44913: RESTful NodeController for easy comment creation,Resolved,Should have,Add support for transient nodes,Bastian Waidelich,Bastian Waidelich,2013-02-25 13:35,"","","","","",0.00,100,2013-01-29 09:22,"","",999250,"","Simplify *NodeInterface* and create sub-interface *PersistedNodeInterface*.
*Node templates* implement the base NodeInterface and are not yet stored in the node repository."
44918,Base Distribution,Task,Story #44913: RESTful NodeController for easy comment creation,Resolved,Should have,NodeTemplateConverter,Bastian Waidelich,"",2013-02-25 13:35,"","","","","",0.00,100,2013-01-29 09:23,"","",999300,"","expects node properties and returns a ""NodeTemplate"" that can be attached to a persistent node"
44919,Base Distribution,Story,"",Accepted,Should have,Use Expose for listing BlogPost-Nodes in Frontend,Sebastian Kurfuerst,Marc Neuhaus,2013-01-29 10:23,Content Rendering,Sprint February 2013,"","","",0.00,0,2013-01-29 09:24,"","",2954800,0.00,"As a developer, we want to use Expose for listing BlogPost-Nodes in Frontend

DoD:

* show blog post teasers, with links to the full posts
* use Pagination from Expose"
44920,Base Distribution,Story,"",Accepted,Should have,Keyboard shortcuts for content editing,Robert Lemke,Rens Admiraal,2013-08-09 10:44,Content Editing,Sprint February 2013,"","","",0.00,20,2013-01-29 09:28,"","",1757850,0.00,"As a content editor I want to create new content elements and navigate with keyboard shortcuts in order to stay focussed and don't interrupt the writing flow

Definition of done:

* when the focus is on an existing content element, I can open the ""create new element"" flyout (""+"" icon)  by pressing CTRL-N
* I can select the type of the content to create by using the arrow keys and pressing enter
* I can close the dialog by pressing ESC
* when the cursor is at the end of the text I can switch to the content element below by pressing the arrow-down key
* when the cursor is at the beginning of the text I can switch to the content element above by pressing the arrow-up key
"
44921,Base Distribution,Story,"",Accepted,Should have,Decide TypoScript and TYPO3CR Naming,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-01-30 10:37,Content Rendering,Sprint February 2013,2012-10-20,"","",0.00,33,2013-01-29 09:44,"","",2954850,0.00,"As Site Integrator, I want to use consistent TypoScript and TYPO3CR Content Types.

As part of this, the names of content type schema, and the TypoScript properties should be gone through.

List of TODOs:

* https://review.typo3.org/#/c/17510/ (grep for ""TODO"")
"
44922,Base Distribution,Task,Story #44920: Keyboard shortcuts for content editing,Under Review,Should have,Change content element selection on 'TAB',Rens Admiraal,Rens Admiraal,2013-01-31 08:57,"",Sprint February 2013,"","","",0.00,0,2013-01-29 09:51,"","",999350,"",""
44923,Base Distribution,Story,"",New,Should have,Multi-Lingual User Interface,Sebastian Kurfuerst,"",2013-01-30 08:06,"",1.1,"","","",0.00,0,2013-01-29 10:07,"","",1757600,"","As Neos user, I want to see labels and messages in my native language.

DoD:

* All labels and messages are available in english and german
* Preferred language can be selected in user settings"
44924,Base Distribution,Task,Story #44919: Use Expose for listing BlogPost-Nodes in Frontend,Accepted,Should have,Change the Post List view to use Expose,Marc Neuhaus,Marc Neuhaus,2013-01-29 10:28,"",Sprint February 2013,"","","",0.00,0,2013-01-29 10:23,"","",999400,"",""
44925,Base Distribution,Task,Story #44919: Use Expose for listing BlogPost-Nodes in Frontend,New,Should have,Change the styling of Blog Posts with Expose to match the current styling,Marc Neuhaus,Marc Neuhaus,2013-01-29 10:24,"",Sprint February 2013,"","","",0.00,0,2013-01-29 10:24,"","",999450,"",""
44926,Base Distribution,Task,Story #44912: Exploration: Accessible Neos Content Editing Module,Accepted,Must have,Define roles for navigational landmarks,Patrick Broens,Patrick Broens,2013-01-29 10:47,"",Sprint February 2013,2013-01-29,"","",0.00,70,2013-01-29 10:33,"","",999500,"","Landmarks are a vast improvement over the rudimentary ?skip to main content? technique employed prior to WAI-ARIA. The presence of common, semantic, navigation landmarks allows assistive technology to provide a consistent navigation experience."
44927,Base Distribution,Task,Story #44912: Exploration: Accessible Neos Content Editing Module,Accepted,Must have,Define roles for document structure,Patrick Broens,Patrick Broens,2013-01-29 10:48,"",Sprint February 2013,2013-01-29,"","",0.00,70,2013-01-29 10:35,"","",999550,"",These roles describe structures that organize content. Document structures are not usually interactive.
44928,Base Distribution,Task,Story #44921: Decide TypoScript and TYPO3CR Naming,Resolved,Should have,Decide on TYPO3CR node type names,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-01-29 11:59,Content Repository,Sprint February 2013,"","",0.00,0.00,0,2013-01-29 10:42,"","",999600,0.00,""
44929,Base Distribution,Task,Story #44912: Exploration: Accessible Neos Content Editing Module,Accepted,Must have,Define roles for widgets,Patrick Broens,Patrick Broens,2013-01-29 10:48,"",Sprint February 2013,2013-01-29,"","",0.00,70,2013-01-29 10:43,"","",999650,"",Some roles act as standalone user interface widgets. It should be investigated which parts can be marked with a widget role
44930,Base Distribution,Task,Story #44912: Exploration: Accessible Neos Content Editing Module,Accepted,Must have,Check if parts marked as widget need HTML markup changes,Patrick Broens,Patrick Broens,2013-01-29 10:48,"",Sprint February 2013,2013-01-29,"","",0.00,40,2013-01-29 10:46,"","",999700,"",For WAI-ARIA some attributes need to be added or changed to have proper functonality as a widget
44932,Base Distribution,Story,"",Needs Feedback,Should have,Update TYPO3CR Node Type Names according to concept,Sebastian Kurfuerst,"",2013-05-11 13:37,"",Sprint February 2013,"","","",0.00,0,2013-01-29 11:58,"","",1757800,"","* Update node types themselves
* update ""contentType"" in PHP --> change to ""nodeType"""
44933,Base Distribution,Story,"",Resolved,Should have,Extract TYPO3CR node type definitions into NodeTypes.yaml,Sebastian Kurfuerst,Karsten Dambekalns,2013-05-23 17:01,Content Repository,Sprint February 2013,"","","",0.00,100,2013-01-29 12:01,"","",1757750,"",""
44934,Base Distribution,Task,Story #44920: Keyboard shortcuts for content editing,Under Review,Should have,Add cut / delete / copy / paste actions,Rens Admiraal,Rens Admiraal,2013-01-31 08:56,"",Sprint February 2013,"","","",0.00,0,2013-01-29 12:11,"","",999800,"",""
44935,Base Distribution,Task,Story #44920: Keyboard shortcuts for content editing,Under Review,Should have,Add keystroke for new content element after,Rens Admiraal,Rens Admiraal,2013-01-31 08:58,"",Sprint February 2013,"","","",0.00,0,2013-01-29 12:16,"","",999850,"",""
44950,Base Distribution,Story,"",Resolved,Should have,As a Integrator I want to add RSS rendering in TypoScript,Christian Müller,Christian Müller,2013-05-11 15:11,"",Sprint February 2013,2013-01-30,"","",0.00,100,2013-01-30 03:39,"","",2954900,0.00,something comparable to typeNum in TYPO3 CMS.
44954,Base Distribution,Task,Story #40599: Include arbitrary Flow-Applications as Plugins,Resolved,Should have,Provide a way to render PluginViews and PluginConfigurations in the Sidebar,Marc Neuhaus,Marc Neuhaus,2013-10-08 04:46,"",Sprint February 2013,"","","",0.00,100,2013-01-30 04:14,"","",1000750,"",""
44955,Base Distribution,Task,Story #44921: Decide TypoScript and TYPO3CR Naming,Resolved,Should have,decide Node Type Definition naming,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-01-30 10:37,"",Sprint February 2013,"","","",0.00,0,2013-01-30 04:18,"","",1000800,"",""
44957,Base Distribution,Story,"",New,Should have,Reliable clipboard and content element handles,Christopher Hlubek,"",2013-07-01 12:51,"",Sprint February 2013,2013-05-15,"","",0.00,100,2013-01-30 04:27,"","",1757700,0.00,""
44958,Base Distribution,Task,Story #44950: As a Integrator I want to add RSS rendering in TypoScript,Resolved,Should have,Add request to TypoScript context,Christian Müller,Christian Müller,2013-01-30 19:36,"",Sprint February 2013,"","","",0.00,100,2013-01-30 05:07,"","",1000850,"",""
44969,Base Distribution,Story,"",New,Should have,Document Two-Tree Localization Approach,Sebastian Kurfuerst,"",2013-03-28 07:24,Documentation,1.0 beta 1,"","","",0.00,0,2013-01-30 08:24,"","",1757500,"",""
44970,Base Distribution,Story,"",New,Must have,Define Neos 1.0 API,Sebastian Kurfuerst,Robert Lemke,2013-01-30 10:06,Documentation,1.0 beta 1,2013-01-30,"","",0.00,0,2013-01-30 08:59,"","",1757300,"","As Integrator, I want a defined API - so I want to know which parts of Neos I can use safely and which not.

DoD:

* Valid API for TypoScript objects and their properties
* stable, minimalistic API for Backend Modules
* API for Node Type definitions (YAML) is properly documented in Integrator Guide"
44971,Base Distribution,Work Package,"",Accepted,Should have,TYPO3 Neos API Definition,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-12-25 21:11,Documentation,1.0 beta 1,"",2013-06-30,90.00,35.10,50,2013-01-30 09:01,"","",1001400,"","h1. Defining the TYPO3 Neos API

* Target Audience: *developers and integrators* who plan to customize TYPO3 Neos
* Responsible: Sebastian Kurfürst <sebastian (at) typo3 (dot) org>
* Implemented by: Sebastian Kurfürst, Robert Lemke
* Amount: 15 work days
* Version: *must have* for 1.0

h2. Motivation

Neos is still under massive development, and will likely stay that way. However, we want to make sure that it is usable for implementors, such that they know which parts we consider as stable.

In practice, this means that the parts of the system which we consider as stable are marked as API. This includes PHP classes, configuration settings, and TypoScript objects.


h2. Goal

Before we can release version 1.0 of Neos, we need to initially check the various components for stability and document that accordingly. Additionally, if we find naming annoyances in parts which are public API we'll rename them as needed.


h2. Deliverables

* *must have, complete*: stable configuration settings (especially node type definitions) are explained and documented in the Neos Integrator Guide
* *must have, complete*: stable TypoScript objects are documented in the Neos Integrator Guide
* *must have, as much as possible*: stable PHP methods in Neos are marked with @api
* *can have*: upgrade Ember to recent version to make extending the property inspector possible"
44975,Base Distribution,Story,"",Accepted,Must have,"Implement module listing for Launch Bar, and fix search",Sebastian Kurfuerst,Christopher Hlubek,2013-02-03 04:39,Content Editing,1.0 beta 1,2013-01-30,"","",0.00,0,2013-01-30 09:52,"","",2954950,"","DoD:

* improve the launch bar such that it shows a list of available modules when the launcher is opened
* improve the search results, displaying at least the content type if labels are empty
* implement the launch bar in other modules (#40717)"
44976,Base Distribution,Story,"",Resolved,Should have,Content Module Frontend Loading Speed Optimization,Sebastian Kurfuerst,Christopher Hlubek,2013-01-31 05:02,Content Editing,Sprint February 2013,2013-01-30,"","",0.00,0,2013-01-30 09:55,"","",2955000,"",* reduce initial load time of backend
44977,Base Distribution,Story,"",New,Must have,TYPO3 Flow (Backend) speed optimization,Sebastian Kurfuerst,"",2013-01-30 09:56,"",1.0 beta 1,2013-01-30,"","",0.00,0,2013-01-30 09:56,"","",2955050,"",""
44978,Base Distribution,Story,"",New,Should have,Multi-Device Content,Sebastian Kurfuerst,"",2013-01-30 10:04,"",1.1,"","","",0.00,0,2013-01-30 10:01,"","",1757400,"",""
44979,Base Distribution,Story,"",New,Should have,Implement Frontend user / group concept,Sebastian Kurfuerst,"",2013-01-30 10:04,"",1.1,"","","",0.00,0,2013-01-30 10:03,"","",1757450,"",""
44980,Base Distribution,Story,"",New,Should have,Show activity stream of changed content in Launch Bar,Sebastian Kurfuerst,"",2013-01-30 10:04,"",1.1,"","","",0.00,0,2013-01-30 10:04,"","",1757650,"",""
44981,Base Distribution,Story,"",New,Should have,Rename Node Types to final names,Sebastian Kurfuerst,"",2013-01-30 10:28,Content Repository,Sprint February 2013,2013-01-30,"","",0.00,0,2013-01-30 10:28,"","",2955100,"",see #44928 for the decisions
44982,Base Distribution,Story,"",Resolved,Should have,Refactor Node Type Definition according to new syntax,Sebastian Kurfuerst,"",2013-03-26 08:04,Content Repository,1.0 beta 1,2013-01-30,"","",0.00,100,2013-01-30 10:38,"","",2955150,"","see #44955 for the to-be-implemented node type definition

h3. How To Review

The change is currently under review in https://review.typo3.org/#/q/topic:44982,n,z

However, the change is quite big, so that's why I created some github repositories which
show the incremental changes which were made (to make the diff more manageable):

* https://github.com/skurfuerst/TYPO3.Neos/commits/dev-nodetyperenaming
* https://github.com/skurfuerst/TYPO3.Neos.ContentTypes/commits/dev-nodetyperenaming
* https://github.com/skurfuerst/TYPO3.TYPO3CR/commits/dev-nodetyperenaming

* For each version which has been *pushed to gerrit*, a tag has been created named *reviewX*
  (e.g. *review1*) in all of the three repositories above

* After every incremental change I did, Neos was (I think) fully functional for me. So you can easily
  check out any intermediate step by just cloning the respective versions from the GitHub repository.

* just make sure to *use the non-minified JavaScript* while testing, and if necessary clear all caches.

*HAPPY TESTING* :-)

h3. Next Steps

* There will be one more *breaking* change for 1.0, which renames *TYPO3.Neos.ContentTypes* to
  *TYPO3.Neos.NodeTypes*. but aside from that, the node type definition should be quite stable now :-)
* Furthermore, the *base node types* will still change once again (#45317)"
44986,Base Distribution,Task,Story #44920: Keyboard shortcuts for content editing,Closed,Must have,The popover dialogs are not closing anymore since a regression introduced in https://review.typo3.org/#/c/14876/5,Rens Admiraal,Rens Admiraal,2013-08-09 10:44,"",Sprint February 2013,"","","",0.00,0,2013-01-30 11:42,"","",1001750,"",""
44989,Base Distribution,Task,"",New,Could have,Make Section/ContentCollection subclassable,Sebastian Kurfuerst,"",2013-01-30 12:08,Content Editing,1.1,2013-01-30,"","",0.00,0,2013-01-30 12:08,"","",1001900,"","Currently, if you create a custom Currently, `Section/ContentCollection` should not be extended by custom types. This should however be possible"
44990,Base Distribution,Story,"",Resolved,Should have,Implement Node Type Schema Validation,Sebastian Kurfuerst,"",2013-04-13 04:46,Content Management,1.0 beta 1,2013-01-31,2013-01-31,"",0.00,100,2013-01-30 12:09,"","",2955200,"",We want to validate the NodeTypes.yaml to provide good messages if the node types are not correct.
44994,Base Distribution,Story,"",Resolved,Should have,Make page tree sticky,Sebastian Kurfuerst,Mattias Nilsson,2013-01-31 06:37,Content Editing,Sprint February 2013,2013-01-30,"","",0.00,100,2013-01-30 17:34,"","",2955250,"","DoD:

* clicking page tree button shows page tree at the left side in full height; pushing the page further to the right

TODO: we need to check the styling in the wireframe mode as well (see https://review.typo3.org/#/c/17853/ )"
45003,Base Distribution,Work Package,"",Accepted,Should have,Media Browser,Sebastian Kurfuerst,Christian Müller,2013-10-15 06:37,Content Editing,1.0 beta 1,"","","",101.17,90,2013-01-31 04:56,"","",1002500,0.00,"h1. Media Browser for Images and Files

* Target Audience: *users* who deal with files and images
* Responsible: Christian Müller <christian (dot) mueller (at) typo3 (dot) org>
* Implemented by: Christian Müller, Karsten Dambekalns, Markus Goldbeck
* Amount: 25 work days
* Version: *must have* for 1.0
* Planned Implementation Timeframe: March - April 2013

h2. Motivation

Neos users need a way to organize images and files to have them reusable in content as content images or downloads. They want to preview the images they need and probably want to search in their available files.

h2. Goal

Create a basic solution for organizing files in Neos which has a simple way to upload new files and browse already uploaded files.
The solution should be usable in Neos content view as well as in Neos Backend modules and other places of the system. That means we need to extend the TYPO3.Media package and do not create dependencies on Neos in order to have this media browser usable in Flow applications as well. Images should be visible as a thumbnail gallery. Users should be able to categorize files (tagging) and search by those categories.

h2. Deliverables

* -MUST: AbstractMediaFile Model -> Image and (to be created) Document model extend that-
* -MUST: MediaFile Repository to find existing files and images-
* -MUST: Media browser (UI) to see existing files and images in the system as independent Flow application-
* -MUST: Uploads in media browser-
* -MUST: Image preview in media browser-
* -MUST: Tag Modelling and relations to files-
* MUST: documentation for users of the media browser and developers that want to use the media browser in Neos modules or Flow applications.
* -MUST: Integration to Neos content view-
* COULD: hierarchical tags
* COULD: search
* COULD: endless scrolling
* MAYBE: Metadata Model and relations"
45004,Base Distribution,Work Package,"",Accepted,Must have,Write TYPO3 Neos Integrator Guide,Sebastian Kurfuerst,Karsten Dambekalns,2013-05-16 04:08,Documentation,1.0 beta 1,"",2013-05-31,60.00,41.72,60,2013-01-31 05:01,"","",1002550,0.00,"h1. Write TYPO3 Neos Integrator Guide

* Target Audience: *developers and integrators* who want to use Neos
* Responsible: Karsten Dambekalns <karsten (at) typo3 (dot) org>
* Implemented by: Karsten Dambekalns, Sebastian Kurfürst <sebastian (at) typo3 (dot) org>
* Amount: 10 work days
* Version: *must have* for 1.0
* Planned Implementation Timeframe: week 12 to 15, 2013

h2. Motivation

Anyone who is about to build a website using TYPO3 Neos needs to be able to have the needed knowledge available in a nice to read documentation. The same is true for developers about to write plugins for Neos or work on the system itself.

In the past the lack of documentation for TYPO3 has always been mentioned (justified or not) as an impediment for adoption. And even those who recognized the existing documentation complain about the learning curve.

h2. Goal

To make it easy for integrators and developers to get into TYPO3 Neos it is thus needed to have documentation available that is *concise*, *easy to understand* and *available* at an early point in the product lifecycle.

What has been started at https://review.typo3.org/17510 will be used as base for this.

h2. Deliverables

* Integrator topics to be covered [MUST]
** ? Installation / Getting started
** ? TYPO3CR: structure, nodes and content types
** ? How a page is rendered
** ? Using custom templates for the site and custom elements
** ? TypoScript introduction
** Using TypoScript to tweak rendering (cookbook style)
** TypoScript objects and Patterns (TODO Sebastian)
** ? TypoScript inside (concepts and motivation on TypoScript)
** ? Creating custom content types
** Configuring Neos UI elements for types
** Creating a plugin for Neos (TODO: should be Developer Guide, not Integrator Guide)
** Localisation using a multi-tree approach
** Site deployment (using Surf)
* Neos developer topics to be covered [MUST]
** Coding guidelines
** Working on the UI
** FE system architecture
** (TODO Sebastian) Diagram: How the content module works (and a little text)
** Creating custom ""backend"" modules
* ? have the guide rendered on docs.typo3.org [MUST]
* ? have the guide advertised/linked on neos.typo3.org [MUST]
* ? written in english [MUST]
* proofread by a native speaker"
45007,Base Distribution,Work Package,"",Accepted,Should have,Basic Accessibility of the Neos Backend (step 1),Sebastian Kurfuerst,Rens Admiraal,2013-10-22 16:09,Content Editing,1.0 beta 1,2013-05-15,"","",0.00,100,2013-01-31 05:23,"","",1002700,0.00,"h1. Accessibility of the Neos Backend

* Target Audience: *power users or people with disabilities* who want to edit content using the keyboard or assistive devices like screen readers
* Responsible: ""Rens Admiraal (click to contact)"":http://forge.typo3.org/users/3198
* Implemented by: Rens Admiraal, Patrick Broens
* Amount: 20 work days
* Version: *must have* for 1.0
* Planned Implementation Timeframe: February till half-way april

h2. Motivation

People with disabilities can have huge problems using webapplications. There are specifications available like WAI-ARIA which can be used for enabling those people to use all features the Neos interface offers.
A power user is used to using keyboard shortcuts and navigation. As the WAI-ARIA specification already requires keyboard navigation the power user will have a faster editing experience.

h2. Goal

We aim for a backend, usable by all people, not limited by disabilities. It has to be compatible with assistive technology like screenreaders. By having a smooth keyboard control the content editing will also be a lot faster for power users.
Besides implementation we aim for awareness by offering guidelines and documentation how other developer can develop modules in Neos following the same principles so those will be accessible too.
In this work package we will implement the first steps needed to have an accessible backend. 

h2. Deliverables

* Add WAI-ARIA landmarks / roles for application, navigation, content and inspector
* Enable keyboard navigation trough content elements and the inspector (WAI-ARIA)
* Edit Content with Keyboard Shortcuts (general editing like copy, paste, cut, delete and create on content elements)
* *Could have* keyboard navigation in menubar and toolbar
* *Could have:* A clear help function in the for usage of this feature (like the overlay in for example gerrit or github)
* Keyboard mapping for cross-browser / OS compatibility (using a library like http://craig.is/killing/mice)
* Documentation of the feature, and documentation for other developers using / extending Neos
* Publications

h2. Dont' haves

* Custom content editors like image editor / cropping are not supported"
45008,Base Distribution,Work Package,"",Accepted,Must have,Content Editing on Tablet Devices,Sebastian Kurfuerst,Rens Admiraal,2013-05-16 04:28,Content Editing,1.0 beta 1,2013-04-16,2013-06-28,60.00,0.00,0,2013-01-31 05:26,"","",1002750,"","h1. Content Editing on Tablet Devices

* Target Audience: *users* who want to edit content on a tablet device
* Responsible: Rens Admiraal
* Implemented by: Rens Admiraal, Patrick Broens
* Amount: 10 work days
* Version: *must have* for 1.0
* Planned Implementation Timeframe: Half way april till end of may

h2. Motivation

A lot of content editors / users make use of tablets. A working content editing user interface for tablets is a must have.

h2. Goal

Make the Neos user interface work for tablet users.

h2. Deliverables

* Make the Neos content editing user interface working on tablets
* If the onscreen keyboard is opened the unneeded ui elements will be hidden
* Tablet specific styling for buttons & controls
* Working backend modules on tablet
* Make the current userinterface work on smaller screens till the screensize of ipad mini (7"")

h2. Won't haves

* The page tree component will not have drag and drop support
* Custom content editors like the image editor are not guaranteed to work"
45009,Base Distribution,Work Package,"",New,Should have,[EPIC] mobile phone version of content editing,Sebastian Kurfuerst,"",2013-05-16 04:28,"","",2013-06-29,2013-06-29,"",0.00,0,2013-01-31 05:27,"","",1002800,"","h1. mobile phone version of content editing

* Target Audience: *users* want to edit content using a mobile phone
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *not planned yet*
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
45010,Base Distribution,Work Package,"",Closed,Must have,[WIP] Fine-Grained Access Control in Frontend and Backend,Sebastian Kurfuerst,Rens Admiraal,2014-02-24 05:22,General / Project,1.1,2013-01-31,"","",0.00,0,2013-01-31 05:32,"","",1002850,"","h1. Fine-Grained Access Control in Frontend and Backend

* Target Audience: *content editors* who want to restrict access to certain parts of the (frontend) website; *administrators* who want to limit the allowed things backend users can do
* Responsible: Rens Admiraal
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *must have* for Neos 1.1
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
45011,Base Distribution,Story,"",New,Could have,Make user settings changeable in the Neos backend,Sebastian Kurfuerst,"",2013-01-31 05:39,"","",2013-01-31,"","",0.00,0,2013-01-31 05:39,"","",2955300,"","DoD:

* make user settings changeable for the user itself
* make user settings changeable for the admin user"
45012,Base Distribution,Work Package,"",Closed,Must have,Translated Neos backend,Sebastian Kurfuerst,Bastian Waidelich,2015-01-30 08:41,Global User Interface,1.1,2013-01-31,"","",0.00,0,2013-01-31 05:58,"","",1002900,"","h1. TODO title

* Target Audience: *users* who deal with files and images
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *must have* for version 1.1
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
45013,Base Distribution,Work Package,"",Resolved,Should have,Flexible plugin integration (TODO: Reviews),Sebastian Kurfuerst,Marc Neuhaus,2014-01-30 08:03,General / Project,1.0 beta 1,2012-04-09,2013-04-20,120.00,103.00,100,2013-01-31 06:04,"","",1002950,0.00,"h1. Flexible plugin integration

* Target Audience: *developers and integrators* who want to use Neos
* Responsible: ""Marc Neuhaus (click to contact)"":http://forge.typo3.org/users/3273
* Implemented by: ""Marc Neuhaus (click to contact)"":http://forge.typo3.org/users/3273, ""Bastian Waidelich (click to contact)"":http://forge.typo3.org/users/61
* Amount: 20 work days
* Version: *must have* for 1.0
* Planned Implementation Timeframe: week 9 to 15, 2013

h2. Motivation

About ten years ago when Kasper presented the first version of the *Extension Kickstarter* that was a little sensation and resulted in a boost of contributions. Without it's extensibility and without the good old *pibase* TYPO3 would probably not be as popular as it is today.
For Neos we want to provide a solid plugin foundation right from the start.

h2. Goal

Neos already contains a *plugin TypoScript object* but the current implementation is very basic to say the least. We need to work on that in order to make it very easy for people to write plugins and/or to turn Flow packages into a Neos plugin without having to mess with the original package code.
What has been started at #40599 will be used as base for this.

h2. Deliverables

* *MUST*: Polished Backend UX (as described in #40599)
* *MUST*: ""touchless"" integration of Flow packages
** resolve links automatically
** overridable View configuration (change templates, view implementation & options without changing the original package, see #42176)
** improve Fluid link/uri ViewHelpers (#35790)
* *MUST*: stable plugin API (provide a *PluginService* that can be used everywhere in order to fetch data about certain plugins & plugin views)
* *MUST*: documentation (developer guide, integrator guide, step-by-step example)
* *MUST*: solid test coverage
* *COULD*: example plugin showing off all relevant features of the API"
45019,Base Distribution,Work Package,"",New,Should have,[WIP] Real-World Error Reporting,Sebastian Kurfuerst,"",2013-01-31 07:37,"","",2013-01-31,"","",0.00,0,2013-01-31 07:36,"","",1003250,"","h1. Real-World Error Reporting

* Target Audience: *TYPO3 Neos Contributors* who want to fix bugs occuring in real-world settings
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *not planned yet*
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]

* JavaScript errors are logged on the server side as well
* server-side errors (and JS errors) are reported to an error/exception reporter service
* decide on which server side we use
* related: update notifications"
45020,Base Distribution,Work Package,"",Closed,Could have,Content Editing Stability and Features,Sebastian Kurfuerst,Aske Ertmann,2014-11-02 12:22,Content Editing,1.0 beta 1,2012-01-06,"","",0.00,95,2013-01-31 07:40,"","",1003300,0.00,"h1. Content Editing Stability and Features

* Target Audience: *users* who want to edit content
* Responsible: Aske Ertmann
* Implemented by: the whole Neos Team
* Amount: not estimatable, *not paid, done on voluntary basis*
* Version: *must have* for 1.0
* Planned Implementation Timeframe: continuous work

h2. Motivation

As in-page content editing is the main way a content editor interacts with TYPO3 Neos, it's crucially important that this works flawlessly without hickups.

h2. Goal

We want to solve as many as possible bugs regarding content editing, and fill in the remaining gaps in content editing.

h2. Deliverables

* fix as many content editing bugs as possible for that.
* improve content editing (table insertion, improved links)"
45021,Base Distribution,Work Package,"",New,Should have,[WIP] [ASSIGNEE MISSING] Cross Browser Compatibility,Sebastian Kurfuerst,"",2014-10-02 05:26,Content Editing,1.0 beta 1,2012-09-03,"","",0.00,100,2013-01-31 07:43,"","",1003350,0.00,"h1. Internet Explorer Compatibility

* Target Audience: *users* who use the Internet Explorer browser
* Responsible: XY, TODO
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *not planned yet*
* Planned Implementation Timeframe: X - Y

h2. Motivation

We do not want to limit the user's choice in terms of which browser he uses. That means the backend must work in mainstream browsers Firefox, Chrome, Internet Explorer. While we continually test with Firefox and Chrome, we do not do this for IE.

h2. Goal

Make content editing work with Internet Explorer.

h2. Deliverables

* required: first, fix IE10
* required: then, fix IE9
* optional: if possible, fix IE8"
45023,Base Distribution,Work Package,"",Accepted,Should have,"Make complex, interactive custom content types possible",Sebastian Kurfuerst,"",2013-02-16 08:59,Content Editing,1.0 beta 1,2013-01-31,"","",0.00,0,2013-01-31 07:51,"","",1003450,"","h1. Make complex, interactive custom content types possible

* Target Audience: *integrators* who want to configure custom content types like image sliders
* Responsible: *The Whole Neos Team*
* Implemented by: *The Whole Neos Team*
* Amount: continual. *done on voluntary basis*
* Version: *must have* for 1.0
* Planned Implementation Timeframe: continual.

h2. Motivation

Website content does not only consist of text, images and other static content types, but also of e.g. image or content sliders, accordions, or other interactive elements such as time sliders. We want to make such more complex content elements editable.

h2. Goal

We want to test building complex content types such as content sliders or accordions. The found obstacles should be solved, and the resulting solution should be documented in the Neos Integrator Guide.

h2. Deliverables

* build at least three complex content types
* fix bugs which occur during this phase
* document the creation of such complex content elements in the Neos Integrator Guide"
45024,Base Distribution,Work Package,"",New,Should have,[WIP] Context sensitive help in the Neos Backend (accessibility step 2),Rens Admiraal,Rens Admiraal,2013-10-22 15:33,Content Editing,"",2013-05-16,"","",0.00,0,2013-01-31 07:51,"","",1003500,0.00,"h1. Accessibility of the Neos Backend

* Target Audience: *power users or people with disabilities"" who want to edit content using the keyboard or assistive devices like screen readers
* Responsible: Rens Admiraal <rens.admiraal@typo3.org>
* Implemented by: Rens Admiraal, Patrick Broens
* Amount: 20 work days
* Version: *nice to have* for 1.1
* Planned Implementation Timeframe: X - Y

h2. Motivation

People with disabilities can have huge problems using webapplications. There are specifications available like WAI-ARIA which can be used for enabling those people to use all features the Neos interface offers.
A power user is used to using keyboard shortcuts and navigation. As the WAI-ARIA specification already requires keyboard navigation the power user will have a faster editing experience.

h2. Goal

This work package extends http://forge.typo3.org/issues/45007 and aims for further implementation of the WAI-ARIA specification with most importantly the context sensitive help. Furthermore the interface will be tuned so all elements are descriptive for their role and usage.

h2. Deliverables

* Context sensitive help with tooltips (localization, based on WAI-ARIA specification)
* WAI-ARIA compatible WYSIWYG editor (with correct descriptions of elements and correct navigation)
* Check and adapt the interface for correct contrast for readability
* Change the backend so all components have the right descriptions and labels
* Documentation
* Publications"
45025,Base Distribution,Work Package,"",New,Should have,[WIP] Create minimal publishing workflow,Sebastian Kurfuerst,Robert Lemke,2013-01-31 07:53,"","",2013-01-31,"","",0.00,0,2013-01-31 07:53,"","",1003550,"","h1. Create minimal publishing workflow

* Target Audience: *content editors* who to collaboratively work on the website
* Responsible: Robert Lemke
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *not planned yet*
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
45028,Base Distribution,Task,Story #44920: Keyboard shortcuts for content editing,Accepted,Should have,Document available keystrokes,Rens Admiraal,Rens Admiraal,2013-01-31 08:58,"",Sprint February 2013,"","","",0.00,0,2013-01-31 08:58,"","",1003700,"",""
45032,Base Distribution,Task,"",Resolved,Must have,Oudated install documentation,Christian Jul Jensen,Karsten Dambekalns,2013-05-05 17:05,Documentation,1.0 beta 1,2013-01-31,"","",0.00,100,2013-01-31 10:20,"","",1003900,"",http://neos.typo3.org/documentation/gettingstarted/installation.html is completely outdated. Should be updated to reflect composer changes.
45033,Base Distribution,Task,"",Resolved,Should have,Should we really suggest '--dev' for demo installation?,Christian Jul Jensen,Karsten Dambekalns,2013-05-05 17:04,Documentation,1.0 beta 1,2013-01-31,"","",0.00,100,2013-01-31 10:22,"","",1003950,"",I don't think the '--dev' composer should be recommended for anything else than installing for development. It is currently recommended on the download page's installation-instructions
45034,Base Distribution,Task,"",Resolved,Could have,Mention setfilepermissions in install instructions,Christian Jul Jensen,Karsten Dambekalns,2013-05-05 17:04,Documentation,1.0 beta 1,2013-01-31,"","",0.00,100,2013-01-31 10:27,"","",1004000,"","Even though the setup tool notifies about it, I think it will be a better experience if it's mentioned in the install instructions as it feels like an error and most people probably will need to do it."
45035,Base Distribution,Task,"",New,Could have,'First visit' guide,Christian Jul Jensen,"",2013-03-28 07:24,Global User Interface,"",2013-01-31,"","",0.00,0,2013-01-31 10:42,"","",1004050,"","Would be cool to have somekind of guided tour for a user upon the first visit of the Backend.

Lots of SaaS tools has this, see example from kanbantool.com"
45037,Base Distribution,Task,"",New,Should have,[DEMOSITE] Link to be from frontpage ,Christian Jul Jensen,"",2013-01-31 11:10,General / Project,1.0 beta 1,2013-01-31,"","",0.00,0,2013-01-31 11:10,"","",1004150,"",There should be a link from the frontpage of the demo-site to the BE. If you dont know where to go it will be hard to figure out.
45038,Base Distribution,Task,"",New,Could have,[DEMOSITE] Design that doesnt blend in as well,Christian Jul Jensen,"",2013-01-31 11:12,General / Project,"",2013-01-31,"","",0.00,0,2013-01-31 11:12,"","",1004200,"","I think the demosite and the BE blends in to well, when you look at it for the first time. It could be clearer what is website and what is cms.

Maybe if we have a demosite that doesn't rely so heavily on the same colors and the general CI it would be clearer."
45048,Base Distribution,Story,"",Resolved,Should have,"If Page Tree is sticky, it should push the page to the right side, adjusting the body-margin.",Sebastian Kurfuerst,Mattias Nilsson,2013-02-08 14:37,Content Editing,Sprint February 2013,2013-01-31,"","",0.00,100,2013-01-31 12:57,"","",2955350,"",That's a cleanup for #44994.
45049,Base Distribution,Task,"",New,Should have,Remove dependency on midgardNotifications,Rens Admiraal,"",2013-01-31 12:58,"","",2013-01-31,"","",0.00,0,2013-01-31 12:58,"","",1004700,"","Currently createjs depends on midgardNotifications. There is an issue on github to fix that ( https://github.com/bergie/create/issues/147 ). We should remove the full repository, but till then we've a wrapping Midgard.midgardNotifications widget. This should by that time be removed (code marked with TODO and issue number)"
45088,Base Distribution,Work Package,"",Resolved,Should have,Improved REST support,Bastian Waidelich,Bastian Waidelich,2014-02-09 10:16,General / Project,1.0 beta 1,2011-05-29,2013-04-13,108.00,108.00,100,2013-02-01 13:06,"","",1006650,0.00,"h1. Improved REST support

* Target Audience: *developers* who want to use Neos
* Responsible: ""Bastian Waidelich (click to contact)"":http://forge.typo3.org/users/61
* Implemented by: ""Bastian Waidelich (click to contact)"":http://forge.typo3.org/users/61, ""Andreas Förthner (click to contact)"":http://forge.typo3.org/users/19
* Amount: 18 work days
* Version: *must have* for 1.0
* Planned Implementation Timeframe: week 7 to 14, 2013

h2. Motivation

A solid webservice interface provides countless possibilities. With a proper foundation it would easily be possible to expose the TYPO3 Content Repository as service for instance. This would allow other systems to interact with arbitrary nodes (e.g. mobile clients creating pages, a simple plugin creating content nodes, ...).
Another use case are custom service APIs for the clients business logic. Flow already provides basic support for that, but there are some important parts missing.

h2. Goal

The goal is to have a solid foundation to easily provide custom REST APIs. What has been started at #37604 will be used as base for this.

h2. Deliverables

* *MUST*: more flexible request handling
** Reworked argument merging #45290 - this is required in order to fix argument mapping with non-GET requests
** More flexible parsing of body arguments #45293 - this is required in order to support custom request formats
* *MUST*: Routing improvements
** Global route constraints #27117 - this is required in order to match requests based on the request method and/or arbitrary request headers
** Nested sub routes #43966 - this is required in order to allow developers to easily include ""RESTful"" routes
* *MUST*: session-less authentication #45282 - currently Flow creates a session for every authentication, this is incompatible with REST
* *MUST*: solid test coverage
* *MUST*: documentation
* *COULD*: improved error handling #43569 - currently exceptions are rendered independently from the requested format (HTML for all web requests)
* *COULD*: exemplary (mobile) client that interacts with the TYPO3CR"
45099,Base Distribution,Story,"",New,Should have,As a user I want the Ui to handle an expired session correctly,Christopher Hlubek,"",2013-02-03 14:48,"",1.0 beta 1,"","","",0.00,0,2013-02-03 04:43,"","",1757250,"",""
45217,Base Distribution,Work Package,"",New,Should have,[WIP][Assignee missing] External & internal link support,Sebastian Kurfuerst,"",2013-12-07 14:02,"",1.0 beta 1,2013-03-22,"","",0.00,50,2013-02-06 13:17,"","",1012950,0.00,"h1. External & internal link support

* Target Audience: *users* who want to link between pages or want to check link status
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *for 1.0*
* Planned Implementation Timeframe: X - Y

h2. Motivation

Linking to internal and external resources is a key feature of any CMS and are fundamental to the WWW. As such, providing easy to use and convenient support for linking is simply a must have.

h2. Goal

Linking to internal resources should be very easy, possibly using some link wizard / browser. Links to internal resources should never break; if targets are moved or deleted, links should adapt automatically. For links to external resources some checking would be nice to have, so dead links can be detected. Links to the site (from the outside) should be maintained as good as possible as well - if a page is moved a redirect should occur instead of a 404 - and if pages are deleted providing a proper 410 response is advisable.

h2. Deliverables

* Link plugin for Hallo / Aloha
* Update Aloha Integration
* redirect management for moved pages
* page removal results in 410 being sent
* outbound link checker
* 404 logging for incoming requests"
45309,Base Distribution,Task,"",Resolved,Must have,Rename TYPO3.Neos.ContentTypes package to TYPO3.Neos.NodeTypes,Sebastian Kurfuerst,Karsten Dambekalns,2013-05-23 17:00,"",1.0 beta 1,2013-02-09,"","",0.00,100,2013-02-09 05:04,"","",1017550,"",... to be in line with the renaming of #44955 and #44982
45310,Base Distribution,Story,"",New,Should have,Implement enhanced @position syntax known from TypoScript also in the property panel inspector editors,Sebastian Kurfuerst,"",2013-02-09 05:15,Content Editing,1.0 beta 1,2013-02-09,"","",0.00,0,2013-02-09 05:06,"","",2955450,"","TODO decide: should the property also be named ""@position"" in the YAML schema? Probably not, but not sure currently..."
45317,Base Distribution,Task,"",Resolved,Must have,Refine / Rename node type hierarchy,Sebastian Kurfuerst,Karsten Dambekalns,2013-05-26 12:14,Content Editing,1.0 beta 1,2013-02-09,"","",0.00,100,2013-02-09 08:34,"","",1017900,"","... as discussed with Robert on the code sprint

h2. Naming Concept

<pre>
# Node Types
old name: Content Types

## Node

## Hidable (mixin)

- defines the properties for ""hidden"", ""hiddenBeforeDateTime"", ""hiddenAfterDateTime""

## Versionable (mixin)

- adds the behavior to store multiple versions of the node

## Translatable (mixin)

- adds the behavior to translate nodes

## Folder < Node

- used for organizing nodes
- does not need an external identity, thus no URL.

## Smartfolder < Folder

- does not contain actual sub nodes
- collection is defined through a query

## Document < Node, Hidable
old name: Folder

- is ""abstract"", cannot be rendered as is
- sub types of Document:
	- can be addressed through a URI
	- contains one or more Section nodes which may contain content
	- can be rendered
- TODO remove title property
- TODO page tree > document tree (?)

## Page < Document

- is the default document paradigm in Neos
- introduce further properties, for example a title

## Shortcut < Document

- refers / forwards to another document

## Blog Post < Document

- introduces specific properties and sub structure

## Content < Node, Hidable
old name: ContentObject

- is not usually accessible through a URI
- can be rendered as part of a document
- may contain further content
- cannot contain documents

## Headline < Content

- introduces specific properties and template
- further content types: Text, Image, TextWithImage, Menu, Html, Plugin, Two-Columns, ?

## Plugin < Content

- delegates rendering of the content to a controller

## ContentCollection < Content
old name: Section

- contains content nodes
</pre>


h2. see attached images."
45399,Base Distribution,Work Package,"",Resolved,Should have,Product Management / Team Coordination,Robert Lemke,Robert Lemke,2013-05-21 03:36,General / Project,1.0 beta 1,2013-03-01,2013-05-17,90.00,0.00,100,2013-02-12 03:18,"","",1022000,"","h1. Product Management / Team Coordination

* Target Audience: team / general public
* Responsible: ""Robert Lemke (click to contact)"":https://forge.typo3.org/users/8
* Amount: 15 work days
* Version: *must have* for 1.0

h2. Description

The team and contributor's efforts need to be coordinated with the end user and overall concept in mind in order to not end up with a patch work solution of individual components glued together. This work package is about spending a day per week for the product management and communication with those working on specific features.

Depending on how much communication and coordination is necessary, some part of the weekly day can additionally be used for related tasks, such as communicating the current state and roadmap or improving the Neos website.

h2. Goal

* establish a day per week where the project lead is available for questions regarding the feature set, possible impediments or technical decisions
* keep an eye on the consistency and overall user experience and communicate findings and possible measurements to the team
* discuss feature details through hangouts / chats / email and create feature descriptions / stories / wireframes


h2. Deliverables

* a brief summary of what happened product / feature wise, which will be included into the monthly team report
* a maintained product backlog with prioritized stories
* decisions / conclusions from meetings with individuals are communicated to the mailing list

"
45400,Base Distribution,Work Package,"",New,Should have,[WIP] Developer Toolbar (Community),Christian Müller,"",2014-01-30 08:31,"","",2013-02-12,"","",0.00,0,2013-02-12 03:32,"","",1022050,"","h1. Debug Toolbar for Neos Integrators

* Target Audience: *Developers* and *integrators* that need information about what is going on during rendering. 
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: 
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
45408,Base Distribution,Work Package,"",Accepted,Should have,Frontend / Page Cache,Robert Lemke,Robert Lemke,2013-05-16 04:47,General / Project,1.0 beta 1,2013-03-04,2013-04-30,90.00,3.00,10,2013-02-12 07:18,"","",1022450,"","h1. Basic Frontend / Page Cache

* Target Audience: *users* who browse the frontend of a Neos website
* Responsible: Robert Lemke
* Implemented by: Robert Lemke
* Amount: 15 work days
* Version: *must have* for 1.0
* Planned Implementation Timeframe: March - April 2013

h2. Motivation

Neos does not, so far, provide any sort of page cache. The has been from the beginning to rely on established HTTP mechanisms instead and use cache control directives and mechanisms like Edge Side Includes instead. The advantage of this approach is to not re-invent front end caching and being able to delegate this to highly performant proxies like Varnish.

Neos should, however, be production ready as is, without the need for a reverse proxy. Therefore Flow should provide a basic reverse proxy itself and thus be able to cache responses if no Varnish is used. As a first step, Flow has been refactored in 2011 / 2012 to provide or more modular bootstrap and an HTTP foundation. What's missing now is the actual usage of cache headers in Neos and a rudimentary reverse proxy integrated into Flow (and thus used by Neos).

h2. Goal

Implement a reverse proxy for TYPO3 Flow which can basically cache HTTP responses according to the mechanisms specified in RFC 2616 and deliver them to a client if a cached response is available. The reverse proxy should also support purging / banning of single or multiple cache entries ? this mechanism can then be used by Neos for invalidating cache entries of pages which have been modified.


h2. Deliverables

* MUST: Reverse Proxy for TYPO3 Flow which can basically cache HTTP responses and return them on request
* MUST: Neos sets cache control headers / expiry times according to some global configuration
* MUST: Reverse Proxy allows for purging / banning single or multiple cache entries
* MUST: Documentation
* COULD: E-Tag Support
* MAYBE: Edge Side Includes support"
45410,Base Distribution,Work Package,"",New,Should have,[WIP] TypoScript Debugger (Community),Christian Müller,"",2013-02-12 08:18,"","",2013-02-12,"","",0.00,0,2013-02-12 08:18,"","",1022550,"","h1. TypoScript Debugger

* Target Audience: *Developers* and *integrators* that need information about what happens in TypoScript and work a lot with TypoScript.
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: 
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
45434,Base Distribution,Story,Work Package #45020: Content Editing Stability and Features,Closed,Should have,As a content editor I want to be able to edit normal content,Aske Ertmann,"",2014-11-02 12:21,Content Editing,1.0 beta 1,2013-03-11,"","",0.00,67,2013-02-13 05:41,"","",2955500,0.00,"It should be possible for the content editor to edit all types of normal content

Cut, copy, paste, redo, undo, find, replace, bold, italic, underlined, strikethrough, sup, sub, remove format, ul/ol lists, increase/reduce indent, text positioning (left, center, right, justify), insert links, tables, horizontal ruler, block format (h1, h2, h3, h4, h5, h6, formatted, address, normal, article, aside, container, header, navigation, blockquote), font-family, font-size, font-color, background-color, source mode (HTML)."
45435,Base Distribution,Story,Work Package #45020: Content Editing Stability and Features,Closed,Should have,As a content editor I want to be aware when asynchronous loading is taking place,Aske Ertmann,"",2014-11-02 12:22,Global User Interface,1.0 beta 1,2013-02-13,"","",0.00,100,2013-02-13 05:43,"","",2955550,0.00,"When adding new content element the content editor should be able to see that an action is being processed and the result is awaiting..

This applies to everything that pauses the user in his task"
45453,Base Distribution,Task,"",New,Must have,Concept of launcher/search/dashboard/module tabs,Aske Ertmann,"",2013-02-13 08:16,General / Project,1.1,2013-02-13,"","",0.00,0,2013-02-13 08:16,"","",1024600,"","We need a solid concept for the launcher/dashboard/module tabs.

This should also be included in the modules"
45455,Base Distribution,Epic,"",New,Could have,Different tree types (nodes),Aske Ertmann,"",2014-03-12 17:18,"",1.1,2013-02-13,"","",0.00,0,2013-02-13 08:23,"","",1024700,"","It would make sense to support more than just pages in the tree view so it would be possible to get an overview of e.g. news or blog posts in the tree panel ordered by date like Year > Month (> Day). This is a way of introducing creation, deletion, navigation of non pages, but node types that can be filtered naturally and would usually act as a page on its own.

The ordering should be configurable and support dates or the default node hierarchical structure."
45501,Base Distribution,Task,"",New,Should have,Image Metadata in ContentEditing should be cached,Christian Müller,"",2013-02-15 03:49,"","",2013-02-15,"","",0.00,0,2013-02-15 03:49,"","",1027000,"","To avoid loading the metadata for images in content again and again we should cache it once it was loaded.

Packages/Application/TYPO3.Neos/Resources/Public/JavaScript/neos/content/ui/editors.js -> _readAndDeserializeValue() is where the loading happens."
45539,Base Distribution,Work Package,"",New,Should have,[EPIC] Mangement view,Aske Ertmann,"",2013-04-10 15:13,"",1.1,2013-02-16,"","",0.00,0,2013-02-16 15:56,"","",1028850,"","h1. Mangement view

* Target Audience: *users* want to edit nodes/domain models in a list view
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *not planned yet*
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
45540,Base Distribution,Work Package,"",New,Should have,[EPIC] Search,Aske Ertmann,"",2014-01-30 08:23,"",1.1,2013-02-16,"","",0.00,0,2013-02-16 15:58,"","",1028900,"","h1. Search

* Target Audience: *users* want to search for nodes/domain models in the content & management view
* Responsible: XY
* Implemented by: XY, YZ
* Amount: XY work days
* Version: *not planned yet*
* Planned Implementation Timeframe: X - Y

h2. Motivation

[TODO write goal from a user's perspective. Try to answer the question: ""Why is this work package important for the target group?""]

h2. Goal

[TODO what do you want to archieve? Try to answer the question: ""What do you want to archieve?""]

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]

* Should probably support Lucene search database like Solr & Elastic Search with a kind of indexing and search api layer, and then we should provide a fallback package that can use Mysql/PostgreSQL to index and search using the same API."
45563,Base Distribution,Task,"",Resolved,Could have,Neos renaming issue: TYPO3.TYPO3 leftover in persistence,Adrian Föder,Adrian Föder,2013-02-19 09:38,Low Level,Sprint February 2013,2013-02-18,"","",0.00,100,2013-02-18 04:37,"","",1030050,"","in TYPO3\TYPO3CR\Domain\Model\ContentObjectProxy's database table, I had still a ""TYPO3\TYPO3\Domain\Model\Site"" in the @targettype@ column.

<pre>
mysql> SELECT * FROM typo3_typo3cr_domain_model_contentobjectproxy\G
*************************** 1. row ***************************
persistence_object_identifier: d8a4eaeb-fcab-46ea-a73a-005c010e2de6
                   targettype: TYPO3\TYPO3\Domain\Model\Site
                     targetid: 5cfc4af5-c9ac-4521-b11c-61116b0114d1
1 row in set (0.00 sec)
</pre>"
45584,Base Distribution,Work Package,"",New,Should have,Access Control for TYPO3CR Nodes (Concept),Sebastian Kurfuerst,"",2014-01-10 13:45,"",1.1,2013-02-18,"","",0.00,0,2013-02-18 15:17,"","",1031050,"","h1. Access Control on TYPO3CR Nodes

This concept discusses how to do access control on nodes. It has been created by Andi Förthner, Sebastian Kurfürst, and Helmut Hummel during T3BOARD13.

h2. Security Framework in a nutshell

In this section, we quickly describe how authorization in the security framework works with *Policies*,
to again have a common basis for later.

Access is granted or denied for *Resources*, according to the following rules:

# not-explicitely-specified resources are implicitely ALLOWed.
# (roughly)if AT LEAST ONE of the current roles defines a GRANT on a resource, access is GRANTED. The full rules follow below:
## DENY always wins, so if ONE role is DENIED access, this will win.
## otherwise, if at least one role says GRANT, you are allowed to access the resource
# if a resource is explicitely defined, but none of the current roles defines an ACL on it, this defaults to DENY (""Abstain Case"")
# if multiple resources match on a given code point, ALL resources must be evaluated to ALLOW (ANDed together)

h3. Mapping to nodes

We want to apply as many as possible of the above concepts to *nodes* as well, meaning the following:

* we need to think about what a ""resource"" is for nodes
* we will use roles as usual
* we will use ACLs (== mapping between roles and resources) as usual

So we essentially need to solve the question: *What are resources on nodes, and how to define them?*

A *resource* on a set of nodes could be defined in various ways: For instance, we could explicitely enumerate the nodes
which are part of this resource. However, this is quite cumbersome, as this list would need to be manually maintained.

Instead, people often want to assign permissions based on certain properties of nodes, for example ""I want to ALLOW
creation if TEXT elements"" (here, the *node type* of the node should be matched on).

Because of that, we do *not* want to explicitely enumerate a resource based on nodes, but instead
want to *create a boolean function which decides whether a certain node is inside the resource or not*

For creating this boolean function, we want to use the *Eel language*, as it provides predefined syntax,
making it possible to focus on the semantics for us.

To sum it up: A *resource* on a set of nodes is an *Eel Expression* matching these nodes. Example:

	// Resource for all text nodes
	q(node).is('instanceof Text')

	// resource for all nodes of a site
	q(node).inSite('TYPO3.NeosDemo')

	// Resource for all nodes whose ""text"" property starts with ""hi""
	// -> a little dangerous, but nevertheless possible
	q(node).is('text ~= Hi')

	// ALLOW creation of ""Text"" child node underneath three column node
	( creation() || deletion() )
	&& q(node).is('instanceof Text')
	&& q(node).parent('insanceof ThreeColumn')


h3. Properties of the node mapping

* the whole evaluation is order independent, meaning we do not need priorities, !important or anything like that
"
45587,Base Distribution,Task,Story #45434: As a content editor I want to be able to edit normal content,Closed,Should have,Re-enable Aloha,Sebastian Kurfuerst,Sebastian Kurfuerst,2014-11-02 12:21,Content Editing,1.0 beta 1,2013-07-11,"",0.00,0.00,100,2013-02-18 17:29,"","",1031200,0.00,We want aloha to work again; and we want to include a minified and properly built version.
45758,Base Distribution,Story,"",Accepted,Should have,Provide a way to control escaping of content through TypoScript,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-02-22 11:03,Content Rendering,1.0 beta 1,2013-02-22,"","",0.00,0,2013-02-22 10:59,"","",2955650,"","Currently, we always use *f:format.raw* ViewHelper inside all Content Element templates... The
problem with that is that it's very *unsafe*, disabling the complete security which was in-built.

Enabling it in all cases is not nice as well, as we need to control that on a case-by-case basis.

That's why we want to introduce a SafeString class, which is directly rendered without any escaping; while in the default case,
the escaping should stay active."
45839,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,As a content editor I want the inspector fields to be validated,Aske Ertmann,Aske Ertmann,2014-11-02 12:22,Content Editing,1.0 alpha 5,2014-11-02,"",0.00,0.00,100,2013-02-25 15:42,"","",1043500,0.00,""
45957,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Improve linkpicker styling,Mattias Nilsson,Mattias Nilsson,2014-11-02 12:22,"","",2013-03-02,"","",0.00,100,2013-03-02 03:40,"","",1049300,0.00,Improve linkpicker styling
45973,Base Distribution,Story,Work Package #45020: Content Editing Stability and Features,Closed,Could have,As a content editor I want improved image handling,Aske Ertmann,Adrian Föder,2014-11-02 12:22,Content Editing,1.0 beta 1,2013-05-08,"","",0.00,100,2013-03-02 13:19,"","",2955700,0.00,"* Title
* Alt
* Description (caption)
* Link
* Alignment
* Caption alignment"
46182,Base Distribution,Task,Story #45434: As a content editor I want to be able to edit normal content,Closed,Should have,Compare CKEditor to Aloha,Aske Ertmann,"",2014-11-02 12:21,"",1.0 beta 1,2013-03-11,"",0.00,0.00,0,2013-03-11 11:38,"","",1060500,0.00,"Since there are some features we'd like to achieve that aren't supported in Aloha and the fact that Drupal ditched Aloha after closely working with them in favor of CKEditor (http://buytaert.net/from-aloha-to-ckeditor).

Example of CKEditor inline editing http://ckeditor.com/demo#inline

Wanted features: Cut, copy, paste, redo, undo, find, replace, bold, italic, underlined, strikethrough, sup, sub, remove format, ul/ol lists, increase/reduce indent, text positioning (left, center, right, justify), insert links, tables, horizontal ruler, block format (h1, h2, h3, h4, h5, h6, formatted, address, normal, article, aside, container, header, navigation, blockquote), font-family, font-size, font-color, background-color, source mode (HTML).

h3. Aloha

*Pros*
* Already integrated
* Existing link plugin
* Close connection to development team

*Cons*
* Not so solid user experience
* Missing wanted features
** Redo, undo, find, replace, increase/reduce indent, text positioning (left, center, right, justify), font-family, font-size, font-color, background-color, source mode (HTML)
* Unable to re-use for textarea (RTE)

h3. CKEditor

*Pros*
* Supports all wanted features
* Same editor for inline editing and textarea (RTE)
* Already working with create.js (Implemented by Bergie)
* Can be used instead of both Aloha and Hallo
** Simple editing options for headlines
** Advanced editing options for text
* More solid user experience
* Larger community / more developers / more extensions
* Better default design

*Cons*
* Not already implemented
* Missing link plugin"
46295,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Active content element border is hidden,Mattias Nilsson,Mattias Nilsson,2014-11-02 12:22,Content Editing,1.0 beta 1,2013-03-14,"","",0.00,100,2013-03-14 15:17,"","",1065950,0.00,When having an content element with multiple elements inside the border is hidden beneath other elements.
46321,Base Distribution,Task,Work Package #45013: Flexible plugin integration (TODO: Reviews),Resolved,Should have,Plugins with Views should resolve their Links automatically,Marc Neuhaus,Marc Neuhaus,2013-10-08 04:47,"","",2013-03-15,2013-04-20,"",0.00,100,2013-03-15 08:24,"","",1067250,"","Through the Concept of Plugins and PluginVIews (#45013) links need to be rewritten to a different PageNode if the current PluginView/Plugin on this Page isn't supposed to render the Controller/Action that a link it pointing to.

The main goal of this is a simple way to have List/Detail Actions on different PageNodes without to much manual Configuration hassle."
46323,Base Distribution,Task,"",Closed,Should have,Documentation for the Flexible plugin integration,Marc Neuhaus,"",2013-03-18 10:04,"","",2013-03-15,"","",0.00,0,2013-03-15 08:26,"","",1067350,"",""
46322,Base Distribution,Task,Work Package #45013: Flexible plugin integration (TODO: Reviews),Resolved,Should have,Documentation for the Flexible plugin integration,Marc Neuhaus,Marc Neuhaus,2014-01-30 07:58,"","",2013-03-15,2013-04-20,"",0.00,60,2013-03-15 08:26,"","",1067300,"",""
46324,Base Distribution,Task,Work Package #45013: Flexible plugin integration (TODO: Reviews),Resolved,Should have,Example plugin showing off the Flexible plugin integration,Marc Neuhaus,Bastian Waidelich,2014-01-30 08:01,"","",2013-03-15,"","",0.00,100,2013-03-15 08:27,"","",1067400,"",""
46526,Base Distribution,Story,Work Package #45217: [WIP][Assignee missing] External & internal link support,New,Should have,Media/Scheme aware URL handler,Adrian Föder,"",2013-03-22 05:47,"","",2013-03-22,"","",0.00,0,2013-03-22 03:45,"","",2955750,"","At least as soon as editors should be able to link arbitrary elements via Neos, it comes up that the various target possibilities are currently hard to distinct. In Flow and Neos, there are resources, there are (controller-) actions, there are nodes, and of course there is still the need to link to a typical URL like http:// and mailto:.

Especially the Resource, Action and Node links will result in a different ""output"" then their meaning representation; a Resource is a hash, resulting in the frontend-published URI; an action consists of package, controller, action, argument.. values, resulting in an URI-builder-built url.
And the node is represented by its path or identifier, resulting also in a web-accessible http url.

So, see the following examples:

* @node:///sites/exampleorg/home/welcome/some/section/with/stuff@ Could even result into http://example.org/home/welcome.html#somesectionwithstuff
* @resource:///348fb109a2098234b23498@ Would result into the frontend-published resource
* @media-resource:///348fb109a2098234b23498?width=500&height=800@ Would provide a scaled image
* @http://www.google.de/@
* @mailto:john.doe@example.org@
* @action:///acme.package?controller=sample&action=create&arguments=.....@

This is what just came in my mind and of course these are just suggestions and need to be checked
against current requirements...


h2. Basic implementation idea

For implementing kind of this, I'm thinking about a service, where various schema implementers can hook in. Neos, for example, would then bring its own NodeSchemaImplementer (?), TYPO3.Media could provide an implementor which allows also scaling an (image) resource (like IMG_RESOURCE).
Flow on it's very own of course brings an MvcActionSchemaImplementer (?) (I'm just throwing around with name suggestions which helps me to understand what I mean ;)

I think these schemas schouldn't have anything to do with the StreamWrapper because that's more an internal PHP thing. ""Our"" schema here is ""just"" a naming convention to transpose a stringly given resource locator to its actual representation.

h2. Locate TYPO3CR nodes

Since nodes can be moved around, it sounds making sense to use the node identifier. However, as far as I got it, the node identifier can be pretty ""volatile"" in regards of workspaces, etc.

But still, in order to be able to keep old ""links"" updated in case their nodes are moved around, their paths would need to be updated. This could only be done by something like a Refindex, and is likely also not very nice... What do you think on the long run?"
46627,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Partial visible button bar,Mattias Nilsson,"",2014-11-02 12:22,"","",2013-03-24,"","",0.00,100,2013-03-24 07:34,"","",1082350,0.00,When trying to edit a content element that has a parent element with an high z-index the button-bar is not fully visible.
46680,Base Distribution,Task,Story #40599: Include arbitrary Flow-Applications as Plugins,Resolved,Must have,[FEATURE] Add ConfigurationProcessors for ContentTypes,Marc Neuhaus,Marc Neuhaus,2013-10-04 06:36,"",1.0 beta 1,2013-03-26,2013-04-20,"",0.00,100,2013-03-26 06:40,"","",1085000,"","ContentType Configurations are currently only statically loaded from the
yaml Configuration. In order to dynamically add PluginViews to the static
ContentTypes i suggest to add a ConfigurationProcessor that's invoked while
constructing a ContentType to dynamically extend the existing ContentTypes.


*Syntax*

<pre>
      'TYPO3.Neos.ContentTypes:PluginView':
        superTypes: ['TYPO3.Neos.ContentTypes:ContentObject']
        label: 'Plugin View'
        group: 'Plugins'
        showUneditableOverlay: false
        configurationProcessors:
          - '\TYPO3\Neos\ContentTypes\OptionsProvider\PluginViewsConfigurationProcessor'
        properties: []
</pre>"
46722,Base Distribution,Task,"",Resolved,Must have,"Check/update ""Your first plugin""",Karsten Dambekalns,Karsten Dambekalns,2014-07-11 14:29,Documentation,1.0 beta 1,2013-03-27,"","",0.00,100,2013-03-27 10:33,"","",1087050,0.00,""
46857,Base Distribution,Task,Work Package #45013: Flexible plugin integration (TODO: Reviews),Resolved,Should have,Provide a PluginService as central API for Plugins and PluginViews,Marc Neuhaus,Marc Neuhaus,2013-10-04 11:36,"","",2013-04-02,2013-04-20,"",0.00,100,2013-04-02 05:29,"","",1093500,"","There should be an PluginService als central API to fetch Information about
existing Plugins and PluginViews."
47023,Base Distribution,Work Package,"",Accepted,Could have,Global user interface,Aske Ertmann,Aske Ertmann,2014-11-20 10:54,Global User Interface,1.0 beta 1,2013-02-13,"","",0.00,75,2013-04-07 07:59,"","",1101800,0.00,"h1. Global user interface

* Target Audience: *users* who want to edit content
* Responsible: Aske Ertmann
* Implemented by: the whole Neos Team
* Amount: not estimatable, *not paid, done on voluntary basis*
* Version: *must have* for 1.0
* Planned Implementation Timeframe: continuous work

h2. Motivation

In order to get a good user experience and a clean user interface, we need to improve the global user interface with thought through concepts and a more general styling.

h2. Goal

To achieve a good and consistent user experience together with a consistent design and reused components/experiences across the whole backend.

h2. Deliverables

* Menu component
* Navigate component
* Top bar
** User menu
** Publish menu
* Context bar
* Inspector
* Overlays
* Breadcrumb
* Search field/results
** Commands
* Notifications
* Tips"
47024,Base Distribution,Task,Work Package #47023: Global user interface,Closed,Should have,Overlays,Aske Ertmann,"",2014-11-02 12:23,Global User Interface,1.0 beta 1,2013-02-13,"",0.00,0.00,100,2013-04-07 08:11,"","",1101850,0.00,"The goal of this task is to streamline all overlays and improve the usage of them.

* Streamline design of global and context bound overlays
* Get rid of context bound overlays when not necessary"
47076,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Inspector properties is partially hidden,Mattias Nilsson,Mattias Nilsson,2014-11-02 12:22,"","",2013-04-09,"","",0.00,100,2013-04-09 10:03,"","",1104450,0.00,With too many Inspector properties inside the Inspector panel the last property is no fully visible. This is due to missing margin in bottom of Inspector panel.
47555,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,The deletePageDialog delete button do not match rest of the UI,Mattias Nilsson,Mattias Nilsson,2014-11-02 12:22,"","",2013-04-24,"","",0.00,100,2013-04-24 10:17,"","",1128100,0.00,The deletePageDialog delete button do not match rest of the UI because of the usage of icons and icon colors.
47605,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Image crop is broken in wireframe mode,Karsten Dambekalns,Sebastian Hens,2014-11-02 12:22,Content Editing,"",2013-04-26,"","",0.00,100,2013-04-26 09:16,"","",1130550,0.00,In wireframe mode the crop flyout has a wrong aspect ratio and the crop frame is not placed correctly.
47610,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,"If page tree is expanded, new content element chooser is shifted to the right",Karsten Dambekalns,Rens Admiraal,2014-11-02 12:22,Content Editing,"",2013-04-26,"","",0.00,0,2013-04-26 10:05,"","",1130800,0.00,"See screenshot for a ""description""?

This issue occurs because the overlay is absolute positioned to follow the element. What we should do is to have a dom element with position relative and add the overlays inside those, because they would then follow the body margins added by the neos backend."
47895,Base Distribution,Work Package,"",New,Could have,Taxonomy solution,Christian Müller,"",2013-09-30 06:35,"","",2013-05-03,"","",0.00,0,2013-05-03 13:04,"","",1144950,"","Create a generic taxonomy solution to avoid ""insular solutions""

Target Audience: developers that use taxonomies (tags, categories) in their plugins / websites
Responsible: Christian Müller <christian (dot) mueller (at) typo3 (dot) org>
Implemented by:
Amount: 
Version:
Planned Implementation Timeframe: 

Motivation

TYPO3 Neos should provide a generic taxonomy solution to serve websites that are more based on a category model instead of pages and furthermore to have a common base for tagging and categorizing data in Neos plugins, like news, media assets and so on...
 
* MUST: Taxonomy model (based on either TYPO3CR or domain models)
* MUST: import/export service for taxonomies
* MUST: integration to neos to use as side wide structuring system (menu based on taxonomies, content based on taxonomies).
* MUST: clearly documented workflow on how to use taxonomies in plugins
* COULD: interface and neos module to manage taxonomies

"
47905,Base Distribution,Work Package,"",New,Should have,Perfection the Party and Account Management Module,Adrian Föder,Adrian Föder,2013-05-15 09:52,Administration,"",2013-05-14,"","",0.00,0,2013-05-04 04:07,"","",1145450,0.00,"h1. Perfection the Party and Account Management Module

* Target Audience: *users* who are competent to administrate an installation's users and accounts data
* Responsible: Rens Admiraal
* Implemented by: Sebastiaan van Parijs, Adrian Föder
* Amount: not estimatable, *not paid, done on voluntary basis*
* Version: *not planned yet*
* Planned Implementation continuous work

h2. Motivation

As soon as a project introduces a user base, including accounts (which is intrinsically the case on Neos projects due to the Administrator/Editor roles), the need for versatile management possibilities is raised.

h2. Goal

Administrators should be able to use the GUI for everything the data base provides, in a company-kind manner, that is, for example, resetting a user's or bulk-resetting a group of user's password with an auto-generated one; providing a way to set and assign roles to users; and, not at least, provide a way to add GUI implementations for concrete implementation classes (not every Account has a TYPO3.Party assigned, and not every AbstractParty has a SinglePerson).

h2. Deliverables

* MUST have a way to assign roles to users
* MUST reflect the fact that the Core only prescribes Account and AbstractParty, implementors should be able to set GUI implementations of their own Party and Person implementations
* SHOULD have a way to set an auto-generated password to the account
* SHOULD provide the possibility to bulk-reset user passwords"
48068,Base Distribution,Task,Work Package #47023: Global user interface,Closed,Should have,Menu component,Aske Ertmann,Mattias Nilsson,2014-11-02 12:24,Global User Interface,1.1,2013-07-10,"",0.00,0.00,100,2013-05-08 15:48,"","",1153450,0.00,"Implement a menu component aligned to the left side of the viewport. The menu contains a list of two main modules ""Edit content"" and ""Dashboard"" as well as shortcuts and modules.

Specification:
* Edit content button
* Dashboard button
* Shortcuts (section)
* Main modules and first level sub modules (sections)
* Collapse/expand button for each ""section""
** Remember states (like the inspector groups)
* Menu toggle button
** Active state when toggled
** Toggle with click (maybe hover as well, needs some real tests)
* Overlays other UI elements and the page
** Does not add left margin to the body
* Toggle animation is slide out/in from left
* Position fixed with 100 % height
* Content not visible can be viewed by scrolling
* Create separate SCSS file for all CSS
* Create separate JavaScript file for the component"
48069,Base Distribution,Task,"",New,Should have,Make node migration more user friendly,Aske Ertmann,Christian Müller,2013-07-11 17:41,"",1.1,2013-05-08,"","",0.00,0,2013-05-08 15:53,"","",1153500,"","Currently the implementation is not very easy to figure out. For the most part people will just want to apply the migrations that needs to be applied and do it to all or a specific workspace, both should be fairly easy to do.

For now this is not such a big issue but it will become more and more of an issue with the amount of Neos implementations."
48070,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Image captions should be edited inline,Aske Ertmann,"",2014-11-02 12:22,Content Editing,"",2013-05-08,"","",0.00,100,2013-05-08 16:04,"","",1153550,0.00,"Instead of the approach we have now with having the caption in the inspector, we should instead make a checkbox that is marked with ""reloadIfChanged"" and then a <caption> tag is rendered that can then be modified. This is would prevent using space in the inspector and make it easier to write what's needed since it can then be formatted like other text. It also makes it easier to solve the issue with having different captions for multiple images (not yet possible)."
48071,Base Distribution,Task,Work Package #47023: Global user interface,Resolved,Could have,Navigate component,Aske Ertmann,Aske Ertmann,2014-11-20 10:54,"",1.0 alpha 6,2013-07-11,"",0.00,0.00,94,2013-05-08 16:22,"","",1153600,0.00,"Implement a navigate component aligned to the left side of the viewport. The component contains two main things: a node tree and a context structure tree. The component is available across multiple modules and will only contain a context structure tree in the ""Content module"". The node tree has different filtering/sorting options like node type and sorting by structure or date.

Specification:
* Node tree
** Collapsible
** Filtering select box (multi select with available folder nodes)
** Sorting select box (structure, date)
** Add/delete button
** Node tree
*** Expand/collapse branches
*** Drag & drop moving (only when sorted by structure)
* Context structure tree
** Only available in ""Content module""
** Expand/collapse branches
** Drag & drop moving
** Collapsible
*** Remember state (like the inspector groups)
* Navigate toggle button
** Active state when toggled
** Toggle with click
* Overlays the page (underneath the menu component)
** Adds left margin to the body
* Toggle animation is slide out/in from left
* Position fixed with 100 % height
* Content not visible can be viewed by scrolling
* Create separate SCSS file for all CSS
* Create separate JavaScript file for the component"
48072,Base Distribution,Task,Story #45973: As a content editor I want improved image handling,Closed,Must have,Remove image from image property,Aske Ertmann,Dominique Feyer,2014-11-02 12:22,"",1.0 beta 1,2013-05-08,"","",0.00,100,2013-05-08 16:26,"","",1153650,0.00,Currently it's not possible to remove the uploaded image from a image property
48073,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Image cropping is broken,Aske Ertmann,"",2014-11-02 12:22,"","",2013-05-08,"","",0.00,100,2013-05-08 16:42,"","",1153700,0.00,Currently nothing happens when clicking the crop button for an image
48074,Base Distribution,Task,"",Resolved,Must have,Neos backend no conflict mode,Aske Ertmann,Adrian Föder,2014-03-04 09:35,"",1.0 beta 1,2013-05-08,"","",0.00,100,2013-05-08 16:45,"","",1153750,"","Currently the JavaScript for the Neos backend is not properly contained so it breaks when a page has its own version of jQuery or RequireJS. This needs to be fixed to allow using Neos with all kinds of templates.

RequireJS has already some support of loading things asynchronously and with different versions at the same time, which could probably be used to solve some of the issues."
48075,Base Distribution,Task,Work Package #47023: Global user interface,Accepted,Should have,Context bar,Aske Ertmann,"",2014-06-20 08:23,"","",2013-05-08,"","",0.00,67,2013-05-08 16:58,"","",1153800,0.00,"The context bar contains options specific to the module being viewed. It contains stuff like the fullscreen button, language selection, wireframe toggle etc."
48076,Base Distribution,Task,Task #48075: Context bar,Accepted,Should have,Wireframe mode toggle,Aske Ertmann,Rasmus Skjoldan,2013-09-23 16:08,"","",2013-05-08,"","",0.00,0,2013-05-08 16:59,"","",1153850,"","Add button for toggling wireframe mode in ""Content module"""
48077,Base Distribution,Task,Task #48075: Context bar,New,Should have,Language selection,Aske Ertmann,Rasmus Skjoldan,2013-07-11 17:44,"",1.1,2013-05-08,"","",0.00,0,2013-05-08 17:00,"","",1153900,"","Add button for language selection in ""Content module"""
48078,Base Distribution,Task,Task #48075: Context bar,Accepted,Should have,Fullscreen mode toggle,Aske Ertmann,Sebastian Kurfuerst,2013-10-22 10:27,"",1.0 beta 1,2013-05-08,"","",0.00,100,2013-05-08 17:01,"","",1153950,"","Add button for toggling fullscreen mode  in ""Content module"""
48079,Base Distribution,Task,Task #48075: Context bar,Resolved,Should have,Inline editor options,Aske Ertmann,Sebastian Kurfuerst,2013-07-11 17:54,"",1.0 beta 1,2013-05-08,"","",0.00,100,2013-05-08 17:02,"","",1154000,"",Add options for the inline editor to the context topbar
48080,Base Distribution,Task,Work Package #47023: Global user interface,Accepted,Should have,Breadcrumb,Aske Ertmann,"",2013-08-25 10:53,"",1.0 beta 1,2013-07-11,"",0.00,0.00,50,2013-05-08 17:36,"","",1154050,0.00,"Implement a select box containing the current selected node as the selected value with the available parent elements as other options. When selecting a parent element the node focus changes to the selected element and the options are updated for the new selected element. It's a replacement of the content breadcrumb currently available in the bottom toolbar next to the inspect button.

There will always be a selected option since it follows the node selection where the page is selected if no content element/section is selected. Added as part of the inspector.

This elements also serves the purpose of providing visual indication of what the inspector fields are for."
48091,Base Distribution,Task,Work Package #47023: Global user interface,Resolved,Should have,Inspector,Aske Ertmann,Aske Ertmann,2014-10-04 11:21,"","",2013-06-10,"",0.00,0.00,100,2013-05-09 08:33,"","",1154600,0.00,"Implement an inspector component aligned to the right side of the viewport. The inspector contains all the non inline property editors for the currently selected node.

Specification:
* Content breadcrumb #48080
* Collapsible
** Remember state
** Toggle animation is slide out/in from left
* Cancel button
* Apply button
* Position fixed with 100 % height
* Content not visible can be viewed by scrolling
* Property groups
** Collapsible
*** Remember state
** Property editors
*** Textfield
*** Textarea
**** Fly out when focussed
*** Checkbox
*** Selectbox
*** Custom fields
**** Image property
**** Non-empty fields
*** Validation
* Create separate SCSS file for all CSS
* Create separate JavaScript file for the component"
48106,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Different issues,Aske Ertmann,Christian Müller,2014-11-02 12:22,"",1.0 beta 1,2013-05-10,"","",0.00,100,2013-05-10 09:30,"","",1155350,0.00,http://cognifloyd.blogspot.com/2013/05/neos-dev-master-hints.html
48139,Base Distribution,Task,Work Package #47023: Global user interface,Resolved,Should have,Notifications,Aske Ertmann,Rasmus Skjoldan,2013-12-08 13:35,Global User Interface,1.0 beta 1,2013-05-13,"","",0.00,100,2013-05-13 09:00,"","",1157000,"","Implement notifications on the top of the screen. There should be four different types: alert, warning, info, success. The notification should only show a headline and then have the ability to expand to see detailed description. It should be possible to see multiple notifications at the same time."
48140,Base Distribution,Task,Work Package #47023: Global user interface,New,Should have,Tips,Aske Ertmann,"",2013-07-11 17:51,"",1.1,2013-05-13,"","",0.00,0,2013-05-13 09:01,"","",1157050,"",Implement useful tips for the user to ease first time use of the backend UI. These could look like the notifications.
48142,Base Distribution,Task,Work Package #47023: Global user interface,New,Should have,Search field/results,Aske Ertmann,"",2013-07-11 17:51,"",1.1,2013-05-13,"","",0.00,0,2013-05-13 09:09,"","",1157150,0.00,"Implement a search field that uses AJAX to fetch results when typing.

* A limited number of results should be shown.
* Results consist of a title, a node icon and the node path as the title attribute of the link.
* The results should be navigatable with the use of the up and down arrow keys as well as enter for selecting.
* Part of the title containing the search word should be highlighted (bold).
* There should be a button for clearing the search field (inside the field)."
48143,Base Distribution,Task,Task #48142: Search field/results,New,Should have,Include commands as search results.,Aske Ertmann,"",2013-07-11 17:51,"",1.1,2013-05-13,"","",0.00,0,2013-05-13 09:11,"","",1157200,"","Available command should be able to be searched for and returned with the other results. Instead of navigating to the result, the command will be triggered instead."
48146,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Change default generated node paths when changing the node title,Aske Ertmann,Aske Ertmann,2014-11-02 12:22,"",1.0 alpha 6,2013-05-13,"","",0.00,80,2013-05-13 09:26,"","",1157350,0.00,"A default node path is generated when creating a new node, we should change this automatically when a node with a title property is changed if it still has the default node path. This is to make it easier for the editor to get nice URL's. For now we should however not change this automatically if the title changes and the node path is not a generated one, because we lack a good way to support redirects from old URL's."
48147,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Editing of shortcuts,Aske Ertmann,Tim Kandel,2014-11-02 12:22,"","",2013-05-13,"","",0.00,100,2013-05-13 09:28,"","",1157400,0.00,"It should be possible to navigate to shortcuts while being logged into the backend. A default template page should be showed with a clear indication that it's a shortcut (non-viewable folder node). Then it should be possible to configure the shortcut using the inspector.

* Change demo site to not have the first page as a shortcut
** Add a new page as shortcut as an example of shortcuts
* Test what happens if you have a shortcut to the first child node that doesn't have a child node (frontend & backend)
* Redirect to the shortcut location if the page you're being redirected to after login is a shortcut (BackendRedirectionService)"
48178,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Inspector click protection dialog broken after Ember RC3 update,Aske Ertmann,"",2014-11-02 12:22,Content Editing,"",2013-05-14,"","",0.00,100,2013-05-14 05:33,"","",1158950,0.00,"After the Ember RC3 update the click protection layer dialog throws a JavaScript error when clicking any of the buttons (cancel, apply, don't apply and close)"
48180,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Saving content properties inside selectboxes doesn't work,Berit Hlubek,"",2014-11-02 12:22,Content Management,1.0 beta 1,2013-05-14,"","",0.00,100,2013-05-14 07:38,"","",1159050,0.00,"Within any kind of content element which has some properties of the type selectbox it's not possible to apply the change of a selectbox value.
Tested with several indivdual content elements and with "" text with image (alignment)""."
48209,Base Distribution,Task,Work Package #45007: Basic Accessibility of the Neos Backend (step 1),Resolved,Should have,Move all content elements below 1 DOM element,Rens Admiraal,Rens Admiraal,2013-07-11 17:51,"",1.0 beta 1,2013-05-15,"","",0.00,100,2013-05-15 05:13,"","",1160450,"",For accessibility it's important to have the full application interface below one DOM element with the role 'application'. This is also important for the overall technical design / stability of the Neos backend
48210,Base Distribution,Task,Work Package #45007: Basic Accessibility of the Neos Backend (step 1),Resolved,Should have,Restructure the bootstrap of the contentmodule to use ember,Rens Admiraal,Rens Admiraal,2013-05-17 12:10,"","",2013-05-15,"","",0.00,100,2013-05-15 05:16,"","",1160500,"","currently we append a lot of 'standalone ember views' to the interface using jQuery. This could be highly improved by using the actual way Ember works. THis leads to less and more readable code, and less problems with binding and view updates."
48211,Base Distribution,Task,Story #44957: Reliable clipboard and content element handles,Resolved,Should have,Make the handles a 'singleton',Rens Admiraal,Rens Admiraal,2013-07-02 15:47,"",Sprint February 2013,2013-05-15,"","",0.00,100,2013-05-15 05:18,"","",1160550,"",By creating just one handles bar moving around with the current node selection we can highly optimize the positioning and stability of the handles.
48238,Base Distribution,Task,Work Package #47023: Global user interface,New,Could have,Alert user when logging out with unpublished nodes,Aske Ertmann,"",2013-07-11 17:53,"",1.0 beta 1,2013-05-16,"","",0.00,0,2013-05-16 03:48,"","",1161900,"","To help people avoid forgetting to publish, we should show an alert when logging out with unpublished changes."
48239,Base Distribution,Task,Work Package #47023: Global user interface,New,Could have,Backend interface color distinction,Aske Ertmann,"",2013-07-11 17:56,"",1.1,2013-05-16,"","",0.00,0,2013-05-16 03:49,"","",1161950,"","It could be useful to have the possibility to change a visible color in the backend ui between development, staging and production sites."
48240,Base Distribution,Task,Task #48075: Context bar,Resolved,Should have,Edit & preview menu,Aske Ertmann,Rasmus Skjoldan,2014-06-20 08:23,"",1.1,2013-05-16,"","",0.00,100,2013-05-16 03:57,"","",1162000,"","The Edit & Preview menu needs to be established in 1.0

The full version will later connect to a tabbed inspector to provide customization options of both the preview and edit modes.

To the right of Menu and Navigate, a third top-level menu must be included: ""Edit & Preview""

The 2 parts (50% width each from far left to Inspector border) are labelled ""Edit content"" and ""Preview central""

For the 1.0 release, the available items in the menu are:

EDIT MODES:
Frontend
Wireframe

PREVIEW SHORTCUTS:
Desktop
Tablet
Mobile

Background of the tab and menu area below: #141414
"
48241,Base Distribution,Task,Work Package #48367: [WIP] End-To-End Testing of Neos with Behat,New,Should have,Create sandboxed Jenkins testing environment,Christopher Hlubek,Robert Lemke,2013-05-21 04:52,"","",2013-05-16,"","",0.00,0,2013-05-16 03:58,"","",1162050,"","Running tests (pre-merge / post-merge) should be separated from release management and deployment.

Some notes about the additional setup for running Behat tests with headless Selenium:

*CI Setup for Selenium*

* Install Xvfb (aptitude install xvfb)
* Download init script from https://gist.github.com/jterrace/2911875 to /etc/init.d/xvfb
* chmod +x /etc/init.d/xvfb
* sudo update-rc.d xvfb defaults

* Install Firefox

* Install Selenium server into /usr/local/lib/selenium:
** Download http://selenium.googlecode.com/files/selenium-server-standalone-2.32.0.jar
* Download init script from http://www.danstraw.com/blog/wp-content/uploads/2010/11/selenium.txt
* Added 'export DISPLAY="":1.0""' before starting Selenium server to set the display for Xvfb

* Run Apache on 8081 (parallel to Nginx)
* Create VHost in Apache
* Install MySQL

*Ideas:*

* Post only message on failure (instead of -1)
* Start Xvfb using Jenkins Xvfb plugin (run in parallel in start / stop after tests)

* Capture video (headless gem)
** Start capturing video before each scenario"
48242,Base Distribution,Task,"",On Hold,Should have,Add WAI-Aria roles,Rens Admiraal,Rens Admiraal,2013-10-22 16:04,"","",2013-05-16,"","",0.00,20,2013-05-16 04:17,"","",1162100,"",""
48243,Base Distribution,Task,Work Package #45007: Basic Accessibility of the Neos Backend (step 1),Resolved,Should have,Add Keyboard navigation / eventhandling class,Rens Admiraal,"",2013-10-22 16:05,"","",2013-05-16,"","",0.00,100,2013-05-16 04:18,"","",1162150,"",""
48244,Base Distribution,Task,Work Package #45024: [WIP] Context sensitive help in the Neos Backend (accessibility step 2),New,Should have,Add context sensitive help,Rens Admiraal,"",2013-10-22 15:33,"","",2013-05-16,"","",0.00,0,2013-05-16 04:18,"","",1162200,"",""
48271,Base Distribution,Task,"",New,Should have,General security,Aske Ertmann,"",2013-05-16 09:16,"",1.0 beta 1,2013-05-16,"","",0.00,0,2013-05-16 09:16,"","",1163500,"","For the first release of Neos we need to check the whole system for security vulnerabilities. That includes both frontend, backend and services etc."
48273,Base Distribution,Task,Work Package #47023: Global user interface,Resolved,Should have,Enable JavaScript backend for modules,Aske Ertmann,"",2013-07-11 17:58,"",1.0 beta 1,2013-05-16,"","",0.00,100,2013-05-16 09:19,"","",1163600,"","For the modules we need to include a customized version of the backend application. It should not include the inspector, the context bar and the navigate component at first."
48275,Base Distribution,Work Package,"",New,Should have,TypoScript consistency,Aske Ertmann,Sebastian Kurfuerst,2013-10-11 15:36,General / Project,1.0 beta 1,2012-08-16,"","",0.00,67,2013-05-16 09:41,"","",1163700,0.00,"h1. TypoScript consistency

* Target Audience: *integetors* who want to implement sites
* Responsible: ""Sebastian Kurfürst (click to contact)"":http://forge.typo3.org/users/11
* Implemented by: the whole Neos Team
* Amount: not estimatable, *not paid, done on voluntary basis*
* Version: *must have* for 1.0
* Planned Implementation Timeframe: continuous work

h2. Motivation

In order to get a consistent experience and logical understanding of TypoScript we need to improve some of the concepts

h2. Goal

To achieve a consistent and flexible TypoScript implementation that would don't need to change much in the future

h2. Deliverables

* Improved FlowQuery #48278, #48280
* Per-Site instead of Per-Node TypoScript #48321
* Value / TS Object Interoperability #48359
* Kill processor classes, change processor syntax #48361
* (maybe) rename ""matcher"" to ""if"" #48362
* (maybe) implement declarative configuration per TYPO3CR Node #48363"
48276,Base Distribution,Task,Work Package #48275: TypoScript consistency,Resolved,Must have,Put site root node into Eel context,Aske Ertmann,Christian Müller,2013-05-21 13:35,General / Project,1.0 beta 1,2013-05-16,"","",0.00,100,2013-05-16 09:44,"","",1163750,"","In order to write queries from the root node we need the site node to be available in the Eel context

Example:
* ${q(site).children('firstlevel')}"
48278,Base Distribution,Task,Work Package #48275: TypoScript consistency,New,Must have,"Add ""Find"" FlowQuery operation",Aske Ertmann,"",2013-05-16 10:20,General / Project,1.0 beta 1,2013-05-16,"","",0.00,0,2013-05-16 09:50,"","",1163850,"","Implement a new FlowQuery operation called find which mimics the query selector by making it possible to filter children nodes not limited by the depth like children is.

The find selector should support nested node names like ""node/subnode""

It should also support an arbitrary selector in the node name filter like ""node/*/subnode"" or ""*/category-*"""
48280,Base Distribution,Task,Work Package #48275: TypoScript consistency,Resolved,Should have,Add Eel expression support for node identifiers,Aske Ertmann,Christian Müller,2013-05-19 13:37,General / Project,1.0 beta 1,2013-05-16,"","",0.00,100,2013-05-16 09:53,"","",1163950,"","It should be possible to select a specific node by it's identifier using a hashed syntax like the jQuery ID selector

Example:
${q(node).children('#054f08f5-75a9-432e-9d9b-4b5f45011530')} or {$(site).find('#054f08f5-75a9-432e-9d9b-4b5f45011530')}"
48291,Base Distribution,Task,Work Package #45217: [WIP][Assignee missing] External & internal link support,Accepted,Should have,Redirect management for moved pages,Sebastian Kurfuerst,Tim Kandel,2013-05-16 12:40,Content Rendering,1.0 beta 1,2013-05-16,"","",0.00,0,2013-05-16 11:03,"","",1164450,"",Consult with Bastian Waidelich
48321,Base Distribution,Task,Work Package #48275: TypoScript consistency,Resolved,Should have,Drop support for node based TypoScript files,Christian Müller,Christian Müller,2013-10-01 06:35,"",1.0 beta 1,2013-05-17,"","",0.00,100,2013-05-17 04:27,"","",1165950,"","TypoScript files should no longer be searched in the subpath ""Nodes"".
The concept of TypoScript specific to a Node was abandoned in favor of a centralized TypoScript configuration. Any changes to the rendering based on nodes and node structure should be realized by using Matchers and EEL expressions in the central TypoScript.

The reasons were the following:

* you have one place to understand the *whole rendering* of a site
* the TS for the site is cacheable extremely well
* many team members did not like the node-path-to-file-system-magic and thought it was fragile"
48328,Base Distribution,Task,Work Package #47023: Global user interface,Accepted,Should have,Rename JavaScript to new structure,Sebastian Kurfuerst,Aske Ertmann,2013-07-11 18:00,"",1.0 beta 1,2013-05-17,"","",0.00,14,2013-05-17 06:13,"","",1166250,0.00,"<pre>
======================
Rules
======================

* UpperCamelCase
* Handlebars in same folder and same name as file
* View do NOT leak into global scope (REMOVE T3.*)
* we do NOT use Ember Router and the related naming conventions for content module.
* Abstract classes -> AbstractXY in terms of naming

Referencing Helper Views
------------------------

Furthermore, if a view needs another view for working (f.e. from the `shared` namespace), we explicitely
load it as dependency and then make it a property of a view. Example:

    define(
        ['Shared/MyHelperView'],
        (MyHelperView) ->

            StuffView = E.View.extend {
                # in contrast to other properties of an object, we use
                # UpperCamelCase naming conventions here to show that we
                # reference another *class*, and not an *instance*
                MyHelperView: MyHelperView
            }
    )

Inside the Handlebars template of the view, we can then reference this view using:

    {{view view.MyHelperView}}

This way, we do not need to put helpers into any global namespace.


======================
NAMING
======================

Neos-built.js --> shoudl be in some ""DIST"" folder
ModuleBootstrap.js (for ...)
ContentModuleBootstrap.js (former contentmodule-main.js / Ember.Application)
Content/
	ContentModule.js (MAIN ENTRY POINT)
	PreviewMode.js
	WireframeMode.js

	LibraryExtensions?

		LinksAlohaPlugin/
		UiAlohaPlugin/
		CreateWidgets/
		HalloWidgets/

	Model/

		DocumentContext.js (singleton)
		NodeSelection.js (Singleton)
		PublishableNodes.js (Singleton)
		NodeActions (Singleton)

	InlineEditing/
		InlineEditing.js (former create.js)
		InlineEditingHandles.js
		AlohaLoader.js
		HalloLoader.js
		NewContentChooser.js?

	Components/
		AbstractPopoverButton.js
		AbstractButton.js
		AbstractToolbar.js
		AbstractToggleButton.js

	Menu/
		NodeTree
		ContextStructure

	Inspector/
		Inspector.js

		Editors/
			AbstractEditor?
			ImageEditor
			HtmlEditor
		Validation/
			...



Shared/
	Components/
		Navigate (is only the ""base container""; does NOT contain f.e. a tree)
		Menu
		ContextBar


	ResourceCache.js
	Ember/
		DictionaryObject.js


</pre>"
48329,Base Distribution,Task,Task #48328: Rename JavaScript to new structure,New,Should have,Remove leftover window.T3,Sebastian Kurfuerst,"",2013-07-11 18:00,"",1.0 beta 1,2013-05-17,"","",0.00,0,2013-05-17 06:13,"","",1166300,"",""
48333,Base Distribution,Task,Task #48328: Rename JavaScript to new structure,New,Should have,Clean up Content/Application and Content/ContentModule,Sebastian Kurfuerst,"",2013-07-11 18:01,"",1.0 beta 1,2013-05-17,"","",0.00,0,2013-05-17 07:14,"","",1166500,"",""
48334,Base Distribution,Task,Task #48328: Rename JavaScript to new structure,New,Should have,"(maybe) re-introduce ""development mode indicator"" in topToolbarTemplate",Sebastian Kurfuerst,"",2013-05-17 07:17,"","",2013-05-17,"","",0.00,0,2013-05-17 07:17,"","",1166550,"","<pre>
{{#view tagName=""li"" isVisibleBinding=""T3.ContentModule.showDevelopmentFeatures""}}
		<span style=""color:white"">!!! Development mode !!!</span>
	{{/view}}

</pre>"
48348,Base Distribution,Task,Work Package #47023: Global user interface,Resolved,Should have,Rename Styling to new structure,Aske Ertmann,"",2013-07-11 17:56,"",1.0 beta 1,2013-05-17,"","",0.00,100,2013-05-17 09:52,"","",1167250,"","In order to have a good structure of our styling we need to reorganize it

* move every scss source file to a Styles-folder inside Resources/Private
* keep bootstrap as solid base for responsive features and a big set of components
* use it as our own base and also adjust the original files for our needs
* use the bootstrap variables.scss as constant definition file
* have an own mixin file
* have a foundation folder inside Resources/Private/Styles
* use an own includes.scss where also the bootstrap files are included
* create files for the modules for specific styles
* create files for the components (i.e. inspector..)
* every class has to be prefixed with neos-
* keep lowercase-dashed file names which are as short as possible and use cascading instead of long-named classes
"
48352,Base Distribution,Task,Task #48328: Rename JavaScript to new structure,New,Should have,Aloha loading does not always work reliably,Sebastian Kurfuerst,"",2013-07-11 18:02,"",1.0 beta 1,2013-05-17,"","",0.00,0,2013-05-17 11:01,"","",1167450,"","Currently we have a timeout for 800 ms in order to make sure Aloha has loaded, which is very error prone."
48356,Base Distribution,Task,Task #48328: Rename JavaScript to new structure,Resolved,Should have,!!! Fix JS build,Sebastian Kurfuerst,"",2013-05-18 02:35,"","",2013-05-17,"","",0.00,100,2013-05-17 11:32,"","",1167650,"","in some cases, the UI does not show (no errors) when loading the built and minified version. We have to find out what's going on there.

*Remember to also re-enable the CI build!*"
48357,Base Distribution,Task,Task #48328: Rename JavaScript to new structure,New,Should have,get rid of  window.Ember,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-05-17 11:35,"","",2013-05-17,"","",0.00,0,2013-05-17 11:35,"","",1167700,"",""
48358,Base Distribution,Task,Task #48328: Rename JavaScript to new structure,New,Should have,"get rid of window.plupload, window.Chosen, window.AbstractChosen etc, window.GENTICS",Sebastian Kurfuerst,Sebastian Kurfuerst,2013-05-17 11:36,"","",2013-05-17,"","",0.00,0,2013-05-17 11:36,"","",1167750,"",""
48365,Base Distribution,Task,Work Package #45217: [WIP][Assignee missing] External & internal link support,Resolved,Should have,Support editing basic external links with Aloha,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-12-07 14:02,Content Editing,1.0 beta 1,2013-05-17,"","",0.00,100,2013-05-17 12:35,"","",1168100,"",""
48366,Base Distribution,Task,Work Package #45217: [WIP][Assignee missing] External & internal link support,Resolved,Should have,Support editing internal links with Aloha,Sebastian Kurfuerst,Bastian Waidelich,2013-10-24 16:35,"",1.0 beta 1,2013-05-17,"","",0.00,100,2013-05-17 12:36,"","",1168150,"",""
48367,Base Distribution,Work Package,"",New,Should have,[WIP] End-To-End Testing of Neos with Behat,Sebastian Kurfuerst,"",2013-09-12 08:04,"",1.0 beta 1,2013-05-16,"","",0.00,0,2013-05-17 12:37,"","",1168200,0.00,""
48368,Base Distribution,Task,Work Package #48367: [WIP] End-To-End Testing of Neos with Behat,Accepted,Should have,Behat tests for Page Tree,Sebastian Kurfuerst,Markus Goldbeck,2013-05-17 12:40,"","",2013-05-17,"","",0.00,0,2013-05-17 12:40,"","",1168250,"",""
48369,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Could have,Allow to edit Tables with Aloha,Sebastian Kurfuerst,"",2014-11-02 12:22,"","",2013-05-17,"","",0.00,0,2013-05-17 12:46,"","",1168300,0.00,""
48415,Base Distribution,Task,"",Resolved,Should have,Make sure TS definitions are in the right package,Karsten Dambekalns,Karsten Dambekalns,2013-05-24 09:36,"",1.0 beta 1,2013-05-21,"","",0.00,100,2013-05-21 12:03,"","",1170600,"",Currently some TYPO3.TypoScript objects are defined in TYPO3.Neos or TYPO3.Neos.NodeTypes (the same applies to some other combinations).
48437,Base Distribution,Task,"",Rejected,Should have,"General configuration, templates",Aske Ertmann,Robert Lemke,2013-05-22 04:51,"","",2013-05-22,"","",0.00,0,2013-05-22 04:29,"","",1171700,"","We need to discuss how we want to make our default templates and which and how we want to make things configurable. We've already discussed and almost agreed on making things like the title, html tag, meta tags a TypoScript object. However we still need to make a concise plan for what should be configurable and how it should be configurable.

Currently I see three different ways to configure things:
* Global configuration in Settings.yaml (across sites)
* Site specific configuration via TypoScript
* Node specific configuration #48363

The other end of this is how and what we should provide in our default template. The goal is that the implementation shouldn't overwrite the template unless absolutely necessary to make version updating as easy as possible. Add to this we should provide a clean and simple, yet ready to use and up to date html5 implementation as the default (like html5boilerplate[1] and the like).

Possible discussions:
* Conditional html tags
* Title
* Meta tags
* Script tags
* Link tags (styles)
* Favicon

Suggested participants:
* Rens
* Aske
* Berit
* Sebastian
* Robert
* Others interested in this topic

[1] https://github.com/h5bp/html5-boilerplate/blob/master/index.html"
48479,Base Distribution,Task,Work Package #48275: TypoScript consistency,Resolved,Should have,make priorities in @position before/after consistent,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-05-26 12:21,"",1.0 beta 1,2013-05-23,"","",0.00,100,2013-05-23 04:35,"","",1173800,"","Generally, when we use priorities in TypoScript @position, it always means:

""the higher the priority, the more certain you are that the desired outcome
happens"". F.e. if s.th. is positioned ""start 10000"" it means ""very certain
that it is positioned at the start""; for ""end 10000"" conversely, it means
""very certain that it is positioned at the end"". If we do not specify an
priority, that defaults to ""position $somewhere in this area with low
priority"", e.g. priority 0.

When sorting keys before and after each other using ""before [otherkey]""
and ""after [otherkey]"" respectively, we express that an element should
be ""somewhere before/after"" an element. The higher the priority, the
more close it should be towards the element. Before this change, it
was exactly the other way around which was counterintuitive.
"
48525,Base Distribution,Work Package,"",New,Should have,[WIP] TYPO3CR Scalability and consistence,Sebastian Kurfuerst,"",2013-07-15 11:04,"","",2013-05-25,"","",0.00,0,2013-05-25 06:00,"","",1176050,0.00,"h1. [WIP] TYPO3CR Scalability and consistence

* Target Audience: *everybody* who wants to store huge amounts of data in the CR.
* Responsible: TODO
* Implemented by: XY, YZ
* Amount: XY work days
* Version: TODO
* Planned Implementation Timeframe: X - Y

h2. Motivation

The TYPO3CR currently works well for small-to-medium websites, but some operations like moving of nodes are not implemented cleanly currently; and we are not sure yet whether
the current TYPO3CR architecture scales well.

h2. Goal

* Figure out how to adjust the TYPO3CR architecture to have a robust, scaleable solution
* possible directions: performance benchmark of TYPO3CR, prototype for PHPCR connector,
  using a graph database as backend

h2. Deliverables

[TODO: write bullet points for measurable deliverables; flag them as must have and can have]"
48526,Base Distribution,Task,Work Package #48525: [WIP] TYPO3CR Scalability and consistence,Accepted,Should have,evaluate use of graph databases as high-performance store,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-05-27 00:54,Content Repository,"",2013-05-25,"","",0.00,0,2013-05-25 06:01,"","",1176100,"","I just had a few hours to spare and thought a little more about how a graph database could help us as a backend for TYPO3CR.

Specifically, I'd have OrientDB in mind, but the concept would work for most graph DBs.

Just check the attached PNG for the full concept."
48980,Base Distribution,Task,Task #48091: Inspector,Resolved,Should have,Parts of the Aloha Floating Menu should be integrated into the inspector,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-07-02 08:36,Content Editing,1.0 beta 1,2013-06-10,"","",0.00,100,2013-06-10 03:19,"","",1198650,"",""
49014,Base Distribution,Task,Work Package #48275: TypoScript consistency,New,Should have,Detect prototype copying leading to a loop,Rens Admiraal,"",2013-10-03 14:30,"",1.0 beta 1,2013-06-11,"","",0.00,0,2013-06-11 02:50,"","",1200350,"","Code like:

<pre>
prototype(RobertLemke.Plugin.Blog:PostPlugin) < prototype(RobertLemke.Plugin.Blog:PostPlugin) {
	templatePath = 'resource://Radmiraal.RensadmiraalNl/Private/Templates/Plugins/RobertLemke.Plugin.Blog/TypoScript/Post.html'
}
</pre>

Now ends up in a loop causing the webserver to go into a time-out. This should be detected, and probably logged and ignored during rendering."
49385,Base Distribution,Work Package,"",Accepted,Must have,Release Flow 2.0 stable,Robert Lemke,Robert Lemke,2013-07-15 04:56,"",1.0 beta 1,2013-06-24,"","",38.00,100,2013-06-24 10:25,"","",1218850,"","h1. Release Flow 2.0 Stable

* Target Audience: *developers* who want to use Flow
* Responsible: Robert Lemke <robert (at) typo3 (dot) org>
* Implemented by: Karsten Dambekalns, Robert Lemke <robert (at) typo3 (dot) org>
* Amount: 6 work days
* Version: *must have* for Neos 1.0
* Planned Implementation Timeframe: week 25 to 26, 2013

h2. Motivation

The release of Flow 2.0 stable has been postponed for weeks now since nobody had the resources to dedicate himself for 2-3 days to tackle the remaining loose ends, create the 2.0 code release an publish the release notes. People are more and more asking for it, so it's high time to get 2.0 out of the door, especially considering that any Neos version will require Flow 2.1.

h2. Goal

Make the Flow 2.0 release happen and announce it on the Flow website / social media channels.

Go through pending patches, open critical bugs and prepare a tagged version for 2.0 stable. Rename the public git repositories (still containing FLOW3 in their name and path). Compile release notes. 

h2. Deliverables

* [MUST]
** reviewed pending patches and open critical bugs which are important for 2.0
** tagged version 2.0
** renamed git repositories (some still contain FLOW3 in their name)
** release notes
** announcement on typo3.org

* [SHOULD]
** upgraded flow.typo3.org to latest Neos (hasn't been upgraded since March)
"
49589,Base Distribution,Task,"",Resolved,Should have,Optimize global icon styles,Berit Hlubek,Aske Ertmann,2013-07-11 17:08,Global User Interface,"",2013-07-02,"","",0.00,100,2013-07-02 09:32,"","",1228950,"","At the moment we define a very global style for icon-classes:

<pre>
[class^=""icon-""], [class*="" icon-""] {
	background: none;
	-webkit-font-smoothing: antialiased;
	font-size: 14px;
}
</pre>

File: /Packages/Application/TYPO3.Neos/Resources/Private/Styles/_General.scss
Line: 35 - 39

As class names like icon-xxx are quite generic this will break individual icon styling for the websites.
We have to prefix all icon elements and correct those lines according to the prefixed class-names to prevent breaking user styles."
49595,Base Distribution,Task,"",New,Should have,Neos setup does not check for required php-gd module,Rens Admiraal,"",2013-07-02 10:27,"","",2013-07-02,"","",0.00,0,2013-07-02 10:27,"","",1229250,"","If you install Neos on a clean ubuntu machine and just install the minimum required packages / modules for Neos step 1 validates correctly. Finishing the setup will fail though, as the Imagine package (I think) has a dependency on php-gd so the last steps of the setup end up in a fatal error."
49943,Base Distribution,Work Package,"",Accepted,Should have,Security,Aske Ertmann,Andreas Förthner,2013-10-11 04:36,"",1.0 beta 1,2013-10-03,"","",0.00,100,2013-07-11 15:43,"","",1246200,0.00,"h1. Defining the TYPO3 Neos Security Policy

* Target Audience: everyone using Neos
* Responsible: Andreas Förthner, Helmut Hummel
* Implemented by: Andreas Förthner, Helmut Hummel
* Version: *must have* for 1.0

h2. Motivation

There are lots of vulnerabilities in the Neos backend currently. In order to provide a secure product and avoid security issues and thereby distrust from users, we need to invest time in securing it.

h2. Goal

In order to deliver a secure release we need to fix known security issues and tests if there are others.

h2. Deliverables

* Policy for restricting access to controller actions

h2. Not part of this work package:

* Content security for nodes (see #45010)
* Since editors have access to the html node type, we will not check any XSS, which can be introduced by editors"
49951,Base Distribution,Task,"",New,Should have,Node structure / layout,Aske Ertmann,"",2013-07-24 10:23,"",1.0 beta 1,2013-07-11,"","",0.00,0,2013-07-11 16:24,"","",1246600,"","We need a concept for node structure that works for documents and content. Currently we have a concept of childNodes which are automatically generated for content. Instead we should have concept of node structure that is used for both documents and content. Instead of using TypoScript to define the structure and create it during rendering, the structure should be configured in the node type to avoid a dependency on TypoScript and prevent modification of nodes during the rendering.

This would make it possible to provide certain layouts that matches your page templates / TypoScript. And then define templates based on the layout structure with a TypoScript case matcher.

Neos should provide some common structure names like main, header, footer etc. as a convention to allow easy switching between node types / layouts.

* Creation of node structure should not be done during rendering (currently done as a hack in @DefaultContentCollectionImplementation@)
* Adjustment of node structure needs to happen when creating a node, changing the node type or updating the layout property
* The layouts feature should be implemented outside the scope of TYPO3CR as a concern of Neos
* Layouts should be configured in the NodeTypes.yaml in an extensible way (e.g. prepend package key as in TypoScript to the  name)

This should separate structure from presentation, which is for database operations etc.

We need a way to select the default layout so it can just inherit from it's parents. In addition to that it would be very useful to set the default for all children. Like in gridelements for CMS, where the layout can be chosen for the current page and for the subpages."
49952,Base Distribution,Task,"",New,Should have,Folder node types,Aske Ertmann,"",2013-07-11 16:30,"",1.0 beta 1,2013-07-11,"","",0.00,0,2013-07-11 16:30,"","",1246650,"","As planned we need a concept for folder node types. These should be used to store other nodes and are hierarchical just like other nodes. However they do not have a presentation in the frontend, so they should not extend the document node. This split does however mean that we need to make sure that documents can be changed into folders as vice versa, regardless of this separation."
49954,Base Distribution,Task,"",New,Must have,If a user is logged out redirect to login screen after failed AJAX request,Aske Ertmann,"",2013-07-11 16:52,"",1.0 beta 1,2013-07-11,"","",0.00,0,2013-07-11 16:52,"","",1246750,"","Currently you either get an error or nothing when using the backend while logged out, instead it should redirect to the login page on a ajax request being redirected due to not being logged in"
49957,Base Distribution,Task,Task #48080: Breadcrumb,New,Should have,Selecting a parent element doesn't change the content breadcrumb,Aske Ertmann,"",2013-07-11 17:49,"",1.0 beta 1,2013-07-11,"","",0.00,0,2013-07-11 17:49,"","",1246900,"","When another element is selected via the menu the menu should not be updated, making it possible to select the previous element again. However when a new element is selected normally it should. It should be enough to check if the selected element is one of the values in the currently shown menu and if it is, don't update it, if not update it."
49958,Base Distribution,Task,"",New,Should have,Clicking the page reloads the inspector even if the page is already selected,Aske Ertmann,"",2013-07-11 18:05,"",1.0 beta 1,2013-07-12,"","",0.00,0,2013-07-11 18:05,"","",1246950,"",We should check that the selected node isn't already the one being selected and prevent a node selection change
49966,Base Distribution,Task,"",Resolved,Must have,Release notes for 1.0 alpha 5,Aske Ertmann,Aske Ertmann,2013-08-07 08:15,"",1.0 alpha 5,2013-07-12,"","",0.00,100,2013-07-12 05:29,"","",1247300,"","* ? Prepare release
** https://gist.github.com/kdambekalns/8113e1ece83ce09bed58
* ? Release notes
** http://docs.typo3.org/neos/TYPO3NeosDocumentation/Appendixes/ChangeLogs/100-alpha4.html
* ? Add notes on how to update from alpha 4 to alpha 5
* ? Add notes about clearing cache after using composer update
* ? Update neos.typo3.org
** ? Frontpage
** ? Download page
** ? Footer
* ? Write news.typo3.org article
** http://typo3.org/news/article/typo3-neos-alpha-4-released/
* ? Write to TYPO3 Neos mailing list <neos@lists.typo3.org>
* ? Share on Google+/Twitter"
49977,Base Distribution,Task,"",Resolved,Could have,Avoid using header tags in Neos backend,Aske Ertmann,Aske Ertmann,2013-08-01 10:44,"",1.0 alpha 5,2013-07-12,"","",0.00,100,2013-07-12 08:53,"","",1247850,"","We should avoid using header tags like h1, h2, h3, h4, h5, h6 in our backend since they usually have specific styling and the semantic meaning doesn't make much sense in the backend anyway (JS part)"
49999,Base Distribution,Task,"",Resolved,Must have,Update alpha version number on demo site,Aske Ertmann,Aske Ertmann,2013-07-16 05:02,"",1.0 alpha 5,2013-07-13,"","",0.00,100,2013-07-13 07:57,"","",1248950,"",""
50191,Base Distribution,Story,"",Accepted,Should have,As an integrator I want an extensible way of including JavaScript and CSS,Christopher Hlubek,Christopher Hlubek,2013-10-02 11:36,"",1.0 beta 1,2013-07-19,"","",0.00,100,2013-07-19 08:57,"","",2956300,0.00,"In order to include custom CSS / JavaScript for different media and browsers in a flexible way
As a site integrator
I need TypoScript objects and default paths for including CSS and JavaScripts with all necessary options"
50192,Base Distribution,Task,Story #50191: As an integrator I want an extensible way of including JavaScript and CSS,Resolved,Should have,TypoScript: Create tag-based object,Christopher Hlubek,Christopher Hlubek,2013-10-02 11:36,Content Rendering,1.0 beta 1,2013-07-19,"","",0.00,100,2013-07-19 09:14,"","",1258300,"","There should be a TypoScript object that makes it easy to render all kinds of tag based output and to manipulate attributes in a safe and extensible way.

*Example:*

<pre>

// Default configuration
page.bodyTag = Tag {
    tagName = 'body'
    omitClosingTag = TRUE
}

// Extension in custom site package
page.bodyTag {
    attributes {
        class = 'landing-page'
        id = 'product-a'
    }
}
</pre>

Idea for CSS classes:

- Use (new) processors on @class@ Attribute: @class.@processors.myClass = ${String.append('my-class')}@
- Maybe add special support for @classes@ attribute that allows whitespaced concatenation using some kind of @Array@ (e.g. @ classes.myClass =""my-class""@)"
50384,Base Distribution,Task,"",Resolved,Must have,TypoScript page rendering restructuring,Aske Ertmann,Christian Müller,2013-10-15 09:36,"",1.0 alpha 6,2013-07-24,"","",0.00,100,2013-07-24 08:59,"","",1267750,"","To have a more generic and extensible way of rendering documents (pages) in Neos we should restructure the TypoScript to follow the nature of the html tags being outputted

Example:
<pre>
page = Tag
page.tagName = html
page.head = Tag
page.head.content = Array
page.head.content.stylesheets = Array
page.head.content.stylesheets.main = LinkTag
page.head.content.stylesheets.main.tagName = link
page.head.content.stylesheets.main.rel = stylesheet
page.head.content.stylesheets.main.attributes.src = main.css
page.head.content.scripts = Array
page.body = Tag
page.body.attributes.class = RawArray
page.body.attributes.class.neos = neos
page.body.attributes.class.customClass = custom-class
page.body.content = Template
</pre>"
50385,Base Distribution,Task,"",New,Must have,Folder node types,Aske Ertmann,"",2013-07-24 09:01,"",1.0 beta 1,2013-07-24,"","",0.00,0,2013-07-24 09:01,"","",1267800,"",For storing non-document node types and re-used nodes we need to implement a concept for folder nodes
50611,Base Distribution,Task,"",Resolved,Should have,Support adding class attribute to editable tags,Aske Ertmann,Aske Ertmann,2013-08-02 08:56,Content Editing,1.0 alpha 5,2013-07-31,"","",0.00,100,2013-07-31 17:17,"","",1279050,"",""
50834,Base Distribution,Task,"",Resolved,Must have,Remove versions from composer manifests,Karsten Dambekalns,Karsten Dambekalns,2013-08-06 12:14,"","",2013-08-06,"","",0.00,100,2013-08-06 10:53,"","",1290050,"",""
50835,Base Distribution,Task,"",Resolved,Must have,Add license information to composer manifests,Aske Ertmann,Aske Ertmann,2013-08-26 05:49,"","",2013-08-06,"","",0.00,100,2013-08-06 11:32,"","",1290100,"",""
51343,Base Distribution,Task,"",New,Should have,Add reasonable test coverage for PluginImplementation,Rens Admiraal,"",2013-08-26 05:50,"","",2013-08-26,"","",0.00,0,2013-08-26 05:50,"","",1315200,"",Currently we're lacking tests for the PluginImplementation. This class should be fully tested.
51927,Base Distribution,Task,"",Accepted,Must have,Node type structure,Aske Ertmann,"",2013-09-11 16:11,Content Repository,1.0 beta 1,2013-09-11,"","",0.00,0,2013-09-11 16:03,"","",1344200,"","Currently the node structure is created during runtime depending on the TypoScript rendering, this has several drawbacks and to fix this there's a need for a specified structure as part of the node type configuration. There is already a simple concept for this called childNodes used for the content node types, but this should be improved and streamlined for all node types.

Proposal: Add a structure configuration to node types defining the substructure of the node type. This includes different paths with configuration for the type of child node along with other things like allowed child node types, disallowed child node types, maximum child nodes and default child nodes. Additionally there should be added allowed child node types and disallowed child node types options for the whole node type to limit creation of immediate children for certain node types. The creation of collections during runtime should be removed to ensure the content repository handles it on creation/modification instead.

For Neos 1.0 we need the structure as well as the type and maybe the possibility to set some overriding properties for these. Rest is nice to have.

<pre>
?Acme.Blog:Post':
  superTypes: ['TYPO3.Neos:Page']
  allowedChildNodeTypes: [?TYPO3.Neos.NodeTypes:Content?]
  disallowedChildNodeTypes: [ ?TYPO3.Neos:Document? ]
  properties: []
  structure:
      teaser:
        type: ?Acme.Blog:Teaser?
        properties:
          title: ?Overwrite default title?
      main:
        type: collection
        allowedChildNodeTypes: [?TYPO3.Neos.NodeTypes:Content?]
        disallowedChildNodeTypes: [?Acme.Blog:Post?, ?Acme.Blog:Comment?]
        maximumChildNodes: 5
        defaultChildNodes:
           -
              type: ?TYPO3.Neos.NodeTypes:Text?
              properties:
                 text: ?Some cool text here?
      comments:
        type: collection
        allowedChildNodeTypes: [?Acme.Blog:Comment?]
</pre>"
52020,Base Distribution,Task,"",Accepted,Should have,clean up Node Structure between TYPO3 Neos and TYPO3.Neos.NodeTypes,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-09-16 02:47,Content Repository,1.0 beta 1,2013-09-16,"","",0.00,0,2013-09-16 02:47,"","",1348850,"","As discussed on 11.09. with the team, we found that some node types resided in TYPO3.Neos.NodeTypes, and others in TYPO3.Neos -- making it hard to understand for the implementor.

During the meeting, we came up with the following rules:

* TYPO3.Neos should work without TYPO3.Neos.NodeTypes
* all node types which TYPO3.Neos depend on (i.e. which are hardcoded in the source code somewhere) should be in TYPO3.Neos, all others in TYPO3.Neos.NodeTypes.
* All node types in TYPO3.Neos should be either *abstract* (meant to be extended) or *final* (not allowed to be extended). This means the average user does not have to deal with these node types.

As a result, this means the following node-type-changes:

* Page is migrated from TYPO3.Neos to TYPO3.Neos.NodeTypes
* Plugin is marked *abstract*, but stays in Neos
* Shortcut is moved to Neos.NodeTypes
* ContentCollection is marked final"
52053,Base Distribution,Task,"",New,Should have,Deleting Home page leaves backend inaccessible ,Nikos Poaros,"",2013-09-16 18:08,Content Editing,"",2013-09-17,"","",0.00,0,2013-09-16 18:08,"","",1350500,"","I have noticed a bug/problem when ""home"" page is deleted.

I had a simple Node/Page set up like this

Home
Who We Are
Appointments
Useful Stuff

I then created a couple of pages under Home and ended up with the following:

Home
    New Page
        New Page
Who We Are
Appointments
Useful Stuff

I hadn't meant to create the two New Pages under each other as I was after this:

Home
    Some New Page
    Another New Page
Who We Are
Appointments
Useful Stuff

So I deleted the New Page. Got the dialogue to check that I wanted to delete and went ahead. Nothing seemed to happen (still in page tree) so tried again. Again nothing. (Apparently I was to quick hitting the deletes) 

I then tried to go to workspaces but got this error:
  ""Page Not Found Sorry, the page you requested was not found""

Then tried to log in again to back end and also after I  shut down everything restarted cache and tried to log in to back end but got this:
    ""An error occurred while trying to call TYPO3\Neos\Controller\Frontend\NodeController->showAction(). Error for node: Could not convert array to Node object because the node ""/sites/myDemoSite/Home"" does not exist.

However when I just connected to front end site seemed OK.

I had a look in the database (nodedata) and found that in fact there were 2 ""Home"" nodes of type Typo3.Neos:Pages
One marked as removed in what must have been a draft non published workspace. Once I deleted this everything worked again but back to my original flat layout.

So then I tried the following with all but one page Published.
Home
    Some New Page
    New Page (not published)
Who We Are
Appointments
Useful Stuff

I then purposefully deleted the Home Node/Page. Got the same behaviour as above. but when I looked in the database it looked as if

""Home"" was duplicated and marked as deleted. ""New Page"" was marked as deleted but ""Some New Page"" did not exist.

Anyway it seemsto be a problem when you delete the sites homepage on purpose or not

I hope my explanation isn't too long winded!

Kind regards

Nick "
52151,Base Distribution,Work Package,"",Accepted,Should have,Ember based  Navigation component,Rens Admiraal,Rens Admiraal,2013-12-14 10:48,"","",2013-09-20,"","",0.00,0,2013-09-20 08:47,"","",1355350,"","h1. Ember based Navigation component

* Target Audience: all users of Neos
* Responsible: ""Rens Admiraal (click to contact)"":http://forge.typo3.org/users/3198
* Implemented by: Rens Admiraal, Henjo Hoeksma
* Amount: 10 work days
* Version: *could have* for 1.0
* Planned Implementation Timeframe: September till October

h2. Motivation

The current page tree in Neos does do it's job, but for having a solid API and to make sure maintenance will be doable we need an ember based component

h2. Goal

The navigation component should be an extensible tree which could become Neos API and is usable for different types of nodes, like pages, news messages or any other kind of nodes. Depending on the node type it should be possible to do grouping in the tree (like 'group all news by year / month)

h2. Deliverables

* Create a tree implementation for Neos based on Ember
* Inline editing in the tree
* Drag & Drop support
* Easy node type switching
* Grouping on 1 level based on node properties
* *could have* Grouping over multiple levels
* Keyboard support
* Documentation of the feature, and documentation for other developers using / extending Neos
"
52154,Base Distribution,Work Package,"",Accepted,Should have,Neos UI stability and extensibility,Rens Admiraal,Rens Admiraal,2013-12-14 10:33,"","",2013-09-20,"","",0.00,100,2013-09-20 09:11,"","",1355500,"","h1. Neos UI stability and extensibility

* Target Audience: users of Neos and developers using Neos
* Responsible: ""Rens Admiraal (click to contact)"":http://forge.typo3.org/users/3198
* Implemented by: Rens Admiraal, Henjo Hoeksma
* Amount: 10 work days
* Version: *could have* for 1.0
* Planned Implementation Timeframe: September till December

h2. Motivation

Neos should be more extensible in the long run, like for example add the possibility to load extra javascript components.

h2. Goal

Add a first conditional loading based on simple feature switches so we, as Neos team, can define that certain features are not fully stable yet, but can be enabled by setting a feature switch. Besides that it will make it possible to load other assets, but this will not be public API on first release as it's not defined well enough how this should work. But at least it should enable us to start building features like for example localization in 3rd party packages which can be merged into master later on.

h2. Deliverables

* A configurable loading process enabling the loading of sources from 3rd party packages
* Add feature switches
* Fix stability issues found along the way
"
52175,Base Distribution,Task,"",Resolved,Should have,Prepend neos CSS with neos-,Rens Admiraal,Rens Admiraal,2013-09-23 06:36,"","",2013-09-22,"","",0.00,100,2013-09-22 10:36,"","",1356550,"",As our current 'foundation' of the CSS is based on bootstrap we will (and do) have lots of issues with bootstrap upgrades and Neos backend CSS stability. To work around this we rename all our CSS classes and prepend them with neos-
52196,Base Distribution,Task,"",Resolved,Should have,Page template/layout selection,Mattias Nilsson,Mattias Nilsson,2013-10-03 13:36,Global User Interface,1.0 beta 1,2013-09-23,"","",0.00,100,2013-09-23 12:18,"","",1357600,"","Following a brief discussion about template/layout selection during the node structure meeting, it would be good to decide how we want to tackle this issue in Neos.

Possible discussions:

    Should we provide default functionality in TYPO3.Neos or have a proof-of-concept in the demo package?
    Should we use configuration in Settings.yaml, node type configuration or meta data from the file system for configuration of templates/layouts?
    Should we provide a custom editor for the selection of image enriched values?
    How much of this is necessary for Neos 1.0?

Conclusion:

We concluded to continue with the current direction and implement a proof-of-concept. The implementation should go into TYPO3.Neos, but it should be possible to exclude this feature if not needed. The definition of available layouts should be defined by setting them in the TYPO3.Neos:Page node type configuration. The actual rendering should then use TypoScript to change the template or use a specific TypoScript object, this would be up to the implementor. We will need a slide operator to be able to get the nearest set parent value. The enriched editor is not necessary for the first part and should be a more generic selector editor with image thumbnails. A basic implementation should go into Neos 1.0."
52330,Base Distribution,Task,Story #45434: As a content editor I want to be able to edit normal content,Closed,Should have,Headers should support basic text formatting,Thomas Allmer,"",2014-11-02 12:21,Content Editing,1.0 beta 1,2013-09-27,"","",0.00,0,2013-09-27 07:48,"","",1364150,0.00,"I often find our clients using headlines like
mysuperStuff<sup>©<sup> or CO<sub>2</sub>

so sub, sup should be supported by headlines.

bold, italic and strikethrough might be also useful.

if possible make it configurable via the Site Package Settings."
52394,Base Distribution,Task,"",New,Should have,Pagetree: Editing page title on blur bug,Sebastian Hens,"",2013-09-30 11:35,"","",2013-09-30,"","",0.00,0,2013-09-30 11:35,"","",1367300,"","If you try to change the title of a page by double click the title at the pagetree and than clicking out of the focus of the input field it will not remove the input stuff until you reload the page.

Tested in Chrome Version 29.0.1547.76 and Firefox v24.0"
52393,Base Distribution,Task,"",New,Should have,Pagetree: Editing page title on blur bug,Sebastian Hens,"",2013-09-30 11:35,"","",2013-09-30,"","",0.00,0,2013-09-30 11:35,"","",1367250,"","If you try to change the title of a page by double click the title at the pagetree and than clicking out of the focus of the input field it will not remove the input stuff until you reload the page.

Tested in Chrome Version 29.0.1547.76 and Firefox v24.0"
52395,Base Distribution,Task,"",New,Could have,Sites module: Removing already imported sites,Sebastian Hens,"",2013-09-30 11:38,"","",2013-09-30,"","",0.00,0,2013-09-30 11:38,"","",1367350,"","Already imported sites should be removed from the ""Import Site"" dropdown."
52396,Base Distribution,Task,"",New,Could have,Sites module: Error message if name field is empty,Sebastian Hens,"",2013-09-30 11:41,"","",2013-09-30,"","",0.00,0,2013-09-30 11:41,"","",1367400,"",There should be an error message if someone have not entered a site name.
52397,Base Distribution,Task,"",New,Should have,Fmm: Headlines of groups should be better seperated,Sebastian Hens,"",2013-09-30 11:43,"","",2013-09-30,"","",0.00,0,2013-09-30 11:43,"","",1367450,"","The headline of a group at the floating main menu should be better seperated from a normal list item, right now the difference should be better displayed"
52398,Base Distribution,Task,"",New,Should have,Neos Backend dropdowns layout,Sebastian Hens,"",2013-09-30 11:46,"","",2013-09-30,"","",0.00,0,2013-09-30 11:46,"","",1367500,"","The height of the dropdown lists at the neos backend should be smaller, it looks way to large and should be as the same height as the input fields.
Maybe it makes sense to transform them into a ul-li list (with JS), so we could style them in a better way and we would have the same styling in all browsers."
52399,Base Distribution,Task,"",New,Should have,Fmm: Change the sites listing,Sebastian Hens,"",2013-09-30 12:11,"","",2013-09-30,"","",0.00,0,2013-09-30 12:11,"","",1367550,"","If you have a lot of sites at the same NEOS installation you have to scroll a lot to get your other settings. So it would make sense to change the list to a dropdown or add a ""change site"" button beside the active package and open a layer where the editor can choose one of the sites."
52400,Base Distribution,Task,"",New,Could have,Fmm: Open button action should be changed,Sebastian Hens,"",2013-09-30 12:18,"","",2013-09-30,"","",0.00,0,2013-09-30 12:18,"","",1367600,"",The open button of the floating main menu should not react on hover. It should be better if the menu just open on click.
52408,Base Distribution,Task,"",New,Should have,Neos Backend: Complete broken at IE9,Sebastian Hens,"",2013-09-30 14:28,"","",2013-09-30,"","",0.00,0,2013-09-30 14:28,"","",1368000,"","The backend doesn't loading complete at IE9, but I have no idea whats going on.
It seems that the files are all loading, but just the top panel is loading."
52433,Base Distribution,Task,Work Package #48275: TypoScript consistency,Resolved,Should have,"allow ""this"" in all TypoScript objects to reference other properties",Sebastian Kurfuerst,Sebastian Kurfuerst,2013-10-02 17:36,"","",2013-10-01,"","",0.00,100,2013-10-01 10:30,"","",1369250,"","
If a user writes complex Eel expressions, it might make sense to use
intermediate variables for that. With this change, the following
syntax is possible:

<pre>
myContent = MyTypoScriptObject {
  other = ${5*2}
  myProperty = ${'some complex expression: ' + this.other}
}
# myProperty now contains ""some complex expression: 10""

This is implemented for all TypoScript objects.
</pre>"
52492,Base Distribution,Task,Work Package #47023: Global user interface,Resolved,Should have,Page loader,Aske Ertmann,"",2014-02-27 10:36,Global User Interface,1.0 alpha 6,2013-10-03,"","",0.00,100,2013-10-03 03:36,"","",1372200,"","Instead of the current page loader that adds a white overlay layer with a spinner we want to have a more subtle loader. The loader is inspired by the loader in iOS7 safari and should behave like that one. This loader loads a little bit in the beginning, then proceeds slowly forwards and when the page is loaded it quickly fills out the remaining space. We need to see if we can see how far the AJAX request is and if that's not possible, we should have a default time that works for most cases and if it reaches the end it will start over.

The loader is only shown when loading a page and should disappear when the page is loaded"
52500,Base Distribution,Task,Work Package #49943: Security,Resolved,Must have,Editors must only be able to access their own workspaces,Andreas Förthner,"",2013-10-11 04:36,Content Editing,1.0 beta 1,2013-10-03,"","",0.00,100,2013-10-03 06:30,"","",1372600,"","Currently the node services allows any authenticated editor to access all nodes in all workspaces.

createNode of the NodeConverter has to get a runtime evaluation checking the workspace of the node."
52504,Base Distribution,Task,Work Package #49943: Security,Resolved,Should have,WorkspaceController: Only publish your own workspace,Andreas Förthner,"",2013-10-11 04:36,Content Management,1.0 beta 1,2013-10-03,"","",0.00,100,2013-10-03 08:23,"","",1372750,"",""
52505,Base Distribution,Task,Work Package #49943: Security,Resolved,Must have,UserSettingsController: check parameters of updateAction,Andreas Förthner,"",2013-10-11 04:36,Administration,1.0 beta 1,2013-10-03,"","",0.00,100,2013-10-03 09:44,"","",1372800,"",account and person have to match the currently authenticated ones.
52506,Base Distribution,Task,Work Package #49943: Security,Resolved,Should have,WorkspacesController: Remove workspace selection feature,Andreas Förthner,"",2013-10-11 04:36,Content Management,1.0 beta 1,2013-10-03,"","",0.00,100,2013-10-03 10:00,"","",1372850,"","As currently every user has only one workspace, we can pin him automatically to this workspace. The parameter in the index-, publishWorkspace- and discardWorkspaceAction should be ignored as long as we have no security checks for workspaces..."
52508,Base Distribution,Task,Work Package #49943: Security,Resolved,Must have,General restrictions for controller access,Andreas Förthner,"",2013-10-03 13:36,"",1.0 beta 1,2013-10-03,"","",0.00,100,2013-10-03 10:10,"","",1372950,"",""
52510,Base Distribution,Task,Work Package #49943: Security,Resolved,Should have,Check general purpose controllers,Andreas Förthner,Andreas Förthner,2013-10-04 04:32,"",1.0 beta 1,2013-10-03,"","",0.00,100,2013-10-03 10:14,"","",1373050,"",* widget controllers
52663,Base Distribution,Task,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Image element has no height when added,Rens Admiraal,Rens Admiraal,2014-11-02 12:22,"","",2013-10-10,"","",0.00,100,2013-10-10 09:29,"","",1380650,0.00,When a image content element is added to the DOM it has no height so it can not be selected by mouse. After reload this is fixed.
52673,Base Distribution,Task,"",New,Should have,Allow setting multiple roles for the user,Rens Admiraal,Rens Admiraal,2013-10-10 17:05,"","",2013-10-10,"","",0.00,0,2013-10-10 17:05,"","",1381150,"","The current user interface of the user management module allows for changing the role using radio buttons, this should allow for setting multiple roles though"
52789,Base Distribution,Task,Task #48071: Navigate component,Closed,Could have,Expand search field when active,Aske Ertmann,"",2014-11-20 10:54,"","",2013-10-14,"","",0.00,0,2013-10-14 07:37,"","",1386900,0.00,When the search field becomes active it should expand to 100% width and hide the filter
52790,Base Distribution,Task,Task #48071: Navigate component,New,Should have,Prefix remaining dynatree classes (drag'n'drop),Aske Ertmann,"",2013-10-14 07:38,"","",2013-10-14,"","",0.00,0,2013-10-14 07:38,"","",1386950,"","Not all of the dynatree classes are configurable, these classes should be prefixed using grunt."
52791,Base Distribution,Task,Task #48071: Navigate component,Rejected,Could have,Make the node tree collapsible,Aske Ertmann,"",2014-11-20 10:50,"","",2013-10-14,"","",0.00,0,2013-10-14 07:38,"","",1387000,0.00,On smaller screens or if more space is wanted to the context structure tree it should be possible to use the full height for the navigate component like it's possible with the node tree
52792,Base Distribution,Task,Task #48071: Navigate component,Closed,Could have,Remember tree state,Aske Ertmann,Markus Goldbeck,2014-11-20 10:42,"",1.0 alpha 8,2013-10-14,"","",0.00,0,2013-10-14 07:39,"","",1387050,0.00,"The tree should remember which branches were opened/closed during the last time

This should be possible with dynatree's cookie functionality"
52793,Base Distribution,Task,Task #48071: Navigate component,Resolved,Should have,Make new position selectable like with paste position,Aske Ertmann,Aske Ertmann,2013-12-09 13:36,"","",2013-10-14,"","",0.00,100,2013-10-14 07:41,"","",1387100,"","It should be possible to select whether to create new content inside, before or after"
52794,Base Distribution,Task,Task #48071: Navigate component,Resolved,Should have,Sync context structure tree with node changes,Aske Ertmann,Mattias Nilsson,2013-11-12 14:35,"","",2013-10-14,"","",0.00,100,2013-10-14 07:42,"","",1387150,"","Whenever a content element is changed on the page the structure tree should be updated, could be position, new content or changes to existing content"
52795,Base Distribution,Task,Task #48071: Navigate component,Resolved,Should have,Expand parents if current page is nested below initial max depth,Aske Ertmann,Sebastian Kurfuerst,2013-11-12 06:36,"",1.0 alpha 8,2013-10-14,"","",0.00,100,2013-10-14 07:43,"","",1387200,"","If the current page is beneath the default max depth the current page won't be shown in the page tree, if the current page is not visible it should expand it's parents until visible (could also be done server side)"
52796,Base Distribution,Task,Task #48071: Navigate component,Closed,Should have,Only allow creation of allow subtypes of current node/parent node,Aske Ertmann,"",2014-11-20 10:42,"","",2013-10-14,"","",0.00,0,2013-10-14 07:46,"","",1387250,0.00,The creation of new nodes should be limited to the restriction set by the current node if creating into or for the parent node if creating before/after
52962,Base Distribution,Task,"",Resolved,Must have,Backend / workspace interface does not load when using subfolder of webroot,Marcin S?gol,"",2013-10-30 05:35,Administration,1.0 alpha 7,2013-10-18,"","",0.00,100,2013-10-18 11:14,"","",1395550,"","When testing NEOS (alpha6) without defined vhost but using some webroot subfolder (for example: domain.com/neos/Web) the backend interface to edit and manage page is not loaded after login - user is just redirected to domain.com/@user-foo.html when it should be for example domain.com/home@user-foo.html

There was also problem with redirection after login (when not using webroot as an installation place for NEOS) but this was already fixed in one of the latest patches."
53106,Base Distribution,Task,Task #48071: Navigate component,Resolved,Should have,Make the Expand Level of the tree configurable,Markus Goldbeck,Markus Goldbeck,2013-11-12 06:36,"",1.0 alpha 8,2013-10-24,"","",0.00,100,2013-10-24 14:49,"","",1402750,"",The expand Level of the tree is hardcoded right now. It should be configurable by a Settings.yaml
53257,Base Distribution,Task,"",Closed,Should have,Content Repository API,Bastian Waidelich,Bastian Waidelich,2014-12-16 05:38,Low Level,"",2013-10-31,"","",0.00,0,2013-10-31 13:35,"","",1410150,0.00,"We need a solid foundation for all kinds of interactions with the TYPO3 Content Repository in order to streamline client/server communication and provide open endpoints for 3rd parties.

Some measures towards a stable API I could imagine:


1. Encapsulate NodeDataRepository calls into a public service (e.g. ""NodeRepository"")

2. Merge functions with similar functionality

If you look at the list of ""lookup"" interactions below you can see that we do similar jobs multiple times. I would suggest following changes:

* Replace Workspace arguments by ContextInterface arguments (and provide some easy way to retrieve a context from a workspace if we see the need for it). This will also render arguments like ""$includeRemovedNodes"" obsolete.

* The service should only return NULL, NodeInterface or QueryResultInterface<NodeInterface> if possible (Until we rewrote the queries to use DQL we could create a NodeQueryResult that implements a subset of the QueryResultInterface)

3. Extend the Neos ""Node REST API"" so that it provides common operations (using the NodeRepository)

4. Replace existing client/server interactions (ExtDirect, possibly some Backend\*Controller) by interactions with the REST API"
53272,Base Distribution,Task,"",New,Could have,Animated icon when saving/publishing changes,Marcin S?gol,"",2013-11-01 13:33,Global User Interface,1.0 alpha 8,2013-11-01,"","",0.00,0,2013-11-01 13:33,"","",1410900,"","When user works on page and do some changes before they are applied he has to save and publish them. When button APPLY or PUBLISH is pressed the indicator shows text Saving ... prepanded with icon. I think it would be a good idea to make this icon animated like loader/preloader   so it suggest user that something happens in the background (changes are saved). Such visual way would be much better than simple text 'Saving ..'.

I'm interested what are your opinions."
53293,Base Distribution,Task,"",Resolved,Should have,Typo in Sites Management > New Site,Tim Eilers,"",2013-11-04 13:35,"","",2013-11-03,"","",0.00,100,2013-11-03 10:29,"","",1411950,"","When creating a new site in Sites Management it says:
<pre>
A valid package key should be in the form VendorName.MyPackageKey./span>
</pre>
Note the ""span"" at the end?
Or in HTML source code:
<pre>
<span class=""neos-help-block"">A valid package key should be in the form <em>VendorName.MyPackageKey</em>./span>
</pre>
Just a very little ""bug"", which could be fixed fast imho ;)"
53457,Base Distribution,Task,"",New,Must have,Editing in fullscreen mode doesn't work,Leon de Rijke,"",2013-11-08 10:18,"","",2013-11-08,"","",0.00,0,2013-11-08 10:18,"","",1420100,"","After adding an element in normal or wireframe mode, it isn't editable in fullscreen mode. In fullscreen mode the `contenteditable` attribute is false, in non-fullscreen mode it is true.

Steps to reproduce:
1. Add an element to a page
2. Switch to fullscreen mode
3. Try to edit the element"
53528,Base Distribution,Work Package,"",Accepted,Should have,First steps for localization support,Rens Admiraal,Rens Admiraal,2013-12-14 10:48,"","",2013-11-11,"","",0.00,0,2013-11-11 11:33,"","",1423650,"","h1. TYPO3 CR Localization

* Target Audience: all users of Neos
* Responsible: ""Rens Admiraal (click to contact)"":http://forge.typo3.org/users/3198
* Implemented by: Rens Admiraal, Henjo Hoeksma
* Amount: 10 work days
* Version: 1.1
* Planned Implementation Timeframe: November till December

h2. Motivation

Full localization support is planned for Neos 1.1. To prepare a smooth integration within time limits the already prepared technical concept should be implemented.

h2. Goal

Prepare Neos from the technical perspective so creating the UX concept is easier (because we can toy with the technical concept in practice) as a preparation on full localization support in Neos.


h2. Deliverables

* Localized nodes in TYPO3CR
* Localization fallback chain
* Relations between translated nodes and the original translation
* *could have* a basic user interface for managing relations between translations
* *won't have* the full localization UX concept as this still has to be defined
"
53866,Base Distribution,Work Package,"",Accepted,Should have,Release 1.0 Important Topics,Christian Müller,"",2013-11-22 07:34,"",1.x,2013-11-22,"",200.00,40.00,0,2013-11-22 07:01,"","",1440400,"","h2. Stabilisation

Improve the general stability of TYPO3 Neos for editors, integrators as well as for developers.

h2. TYPO3CR API refactoring

* Use DQL?
* Simplify public API (Introduce NodeRepository, Make NodeData(Repository) internal)

h2. User interface improvements

* ?View? component
* Improved error handling

h2. Webservice foundation

Make it possible for 3rd party tools to interact with TYPO3 Neos through a unified Webservice API.

* HTTP components
* REST Service for nodes, users, ?
* replace ExtJS dependency (ExtDirect => REST)


h2. Integration improvements

Make it easier and more flexible to create templates and custom Content Elements.

* simpler Content Element templates
* less auto-generated markup in frontend

h2. Performance

Speed up the rendering of Frontend and Backend.

* Eliminate bottlenecks
* Runtime caches

h2. Security audit

Eliminate security flaws and make it easier for developers and integrators to write secure code

* Evaluate policies
* Search for security flaws
* Document how to securely integrate Plugins/Custom elements

h2. Documentation

Setup good documentation for beginners up to more advanced information and a reference for relevant parts.

* Developer guide
* Integrator guide / cookbook
"
53911,Base Distribution,Task,"",Resolved,Must have,NEOS Beta 1 Backend Behaviour,Renzo Bauen,"",2013-11-29 04:26,"","",2013-11-24,"","",0.00,100,2013-11-24 10:39,"","",1442650,"","Accessing the lefthand Menu in NEOS Beta 1 Backend is not possible.
If i hover over the Menu button, the menu slides in. But if the mouse leaves the region of the menu button, the Menu itself slides out. So it is not possible to click on one of the Menus.

If i click on ""Workspaces"" at the top right dropdown menu (right of the ""publish""-button) then i am redirected to the Page Management>Workspaces. The only way to go back is to click on the lefthand menu and choose ""content"". But as the menu behaves here exactly the same way as described above, i never cache this menu-item.

I have this environment:
Linux Mint 13 Maya with the latest updates.
Firefox 25.0
Apache 2.2.22 (Ubuntu)
PHP 5.3.10, Zend Engine 2.3.0 and Xdebug 2.2.3
MySQL 5.5.34 (Ubuntu)

"
54040,Base Distribution,Task,"",Needs Feedback,Should have,Aloha: filter <br /> tags from headline elements,Rens Admiraal,"",2013-12-07 14:01,"","",2013-11-28,"","",0.00,0,2013-11-28 12:20,"","",1449050,"","Currently it's possible to use a <br /> tag in the headline element bij pressing shift + enter, this should be prevented."
54080,Base Distribution,Task,Task #48071: Navigate component,Resolved,Must have,As a content editor I want to be able to move pages,Bastian Waidelich,Bastian Waidelich,2013-12-20 11:36,Content Repository,"",2013-11-29,"","",0.00,100,2013-11-29 08:30,"","",2956600,"","Moving/renaming document nodes currently has some weird side-effects:

h1. Moving a page that is not selected

*Expected:* The navigate component should be reloaded, the current page should still be selected
*Actual:* The current page stays selected as expected, but it's not possible to navigate to the moved page, Browser refresh required

!01_move_other_page.png!

h1. Moving the currently selected page

*Expected:* The navigate component should be reloaded, the moved page should be selected
*Actual:* The current page stays selected but with the old node path leading to ""tree load errors. Browser refresh leads to 404. Navigation to ""/neos"" required
!02_move_selected_page.png!

h1. Renaming a page

*Expected:* The navigate component should be reloaded, the renamed page should be selected
*Actual:* The current page stays selected but with the old node path and name, Browser refresh required

see #53610

!03_rename_a_page.png!

h1. Moving a page creating a tree conflict

*Expected:* A.) It should not be possible to move the page B.) A ""human readable"" error should be shown, refreshing the navigate component with the previous state
*Actual:* An ExtDirect error is displayed, navigate component ""dies"" with a loading animation. Browser refresh required

!04_tree_conflict.png!

h1. Renaming a page creating an irreversible tree conflict

*Expected:* A.) It should not be possible to rename the page to an existing node name B.) A ""human readable"" error should be shown, restoring the previous state
*Actual:* The navigate component selects the other page with the same node name, publishing leads to an invalid CR state that can only be solved by fixing the db directly!

!05_break_CR.png!




h1. Measures

We should start with behat tests covering all common tree interactions (moveAfter, moveIn, moveBefore, rename) with and without publishing"
54273,Base Distribution,Task,"",Resolved,Should have,Aloha: Make it possible to configure options via YAML,Bastian Waidelich,Adrian Föder,2013-12-10 11:36,Content Editing,1.0,2013-12-07,"","",0.00,100,2013-12-07 14:19,"","",1460200,"","It should be possible to define what formatting options are available (per NodeType).
Currently we can add new options e.g.
<pre>
'TYPO3.Neos.NodeTypes:Headline':
  properties:
    title:
      ui:
        aloha:
          format: ['h4']
</pre>

But we can't remove existing options.
We should turn the array into a map, so instead of:
<pre>
format: ['b', 'i', 'u', 'sub', 'sup', 'p', 'h1', 'h2', 'h3', 'pre', 'removeFormat']
</pre>
something like
<pre>
format:
  'b': TRUE,
  'i': TRUE, 
...
</pre>"
54331,Base Distribution,Task,"",Resolved,Must have,Menu.html - Empty Menu because auf missing letter,Johannes Pichler,"",2013-12-13 04:40,Content Rendering,1.0,2013-12-11,"","",0.00,100,2013-12-11 06:16,"","",1463100,"","Menu.html rendered empty
<pre>
TYPO3.Neos/Resources/Private/Templates/TypoScriptObjects/Menu.html
</pre>

By kickstarting a new site via flow, in the created Site-Package in Root.ts2 there is the menu set via menu = Menu without any template resource given. therefore the default will be used, wich is located in TYPO3.Neos ... Templates/TypoScriptObjects/Menu.html

Here is a variable mistake on line 4:

Now there is: 
<pre>
<f:render section=""itemsList"" arguments=""{item: item}"" />
</pre>

But it should be:
<pre>
<f:render section=""itemsList"" arguments=""{items: items}"" />
</pre>

Difference is missing character s:  {items: items} -> {items: items}

otherwise the generated menu is always empty."
54475,Base Distribution,Task,"",New,Should have,Wrong redirection when logging out after change of site's state,Barcasal Lucius,"",2013-12-17 06:39,"","",2013-12-17,"","",0.00,0,2013-12-17 06:39,"","",1470200,"","This error can be reproduced when you have one site and create another one, changing the current site's state and logging out.

This produces a wrong URI redirection and when you try to log back in, you are still redirected to a wrong URI.
The only way to log back in is to change the URI manually."
54829,Base Distribution,Task,"",New,Should have,Text with Image Alignment Options,Jan no-lastname-given,"",2014-01-08 06:25,Content Editing,1.x,2014-01-08,"","",0.00,0,2014-01-08 06:25,"","",1487700,"","It would be nice to have the same Option for Image Alignment like TYPO3 6.1

Above, center
Above, right
Above, left
Below, center
Below, right
Below, left
In text, right
In text, left

Beside Text, Right
Beside Text, Left

I houpe here is the right place for the request :)"
54881,Base Distribution,Story,"",New,Must have,Sortable table columns in Neos backend modules,Vladimir B,"",2014-01-09 10:25,"","",2014-01-09,"","",0.00,0,2014-01-09 10:25,"","",2957250,"","As a developer, I would like to have integrated support for sortable columns (and paging) for Neos backend modules - integrated or custom."
54976,Base Distribution,Task,"",New,Should have,neos:contentElement.editable adds additional div in live,Stefan Froemken,"",2014-01-14 05:02,Content Editing,"",2014-01-14,"","",0.00,0,2014-01-14 05:02,"","",1494850,"","Hello Neos-Team,

while our session we found out that neos:contentElement.editable returns an additional <div>-Tag in LIVE workspace.

TYPO3\Neos\ViewHelpers\ContentElement\EditableViewHelper

Set row 73-75 to:

<pre>
if ($contentContext->getWorkspaceName() === 'live' || !$this->accessDecisionManager->hasAccessToResource('TYPO3_Neos_Backend_GeneralAccess')) {
	return $content;
}
</pre>

Stefan"
55010,Base Distribution,Task,"",New,Should have,Wrong CSS-Styling in Installer,Daniel Felix,"",2014-01-15 04:55,Setup,"",2014-01-15,"","",0.00,0,2014-01-15 04:55,"","",1496500,"","Hi there,

TYPO3 NEOS Installer has a wrong stylin for the database select box. 

On Chrome (latest) on Windwos 8.1 the default stylesheet displays color:white on a white background which results in a empty select box which is only visible on hover.

Adding option{ color:#000 } corrects this behaviour.

Best regards,
Daniel"
55313,Base Distribution,Task,"",New,Must have,Backend routing failure with similar site names,Bernhard Schmitt,"",2014-01-24 12:17,"","",2014-01-24,"","",0.00,0,2014-01-24 12:17,"","",1511000,"","So I set up two sites, one named ""ghulbus"" and another one named ""ghulbus-blackmoore"". When logging into the former one's backend, Neos redirects me to http://ghulbus.eu/-blackmoore@user-[username].html instead of http://ghulbus.eu/@user-[username].html

Seems like a routing issue to me since the node paths are similar (/sites/ghulbus vs /sites/ghulbus-blackmoore)"
55374,Base Distribution,Task,Task #48071: Navigate component,Closed,Should have,Context structure tree should automatically select newly inserted/pasted elements,Aske Ertmann,"",2014-11-20 10:53,"","",2014-01-27,"","",0.00,0,2014-01-27 15:46,"","",1514000,0.00,When inserting new nodes into the context structure tree they should automatically be selected as the selected node so the page position is navigated to it and the inspector is updated for the convenience of the editor.
55376,Base Distribution,Task,Task #48071: Navigate component,Closed,Should have,Collapsible node tree,Aske Ertmann,"",2014-11-20 10:52,"","",2014-01-27,"","",0.00,0,2014-01-27 15:46,"","",1514100,0.00,The node tree should be collapsible in order to make more room for the context structure tree in cases of pages with lots of content
55705,Base Distribution,Task,"",Closed,Should have,Inspector Config type boolean with default TRUE has no effect,Carsten Bleicker,"",2014-06-25 13:10,"","",2014-02-05,"","",0.00,0,2014-02-05 14:07,"","",1529950,"","_hiddenInIndex:
   type: boolean
   defaultValue: TRUE

I would expect that the checkbox is enabled. But it isnt."
55708,Base Distribution,Task,"",New,Should have,reloadIfChanged: TRUE has no effect on dateTime properties,Carsten Bleicker,"",2014-02-05 15:33,"","",2014-02-05,"","",0.00,0,2014-02-05 15:33,"","",1530100,"","Inspectorfield configuration of dateTime field with does not respect configuration:
reloadIfChanged: TRUE

I would expect a reload. But there is none."
55813,Base Distribution,Epic,"",Closed,Should have,Access Control Lists,Bastian Waidelich,"",2014-03-24 13:37,"","",2014-02-09,"","",0.00,100,2014-02-09 10:52,"","",1535350,0.00,This is a container for all *permission* / *access control* related Neos issues
55814,Base Distribution,Story,Epic #55813: Access Control Lists,Closed,Should have,Access restriction for modules,Bastian Waidelich,"",2014-03-24 12:59,"","",2014-02-09,"","",0.00,0,2014-02-09 10:53,"","",2958500,"","Currently it's possible to bind a Neos module to a resource via Settings.yaml:
<pre>
<code class=""yaml"">
TYPO3:
  Neos:
    modules:
      management:
        label: 'Management'
        # ...
        resource: 'TYPO3_Neos_Backend_Module_Management'
        submodules:
          workspaces:
            label: 'Workspaces'
            # ...
            resource: 'TYPO3_Neos_Backend_Module_Management_Workspaces'
</code>
</pre>

This already allows the integrator to hide modules from certain roles. But the current implementation lacks some features:

* The access restriction is not configurable over the browser
* Only the complete module can be bound to resources, a more fine-grained ACL would be useful (e.g. allow role x to view the user module but only to manage roles y and z).


h2. TYPO3 CMS

In TYPO3 CMS the access control for modules is quite basic:

!ACL_Modules.png!

+ Easy to use
- Not fine grained (only complete modules can be included/excluded)
- The parent module has to be included manually (allowing only ""Web>Page"" does not work, ""Web"" needs to be included as well)"
55816,Base Distribution,Story,Epic #55813: Access Control Lists,Closed,Should have,Access control for node properties,Bastian Waidelich,"",2014-03-24 13:24,"","",2014-02-09,"","",0.00,0,2014-02-09 10:55,"","",2958550,"","It's currently not possible to restrict access to certain properties of nodes.

h2. TYPO3 CMS

In TYPO3 CMS all fields of all DB tables (that have the ""excludefields""-flag set) can be explicitly enabled for groups:

!ACL_Allowed_excludefields.png!

+ Very flexible
- low-level, hard to get right due to dependencies (e.g. property x needs property y to be whitelisted)

(to be continued)"
55817,Base Distribution,Story,Epic #55813: Access Control Lists,Closed,Should have,Access control for files,Bastian Waidelich,"",2014-03-24 13:25,"","",2014-02-09,"","",0.00,0,2014-02-09 10:56,"","",2958600,"","It's currently not possible to restrict access to certain files/assets.

h2. TYPO3 CMS

In TYPO3 CMS file access can be controlled via the ""File Mounts"" options:

!ACL_Filemounts_01.png!

!ACL_Filemounts_02.png!

+ Easy to use
- Inflexible (only based on the file path, not type for example)

(to be continued)"
55818,Base Distribution,Story,Epic #55813: Access Control Lists,Closed,Should have,Configurable NodeType constraints,Bastian Waidelich,Rens Admiraal,2014-03-24 13:36,"","",2014-02-09,"","",0.00,0,2014-02-09 10:57,"","",2958650,"","It's currently not possible to restrict NodeTypes other than enabling/disabling them globally

h2. TYPO3 CMS

In TYPO3 CMS page and content type permissions are configured separately:

!ACL_Page_types.png!

!ACL_Content_types.png!

- Blacklist for content types (everything else is configured with whitelists)
- Very basic, it's not possible to define more complex rules (e.g. constraints)

(to be continued)"
55839,Base Distribution,Task,"",New,Should have,Pagetree does not handle deletings of other user,Carsten Bleicker,"",2014-02-10 07:46,"","",2014-02-10,"","",0.00,0,2014-02-10 07:46,"","",1536400,"","Scenario:

1. A Deletes page ""Foo"".
2. User B enters Backend, sees Page ""Foo""
3. User A publishing the deleted page
4. User B clicks on Page ""Foo"" to edit and runs into a never ending spinning loading wheel.

The page does not exists anymore but its not handled by js loading.

"
55840,Base Distribution,Task,"",New,Should have,Binding of Title in Pagetree and Inspector,Carsten Bleicker,"",2014-02-10 07:51,"","",2014-02-10,"","",0.00,0,2014-02-10 07:51,"","",1536450,"","Reproduce like this:

1. Select page in tree
2. Edit title in inspector and apply changes. The title in pagetree changes too.
3. Edit title again and apply changes: The title doesnt get chaged in pagetree.

Binding pagetree::title and inspector::title seems to be broken after first change."
55841,Base Distribution,Task,"",New,Should have,New Page does not change publication state buttons,Carsten Bleicker,Steffen Frosch,2014-10-04 10:31,"","",2014-02-10,"","",0.00,0,2014-02-10 08:05,"","",1536500,"","Reproduce like this:

1. Create new page

Expected: Publishing button receives no Orange State and no infos about new things to be published.

Publishing state is correct if you reload the whole neos backend."
55843,Base Distribution,Task,"",Rejected,Should have,DefaultValue for NodeType-Property of type of boolean has no effect,Carsten Bleicker,"",2014-06-25 12:59,"","",2014-02-10,"","",0.00,0,2014-02-10 08:12,"","",1536600,"","'Foo:Bar':
  superTypes: ['TYPO3.Neos.NodeTypes:Page']
  properties:
    _hiddenInIndex:
      defaultValue: TRUE



defaultValue: TRUE has no effect on Checkbox of Inspector-Panel.

I would expect it is checked."
55920,Base Distribution,Story,Epic #55813: Access Control Lists,Closed,Should have,TYPO3CR ACL,Rens Admiraal,"",2014-03-24 12:55,"","",2014-02-12,"","",0.00,0,2014-02-12 06:10,"","",2958700,"","It's currently not possible to restrict access on the Neos node tree.

TYPO3 CMS
In TYPO3 CMS there are two ways to control access over pages and content:

With the so called ""DB Mounts"" it's possible to grant users/groups general access to a page (and all its subpages):

!ACL_DB_Mounts.png!

Furthermore it's possible to fine-tune permissions via the ""Access module"":

!ACL_Page_Permissions.png!

+ Great control over permission levels
+ Nice AJAX interface
- Hard to get it right from the beginning (mostly due to the ""distance"" between DB Mounts and ACL settings)

(to be continued)
"
56534,Base Distribution,Task,"",Resolved,Should have,ResourceCache stores schemas even if the content is not valid json,Rens Admiraal,"",2014-03-07 05:36,"","",2014-03-04,"","",0.00,100,2014-03-04 08:46,"","",1570850,"","When a schema is fetched from the server the json is stored in the ResourceCache. Currently there's no check whatsoever if the return value is valid json yes or no.

As in some cases it happens the server returns HTML (for example if the session is expired) the ResourceCache stores invalid values, which are stored in the browser and can not easily be cleared by the user. "
57698,Base Distribution,Task,"",New,Must have,Adding two Plugins on Page not possible because one affects the other.,Carsten Bleicker,"",2014-04-07 03:40,"","",2014-04-06,"","",0.00,0,2014-04-06 16:26,"","",1628750,"","Having two different controllers. Both having two actions.
- FooController->indexAction()
- BarController->indexAction()
- FooController->showAction()
- BarController->showAction()

Those are published by ts prototype wich are siblings of TYPO3.Neos:Plugin.
IndexAction having in their templates links to call the showAction().
Click on Link of FooController should only switch the Foo Plugin to showAction.
But both Foo- AND BarController switching to showAction.

Example code: https://gist.github.com/pumatertion/c8223b815b7b2b02132c

The generated URI of FooController Link looks like this:
dev.neos.local/example.html?--typo3_neos_nodetypes-page[%40package]=acme.foo&--typo3_neos_nodetypes-page[%40controller]=foo&--typo3_neos_nodetypes-page[%40action]=show

The generated URI of BarController Link looks like this:
dev.neos.local/example.html?--typo3_neos_nodetypes-page[%40package]=acme.foo&--typo3_neos_nodetypes-page[%40controller]=bar&--typo3_neos_nodetypes-page[%40action]=show

"
57822,Base Distribution,Task,"",Resolved,Should have,Enabled content cache and uncached prototype throwing exception,Carsten Bleicker,"",2014-04-11 06:45,"",1.1,2014-04-11,"","",0.00,0,2014-04-11 05:50,"","",1634950,"","prototype(PIPEU.Site:SimpleBasket) < prototype(TYPO3.TypoScript:Template)
prototype(PIPEU.Site:SimpleBasket) {
	templatePath = 'resource://PIPEU.Site/Private/Templates/TypoScriptObjects/SimpleBasket.html'
	partialRootPath = 'resource://PIPEU.Site/Private/Partials'
	basketNode = ${q(site).find('basket').get(0)}

	@cache {
		mode = 'uncached'
		context {
			1 = 'documentNode'
		}
	}
}


its used like this:
page{
  parts{
    simpleBasket = PIPEU.Site:SimpleBasket
  }
}


Exception:
Uncaught exception #1332491864 in line 195 of /Users/pumatertion/Sites/neos.pipeu/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Eel_FlowQuery_FlowQuery.php: No operation which satisfies the runtime constraints found for ""find""."
58186,Base Distribution,Task,"",Needs Feedback,Must have,Neos with HTTPS not possible,Peter Schuhmann,Peter Schuhmann,2014-04-25 05:53,"",1.1,2014-04-25,"","",0.00,0,2014-04-25 05:50,"","",1653100,"","All template resources (css, js...) are included with baseurl including ""http://"" which will result in an ""insecure content"" error.

Fix could be to include all resources without baseurl and/or without ""http:"" "
58188,Base Distribution,Task,"",New,Must have,"Error ""Server communication error: Internal Server Error"" when changing URL",Peter Schuhmann,"",2014-04-25 06:00,"",1.1,2014-04-25,"","",0.00,0,2014-04-25 06:00,"","",1653200,"","1) change URL
2) Apply changes
2) publish it 
-> Error

Log:
Uncaught exception #1 in line 240 of /neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Service_PublishingService.php: Catchable Fatal Error: Argument 1 passed to TYPO3\Neos\Service\PublishingService::publishNode() must implement interface TYPO3\TYPO3CR\Domain\Model\NodeInterface, null given, called in /neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_TYPO3CR_Service_PublishingService.php on line 118 and defined in /neos/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_Neos_Service_PublishingService.php line 240"
58195,Base Distribution,Task,"",New,Should have,header tag inlineeditable but not aloha settings,Carsten Bleicker,"",2014-04-25 14:06,"","",2014-04-25,"","",0.00,0,2014-04-25 14:06,"","",1653550,"","{neos:contentElement.editable(property: 'title', tag:'header')}

i can edit the title, but having no formatting options :("
59131,Base Distribution,Task,"",Rejected,Must have,Wrong routes in Neos 1.1.0-Beta3,Christian Albrecht,"",2014-06-03 15:30,Setup,1.1,2014-05-27,"","",0.00,0,2014-05-27 03:26,"","",1700000,"","Hi i found a bug in neos 1.1.0-Beta3
In Configuration/Routes.yaml is the default route for the Welcome Package of Flow.
Here should be the default route of Neos

MfG"
59772,Base Distribution,Task,"",Closed,Should have,"Improve UI of ""Insert link"" feature",Leon de Rijke,"",2014-07-07 17:31,"","",2014-06-21,"","",0.00,0,2014-06-21 12:51,"","",1731950,"","After selecting text it is possible to add a link via the ""Insert link"" icon. Clicking the icon opens a text input prefilled with ""http://"". Currently it is unclear that it is possible to search for nodes by typing.

Maybe the placeholder text should be changed to make this clear."
47882,TYPO3.Party,Bug,"",Resolved,Should have,MsnValidator throws exception when being used,Mattias Nilsson,Mattias Nilsson,2013-10-01 13:35,"","",2013-05-03,"","",100,2013-05-03 09:45,"","",1144300,"",Git master,"MsnValidator throws exception when being used, due to missing delimiter in preg_match."
47881,TYPO3.Party,Bug,"",Resolved,Should have,IcqValidator throws exception when being used,Mattias Nilsson,Mattias Nilsson,2013-06-21 09:36,"","",2013-05-03,"","",100,2013-05-03 09:43,"","",1144250,"",Git master,"IcqValidator throws exception when being used, due to missing delimiter in preg_mtach."
45459,TYPO3.Party,Bug,"",Resolved,Must have,Removing primary electronic address fails in persistence,Aske Ertmann,"",2015-03-16 12:33,"","",2013-02-13,"","",100,2013-02-13 10:09,"","",1024900,"",Git 1.1,"When removing an electronic address which is also the primary electronic address of a Person an exception is thrown in the persistence layer due to a property being unset and not set to NULL when validating the object before persisting.

http://i.imgur.com/ufA5WZP.png"
45276,TYPO3.Party,Task,"",Resolved,Should have,"Remove Gizmo as electronic address due to discontinued as of April 3, 2011.",Mattias Nilsson,Mattias Nilsson,2013-03-19 11:37,"","",2013-02-08,"","",100,2013-02-08 08:25,"","",1015900,"","","Remove Gizmo as electronic address due to discontinued as of April 3, 2011.

Quote from: http://en.wikipedia.org/wiki/Gizmo5
""Google announced that the service would be discontinued as of April 3, 2011""
"
45275,TYPO3.Party,Bug,"",Closed,Should have,"Remove Gizmo as electronic address due to discontinued as of April 3, 2011",Mattias Nilsson,Mattias Nilsson,2013-02-08 08:24,"","",2013-02-08,"","",0,2013-02-08 08:22,"","",1015850,"",Flow 2.0.0 beta 1,"Remove Gizmo as electronic address due to discontinued as of April 3, 2011.

Quote from: http://en.wikipedia.org/wiki/Gizmo5
""Google announced that the service would be discontinued as of April 3, 2011"""
44196,TYPO3.Party,Bug,"",Resolved,Should have,Missing the possibility to get a list of all available electronic types and usage types.,Mattias Nilsson,Mattias Nilsson,2013-03-26 09:37,"","",2012-12-22,"","",100,2012-12-22 03:47,"","",963450,"",Flow 2.0.0 beta 1,"When trying to get all the electronic types and usage types, there is no method to get them as a list.

My suggestion is to add two methods for getting the necessary data:

public function getAllElectronicAddressTypes() {}

public function getAllUsageTypes() {}

both should be added to class ElectronicAddress {}"
41482,TYPO3.Party,Bug,"",Resolved,Should have,Down migration for MySQL broken in Version20120429213446,Karsten Dambekalns,Karsten Dambekalns,2015-03-16 12:33,Migrations,"",2012-09-30,"","",100,2012-09-30 16:09,"","",831350,"",FLOW3 1.1.0,""
39150,TYPO3.Party,Bug,"",Closed,Must have,Missing validators for all type values of ElectronicAddress,Steffen Wickham,"",2013-05-03 09:42,Validation,"",2012-07-20,"","",100,2012-07-20 18:35,"","",719350,"",FLOW3 1.1.0 rc 2,"The ElectronicAddress model of TYPO3.Party tries to validate all kind of address values during execution.
Due to missing validators, there will be an error message (no exception!) on a blank white page.

There are missing validators for electronic addresses as follows:
- Skype
- Aim
- Gizmo
- Icq
- Jabber (could be derived from EmailAddressValidator)
- Msn
- Sip
- Url
and
- Yahoo


Using user defined validators in non framework packages would be ignored due to model validation restriction. For type attribute there are only alphanummeric value allowed so specifying vendor names and packeges (Vendor\Package:Validator, i.e. MyCompany\MyPackage:Skype) wouldn't be possible.

But even when alphanumeric validator is removed from model, there will be an other error showing up: Object expected, string given. 
As far as I know, it's thrown by \TYPO3\FLOW3\Validation\Validator\GenericObjectValidator->validate()."
37628,TYPO3.Party,Bug,"",Resolved,Should have,Duplicate entries exception for electronicAddresses by adding through setPrimaryElectronicAddress,Carsten Bleicker,Christian Müller,2012-06-28 04:49,"","",2012-05-31,"","",0,2012-05-31 04:32,"","",644150,"",Git 1.1,"Having a form wich sets the primaryElectronicAddress.
1. Submitting with invalid email address forces a validation error, okay
2. Submitting again with valid email the result in the address collection is:
http://pastebin.com/DE0zyDek

this collection forces an exception for duplicate entries.
maybe this ""contain"" check is the point to take a look at?:
https://review.typo3.org/#/c/11078/1/Classes/Domain/Model/Person.php "
37446,TYPO3.Party,Feature,"",Rejected,Could have,cascade persist on party to store accounts,Adrian Föder,Adrian Föder,2012-05-25 07:18,"","",2012-05-23,"","",0,2012-05-23 12:28,"","",635050,"","","currently,

<pre><code class=""php"">
abstract class AbstractParty {

	/**
	 * @var \Doctrine\Common\Collections\Collection<\TYPO3\FLOW3\Security\Account>
	 * @ORM\OneToMany(mappedBy=""party"")
	 */
	protected $accounts;
</code></pre>

In very common use cases where a Party is created during a registration process, both the Party and the Account has to be persisted manually using the (injected) repository each.

I suggest to add a cascade=persist to that property, like
<pre><code class=""php"">
abstract class AbstractParty {

	/**
	 * @var \Doctrine\Common\Collections\Collection<\TYPO3\FLOW3\Security\Account>
	 * @ORM\OneToMany(mappedBy=""party"", cascade=""persist"")
	 */
	protected $accounts;
</code></pre>

This would make the following steps be sufficient for a person/party creation:
<pre><code class=""php"">
$person = new \TYPO3\Party\Domain\Model\Person();
$person->setPersonName(new \TYPO3\Party\Domain\Model\PersonName('', $firstName, '', $lastName));

$account = $this->accountFactory->createAccountWithPassword($email, $password);
$person->addAccount($account);

$this->partyRepository->add($person);
</code></pre>

...do you agree?"
37266,TYPO3.Party,Bug,"",Resolved,Must have,Duplicate email address throws exception,Bastian Waidelich,"",2015-03-16 12:33,"","",2012-05-17,"","",100,2012-05-17 15:58,"","",626100,"",Git master,"Since #29547 is resolved trying to store an email address that already exists throws an exception:
<pre>SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'xyz' for key 'flow3_identity_typo3_party_domain_model_electronicaddress'</pre>

The problem is, that it is not possible to find out whether an email exists already except for iterating over all party records.

One solution would be to remove the @@FLOW3\Identity@ annotation from @\ TYPO3\Party\Domain\Model\ ElectronicAddress::identifier@ or to enable property paths ('primaryElectronicAddress.identifier') in QOM somehow."
33600,TYPO3.Party,Bug,"",Resolved,Must have,PartyRepository does not have Scope annotation to make it singleton,Karsten Dambekalns,Karsten Dambekalns,2015-03-16 12:33,"","",2012-02-01,"","",100,2012-02-01 11:55,"","",446500,"",FLOW3 1.0.2,.
32813,TYPO3.Party,Bug,"",Closed,Should have,Fatal error in Persistance Manager ,Jonny ,Karsten Dambekalns,2015-03-16 12:33,"","",2011-12-22,"","",0,2011-12-22 12:02,"","",407900,"",FLOW3 1.0.2,"My Model has an OneToOne relation to a party Person Model of the Party Package.

<pre>
/**
* The Person of this profile
*
* @var \TYPO3\Party\Domain\Model\Person
* @ORM\OneToOne(cascade={""all""})
*/
protected $person;
</pre>

On altering the electronicAddress by setting the approved to TRUE, the persistance manager throws a Fatal Error:
<pre>
PHP Fatal error:  Call to a member function getClassName() on a non-object in [...]PersistenceManager_Original.php on line 106 
-> 
$validator = $this->validatorResolver->getBaseValidatorConjunction($classSchema->getClassName());
</pre>

I fixed this quick and dirty by inserting this line :
<pre>
if ($classSchema === NULL) return;		
</pre>
before the getClassName on $classSchema.

btw: im working with version 1.0.2 (couldn't find it in the dropdown list)"
29510,TYPO3.Party,Task,"",On Hold,Should have,"Extend Party-Network with classes for 'Organization', 'PostalAddress', 'PhoneNumber'",Regine Rosewich,"",2014-04-24 03:44,"","",2011-09-06,"","",0,2011-09-06 06:06,"","",246350,"","","Extend Party-Network with classes for 'Organization', 'PostalAddress', 'PhoneNumber' in Ordner to be able to fully qualifiy a Person and/or an Organization according to OASIS/ebXML Registry Information Model v2.0."
29484,TYPO3.Party,Bug,"",Resolved,Must have,Adding a primaryElectronicAddress to a person throws an duplicate key error,Regine Rosewich,Christian Müller,2012-05-08 20:39,"","",2011-09-05,"","",100,2011-09-05 06:01,"","",245100,"",FLOW3 1.0.0,"When I add a electronicAddress to a person by setting the electronicAddress as primaryElectronic Address (setPrimaryElectronicAddress()), everything works fine if this is done for the first time.

If I then change the PrimaryElectronicAddress to another ElectronicAddress I get a changed PrimaryElectronicAddress 
and a second ElectronicAddress added to the already existing ElectronicAddresses.

So far everything is o.k.

If i then try to change the PrimaryElectronicAddress back to the one I initially had set as PrimaryElectronicAddress by selecting that ElectronicAddress from a list of ElectronicAddresses an Error 'duplicate Key in Table  typo3_domain_model_party_electronicaddresses_join' is thrown.

If I change the method ""setPrimaryElectronicAddress"" as follows everything works fine.

<pre>
	/**
	 * Sets (and adds if necessary) the primary electronic address of this person.
	 *
	 * @param \TYPO3\Party\Domain\Model\ElectronicAddress $electronicAddress The electronic address
	 * @return void
	 * @author Robert Lemke <robert@typo3.org>
	 */
	public function setPrimaryElectronicAddress(\TYPO3\Party\Domain\Model\ElectronicAddress $electronicAddress) {
		$this->electronicAddresses->removeElement($this->getPrimaryElectronicAddress());
		$this->primaryElectronicAddress = $electronicAddress;
		$this->electronicAddresses->add($electronicAddress);
	}

</pre>"
26764,TYPO3.Party,Bug,"",Resolved,Must have,ElectronicAddressValidator does not work,Heiko Kromm,Karsten Dambekalns,2015-03-16 12:33,"","",2011-05-11,"","",100,2011-05-11 11:13,"","",115100,"","","I think the ElectronicAddressValidator does not work with FLOW3 beta1.
It expects the $addressValidator to return a value, but for example the EmailAddressValidator has no return value.
Also it tries to call the undefined method getErrors on the addressValidator."
11962,TYPO3.Party,Task,"",Closed,Should have,"Check ""usability"" of Party framework",Sebastian Kurfuerst,"",2014-04-24 03:27,"","","","","",0,2011-01-06 08:20,"","",70800,"","","We need to check the Party framework (again) against the Plat_Forms task, as with that we had quite some issues beginning of this year."
8638,TYPO3.Party,Bug,"",Closed,Must have,ElectronicAddressValidator must not consider NULL as valid,Karsten Dambekalns,Karsten Dambekalns,2015-03-16 12:33,"","","","","",0,2010-07-03 16:10,"","",2782050,"","",In r4708 a change was done that skews the result of isValid(). The real solution would be to ignore the validator if a property of the type is not required.
7287,TYPO3.Party,Feature,"",Closed,Must have,ElectronicAddress should be a value object,Adrian Grigore,"",2012-03-12 12:55,"","",2010-04-15,"","",0,2010-04-15 16:44,"","",2782100,"","",Shouldn't \F3\Party\Domain\Model\ElectronicAddress be a Value Object?
59091,TYPO3.Setup,Bug,"",New,Must have,provide functionality if RewriteBase is used.,Rafael Kähm,Aske Ertmann,2014-05-25 04:11,"","",2014-05-25,"","",0,2014-05-25 04:11,"","",1698000,"",If using RewriteBase on Apache or location on NginX TYPO3.Setup does not work.
57078,TYPO3.Setup,Feature,"",Closed,Must have,Check if database collation is utf8_unicode_ci,Simon Schaufelberger,Steffen Frosch,2014-10-04 10:27,"","",2014-03-19,"","",0,2014-03-19 09:52,"","",1597950,"","Databases MUST have utf8_unicode_ci collation, otherwise you will have a lot of trouble with foreign keys. Set collation to utf8_unicode_ci when neos needs to create a new database via the web installer."
55363,TYPO3.Setup,Bug,"",New,Should have,Error in RequestHandler.php,Patric Rudolph,"",2014-05-24 15:54,"",1.1,2014-01-27,"","",0,2014-01-27 09:35,"","",1513450,"","We have multiple php-versions on one server running as fastcgi. So the method detectPhpBinaryPathAndFilename does not detect the php-binary correct.
I made a patch to solve this problem."
54617,TYPO3.Setup,Bug,"",New,Could have,Problem with phpBinaryPathAndFilename,Marcin S?gol,"",2013-12-27 16:41,"",1.x,2013-12-27,"","",0,2013-12-27 16:41,"","",1477250,"","Hi,

i had beta version installed and upgrade to 1.x failed so i decided to do fresh setup. Using composer all files were fetched and i decided to copy Settings.yaml file from previous installation (DB was emptied but the credentials stayed the same). 

The problems begin when i wanted to run installer. Environment check always returned that my phpBinaryPathAndFilename is invalid in Settings.yaml. I tried various combination for php (cgi, fast-cgi, fpm) but nothing helped. 

During small conversation on #typo3-neos radmiraal suggested to comment out line 133 in file Packages/Application/TYPO3.Setup/Classes/TYPO3/Setup/Core/RequestHandler.php but this also didn't help. Finally i have changed phpBinaryPathAndFilename to /usr/bin/php5 and inside Packages/Application/TYPO3.Setup/Classes/TYPO3/Setup/Core/RequestHandler.php set function checkAndSetPhpBinaryIfNeeded() to just return TRUE without any checks. This way i was able to finish setup proccess without any problems.

I'm not sure where the problem was exactly and hope for some checks in this area.
"
54420,TYPO3.Setup,Bug,"",Closed,Must have,white font on dropdown options,Simon Schaufelberger,"",2014-11-02 12:29,"","",2013-12-14,"","",0,2013-12-14 15:03,"","",1467550,"","in the setup (/setup/index?step=0) while selecting the database, the options in the dropdown have white font which is unreadable because the options themselves have white background.

browser: google chrome"
54321,TYPO3.Setup,Bug,"",New,Should have,Imagine\Exception\InvalidArgumentException thrown in file Imagine.php,Jigal van Hemert,"",2013-12-11 03:14,"","",2013-12-11,"","",0,2013-12-11 03:14,"","",1462600,"","Installation of Neos 1.0 on Windows Vista (XAMPP for Windows 1.8.2; Apache/2.4.7 (Win32) OpenSSL/0.9.8y PHP/5.4.22 MySQL 5.5.34; PDO, GD, etc. loaded. GraphicsMagick and ImageMagick 6 both available on the system) worked until the step of importing the demo site. This step ends with an exception:

File resource://346826c35278804cbdef2c8804d3e37067c6cd80 doesn't exist
53 Imagine\Gd\Imagine::open(""resource://346826c35278804cbdef2c8804d3e37067c6cd80"")

52 TYPO3\Media\Domain\Service\ImageService_Original::transformImage(TYPO3\Media\Domain\Model\Image, array|2|)

51 call_user_func_array(array|2|, array|2|)

50 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::__call(""transformImage"", array|2|)

49 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::transformImage(TYPO3\Media\Domain\Model\Image, array|2|)

48 TYPO3\Media\Domain\Model\ImageVariant_Original::initializeObject(2)

47 TYPO3\Media\Domain\Model\ImageVariant_Original::__wakeup()

46 TYPO3\Media\Domain\Model\ImageVariant::__wakeup()

45 unserialize(""a:4:{s:4:&quot;text&quot;;s:132:&quot;?										&lt;p&gt;This is a tex?;i:199;s:6:&quot;height&quot;;i:71;}}}}}s:5:&quot;title&quot;;s:0:&quot;&quot;;}"")

44 Doctrine\DBAL\Types\ArrayType::convertToPHPValue(""a:4:{s:4:&quot;text&quot;;s:132:&quot;?										&lt;p&gt;This is a tex?;i:199;s:6:&quot;height&quot;;i:71;}}}}}s:5:&quot;title&quot;;s:0:&quot;&quot;;}"", Doctrine\DBAL\Platforms\MySqlPlatform)

43 TYPO3\Flow\Persistence\Doctrine\DataTypes\ObjectArray_Original::convertToPHPValue(""a:4:{s:4:&quot;text&quot;;s:132:&quot;?										&lt;p&gt;This is a tex?;i:199;s:6:&quot;height&quot;;i:71;}}}}}s:5:&quot;title&quot;;s:0:&quot;&quot;;}"", Doctrine\DBAL\Platforms\MySqlPlatform)

42 Doctrine\ORM\Internal\Hydration\AbstractHydrator::gatherRowData(array|17|, array|17|, array|1|, array|1|)

41 Doctrine\ORM\Internal\Hydration\ObjectHydrator::hydrateRowData(array|17|, array|17|, array|13|)

40 Doctrine\ORM\Internal\Hydration\ObjectHydrator::hydrateAllData()

39 Doctrine\ORM\Internal\Hydration\AbstractHydrator::hydrateAll(Doctrine\DBAL\Driver\PDOStatement, Doctrine\ORM\Query\ResultSetMapping, array|0|)

38 Doctrine\ORM\AbstractQuery::execute(NULL, 1)

37 Doctrine\ORM\AbstractQuery::getResult()

36 TYPO3\Flow\Persistence\Doctrine\Query_Original::getResult()

35 TYPO3\Flow\Persistence\Doctrine\QueryResult_Original::initialize()

34 TYPO3\Flow\Persistence\Doctrine\QueryResult_Original::rewind()

33 TYPO3\Flow\Persistence\Repository::removeAll()

32 call_user_func_array(array|2|, array|0|)

31 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::__call(""removeAll"", array|0|)

30 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::removeAll()

29 TYPO3\Neos\Setup\Step\SiteImportStep_Original::importSite(TYPO3\Form\Core\Model\FinisherContext)

28 TYPO3\Neos\Setup\Step\SiteImportStep_Original::TYPO3\Neos\Setup\Step\{closure}(TYPO3\Form\Core\Model\FinisherContext)

27 TYPO3\Form\Finishers\ClosureFinisher_Original::executeInternal()

26 TYPO3\Form\Core\Model\AbstractFinisher::execute(TYPO3\Form\Core\Model\FinisherContext)

25 TYPO3\Form\Core\Runtime\FormRuntime_Original::invokeFinishers()

24 TYPO3\Form\Core\Runtime\FormRuntime_Original::render()

23 TYPO3\Setup\Controller\SetupController_Original::indexAction(2)

22 TYPO3\Setup\Controller\SetupController::indexAction(2)

21 call_user_func_array(array|2|, array|1|)

20 TYPO3\Setup\Controller\SetupController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

15 TYPO3\Setup\Controller\SetupController::indexAction(2)

14 call_user_func_array(array|2|, array|1|)

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()

Used Git Bash (from Git for Windows) to execute the command line actions specified on http://neos.typo3.org/download.html"
53329,TYPO3.Setup,Feature,"",New,Must have,Check environment,Philipp Wrann,"",2013-11-05 02:57,"","",2013-11-05,"","",0,2013-11-05 02:57,"","",1413750,"","If some dependencies are missing the installation throws an error. Then you have to reset your database and start over again. So do a better checking for dependencies, in my case gd was not available on the system."
53328,TYPO3.Setup,Bug,"",New,-- undefined --,TYPO3\Flow\Security\Exception\NoSuchRoleException thrown in file TYPO3_Flow_Security_Policy_PolicyService.php,Philipp Wrann,"",2013-11-05 02:55,"","",2013-11-05,"","",0,2013-11-05 02:55,"","",1413700,"","Just happened in new installation when importing the demo package.

environment:
ubuntu 12.04 LTS LAMP, so pretty standard

The role with identifier ""TYPO3.Neos:Administrator"" is unknown
39 TYPO3\Flow\Security\Policy\PolicyService_Original::getRole(""TYPO3.Neos:Administrator"")

38 TYPO3\Flow\Security\AccountFactory_Original::createAccountWithPassword(""philipp"", ""justatest"", array|1|, ""Typo3BackendProvider"")

37 call_user_func_array(array|2|, array|4|)

36 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::__call(""createAccountWithPassword"", array|4|)

35 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::createAccountWithPassword(""philipp"", ""justatest"", array|1|, ""Typo3BackendProvider"")

34 TYPO3\Neos\Domain\Factory\UserFactory_Original::create(""philipp"", ""justatest"", ""Philipp"", ""Wrann"", array|1|)

33 call_user_func_array(array|2|, array|5|)

32 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::__call(""create"", array|5|)

31 TYPO3\Flow\Object\DependencyInjection\DependencyProxy::create(""philipp"", ""justatest"", ""Philipp"", ""Wrann"", array|1|)

30 TYPO3\Neos\Setup\Step\AdministratorStep_Original::postProcessFormValues(array|7|)

29 TYPO3\Setup\Controller\SetupController_Original::postProcessStep(array|7|, TYPO3\Neos\Setup\Step\AdministratorStep)

28 TYPO3\Setup\Controller\{closure}(TYPO3\Form\Core\Model\FinisherContext)

27 TYPO3\Form\Finishers\ClosureFinisher_Original::executeInternal()

26 TYPO3\Form\Core\Model\AbstractFinisher::execute(TYPO3\Form\Core\Model\FinisherContext)

25 TYPO3\Form\Core\Runtime\FormRuntime_Original::invokeFinishers()

24 TYPO3\Form\Core\Runtime\FormRuntime_Original::render()

23 TYPO3\Setup\Controller\SetupController_Original::indexAction(1)

22 TYPO3\Setup\Controller\SetupController::indexAction(1)

21 call_user_func_array(array|2|, array|1|)

20 TYPO3\Setup\Controller\SetupController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

15 TYPO3\Setup\Controller\SetupController::indexAction(1)

14 call_user_func_array(array|2|, array|1|)

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
52605,TYPO3.Setup,Bug,"",New,Should have,"""Setup password"" tries to authenticate with TYPO3 Flow Security Account",Soren Malling,"",2013-10-08 04:37,"","",2013-10-08,"","",0,2013-10-08 04:37,"","",1377750,"","Running latest composer release, trying to authenticate with the password written to  SetupPassword.txt I get the following error


#2003: SQLSTATE[HY000] [2003] Can't connect to MySQL server on '127.0.0.1' (111)

From the screenshot [1] you can see that it tries to connect to the database and authenticate with the security account table and not the filebasedprovider

https://www.evernote.com/shard/s58/sh/6af1576c-0ee2-468a-b66b-bdf9dcf598e5/d02f6102e04fe04a2c087ad308da6c7e"
49666,TYPO3.Setup,Bug,"",New,Could have,Routes not detected,Georg Großberger,"",2014-05-13 03:51,"",1.0 beta 1,2013-07-04,"","",0,2013-07-04 11:39,"","",1232800,"","The /setup redirects to /setup/index, the next screen fails with the message no database connection error message.

Adding this to ""Configuration/Routes.yaml"" helps

<pre>
-
  name: 'TYPO3NeosSetup'
  uriPattern: '<TYPO3NeosSetupSubroutes>'
  subRoutes:
    TYPO3NeosSetupSubroutes:
      package: TYPO3.Setup
</pre>

Did not do any tracking on why, but apparently the setup routes are not detected properly."
49664,TYPO3.Setup,Bug,"",Resolved,Must have,Setup detects wrong PHP binary when running via fpm,Georg Großberger,Robert Lemke,2013-12-12 21:54,"",1.0 beta 1,2013-07-04,"","",100,2013-07-04 11:32,"","",1232700,"","When the webserver pumps the request to a fcgi PHP set up via FPM, the PHP_BINARY constant contains "".../php-fpm"". This passes the ""version check"", but cannot run anything else, resulting in an error at the very first screen.

The solution is in Core\RequestHandler, in the checkPhpBinary function. Adding this, right after the ""file_exists"" check and before the ""exec"" command, helps

<pre>
if (substr($phpBinaryPathAndFilename, -4) === '-fpm' && php_sapi_name() === 'php-fcgi') {
	return $this->checkPhpBinary(substr($phpBinaryPathAndFilename, 0, -4));
}
</pre>

Will provide a patch soon"
48370,TYPO3.Setup,Bug,"",New,Should have,TYPO3.Setup does not trigger role synchronization,Sebastian Kurfuerst,"",2013-05-17 12:47,"",1.0 beta 1,2013-05-17,"","",0,2013-05-17 12:47,"","",1168350,"",""
46268,TYPO3.Setup,Bug,"",New,Must have,TYPO3\Flow\Error\Exception thrown in setup wizard,Simon Sattes,"",2013-04-10 15:34,"","",2013-03-14,"","",0,2013-03-14 07:30,"","",1064600,"","I downloaded and installed Typo3 Flow Base (git://git.typo3.org/TYPO3v5/Distributions/Base.git), set the rights and ran '/setup'. After the admin user creation step I get the following error message when I proceed:

<pre>
Warning: class_implements() [<a href='function.class-implements'>function.class-implements</a>]: Class string does not exist and could not be loaded in /srv/htdocs/team/simon/sandbox/typo3-neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Utility/TypeHandling.php line 128
29 TYPO3\Flow\Error\ErrorHandler::handleError(2, ""class_implements() [&lt;a href='function.class-implem?lass string does not exist and could not be loaded"", ""/srv/htdocs/team/simon/sandbox/typo3-neos/Packages?3.Flow/Classes/TYPO3/Flow/Utility/TypeHandling.php"", 128, array|2|)

28 class_implements(""string"")

27 TYPO3\Flow\Utility\TypeHandling::isCollectionType(""string"")

26 TYPO3\Flow\Validation\ValidatorResolver_Original::buildBaseValidatorConjunction(""TYPO3\Party\Domain\Model\PersonName##Persistence##Default"", ""TYPO3\Party\Domain\Model\PersonName"", array|2|)

25 TYPO3\Flow\Validation\ValidatorResolver_Original::getBaseValidatorConjunction(""TYPO3\Party\Domain\Model\PersonName"", array|2|)

24 TYPO3\Flow\Validation\ValidatorResolver_Original::buildBaseValidatorConjunction(""TYPO3\Neos\Domain\Model\User##Persistence##Default"", ""TYPO3\Neos\Domain\Model\User"", array|2|)

23 TYPO3\Flow\Validation\ValidatorResolver_Original::getBaseValidatorConjunction(""TYPO3\Neos\Domain\Model\User"", array|2|)

22 TYPO3\Flow\Persistence\Doctrine\PersistenceManager_Original::validateObject(TYPO3\Neos\Domain\Model\User, SplObjectStorage)

21 TYPO3\Flow\Persistence\Doctrine\PersistenceManager_Original::onFlush(Doctrine\ORM\Event\OnFlushEventArgs)

20 Doctrine\Common\EventManager::dispatchEvent(""onFlush"", Doctrine\ORM\Event\OnFlushEventArgs)

19 Doctrine\ORM\UnitOfWork::commit(NULL)

18 Doctrine\ORM\EntityManager::flush()

17 TYPO3\Flow\Persistence\Doctrine\PersistenceManager_Original::persistAll(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response, TYPO3\Setup\Controller\SetupController, ""TYPO3\Flow\Mvc\Dispatcher::afterControllerInvocation"")

16 call_user_func_array(array|2|, array|4|)

15 TYPO3\Flow\SignalSlot\Dispatcher::dispatch(""TYPO3\Flow\Mvc\Dispatcher"", ""afterControllerInvocation"", array|3|)

14 TYPO3\Flow\SignalSlot\SignalAspect_Original::forwardSignalToDispatcher(TYPO3\Flow\Aop\JoinPoint)

13 TYPO3\Flow\Aop\Advice\AbstractAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

12 TYPO3\Flow\Mvc\Dispatcher::emitAfterControllerInvocation(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response, TYPO3\Setup\Controller\SetupController)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()
</pre>
"
45036,TYPO3.Setup,Task,"",Closed,Should have,Better UX of last import/create-site step,Christian Jul Jensen,"",2014-11-02 12:31,"",1.0 beta 1,2013-01-31,"","",0,2013-01-31 11:06,"","",1004100,"",Going through the setup process I think the last step of creating/importing is very clear. I was confused whether I had to fill out both of it was 2 different  tasks. Should be clear that it either/or
43567,TYPO3.Setup,Bug,"",Closed,Should have,Installation on Windows won't work,Felix Muster,Karsten Dambekalns,2014-06-25 09:25,"","",2012-12-04,"","",0,2012-12-04 03:13,"","",932250,"","Installing TYPO3 Neos on Windows-Machine with XAMPP 1.7.7 (PHP 5.3.8, APACHE 2.2) I get the following error when I open http://localhost/TYPO3_Neos/Web/

<pre>
Uncaught Exception in FlowExecution of subprocess failed with exitcode ""1"" and output: 

TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Booting\Scripts.php in line 518.
Reference code: 201212040854478e241a

Go to the FORGE issue tracker and report the issue - if you think it is a bug!


11 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:core:compile"", array|15|)
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Booting\Scripts.php:

00208:    // code cache is completely empty:
00209:   if (!$bootstrap->getContext()->isProduction() || $objectConfigurationCache->has('allCompiledCodeUpToDate') === FALSE) {
00210:    self::executeCommand('typo3.flow:core:compile', $settings);
00211:    if (isset($settings['persistence']['doctrine']['enable']) && $settings['persistence']['doctrine']['enable'] === TRUE) {
00212:     self::compileDoctrineProxies($bootstrap);


10 TYPO3\Flow\Core\Booting\Scripts::initializeProxyClasses(TYPO3\Flow\Core\Bootstrap)

9 call_user_func(array|2|, TYPO3\Flow\Core\Bootstrap)
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Booting\Step.php:

00047:   */
00048:  public function __invoke(\TYPO3\Flow\Core\Bootstrap $bootstrap) {
00049:   call_user_func($this->callback, $bootstrap);
00050:  }
00051: 


8 TYPO3\Flow\Core\Booting\Step::__invoke(TYPO3\Flow\Core\Bootstrap)
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Booting\Sequence.php:

00099:   $bootstrap->getSignalSlotDispatcher()->dispatch(__CLASS__, 'beforeInvokeStep', array($step, $this->identifier));
00100:   $identifier = $step->getIdentifier();
00101:   $step($bootstrap);
00102:   $bootstrap->getSignalSlotDispatcher()->dispatch(__CLASS__, 'afterInvokeStep', array($step, $this->identifier));
00103:   if (isset($this->steps[$identifier])) {


7 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Booting\Sequence.php:

00103:   if (isset($this->steps[$identifier])) {
00104:    foreach ($this->steps[$identifier] as $followingStep) {
00105:     $this->invokeStep($followingStep, $bootstrap);
00106:    }
00107:   }


6 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Booting\Sequence.php:

00103:   if (isset($this->steps[$identifier])) {
00104:    foreach ($this->steps[$identifier] as $followingStep) {
00105:     $this->invokeStep($followingStep, $bootstrap);
00106:    }
00107:   }


5 TYPO3\Flow\Core\Booting\Sequence::invokeStep(TYPO3\Flow\Core\Booting\Step, TYPO3\Flow\Core\Bootstrap)
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Booting\Sequence.php:

00083:   if (isset($this->steps['start'])) {
00084:    foreach ($this->steps['start'] as $step) {
00085:     $this->invokeStep($step, $bootstrap);
00086:    }
00087:   }


4 TYPO3\Flow\Core\Booting\Sequence::invoke(TYPO3\Flow\Core\Bootstrap)
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Http\RequestHandler.php:

00155:  protected function boot() {
00156:   $sequence = $this->bootstrap->buildRuntimeSequence();
00157:   $sequence->invoke($this->bootstrap);
00158:  }
00159: 


3 TYPO3\Flow\Http\RequestHandler::boot()
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Http\RequestHandler.php:

00111:   $this->response = new Response();
00112: 
00113:   $this->boot();
00114:   $this->resolveDependencies();
00115:   $this->request->injectSettings($this->settings);


2 TYPO3\Flow\Http\RequestHandler::handleRequest()
C:\xampp\htdocs\TYPO3_Neos\Packages\Framework\TYPO3.Flow\Classes\TYPO3\Flow\Core\Bootstrap.php:

00110: 
00111:   $this->activeRequestHandler = $this->resolveRequestHandler();
00112:   $this->activeRequestHandler->handleRequest();
00113:  }
00114: 


1 TYPO3\Flow\Core\Bootstrap::run()
C:\xampp\htdocs\TYPO3_Neos\Web\index.php:

00025: $context = getenv('FLOW_CONTEXT') ?: (getenv('REDIRECT_FLOW_CONTEXT') ?: 'Development');
00026: $bootstrap = new \TYPO3\Flow\Core\Bootstrap($context);
00027: $bootstrap->run();
00028: 
00029: ?>
</pre>

I tried to fix this following this post:
http://t3n.de/news/typo3-neos-10-alpha1-erste-418679/#comment-88953

But don't work...

What's wrong?"
42730,TYPO3.Setup,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Must have,Importing Sitepackage or creating and creating admin is gone in the Setup,Markus Goldbeck,Karsten Dambekalns,2012-12-05 03:59,"","",2012-11-06,"","",100,2012-11-06 09:26,"","",890750,"","After the renaming changes

https://review.typo3.org/#/q/status:open+project:FLOW3/Packages/TYPO3.TYPO3,n,z

the step with importing or creating a site package and creating an admin user is gone"
42303,TYPO3.Setup,Task,Story #41853: As an integrator I want an optimized setup,Closed,Should have,Enhance site import/creation step,Karsten Dambekalns,Berit Hlubek,2012-11-06 16:48,"","",2012-10-23,"","",0,2012-10-23 07:34,"","",869900,"","The site import / creation step is a bit confusing. See screenshot.

It would be cool if the lower section would only become active if ""[New site|"" is selected in the selector. Of if the selector would become disabled as soon as something is entered in the form fields. That would make it clear what will happen (import? creation? both?) when clicking next."
42301,TYPO3.Setup,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,Fetching list of databases fails on PostgreSQL,Karsten Dambekalns,Karsten Dambekalns,2012-11-06 07:35,"","",2012-10-23,"","",100,2012-10-23 06:43,"","",869800,"",Setup tries to establish a connection without a database name to fetch the list of databases. This is not possible on PostgreSQL.
42202,TYPO3.Setup,Bug,"",Closed,Should have,Setup shows PHP warning if file permissions are not ok,Rens Admiraal,Karsten Dambekalns,2015-03-16 12:42,"","",2012-10-20,"","",0,2012-10-19 19:29,"","",864850,"","When the file permissions on for example the configuration folder are not correct a PHP warning is shown:
Warning: file_put_contents(/Users/rens/Documents/__Sites/flow3/neos/Configuration/PackageStates.php) [function.file-put-contents]: failed to open stream: Permission denied in/Users/rens/Documents/__Sites/flow3/neos/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php on line 740

This is shown on top of the friendly error message and should probably be hidden."
41810,TYPO3.Setup,Bug,"",Closed,Should have,Symlinks don't work if open_basedir and suhosin is used,Tim Eilers,Henjo Hoeksma,2014-10-02 04:55,"","",2012-10-09,"","",0,2012-10-09 16:12,"","",845950,"","I know, that doesn't belong in a bug report, but i first wanted to say Neos looks and feels AWESOME. Can't wait until it is finished, it will really rock!

Now to the bug: I tried Neos on my web server, which is secured in many ways, so i use open_basedir and suhosin. After enabling some PHP functions again and pointing to the correct PHP binary (all was told me by the setup dialog), i was able to install Neos, but all images and CSS were missing.

After watching my logs i found this:

<pre>
suhosin[14166]: ALERT - symlink called during open_basedir (attacker 'REMOTE_ADDR not set', file '/var/www/xxxxxxxx/Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Resource_Publishing_FileSystemPublishingTarget_Original.php', line 116)
</pre>

This can be solved by setting
<pre>
suhosin.executor.allow_symlink = On
</pre>
in php.ini, then Neos runs just fine after a fresh install.

May be it is not possible to run Neos / Flow without symlinks created by PHP, but at least *the setup should check that configuration option*.

In general: Is it planned to enable Neos on more secure systems in the future? I am not really happy with allowing exec,system and the suhosin symlink option."
40914,TYPO3.Setup,Bug,"",Resolved,Should have,Setup fails on deleting existing site,Robert Lemke,"",2012-10-23 09:36,"",Sprint 10 (1.0 TP1),2012-09-13,"","",100,2012-09-13 11:37,"","",804000,"","Steps to reproduce:

- run setup tool and import Demo site
- run setup tool again, check [x] delete existing sites

See screenshot for actual error message and backtrace."
40894,TYPO3.Setup,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,Setup doesn't validate / suceed to create databases with certain names,Robert Lemke,Karsten Dambekalns,2012-11-06 07:35,"","",2012-09-13,"","",100,2012-09-13 05:38,"","",803050,"","On trying to create a new database ""test-development"", the setup tool fails with the following message:

<pre>
Database ""test-development"" could not be created. Please check the permissions for user ""root"". PDO Exception: ""SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-development' at line 1""
</pre>

Also, using database names like ""@öaöæ«?|}{|?"" are not validated by the setup tool.
"
40598,TYPO3.Setup,Task,Story #40472: As a administrator I want to be warned if the selected database already contains data,Closed,Should have,Improve UX of setup process,Bastian Waidelich,Bastian Waidelich,2012-10-04 10:08,"",Sprint 10 (1.0 TP1),2012-09-04,"",0.00,100,2012-09-04 08:30,"","",788900,0.00,"* Link requirement error messages with wiki
* Custom exception messages for setup steps"
38857,TYPO3.Setup,Bug,"",Resolved,Should have,"""Box"" too small for content",Karsten Dambekalns,Bastian Waidelich,2012-07-11 03:04,"","",2012-07-10,"","",100,2012-07-10 09:20,"","",704950,"",.
38856,TYPO3.Setup,Bug,"",Resolved,Should have,Button placement not intuitive,Karsten Dambekalns,Bastian Waidelich,2012-07-11 03:04,"","",2012-07-10,"","",100,2012-07-10 09:19,"","",704900,"",I'd expect the back button to be bottom left and skip left of the next button (see screenshot).
53290,TYPO3.SiteKickstarter,Bug,"",Resolved,Should have,"When creating a new Site package, one can't add any content to the ""Home"" site",Thomas Hempel,"",2013-11-05 07:36,"",1.0 beta 1,2013-11-03,"","",100,2013-11-03 06:28,"","",1411800,"","","As written in the subject. When creating a new site during the setup Neos 1.0 alpha7, the page is created successfully but you can't add any content to the site. All buttons are grayed out.

There is a fix by creating an entirely new page. So, something seems to be broken.

You can see in the attached screenshots.


Greets,
Thomas"
52927,TYPO3.SiteKickstarter,Bug,"",New,Must have,New Site package should depend on neos not on flow,Torsten no-lastname-given,"",2013-10-17 13:05,"",1.0 alpha 7,2013-10-17,"",0.10,0,2013-10-17 12:56,"","",1393800,"","","Hey,
I run into some troubles trying to override a TYPO3.Form setting within my Site package Settings.yaml.
The load order of packages was wrong so that TYPO3.Form was loaded after my package and by that overriding my changes.

The cause of this problem was, that the new created site package depends on TPYO3.flow and not on TYPO3.Neos.

This bug is very easy to fix and a big pain to find."
42309,TYPO3.SiteKickstarter,Task,Story #41853: As an integrator I want an optimized setup,Resolved,Should have,Package keys without a dot break site generation,Karsten Dambekalns,Karsten Dambekalns,2012-10-31 04:35,"","",2012-10-23,"","",100,2012-10-23 09:39,"","",870200,"","","Since the composer integration a package key without a dot is technically valid. The kickstarter depends on a dot being present, though and generates invalid Sites.xml if the dot is not found."
40897,TYPO3.SiteKickstarter,Bug,"",Accepted,Should have,New website template is broken,Robert Lemke,"",2014-10-02 04:51,"","",2012-09-13,"","",0,2012-09-13 06:29,"","",803200,"",5.4,"When using the Setup tool to create a new website, the resulting template is a bit broken (see screenshot + html file)"
42940,TYPO3.SOAP,Bug,"",Resolved,Should have,Must be compatible with TYPO3 Flow 1.2,Dominique Feyer,"",2013-11-04 03:30,"","",2012-11-13,"","",100,2012-11-13 14:07,"","",901050,"",Support composer and PSR-1
42941,TYPO3.SOAP,Bug,"",New,Should have,Support for subpackage,Dominique Feyer,"",2012-11-13 14:25,"","",2012-11-13,"","",0,2012-11-13 14:25,"","",901100,"","Currently the package don't support subpackage

If somebody can help me implementing this feature, you are welcome"
35801,TYPO3.Surf,Bug,"",Resolved,Must have,Hardcoded Production context,Julian Kleinhans,Christopher Hlubek,2013-03-19 13:05,"","",2012-04-09,"","",100,2012-04-09 16:47,"","",554800,"",Use surf with other context is not possible bcause there are several hardcoded lines with the Production context. See attached screen
37074,TYPO3.Surf,Bug,"",Resolved,Must have,CopyConfigurationTask should respect a configured port,Thomas Allmer,"",2013-01-23 04:30,"","",2012-05-10,"","",100,2012-05-10 13:12,"","",616800,"","A different configured port for your ssh connection should also be respected by the CopyConfigurationTask.
<pre>
$node->setOption('port', '1234');
</pre>"
37077,TYPO3.Surf,Feature,"",Needs Feedback,Should have,Surf should also support local checkout and rsync to server,Thomas Allmer,Thomas Allmer,2013-08-01 10:50,"","",2012-05-10,"","",90,2012-05-10 14:23,"","",616900,"","For that to work the following steps should be done:
1) a possibility to checkout locally
2) a Rsync Task
3) move the ""copy from cache to release"" into a separate Task (CopyCacheToReleaseTask)

h1. Details:
h2. 1) checkout locally
I currently have an option ""$application->hasOption('localPath')"", if present it well checkout on localhost to this path instead of the remote host and deployPath. Opinions?
I would probably also want to change the path ""cache/localgitclone"" to "".localclone""? As the folder for the ""remote"" should be the same regarding of usage as git or rsync. Or more meaningfull name? sugguestions?

h2. 2) Rsync Task
pretty straight forward rsync from local folder "".localclone""? to remote folder "".localclone""

h2. 3) CopyCacheToReleaseTask
As we now need to copy from a ""cache or clone"" in two separate task it would be better to create a task for it.
Furthermore it would give the possibility to add Task after this one instead of the gitcheckout.

h2. Resume:
I currently have a working solution but I'm not sure about the naming and stuff so I ask here for opinions before creating a patch for gerrit. Furthermore I also have a completely separate Application ""FLOW3rsynch"" as it wasn't possible to use FLOW3 or BaseApplication. So I'm again not sure howto do this ""more"" properly... 

Looking forward to your input :)"
37201,TYPO3.Surf,Bug,"",New,Should have,setfilepermissions task should use sudo,Karsten Dambekalns,"",2012-05-15 15:01,"","",2012-05-15,"","",0,2012-05-15 15:01,"","",622850,"",.
37778,TYPO3.Surf,Feature,"",New,Should have,Surf should have a CopyCacheToReleaseTask instead of copying in the git checkout,Thomas Allmer,"",2012-06-05 19:26,"","",2012-06-06,"","",100,2012-06-05 19:02,"","",651550,"",If Surf wants to support multiple transfer methods there has to be a generic Task which copies the tranfered files to the release.
40225,TYPO3.Surf,Bug,"",New,Should have,encrypt:setup fails if Build/Surf/Keys/ does not exist,Andreas Wolf,"",2012-08-26 07:38,"","",2012-08-26,"","",0,2012-08-26 07:38,"","",772700,"",The directory should be created if it does not exist.
40287,TYPO3.Surf,Feature,"",New,Should have,SetFilePermissionsTask should care about the shared data directory,Marco Falkenberg,"",2013-07-05 05:50,"","",2012-08-28,"","",0,2012-08-28 04:46,"","",775800,"",The shared data directory usually created by the CreateDirectoriesTask should be writeable by the web server process.  
40292,TYPO3.Surf,Task,"",New,Should have,CopyConfigurationTask should not use scp when doing local copies,Marco Falkenberg,"",2012-09-25 14:59,"","",2012-08-28,"","",0,2012-08-28 05:33,"","",776050,"","When doing a local deployment (e.g. with a standalone ""updater"") the CopyConfigurationTask should use @cp@ instead of @scp@ to avoid errors when ssh'ing to local is not possible. "
41513,TYPO3.Surf,Feature,"",Resolved,Should have,Composer support,Rens Admiraal,"",2012-10-02 04:30,"","",2012-10-02,"","",100,2012-10-02 03:01,"","",832850,"","How to change Surf to work with Composer

we add a new task ""composer:install"", which will just run ""composer install"" in the workspace directory
this re-downloads the dependencies all the time currently, but we hope composer will solve that for us soon (see https://github.com/composer/composer/pull/915 )
check if --prefer-source improves this
The FLOW3 Application Surf wll be adjusted to run the composer:install task by default
The composer:install will check at first the following things:
if composer.json is not found, skip the step -> so it's backwards-compatible
if composer command not found (the task should use a option ""composerCommandPath"" for that), throw error
then run ""composer install --no-ansi --no-interaction""
"
41830,TYPO3.Surf,Bug,"",New,Should have,Workflow-simulation fails on new nodes during cleanup task,Martin Ficzel,"",2012-10-10 06:08,"","",2012-10-10,"","",0,2012-10-10 06:08,"","",846950,"","The simulation of a deployment fails if the /releases path on the target-node does'nt exist yet and keepReleases is not 0. Since that path would be created by surf during deploy that error should be avoided.

You can workaround that by setting keepReleases to zero during first simulate/deploy but that ist no permanent solution. Another solution is to simply ignore the fail during surf:simulate since surf:deploy works as expected."
41893,TYPO3.Surf,Bug,"",Needs Feedback,Must have,Could not retrieve sha1 of git branch master,Martin Lauer,Martin Lauer,2013-08-01 10:54,"","",2012-10-11,"","",0,2012-10-11 10:52,"","",849850,"","Got exception ""Could not retrieve sha1 of git branch ""master"""" but rollback disabled. Stopping.

The task typo3.surf:gitcheckout fails, but
<pre>
git ls-remote ssh://git@hostname/project refs/heads/master | awk '{print $1 }' 
</pre>
delivers a sha1.

Access to the Repo is done via ssh pubkey auth."
42055,TYPO3.Surf,Feature,"",Resolved,Should have,Support git submodules inside git submodules,Dennis Ahrens,"",2012-11-30 10:30,"","",2012-10-16,"","",100,2012-10-16 12:03,"","",857700,"","I've set up an distribution using the v6.0 core and included the core as a submodule. When deploying with Surf the submodules of the core were not initialized and updated.

It's possible to work around with the 'gitPostCheckoutCommands', but it would be nice if this will be supported by Surf directly."
43125,TYPO3.Surf,Bug,"",New,Should have,Adjust typo3.surf:typo3:flow:unittest Task to use build,Cedric Ziel,"",2012-11-19 19:12,"","",2012-11-20,"","",0,2012-11-19 19:11,"","",910300,"","For now, UnitTestTask looks like:
<pre>
$this->shell->executeOrSimulate('cd ' . $targetPath . ' && phpunit -c Build/Common/PhpUnit/UnitTests.xml', $node, $deployment);
</pre>

According to the changes in buildessentials, this should be:
<pre>
$this->shell->executeOrSimulate('cd ' . $targetPath . ' && phpunit -c Build/buildessentials/PhpUnit/UnitTests.xml', $node, $deployment);
</pre>

Right?"
43366,TYPO3.Surf,Bug,"",New,Should have,"Misleading error message if ""expect"" is not available",Mario Rimann,"",2013-07-09 02:07,"","",2012-11-28,"","",0,2012-11-27 18:09,"","",922300,"","I tried to deploy an application to a remote server and the process always failed with a bold red error message (the last line from the Shell output below) which is misleading.

Instead of the shown error message, I'd have expected something like ""Command line tool expect is not available on your system, please install it first.""

<pre>
./flow surf:deploy --verbose MyApp-staging
Deploying MyApp-staging (20121127235530)
Using workflow ""Simple workflow""
Stage initialize
Node my-crazy-host
Application MyApp
Executing stage ""initialize"" on ""my-crazy-host"" for application MyApp
my-crazy-host (MyApp) typo3.surf:createdirectories
$roosta: ""test -d /var/www/myapp.ch/staging""
    > sh: 1: expect: not found
Got exception ""Deployment directory ""/var/www/myapp.ch/staging"" does not exist on node my-crazy-host"" but rollback disabled. Stopping.
</pre>"
45072,TYPO3.Surf,Bug,"",Closed,-- undefined --,Possible error with git submodules,Sven Radetzky,"",2013-08-01 11:00,"","",2013-02-01,"","",0,2013-02-01 08:38,"","",1005850,"","The first thing i wanna say is that i am not 100 percent sure that this is a Surf Bug. But i get this rather interesting error while running Surf with my current project.

<pre>
Deploying demo.seite.de (20130201132902)
Using workflow ""Simple workflow""
Stage initialize
Node demo.seite
Application projekt
Executing stage ""initialize"" on ""demo.seite"" for application projekt
demo.seite (projekt) typo3.surf:createdirectories
$demo.seite: ""test -d www/demo.seite.de""
$demo.seite: ""mkdir -p www/demo.seite.de/releases;mkdir -p www/demo.seite.de/shared;mkdir -p www/demo.seite.de/releases/20130201132902;cd www/demo.seite.de/releases;ln -snf ./20130201132902 next""
Task ""typo3.surf:generic:createDirectories"" after ""typo3.surf:createdirectories"" for application projekt
demo.seite (projekt) typo3.surf:generic:createDirectories
demo.seite (projekt) typo3.surf:typo3:flow:createdirectories
$demo.seite: ""mkdir -p www/demo.seite.de/shared/Data/Logs;mkdir -p www/demo.seite.de/shared/Data/Persistent;mkdir -p www/demo.seite.de/shared/Configuration""
Stage update
Node demo.seite
Application projekt
Executing stage ""update"" on ""demo.seite"" for application projekt
demo.seite (projekt) typo3.surf:gitcheckout
$demo.seite: ""git ls-remote ssh://git@bitbucket.org/firma/projekt/ refs/heads/master | awk '{print $1 }'""
    > 4ff99ac790d3275bceb0c4b645b8038e49459b4c
$demo.seite: ""if [ -d www/demo.seite.de/cache/localgitclone ];     then      cd www/demo.seite.de/cache/localgitclone      && git fetch -q origin      && git reset -q --hard 4ff99ac790d3275bceb0c4b645b8038e49459b4c      && git submodule -q init      && for mod in `git submodule status | awk '{ print $2 }'`; do git config -f .git/config submodule.${mod}.url `git config -f .gitmodules --get submodule.${mod}.url` && echo synced $mod; done      && git submodule -q sync      && git submodule -q update --init --recursive      && git clean -q -d -x -ff;     else      git clone -q ssh://git@bitbucket.org/firma/projekt/ www/demo.seite.de/cache/localgitclone      && cd www/demo.seite.de/cache/localgitclone      && git checkout -q -b deploy 4ff99ac790d3275bceb0c4b645b8038e49459b4c      && git submodule -q init      && git submodule -q sync      && git submodule -q update --init --recursive;    fi""
    > No submodule mapping found in .gitmodules for path 'Packages/Application/TYPO3.Form'
No submodule mapping found in .gitmodules for path 'Packages/Application/TYPO3.Form'
Got exception ""Command returned non-zero return code: 1"" rolling back.
Rolling back TYPO3\Surf\Task\TYPO3\Flow\CreateDirectoriesTask
Rolling back TYPO3\Surf\Task\Generic\CreateDirectoriesTask
Rolling back TYPO3\Surf\Task\CreateDirectoriesTask
$demo.seite: ""rm www/demo.seite.de/releases/next;rm -rf www/demo.seite.de/releases/20130201132902""
</pre>

So either it's an error in TYPO3.Surf or in TYPO3.Form, really not sure which though."
46052,TYPO3.Surf,Bug,"",Resolved,Should have,Must support subcontext,Dominique Feyer,Dominique Feyer,2013-05-07 05:24,"","",2013-03-05,"","",100,2013-03-05 16:18,"","",1054000,"","If we use ""Production/Staging"" context per ex. we have a subdirectory in the configuration directory, and this directory break the SymlinkConfigurationTask because we use ""rm -f Production/*"", but should be ""rm -Rf Production/*""

Patch is coming"
47727,TYPO3.Surf,Bug,"",New,Must have,Array merge in Workflow works not as expected,Joachim Mathes,"",2013-07-05 05:48,"","",2013-04-30,"","",0,2013-04-30 05:44,"","",1136550,"","The method @setTaskOptions()@ uses @array_merge_recursive()@ to merge previously set options with current ones. The PHP documentation says: _If the input arrays have the same string keys, then the values for these keys are merged together into an array._ Thus, if you have more than one Application to deploy, options like @typo3.surf:gitcheckout@ will be set like this:

<pre>
array(3) {
  [""sha1""]=>
  array(2) {
    [0]=>
    NULL
    [1]=>
    NULL
  }
  [""tag""]=>
  array(2) {
    [0]=>
    NULL
    [1]=>
    NULL
  }
  [""branch""]=>
  array(2) {
    [0]=>
    NULL
    [1]=>
    NULL
  }
}
</pre>

This will lead to an error in the @gitcheckout@ task, eventually.

In my opinion @setTaskOptions()@ should use PHP function @array_replace_recursive()@.

"
48135,TYPO3.Surf,Bug,"",Resolved,Must have,funtion prepareCommand() in class ShellCommandService,Dietrich Heise,Dietrich Heise,2013-08-22 09:30,"","",2013-05-13,"","",100,2013-05-13 07:56,"","",1156800,"","If the command-array is imploded by a semicolon
only the return code of the last command is used for the exit code.

Example: a TYPO3.Surf TASK - execute function:

$commands = array(
  ""/bin/false"",
  ""ls -la""
);
$this->shell->executeOrSimulate($commands, $node, $deployment);

This example will have an exit code of zero!

For this example it is better to implode the commands by ""&&"", so if one command fail, no other command will be executed and the exit code ist right.


--- a/Classes/TYPO3/Surf/Domain/Service/ShellCommandService.php
+++ b/Classes/TYPO3/Surf/Domain/Service/ShellCommandService.php
@@ -188,7 +188,7 @@ class ShellCommandService {
                if (is_string($command)) {
                        return trim($command);
                } elseif (is_array($command)) {
-                       return implode(';', $command);
+                       return implode('&&', $command);
                } else {
                        throw new \TYPO3\Surf\Exception\TaskExecutionException('Command must be string or array, ' . gettype($command) . ' given.', 1312454
                }
"
48652,TYPO3.Surf,Bug,"",Resolved,Should have,Copying configuration fails for files in subdirectories,Andreas Wolf,"",2015-01-25 17:42,"","",2013-05-29,"","",100,2013-05-29 12:51,"","",1182400,"","When a file should be copied to a subdirectory of @Configuration/*/@, e.g. for a subcontext, the scp operation fails.

The (misleading) error message is @scp: /var/www/.../Configuration/Production/Subcontext/: Is a directory@ ? the real cause is that the directory does not exist and thus scp would rather copy the file to the folder path, which is pointless as the path points to a directory.

Solution would be to execute a @mkdir -p ...$configurationPath@ before copying the file."
49362,TYPO3.Surf,Feature,"",New,Should have,pipe stdout to another process in ShellCommandService,Felix Oertel,"",2013-06-23 12:26,"","",2013-06-23,"","",0,2013-06-23 11:59,"","",1217700,"","Hey,

I'd love to pipe the stdout of my process run via ShellCommandService to another process. In my case, I'd like to pipe the output of remote mysqldump into a file ... "
49388,TYPO3.Surf,Feature,"",New,Should have,Remove temporary data when archiving releases,Karsten Dambekalns,"",2013-06-24 10:54,"","",2013-06-24,"","",0,2013-06-24 10:54,"","",1219000,"",Old releases kept after a switch should have their temporary files removed to save disk space and inodes.
49489,TYPO3.Surf,Feature,"",Resolved,Should have,Add noRecursiveSubmodules option to GitCheckoutTask,Patrick Pussar,"",2013-08-22 10:30,"","",2013-06-28,"","",100,2013-06-28 07:40,"","",1224050,"","In some cases it is necessary to prevent git from checking out
submodules recursively during a Surf deployment in which composer is not
used. If the option ""noRecursiveSubmodules"" is set to true, only the
submodules directly referenced in the base repository are fetched and
checked out.

If the option is not set, or set to false, all submodules are fetched
and checked out recursively. Therefore, the default behaviour does not
change."
49701,TYPO3.Surf,Feature,"",New,Should have,Add tasks to deal with mysql dumps,Felix Oertel,"",2013-07-05 09:39,"","",2013-07-05,"","",0,2013-07-05 09:35,"","",1234450,"","Hey,

this allows you to 
* dump database into a file
* play dumped file into database

Of course working in a two-node-constellation, so you can simply pipe sql from your live-server to your preview-server for example. I will add documentation, as soon as it is given, you want to integrate that feature.

The target of an operation is the node you are currently deploying to (backup would be one exception, as you would backup the current node to a target place.). For now we want to stick to dump database -> write database, so you have to set up a second node, acting as the source. You do this just like a normal node:

@$sqlSourceNode = new \TYPO3\Surf\Domain\Model\Node('sqlSource');
$sqlSourceNode->setHostname('www.foertel.com');
$sqlSourceNode->setOption('username', 'foertel');@

You can add pathes to the mysqldump or gzip binary, if you have to.

@$sqlSourceNode->setOption('mysqldumpBinary', '/usr/bin/mysqldump');
$sqlSourceNode->setOption('gzipBinary', '/bin/gzip');@

Next up you have to configure the task itself:

@$node->setOption('typo3.surf:mysql:dump', array(
	'node' => $sqlSourceNode,
	'database' => 'foertelcom',
	'username' => 'admin',
	'password' => '',
	'ignoreTables' => array('tx_extbase_cache_object', 'tx_extbase_cache_object_tags', 'tx_extbase_cache_reflection', 'tx_extbase_cache_reflection_tags'),
	'hostname' => 'localhost,
	'additionalParameters' => '--single-transaction --quick --lock-tables=false',
));@

As you can see, you could just use your node for the 'node'-directive, if that's what you want. ;)

Just add typo3.surf:mysql:dump as a task to your deployment and it will dump your database to a file in /tmp/surf_$releaseIdentifier.sql.gz

Now you could move that file to a backup folder (there is no task for that right now, I have one and will publish it soon, node-based rsync included ;) )

All you can do right now is putting that dump back into a(nother) database. The typo3.surf:mysql:integrate will always use the current node to put the dump in ... makes sense. So just add the task configuration:

@$node->setOption('typo3.surf:mysql:integrate', array(
	'database' => 'foertelcom',
	'username' => 'admin',
	'password' => '',
));@

and add the task to your deployment.

To clean up the dump after you, just add typo3.surf:mysql:removeTempFile task and you are good to go!"
49702,TYPO3.Surf,Feature,"",New,Should have,Make all options overrideable,Felix Oertel,"",2013-07-05 10:03,"","",2013-07-05,"","",0,2013-07-05 09:50,"","",1234500,"","It's really necessary to overwrite internal options with cli arguments, like @--git-checkout-tag:v1.0.3@."
49703,TYPO3.Surf,Feature,"",Resolved,Should have,Make release/ path configurable,Felix Oertel,"",2014-07-28 06:41,"","",2013-07-05,"","",100,2013-07-05 10:01,"","",1234550,"",Make release/ path configurable - like deployment path is - by setting @$application->setReleasesDirectory('deployments');@
49798,TYPO3.Surf,Feature,"",New,Should have,Make PHP binary and PHP ini configurable,Martin Lipp,"",2013-07-08 14:14,"","",2013-07-08,"","",0,2013-07-08 14:14,"","",1239250,"","Use the settings core.phpBinaryPathAndFilename and core.subRequestPhpIniPathAndFilename when executing Flow commands, to be able do use custom PHP binary paths and configuration files in Surf as well, as it's already possible in Flow."
49799,TYPO3.Surf,Feature,"",New,Should have,Persist the SSH connection per deployment,Martin Lipp,"",2014-07-28 05:50,"","",2013-07-08,"","",0,2013-07-08 15:30,"","",1239300,"",In the current version Surf opens a new SSH connection for every shell command. Since some (mostly managed) hosting servers disallow multiple connections opened in short succession the deployment fails. Because of that (and because it seems to be a better practice too) it would be nice to open only one SSH connection per deployment and reuse it for all commands.
49973,TYPO3.Surf,Bug,"",Resolved,Must have,add version to composer.json,Felix Oertel,"",2013-08-07 05:30,"","",2013-07-12,"","",100,2013-07-12 07:28,"","",1247650,"",Current composer.phar expects version to be set.
50151,TYPO3.Surf,Feature,"",Resolved,Should have,Add fetchAllTags option to GitCheckoutTask,Patrick Pussar,"",2013-09-03 09:30,"","",2013-07-18,"","",100,2013-07-18 07:22,"","",1256300,"","Without further options, ""git fetch"" only fetches tags that point at objects reachable from the branch heads (man 1 git-fetch). If a tag is not fetched, the following step (git reset) will not proceed. Therefore, it is necesary to force git to download all tags in some circumstances.
This can be done by setting the option ""fetchAllTags"" to true."
50554,TYPO3.Surf,Bug,"",New,Should have,"CopyConfigurationTask does not use the node-option ""password""",Martin Ficzel,Martin Ficzel,2013-08-05 04:01,"","",2013-07-30,"","",0,2013-07-30 06:09,"","",1276250,"",The CopyConfigurationTask uses the configured username but not the password for copying the files to the node via scp. Since other tasks use the password-option this should be supported here aswell. 
50557,TYPO3.Surf,Bug,"",Resolved,Must have,workflow->removeTask does not work any more and is destroying the array structure,Martin Ficzel,"",2013-09-02 09:30,"","",2013-07-30,"","",100,2013-07-30 07:14,"","",1276400,"","Since commit 2b7d957eaf77acddef4028cd965822545b2853b0 the removeTask methods does destroy the structure of its internal taks-array. The reason is a misordering in the task-array addressing in the mentioned commit. 

The line 61 should be altered like this:
<pre>
+ $this->tasks['stage'][$applicationName][$stageName][$step] = array_filter($tasks, function($task) use ($removeTask) { return $task !== $removeTask; });
- $this->tasks['stage'][$applicationName][$step][$stageName] = array_filter($tasks, function($task) use ($removeTask) { return $task !== $removeTask; });
</pre>"
50639,TYPO3.Surf,Feature,"",New,Should have,support SVN,Tobias Liebig,"",2013-08-01 09:32,"","",2013-08-01,"","",0,2013-08-01 09:32,"","",1280400,"","Like Surf supports Git for as VCS, Surf should support SVN too.

Thus we need a SVNCheckoutTask like the current GitCheckoutTask and a Package\SVNTask (like Package\GitTask)"
50640,TYPO3.Surf,Feature,"",New,Should have,refactor DeploymentService > DeploymentRepository,Tobias Liebig,"",2013-08-01 09:43,"","",2013-08-01,"","",0,2013-08-01 09:43,"","",1280450,"","To support other configuration formats, the DeploymentService should be refactored.

Other formats (instead of the default 'PHP') might be JSON, XML or a implementation fetching the informations from a database or custom webservice.

Instead of the current DeploymentService implementation we need a ""DeploymentRepositoryInterface"", which can be implemented by a custom DeploymentRepository. Surf should provide then a repository implementation for the current php-file-based configurations.
"
50641,TYPO3.Surf,Feature,"",New,Should have,Make simple deployment description as slim as possible,Tobias Liebig,"",2013-08-01 09:48,"","",2013-08-01,"","",0,2013-08-01 09:48,"","",1280500,"","A simple deployment description should by as slim as possible.

* Check level of option assignment (deployment, node or application)
* Check default option values
* provide a slim and simple example"
50642,TYPO3.Surf,Feature,"",New,Should have,Create new ComposerApplication,Tobias Liebig,"",2013-08-01 09:54,"","",2013-08-01,"","",0,2013-08-01 09:54,"","",1280550,"","FlowApplications are deployed using composer and all composer related stuff is implemented in the FlowApplication. Other Applications might based on Composer too, so it makes sense to extract the composer stuff from the FlowApplication and create a ComposerApplication as common base."
50644,TYPO3.Surf,Feature,"",New,Should have,helper setter for common options,Tobias Liebig,"",2013-08-01 09:55,"","",2013-08-01,"","",0,2013-08-01 09:55,"","",1280650,"","Currently some options need to be set using the generic setOption setter. For the API it would be nice to have explicit helper setter for common options ($application->setUpdateMethod(...), ?)"
50646,TYPO3.Surf,Task,"",New,Should have,adding tasks: make use of afterStage instead of afterTask,Tobias Liebig,"",2013-08-01 09:58,"","",2013-08-01,"","",0,2013-08-01 09:58,"","",1280750,"","Instead of creating unnecessary dependencies between tasks in one stage, we should internally make use of the new ->afterTask mehtod instead of the ->afterTask method whereever possible.
"
50647,TYPO3.Surf,Task,"",New,Should have,refactor addTask method argument order,Tobias Liebig,"",2013-08-01 10:22,"","",2013-08-01,"","",0,2013-08-01 10:22,"","",1280800,"","To streamline the API, the order of the method arguments in ->addTask should be changed.
First argument should be the stage.

Maybe we still can make it backwards compatible by checking, if the first argument is a valid stage name in the given workflow. If not the first and second argument should be swapped (and a deprecation warning should be logged)"
50648,TYPO3.Surf,Task,"",New,Should have,enforce usage of ?->forStage? instead of ?->addTask?,Tobias Liebig,"",2013-08-01 10:22,"","",2013-08-01,"","",0,2013-08-01 10:22,"","",1280850,"","Make sure, we are using ""->forStage"" instead of the older ""->addTask"" method"
50649,TYPO3.Surf,Feature,"",New,Should have,command to kickstart a new configuration,Tobias Liebig,"",2013-08-01 10:27,"","",2013-08-01,"","",0,2013-08-01 10:27,"","",1280900,"","Kickstart command for new deployment (keep it simple for 1.0)
* ask some Questions
  * Hostname of the target node:
  * SSH username on the target node [current_user]:
  * Is your application in a Git repository? (Y/n):
  * Is the application managed by Composer? (Y/n):
  * Transfer method of the application to the target node (remote git, scp, rsync) [git]:
  * How many releases should be kept? [3]:
* Do sanity check after creating the deployment (e.g. run simulate)
"
50650,TYPO3.Surf,Task,"",New,Should have,Provide better error messages,Tobias Liebig,"",2013-08-01 10:28,"","",2013-08-01,"","",0,2013-08-01 10:28,"","",1280950,"",Provide better error messages for common problems and add some tasks for testing the setup (e.g. SSH connection test)
50651,TYPO3.Surf,Task,"",New,Should have,Add @api annotations,Tobias Liebig,"",2013-08-01 10:28,"","",2013-08-01,"","",0,2013-08-01 10:28,"","",1281000,"",check the code for missing @api annotations
50652,TYPO3.Surf,Feature,"",New,Should have,ShellCommandService: method to expand paths in commands,Tobias Liebig,"",2013-08-01 10:30,"","",2013-08-01,"","",0,2013-08-01 10:30,"","",1281050,"","add a method in ShellCommandService to replace paths in command

something like:

    $command = $this->shell->expand($command)"
50653,TYPO3.Surf,Bug,"",New,Should have,rsync transfer method writes empty *REVISION on remote node,Tobias Liebig,"",2013-08-01 10:31,"","",2013-08-01,"","",0,2013-08-01 10:31,"","",1281100,"",write correct *REVISION files on remote when using the rsync transfer method
50654,TYPO3.Surf,Task,"",New,Should have,remove setDeprecatedTaskOptions from BaseApplication,Tobias Liebig,"",2013-08-01 10:31,"","",2013-08-01,"","",0,2013-08-01 10:31,"","",1281150,"",remove setDeprecatedTaskOptions from BaseApplication
50655,TYPO3.Surf,Task,"",New,Should have,check all shell->excute for correctly escaped arguments,Tobias Liebig,"",2013-08-01 10:32,"","",2013-08-01,"","",0,2013-08-01 10:32,"","",1281200,"",check all shell->excute for correctly escaped arguments
50656,TYPO3.Surf,Task,"",New,Should have,cleanup task names,Tobias Liebig,"",2013-08-01 10:32,"","",2013-08-01,"","",0,2013-08-01 10:32,"","",1281250,"","refactor names of the tasks (move them into meaningful folders).
define an alias for the ?old? names and deprecate the usage of those"
50657,TYPO3.Surf,Feature,"",Under Review,Should have,rsync transfer method: add option the --exclude argument,Tobias Liebig,"",2014-06-10 04:42,"","",2013-08-01,"","",0,2013-08-01 10:34,"","",1281300,"",add an exclude option for rsync task (--exclude arguments)
50658,TYPO3.Surf,Feature,"",Accepted,Should have,refactor ShellCommandService to have separated access to StdIn StdErr and StdOut,Tobias Liebig,"",2013-08-01 10:38,"","",2013-08-01,"","",0,2013-08-01 10:35,"","",1281350,"",make use of the symfony/process component to separate the stdErr and stdOut streams in the ShellCommandService
50659,TYPO3.Surf,Task,"",New,Should have,Unit tests,Tobias Liebig,"",2013-08-01 10:36,"","",2013-08-01,"","",0,2013-08-01 10:36,"","",1281400,"",check for and implement a bunch of meaningful unit tests
50660,TYPO3.Surf,Task,"",New,Should have,concept for product website,Tobias Liebig,Christopher Hlubek,2013-08-01 10:41,"","",2013-08-01,"","",0,2013-08-01 10:41,"","",1281450,"","Create a concept for a TYPO3 Surf product website and plan/coordinate the implementation.

* Target groups
   * technical decision makers
   * developers
   * IT operation
* Create product page on typo3.org together with design / marketing team
* Use GitHub Pages for website recipes
* create a new github organisation --> already done: https://github.com/organizations/TYPO3-Surf
* -Use typo3.org templates (optionally redo in Bootstrap)-

* Graphics
* Surf Logo
* Hero image?
* Animated diagram of Surf automated deployment process (Development, CI, Deployment)
* Show simple example / deployment configuration below diagram
* TODO Scribble mockup of frontpage
"
50661,TYPO3.Surf,Bug,"",New,Should have,documentation,Tobias Liebig,"",2014-04-09 02:36,"","",2013-08-01,"","",0,2013-08-01 10:41,"","",1281500,"","* Create documentation in reST
* Render documentation via readthedocs.org
* Publish on docs.typo3.org if possible
* The official documentation should be a reference for using Surf
"
50662,TYPO3.Surf,Feature,"",New,Should have,support ftp transfer ,Tobias Liebig,"",2013-08-01 10:45,"","",2013-08-01,"","",0,2013-08-01 10:44,"","",1281550,"","* Implement a Transfer\FTPTask (like the RsyncTask)
* enable it in BaseApplication::registerTasksForTransferMethod"
50663,TYPO3.Surf,Feature,"",New,Should have,support scp transfer,Tobias Liebig,"",2013-08-01 10:45,"","",2013-08-01,"","",0,2013-08-01 10:45,"","",1281600,"","* Implement a Transfer\ScpTask (like the RsyncTask)
* enable it in BaseApplication::registerTasksForTransferMethod"
50664,TYPO3.Surf,Task,"",New,Should have,check for unresolved TODOs in the code,Tobias Liebig,"",2013-08-01 10:46,"","",2013-08-01,"","",0,2013-08-01 10:46,"","",1281650,"",""
50779,TYPO3.Surf,Bug,"",Resolved,Must have,Handling of branch option in GitCheckout Task does not work as expected.,Martin Ficzel,Tobias Liebig,2013-08-06 06:30,"","",2013-08-05,"","",100,2013-08-05 03:55,"","",1287300,"","Since the last updates the prevoiusly used option ""git-checkout-branch"" is replaced by ""typo3.surf:gitcheckout[branch]"" and the option is remapped internally to the new key.

The code in the AbstractCheckoutTask->resolveSha1 is using the key ""branch"" in the option array that is handed over by the taskManager. 

The deployment is running but since the option is not read as expected the deployment will always fallback to the master branch unless the global ""branch"" option is set. Since this is not what surf itself says can cause serious trouble."
50847,TYPO3.Surf,Task,"",Needs Feedback,Could have,get rid of before and after stage step foo,Felix Oertel,Felix Oertel,2013-08-07 17:00,"","",2013-08-06,"","",0,2013-08-06 17:12,"","",1290700,"","hey,

after the recent changes, introducing packaged deployment (which i love!), we ended up with some new, kind of weird don't-know-really-what-they-are-kind-of-substages. 

@foreach (array('before', 'tasks', 'after') as $stageStep) {@

i don't really get that. i loved how the tasks are fully configurable in the workflow. now i have this three substages, which are pretty much hard-wired.

if you want to run one task after another, why not just introduce an additional stage, instead of introducing much more if() and foreach()?

please enlighten me ... ;)

regards, foertel"
50852,TYPO3.Surf,Task,"",Under Review,Should have,Make Logger available as soon as possible,Felix Oertel,"",2014-07-28 06:26,"","",2013-08-07,"","",0,2013-08-06 20:23,"","",1290950,"","We should make the logger available to the deployment, as soon as possible, espacially before @require($deploymentPathAndFilename);@ happens.

The logger could still be replaced by an own implementation later on ... "
50853,TYPO3.Surf,Task,"",Under Review,Should have,Move createDefaultLogger to factory,Felix Oertel,"",2014-11-06 12:50,"","",2013-08-07,"","",0,2013-08-06 20:49,"","",1291000,"","come on ;) @createDefaultLogger()@ does really not belong into the command controller ... 

let's move it"
50854,TYPO3.Surf,Task,"",Resolved,Should have,cleanup options in node,Felix Oertel,Felix Oertel,2014-03-21 13:30,"","",2013-08-07,"","",100,2013-08-06 21:14,"","",1291050,"","@$port@ and @$username@ are options, while @$hostname@ and @$name@ are properties ... why?

let's get that straight ;)"
51029,TYPO3.Surf,Task,"",New,Should have,Exit with failure status if deployment file does not exist.,Martin Ficzel,"",2013-09-03 06:43,"","",2013-08-12,"","",0,2013-08-12 06:30,"","",1299650,"",Currently surf will exit with status 0 (OK) even if the deploment-file was not found. That is a problem if it surf is used by jenkins or other ci-solutions.
52033,TYPO3.Surf,Bug,"",Resolved,Must have,An after stage task for any application is executed before a task specific for an application,Christopher Hlubek,Christopher Hlubek,2013-09-16 06:33,"","",2013-09-16,"","",100,2013-09-16 06:03,"","",1349500,"",""
52072,TYPO3.Surf,Bug,"",New,Should have,Make Port in Varnish Tasks configurable,Michael Knoll,"",2013-09-17 08:15,"","",2013-09-17,"","",0,2013-09-17 08:15,"","",1351400,"","The Varnish ban and purge tasks have the port for Varnish management hardcoded. Since there might be different ports than 6082 for that, this should be configurable see patch below.

<pre>
		$secretFile = (isset($options['secretFile']) ? $options['secretFile'] : '');
		$purgeUrl = (isset($options['purgeUrl']) ? $options['purgeUrl'] : '""ban.url .""');
		$varnishadm = (isset($options['varnishadm']) ? $options['varnishadm'] : '/usr/bin/varnishadm');
		$varnishport = (isset($options['varnishport']) ? $options['varnishport'] : '6082');
		$varnishport = '-T 127.0.0.1:' . $varnishport;
		$varnishsecret = ($secretFile !== '' ? '-S ' . $secretFile . ' ' : ' ');
		$this->shell->executeOrSimulate($varnishadm . $varnishsecret . $varnishport . ' ' . $purgeUrl, $node, $deployment);
</pre>

Btw: is there any possibility to do a pull request for the surf project, that would make fixes easier..."
52273,TYPO3.Surf,Bug,"",New,Should have,Passwords containing a % should throw an Error,Thomas Allmer,"",2014-03-09 12:59,"","",2013-09-25,"","",0,2013-09-25 11:54,"","",1361400,"","If you password contains a ""%"" the expect command won't work as the passwords ""%"" will be used by the sprintf...

pretty hard to catch so a password check would avoid frustrating moments... like the one I just had...

if you point me to the correct place where to implement this I could certainly do this."
52276,TYPO3.Surf,Bug,"",New,Should have,Task defined in an Application can't be removed for a deployment?,Thomas Allmer,"",2013-09-25 12:25,"","",2013-09-25,"","",0,2013-09-25 12:20,"","",1361550,"","<pre>
<?php
	$workflow = new \TYPO3\Surf\Domain\Model\SimpleWorkflow();
	$deployment->setWorkflow($workflow);

	$node = new \TYPO3\Surf\Domain\Model\Node('[...]');
	$node->setHostname('[...]');
	$node->setOption('username', '[...]');
	$node->setOption('password', '[...]');

	$application = new \TYPO3\Surf\Application\TYPO3\Neos();
	
	$application->setDeploymentPath('[...]');
	$application->setOption('repositoryUrl', '[...]');
	
	$application->setOption('composerCommandPath', ''); //why is this needed?
	
	$application->setOption('packageMethod', 'git');
	$application->setOption('transferMethod', 'rsync');
	$application->setOption('updateMethod', NULL);	
	
	$application->setOption('keepReleases', 2);
	$application->addNode($node);

	$deployment->addApplication($application);
	
	// can't remove a task?
	$deployment->getWorkflow()->removeTask('typo3.surf:typo3:neos:importsite');
	
?>
</pre>"
52468,TYPO3.Surf,Bug,"",Resolved,Must have,allow local ,Felix Oertel,"",2014-11-06 11:22,"","",2013-10-02,"","",100,2013-10-02 07:33,"","",1371000,"","the doc say

@* @param \TYPO3\Surf\Domain\Model\Node $node Node to execute command against, NULL means localhost@

but the definition actually is

@public function execute($command, Node $node, ...@

so it's not possible to execute local commands. This makes composer fail for me, because it tries to look up the composer.json (test -f) on the remote server instead of the local workspacePath."
57161,TYPO3.Surf,Feature,"",New,Could have,Check for sealed config files before deploying,Andreas Wolf,"",2014-03-21 13:14,"","",2014-03-21,"","",0,2014-03-21 13:14,"","",1602050,"","When your config files are sealed, you get an error from the CopyConfiguration task, which is run very late in the deployment. This might ruin a complete deployment when you forgot to decrypt the config files, so it's probably better to check for it early in the deployment (probably in a pre-deployment check)"
58213,TYPO3.Surf,Feature,"",New,Must have,add test for commandline tool expect,Kay Strobach,"",2014-07-28 07:19,"","",2014-04-26,"","",0,2014-04-26 07:57,"","",1654450,"","it would be nice, if there would be a warning, if expect is missing.
Currently you get a simple:

<pre>
Got exception ""Deployment directory ""/export/home/project/builds/testing"" does not exist on node Staging"" but rollback disabled. Stopping.
</pre>"
58214,TYPO3.Surf,Bug,"",New,Should have,add php-curl als requirement to composer.json,Kay Strobach,"",2014-04-26 08:05,"","",2014-04-26,"","",0,2014-04-26 08:05,"","",1654500,"",add php-curl als requirement to composer.json
58642,TYPO3.Surf,Feature,"",New,Should have,"Add task, which checks if there are still doctrine updates available, and if fail",Kay Strobach,"",2014-07-28 05:43,"","",2014-05-08,"","",0,2014-05-08 13:45,"","",1675750,"","Add task, which checks if there are still doctrine updates available, and if fail

This task will help to detect missing or failed migrations.
This ways it's easy to detect failed stuff within a deployment

<pre>
 ./flow doctrine:update --output  
</pre>

if filesize != 0 -> fail
"
59420,TYPO3.Surf,Bug,"",New,Should have,Make $localPackagePath configurable in RsyncTask,Andreas Dörler,"",2014-06-09 16:22,"","",2014-06-09,"","",0,2014-06-09 16:22,"","",1714450,"","Hi,

currently *$localPackagePath* is hardcoded to
<pre>
$localPackagePath = $deployment->getWorkspacePath($application);
</pre>
and the *workspacePath* is not configurable as far as I've seen:
<pre>
  /**
   * Get a local workspace directory for the application
   */
  public function getWorkspacePath(Application $application) {
    return FLOW_PATH_DATA . 'Surf/' . $this->getName() . '/' . $application->getName();
  }
</pre>

If one uses Jenkins for deployment, the source will be checked out from GIT by Jenkins itself, so there is no need to do it again in SURF.
Currently we use the following workaround:
<pre>
  $application->setOption('transferMethod', NULL); // disable rsync
  $application->setOption('packageMethod', NULL); // disable SURF git checkout - we use jenkins git checkout
  $application->setOption('customrsync', array('customLocalPackagePath', '/var/lib/jenkins/workspace/'.$application->getName()));
  $workflow->addTask('typo3.surf:transfer:customrsync', 'transfer', $application);
</pre>
In a copy of the default RsyncTask we use the given option if set:
<pre>
$localPackagePath = (isset($options['customrsync']['customLocalPackagePath'])) ? $options['customrsync']['customLocalPackagePath'] : $deployment->getWorkspacePath($application);
</pre>

It would be great to have this option included in TYPO3.Surf. 

Kind regards
Andreas"
60270,TYPO3.Surf,Bug,"",Under Review,Should have,Task/Git/TagTask doesn't work with transfer method rsync,Marco Huber,"",2015-07-06 10:37,"","",2014-07-11,"","",0,2014-07-11 06:44,"","",1756750,"","The task want's to do the tagging on the remote node. But of course, if using the transfer method rsync, there is no git on the node. So the tagging should be done in the local cache/data directory."
60355,TYPO3.Surf,Feature,"",Accepted,Must have,composer: Add option to configure the --no-dev parameter,Kay Strobach,"",2014-07-28 05:42,"","",2014-07-16,"","",0,2014-07-16 06:10,"","",-3950,"","sometimes, it would be nice to also install the dev stuff, to e.g. run tests in a special environment etc."
60469,TYPO3.Surf,Feature,"",Resolved,Should have,Initialize releaseIdentifier earlier,Marco Huber,"",2015-01-19 07:09,"","",2014-07-22,"","",100,2014-07-22 10:17,"","",-9650,"",I think it would be useful to initialize the releaseIdentifier earlier. So I could use it in the deployment script.
61503,TYPO3.Surf,Feature,"",New,Should have,Set deploymentPath on a per node-base,Johannes Steu,"",2015-01-22 10:12,"","",2014-09-10,"","",0,2014-09-10 05:42,"","",-61300,"","If you would like to deploy one application on two different nodes both nodes are using the same deployment path. But if your nodes run a different / setup the path does not fit on both nodes.  For example node1 runs their webs under /var/www and node2 under /srv/www you would have create 2 applications with two nodes.

It would be cool to set a deploymentPath for each node that overrides the deploymentPath from application if it is set.
"
61505,TYPO3.Surf,Feature,"",New,Could have,Enhance CreateDirectoriesTask to create directories inside the new releasedirectory,Johannes Steu,"",2014-09-10 06:09,"","",2014-09-10,"","",0,2014-09-10 06:09,"","",-61400,"","Right now there is no chance to create new directories with TYPO3\Surf\Task\Generic\CreateDirectoriesTask from your build script since the tasks merges the deployment path and your folder path. In your build script there is no chance to get the current release identifier to extend your folder path. So it would be cool if there is an possibility to use that Core-Task to create new folders in your release path.

"
62319,TYPO3.Surf,Bug,"",Resolved,Should have,Enhance Task SymlinkConfigurationTask to use not only the Production context,Johannes Steu,"",2015-01-22 10:08,"","",2014-10-18,"","",0,2014-10-18 08:41,"","",-101850,"","For deployment i'd like to use the SymlinkConfigurationTask for all Contexts.
If you deploy your Application on different Nodes and run an separate testing Builds the Configuration could be stored in shared/Configuration/Testing. Same for the Development Context for Develop-Builds.

Therefore the SymlinkConfigurationTask could use $application->getContext().
"
63330,TYPO3.Surf,Feature,"",Needs Feedback,Could have,Allow node/application/deployment options as options of defined tasks,Joachim Mathes,"",2015-01-24 04:06,"","",2014-11-25,"","",0,2014-11-25 17:02,"","",-152350,"","Up to now it is possible to reuse a task like @typo3.surf:shell@ with @$workflow->defineTask('fooTask', 'typo3.surf:shell', array('command' => 'echo ""Hello""'))@ and dedicated parameters. But what if I want node options to overwrite the parameters of a defined task, e.g.:
<pre>
<?php

$nodeConfigurations = array(
	array(
		'name' => 'one',
		'run' => 'echo ""I am node one""'
	),
	array(
		'name' => 'two',
		'run' => 'echo ""I am node two""'
	)
);

$application = new \TYPO3\Surf\Domain\Model\Application('DummyApplication');

foreach ($nodeConfigurations as $configuration) {
	$node = new \TYPO3\Surf\Domain\Model\Node($configuration['name']);
	$node
		->setOptions(array(
			'hostname' => 'localhost',
			'username' => 'jo',
			'getNodeOptions[command]' => $configuration['run']
		));

	$application
		->addNode($node);
}

$workflow = new \TYPO3\Surf\Domain\Model\SimpleWorkflow();
$workflow
    ->defineTask('getNodeOptions', 'typo3.surf:shell', array())
	->addTask('getNodeOptions', 'transfer');

$deployment
    ->setWorkflow($workflow)
    ->addApplication($application); 
</pre> 

This does not work for now. Maybe the provided patch is a solution. This is a quick idea, so please review carefully."
64350,TYPO3.Surf,Bug,"",New,Should have,git error > remove cache retry once,Kay Strobach,"",2015-01-19 05:00,"","",2015-01-19,"","",0,2015-01-19 05:00,"","",-203300,"","During one of my projects i moved the git location, surf does not seem to recognize that, so that i had to remove the cache/transfer folder by hand.
I would prefer that either Surf checks for a changed checkout uri, and if so remove the cache - or remove the cache on error automatically

Error Output
<pre>
--- (--- staging) typo3.surf:gitCheckout
fatal: Could not parse object '46dd2b800826ac3297703378eefea9683fbea048'.
Got exception ""Command returned non-zero return code: 128"" but rollback disabled. Stopping.
</pre>"
64432,TYPO3.Surf,Bug,"",New,Should have,"Rollback should not be done if Exception is thrown ""after"" switch stage",Christopher Hlubek,"",2015-01-22 08:35,"","",2015-01-22,"","",0,2015-01-22 08:35,"","",-207350,"","If a task is registered to run after the @switch@ stage, an Exception in that task should not cause a rollback."
65711,TYPO3.Surf,Bug,"",New,Should have,[HAS PATCH] Escape workspacePath in LocalShellTask,Kay Strobach,"",2015-03-13 04:06,"","",2015-03-13,"","",0,2015-03-13 04:06,"","",-271300,"",see attached patch
66505,TYPO3.Surf,Feature,"",Under Review,Should have,Add option to specify SSH private key for nodes,Martin Helmich,"",2015-04-20 17:21,"","",2015-04-20,"","",0,2015-04-20 17:20,"","",-311000,"","Make the private key that should be used for SSH connections (both shell and rsync) configurable.

Change request on Gerrit will follow shortly."
67325,TYPO3.Surf,Bug,"",Resolved,Should have,Changing repository URL breaks Git-based deployments,Andreas Wolf,"",2015-06-16 07:19,"","",2015-06-06,"","",100,2015-06-06 02:49,"","",-351700,"","When changing the URL in the deployment, the new URL is not used if the deployment has run before (i.e. if there is a transfer cache directory on the target node already).

To fix this, we need to do a ""git remote set-url"" for origin before fetching new commits."
67692,TYPO3.Surf,Bug,"",New,Must have,wrong ssh port option,Christoph Lehmann,"",2015-06-23 07:22,"","",2015-06-23,"","",0,2015-06-23 06:50,"","",-370050,"","/Packages/Application/TYPO3.Surf/Classes/TYPO3/Surf/Task/TYPO3/Flow/CopyConfigurationTask.php:65

ssh has -p and scp has the -P option for the port"
6974,TYPO3.SwiftMailer,Task,"",Resolved,Should have,Add Swift Mailer license to the Meta directory,Robert Lemke,Karsten Dambekalns,2011-03-30 07:30,"","","","","",100,2010-03-24 06:59,"","",31650,"",We need to add Swift Mailer's original license to the Meta directory
10306,TYPO3.SwiftMailer,Bug,"",Resolved,Should have,Passing by reference deprecated in PHP 5.3,Ernesto Baschny,Karsten Dambekalns,2011-05-06 05:25,"","",2010-11-22,"","",100,2010-10-17 09:02,"","",2870150,"","We now integrated SwiftMailer API in the v4 core trunk (yea!). To do this, I backported the functions which you have created here (the send() helper in the message class). 

This uncovered a little bug in getFailedRecipients().

See attached patch which solves it in v4."
12372,TYPO3.SwiftMailer,Bug,"",Resolved,Should have,Wrong property declaration in message API,Steffen Müller,Karsten Dambekalns,2011-03-30 07:30,"","",2011-01-19,"","",100,2011-01-19 08:56,"","",2870100,"","The visibility declaration in the Message class is ""var"", but should be ""protected"":

<pre>
class t3lib_mail_Message extends Swift_Message {
  var $mailer;
  var $sent = FALSE;
  var $failedRecipients = array();
</pre>

"
25477,TYPO3.SwiftMailer,Task,"",Resolved,Should have,What scope to use for Mailer and Transport?,Karsten Dambekalns,Karsten Dambekalns,2012-07-30 01:42,"","",2011-03-30,"","",100,2011-03-30 15:56,"","",91050,"","> I also don't quite get why the mailer and transport need to be of scope prototype.
> Most commonly one would re-use the mailer and transport in the system.

Most commonly, yes. But...

Mailer and Transport are prototype (also in the original SwiftMailer code, despite the useless @newInstance()@ method they have) because you might want to send mails using different transport mechanisms during one request. Since the transport is given to the mailer as constructor argument, the mailer must also be prototype for this to work.

Granted, currently there is only configuration for one default possible through SwiftMailer's @Settings.yaml@, but it is indeed possible to create another transport and mailer manually to send a message. If we switched to singleton scope, that would be confusing to say the least, and impossible in the worst case."
27006,TYPO3.SwiftMailer,Bug,"",New,Should have,Timeout and/or memory owerflow,Joachim P. Süß,Joachim P. Süß,2011-05-24 07:02,"","",2011-05-24,"","",0,2011-05-24 06:54,"","",125800,"","Using TYPO3 4.5.2 and tt_products 2.6.2 the orders (~35k) could not be sent because of these (or timeout) message:

Fatal error: Allowed memory size of 268435456 bytes exhausted (tried to allocate 4548863 bytes) in /srv/www/htdocs/web56/html/t3/typo3/contrib/swiftmailer/classes/Swift/Encoder/QpEncoder.php on line 192

In Accordance with Franz Holzinger it seems to be an error in swiftmailer. Several other EXT (e.g. mm_forum, directmail, sr_feuser_register, powermail) seems to have problems to, but mostly it could be resolved by setting [MAIL][substituteOldMailAPI] = 0

This also helps me in my case."
29465,TYPO3.SwiftMailer,Task,"",Resolved,Should have,Upgrade swiftmailer library to 4.1.5,Fernando Arconada,Karsten Dambekalns,2012-02-16 20:30,"","",2011-09-04,"","",100,2011-09-04 07:45,"","",244150,"","Upgrade swiftmailer library to 4.1.5
"
32228,TYPO3.SwiftMailer,Bug,"",New,Should have,Cyrillic letters in mail aliases cause silent process fail,Myroslav Holyak,"",2011-11-30 17:50,"","",2011-11-30,"","",0,2011-11-30 17:50,"","",380100,"","Simple to reproduce:

<pre>
$mail = t3lib_div::makeInstance('t3lib_mail_Message');
/* @var $mail t3lib_mail_Message */

$mail->setFrom(array($fromEmail => 'Cyrillic name like ????? - not OK'));
$mail->setTo(array($mail => 'Cyrillic name like ???? - not OK'));
$mail->setBcc(array('support@ruhomi.com', 'booking@hotelsbooking.com.ua'));
$mail->setSubject('Cyrillic subject - OK');
$mail->setBody('Plain cyrillic text - OK', 'text/plain');
$mail->send();
</pre>

It nicely ""delivers"" into local file, but silently fails delivering via mail(). Not sure, but can be buggy for whole Unicode charset not only cyrillic area."
32275,TYPO3.SwiftMailer,Feature,"",New,Could have,New email sending mode,Myroslav Holyak,"",2012-09-27 03:28,"","",2011-12-02,"","",0,2011-12-02 11:49,"","",382450,"","In addition to smtp, php-mail and local file delivering method it might be helpful to add ""database"" method with corresponding task for scheduller extension. The point is simple - put into database whole letter for next background (async) sending with another method (can be smtp, php-mail or local file) and status reporting. 

Why to do so? Answer is - insurance. It's very reliable. SMTP and plain mail func() can fail due to very various issues (server config, network timeout, ...), and realtime direct mail sending is slow. On the other hand - having system queue of letter and cron worker - any letter will be lost and we can control send-result of each.

Would that be interesting for community?"
33756,TYPO3.SwiftMailer,Feature,"",Resolved,Should have,Port mbox file transport from TYPO3 v4,Karsten Dambekalns,Karsten Dambekalns,2012-03-05 08:30,"","",2012-02-07,"","",100,2012-02-07 16:57,"","",454200,"",'nuff said
38915,TYPO3.SwiftMailer,Bug,"",New,Should have,Error messages are not verbose,Philipp Metzler,"",2012-07-12 13:17,"","",2012-07-12,"","",0,2012-07-12 13:17,"","",707800,"","If swiftmailer can't read a file in the function _getReadHandle in typo3/contrib/swiftmailer/classes/Swift/ByteStream/FileByteStream.php it will present this error message to the user:

""Unable to open file for reading [FILENAME]""

If you have turned allow_url_fopen OFF PHP returns such errors:

Warning: fopen() [function.fopen]: URL file-access is disabled in the server configuration in XYZ on line 3

so the PHP error message is more verbose and tells the user exactely where he should look. TYPO3 could generally check the environment and warn the user that certain features won't work without the necessary PHP.INI settings.

see also postings: 

http://forge.typo3.org/issues/38907

and

http://bugs.typo3.org/view.php?id=12199"
39337,TYPO3.SwiftMailer,Bug,"",Resolved,Must have,TransportFactory does not set all options,Bastian Waidelich,Bastian Waidelich,2012-07-30 02:30,"","",2012-07-27,"","",100,2012-07-27 11:12,"","",728650,"","The @TransportFactory@ currently uses @method_exists()@ to find out whether an option is settable on the factory.
Unfortunately this does not work because SwiftMailer uses magic methods to set some of those.
It's currently not possible to set *username* and *password* for the SmtpTransport!"
41410,TYPO3.SwiftMailer,Task,"",Under Review,Should have,Remove SwiftMailer sources and require upstream package,Karsten Dambekalns,Karsten Dambekalns,2014-01-27 05:08,"","",2012-09-27,"","",0,2012-09-27 03:25,"","",827800,"",The package should require swiftmailer/swiftmailer (see http://packagist.org/packages/swiftmailer/swiftmailer) and drop that from the resources.
52352,TYPO3.SwiftMailer,Bug,"",New,Must have,[NOBRAINER] Set correct type in composer json,Kay Strobach,"",2013-09-28 07:01,"","",2013-09-28,"","",0,2013-09-28 06:57,"","",1365200,"","IS:
<pre>
{
    ""name"": ""typo3/swiftmailer"",
    ""type"": ""typo3-flow-package"",
    ""description"": ""A TYPO3 Flow package of SwiftMailer"",
    ""license"": ""LGPL-3.0"",
    ""require"": {
        ""typo3/flow"": ""*""
    },
    ""provide"": {
        ""swiftmailer/swiftmailer"": ""4.1.5""
    },
    ""autoload"": {
        ""psr-0"": {
            ""TYPO3\\SwiftMailer"": ""Classes""
        }
    }
}
</pre>

Should be

<pre>
<pre>
{
    ""name"": ""typo3/swiftmailer"",
    ""type"": ""library"",

</pre>"
55364,TYPO3.SwiftMailer,Bug,"",New,Should have,SwiftMailer does not work with PHP 5.5,Sebastian Düvel,"",2014-01-27 10:24,"","",2014-01-27,"","",0,2014-01-27 10:23,"","",1513500,"","Because of an ancient included SwiftMailer version, the whole package does not work with PHP 5.5.

Probably fixed when http://forge.typo3.org/issues/41410 is applied."
64877,TYPO3.SwiftMailer,Bug,"",New,Must have,SwiftMailer not autoloaded,Christian Wellinghorst,"",2015-02-05 10:00,"","",2015-02-05,"","",0,2015-02-05 10:00,"","",-229600,"","It appears that Swiftmailer is no longer autoloaded since the externaler swiftmailer/swiftmailer package is used.
Swiftmailer requires lib/swift_required.php to be executed - composer is able of doing this, according to the documentation Flow only supports PSR-0 autoloading.

Simply requiring swift_required.php when loading the package appears to be sufficient to fix this issue."
59970,TYPO3.TYPO3CR,Feature,"",New,Could have,TYPO3CR Documentation Request,Oliver Eglseder,"",2014-07-11 06:16,"","",2014-06-29,"","",0,2014-06-29 04:53,"","",1741800,"","","Dear TYPO3.TYPO3CR Team,

i was searching for Documentation (independent from TYPO3.Neos) about this Package, but all i could find was this link http://de.slideshare.net/kfish/typo3-cr-in-phoenix from 2010. Looking at the Package stats on GitHub and the History, many things have changed since the last 4 years. A look into the Documentation Folder was also disappointing.

Is there Documentation for this Package i missed?
Is Documentation for this Package intended at all?

Would be nice to have some Slides explaining how to properly create Nodes and NodeTypes for own use, what roles Contexts and Workspaces play, how everything is connected and last but not least, how to benefit in an own Package from TYPO3.TYPO3CR (, if possible. I know it was primary developed for Neos)."
58428,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Set Unique Name if Exists in Structure,Carsten Bleicker,"",2014-06-20 10:51,Node handling,"",2014-05-02,"","",0,2014-05-02 11:47,"","",1665100,"","","copy or moving a node currently counts up the name with appending '-'.n
If two users copying the same image f.e. on the same page, and the image has the nodename ""node1239"",
both copied nodenames are ""node1239-1"", in both workspaces.

user 1 puplishing ... anything is fine.
user 2 publishing after user 1 gets an exception that node1239-1 already exists.
he cant edit the nodename on normal content nodes. he does not know anything about the nodename and also can not
locate the node to delete it."
57245,TYPO3.TYPO3CR,Bug,"",Under Review,Must have,Child nodes are not deleted when a node is deleted,Pankaj Lele,Christopher Hlubek,2014-03-25 09:13,Node handling,"",2014-03-24,"","",0,2014-03-24 14:01,"","",1606250,"","",When a node is deleted its child nodes are not deleted from the database.
56669,TYPO3.TYPO3CR,Bug,"",New,Must have,Transliterator object not created successful,Simon Edelmann,"",2014-03-08 06:19,"","",2014-03-08,"","",0,2014-03-08 06:19,"","",1577600,"","","I've set up a new TYPO3 Neos installation (1.0.2) with the Demo Content Page. When I try to add a new page I get this error message:

> ExtDirect error: Unable to connect to the server.

After reloading the Neos backend I've two new pages, named @node531af4151b5e8@ and @node531af4163697e@. 
Neos twice tries and fails setting the node name. 

The problem is in the TYPO3CR package in @Classes/TYPO3/TYPO3CR/Utility.php@ in line 30.

<pre>
if (class_exists('Transliterator', FALSE)) {
	$transliterator = \Transliterator::create('Any-Latin; NFD; [:Nonspacing Mark:] Remove; NFC; [:Punctuation:] Remove; Latin-ASCII; Lower();');
	$name = $transliterator->transliterate($name);
	return preg_replace('/[-\s]+/', '-', $name);
} else {
	// Alternative method to remove unwanted characters...
}
</pre>

Neos checks if the class Transliterator exists, then it creates an object and used it. But creating the object fails on my server; I can't say why. Maybe there is a relation to PECL intl, which is installed in the (old) version 1.1.0. (It's a shared hosting machine, so I can't change that.) 

As workaround I changed the line 29:

<pre>
// if (class_exists('Transliterator', FALSE)) {

if (false) {
</pre>

So Neos always uses the alternative method without the Transliterator object. But it would be much better to check, if the class could be created successful."
56566,TYPO3.TYPO3CR,Bug,"",New,Should have,Inconsistent node structure during publishing,Christopher Hlubek,Christian Müller,2014-03-05 04:29,"","",2014-03-05,"","",0,2014-03-05 04:29,"","",1572450,"","",If a workspace is published there is a chance that while publishing individual nodes an inconsistent state is created (nodes of level > 1 with a NULL parent node). This is a problem when listening for the signals of updated nodes if a consistent structure is expected.
56386,TYPO3.TYPO3CR,Feature,"",Rejected,Should have,Add method for finding a node by it's identifier in a given context,Aske Ertmann,Aske Ertmann,2014-05-19 05:43,"","",2014-02-27,"","",0,2014-02-27 09:51,"","",1563500,"","",Similar to the findOneByPathInContext there's a use for one using identifier instead of path
56024,TYPO3.TYPO3CR,Feature,"",New,Must have,Hardcoded transliteration,Tanel Põld,"",2014-02-16 14:30,"","",2014-02-16,"","",0,2014-02-16 14:30,"","",1545500,"","","Utiliti.php seems to hold transliteration for special characters.
That ends up with wrong page urls translated from page titles in NEOS. For languages that's not German like.
Estonian: ä = a, ö = o etc."
55401,TYPO3.TYPO3CR,Bug,"",New,Must have,NodeDataRepository returns broken QueryResult if inconsistent nodes exist,Bernhard Schmitt,"",2014-01-28 11:47,Query handling,"",2014-01-28,"","",0,2014-01-28 11:18,"","",1515350,"","","If nodes exist that are inconsistent in that they have invalid relations (e.g. to Media images that have been deleted) in their serialized properties, the NodeDataRepository will on findAll() return an empty QueryResult (but with the correct count() value). That makes it technically impossible to repair the nodes in a proper way.

Version: Neos beta1 - 1.0.1"
54606,TYPO3.TYPO3CR,Bug,"",Accepted,Must have,TYPO3\Flow\Core\Booting\Exception\SubProcessException thrown in file Scripts.php,Dominic Garms,"",2014-01-29 09:19,"","",2013-12-27,"","",0,2013-12-27 04:41,"","",1476700,"","","Hello,

I just received a new Macbook and with a fresh install of Neos 1.0.1 I receive following error after selecting the database. Is there any workaround existing to tackle this?

Uncaught Exception
  An exception occurred while executing 'ALTER TABLE
  typo3_typo3cr_domain_model_nodedata DROP FOREIGN KEY
  typo3_typo3cr_domain_model_nodedata_ibfk_1':

  SQLSTATE[42000]: Syntax error or access violation: 1091 Can't DROP
  'typo3_typo3cr_domain_model_nodedata_ibfk_1'; check that column/key
  exists

More Information
  Exception code      #0
  File                /data/www/websites/neos/stable/Packages/Libraries/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php line 47

31 TYPO3\Flow\Core\Booting\Scripts::executeCommand(""typo3.flow:doctrine:migrate"", array|16|, FALSE)

30 TYPO3\Setup\Step\DatabaseStep_Original::postProcessFormValues(array|8|)

29 TYPO3\Setup\Controller\SetupController_Original::postProcessStep(array|8|, TYPO3\Setup\Step\DatabaseStep)

28 TYPO3\Setup\Controller\SetupController_Original::TYPO3\Setup\Controller\{closure}(TYPO3\Form\Core\Model\FinisherContext)

27 TYPO3\Form\Finishers\ClosureFinisher_Original::executeInternal()

26 TYPO3\Form\Core\Model\AbstractFinisher::execute(TYPO3\Form\Core\Model\FinisherContext)

25 TYPO3\Form\Core\Runtime\FormRuntime_Original::invokeFinishers()

24 TYPO3\Form\Core\Runtime\FormRuntime_Original::render()

23 TYPO3\Setup\Controller\SetupController_Original::indexAction(0)

22 TYPO3\Setup\Controller\SetupController::indexAction(0)

21 call_user_func_array(array|2|, array|1|)

20 TYPO3\Setup\Controller\SetupController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)

17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

15 TYPO3\Setup\Controller\SetupController::indexAction(0)

14 call_user_func_array(array|2|, array|1|)

13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()

12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

9 call_user_func_array(array|2|, array|2|)

8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)

7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)

5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)

4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)

3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\Flow\Http\Response)

2 TYPO3\Setup\Core\RequestHandler::handleRequest()

1 TYPO3\Flow\Core\Bootstrap::run()


Please include more helpful information!"
54566,TYPO3.TYPO3CR,Bug,"",New,Should have,Make node label configurable,Thomas Hempel,"",2013-12-22 04:04,"",1.1,2013-12-22,"","",0,2013-12-22 04:04,"","",1474750,"","","Right now the label in the node tree is either fetched from a property called ""title"" or ""text"". See Domain/Model/DefaultNodeLabelGenerator.php

Please make this configurable via the NodeType configuration. ""Title"" or ""Text"" does not always appropriate and it can cause some confusion.

I will try to provide a patch within the next days.


Greets,
Thomas"
54262,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Publishing nodes can lead to persistence exception,Christian Müller,"",2013-12-07 12:37,"","",2013-12-07,"","",100,2013-12-07 09:04,"","",1460000,"","","Moveing a node works for me, but while publishing, an exception is thrown and the change is not published.

ExtDirect error: Uncaught exception #0 - An exception occurred while executing 'INSERT INTO typo3_typo3cr_domain_model_nodedata (persistence_object_identifier, pathhash, path, parentpath, identifier, sortingindex, removed, hiddenbeforedatetime, hiddenafterdatetime, properties, nodetype, hidden, hiddeninindex, accessroles, workspace, contentobjectproxy) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)' with params [""92742fcb-86cd-537e-b4d5-e15fe61ce3fc"", ""e43f9052837a4c63b1b621350b2b550e"", ""\/sites\/neosdemotypo3org\/features\/test\/main"", ""\/sites\/neosdemotypo3org\/features\/test"", ""06f314c6-f12d-decc-cab0-570268831749"", 100, 0, null, null, ""a:0:{}"", ""TYPO3.Neos:ContentCollection"", 0, 0, ""a:0:{}"", ""live"", null]: SQLSTATE23000: Integrity constraint violation: 1062 Duplicate entry 'e43f9052837a4c63b1b621350b2b550e-live' for key 'UNIQ_60A956B92DBEC7578D940019'

But as i click the pulldown-menu right of the publish-button, i can go to the workspace-management. When i click there on ""Publish all changes"" the change is published as expected. But if i click here to publish the node itself, then the same exception is thrown.
Best Regards Renzo"
54253,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Moving nodes throws exception,Mathias Bolt Lesniak,Bastian Waidelich,2013-12-11 14:29,Node handling,"",2013-12-07,"","",100,2013-12-06 18:23,"","",1459600,"","","Hi!

I hope this is the right place to post this bug. I figure it's Node related, so it has to belong in TYPO3CR.

In Neos beta 2 I get an exception when trying to change the order of two nodes in the node tree using drag and drop.

Example:
Content Collection (main) has two nodes below it in the tree:

- Node A
- Node B

If I drag Node B to change the order of the nodes so Node B is before Node A, I get an exception:

<pre>
13-12-06 18:00:53  CRITICAL  Flow                 Uncaught exception #1301610453 in line 354 of Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Routing_UriBuilder.php: Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details. - See also: 20131206180051e12226.txt
</pre>

 20131206180051e12226.txt:
<pre>
Uncaught exception #1301610453 in line 354 of Data/Temporary/Production/Cache/Code/Flow_Object_Classes/TYPO3_Flow_Mvc_Routing_UriBuilder.php: Could not resolve a route and its corresponding URI for the given parameters. This may be due to referring to a not existing package / controller / action while building a link or URI. Refer to log and check the backtrace for more details.

34 TYPO3\Flow\Mvc\Routing\Router_Original::resolve(array|5|)
33 TYPO3\Flow\Mvc\Routing\UriBuilder_Original::build(array|5|)
32 TYPO3\Flow\Mvc\Routing\UriBuilder_Original::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"", NULL)
31 TYPO3\Flow\Mvc\Routing\UriBuilder::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"", NULL)
30 call_user_func_array(array|2|, array|5|)
29 TYPO3\Flow\Mvc\Routing\UriBuilder::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
28 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
27 TYPO3\Neos\Aspects\PluginUriAspect_Original::rewritePluginViewUris(TYPO3\Flow\Aop\JoinPoint)
26 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
25 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
24 TYPO3\Flow\Mvc\Routing\UriBuilder::uriFor(""show"", array|1|, ""Frontend\Node"", ""TYPO3.Neos"")
23 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController_Original::moveAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""before"")
22 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::moveAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""before"")
21 call_user_func_array(array|2|, array|3|)
20 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
19 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
18 TYPO3\Flow\Security\Aspect\PolicyEnforcementAspect_Original::enforcePolicy(TYPO3\Flow\Aop\JoinPoint)
17 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
16 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
15 TYPO3\Neos\Service\ExtDirect\V1\Controller\NodeController::moveAction(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\TYPO3CR\Domain\Model\Node, ""before"")
14 call_user_func_array(array|2|, array|3|)
13 TYPO3\Flow\Mvc\Controller\ActionController_Original::callActionMethod()
12 TYPO3\Flow\Mvc\Controller\ActionController_Original::processRequest(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
11 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
10 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
9 call_user_func_array(array|2|, array|2|)
8 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
3 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Mvc\ActionRequest, TYPO3\ExtJS\ExtDirect\TransactionResponse)
2 TYPO3\ExtJS\ExtDirect\RequestHandler::handleRequest()
1 TYPO3\Flow\Core\Bootstrap::run()
</pre>

Moving nodes from one Content Collection to another appears to work ok."
53607,TYPO3.TYPO3CR,Task,"",Resolved,Should have,Only persist recursive node changes once,Bastian Waidelich,Christian Müller,2013-12-09 07:35,Node handling,"",2013-11-13,"","",100,2013-11-13 08:20,"","",1427600,"","","https://review.typo3.org/#/c/25300/ fixed moving of nodes, but it leads to the situation that @NodeDataRepository::persistEntities()@ is called recursively for every child node of moved/renamed nodes.
This has a negative effect on performance and it could break the complete sub tree if errors happen during persistence.

One way to solve this would be to remove the persistEntities() call from Node::setPath() and call it after invoking that method from the move*() and setName methods."
53354,TYPO3.TYPO3CR,Task,"",Resolved,Should have,Make workspace name its identifier,Bastian Waidelich,Christian Müller,2013-12-04 12:43,"",1.0 beta 2,2013-11-05,"","",100,2013-11-05 10:10,"","",1415000,"","","The name property of the Workspace domain model is marked @Flow\Identity forcing it to be unique.
But the corresponding db table still contains a @persistence_object_identifier@ column.
Instead I'd suggest to add the @ORM\Id annotation turning the name to the workspace identifier.

This would require us to create a custom migration which is probably not so trivial as usual doctrine migrations.. But I think it would be worth it as this would bring some nice benefits:

* Better readability in the database (instead of ""d4564fa1-6e7e-ac9b-2f38-95dff812566e"" the workspace column of a nodedata record would contain ""live"" or ""user-admin"" etc)
* automatic property mapping: Even with https://review.typo3.org/#/c/25141/ we still use the ""workspace name"" in our javascript code. With this change ""workspaceName"" could be replaced with ""workspace"" there because a name would transparently be mapped to the corresponding instance in actions"
53335,TYPO3.TYPO3CR,Task,"",Resolved,Should have,Replace magic __call method in NodeType,Bastian Waidelich,Bastian Waidelich,2013-12-04 12:43,Nodetype support,1.0 beta 2,2013-11-05,"","",100,2013-11-05 05:02,"","",1414050,"","","Magic @__call()@ methods have a lot of drawbacks. We should replace
<pre>
$nodeType->getSomeFoo()
</pre>
with
<pre>
$nodeType->getConfiguration('someFoo');
</pre>"
52646,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Copying a node into itself causes an endless loop,Aske Ertmann,Aske Ertmann,2013-10-10 13:35,Node handling,1.0 alpha 6,2013-10-09,"","",100,2013-10-09 16:28,"","",1379800,"","",If a node is copied into itself the node gets copied recursively in an endless loop when trying to copy child nodes into the copied node
52498,TYPO3.TYPO3CR,Bug,"",Accepted,Should have,Pasting content into a collection keeps its original position,Tim Kandel,Tim Kandel,2013-10-03 09:51,"","",2013-10-03,"","",0,2013-10-03 06:02,"","",1372500,"","",If you copy some content and paste it into a collection it should actually be pasted at the beginning. Right now it is pasted at the same position it had before.
52130,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,"Workspace->getRootNode() return NodeData, not Node(Interface)",Karsten Dambekalns,Karsten Dambekalns,2013-09-23 06:36,Node handling,1.0 alpha 6,2013-09-19,"","",100,2013-09-19 07:01,"","",1354300,"","",This exposes the internal NodeData instance and breaks the use of the returned node in anything that expects Node(Interface) via type hinting.
51032,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Node type filters do never match,Karsten Dambekalns,Karsten Dambekalns,2013-08-12 09:05,Migrations,"",2013-08-12,"","",100,2013-08-12 08:49,"","",1299800,"","",The introduction of NodeData broke node type filtering in TYPO3CR migrations.
50353,TYPO3.TYPO3CR,Bug,"",New,Should have,Node migration fails (probably) if access roles are set to Nodes,Adrian Föder,"",2013-07-24 03:11,"","",2013-07-24,"","",0,2013-07-24 03:11,"","",1266300,"","","When one of my nodes had an accessroles property set and I attempted to run (any) node migration, the following exception raised:

<pre>
Uncaught exception #1358513802 in line 1116 of \Data\Temporary\Development\Cache\Code\Flow_Object_Classes\TYPO3_Flow_Security_Context.php: The security Context cannot be initialized yet. Please check if it can be initialized with $securityContext->canBeInitialized() before trying to do so.

54 TYPO3\Flow\Security\Context_Original::initialize()
53 TYPO3\Flow\Security\Context::initialize()
52 call_user_func_array(array|2|, array|0|)
51 TYPO3\Flow\Security\Context::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
50 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
49 TYPO3\Flow\Session\Aspect\LazyLoadingAspect_Original::callMethodOnOriginalSessionObject(TYPO3\Flow\Aop\JoinPoint)
48 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
47 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
46 TYPO3\Flow\Security\Context::initialize()
45 TYPO3\Flow\Security\Context_Original::getRoles()
44 TYPO3\Flow\Security\Context::getRoles()
43 call_user_func_array(array|2|, array|0|)
42 TYPO3\Flow\Security\Context::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
41 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
40 TYPO3\Flow\Session\Aspect\LazyLoadingAspect_Original::callMethodOnOriginalSessionObject(TYPO3\Flow\Aop\JoinPoint)
39 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
38 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
37 TYPO3\Flow\Security\Context::getRoles()
36 TYPO3\Flow\Security\Context_Original::hasRole(""EDSH.EdshDe:Member"")
35 TYPO3\Flow\Security\Context::hasRole(""EDSH.EdshDe:Member"")
34 call_user_func_array(array|2|, array|1|)
33 TYPO3\Flow\Security\Context::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
32 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
31 TYPO3\Flow\Session\Aspect\LazyLoadingAspect_Original::callMethodOnOriginalSessionObject(TYPO3\Flow\Aop\JoinPoint)
30 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
29 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
28 TYPO3\Flow\Security\Context::hasRole(""EDSH.EdshDe:Member"")
27 TYPO3\TYPO3CR\Domain\Model\NodeData_Original::isAccessible()
26 TYPO3\TYPO3CR\Domain\Model\Node_Original::isAccessible()
25 TYPO3\TYPO3CR\Domain\Factory\NodeFactory_Original::filterNodeByContext(TYPO3\TYPO3CR\Domain\Model\Node, TYPO3\Neos\Domain\Service\ContentContext)
24 TYPO3\TYPO3CR\Domain\Factory\NodeFactory_Original::createFromNode(TYPO3\TYPO3CR\Domain\Model\NodeData, TYPO3\Neos\Domain\Service\ContentContext)
23 TYPO3\TYPO3CR\Domain\Repository\NodeDataRepository_Original::findByParentAndNodeTypeInContext(""/sites/edshde/intern"", NULL, TYPO3\Neos\Domain\Service\ContentContext, NULL, NULL)
22 TYPO3\TYPO3CR\Domain\Model\Node_Original::getChildNodes()
21 TYPO3\TYPO3CR\Migration\Service\NodeMigration_Original::walkNodes(TYPO3\TYPO3CR\Domain\Model\Node, ""up"")
20 TYPO3\TYPO3CR\Migration\Service\NodeMigration_Original::walkNodes(TYPO3\TYPO3CR\Domain\Model\Node, ""up"")
19 TYPO3\TYPO3CR\Migration\Service\NodeMigration_Original::walkNodes(TYPO3\TYPO3CR\Domain\Model\Node, ""up"")
18 TYPO3\TYPO3CR\Migration\Service\NodeMigration_Original::walkNodes(TYPO3\TYPO3CR\Domain\Model\Node, ""up"")
17 TYPO3\TYPO3CR\Migration\Service\NodeMigration_Original::migrateUp()
16 TYPO3\TYPO3CR\Migration\Command\NodeCommandController_Original::migrateCommand(""live"", ""20120725073211"", TRUE, ""up"")
15 call_user_func_array(array|2|, array|4|)
14 TYPO3\Flow\Cli\CommandController_Original::callCommandMethod()
13 TYPO3\Flow\Cli\CommandController_Original::processRequest(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
12 TYPO3\Flow\Mvc\Dispatcher_Original::dispatch(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
11 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
10 call_user_func_array(array|2|, array|2|)
9 TYPO3\Flow\Mvc\Dispatcher::Flow_Aop_Proxy_invokeJoinPoint(TYPO3\Flow\Aop\JoinPoint)
8 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
7 TYPO3\Flow\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\Flow\Aop\JoinPoint)
6 TYPO3\Flow\Aop\Advice\AroundAdvice::invoke(TYPO3\Flow\Aop\JoinPoint)
5 TYPO3\Flow\Aop\Advice\AdviceChain::proceed(TYPO3\Flow\Aop\JoinPoint)
4 TYPO3\Flow\Mvc\Dispatcher::dispatch(TYPO3\Flow\Cli\Request, TYPO3\Flow\Cli\Response)
3 TYPO3\Flow\Cli\CommandRequestHandler::handleRequest()
2 TYPO3\Flow\Core\Bootstrap::run()
1 require(""\Packages\Framework\TYPO3.Flow\Scripts\flow.php"")
</pre>

(temporarily) removing that property (setting it to @a:0:{}@ manually in typo3_typo3cr_domain_model_nodedata.accessroles, made the error disappear."
49970,TYPO3.TYPO3CR,Bug,"",New,Should have,Node migration throwing fatal error,Sagar Desai,"",2013-07-12 06:32,Nodetype support,"",2013-07-12,"","",0,2013-07-12 06:32,"","",1247500,"","","Uncaught Exception
  Catchable Fatal Error: Argument 1 passed to
  TYPO3\TYPO3CR\Migration\Service\NodeMigration_Original::walkNodes() must
  be an instance of TYPO3\TYPO3CR\Domain\Model\NodeInterface, instance of
  TYPO3\Flow\Persistence\Doctrine\Proxies\__CG__\TYPO3\TYPO3CR\Domain\Model\NodeData
  given, called in
  /var/www/Neos-Projects/Neos-Master/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_TYPO3CR_Migration_Service_NodeMigration.php
  on line 85 and defined in
  /var/www/Neos-Projects/Neos-Master/Data/Temporary/Development/Cache/Code/Flow_Object_Classes/TYPO3_TYPO3CR_Migration_Service_NodeMigration.php
  line 106

More Information
  Exception code      #1
  File                /var/www/Neos-Projects/Neos-Master/Packages/Framework/TYPO3.Flow/Classes/TYPO3/Flow/Error/ErrorHandler.php line 77
  Exception reference #201307121523095ecc11"
48214,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Moving of nodes across levels should not show the same node twice,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-09-30 15:36,"",1.0 beta 1,2013-05-15,"","",100,2013-05-15 06:10,"","",1160700,"","","If having a node structure in live workspace, and MOVING a node into another
parent node, this is copied into your personal workspace.

In neos, the moved node is then shown *twice*: First from the user workspace (correct), and from the live workspace (wrong!).

It only breaks for fetching *collections* of nodes, but that's what we do in Neos all the time."
47421,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Fresh user workspace doesn't get persisted,Adrian Föder,"",2013-04-28 11:25,"","",2013-04-22,"","",100,2013-04-22 02:50,"","",1121500,"","","If a user logs in who does not yet have a workspace, this one does not get persisted (probably due to the Safe request implementation)."
47282,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Broken inheritance on AbstractNode (with PHP ~5.3.5),Karsten Dambekalns,Karsten Dambekalns,2013-04-16 09:36,"","",2013-04-16,"","",100,2013-04-16 07:51,"","",1114750,"","","When running unit tests on PHP 5.3.5 (our Jenkins right now), there is a fatal error:

<pre>Apr 16 13:21:10 17604 php: PHP Fatal error:  Can't inherit abstract function TYPO3\TYPO3CR\Domain\Model\NodeInterface::setName() (previously declared abstract in TYPO3\TYPO3CR\Domain\Model\AbstractNode) in /?/TYPO3CR/Domain/Model/AbstractNode.php on line 31
Apr 16 13:21:10 17604 php: PHP Stack trace:
Apr 16 13:21:10 17604 php: PHP   1. {main}() /usr/bin/phpunit:0
Apr 16 13:21:10 17604 php: PHP   2. PHPUnit_TextUI_Command::main() /usr/bin/phpunit:46
Apr 16 13:21:10 17604 php: PHP   3. PHPUnit_TextUI_Command->run() /usr/share/php/PHPUnit/TextUI/Command.php:130
Apr 16 13:21:10 17604 php: PHP   4. PHPUnit_TextUI_TestRunner->doRun() /usr/share/php/PHPUnit/TextUI/Command.php:192
Apr 16 13:21:10 17604 php: PHP   5. PHPUnit_Framework_TestSuite->run() /usr/share/php/PHPUnit/TextUI/TestRunner.php:325
Apr 16 13:21:10 17604 php: PHP   6. PHPUnit_Framework_TestSuite->run() /usr/share/php/PHPUnit/Framework/TestSuite.php:705
Apr 16 13:21:10 17604 php: PHP   7. PHPUnit_Framework_TestSuite->runTest() /usr/share/php/PHPUnit/Framework/TestSuite.php:745
Apr 16 13:21:10 17604 php: PHP   8. PHPUnit_Framework_TestCase->run() /usr/share/php/PHPUnit/Framework/TestSuite.php:772
Apr 16 13:21:10 17604 php: PHP   9. PHPUnit_Framework_TestResult->run() /usr/share/php/PHPUnit/Framework/TestCase.php:751
Apr 16 13:21:10 17604 php: PHP  10. TYPO3\Flow\Tests\BaseTestCase->runBare() /usr/share/php/PHPUnit/Framework/TestResult.php:649
Apr 16 13:21:10 17604 php: PHP  11. PHPUnit_Framework_TestCase->runBare() /?/Framework/TYPO3.Flow/Tests/BaseTestCase.php:41
Apr 16 13:21:10 17604 php: PHP  12. TYPO3\TYPO3CR\Tests\Unit\Domain\Model\NodeTest->setUp() /?/TestCase.php:801
Apr 16 13:21:10 17604 php: PHP  13. TYPO3\Flow\Tests\BaseTestCase->getAccessibleMock() /?/Application/TYPO3.TYPO3CR/Tests/Unit/Domain/Model/NodeTest.php:28
Apr 16 13:21:10 17604 php: PHP  14. TYPO3\Flow\Tests\BaseTestCase->buildAccessibleProxy() /?/Framework/TYPO3.Flow/Tests/BaseTestCase.php:59
Apr 16 13:21:10 17604 php: PHP  15. ReflectionClass->__construct() /?/Tests/BaseTestCase.php:89
Apr 16 13:21:10 17604 php: PHP  16. Composer\Autoload\ClassLoader->loadClass() /?/Libraries/composer/ClassLoader.php:0
Apr 16 13:21:10 17604 php: PHP  17. include() /?/Libraries/composer/ClassLoader.php:183
Apr 16 13:21:10 17604 php: PHP  18. Composer\Autoload\ClassLoader->loadClass() /?/Libraries/composer/ClassLoader.php:0
Apr 16 13:21:10 17604 php: PHP  19. include() /?/Libraries/composer/ClassLoader.php:183</pre>

The tests pass with PHP 5.4.12 and 5.3.22, so this seems to be some weird old issue. Anyway, since the methods @getName()@ and @setName()@ are in the @NodeInterface@, there is no need for them to be in @AbstractNode@ as abstract methods."
46464,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Remove Neos SiteRepository from NodeConverter,Soren Malling,"",2014-03-26 07:48,"","",2013-03-20,"","",100,2013-03-20 09:06,"","",1074400,"","","ATM TYPO3.TYPO3CR packages in only useable along with the TYPO3.Neos package, since the Neos SiteRepository it required in the typeconverter NodeConverter

        /**
         * @Flow\Inject
         * @var \TYPO3\Neos\Domain\Repository\SiteRepository
         */
        protected $siteRepository;


Solution (I guess):
-------------------
Move the NodeConverter to TYPO3.Neos or remove dependency on the neos siterepository

* or declare the dependency in composer.json "
46401,TYPO3.TYPO3CR,Task,Work Package #45020: Content Editing Stability and Features,Closed,Must have,Workspace module breaks when having two node with same path,Aske Ertmann,Tim Kandel,2014-11-02 12:22,"","",2013-03-18,"","",0,2013-03-18 08:04,"","",1071250,"","","Due to the uniqueness of paths, the workspace module breaks if you have two nodes on the same level with the same path. E.g. two subpages or a subpage and a section with the same path.

We need to figure out what we can do about this issue, since it will become a regular problem."
45312,TYPO3.TYPO3CR,Feature,"",New,Could have,add required child nodes to Node Types,Sebastian Kurfuerst,"",2013-02-09 05:11,Node handling,"",2013-02-09,"","",0,2013-02-09 05:11,"","",1017650,"","","required child-nodes cannot be deleted. Req. child nodes are defined in the schema:

<pre>
MyNodeType:
  childNodes:
    foo:
      autoCreated: false (true is the default; might need to implement this at some point)
      required/mandatory: true # TODO implement
</pre>

Doesn't have high priority though; we thought about this in #44955"
45311,TYPO3.TYPO3CR,Feature,"",New,Should have,Add isAbstract and isMixin to NodeType Schema,Sebastian Kurfuerst,"",2013-11-05 04:56,Node handling,"",2013-02-09,"","",50,2013-02-09 05:08,"","",1017600,"","","for each node type, it might be helpful to know whether it is abstract or mixin, we thought about an @isAbstract@  or @isMixin@ property."
44072,TYPO3.TYPO3CR,Feature,"",Rejected,Should have,Add content type filtering to the node repository's method findOnPath,Aske Ertmann,Aske Ertmann,2014-06-16 05:02,Query handling,"",2012-12-17,"","",70,2012-12-17 15:18,"","",957350,"","","It would be nice to have a way of filtering which kinds of nodes findOnPath returned so it would happen in the query like the and not have to processed afterwards. It would make it easier to find a specific kind of node on a given path, since the logic is quite complex with all the subtypes etc."
40677,TYPO3.TYPO3CR,Bug,Work Package #45020: Content Editing Stability and Features,Closed,Should have,Pasting pastes into target node rather than after,Adrian Föder,Tim Kandel,2014-11-02 12:22,Node handling,"",2012-09-06,"","",100,2012-09-06 10:14,"","",792650,"","","When having the following given node structure (@GridContainer@ and @FreeColumn@ are own Section content elements):

<pre>
Page
  GridContainer
    FreeColumn ~
    FreeColumn #
</pre>

I want to make the both FreeColumns siblings. So I
* select FreeColumn #
* click Cut on it
* select FreeColumn ~ via the Inspector
* click paste on it

I therefore expect # being a sibling of ~, hence being inserted after rather than into ~.
But the result stays the same: # is child of ~ like before."
40664,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Cut and Paste of Content Elements gives 500,Adrian Föder,Aske Ertmann,2012-09-06 10:35,Node handling,Sprint 10 (1.0 TP1),2012-09-06,"","",100,2012-09-06 02:17,"","",792000,"","","When cutting and pasting, an Error occurs, saying

> [06-Sep-2012 06:05:43 UTC] PHP Fatal error:  Call to undefined method TYPO3\TYPO3CR\Domain\Model\ProxyNode::setPath() in C:\Users\afoeder\PhpstormProjects\Edsh\edsh.de\Data\Temporary\Development\Cache\Code\FLOW3_Object_Classes\TYPO3_TYPO3CR_Domain_Model_Node_Original.php on line 222

The loop on the mentioned line seems to unintendedly get a ProxyNode instead of a ""plain"" node.

May this (again) be due to a ""went inconsistent"" persisted nodes state?"
40623,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Add method to rename a node,Karsten Dambekalns,Karsten Dambekalns,2012-09-05 09:35,Node handling,Sprint 10 (1.0 TP1),2012-09-04,"","",100,2012-09-04 13:48,"","",790000,"","","Using move methods it is possible to rename a node, but it is cumbersome to retain the position. A simple @rename()@ seems much better."
40622,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Copying of nodes,Karsten Dambekalns,Karsten Dambekalns,2012-09-04 17:35,Node handling,Sprint 10 (1.0 TP1),2012-09-04,"","",100,2012-09-04 13:47,"","",789950,"","","We need @copyBefore()@, @copyAfter()@ and @copyInto()@."
40551,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,"Sections are not published in the current publishing process, so any content of multi column elements fails to display",Adrian Föder,Aske Ertmann,2012-09-04 17:42,Node handling,Sprint 10 (1.0 TP1),2012-08-15,2012-08-15,"",100,2012-09-03 06:00,"","",786750,"","","Currently, a four-column-container is added to the site, each column having plain TS text objects.
The publish button is pressed and went disabled, after changing some content the publish button is pressed again.
However, the column content is not part of the exported XML, it's just

<pre><code class=""xml"">
<?xml version=""1.0"" encoding=""UTF-8""?>
<root>
	<site nodeName=""mysite"">
		<properties><!-- abridged --></properties>
		<node identifier=""f8f70a5f-7fcd-4e2c-b677-ee918a436c5c"" type=""TYPO3.TYPO3:Page"" nodeName=""homepage"" locale="""">
			<properties>
				<title>Start</title>
			</properties>
			<node identifier=""560e38d2-5246-4f23-b2ca-1d26334834df"" type=""TYPO3.TYPO3:Section"" nodeName=""main"" locale="""">
				<node identifier=""59110f02-e0fa-4a61-8b9f-38f47ede75f2"" type=""TYPO3.TYPO3:FourColumn"" nodeName=""502780c427f66"" locale="""">
					<properties>
						<layout>25-25-25-25</layout>
					</properties>
				</node>
			</node>
		</node>
	</site>
</root>
</code></pre>


if that helps; the db content looks like
<pre>
model_workspace:                                                                                                       
flow3_persistence_identifier         | baseworkspace                        | rootnode                             | name       
0ac909bc-0cf4-4ad1-80dd-5f5580c2415d | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 | 1bb9382b-3d09-454e-8f4a-8f55350308b9 | user-adrian
0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |                                      | 31047548-8e7b-4d7b-bbb2-919f07bb0f20 | live       
</pre>

<pre>
model_node:                                                                                                                                                                                                                                                                                                                                                                                           
53f70cc2-11ab-43dc-b69b-65ab187872a8 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage                                          | f8f70a5f-7fcd-4e2c-b677-ee918a436c5c | 100 | a:1:{s:5:""title"";s:5:""Start"";}                                                                                               | TYPO3.TYPO3:Page       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite                                    
a7602ae7-94f4-4133-ae1f-2927eef35284 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66                       | 59110f02-e0fa-4a61-8b9f-38f47ede75f2 | 144 | a:1:{s:6:""layout"";s:11:""25-25-25-25"";}                                                                                       | TYPO3.TYPO3:FourColumn | 0 | 0 |  |  | 0 | a:0:{} | 4 | /sites/mysite/homepage/main                      
ea9f9ce8-a115-4d71-8924-c602090f214a | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main                                     | 560e38d2-5246-4f23-b2ca-1d26334834df | 100 | a:0:{}                                                                                                                       | TYPO3.TYPO3:Section    | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage                           
                                                                                                                                                                                                                                                                                                                                                                                           
0c0f13b7-3217-4cca-bafc-7fa2875a9cd8 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column1/50278122c4de5 | 8ebd41bf-62c8-4e2d-a3cd-31dc2604df94 | 100 | a:2:{s:5:""title"";s:26:""<h1>Zweite Spalte<br></h1>"";s:4:""text"";s:23:""<p>Enter text here.</p>"";}                               | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage/main/502780c427f66/column1
2f8bac30-0c56-4cd6-80ba-9bba5fc061ef | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column3/5027815de974b | 735bd7d3-ec1b-4854-9b0c-0ab5391d3a12 | 100 | a:2:{s:5:""title"";s:26:""<h1>Vierte Spalte<br></h1>"";s:4:""text"";s:23:""<p>Enter text&nbsp;</p>"";}                               | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage/main/502780c427f66/column3
aba0ba6c-68a4-4e91-ab94-c5ef9815d29a | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column0/502780f0f3926 | 822d9909-2ee2-44bb-a422-b2dffcde3276 | 100 | a:2:{s:5:""title"";s:38:""<h1>Ich bin eine Überschrift<br></h1>"";s:4:""text"";s:42:""<p>Und ein Plaintext; erste Spalte<br></p>"";} | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage/main/502780c427f66/column0
b9cb9218-587a-4da7-b3a1-61f80158ac70 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column2/5027813fca49c | f1047ac7-a030-4405-9d44-2926dc3bb114 | 100 | a:2:{s:5:""title"";s:26:""<h1>Dritte Spalte<br></h1>"";s:4:""text"";s:22:""<p>Enter text here</p>"";}                                | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 6 | /sites/mysite/homepage/main/502780c427f66/column2
</pre>

If you need further info, don't hesitate to ask; it's just an experimental web page."
40373,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,TYPO3CR content migration support,Karsten Dambekalns,Christian Müller,2012-09-04 16:35,"",Sprint 10 (1.0 TP1),2012-08-29,"","",100,2012-08-29 06:41,"","",778200,"","","We need a way to migrate content when content types or internal structures change, so one can e.g. rename a content type."
39795,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,"Sections are not published in the current publishing process, so any content of multi column elements fails to display",Adrian Föder,"",2012-09-03 05:35,Node handling,"",2012-08-14,"","",100,2012-08-14 05:24,"","",751250,"","","Currently, a four-column-container is added to the site, each column having plain TS text objects.
The publish button is pressed and went disabled, after changing some content the publish button is pressed again.
However, the column content is not part of the exported XML, it's just

<pre><code class=""xml"">
<?xml version=""1.0"" encoding=""UTF-8""?>
<root>
	<site nodeName=""mysite"">
		<properties><!-- abridged --></properties>
		<node identifier=""f8f70a5f-7fcd-4e2c-b677-ee918a436c5c"" type=""TYPO3.TYPO3:Page"" nodeName=""homepage"" locale="""">
			<properties>
				<title>Start</title>
			</properties>
			<node identifier=""560e38d2-5246-4f23-b2ca-1d26334834df"" type=""TYPO3.TYPO3:Section"" nodeName=""main"" locale="""">
				<node identifier=""59110f02-e0fa-4a61-8b9f-38f47ede75f2"" type=""TYPO3.TYPO3:FourColumn"" nodeName=""502780c427f66"" locale="""">
					<properties>
						<layout>25-25-25-25</layout>
					</properties>
				</node>
			</node>
		</node>
	</site>
</root>
</code></pre>


if that helps; the db content looks like
<pre>
model_workspace:                                                                                                       
flow3_persistence_identifier         | baseworkspace                        | rootnode                             | name       
0ac909bc-0cf4-4ad1-80dd-5f5580c2415d | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 | 1bb9382b-3d09-454e-8f4a-8f55350308b9 | user-adrian
0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |                                      | 31047548-8e7b-4d7b-bbb2-919f07bb0f20 | live       
</pre>

<pre>
model_node:                                                                                                                                                                                                                                                                                                                                                                                           
53f70cc2-11ab-43dc-b69b-65ab187872a8 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage                                          | f8f70a5f-7fcd-4e2c-b677-ee918a436c5c | 100 | a:1:{s:5:""title"";s:5:""Start"";}                                                                                               | TYPO3.TYPO3:Page       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite                                    
a7602ae7-94f4-4133-ae1f-2927eef35284 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66                       | 59110f02-e0fa-4a61-8b9f-38f47ede75f2 | 144 | a:1:{s:6:""layout"";s:11:""25-25-25-25"";}                                                                                       | TYPO3.TYPO3:FourColumn | 0 | 0 |  |  | 0 | a:0:{} | 4 | /sites/mysite/homepage/main                      
ea9f9ce8-a115-4d71-8924-c602090f214a | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main                                     | 560e38d2-5246-4f23-b2ca-1d26334834df | 100 | a:0:{}                                                                                                                       | TYPO3.TYPO3:Section    | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage                           
                                                                                                                                                                                                                                                                                                                                                                                           
0c0f13b7-3217-4cca-bafc-7fa2875a9cd8 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column1/50278122c4de5 | 8ebd41bf-62c8-4e2d-a3cd-31dc2604df94 | 100 | a:2:{s:5:""title"";s:26:""<h1>Zweite Spalte<br></h1>"";s:4:""text"";s:23:""<p>Enter text here.</p>"";}                               | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage/main/502780c427f66/column1
2f8bac30-0c56-4cd6-80ba-9bba5fc061ef | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column3/5027815de974b | 735bd7d3-ec1b-4854-9b0c-0ab5391d3a12 | 100 | a:2:{s:5:""title"";s:26:""<h1>Vierte Spalte<br></h1>"";s:4:""text"";s:23:""<p>Enter text&nbsp;</p>"";}                               | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage/main/502780c427f66/column3
aba0ba6c-68a4-4e91-ab94-c5ef9815d29a | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column0/502780f0f3926 | 822d9909-2ee2-44bb-a422-b2dffcde3276 | 100 | a:2:{s:5:""title"";s:38:""<h1>Ich bin eine Überschrift<br></h1>"";s:4:""text"";s:42:""<p>Und ein Plaintext; erste Spalte<br></p>"";} | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 2 | /sites/mysite/homepage/main/502780c427f66/column0
b9cb9218-587a-4da7-b3a1-61f80158ac70 | 0ce8adbc-f358-46af-bd1d-3cce7a73bb40 |  | /sites/mysite/homepage/main/502780c427f66/column2/5027813fca49c | f1047ac7-a030-4405-9d44-2926dc3bb114 | 100 | a:2:{s:5:""title"";s:26:""<h1>Dritte Spalte<br></h1>"";s:4:""text"";s:22:""<p>Enter text here</p>"";}                                | TYPO3.TYPO3:Text       | 0 | 0 |  |  | 0 | a:0:{} | 6 | /sites/mysite/homepage/main/502780c427f66/column2
</pre>

If you need further info, don't hesitate to ask; it's just an experimental web page."
37958,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Authentication no longer triggered for inaccessible node,Karsten Dambekalns,Christian Müller,2012-07-13 10:39,Node handling,Sprint 9,2012-06-12,"","",100,2012-06-12 08:56,"","",660500,"","","Until now we could redirect to the ""My T3CON"" page from the typo3.org SSO login and the user would be authenticated. This does not work any longer since this change:
<pre>
e6aac075332b526e7fde5e22ebd370238d43c99d
commit e6aac075332b526e7fde5e22ebd370238d43c99d
Author: Christian Müller <christian@kitsunet.de>
Date:   Tue May 22 18:03:52 2012 +0200

    [BUGFIX] Nodes with access roles should behave as expected
    
    Change-Id: Ib21f641ed15164b15a5d48397511234ad503d59c

diff --git a/Classes/Domain/Model/Node.php b/Classes/Domain/Model/Node.php
index 3147220..a445eda 100644
--- a/Classes/Domain/Model/Node.php
+++ b/Classes/Domain/Model/Node.php
@@ -972,7 +972,7 @@ class Node implements NodeInterface {
                        return NULL;
                }
 
-               if (!$this->isAccessible() && !$this->nodeRepository->getContext()->isInaccessibleContentShown()) {
+               if (!$node->isAccessible() && !$this->nodeRepository->getContext()->isInaccessibleContentShown()) {
                        return NULL;
                }
                return $node;
</pre>

Now instead of being authenticated a 404 is returned, as the node is not ""found"" in the first place."
37435,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Functional Domain/NodesTest fail with 2 Errors,Adrian Föder,Christian Müller,2012-07-13 10:22,Node handling,"",2012-05-23,"","",100,2012-05-23 09:22,"","",634500,"","","Functional Testing fails with the following messages:

<pre>
There were 2 failures:

1) TYPO3\TYPO3CR\Tests\Functional\Domain\NodesTest::renumberingTakesUnpersistedNodeOrderChangesIntoAccount
Expected node node003 (index 3), actual node node004 (index 5)

/var/www/Packages/Application/TYPO3.TYPO3CR/Tests/Functional/Domain/NodesTest.php:552
/var/www/Packages/Application/TYPO3.TYPO3CR/Tests/Functional/Domain/NodesTest.php:500
/var/www/Packages/Framework/TYPO3.FLOW3/Tests/BaseTestCase.php:50

2) TYPO3\TYPO3CR\Tests\Functional\Domain\NodesTest::nodeRepositoryRenumbersNodesIfNoFreeSortingIndexesAreAvailable
Expected node node150 (index 800), actual node node149 (index 7900)

/var/www/Packages/Application/TYPO3.TYPO3CR/Tests/Functional/Domain/NodesTest.php:552
/var/www/Packages/Application/TYPO3.TYPO3CR/Tests/Functional/Domain/NodesTest.php:526
/var/www/Packages/Framework/TYPO3.FLOW3/Tests/BaseTestCase.php:50

FAILURES!
Tests: 20, Assertions: 30, Failures: 2.
</pre>

Maybe you have that, too; System is Debian Sqeeze with PHP 5.4 (!)"
37434,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Functional Domain/NodesTest must have testableHttpEnabled,Adrian Föder,Adrian Föder,2012-05-23 18:45,Node handling,"",2012-05-23,"","",0,2012-05-23 09:10,"","",634450,"","","TYPO3\TYPO3\Domain\Service\ContentContext::initializeObject() has 
<pre>
$activeRequesthandler->getHttpRequest()->getUri()->getHost())
</pre>

getHttpRequest() returns NULL if the TYPO3CR's NodesTest doesn't have 
<pre>
protected $testableHttpEnabled = TRUE;
</pre>
and therefore the FunctionalTest fatal error's very early with ""calling getUri() on a Non-object""
"
36635,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,ContextInterface lacks two needed methods,Karsten Dambekalns,Karsten Dambekalns,2012-04-26 20:38,"","",2012-04-26,"","",100,2012-04-26 15:59,"","",595000,"","","The methods @setInaccessibleContentShown()@ and @isInaccessibleContentShown()@ were introduced to the context, but not the @ContextInterface@"
34291,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Node Reordering needs to take unpersisted node order changes into account,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-05-23 05:45,Node handling,"",2012-02-26,"","",100,2012-02-26 11:33,"","",480700,"","","he error can be reproduced in the following way:

* First, create some nodes, and persist them.
* Then, move a node after another one, filling the LAST free sorting index between the nodes. Do NOT persist after that.
* After that, try to *again* move a node to this spot. In this case, we need to *renumber* the node indices, and the system needs to take the before-moved node into account as well.

The bug tested by this testcase led to wrong orderings on the flow3org website in the documentation part under some circumstances."
34116,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,setNewIndex() breaks when invalid position is given,Karsten Dambekalns,Karsten Dambekalns,2012-05-21 09:37,Node handling,"",2012-02-20,"","",100,2012-02-20 11:25,"","",472000,"","","When an invalid position is given to setNewIndex(), the index of the target node iss either set to NULL or the code will break due to the use of an uninitialized variable."
33825,TYPO3.TYPO3CR,Feature,"",New,Should have,Type hierarchy support for content type filter,Karsten Dambekalns,"",2012-02-09 16:58,Node handling,"",2012-02-09,"","",0,2012-02-09 16:58,"","",457650,"","","When using content type filtering with @getChildNodes()@, it is not possible to make use of a type hierarchy. It would be nice to have an operator like @instanceof@ to fetch all nodes of type ""x or above""."
32667,TYPO3.TYPO3CR,Bug,"",Resolved,-- undefined --,TYPO3\TYPO3CR\Exception\NodeException thrown in file TYPO3_TYPO3CR_Domain_Model_Node_Original.php,Jonathan Starck,"",2012-01-20 20:41,"","",2011-12-18,"","",0,2011-12-18 10:24,"","",401600,"","","The security context is not yet intialized, thus the Node ""/sites/phoenixdemotypo3org/homepage/adminpage"" cannot determine if it is accessible. Some code part is calling isAccessible() early than is possible at that initialization stage.
19 TYPO3\TYPO3CR\Domain\Model\Node_Original::isAccessible()

18 TYPO3\TYPO3\Controller\Frontend\NodeController_Original::showAction(TYPO3\TYPO3CR\Domain\Model\Node)

17 call_user_func_array(array, array)

16 TYPO3\FLOW3\MVC\Controller\ActionController_Original::callActionMethod()

15 TYPO3\FLOW3\MVC\Controller\ActionController_Original::processRequest(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

14 TYPO3\FLOW3\MVC\Dispatcher_Original::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

13 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

12 call_user_func_array(array, array)

11 TYPO3\FLOW3\MVC\Dispatcher::FLOW3_AOP_Proxy_invokeJoinPoint(TYPO3\FLOW3\AOP\JoinPoint)

10 TYPO3\FLOW3\AOP\Advice\AdviceChain::proceed(TYPO3\FLOW3\AOP\JoinPoint)

9 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::setAccessDeniedResponseHeader(TYPO3\FLOW3\AOP\JoinPoint)

8 TYPO3\FLOW3\AOP\Advice\AroundAdvice::invoke(TYPO3\FLOW3\AOP\JoinPoint)

7 TYPO3\FLOW3\AOP\Advice\AdviceChain::proceed(TYPO3\FLOW3\AOP\JoinPoint)

6 TYPO3\FLOW3\Security\Aspect\RequestDispatchingAspect_Original::blockIllegalRequestsAndForwardToAuthenticationEntryPoints(TYPO3\FLOW3\AOP\JoinPoint)

5 TYPO3\FLOW3\AOP\Advice\AroundAdvice::invoke(TYPO3\FLOW3\AOP\JoinPoint)

4 TYPO3\FLOW3\AOP\Advice\AdviceChain::proceed(TYPO3\FLOW3\AOP\JoinPoint)

3 TYPO3\FLOW3\MVC\Dispatcher::dispatch(TYPO3\FLOW3\MVC\Web\Request, TYPO3\FLOW3\MVC\Web\Response)

2 TYPO3\FLOW3\MVC\Web\RequestHandler::handleRequest()

1 TYPO3\FLOW3\Core\Bootstrap::run()


Please include more helpful information!"
32298,TYPO3.TYPO3CR,Task,Story #40585: [Page Tree] As a content editor I want to move pages by drag and drop,Closed,Must have,Feature Moving Pages into branches / create new branches,Markus Goldbeck,Karsten Dambekalns,2012-10-04 08:01,Node handling,Sprint 10 (1.0 TP1),2011-12-05,"",0.00,100,2011-12-05 06:03,"","",383600,0.00,"","Missing Implementation of moving pages into branches in /TYPO3.TYPO3CR/Classes/Domain/Model/Node.php

The functions _moveBefore()_ and _moveAfter()_ are implemented but there is no possibility to move pages into branches or create new branches by moving a page on another.


Needed functions which update recursivly the paths of their childs:
* _moveIntoBefore()_
* _moveIntoAfter()_
* special case _moveInto()_ for creating a new branch"
30384,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Sorting order of nodes is broken,Robert Lemke,Robert Lemke,2011-09-30 09:05,Node handling,"",2011-09-28,"","",100,2011-09-28 07:46,"","",289700,"","","The sorting order of nodes, especially in a multi-workspace scenario, is partly random. Creating a node and then moving it with moveBefore() and moveAfter() doesn't always lead to the expected result."
30167,TYPO3.TYPO3CR,Bug,"",Resolved,Could have,Rename hiddenBeforeDate and hiddenAfterDate,Rens Admiraal,Rens Admiraal,2011-12-23 09:52,Node handling,"",2011-09-21,"","",0,2011-09-21 09:02,"","",278900,"","","hiddenBeforeDate and hiddenAfterDate both hold a DateTime object, so the names should reflect that. Suggestion:

hiddenBeforeDateTime / hiddenAfterDateTime

credits for finding go to Peter Beernink"
29538,TYPO3.TYPO3CR,Task,"",Resolved,Should have,Streamline isVisible() and isAccessible implementations,Robert Lemke,Robert Lemke,2011-11-07 04:29,Node handling,"",2011-09-07,"","",100,2011-09-07 05:28,"","",247750,"","","Currently Node::isVisible() will only consider if a Node is accessible or not, if the security context is already initialized.
This is usually the case, but in the Node Routepart Handler it is not. 

We need to do some further investigation to see if FLOW3 could provide the necessary information already at that early stage.

Maybe, isVisible() should only tell if the Node has any visibility modifiers set and access restrictions should be handled separately."
28214,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Nodes should be accessible if authenticated user is in one of the required roles,Bastian Waidelich,Bastian Waidelich,2011-07-15 12:07,Node handling,"",2011-07-14,"","",100,2011-07-14 16:01,"","",183500,"","","Currently a node is only accessible if the logged in user is in *all* of the required *accessRoles*.
This should be changed so that a node is visible as soon as the logged in user is in *one* of the required roles."
27181,TYPO3.TYPO3CR,Bug,"",Closed,Must have,Moving of nodes should not duplicate content,Sebastian Kurfuerst,"",2011-09-20 11:54,Node handling,Sprint 7,2011-06-01,"","",0,2011-06-01 06:11,"","",134450,"","","right now, the way moving of nodes is implemented has some drawbacks. If we have 5 nodes:

* Node1 (Sorting:1)
* Node2 (Sorting:2)
* Node3 (Sorting:3)
* Node4 (Sorting:4)
* Node5 (Sorting:5)

and then we move Node5 before Node1, this will lead to a complete re-numbering:

* Node5 (Sorting:1)
* Node1 (Sorting:2)
* Node2 (Sorting:3)
* Node3 (Sorting:4)
* Node4 (Sorting:5)

This will copy *all nodes to personal workspace*, although nothing changed.

* An idea would be to distinguish between *content changes* and further changes like moving or deleting nodes."
27140,TYPO3.TYPO3CR,Bug,"",Closed,Should have,Creating an already-deleted node leads to an error,Sebastian Kurfuerst,"",2011-09-20 11:54,"","",2011-05-30,"","",0,2011-05-30 09:18,"","",132400,"","","Try the following:

Create a node with nodeName ""test""
Delete this node
Create another node with nodeName ""test"" (at the same place)

-> Should work, but does not.

*Suggested solution*: Create followed by Delete should directly remove the node (when the changes have not been committed yet to live workspace)."
26851,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,ProxyNode should not automatically persist newNode if it has been cloned beforehand.,Sebastian Kurfuerst,Sebastian Kurfuerst,2011-05-25 03:05,Node handling,Sprint 7,2011-05-17,"","",100,2011-05-17 05:02,"","",119250,"","","If one has a @$proxyNode@, clones it, and changes a property on that node, these changes are automatically persisted. This also happens if one *clones* the ProxyNode. In this case, however, it needs to lose its connection with the Persistence Layer (and a call to Repository::update() is needed again)."
13704,TYPO3.TYPO3CR,Task,"",Resolved,Should have,Fix Node Repository to search in non persistet nodes.,Christian Müller,Christian Müller,2013-05-11 12:27,"","",2011-03-09,"","",0,2011-03-09 03:31,"","",85550,"","","Currently the Node methods / Node Repository do not always consider Nodes that are not yet persistet, which leads to several problems, which remained undetected due to not using them until now and having few functional tests. So fix that and add tests."
11550,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,ProxyNodes for the same node not the same instance,Karsten Dambekalns,Robert Lemke,2011-05-05 11:14,Node handling,"",2010-12-17,"","",100,2010-12-17 07:04,"","",1814000,"","","When proxy nodes for a node are created, it is not ensured that for each node only one proxy instance is created."
7671,TYPO3.TYPO3CR,Task,"",Resolved,Must have,Fix unit tests,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,"","",2010-05-05,"",6.00,100,2010-05-05 11:47,"","",37350,6.00,"",.
6522,TYPO3.TYPO3CR,Bug,"",Closed,Must have,Referenziert noch nach dem alten Resourcenpfad,Lukas Lentner,"",2011-05-05 11:14,"","",2010-02-19,"","",0,2010-02-19 06:54,"","",1811150,"","","Ruft man das Admin Interface auf, so passiert nix, da die falschen JS-Dateien eingebunden werden."
5921,TYPO3.TYPO3CR,Bug,"",Closed,Should have,Equals (Query) ignore the propertyName in a comparison with objects.,Tommy Seus,"",2011-05-05 11:14,"","",2010-01-07,"","",0,2010-01-07 11:11,"","",1811200,"","","Hello, I think the ""propertyName"" is ignored when comparing with objects (query, equals).
PostRepository: 
works: $query->matching($query->equals('blog', $blog))
works too: $query->matching($query->equals('nothing', $blog))

I suspect that will return all objects that have a reference to the object of comparison. The propertyname is ignored.
I noticed the mistake because I have 2 properties in which the comparison object can be saved. I would now like to get back all the objects that reference the object at a particular property.
"
5600,TYPO3.TYPO3CR,Bug,"",Closed,Should have,nested domain-models produce a endless loop,Tommy Seus,"",2011-05-05 11:14,"","",2009-12-02,"","",0,2009-12-01 21:36,"","",1811250,"","","Hi,

I have special nested domain-models. To reproduce the Bugs it is necessary to use no Lazy SplStorageObjects. I have two classes. Each class has a property to store the other class in a SplStorageObject.

The class backend.php calls the method persistObject($object). The Objects in the SplStorageObject are stored in a QUEUE. All objects in the QUEUE are persisted again (persistObject($object)). It is a endless loop to persist the nested object.  

Error: Fatal Error: Maximum function nesting level of  ?

One solution would be to persist only objects that have not been saved so far.


---

The second problem occurs with an update. The method replaceObject() removes the oldObject1 from the identity-mapper. 

persistObject():
updatedObject1 -> SPL -> Object2 (AOPProxy) -> SPL -> OldObject1 = cant find the UID and the OldObject1 in the Idenity-Mapper

Error: CRITICAL TYPO3 Uncaught Exception 1246892970
"
4317,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Still Problems with SplObjectStorage duplicates,Tommy Seus,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-08-25,"","",100,2009-08-25 10:17,"","",1811300,"","","My Version is Revision r3094

There are still problems with the SplObjectStorage duplicates (Issue #3819).

I have attached my script. In addition, the blog model must be expanded.

Step1:
creating a Blog
creating a Post1
creating a Post2
add Post1 to Blog


Step2:
add Post2 to Blog

Step3
detach Post1 from Blog"
4313,TYPO3.TYPO3CR,Bug,"",Resolved,-- undefined --,TYPO3CR Setup not working anymore (has patch),Irene Höppner,Karsten Dambekalns,2011-05-05 11:14,"","",2009-08-25,"","",100,2009-08-25 04:52,"","",1811350,"","",Just renamed initializeArguments() to initializeSetupAction() and changed the action of the form from setup to setup/setup/ to make it work again.
3959,TYPO3.TYPO3CR,Feature,"",Resolved,Must have,Implement limit and ordering for query object model,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Query handling,"",2009-07-22,"","",100,2009-07-22 04:30,"","",1813750,"","",.
3890,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,"If FLOW3 lies in a Subfolder, Browser can't find CSS and Javascript.",Tommy Seus,"",2011-05-05 11:14,"","",2009-07-13,"","",100,2009-07-13 17:38,"","",1811400,"","","*File:* /TYPO3CR/Resources/Public/HTML/View_Admin_Viewport.html

If FLOW3 operates in a subfolder, this call does not work anymore. 

<pre>
<link rel=""stylesheet"" href=""/Resources/Packages/ExtJS/CSS/ext-all.css"" />
</pre> 

The insert of ###BASEURI### fixes this bug. 
<pre>
<link rel=""stylesheet"" href=""###BASEURI###Resources/Packages/ExtJS/CSS/ext-all.css"" />
</pre>"
3889,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Reinjected dependencies are overwritten with NULL,Robert Lemke,Robert Lemke,2011-05-05 11:14,FLOW3 Persistence,"",2009-07-13,"","",100,2009-07-13 12:43,"","",1813800,"","","If a dependency property is not tagged with @transient, it will be overwritten with NULL by the DataMapper right after the dependency has been reinjected (while thawing the property)."
3859,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Reference cycles can not be persisted if no aggregate roots are involved,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-07-09,"","",100,2009-07-09 11:43,"","",1813850,"","","When having reference cycles in an object tree that is persisted, the Backend bails out if the objects are not aggregate root (i.e. don't have a repository):
<pre>
Uncaught FLOW3 Exception
#1219424096: The identifier requested (7e449a8f-94cb-41bc-ad1f-927fb4ca0643) for ""flow3:contentNode""is already in use. (More information)

F3\PHPCR\ItemExistsException thrown in file
/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/Node.php in line 465.

9 F3\TYPO3CR\Node::addNode(""flow3:contentNode"", ""flow3:F3_TYPO3_Domain_Model_Structure_ContentNode"", ""7e449a8f-94cb-41bc-ad1f-927fb4ca0643"")

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php:
00478:    $node = $parentNode->addNode($nodeName, $nodeTypeName, $object->FLOW3_AOP_Proxy_getProperty($uuidPropertyName));
00479:   } elseif ($object->FLOW3_AOP_Proxy_getProperty('FLOW3_Persistence_Entity_UUID') !== NULL) {
00480:    $node = $parentNode->addNode($nodeName, $nodeTypeName, $object->FLOW3_AOP_Proxy_getProperty('FLOW3_Persistence_Entity_UUID'));
00481:   } else {
00482:    $node = $parentNode->addNode($nodeName, $nodeTypeName);

8 F3\TYPO3CR\FLOW3\Persistence\Backend::createNodeForEntity(F3\TYPO3\Domain\Model\Structure\ContentNode_AOPProxy_Development, F3\TYPO3CR\Node, ""flow3:contentNode"")

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php:
00393:      if ($object->FLOW3_Persistence_isNew()) {
00394:       if ($this->classSchemata[$propertyValue->FLOW3_AOP_Proxy_getProxyTargetClassName()]->getModelType() === \F3\FLOW3\Persistence\ClassSchema::MODELTYPE_ENTITY) {
00395:        $this->createNodeForEntity($propertyValue, $node, 'flow3:' . $propertyName);
00396:       } else {
00397:        $this->createNodeForValueObject($propertyValue, $node, 'flow3:' . $propertyName);

7 F3\TYPO3CR\FLOW3\Persistence\Backend::persistObject(F3\TYPO3\Domain\Model\Content\Page_AOPProxy_Development)

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php:
00414:    // right place and have the right name. fancy, eh?
00415:   foreach ($queue as $object) {
00416:    $this->persistObject($object);
00417:   }
00418:  }

6 F3\TYPO3CR\FLOW3\Persistence\Backend::persistObject(F3\TYPO3\Domain\Model\Structure\ContentNode_AOPProxy_Development)

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php:
00414:    // right place and have the right name. fancy, eh?
00415:   foreach ($queue as $object) {
00416:    $this->persistObject($object);
00417:   }
00418:  }

5 F3\TYPO3CR\FLOW3\Persistence\Backend::persistObject(F3\TYPO3\Domain\Model\Structure\Site_AOPProxy_Development)

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php:
00329: 
00330:   foreach ($this->aggregateRootObjects as $object) {
00331:    $this->persistObject($object);
00332:   }
00333: 

4 F3\TYPO3CR\FLOW3\Persistence\Backend::persistObjects()

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php:
00249:   */
00250:  public function commit() {
00251:   $this->persistObjects();
00252:   $this->processDeletedObjects();
00253:   $this->session->save();

3 F3\TYPO3CR\FLOW3\Persistence\Backend::commit()

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/FLOW3/Classes/Persistence/Manager.php:
00209:   $this->backend->setAggregateRootObjects($aggregateRootObjects);
00210:   $this->backend->setDeletedObjects($removedObjects);
00211:   $this->backend->commit();
00212: 
00213:    // this needs to unregister more than just those, as at least some of

2 F3\FLOW3\Persistence\Manager::persistAll()

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/FLOW3/Classes/Core/Bootstrap.php:
00652: 
00653:    if ($this->settings['persistence']['enable'] === TRUE) {
00654:     $this->objectManager->getObject('F3\FLOW3\Persistence\ManagerInterface')->persistAll();
00655:    }
00656:    $this->objectManager->getObject('F3\FLOW3\Session\SessionInterface')->close();

1 F3\FLOW3\Core\Bootstrap::run()

/Users/Shared/Sites/dev/t3v5/dist/Public/index.php:
00045: $flow3 = new $bootstrapClassName(getenv('FLOW3_CONTEXT'));
00046: $flow3->initialize();
00047: $flow3->run();
00048: 
00049: ?>
</pre>

Instead of producing that exception, an object proxy should be created in the CR."
3858,TYPO3.TYPO3CR,Feature,"",Resolved,Must have,Add objects to their own repository automatically,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-07-09,"","",100,2009-07-09 08:55,"","",1813900,"","","On persisting Entities which are referencing Entities being aggregate roots as well an exception is thrown if those are not added to their own repository (they must be added to their own repository, too).

Instead of throwing that exception, objects should be added to their own repository automatically."
3835,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Nested array containing objects as leafs are not handled correctly,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-07-06,"","",100,2009-07-06 11:36,"","",1813950,"","","Consider this class:

<pre>
/**
 * @scope prototype
 * @entity
 */
class FooNode {

	/**
	 * @var array
	 */
	protected $objects = array();

	public function bar($foo, $bar, $object) {
		$this->objects[$foo][$bar] = $object;
	}
}
</pre>

bar() adds the given object to $this->objects ? but indexed by $foo and $bar.
What you'll get during persistence time is:

<pre>
#1246892972: Object expected, array given. (More information)

InvalidArgumentException thrown in file
/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/IdentityMap.php in line 102.

12 F3\TYPO3CR\FLOW3\Persistence\IdentityMap::getUUIDByObject(array)

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php:
00347:  protected function persistObject($object) {
00348:   $queue = array();
00349:   $node = $this->session->getNodeByIdentifier($this->identityMap->getUUIDByObject($object));
00350: 
00351:   $classSchema = $this->classSchemata[$object->FLOW3_AOP_Proxy_getProxyTargetClassName()];
</pre>

This should be handled correctly - or if that is not possible, at least a meaningful error should be shown."
3819,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Objects in SplObjectStorage are stored over and over again,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-07-02,"","",100,2009-07-02 08:25,"","",1812750,"","","When an object inside an SplObjectStorage is stored (at least when using a reference), it will be stored again whenever the source property is dirty.

This doesn't cause problems on reading, as the object will be reconstituted only once and SplObjectStorage stores only distinct instances, but - it's a waste of space, exremely unclean and needs to be fixed.

Might apply to objects in arrays, too."
3756,TYPO3.TYPO3CR,Bug,"",Rejected,Should have,Empty SplObjectStorage property is not reconstituted,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-06-25,"","",100,2009-06-25 04:28,"","",1813700,"","","If a persisted object contains a property of type SplObjectStorage and that storage does not contain any objects, the storage itself won't be reconstituted on recreating the persisted object.

Example:
<pre>
/**
 * A blog
 *
 * @scope prototype
 * @entity
 */
class Blog {

	/**
	 * The posts contained in this blog
	 *
	 * @var \SplObjectStorage
	 * @lazy
	 */
	protected $posts;

	/**
	 * Constructs a new Blog
	 */
	public function __construct() {
		$this->posts = new \SplObjectStorage();
	}

	/**
	 * Adds a post to this blog
	 *
	 * @param \F3\Blog\Domain\Model\Post $post
	 * @return void
	 */
	public function addPost(\F3\Blog\Domain\Model\Post $post) {
		$post->setBlog($this);
		$this->posts->attach($post);
	}

	/**
	 * Returns all posts in this blog
	 *
	 * @return \SplObjectStorage
	 * @author Robert Lemke <robert@typo3.org>
	 */
	public function getPosts() {
		if ($this->posts instanceof \F3\FLOW3\Persistence\LazyLoadingProxy) {
			$this->posts->_loadRealInstance();
		}
		return clone $this->posts;
	}

}
?>
</pre>

If the Blog contains no Posts, getPosts() will return a clone of the empty SplObjectStorage. However, if the Blog has been reconstituted, $this->posts is NULL and therefore issues a fatal error on cloning $this->posts."
3672,TYPO3.TYPO3CR,Feature,"",Closed,Could have,Allow export of invalid item names in document view,Karsten Dambekalns,"",2011-05-05 11:14,Import/Export,"",2009-06-15,"","",0,2009-06-15 08:24,"","",1811450,"","","Export of invalid item (node, property) names needs escaping, see JSR-283."
3671,TYPO3.TYPO3CR,Feature,"",Closed,Could have,Multivalued properties can be exported in document view,Karsten Dambekalns,"",2011-05-05 11:14,Import/Export,"",2009-06-15,"","",0,2009-06-15 08:22,"","",1811500,"","","Export of multivalued properties needs escaping of whitespace and subsequent concatenation into a single XML attribute, see JSR-283."
3486,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,getUUIDByObject() in persistence backend must return NULL if no UUID is found,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-05-27,"","",100,2009-05-27 07:28,"","",1812800,"","",Currently it dies if FLOW3_AOP_Proxy_getProperty() fails.
3485,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Non-persistable properties of an entity which are not marked as transient cause a fatal error,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-05-27,"","",100,2009-05-27 07:26,"","",1812850,"","","This entity ...

<pre>
/**
 * @entity
 * @scope prototype
 */
class Release {

	/**
	 * @var string
	 */
	protected $versionNumber;

	/**
	 * @inject
	 * @var \F3\FLOW3\Object\FactoryInterface
	 */
	protected $objectFactory;
</pre>

... causes a fatal error during persisting time:

<pre>
Fatal error: Call to undefined method F3\FLOW3\Object\Factory::FLOW3_AOP_Proxy_getProxyTargetClassName() in /Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/Backend.php on line 359
</pre>

because the Object Factory is not marked as @transient"
3478,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Reconstitution of object respects class schema - but persistence doesn't,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-05-27,"","",100,2009-05-27 05:30,"","",1812900,"","","<pre>
/**
 * @entity
 * @scope prototype
 */
class Release {

	/**
	 * @var string
	 */
	protected $versionNumber;
}
</pre>

$versionNumber is declared as string. If by some mistake $versionNumber contains an array of strings, the CR will persist the array (string[]) without problems (ignoring the class schema) but while reconstituting the object the CR complains with this exception:

<pre>
#1181084521: getValue() cannot be called on multi-valued properties. (More information)

F3\PHPCR\ValueFormatException thrown in file
/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/Property.php in line 166.

25 F3\TYPO3CR\Property::getValue()

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/DataMapper.php:
00316:   */
00317:  protected function getNativeValue(\F3\PHPCR\PropertyInterface $property) {
00318:   $value = $property->getValue();
00319:   switch ($property->getType()) {
00320:    case \F3\PHPCR\PropertyType::BOOLEAN:

24 F3\TYPO3CR\FLOW3\Persistence\DataMapper::getNativeValue(F3\TYPO3CR\Property)

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/DataMapper.php:
00170:      if ($node->hasProperty('flow3:' . $propertyName)) {
00171:       $property = $node->getProperty('flow3:' . $propertyName);
00172:       $propertyValue = $this->getNativeValue($property);
00173:      }
00174:     break;

23 F3\TYPO3CR\FLOW3\Persistence\DataMapper::thawProperties(F3\Releazr\Domain\Model\Release_AOPProxy_Development, F3\TYPO3CR\Node, F3\FLOW3\Persistence\ClassSchema)

/Users/Shared/Sites/dev/flow3/dist/Packages/Global/TYPO3CR/Classes/FLOW3/Persistence/DataMapper.php:
00140: 
00141:    $this->objectBuilder->reinjectDependencies($object, $objectConfiguration);
00142:    $this->thawProperties($object, $node, $classSchema);
00143:    $object->FLOW3_Persistence_memorizeCleanState();
00144:    $this->persistenceManager->getSession()->registerReconstitutedObject($object);
</pre>"
3456,TYPO3.TYPO3CR,Task,"",Closed,Must have,Refactor internal CR representation of object references,Karsten Dambekalns,"",2011-05-05 11:14,FLOW3 Persistence,"",2009-05-25,"","",0,2009-05-25 11:22,"","",16950,"","","This can be less complex, see attached image."
3336,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Allow fetching of arbitrary objects by UUID,Bastian Waidelich,Karsten Dambekalns,2011-05-05 11:14,Query handling,"",2009-05-16,"","",100,2009-05-16 04:27,"","",1811550,"","",There is a method getUUIDByObject() in the persistence manager backend. We need the inverse function to be able to retrieve any object by UUID (without the need to specify the object type).
3133,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Abort persisting objects on reference errors,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-04-19,"","",100,2009-04-19 14:31,"","",1812950,"","",Abort persisting objects when instances are encountered that are aggregate roots but have not been added to their repository (example: structure nodes in TYPO3 backendcontroller setup action).
2902,TYPO3.TYPO3CR,Feature,"",Closed,Must have,"Implementation of move, copy and NodeType.isNodeType",Christoph Blömer,"",2011-05-05 11:14,Node handling,"",2009-03-18,"","",0,2009-03-18 17:10,"","",1811600,"","","For the implementation of WebDAV for the TYPO3CR I am missing some CR functionality to provide all features.

First of all I need the possibility to move and copy a node and its subtree.

Second is, that I need to check if a NodeType is nt:folder or nt:file

Therefore I need the method isNodeType() implemented in the NodeType class.

My implementation looks currently like this:
public function isNodeType($nodeTypeName) {
    return $this->name == $nodeTypeName;
}

Thanks.
"
2891,TYPO3.TYPO3CR,Task,"",Closed,Should have,Clean up splitName() in storage backends,Karsten Dambekalns,"",2011-05-05 11:14,"","",2009-03-18,"","",30,2009-03-18 10:24,"","",14150,"","","splitName() is now present in the PDO storage and search backends, but needs to go elsewhere and cleaned up."
2812,TYPO3.TYPO3CR,Feature,"",Resolved,Must have,Support querying by a property which is a reference,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,Query handling,"",2009-03-10,"","",100,2009-03-10 11:00,"","",1813550,"","","<pre>
   $posts = $postRepository->findByBlog($blog);
</pre>"
2811,TYPO3.TYPO3CR,Feature,"",Resolved,Must have,Implement a case insensitive equals constraint,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,Query handling,"",2009-03-10,"","",100,2009-03-10 10:58,"","",1813600,"","","Add a new or enhance the existing ""equals"" query constraint to allow for case insensitive search in properties."
2623,TYPO3.TYPO3CR,Task,"",Resolved,Should have,Clean up Data Mapper test case,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2009-02-12,"","",0,2009-02-12 10:31,"","",13150,"","","The tests in the data mapper cover too many methods at once - basically it's functional tests for the whole class (and some others) by calling the map() method.

Please split up the tests so they only focus on one method at once and mock the others (ie. work with a mocked DataMapper in the first place).

see thawPropertiesSetsPropertyValues()"
2538,TYPO3.TYPO3CR,Feature,"",Closed,Should have,Basic support for XML import,Karsten Dambekalns,"",2011-05-05 11:14,Import/Export,"",2009-01-30,"","",0,2009-01-30 06:19,"","",1813000,"","",.
2537,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Basic support for XML export,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Import/Export,"",2009-01-30,"","",100,2009-01-30 06:17,"","",1813050,"","",.
2420,TYPO3.TYPO3CR,Task,"",Resolved,Must have,Adjust license to LGPL,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,"","",2009-01-07,"","",100,2009-01-07 06:47,"","",12300,"","",.
2277,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,When adding the same element more than one time to the repository only the first is created,Christoph Blömer,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2008-12-05,"","",100,2008-12-05 17:16,"","",1813100,"","","The Blog has tags which can be added to more than one post. After rev 1566 this is not possible anymore.

Example:
$tag1 = $this->objectFactory->create('F3::Blog::Domain::Tag');
$tag1->setName('Development');

$post1 = $this->objectFactory->create('F3::Blog::Domain::Post');
$post1->addTag($tag1);

$post2 = $this->objectFactory->create('F3::Blog::Domain::Post');
$post2->addTag($tag1);

The tag is not added to the second post. Also no Exception is shown."
2195,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Fatal error when storing entities containing DateTime property,Bastian Waidelich,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2008-11-24,"","",100,2008-11-24 12:25,"","",1813150,"","","In the Blog Example I'm getting a fatal error when trying to store a comment in the CR:
<pre>
Fatal error: Call to undefined method DateTime::AOPProxyGetProxyTargetClassName() in Packages/TYPO3CR/Classes/FLOW3/Persistence/F3_TYPO3CR_FLOW3_Persistence_Backend.php on line 242
</pre>"
2163,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,"""no such table: namespaces* Exception is misleading",Christoph Blömer,Karsten Dambekalns,2011-05-05 11:14,Storage Backend,"",2008-11-12,"","",100,2008-11-12 15:05,"","",1811650,"","","After typo3cr.db was changed to TYPO3CR.db the file TYPO3CR.db was created and the Exception was thrown because the new DB file has no tables.

A NoSuchDatabaseException or MissingDatabaseException would make more sense before creating just an empty DB file.
"
2121,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,(Almost) all objects in the TYPO3CR package should be prototype,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,"","",2008-11-11,"","",100,2008-11-11 05:45,"","",1813200,"","","Classes like QueryManager, QueryObjectModelFactory etc. should be instantiated as prototype because otherwise it doesn't make sense to pass on the session between them etc."
1942,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Fatal error in F3::TYPO3CR::Node,Bastian Waidelich,Karsten Dambekalns,2011-05-05 11:14,Node handling,"",2008-11-03,"","",100,2008-11-03 13:40,"","",1811700,"","","When adding a comment to the posts collection in the Blog example I get a fatal error:

<pre>Fatal error: Call to a member function isMultiple() on a non-object in Packages\TYPO3CR\Classes\F3_TYPO3CR_Node.php on line 574</pre>
Probably there is something wrong in the Blog repository setup, but the exception should be caught anyways.

BTW: In the Blog example this happens just before the Comments Controller redirects to the post single view, so this error is not displayed."
1886,TYPO3.TYPO3CR,Task,"",Closed,Must have,Check indexing behaviour,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Index/Search,"",2008-10-27,"","",0,2008-10-27 13:59,"","",10050,"","",Make sure content can be searched tokenized and non-tokenized.
1883,TYPO3.TYPO3CR,Task,"",Resolved,Must have,Store objects as node hierarchy reflecting the object tree?!,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2008-10-27,"","",100,2008-10-27 13:55,"","",10000,"","","Check how this is possible, and how this affects efficiency"
1875,TYPO3.TYPO3CR,Feature,"",Closed,Must have,Add more query options to persistence backend,Karsten Dambekalns,"",2011-05-05 11:14,Query handling,"",2008-10-27,"","",70,2008-10-27 13:47,"","",1813250,"","","We need to support more advanced querying, not only testing for equality."
1874,TYPO3.TYPO3CR,Feature,"",Closed,Must have,Implement basic nodetype support,Karsten Dambekalns,"",2011-05-05 11:14,Nodetype support,"",2008-10-27,"","",0,2008-10-27 13:44,"","",1813300,"","",At least the nodes we have should declare themselves as being mix:referenceable. Implement all needed to allow that.
1873,TYPO3.TYPO3CR,Feature,"",Closed,Must have,Look into an alternative storage schema for nodes (and properties?),Karsten Dambekalns,"",2011-05-05 11:14,Storage Backend,"",2008-10-27,"","",0,2008-10-27 13:43,"","",1813650,"","",The current storage schema is not better than in any crude beginner's code example. There are surely better ways...
1872,TYPO3.TYPO3CR,Task,"",Closed,Must have,Check namespace handling,Karsten Dambekalns,"",2011-05-05 11:14,Namespacing,"",2008-10-27,"","",0,2008-10-27 13:41,"","",9950,"","","This is still raw, and we must check implications of the new syntax using curly braces."
1871,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,System properties (like jcr:uuid) are missing,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Property handling,"",2008-10-27,"","",100,2008-10-27 13:39,"","",1813350,"","",Those need to be exposed
1840,TYPO3.TYPO3CR,Task,"",Resolved,Must have,LuceneKeywordAnalyser should not use iconv,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Index/Search,"",2008-10-27,"","",100,2008-10-27 12:26,"","",9750,"","",Make it use the PHP6 package or get rid of the iconv dependency in some other way
1623,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,"Searching for ""identifier"" is possible even though no property ""identifier"" exists",Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,Index/Search,"",2008-10-01,"","",100,2008-10-01 11:06,"","",1813400,"","","Consider this query:

<pre>
		$nodes =  $query->matching($query->equals('identifier', $id))->execute();
</pre>

This will even work if no property ""identifier"" has been defined in the domain model because the CR used the field name ""identifier"" internally.

Then again searching for the identifier ""id"" (the name of the property annotated as @identifier) won't return any results because Lucene tokenizes the UUID.

1. Hide the internal identifier
2. Make sure that the QM recognizes the identifier property and then searches in the CR identifier field (jcr:uuid) instead of the domain model's property"
1620,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Reference array keys are discarded during persistence without a warning,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,FLOW3 Persistence,"",2008-10-01,"","",100,2008-10-01 08:07,"","",1813450,"","",@reference properties of type array (ie. references to other objects) are persisted - but only the values. The keys of this array are discarded.  Either implement support for persisting these keys as well (would be very cool) or at least throw a warning in the meantime if the array keys are something else than integers.
1486,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Keys in current schema too long for MySQL,Matthias Hörmann,Matthias Hörmann,2011-05-05 11:14,"","",2008-09-09,"","",100,2008-09-09 05:49,"","",1811750,"","","MySQL only supports key lengths of up to 1000 bytes (MyISAM) or 767 bytes (InnoDB).

This means any key using more than one VARCHAR(255) UTF-8 encoded column won't work in MySQL.

There is a syntax to limit the part of a text/blob column used in a key to the first n characters
but it might not be wise to limit it too much with namespace URIs
(as a lot of those probably have similar prefixes if they are published by the same organization).

This problem affects both primary and unique keys."
1484,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Namespace columns are used to store URIs now but are only VARCHAR(255),Matthias Hörmann,Matthias Hörmann,2011-05-05 11:14,"","",2008-09-09,"","",100,2008-09-09 05:43,"","",1811800,"","",...but URIs can be up to 2048 characters according to most sources
1481,TYPO3.TYPO3CR,Task,"",Resolved,Must have,Implement referential integrity for reference properties,Matthias Hörmann,Karsten Dambekalns,2011-05-05 11:14,Property handling,"",2008-09-09,"","",100,2008-09-09 04:24,"","",8300,"","","Removing a node should not be possible when there are still references to that node.

Creating a reference property to a non-existant node should not be possible.

How would this interact with the persistence layer above the repository layer?

Might lead to problems if it tries to do operations in the wrong order."
1334,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Every node added to Lucene index twice?,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Index/Search,"",2008-08-25,"","",100,2008-08-25 07:49,"","",1811850,"","","From looking at the Lucene index contents, it seems every node is added twice. Check and resolve."
1291,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Make it possible to suggest an identifier for a new node,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Node handling,"","","","",100,2008-08-18 08:47,"","",1811900,"","","To make the gap between a DDD domain object eventually having it's own UUID already and the CR persisting that object as a node, it should be possible to suggest an identifier to the CR when creating a node.

* check what the spec says
* think about a clean & lean way of doing this
* implement :)"
1286,TYPO3.TYPO3CR,Task,"",Resolved,Should have,Look into searching using Lucene,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,Query handling,"",2008-08-17,"","",100,2008-08-15 03:08,"","",7050,"","",The current approach of directly building a SQL search query is already at it's edges (when looking at multi-value properties). Rather look into using an existing solution like Zend_Search_Lucene.
1285,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Implement Node.getReferences(),Karsten Dambekalns,Matthias Hörmann,2011-05-05 11:14,Node handling,"",2008-08-15,"","",0,2008-08-15 03:04,"","",1811950,"","",This should be an easy one given the requirements are fulfilled (#1283) but could come in extremely handy for users.
1284,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,Single-value properties are stored in the database serialized,Karsten Dambekalns,Matthias Hörmann,2011-05-05 11:14,Storage Backend,"",2008-08-15,"","",100,2008-08-15 02:55,"","",1812000,"","",The serialized storage of property values (due to this being the only way to store various types in a character field) in the database must go away.
1283,TYPO3.TYPO3CR,Task,"",Resolved,Must have,Make sure properties store their type in the database,Karsten Dambekalns,Matthias Hörmann,2011-05-05 11:14,Storage Backend,"",2008-08-15,"","",100,2008-08-15 02:53,"","",7000,"","","Properties should store their type in the database, to ease search and make less implicit assumptions possible..."
656,TYPO3.TYPO3CR,Task,"",Closed,Must have,Implement session-awareness for StorageAccess_PDO,Karsten Dambekalns,"",2011-05-05 11:14,"","","","",0.00,0,2008-05-27 07:00,"","",2650,0.00,"",All methods dealing with raw node access should take the session of the node into account (to support transient storage).
473,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,PDO Initialisierung: F3_TYPO3CR_StorageAccess_PDO,Christoph Blömer,Karsten Dambekalns,2011-05-05 11:14,"","",2008-04-20,"","",100,2008-04-20 13:48,"","",1812050,"","","You have to change this:
$this->databaseHandle = new PDO($dsn, $username = NULL, $password = NULL);

to:
$this->databaseHandle = new PDO($dsn, $username, $password);

in the constructor.

Otherwise you can't set the username and password in the Components.php

"
354,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,setProperty() on a Node discards type parameter,Karsten Dambekalns,Matthias Hörmann,2011-05-05 11:14,Property handling,"",2008-02-22,"","",100,2008-02-22 12:45,"","",1813500,"","",When setting a property on a Node the type parameter is ignored completely!
353,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Type conversion in ValueFactory::createValue() as described in API documentation is missing,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,"","",2008-02-21,"","",100,2008-02-21 07:47,"","",1812100,"","",@ValueFactory::createValue()@ is supposed to do type conversion if requested (and possible). Code for this is missing currently.
317,TYPO3.TYPO3CR,Feature,"",Resolved,Should have,Make RangeIterator use array pointer functions,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,"","",2008-02-18,"",1.00,100,2008-02-18 09:13,"","",1812150,"","","RangeIterator should use PHP's native array pointer functions if possible, as this could be faster and would eliminate the need to have a continous numerically indexed array containing the iterators elements. This again would allow to remove the array_values() call in the constructor, which could become a real memory-hog if used with a lot of data."
312,TYPO3.TYPO3CR,Bug,"",Resolved,Won't have this time,TYPO3CR_Session throws InvalidArgumentException in unit tests,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,"","",2008-02-14,"","",100,2008-02-14 11:32,"","",1812200,"","",See attached PDF file.
93,TYPO3.TYPO3CR,Bug,"",Resolved,Should have,Complete StorageAccess interface,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,"","","","","",100,2008-01-17 20:01,"","",1812250,"","",The interface misses methods that are actually present in the PDO implementation for it and thus mock objects cannot be created automatically.
92,TYPO3.TYPO3CR,Task,"",Closed,Must have,Implement workspace-awareness for StorageAccess_PDO,Karsten Dambekalns,"",2011-05-05 11:14,"","","","","",0,2008-01-17 20:00,"","",50,"","",All methods dealing with raw node access must take the workspace of the node into account.
82,TYPO3.TYPO3CR,Bug,"",Resolved,Must have,TYPO3CR_BaseTest uses global variables,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,"","","","","",100,2007-12-19 12:38,"","",1812300,"","","In order to save memory / improve performance (I assume), the TYPO3CR_BaseTest stores the Repository and Session instance into a global variable. That's bad and needs a different solution.

In general it might be that the tests could be implemented in a way which doesn't really need a repository etc. but rather a mock repository. That's very likely, especially if true unit testing is done.

Please also read Jimmy Nilssons remarks about testing repositories, that might help a little."
50,TYPO3.TYPO3CR,Feature,"",Closed,Should have,Documentation: watch that no mismatching .jar files are on java classpath,pnie -,"",2011-05-05 11:14,"","","","","",0,2007-04-26 13:27,"","",1812350,"","","The php-java-bridge (pjb) used the java classpath (in my case '/usr/share/java/ext/') first when initialising any of the java classes.

If any of the needed java classes reside there (for example derby* or jackrabbit*) and are not in the correct and required version TYPO3/Unit Tests of 5.0 might fail.

A note that the java libraries must not be available in the java environment in any wrong version should be added in the installation guide/docs."
48,TYPO3.TYPO3CR,Feature,"",Closed,Should have,ValueStreamRegistry is a Singleton outside the IoC container,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,"","","","","",0,2007-04-04 11:06,"","",1812400,"","","In source:/Packages/phpCRJackrabbit/Classes/T3P_phpCRJackrabbit_ValueStream.php#138 there are some static calls to ValueStreamRegistry::getInstance(). These calls probably should go to some class like T3P_PHPCRJackrabbit_ValueStreamRegistry.

Furthermore, it's not such a good solution to implement the Singleton registry (I suppose it is one) on your own, better use the Component Manager for that.

Solution: Create a constructor which injects the ValueStreamRegistry and configure that registry as scope=singleton in the Components.conf."
39,TYPO3.TYPO3CR,Bug,"",Closed,Should have,No access control on raw repository,Karsten Dambekalns,Karsten Dambekalns,2011-05-05 11:14,"","","","","",0,2007-03-05 11:25,"","",1812450,"","","The unit test in [source:Packages/phpCRJackrabbit/Tests/T3P_phpCRJackrabbit_CheckPermissionTest.php T3P_phpCRJackrabbit_CheckPermissionTest.php] always fails. Reason is missing resp. wrong access control for the Jackrabbit setup. The (sparse) Jackrabbit documentation says:

----
The default Repository.login() method starts a repository session using the default workspace and no user credentials. Jackrabbit tries to use the Java Authentication and Authorization Service (JAAS) configuration in such cases, but defaults to the anonymous user if a JAAS Subject is not found.

...

As discussed in the First Hop example, the default Repository.login() method returns an anonymous read-only session in the Jackrabbit default configuration. To be able to store and remove content we need to create a session with write access, and to do that we need to pass some credentials to the Repository.login(Credentials credentials) method.

The default Jackrabbit login mechanism accepts any username and password as valid credentials and returns a session with full write access. Thus we only need to construct and use a !SimpleCredentials instance with some dummy username and password, in this case ""username"" and ""password"". 
----

So the read-only session should be fetched without calling login() at all... or we define a different login manager for Jackrabbit and use that to verify user credentials."
38,TYPO3.TYPO3CR,Bug,"",Closed,Should have,Undefined constants and non-initialized properties,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,"","","","","",0,2007-03-05 09:07,"","",1812500,"","","As of changeset:166 there are a lot of constants and uninitialized property warnings in the phpCRJackrabbit tests. This ticket does not ask for fixing the other (fatal-) errors, it's just about the constants and properties."
33,TYPO3.TYPO3CR,Feature,"",Closed,Should have,Restructure unit tests,Robert Lemke,Karsten Dambekalns,2011-05-05 11:14,"","","","","",0,2007-02-28 12:32,"","",1812550,"","","Move the unit tests which are currently in the phpCRJackrabbit package into the phpCR package. They will than act more as integration tests than as true unit tests and make it possible to test different implementations of the phpCR (Jackrabbit, TYPO3 CR, ...). 

The tests must be triggered by the phpCRJackrabbit and the TYPO3CR packages respectively, therefore the phpCR tests must somehow be configured to work with either one's Repository implementation. How that is done is still up for discussion."
31,TYPO3.TYPO3CR,Feature,"",Closed,Should have,Define an exception hierarchy,Robert Lemke,Robert Lemke,2011-05-05 11:14,"","","","","",0,2007-02-28 12:16,"","",1812600,"","",Create a concept for an exception hierarchy
26,TYPO3.TYPO3CR,Bug,"",Closed,Should have,getSession() in T3P_phpCRJackrabbit_Workspace is broken,Karsten Dambekalns,Ronny Unger,2011-05-05 11:14,"","","","","",0,2007-02-21 17:24,"","",1812650,"","","The internal reference to the session object has been removed to solve the memory problems, but the method getSession() is to return that reference!

I changed the code for now, so it throws an exception, but of course this need to be fixed correctly. Just removing the method is not an option, as it is required by JSR-170."
24,TYPO3.TYPO3CR,Bug,"",Closed,Should have,Fix documentation in T3P_T3Lib_HashSet,Robert Lemke,Sebastian Kurfuerst,2011-05-05 11:14,"","","","","",0,2007-02-21 04:44,"","",1812700,"","","A bit of nitpicking here: 

Some of the phpDoc comments are lacking spaces:

<pre>
	/**
	* @var array Holds stored objects
	*/
</pre>

should be

<pre>
	/**
	 * @var array Holds stored objects
	 */
</pre>

* For classes please don't add an author name to the class documentation but do that for every single method. (See also http://5-0.dev.typo3.org/guide/bk01pt01ch02.html#id2543166)
 *Also check that all methods have parameters and return values documented (if the method doesn't return anything, write @return void). 
* Always add a description for parameter documentation.
* Only use one line for parameter or return value documentation, no matter how long it gets
* Please use _protected_ instead of _private_ unless you really want to disallow subclasses to access the properties
* Make sure not to forget the public / protected / private keyword for functions
* Don't start the file with an empty line
* Make sure that the Id is expanded by your SVN client (see http://5-0.dev.typo3.org/guide/bk01pt01ch02.html)
* A constructor must always be called ""+construct""

"
59314,TYPO3.TypoScript,Task,"",Closed,Should have,Configuring @exceptionHandler should have an effect also for nested TypoScript objects,Christian Müller,Christian Müller,2014-08-19 03:40,"","",2014-06-03,"","",0,2014-06-03 10:54,"","",1709150,"",""
57465,TYPO3.TypoScript,Bug,"",Resolved,Must have,Fatal Error in ContentCache on PHP 5.3,Benno Weinzierl,Benno Weinzierl,2014-04-03 03:59,"","",2014-03-31,"","",100,2014-03-31 12:19,"","",1617150,"","In Ubuntu Presice with PHP 5.3 the following Error occures (after some requests in backend).

<pre>
Fatal error: Cannot access self:: when no class scope is active in /project/Data/Temporary/Development/SubContextVagrantBox/Cache/Code/Flow_Object_Classes/TYPO3_TypoScript_Core_Cache_ContentCache.php on line 218 
</pre>

Patch will follow..."
57411,TYPO3.TypoScript,Task,"",New,Should have,Endless loop in TypoScript 2,Markus Hölzle,"",2014-03-29 06:46,"","",2014-03-28,"","",0,2014-03-28 09:19,"","",1614450,"","Something like this causes an endless loop and should throw an exception:
<pre>
prototype(TYPO3.Neos.NodeTypes:Page) < prototype(TYPO3.Neos.NodeTypes:Page) {
}
</pre>"
56891,TYPO3.TypoScript,Bug,"",Resolved,Should have,UriBuilder calls undefined method $this->getTsRuntime(),Rens Admiraal,"",2014-04-01 09:44,"",1.1,2014-03-13,"","",100,2014-03-13 17:56,"","",1588700,"",UriBuilder calls undefined method $this->getTsRuntime(). This seems to be a leftover from the time it still extended the TemplateImeplementation (1.0)
54378,TYPO3.TypoScript,Bug,"",New,Must have,Processors are not cleared when clearing an object path,Christopher Hlubek,"",2013-12-13 05:15,"",1.0,2013-12-13,"","",0,2013-12-13 05:15,"","",1465450,"","When clearing a property path, I expect all registered processors to be cleared as well:

<pre>
attributes.class.@process.nodeType = ${...}
attributes.class >
</pre>

Does not reset @@process.nodeType@.
"
54363,TYPO3.TypoScript,Bug,"",Resolved,Should have,Prototype definitions should use FQN,Rens Admiraal,Rens Admiraal,2013-12-13 11:36,"","",2013-12-12,"","",100,2013-12-12 11:56,"","",1464700,"",""
54274,TYPO3.TypoScript,Feature,"",Resolved,Should have,ResourceUri TypoScript object,Bastian Waidelich,Bastian Waidelich,2013-12-08 15:36,"",1.0,2013-12-07,"","",100,2013-12-07 14:21,"","",1460250,"",Provide a TypoScript object that can render resource URIs - similar to what the uri.resource ViewHelper does in Fluid.
54194,TYPO3.TypoScript,Bug,"",Resolved,Should have,Setting a property on a TS object resets its processors,Bastian Waidelich,Sebastian Kurfuerst,2013-12-04 14:36,"","",2013-12-04,"","",100,2013-12-04 06:22,"","",1456650,"","Setting the property on a TypoScript object seems to reset its processor:

Setup:
<pre>
page = TYPO3.Neos.NodeTypes:Text {
	text.@process.1 = ${String.toUpperCase(value)}
	text = 'foo bar'
}
</pre>

Expected:
<pre>
FOO BAR
</pre>

Actual:
<pre>
foo bar
</pre>

When using Eel syntax:
<pre>
text = ${'foo bar'}
</pre>
the processor is *not* reset!

Also if the process line appears after the text assignment, obviously"
52923,TYPO3.TypoScript,Bug,"",Resolved,Should have,The CaseImplementation does not support TypoScript debug mode correctly,Dominique Feyer,Dominique Feyer,2013-10-30 07:35,"","",2013-10-17,"","",100,2013-10-17 10:21,"","",1393600,"","$renderedMatcher !== self::MATCH_NORESULT is always FALSE when using TypoScript debug mode something like if (strpos($renderedMatcher, self::MATCH_NORESULT) === FALSE) should work"
50380,TYPO3.TypoScript,Feature,"",Resolved,Should have,TypoScript string keys,Aske Ertmann,"",2013-10-03 02:35,"",1.0 alpha 6,2013-07-24,"","",100,2013-07-24 08:38,"","",1267600,"","Currently trying to create keys with hyphens results in syntax error, however we need this functionality in order to have keys like data-nodename e.g.

The syntax could the equal to Yaml where you have 'Key-name': 'value', so 'Key-name' = 'value'"
49921,TYPO3.TypoScript,Bug,"",Resolved,Should have,TS Runtime don't require a Controller Context,Dominique Feyer,Dominique Feyer,2013-09-30 11:12,"",1.0 beta 1,2013-07-11,"","",0,2013-07-11 12:09,"","",1245100,"","For some use case, like rendering TS object in service class, the requirement of the ControllerContext in TS Runtime cause some design problem. Currently the Standalone fluid view, can create a ControllerContext if needed, this patch propose the same thing for the TS Runtime."
48414,TYPO3.TypoScript,Task,"",Resolved,Should have,TS paths should use . instead of / where this is currently not the case,Karsten Dambekalns,Karsten Dambekalns,2013-05-24 09:36,"",1.0 beta 1,2013-05-21,"","",100,2013-05-21 11:58,"","",1170550,"","In TS ""object paths"" are using a dot as seperator, but e.g. the render VH expects paths using / - which is inconsistent"
48413,TYPO3.TypoScript,Task,"",Resolved,Should have,"Rename renderTypoScript VH to just ""render""",Karsten Dambekalns,Karsten Dambekalns,2013-05-24 09:36,"",1.0 beta 1,2013-05-21,"","",100,2013-05-21 11:56,"","",1170500,"",""
48362,TYPO3.TypoScript,Task,Work Package #48275: TypoScript consistency,New,Should have,"(maybe) rename ""matcher"" to ""if""",Sebastian Kurfuerst,"",2013-05-23 13:06,"","",2013-05-17,"","",0,2013-05-17 11:55,"","",1167950,"","... so that is maybe could also be used standalone:

<pre>
foo = If
foo.condition = ...
foo.then = ...
foo.else = ...
</pre>

... is nicely in sync with #48359"
48361,TYPO3.TypoScript,Task,Work Package #48275: TypoScript consistency,Resolved,Should have,Kill processor classes; change processor syntax,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-10-11 15:36,"",1.0 beta 1,2013-05-17,"","",100,2013-05-17 11:53,"","",1167900,"","the whole team feels that processors are somewhat not fitting into the TS concept; especially because many things can be done as well using Eel; and we want to provide one consistent way of doing things.

This means:

* we want to *remove processor classes*; instead the functionality should be made available in the Eel standard library
* we want the following syntax for processors:

<pre>
page.title = ""foo""

// short syntax
page.title.@process.wrapInTitle = ${ ""before"" + value + ""after"" }

// long position syntax
page.title.@process.wrapInTitle {
  expression = ${ ""before"" + value + ""after"" }
  @position = ""end 50""
}
</pre>

* positional arguments as known from TypoScript should just work here.
* we are not yet sure if the ""current value"" variable should be called ""value"" or differently. Same, it is not yet clear whether the long form should be called ""expression"".

Together with #48359 this means one could also write custom TypoScript objects and use them as ""processors"".

We all think this is more powerful and consistent than the old processor implementation."
48359,TYPO3.TypoScript,Task,Work Package #48275: TypoScript consistency,Resolved,Should have,Simple Value / Eel Expression / TypoScript Object Interoperability,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-09-23 16:35,"",1.0 beta 1,2013-05-17,"","",100,2013-05-17 11:47,"","",1167800,"","currently, there is a big distinction between *simple values and eel expressions*, and sub-TypoScript objects; despite them sharing the same namespace.

However, basically, all of the above mentioned three TS data types produce a *value* which they return to their *parent*.

That's why the following should be made possible:

<pre>

page.template = ""adf"" // works today
page.template = ${...} // works today
page.template = Case { // does NOT work today; but we want to make this possible.
   foo.condition = ${...}
   foo.then = ""myTemplate""
   ...
}
</pre>

Same for the other way around:
<pre>
page.body.sections.main = Template // works today
page.body.sections.main = ""my static string"" // does NOT work today, but we want to make this possible.
</pre>"
47970,TYPO3.TypoScript,Task,"",Resolved,Should have,Fix handling of request package inside TemplateImplementation,Christian Müller,Christian Müller,2013-05-07 06:39,"","",2013-05-06,"","",100,2013-05-06 03:31,"","",1148650,"",""
44948,TYPO3.TypoScript,Task,Story #44950: As a Integrator I want to add RSS rendering in TypoScript,Resolved,Should have,Extend Matcher to accept TypoScript paths additionally to types,Christian Müller,Christian Müller,2013-01-31 05:44,"",Sprint February 2013,2013-01-30,"","",0,2013-01-30 03:16,"","",1000500,"",""
44903,TYPO3.TypoScript,Bug,"",New,Should have,Unsetting paths only sets the Path to NULL instead of unsetting,Marc Neuhaus,"",2013-01-29 05:45,"","",2013-01-29,"","",0,2013-01-29 05:45,"","",998700,"","When you unset a path with "">"" the Parser only sets the Path to NULL.
This can result in broken rending because some TypoScriptObjects don't check if the
path is NULL or renderable, like for example the ArrayImplementation."
44902,TYPO3.TypoScript,Bug,"",Resolved,Should have,ArrayImplementation uses unsetted(nulled) paths,Marc Neuhaus,Marc Neuhaus,2013-01-30 16:32,"","",2013-01-29,"","",0,2013-01-29 05:43,"","",998650,"","The ArrayImplementation tries to render non existing paths when an path is unset with "">"".
The Reason is, that the TypoScript Parser doesn't remove the path, instead it sets it to NULL.

As a quick fix i changed the ArrayImplementation to check if the path is null to skip it.

But in general this should be properly handled by the Parser."
44417,TYPO3.TypoScript,Feature,"",Resolved,Should have,Enable multiple TypoScriptPaths in the TypoScriptView,Marc Neuhaus,Marc Neuhaus,2013-10-04 08:35,"","",2013-01-09,"","",100,2013-01-09 17:59,"","",974450,"","To use TypoScripts from multiple packages in a TypoScriptView it needs to support multiple TypoScriptPaths.

This comes in especially handy in combination with the Feature to configurat Views through Views.yaml
that's being developed at: http://forge.typo3.org/issues/42176"
43752,TYPO3.TypoScript,Feature,"",Resolved,Should have,Add support to unset paths and processors,Marc Neuhaus,Marc Neuhaus,2013-10-11 15:36,"","",2012-12-08,"","",100,2012-12-08 06:58,"","",941450,"","Currently it's not possible to unset Paths or Processors.

To unset paths i'd suggest to reuse the pattern that's known from
typoscript1:
<pre>
prototype(TYPO3.Expose:RecordList) {
    controllerLinks >
}
</pre>


To unset processors we should do something similar to this:
<pre>
prototype(TYPO3.Expose:RecordList) 100 >>
</pre>"
43628,TYPO3.TypoScript,Feature,"",Resolved,Should have,Standalone TypoScript ViewHelper,Christian Müller,Christian Müller,2013-06-08 07:36,"","",2012-12-05,"","",100,2012-12-05 07:49,"","",935300,"",Provide a Fluid ViewHelper to render TypoScript from within a Fluid template that is not rendered in TypoScript context.
42971,TYPO3.TypoScript,Bug,"",Resolved,Must have,static plugin import with typoScript,Marcus Biesel,"",2013-12-12 02:57,"","",2012-11-14,"","",0,2012-11-14 09:43,"","",902600,"","I have created a plugin in a new package, at the backend it works i can insert it.

but if i want insert it static at the default.html with <typoScript:renderTypoScript path=""parts/test"" /> and at the Root.ts2 i define it with

include: resource://Sponsor.LinkBox/Private/TypoScript/Root.ts2

page.body {
           parts {
              test < prototype(Sponsor.LinkBox:Plugin)
          }
}


at the Sponsor.LinkBox package i define my Root.ts2 with

prototype(Sponsor.LinkBox:Plugin) < prototype(TYPO3.Neos.ContentTypes:Plugin)
prototype(Sponsor.LinkBox:Plugin) {
     package = 'Sponsor.LinkBox'
     controller = 'Standard'
     action = 'index'
}

i get this mistake

#1332493990: No ""page<TYPO3.Neos:Page>/body<TYPO3.TypoScript:Template>/parts/test"" TypoScript object found. Please make sure to define one in your TypoScript configuration. 


i use the new git version from 14.11.12

"
42797,TYPO3.TypoScript,Bug,"",New,Should have,Support '\' in prototype names,Marc Neuhaus,Sebastian Kurfuerst,2012-11-12 07:15,"","",2012-11-08,"","",0,2012-11-08 11:40,"","",894000,"","Currently it's not possible to use backslashes in prototype names, 
but it would be helpful to enable this for the Schema Configuration
for TYPO3.Expose:

prototype(TYPO3.Expose:Schema:Famelo\Demo\Admin\Domain\Model\Configurations)"
42710,TYPO3.TypoScript,Bug,"",New,Should have,catchRuntimeException shouldn't catch StopActionException and ForwardException,Marc Neuhaus,"",2012-11-05 20:04,"","",2012-11-06,"","",0,2012-11-05 20:04,"","",889750,"","currently the TYPO3.TypoScript.catchRuntimeException setting catches all exceptions and prevents redirects.
"
41030,TYPO3.TypoScript,Task,"Story #41098: As a developer, I want a clean TypoScript package",New,Should have,"TypoScript namespaces should have file scope, not global scope",Robert Lemke,"",2012-09-20 06:00,"","","","","",0,2012-09-18 03:46,"","",809550,"",""
41027,TYPO3.TypoScript,Task,"Story #41098: As a developer, I want a clean TypoScript package",Accepted,Should have,remove all code parts which are commented with deprecated,Robert Lemke,Karsten Dambekalns,2013-05-21 11:56,"","","","","",0,2012-09-18 03:05,"","",809400,"",""
41026,TYPO3.TypoScript,Task,"Story #41098: As a developer, I want a clean TypoScript package",Closed,Should have,Create a basic manual for the TypoScript package,Robert Lemke,Sebastian Kurfuerst,2013-05-18 06:51,"","","","","",0,2012-09-18 02:55,"","",809350,"",""
40936,TYPO3.TypoScript,Task,"Story #40934: As a Site Integrator, I want an easy way to get started with TypoScript",Closed,Should have,Fix merge algorithm of TypoScript files inclusion,Robert Lemke,Robert Lemke,2012-10-04 05:40,"",Sprint 10 (1.0 TP1),"","","",0,2012-09-14 11:53,"","",804950,"",""
40933,TYPO3.TypoScript,Bug,"",Resolved,Should have,Fix path name for TypoScript files according CGLs,Robert Lemke,Robert Lemke,2012-09-18 02:52,"",Sprint 10 (1.0 TP1),2012-09-14,"","",0,2012-09-14 11:21,"","",804850,"","The TypoScript files corresponding to the current node must reside in a directory with the name of the node. Because node names are all lowercase, the directory name also starts with a lowercase character.

It would be nice if also these directories would be consistent with the remaining resources."
40931,TYPO3.TypoScript,Task,"",Resolved,Should have,General clean up,Robert Lemke,Robert Lemke,2012-09-17 08:35,"",Sprint 10 (1.0 TP1),2012-09-14,"","",100,2012-09-14 11:05,"","",804750,"","Several doc comments are not up to date and the default path to leading to TypoScripts of a package is wrong.

Also, the TypoScript parser should be Singleton."
39865,TYPO3.TypoScript,Bug,Work Package #48275: TypoScript consistency,Resolved,Must have,create proper prototype inheritance,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-05-24 10:36,"","",2012-08-16,"","",100,2012-08-16 10:10,"","",754750,"","Imagine:

<pre>

prototype(Matcher)
prototype(SpecializedMatcher) < prototype(Matcher)


prototype(SomeCaseStatement) < prototype(Case) {
    # Question: What to do if ""matcher.x"" is an extension of Matcher? how do we change the prototype for ALL matchers then?
    # - Idea: remember ""inherited"" types
    prototype(Matcher).@override {
        identifier = ${identifierPrefix + '.' + name}
    }
    
    foo = SpecializedMatcher
    # now, as foo is a subtype of Matcher, the @override from above should also apply for here :-)
    # however, this does not happen right now, and implementing it would probably be difficult...

</pre>"
39658,TYPO3.TypoScript,Feature,"",Resolved,Should have,"TypoScript Array and Case should support ""Registry"" idea for defining the order",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-21 01:36,"","",2012-08-09,"","",100,2012-08-09 11:27,"","",744600,"","Currently, we have two TypoScript objects which work with some kind of ""array"": the ""Case"" TypoScript object and the ""TypoScriptArray"" TS object which renders a list of something.

For both of them, it would be good if we could get rid of the numeric arrays as much as possible, instead using the old ""Registry"" concept, so one could say: ""Let's add that after XY"" or ""Before  Z"" or ""at the end"" or ""at the beginning"".

Old JS Registry class: 

http://git.typo3.org/FLOW3/Packages/TYPO3.TYPO3.git?a=blob;f=Resources/Public/JavaScript/Core/Registry.js;h=7a9eb8b398c998672e639231befd15d1930fb245;hb=34b7bec14db9ddabf8a2e8a1e880895ab2607112


Old JS Test Class:

http://git.typo3.org/FLOW3/Packages/TYPO3.TYPO3.git?a=blob;f=Tests/JavaScript/Tests/Core/RegistryTest.js;h=749b2e8105ad31aed0b76b0e4336441435f0a3bc;hb=34b7bec14db9ddabf8a2e8a1e880895ab2607112

The exact concept still needs to be defined."
39657,TYPO3.TypoScript,Task,"Story #40934: As a Site Integrator, I want an easy way to get started with TypoScript",Closed,Should have,TypoScript objects should be renamed,Sebastian Kurfuerst,Robert Lemke,2012-10-04 05:39,"",Sprint 10 (1.0 TP1),2012-08-09,"",0.00,0,2012-08-09 11:21,"","",744550,0.00,"the current TypoScript object names are much too cumbersome to work with; and are not intuitive at all.

We should rename them to something short and easy to use.

Example:

FluidRenderer -> Fluid (or FluidTemplate)
TypoScriptArrayRenderer -> Array
CollectionRenderer -> Collection
Case -> Case



"
39656,TYPO3.TypoScript,Feature,"",New,Should have,Implement a way to inline-document planned TypoScript extension points,Sebastian Kurfuerst,"",2012-08-09 11:06,"","",2012-08-09,"","",0,2012-08-09 11:06,"","",744500,"","through TypoScript, basically everything can be extended, which is *unplanned extensibility*.
However, we have defined extension points where we as core team are responsible for that they also
work in the future, f.e. are not renamed for a certain amount of time (*planned extensibility*)

We need some lightweight inline-documentation format for that, maybe even using Inline-ReST."
39655,TYPO3.TypoScript,Feature,"",Resolved,Must have,Implement contextOverrides for all TypoScript objects,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-21 01:35,"","",2012-08-09,"","",100,2012-08-09 10:58,"","",744450,"","most TypoScript objects operate on the TypoScript context, which is multivalued by now.
Still, it would be very helpful to manipulate this context before a TypoScript object is rendered.

For this, we should add a new property ""contextOverrides"" in the abstract TypoScript object;
which is then applied before evaluate() is called."
39500,TYPO3.TypoScript,Bug,"",Resolved,Should have,Processors should be applicable on full TypoScript object prototypes as well,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-07 06:35,"",Sprint 10 (1.0 TP1),2012-08-03,"","",100,2012-08-03 01:56,"","",736750,"","**WORKS:**
<pre>
foo = FluidRenderer
foo << 1.wrap(....)
</pre>

**DOES NOT WORK:**
<pre>
prototype(FluidRenderer) << 1.wrap(....)
</pre>
"
39498,TYPO3.TypoScript,Feature,"",Resolved,Should have,"Support ""condensed confinements"" to reduce typing overhead",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-07 06:35,"",Sprint 10 (1.0 TP1),2012-08-03,"","",100,2012-08-03 01:39,"","",736650,"","In TypoScript, very often lines like the following are used:

<pre>
foo = Text
foo {
  ...
}

foo < bar
foo {
  ...
}
</pre>

We propose a ""Condensed Confinements"" syntax, so one can write instead:

<pre>
foo = Text {
  ...
}

foo < bar {
  ...
}
</pre>
"
39133,TYPO3.TypoScript,Feature,"",Needs Feedback,Should have,Add Option to to CaseTsObject to skip matches for which the type doesn't exist,Marc Neuhaus,Marc Neuhaus,2013-05-11 12:24,"","",2012-07-20,"","",0,2012-07-20 10:36,"","",718500,"","The CaseTsObject should have an option to skip matchers for which the type doesn't exist like this:

<pre>
Foo:Bar = Case
Foo:Bar {
    skipNonExistingTypes = true

    matchers.900000.condition = ${true}
    matchers.900000.type = 'Foo:DoesntExist'

    matchers.1000000.condition = ${true}
    matchers.1000000.type = 'Foo:DefaultBar'
}
</pre>"
39131,TYPO3.TypoScript,Bug,"",Closed,Should have,More Helpful Exceptions for wrong TypoScript,Marc Neuhaus,Marc Neuhaus,2014-10-03 07:03,"","",2012-07-20,"","",0,2012-07-20 10:17,"","",718400,"","TypoScript Exceptions should be more helpful, because they are currently often extremly cryptic"
38696,TYPO3.TypoScript,Feature,"",Resolved,Should have,Extend TypoScript syntax,Sebastian Kurfuerst,Sebastian Kurfuerst,2013-12-12 02:46,"","",2012-07-05,"","",0,2012-07-05 15:32,"","",697150,"","**DOES NOT WORK (probably)**

<pre>1.wrap(before: ${""foo"" + blah.blubb})</pre>

---

We should support un-named arguments in processors, so one can write:
<pre>1.wrap(""foo|bar"")</pre>

see http://groovy.codehaus.org/Extended+Guide+to+Method+Signatures - chapter Named Arguments for inspiration"
38692,TYPO3.TypoScript,Bug,"Feature #38629: Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",Resolved,Should have,FluidTemplate: Make Layout and PartialPath settable,Sebastian Kurfuerst,"",2012-08-11 10:35,"","",2012-07-05,"","",100,2012-07-05 12:57,"","",696950,"",""
38638,TYPO3.TypoScript,Feature,"Feature #38629: Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",On Hold,Should have,Introduce PresentationModel Wrapper in eel expressions in order to apply processors,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-11-28 09:33,"","",2012-07-04,"","",0,2012-07-04 06:26,"","",694300,"","Imagine you want to render two objects (like a @blog@ and @post@) inside a FluidTemplate TypoScript object. Currently, you need to do the following:

<pre>
foo = FluidTemplate
foo {
  blogTitle = ${context.property('blog.title')}
  blogDescription = ${context.property('blog.description')}
  ...
  postTitle = ${context.property('post.title')}
  ...
}
</pre>

The above is quite cumbersome to write, and also does not feel nice because the Fluid templates differ then very much if using Fluid in combination with TypoScript and without.

More nice would be to use the following:

<pre>
foo.blog = ${context.property('blog')}
</pre>

However, often, we still want to run processors on properties of these objects, like specifying:

<pre>
foo.blog.title << 1.wrap(before: '<h1>', after: '</h1>')
</pre>

Now, in order to make this possible, I'd suggest to implement a new function @presentationModel@ which takes an object like the @post@ above and wraps it such that it can be used with processors and all the other TypoScript features. As an example:

<pre>
foo.blog = ${presentationModel(context.property('blog'))}
foo.blog.title << 1.wrap(before: '<h1>', after: '</h1>')
# the following line would suppress the author
foo.blog.author >
# the following line would override the ""description"" with some fixed string (not in the model, but in the presentation layer)
foo.blog.description = ""Hello""
</pre>

It seems we cannot do the conversion into a @presentationModel@ automatically as we would run into problems with object equality etc; and we cannot decide if the user needs the object itself in the view, or just wants to output its values. Basically we don't even know what a TypoScript object does with such an object -- so we cannot wrap anything automatically.

Note: This also plays nicely together e.g. with #38631.

**What do you think about this feature?**"
38636,TYPO3.TypoScript,Feature,"Feature #38629: Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",Rejected,Should have,Implement get() function to retrieve arbitrary objects via ObjectManager,Sebastian Kurfuerst,"",2012-08-09 11:01,"","",2012-07-04,"","",0,2012-07-04 05:57,"","",694200,"","At some points during rendering of standalone FLOW3 applications, it would be very helpful to access global state, by accessing singleton objects.

For instance, for the Blog example it would be helpful if the current blog could be fetched using TypoScript.

One way to do this would be @${get('TYPO3\Blog\Domain\Repository\BlogRepository').getActive()}@, or possibly also @${blogRepository.active}

**Note that this feature still needs to be discussed thoroughly; I am not sure if w really want that**"
38634,TYPO3.TypoScript,Task,"Feature #38629: Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",Closed,Should have,Move TypoScript Processors from TYPO3 to TypoScript Package,Sebastian Kurfuerst,Robert Lemke,2012-10-04 10:03,"",Sprint 10 (1.0 TP1),2012-07-04,"","",100,2012-07-04 05:53,"","",694100,"","see above, they are generic anyways :)"
38633,TYPO3.TypoScript,Feature,"Feature #38629: Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",Resolved,Should have,Make TypoScript Context multi-valued,Sebastian Kurfuerst,"",2012-08-11 09:35,"","",2012-07-04,"","",100,2012-07-04 05:41,"","",694050,"","Currently, the TypoScript context only contains a single value at a time, f.e. the current node being rendered.

It it always exposed as the ""context"" variable in Eel expressions inside TypoScript code.

However, when dealing with TYPO3CR nodes, it would be much nicer to rather have that variable called @node@ or @currentNode@ instead of @context@. Together with #38631 this makes it more clear to the user what's actually happening, as he would then write @q(node)@ or even @q(currentNode)@.

When working with arbitrary objects inside TypoScript, having only one object as the context seems to be a little too restrictive: Often, we need multiple objects on the stack, like the current @blog@ or @post@. These should be made accessible then using @${post}@ and @${blog}@, respectively.

This would also need a change inside the Collection TypoScript Object (as this is the only one changing the context): There, we need a variable specifying how the ""inner context variable"" should look like.

Furthermore, we might need to add a ""context"" array to all TypoScript Objects which can be used to manipulate the context objects"
38631,TYPO3.TypoScript,Bug,"Feature #38629: Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",Resolved,Should have,"Make use of FlowQuery explicit by introducing a wrapper function ""q"" (for ""query"")",Sebastian Kurfuerst,"",2012-08-11 09:35,"","",2012-07-04,"","",100,2012-07-04 05:36,"","",693950,"","While FlowQuery expressions such as @${context.children('foo > bar[title^=Hi]')}@ are very concise and have a high expressional power when it comes to TYPO3 Phoenix and TYPO3CR Nodes, it becomes cumbersome to work with objects this way. For objects, normally, you only want to traverse the objects by calling getters and setters, or call some functions on them.

So, I propose a *breaking change*: FlowQuery should be used explicitely, i.e. by introducing a function @q@ similar to the @jQuery@ function. Thus, the above text should be written as: @${q(context).children('foo > bar[title^=Hi]')}@"
38630,TYPO3.TypoScript,Feature,"Feature #38629: Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",Resolved,Should have,Implement TypoScriptView which can be used as replacement of Fluid TemplateView in standard FLOW3 applications,Sebastian Kurfuerst,Sebastian Kurfuerst,2012-08-07 08:35,"","",2012-07-04,"","",100,2012-07-04 05:31,"","",693900,"","TypoScript should deliver a standard TypoScriptView which can be used outside of the TYPO3 Context, i.e. for normal FLOW3 applications.

I envision it works as follows:

* The user activates it by setting @$defaultViewObjectName@ to the @TypoScriptView@
* The TypoScriptView loads all TypoScript defined in @Resources/Private/TypoScript@ of the currently-requested package, plus additional extension templates as configured f.e. through Settings.yaml
* Then it checks for the class path of the Controller in TypoScript, i.e. if the Controller @TYPO3\Blog\Controller\PostController@ with action @show@ is triggered, the path @TYPO3.Blog.PostController.show@ needs to contain a TypoScript object which is the base for rendering
* If such a TypoScript object is found, it is used for rendering
* If not, we fall back to a @fallbackView@ which is, by default, the standard Fluid TemplateView"
38629,TYPO3.TypoScript,Feature,"",Resolved,Should have,"Make TypoScript usable outside the context of TYPO3 / Nodes, but also for building extensible FLOW3 applications",Sebastian Kurfuerst,Sebastian Kurfuerst,2012-09-18 03:35,"","",2012-07-04,"","",86,2012-07-04 05:26,"","",693850,0.00,"For the management view in the Phoenix backend, we want to use TypoScript for the generic and extensible rendering mechanism.

Thus, we want to investigate the changes to be done in TypoScript to make it usable in the context of generic objects. We planned the new TypoScript in a way that this is possible; though we still have to connect some loose ends for good usability.

See the subtasks for some detailed TODOs."
38091,TYPO3.TypoScript,Feature,"",Resolved,Should have,Introduce debugMode setting,Rens Admiraal,"",2012-06-16 02:37,"","",2012-06-15,"","",100,2012-06-15 10:41,"","",667150,"",By default all output of TypoScript Runtime rendering is wrapped by HTML comments. This triggers quirks mode in Internet Explorer basically breaking the layout of current conference and demo sites.
36303,TYPO3.TypoScript,Bug,"",Closed,Could have,Templates are only loaded from rootlevel,Christian Jul Jensen,Karsten Dambekalns,2012-07-13 10:21,_old,"",2012-04-18,"","",0,2012-04-18 14:45,"","",578900,"","Not sure if this is a bug, just wanted to be sure that you know that the behaviour has changed.

After updating a site to new TypoScript, the root template was not loaded. It was located in TypoScripts/homepage/Root.ts2, moving it to TypoScripts/Root.ts2 solved the problem. It seems that ""extension templates"" are still loaded from folders with the rootname, but the main template did not."
36136,TYPO3.TypoScript,Bug,"",Resolved,Must have,Comment before doctype makes IE fall into Quirks mode,Adrian Föder,"",2012-07-04 05:23,"","",2012-04-16,"","",0,2012-04-16 04:41,"","",571200,"","at the current state, the source code reads

<pre><code class=""html"">

<!-- Beginning to render TS path ""page"" (Context: Node /sites/flow3org/home[TYPO3.TYPO3:Page]) -->

<!DOCTYPE html>
<html version=""HTML+RDFa 1.1"" xmlns:typo3=""http://www.typo3.org/ns/2011/FLOW3/Packages/TYPO3/Content/"" class=""page-home"">

</code></pre>

Due to that very first comment, that is before the doctype declaration, IE9 falls into quirks mode and the page is rendered very wrong.

Fix: Remove that comment somehow."
30097,TYPO3.TypoScript,Bug,"",Closed,Should have,Content must be renderable using a nodePath and a TypoScript object path,Sebastian Kurfuerst,"",2011-11-07 04:23,"","",2011-09-20,"","",0,2011-09-20 12:22,"","",275400,"","When rendering a nodePath, it would be cool if we could render it completely out-of-context. I.e. render just a single content element being part of a bigger page.

However, the current TypoScript does not yet support rendering a single content element depending on the current object path; so it could look like:

/.../somePage/someSection/text?typoscriptObjectPath=page.sections.someSection.text

Greets, Sebastian"
28217,TYPO3.TypoScript,Bug,"",Resolved,Should have,ContentObjects should not render if corresponding node is not accessible,Bastian Waidelich,Bastian Waidelich,2011-07-15 12:07,"","",2011-07-14,"","",100,2011-07-14 17:41,"","",183650,"","Currently only the accessRole of TYPO3.TYPO3:Page nodes are enforced. But it should be possible to restrict rendering of a node more ""fine-grained"".
E.g. following should be possible:
<pre>
<code class=""xml"">
<node type=""TYPO3.TYPO3:Page"">
	<properties>
		<title>Some Page</title>
	</properties>
	<node identifier="""" type=""TYPO3.TYPO3:Section"">
		<node identifier="""" type=""TYPO3.TYPO3:Text"">
			<properties>
				<headline>Public text</headline>
				<text><![CDATA[Should visible to everyone]]></text>
			</properties>
		</node>
		<node identifier="""" type=""TYPO3.TYPO3:Text"">
			<accessRoles>
				<role>SomeRole</role>
			</accessRoles>
			<properties>
				<headline>Protected text</headline>
				<text><![CDATA[Should only be visible to logged in users of role ""SomeRole""]]></text>
			</properties>
		</node>
	</node>
</node>
</code>
</pre>"
27672,TYPO3.TypoScript,Feature,"",Closed,Should have,Make response format configurable in TypoScript,Stefan Neufeind,Karsten Dambekalns,2012-07-13 10:21,_old,"",2011-06-24,"","",0,2011-06-23 21:07,"","",158300,"","(based on #9216 from extbase; needs some kind of ""forward-port"" to FLOW3 as suggested by Bastian on gerrit)

The response format can only be set using GET/POST parameters.

But it would be helpful to set it in TypoScript. For example if you create a new PAGE that outputs ics. You would have to use an url like
http://example.org/index.php?id=123&type=150&tx_czsimplecal_pi1[format]=ics

what could be considered a repetition.

Commit from #9216 adds such a functionality for extbase."
9925,TYPO3.TypoScript,Feature,"",Resolved,Won't have this time,"Support for ""Allman style""",Christian Eßl,"",2012-07-04 05:23,"","",2010-09-27,"","",0,2010-09-27 04:52,"","",1814250,"","I don't know how others feel about it, but as for me I can't really concentrate on the enforced ""K & R style"" in Typoscript 1.0, which often gives me a headache.

So I would really appreciate it, if there were a possibility to use the ""Allman brace style"" in Typoscript 2.0. "
8647,TYPO3.TypoScript,Task,"",Closed,Should have,CropProcessor should correctly crop HTML content,Bastian Waidelich,Karsten Dambekalns,2012-07-13 10:21,_old,"",2010-07-04,"","",0,2010-07-04 07:13,"","",42850,"",Since a while the v4 crop function is able to handle strings without breaking HTML tags. We should add that functionality too.
8646,TYPO3.TypoScript,Bug,"",Closed,Must have,CropProcessor should respect pre/suffix string in calculation of maximum characters,Bastian Waidelich,Karsten Dambekalns,2012-07-13 10:21,_old,"",2010-07-04,"","",0,2010-07-04 07:10,"","",1817400,"",Right now the Crop TypoScript processor adds the configured pre/suffix string to the cropped string resulting in a string that exceeds the maximumCharacter setting. Instead it should subtract the length of the pre/suffix string from maximumCharacters as it happens in the v4 crop function
8575,TYPO3.TypoScript,Task,"",Closed,Should have,Exception on wrong processing instruction misleading,Karsten Dambekalns,Karsten Dambekalns,2012-07-04 09:38,_old,"","","","",0,2010-06-30 12:08,"","",42050,"","When defining a processing instruction incorrectly like
<pre>
foo << wrap('foo', 'bar')
</pre>
you get the exception
<pre>
#1182705997: Invalid processing instruction ""wrap('foo', 'bar')""
</pre>

This is misleading, because it makes you think the wrap is wrong, but it's the index missing in this case.
"
8440,TYPO3.TypoScript,Feature,"",Resolved,Should have,Add support for named parameters for TS processors,Bastian Waidelich,"",2010-10-20 05:40,"","",2010-06-22,"","",100,2010-06-22 06:22,"","",1814300,"","Currently the processor notation is
<pre>
foo << 1.wrap('prefix', 'suffix')
</pre>
We decided to change this to
<pre>
foo << 1.wrap(prefix: 'prefix', suffix: 'suffix')
</pre>

You'll have to specify the parameter names. That might seem cumbersome, but it's more flexible - especially if you have a lot of parameters. Additionally it's in sync with the Fluid ViewHelper syntax.

@Note: I'm already working on this, but can't assign myself as I'm not yet member of this package. Please add me ;)"
8439,TYPO3.TypoScript,Bug,"",Resolved,Must have,Fix Namespace support in processor notation,Bastian Waidelich,Bastian Waidelich,2010-10-20 05:40,"","",2010-06-22,"","",100,2010-06-22 06:18,"","",1814350,"","Processor methods can either be within the default namespace or must be specified with the full component name. Since PHP supports propper namespaces, specifying the full object name does not work anymore.
The reason is, that the regular expression (SPLIT_PATTERN_INDEXANDMETHODCALL) does not allow backslashes.
An option would be to change the regular expression from
<pre>
/(?P<Index>\d+)\.(?P<ObjectAndMethodName>\w+)\s*\((?P<Arguments>.*?)\)\s*$/
</pre>
to
<pre>
/(?P<Index>\d+)\.(?P<ObjectAndMethodName>[^\(]+)\s*\((?P<Arguments>.*?)\)\s*$/
</pre>"
7559,TYPO3.TypoScript,Bug,"",Resolved,Should have,Double slashes are interpreted as comments even within literals,Robert Lemke,Robert Lemke,2010-10-20 05:40,"","",2010-04-30,"","",100,2010-04-30 08:43,"","",1814400,"","Any occurrence of ""//"" within a literal will be interpreted as a comment - and it shouldn't"
7555,TYPO3.TypoScript,Bug,"",Resolved,Should have,Curly braces within literals are interpreted as confinements,Robert Lemke,Robert Lemke,2010-10-20 05:40,"","",2010-04-30,"","",100,2010-04-30 08:01,"","",1814450,"","Curly braces within literals must be ignored by the parser, however, the following TS line results in ""#1181575973: Unexpected closing confinement without matching opening confinement. Check the number of your curly braces."":

<pre>
theTemplate.source = ""<html><head><title>{model.title}</title></head><body>Sample Template</body></html>""
</pre>
"
7552,TYPO3.TypoScript,Feature,"",Resolved,Should have,Implement multiline string support,Robert Lemke,Tobias Liebig,2010-10-20 05:40,"","",2010-04-30,"","",100,2010-04-30 07:11,"","",1814500,"","This should be possible:

<pre>
foo = Text
foo.value = "" The text starts at this line
   ...
   and ends a few lines later. ""

</pre>
"
5243,TYPO3.TypoScript,Bug,"",Resolved,Must have,It is not possible to assign an object to a property,Robert Lemke,Robert Lemke,2010-10-20 05:40,"","",2009-11-05,"","",100,2009-11-05 06:33,"","",1814550,"","The following code results in a parse error:

<pre>
   page = Page
   page.template = Template
</pre>
"
5241,TYPO3.TypoScript,Bug,"",Resolved,Must have,Overriding properties doesn't work,Robert Lemke,Robert Lemke,2010-10-20 05:40,"","",2009-11-05,"","",100,2009-11-05 06:31,"","",1814600,"","Consider a Page object with a title property:

<pre>
   page = Page
</pre>

Rendering this object would fetch the <pre>page.title</pre> from the domain model and display it. However, it is not possible to override this property:

<pre>
   page = Page
   page.title = ""My own title""
</pre>

The string ""My own title"" won't be used and the domain model's title will still be used instead."
1705,TYPO3.TypoScript,Bug,"",Rejected,Must have,TypoScript.value processor doesn't excape $,Peter Niederlag,Robert Lemke,2012-07-04 05:24,"","",2008-10-13,"","",0,2008-10-13 10:54,"","",1817700,"","page.10.1.vlue = ""A test to get a DOLLAr sign \$variable""

doesn't work and still display the value of $variable"
481,TYPO3.TypoScript,Bug,"",Closed,Should have,confinements for arrays don't work.,Robert Lemke,Karsten Dambekalns,2012-07-13 10:21,_old,"",2008-04-24,"","",0,2008-04-24 10:25,"","",1814650,"","backend.10 = GUI:Window
backend.10 {
  title = ""abc""
}

Throws exception #1180548488: Invalid object definition ""backend.10 {"" 

however, this works:

backend.10 = GUI:Window
backend.10.title = ""abc""

"
455,TYPO3.TypoScript,Bug,"",Closed,Should have,processor_crop fails cropping strings with HTML-tags or -entities properly,Jochen Rau,Karsten Dambekalns,2012-07-13 10:21,_old,"",2008-04-06,"","",0,2008-04-05 20:22,"","",1817750,"","processor_crop should close cropped tags like
<pre><strong><a href=""mailto:kasper@typo3.org"">Kasper Skår...</a></strong></pre>
and should not crop entities like
<pre>Kasper Sk&aring;rh&oslash;j</pre>
to avoid unvalid and faulty FE-output. You find appropriate test cases attached.

-Jochen"
454,TYPO3.TypoScript,Feature,"",Closed,Should have,processor_crop should provide at least all TYPO3v4 options,Jochen Rau,Karsten Dambekalns,2012-07-13 10:21,_old,"",2008-04-06,"","",0,2008-04-05 19:51,"","",1814700,"","In TYPO3v4 there is an option to crop from right:
""Syntax: +/- (chars) = from left / from right | [string] | [boolean: keep whole words]"" (TSRef)

In the actual implementation of the processor_crop cropping is possible from left and right but chars are only counted from left. IMO there should be three parameters:

CROP_AT: Char|Word|Sentence
CROP_FROM: right|left
COUNT_CHARS_FROM: left|right

The first option should be default.

- Jochen"
62,TYPO3.TypoScript,Feature,"",Closed,Should have,Decide on and implement TypoScript Array access,Robert Lemke,Robert Lemke,2010-10-20 05:40,"","","","","",0,2007-08-09 02:55,"","",1814750,"","(see mailing list discussion)

page = Page
pager10 = Text 
page.10 = Text
"
57,TYPO3.TypoScript,Bug,"",Closed,Should have,Unsetting elements of content arrays does not work,Robert Lemke,Karsten Dambekalns,2012-07-13 10:21,_old,"","","","",0,2007-06-29 15:05,"","",1814800,"","The following code throws an exception:

<pre>
page = Page
page.10 = Text
page.10 >
</pre>

Tried to assign a value to the non-existing property ""10"" to an object of type ""T3P_CMS_TypoScript_Page"""
55,TYPO3.TypoScript,Feature,"",Closed,Should have,Namespaces are not available for the definition of processor methods,Robert Lemke,Karsten Dambekalns,2012-07-13 10:21,_old,"","","","",0,2007-06-28 06:35,"","",1814850,"","Currently a processor method can either be within the default namespace or must be specified with the full component name:

  ...value << 1.wrap('x', 'y')
  ...value << 1.T3P_CMS_TypoScript_Processors->wrap('x', 'y')

However, it should be possible referring to a namespace:

  ...value << 1.mynamespace:myFunction()
"
54,TYPO3.TypoScript,Feature,"",Closed,Should have,Optimize speed of regular expressions in TypoScript parser,Robert Lemke,Karsten Dambekalns,2012-07-13 10:21,_old,"","","","",0,2007-06-05 09:45,"","",1814900,"",The regular expressions which are used in the TypoScript parser are worth a review in order to find faster alternatives.
