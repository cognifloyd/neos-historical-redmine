<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/60650 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:41:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #60650: ConfigurationManager::getConfigurationValueByPath ignores AdditionalConfiguration.php - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/60650.atom" rel="alternate" title="Core - Bug #60650: ConfigurationManager::getConfigurationValueByPath ignores AdditionalConfiguration.php" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  
    <div id="watchers">
      

<h3>Watchers (2)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/37194">Jost Baron</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-60650-watcher"></span>


</div>


<h2>Bug #60650</h2>

<div class="issue status-7 priority-2 closed details">
  

  

<div class="subject">
<div><h3>ConfigurationManager::getConfigurationValueByPath ignores AdditionalConfiguration.php</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/37194">Jost Baron</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-07-29" title="2014-07-29 01:11">about 1 year</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 15:30">8 months</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2014-07-29</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Should have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to">-</td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">-</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>6.2</td>
	<th>Is Regression:</th><td>No</td>
</tr>
<tr>
	<th>PHP Version:</th><td></td>
	<th>Sprint Focus:</th><td></td>
</tr>
<tr>
	<th>Complexity:</th><td></td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Judging by the uses in the core, it should query the final <code>$GLOBALS['TYPO3_CONF_VARS']</code>-array.</p>
  </div>








<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-11580">
<td class="checkbox"><input name="ids[]" type="checkbox" value="52557" /></td>
<td class="subject">related to 
    Core - 
    <a href="52557.html" class="issue status-6 priority-2">Bug #52557</a>: Show message and disallow modification of non DefaultConf...
</td>
<td class="status">Under Review</td>
<td class="start_date">2013-10-06</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-12122">
<td class="checkbox"><input name="ids[]" type="checkbox" value="62301" /></td>
<td class="subject">related to 
    Core - 
    <a href="62301.html" class="issue status-10 priority-4 closed">Bug #62301</a>: ConfigurationManager setters make system unstable
</td>
<td class="status">Rejected</td>
<td class="start_date">2014-10-17</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-12121">
<td class="checkbox"><input name="ids[]" type="checkbox" value="60294" /></td>
<td class="subject">related to 
    Core - 
    <a href="60294.html" class="issue status-9 priority-2 closed">Bug #60294</a>: If a local file storage is outside the document root, ima...
</td>
<td class="status">Closed</td>
<td class="start_date">2014-07-13</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-11613">
<td class="checkbox"><input name="ids[]" type="checkbox" value="53417" /></td>
<td class="subject">duplicates 
    Core - 
    <a href="53417.html" class="issue status-10 priority-2 closed">Bug #53417</a>: ConfigurationManager-&gt;getConfigurationValueByPath() ignor...
</td>
<td class="status">Rejected</td>
<td class="start_date">2013-11-07</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/60650/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/60650/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=60650&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>


<div id="issue-changesets">
<h3>Associated revisions</h3>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/2d5746416724d77ce3839eb8248b5219d39a1145" title="Revision 2d574641">Revision 2d574641</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 14:51">8 months</a> ago</span></p>
    <div class="wiki">
        <p>[TASK] Add note about AdditionalConfiguration.php to Install Tool</p>


	<p>Add a note to clarify that AdditionalConfiguration.php is always<br />overruling any setting made within the Install Tool.</p>


	<p>Furthermore we add a note to the ConfigurationManager that it is limited<br />to Core internal usage only.</p>


	<p>Resolves: <a href="60650.html" class="issue status-7 priority-2 closed" title="ConfigurationManager::getConfigurationValueByPath ignores AdditionalConfiguration.php (Resolved)">#60650</a><br />Releases: master, 6.2<br />Change-Id: Icaf7d4b1ce5b14ad0618e38e92a49a33405997f7<br />Reviewed-on: <a class="external" href="../../external.html?link=http://review.typo3.org/35409">http://review.typo3.org/35409</a><br />Reviewed-by: Christian Kuhn &lt;<a class="email" href="mailto:lolli@schwarzbu.ch">lolli@schwarzbu.ch</a>&gt;<br />Tested-by: Christian Kuhn &lt;<a class="email" href="mailto:lolli@schwarzbu.ch">lolli@schwarzbu.ch</a>&gt;<br />Reviewed-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;<br />Tested-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;<br />Reviewed-by: Wouter Wolters &lt;<a class="email" href="mailto:typo3@wouterwolters.nl">typo3@wouterwolters.nl</a>&gt;<br />Tested-by: Wouter Wolters &lt;<a class="email" href="mailto:typo3@wouterwolters.nl">typo3@wouterwolters.nl</a>&gt;<br />Reviewed-by: Alexander Opitz &lt;<a class="email" href="mailto:opitz.alexander@googlemail.com">opitz.alexander@googlemail.com</a>&gt;<br />Tested-by: Alexander Opitz &lt;<a class="email" href="mailto:opitz.alexander@googlemail.com">opitz.alexander@googlemail.com</a>&gt;</p>
    </div>
    </div>

    <div class="changeset even">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/2607711179ccc232eeda705f446317ec1e1d8cd3" title="Revision 26077111">Revision 26077111</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 15:01">8 months</a> ago</span></p>
    <div class="wiki">
        <p>[TASK] Add note about AdditionalConfiguration.php to Install Tool</p>


	<p>Add a note to clarify that AdditionalConfiguration.php is always<br />overruling any setting made within the Install Tool.</p>


	<p>Furthermore we add a note to the ConfigurationManager that it is limited<br />to Core internal usage only.</p>


	<p>Resolves: <a href="60650.html" class="issue status-7 priority-2 closed" title="ConfigurationManager::getConfigurationValueByPath ignores AdditionalConfiguration.php (Resolved)">#60650</a><br />Releases: master, 6.2<br />Change-Id: Icaf7d4b1ce5b14ad0618e38e92a49a33405997f7<br />Reviewed-on: <a class="external" href="../../external.html?link=http://review.typo3.org/35412">http://review.typo3.org/35412</a><br />Reviewed-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;<br />Tested-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;</p>
    </div>
    </div>


</div>



<div id="history">
<h3>History</h3>

  <div id="change-225859" class="journal has-notes">
    <h4><a href="60650.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-07-29" title="2014-07-29 01:32">about 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-225859-notes"><p>So you're using the ConfigurationManager in your code somewhere to retrieve configuration, right?</p></div>
  </div>
  

  <div id="change-225873" class="journal has-notes">
    <h4><a href="60650.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/37194">Jost Baron</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-07-29" title="2014-07-29 10:52">about 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-225873-notes"><p>Yes, only for read access - is it not meant to be done that way? Since the core seems to do it, too</p></div>
  </div>
  

  <div id="change-225883" class="journal has-notes has-details">
    <h4><a href="60650.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-07-29" title="2014-07-29 13:07">about 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Needs Feedback</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-225883-notes"><p>Were does the Core us it too?</p>


	<p>AFAIK ConfigurationManager from Core is to be used only internally (currently only in bootstrap and install tool) in order to manage the various configuration files.<br />All other Core parts as well as extensions should really use the global TYPO3_CONF_VARS array which hold the real configuration (including everything from AdditionalConfiguration.php)</p>


	<p>Be aware that there is another ConfigurationManager from extbase, which is intended to be used by extensions too.</p></div>
  </div>
  

  <div id="change-225901" class="journal has-notes">
    <h4><a href="60650.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/37194">Jost Baron</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-07-29" title="2014-07-29 14:50">about 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-225901-notes"><p>There is one place on the extension manager using this method (fetching the current extension configuration under <code>EXT/extConf/extkey</code>), and several instances in the install tool.</p>


	<p>The usage in the extension manager prevents changed extension settings from <code>AdditionalConfiguration.php</code> to be shown in the configuration area of the extension manager. This could be a problem, since the value that is actually used and the value that is shown value are different. To reproduce, add this line to your <code>AdditionalConfiguration.php</code></p>


<pre>$GLOBALS['TYPO3_CONF_VARS']['EXT']['extConf']['rsaauth'] = 'a:1:{s:18:"temporaryDirectory";s:0:"";}';</pre>

	<p>and change the setting via extension manager. Then the changed setting is shown, but the above setting is used.</p>


	<p>I'm not sure about the usages in the install tool, some seem legit (at least under certain assumptions, for example that there is no <code>AdditionalConfiguration.php</code> to be respected while the initial setup is running), about some others I'm not so sure. For example, a configuration preset is marked 'inactive', if its settings are there, but only in <code>AdditionalConfiguration.php</code>.</p></div>
  </div>
  

  <div id="change-226456" class="journal has-notes">
    <h4><a href="60650.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/683">Christian Kuhn</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-04" title="2014-08-04 22:20">12 months</a> ago</h4>

    
    <div class="wiki" id="journal-226456-notes"><p>Well, yeah.</p>


	<p>The core reads some information directly from LocalConfiguration to be sure that the overload file AdditionalConfiguration is ignored at some places.</p>


	<p>The problem with AdditionalConfiguration is, that we can not realiably detect or find out what exactly is changed there:<br />The related issue <a href="52557.html" class="issue status-6 priority-2" title="Show message and disallow modification of non DefaultConfiguration values in install tool (Under Review)">#52557</a> tries to detect in "all configuration" in install tool if a value is changed by Additional configuration by comparing the setting within LocalConfiguration and the one in $GLOBALS['TYPO3_CONF_VARS']. If it finds a difference, then it knows "ok, this value was probably changed in AdditionalConfiguration". But this is not reliable since there may be code that only hits if the system is production or dev, or if it is 1 o'clock in the morning or other stuff. Even "grepping" in AdditionalConfiguration for code may not be reliable since we do not know if someone included other files.<br />So neither executing nor scanning this file gives us a definite knowledge if someone change something in this file.</p>


	<p>Therefor, AdditionalConfiguration is currently "ignored" by the core. Core basically says: If you have funny code in this file, that change settings, then those settings may not be settable by core handling code anymore, since we never know what and how you are doing things in there. Thus, it is in developers hands. If a developer overwrites settings there (eg. based on context environment variable), then these settings are basically out-of-support by core code like install tool or em. If a dev forgets about overwritten stuff in this file, and then wonders why his settings changed by install tool or em does not work, well, i just see no good option to help there. In my opinion we can not even help to detect wether an option was changed or not, any code we would come up with is probably doomed to fail in some situations.</p>


	<p>Thus, I tend to say: If you use AdditionalConfiguration, then you <strong>must</strong> take care of those options on your own, together with the according side effects it may have.</p>


	<p>I'd close this issue as rejected for these reasons, and I tend to also vote down Sascha's pending patch for <a href="52557.html" class="issue status-6 priority-2" title="Show message and disallow modification of non DefaultConfiguration values in install tool (Under Review)">#52557</a>.</p>


	<p>Maybe, if you align with this view, we could think about how to hint devs better about this fact. Maybe we could add hints (to install tool or/and em) that settings changed within AdditionalConfiguration are ignored by the install tool / em code and changing them within these modules may not have the desired effect. This way, we would at least achieve a better information strategy about this situation.</p></div>
  </div>
  

  <div id="change-226458" class="journal has-notes">
    <h4><a href="60650.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/37194">Jost Baron</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-04" title="2014-08-04 22:49">12 months</a> ago</h4>

    
    <div class="wiki" id="journal-226458-notes"><p>Hi Christian,</p>


	<p>I still have some concerns:</p>


	<p>1. Because of some blog posts and other stuff easily found with Google, many people use the <code>ConfigurationManager::getConfigurationValueByPath()</code> method (and also the setters). That's how I came to use it, too. There is no clear indication that it should not be used outside the core, and there is obviously the need for a service like it, which behaves as expected, and which can also be mocked easily.</p>


	<p>Is it a good idea to add another "configuration manager" to the core, but for use in extensions to query and modify the <code>GLOBALS['TYPO3_CONF_VARS']</code> array? Maybe even replacing the current <code>ConfigurationManager</code> with that one, and moving the current <code>ConfigurationManager</code> to some place else and giving it a more speaking name, like <code>LocalConfigurationFileManager</code>?</p>


	<p>2. Its clear that the install tool can't ever analyze which options are changed by the <code>AdditionalConfiguration.php</code>. That problem is probably equivalent to the halting problem. But I think what Sascha does makes (partly) sense. There should be a warning that a settings value is not taken from the current <code>LocalConfiguration.php</code>, but comes from somewhere else (in the current context). Just a warning, to make debugging easier. Same thing for the extension manager.</p></div>
  </div>
  

  <div id="change-227028" class="journal has-notes">
    <h4><a href="60650.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/683">Christian Kuhn</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-12" title="2014-08-12 20:03">12 months</a> ago</h4>

    
    <div class="wiki" id="journal-227028-notes"><p>1. I think writing the LocalConfiguration file should be a task done by em / install tool (=core) only. Extensions should rely on $GLOBALS['TYPO3_CONF_VARS'] only, not on using some API (BTW: this array can be easily set/mocked within unit test, core tests do that at a lot of places). Maybe we should mark the class and its methods as "@internal, do not use in extensions, use $GLOBALS['TYPO3_CONF_VARS'] directly" to hint devs about this core-internal class, and is not public API.</p>


	<p>2. Yep, better hinting in the em / install tool that stuff in AdditionalConfiguration may break "All configuration" (and maybe more?) is a good idea.</p></div>
  </div>
  

  <div id="change-240207" class="journal has-notes has-details">
    <h4><a href="60650.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/683">Christian Kuhn</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-12" title="2014-12-12 23:09">8 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Needs Feedback</i> to <i>Accepted</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-240207-notes"><p>Tasks to do:</p>


	<ul>
	<li>State more clearly in ConfigurationManager that this is a lowlevel core API that is <strong>usually</strong> only touched by core, and that extensions usually shouldn't operate with it.</li>
	</ul>


	<ul>
	<li>Add something to the install tool that changing AllConfiguration (and more? maybe presets) may not have the desired effect if AdditionalConfiguration overwrites this stuff again.</li>
	</ul></div>
  </div>
  

  <div id="change-240464" class="journal has-notes has-details">
    <h4><a href="60650.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 13:22">8 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Accepted</i> to <i>Under Review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-240464-notes"><p>Patch set 1 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/35409">http://review.typo3.org/35409</a></p></div>
  </div>
  

  <div id="change-240467" class="journal has-notes">
    <h4><a href="60650.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 13:59">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-240467-notes"><p>Patch set 2 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/35409">http://review.typo3.org/35409</a></p></div>
  </div>
  

  <div id="change-240474" class="journal has-notes">
    <h4><a href="60650.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 14:29">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-240474-notes"><p>Patch set 3 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/35409">http://review.typo3.org/35409</a></p></div>
  </div>
  

  <div id="change-240475" class="journal has-notes">
    <h4><a href="60650.html#note-12" class="journal-link">#12</a>
    
    <a name="note-12"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 14:30">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-240475-notes"><p>Patch set 4 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/35409">http://review.typo3.org/35409</a></p></div>
  </div>
  

  <div id="change-240478" class="journal has-notes has-details">
    <h4><a href="60650.html#note-13" class="journal-link">#13</a>
    
    <a name="note-13"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 15:00">8 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Under Review</i> to <i>Resolved</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-240478-notes"><p>Applied in changeset <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/2d5746416724d77ce3839eb8248b5219d39a1145" class="changeset" title="[TASK] Add note about AdditionalConfiguration.php to Install Tool Add a note to clarify that Add...">2d5746416724d77ce3839eb8248b5219d39a1145</a>.</p></div>
  </div>
  

  <div id="change-240479" class="journal has-notes has-details">
    <h4><a href="60650.html#note-14" class="journal-link">#14</a>
    
    <a name="note-14"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 15:01">8 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Resolved</i> to <i>Under Review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-240479-notes"><p>Patch set 1 for branch <strong>TYPO3_6-2</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/35412">http://review.typo3.org/35412</a></p></div>
  </div>
  

  <div id="change-240486" class="journal has-notes has-details">
    <h4><a href="60650.html#note-15" class="journal-link">#15</a>
    
    <a name="note-15"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-14" title="2014-12-14 15:30">8 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Under Review</i> to <i>Resolved</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-240486-notes"><p>Applied in changeset <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/2607711179ccc232eeda705f446317ec1e1d8cd3" class="changeset" title="[TASK] Add note about AdditionalConfiguration.php to Install Tool Add a note to clarify that Add...">2607711179ccc232eeda705f446317ec1e1d8cd3</a>.</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-60650-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/60650.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="60650.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/60650 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:41:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
