<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/27119 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 21:58:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Feature #27119: Declare namespaces in XML tag - TYPO3.Fluid - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

#header #right-area, #header #right-area h1, #header #right-area a {
  color:#FFFFFF;
}

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/27119.atom" rel="alternate" title="TYPO3.Fluid - Feature #27119: Declare namespaces in XML tag" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 current sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="background-color:#FFFFFF;background-image:url(../headerimages/517.jpg);">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/search" accesskey="4" style="color:#FFFFFF">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>TYPO3.Fluid</h1>
        <div id="quicklinks"><p>Wiki of the <a href="../../external.html?link=http://forge.typo3.org/projects/typo3v4-mvc/wiki" class="external">Extbase Project</a></p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/flow3-distribution-base" class="level-1 current sorting-0">TYPO3 Flow Base Distribution</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-eel" class="level-2 sorting-0">TYPO3.Eel</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-flow" class="level-2 sorting-0">TYPO3.Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid" class="level-2 current sorting-0">TYPO3.Fluid</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-kickstart" class="level-2 sorting-0">TYPO3.Kickstart</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-welcome" class="level-2 sorting-0">TYPO3.Welcome</a><a href="../../external.html?link=https://forge.typo3.org/projects/packages" class="level-1 sorting-10">Packages</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3-apps" class="level-1 sorting-30">Applications</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=195" class="query">1.0 beta 1</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/issues?query_id=204" class="query">Recently modified</a>



  
    <div id="watchers">
      

<h3>Watchers (2)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/4244">Claus Due</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/37190">Tilo Baller</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-27119-watcher"></span>


</div>


<h2>Feature #27119</h2>

<div class="issue status-7 priority-2 closed details">
  

  

<div class="subject">
<div><h3>Declare namespaces in XML tag</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/247">Fernando Arconada</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2011-05-29" title="2011-05-29 11:18">about 4 years</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2013-01-10" title="2013-01-10 16:27">over 2 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2011-05-29</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Should have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to"><a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">Core</td>
    
    <th></th>
    <td></td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version"><a href="../../external.html?link=https://forge.typo3.org/versions/1424">TYPO3 Flow Base Distribution - 1.1 beta 1</a></td>
    
</tr>
<tr>
	<th>Has patch:</th><td>No</td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>One of the great things of FLUID is that is XML but namespace declaration isnt. There should be a way/tag to declare namespaces in a tag. If you could have your template as pure XML you could validate it with XML validation tools</p>
  </div>








<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-12523">
<td class="checkbox"><input name="ids[]" type="checkbox" value="65547" /></td>
<td class="subject">related to 
    Extension Builder - 
    <a href="65547.html" class="issue status-4 priority-2">Task #65547</a>: Generate Fluid templates with fluid namespaces
</td>
<td class="status">Needs Feedback</td>
<td class="start_date">2015-03-05</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/27119/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/27119/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=27119&amp;project_id=package-typo3-fluid')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>


<div id="issue-changesets">
<h3>Associated revisions</h3>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/repository/revisions/432ebf65baab808251f8954a12f5678f87b37550" title="Revision 432ebf65">Revision 432ebf65</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 16:20">about 3 years</a> ago</span></p>
    <div class="wiki">
        <p>[FEATURE] Declare namespaces in XML tag</p>


	<p>This makes it possible to declare Fluid namespace identifiers with<br />the common xmlns syntax &lt;html xmlns:foo="http://some/unique/namespace"&gt;<br />That works as a replacement for xml/html based Fluid templates which<br />can be used instead of the {namespace foo=Bar} syntax.</p>


	<p>This syntax triggers auto-completion in most IDEs if the xml<br />namespace is bound to a valid XSD schema!</p>


	<p>Usage:</p>


	<ul>
	<li>Create a XSD file for your ViewHelpers by executing<br />  ./flow3 documenation:generatexsd Your\\Package\\ViewHelpers<br />  --target-file some/directory/your.package.xsd</li>
	</ul>


	<ul>
	<li>Import the XSD file in your favorite IDE and map it to the<br />  namespace "http://typo3.org/ns/Your/Package/ViewHelpers"</li>
	</ul>


	<ul>
	<li>Add the namespace to your Fluid template by adding the "xmlns:" <br />  attribute to the root tag (usually &lt;xml ...&gt; or &lt;html ...&gt;).</li>
	</ul>


	<p>If you want to use this inside partials, you can use the "section" <br />argument of the render ViewHelper in order to only render the content<br />of the partial:</p>


	<p>Partial:<br />&lt;html xmlns:x="http://typo3.org/ns/Your/Package/ViewHelpers"&gt;<br />&lt;f:section name="content"&gt;<br />    &lt;x:yourViewHelper /&gt;<br />&lt;/f:section&gt;</p>


	<p>Template:<br />&lt;f:render partial="PartialName" section="content" /&gt;</p>


	<p>Note:</p>


	<p>You are able to use a different XML namespace pattern by specifying<br />the --xsd-namespace argument in the generatexsd command.</p>


	<p>The default pattern "http://typo3.org/ns/&lt;php namespace&gt;" is resolved<br />automatically by the Fluid parser. If you use a custom XML namespace,<br />you need to configure the namespace mapping.</p>


	<p>The (YAML) syntax for that is:</p>


	<p>TYPO3:<br />  Fluid:<br />    namespaces:<br />      'http://some/unique/namespace': 'My\Php\Namespace'</p>


	<p>Change-Id: I4d184ee81677c59583bdc7f6f19375155b60efe8<br />Resolves: <a href="27119.html" class="issue status-7 priority-2 closed" title="Declare namespaces in XML tag (Resolved)">#27119</a><br />Releases: 1.1</p>
    </div>
    </div>


</div>



<div id="history">
<h3>History</h3>

  <div id="change-102283" class="journal has-notes">
    <h4><a href="27119.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-02-10" title="2012-02-10 11:25">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-102283-notes"><p>+1 on that; I ever wondered why this wasn't regarded initially. Are/were there technical / parsing reasons for that?</p></div>
  </div>
  

  <div id="change-105042" class="journal has-notes has-details">
    <h4><a href="27119.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-05" title="2012-03-05 18:44">over 3 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Category</strong> set to <i>Core</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-105042-notes"><p>Good point! We might go for the XML namespace syntax (<code>&lt;html [...] xmlns:foo="bar"</code>).<br />But we would need to map the XML namespace to the PHP Namespace somehow and this has to be global!</p></div>
  </div>
  

  <div id="change-105044" class="journal has-notes">
    <h4><a href="27119.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4244">Claus Due</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-05" title="2012-03-05 19:23">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105044-notes"><p>Suggestion:</p>


	<p>If we are willing to make a breaking change, we can force that the XML namespace used must match the package/extension key that contains the corresponding ViewHelpers.</p>


	<p>Such behavior could perhaps also be toggled on a per-package/extension basis through settings, making it non-breaking?</p>


	<p>I would love to see this done!</p></div>
  </div>
  

  <div id="change-105049" class="journal has-notes">
    <h4><a href="27119.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-05" title="2012-03-05 19:52">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105049-notes"><p>Claus Due wrote:</p>


	<p>Hi Claus,</p>


<blockquote>

	<p>If we are willing to make a breaking change, we can force that the XML namespace<br />used must match the package/extension key that contains the corresponding ViewHelpers.</p>


</blockquote>

	<p>Actually the XML namespace <strong>identifier</strong> does not have to be unique and I prefer to have a short identifier here instead of a full extension key. We "only" need to have a unique mapping from the actual namespace URI to the ViewHelper path, so if you have:<br /><pre>
<code class="html syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">lang</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xml:lang</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:foo</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://bar.tld/ns/my/ViewHelpers</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">...</span> <span class="tag">/&gt;</span>
</span></code><br /></pre><br />Fluid needs to know where ViewHelpers with the namespace "http://bar.tld/ns/my/ViewHelpers" are located. This should be backwards compatible.</p></div>
  </div>
  

  <div id="change-105050" class="journal has-notes">
    <h4><a href="27119.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4244">Claus Due</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-05" title="2012-03-05 19:57">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105050-notes"><p>Hi Bastian,</p>


	<p>You're right, there's also a point in registering different VH sets under the same namespace in different templates.</p>


	<p>How about this, which should also be 100% backwards compatible:</p>


<pre>
&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" xmlns:foo="http://bar.tld/ns/my/ViewHelpers"&gt;
  &lt;f:namespace xmlns="foo" namespace="\Foo\Bar\ViewHelpers" /&gt;
&lt;/html&gt;
</pre>

	<p>In this case you could use either the {namespace} annotation or the &lt;f:namespace&gt; - and it would only be loosely connected to the &lt;html xmlns:foo&gt; definition. Your thoughts?</p>


	<p>EDIT: since there are no valid tags we can apply to &lt;html&gt; and we cannot yet in that hierarchy level use &lt;f:...&gt; I believe the nested &lt;f:namespace&gt; ViewHelper is a good solution.</p></div>
  </div>
  

  <div id="change-105417" class="journal has-notes">
    <h4><a href="27119.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 12:35">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105417-notes"><p>Claus Due wrote:</p>


	<p>Hi Claus,</p>


<blockquote>

	<p>In this case you could use either the {namespace} annotation or the &lt;f:namespace&gt; -<br />and it would only be loosely connected to the &lt;html xmlns:foo&gt; definition.<br />Your thoughts?</p>


</blockquote>

	<p>Yes, I thought about a tag based syntax for {namespace} too and I think this is feasible. But IMO it would be even better if you would not have to define the namespace twice. And if we make it possible to use either <code>{namespace}</code> or <code>&lt;html|xml xmlns:foo="bar"</code> (with a preference to the tag based syntax for XHTML/XML based templates) users would get auto completion by default.. I'll give that a try!</p></div>
  </div>
  

  <div id="change-105870" class="journal has-details">
    <h4><a href="27119.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 17:37">over 3 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Accepted</i></li>
      
       <li><strong>Assigned To</strong> set to <i>Bastian Waidelich</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-105873" class="journal has-notes">
    <h4><a href="27119.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 17:41">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105873-notes"><p>Ok I've done a quick prototype that works quite nicely for me.<br />You'll have to "register" namespace mappings in the global configuration. For FLOW3 in Configuration/Settings.yaml like:<br /><pre>
<code class="yaml syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="key">TYPO3</span>:
<span class="line-numbers">2</span>  <span class="key">Fluid</span>:
<span class="line-numbers">3</span>    <span class="key">namespaces</span>:
<span class="line-numbers">4</span>      <span class="key"><span class="delimiter">'</span><span class="content">http://typo3.org/ns/typo3/fluid/viewhelpers</span><span class="delimiter">'</span></span>: <span class="string"><span class="content">'TYPO3\Fluid\ViewHelpers'</span></span>
<span class="line-numbers">5</span>      <span class="key"><span class="delimiter">'</span><span class="content">http://typo3.org/ns/typo3/viewhelpertest/viewhelpers</span><span class="delimiter">'</span></span>: <span class="string"><span class="content">'TYPO3\Viewhelpertest\ViewHelpers'</span></span>
</span></code><br /></pre></p>


	<p>And then you can import those namespaces in your Fluid Template like:<br /><pre>
<code class="html syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="line-numbers"> 2</span><span class="doctype">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="line-numbers"> 3</span><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span> 
<span class="line-numbers"> 4</span>    <span class="attribute-name">xmlns:f</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://typo3.org/ns/typo3/fluid/viewhelpers</span><span class="delimiter">&quot;</span></span> 
<span class="line-numbers"> 5</span>    <span class="attribute-name">xmlns:vht</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://typo3.org/ns/typo3/viewhelpertest/viewhelpers</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 6</span>
<span class="line-numbers"> 7</span>    <span class="tag">&lt;f:layout</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Default</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"> 8</span>    <span class="tag">&lt;f:section</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 9</span>        <span class="tag">&lt;vht:meHasAutoCompletion</span> <span class="attribute-name">rocks</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"><strong>10</strong></span>    <span class="tag">&lt;/f:section&gt;</span>
<span class="line-numbers">11</span><span class="tag">&lt;/html&gt;</span>
</span></code><br /></pre></p>


	<p>Please comment</p></div>
  </div>
  

  <div id="change-105877" class="journal has-notes has-details">
    <h4><a href="27119.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 17:46">over 3 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Accepted</i> to <i>Under Review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-105877-notes"><p>Patch set 1 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-105880" class="journal has-notes">
    <h4><a href="27119.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 17:49">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105880-notes"><p>Patch set 2 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-105882" class="journal has-notes">
    <h4><a href="27119.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 17:50">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105882-notes"><p>Patch set 3 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-105883" class="journal has-notes">
    <h4><a href="27119.html#note-12" class="journal-link">#12</a>
    
    <a name="note-12"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 18:06">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105883-notes"><p>Awesome; how could I overlook such a hot topic...</p>


	<p>I have a single demur; it's about the namespace declaration at all:<br /><pre>
&lt;html xmlns:foo="http://some/unique/namespace"&gt;
</pre></p>


	<p>this requires to be set in every file; and it's semantically incorrect: with this you introduce a new root node for each file, which is even &lt;html&gt; and could heavily be confused with the actual &lt;html&gt; element. Is it even put out?</p>


	<p>Or is your intention to set the namespace via &lt;html&gt; and "ship" everything out also, including inheriting the setting to partials and layout-children? That would destroy the idea of local namespacing.</p></div>
  </div>
  

  <div id="change-105885" class="journal has-notes">
    <h4><a href="27119.html#note-13" class="journal-link">#13</a>
    
    <a name="note-13"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 18:14">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105885-notes"><p>aandd, I would place the configuration to something including "ViewHelpers", using only</p>


<pre>
  TYPO3:
    Fluid:
      namespaces:
</pre>

	<p>could be too-easily mixed up with some real PHP class based namespace stuff.. so I'd suggest at least some kind of</p>


<pre>
  TYPO3:
    Fluid:
      viewHelpers:
        namespaces:
</pre>

	<p>or <br /><pre>
      viewHelperNamespaces:
</pre></p></div>
  </div>
  

  <div id="change-105930" class="journal has-notes">
    <h4><a href="27119.html#note-14" class="journal-link">#14</a>
    
    <a name="note-14"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-07" title="2012-03-07 19:51">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105930-notes"><p>@Adrian good points. If you look at my example, the html tag is actually outside the rendered content. You can do the same in partials by using inline sections. Re configuration: I agree, this is not yet optimal, but imo its not specific to ViewHelpers. Maybe we can call it namespaceMapping or s.th.?</p>


	<p>(commenting from Symfony user group meeting ;)</p></div>
  </div>
  

  <div id="change-105995" class="journal has-notes">
    <h4><a href="27119.html#note-15" class="journal-link">#15</a>
    
    <a name="note-15"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-08" title="2012-03-08 08:57">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-105995-notes"><p>Hi Bastian,</p>


<blockquote>

	<p>the html tag is actually outside the rendered content.</p>


</blockquote>

	<p>So it really means you have to declare the namespace to the "parent-most" template and it's inherited to all childs (i.e. partials and sections)?<br />Unfortunately this brings a major drawback: it makes Fluid not outputting the templates as-is anymore.<br />Currently, templates are output exactly as they are, only an occurence of a {} or a foreign-namespaced tag is substituted by Fluid.<br />With that new &lt;html&gt; namespacing, this behavior is broken.</p>


	<p>Additionally, as already said: the "local" namespacing won't be possible anymore, you'd have to decide a namespace token over the whole, complete project; and this is imho not the idea of a namespace (token).<br />The benefit of the tokens is, imo, the declaration in-place, that means: when examining code and coming across a namespace token, you know you find its "meaning" at the top of the file. So `c:` in one file would point to TYPO3.Comments, in the next file it may mean; whatever; Acme.Conversions.</p>


	<p>I really <strong>explicitly</strong> loved exactly this circumstance; you must not be aware of not hurting existing namespaces or accidentally using a wrong one; being in one file makes you totally aware of on what NS you are on (with looking at the file header).</p>


	<p>So, how's it done in plain XML? Unfortunately, when using plain XML you'd need a root node compulsorily. We would not want root nodes. So maybe it's possible to come back to the Element-based namespace declaration as discussed before,</p>


<pre>
&lt;f:namespace
    xmlns:f="http://typo3.org/ns/2011/typo3/fluid" 
    xmlns:cm="http://typo3.org/ns/2012/typo3/comments" 
    xmlns:a="http://acme.org" 
 /&gt;
</pre>

	<p>(note it's an empty single tag).</p>


	<p>the first <code>xmlns:f</code> it "required" to allow the <code>f:namespace</code> attribute at all; but I don't now if this is valid, really-parsable W3C conform syntax however.<br />As said, being correct would require a root node.</p>


	<p>I don't have a real suggestion; another idea was to require an <code>&lt;f:template&gt;</code> root node in each file like it's usual in XSLTs...<br />But that's verbose and would break; but... that's not sooo bad, it could be reasonable with "each fluid file <strong>must</strong> be valid xml"... But again this reduces simplicity, imo....</p></div>
  </div>
  

  <div id="change-106014" class="journal has-notes">
    <h4><a href="27119.html#note-16" class="journal-link">#16</a>
    
    <a name="note-16"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/11">Sebastian Kurfuerst</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-08" title="2012-03-08 09:48">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-106014-notes"><p>Hey</p>


<blockquote>

	<p>So it really means you have to declare the namespace to the "parent-most" template and it's inherited to all childs (i.e. partials and sections)?</p>


</blockquote>

	<p>If I understood Bastian correctly, that is not the case. If it were so, that'd be a no-go for me as well.</p>


	<p>Greets, Sebastian</p></div>
  </div>
  

  <div id="change-106073" class="journal has-notes">
    <h4><a href="27119.html#note-17" class="journal-link">#17</a>
    
    <a name="note-17"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-08" title="2012-03-08 21:13">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-106073-notes">Misunderstandings ;)<br />If you look at the patch (<a class="external" href="../../external.html?link=https://review.typo3.org/#/c/9463/">https://review.typo3.org/#/c/9463/</a>) you can see that the xmlns syntax works in addition to the existing <code>{namespace foo=bar}</code> syntax with following exceptions:
	<ul>
	<li>the <strong>f</strong> namespace identifier is skipped (because it is already registered by default)</li>
		<li>if a namespace can't be resolved (e.g. there is no mapping configured) the namespace will be skipped silently. Otherwise this would be a breaking change.</li>
		<li>the namespace declaration is <strong>not</strong> removed from the template</li>
	</ul>


	<p>Namespaces will still be valid only for <strong>one</strong> Fluid file.</p>


	<p>But you do have a valid point.. The files could look like this:</p>


	<a name="LayoutsDefaulthtml"></a>
<h3 >Layouts/Default.html<a href="#LayoutsDefaulthtml" class="wiki-anchor">&para;</a></h3>


<pre>
<code class="html syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="line-numbers"> 2</span><span class="doctype">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="line-numbers"> 3</span><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 4</span>    <span class="tag">&lt;head&gt;</span>
<span class="line-numbers"> 5</span>        <span class="tag">&lt;title&gt;</span>Foo<span class="tag">&lt;/title&gt;</span>
<span class="line-numbers"> 6</span>    <span class="tag">&lt;/head&gt;</span>
<span class="line-numbers"> 7</span>    <span class="tag">&lt;body&gt;</span>
<span class="line-numbers"> 8</span>        <span class="tag">&lt;f:render</span> <span class="attribute-name">section</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"> 9</span>    <span class="tag">&lt;/body&gt;</span>
<span class="line-numbers"><strong>10</strong></span><span class="tag">&lt;/html&gt;</span>
</span></code><br /></pre>

	<a name="TemplatesIndexhtml"></a>
<h3 >Templates/Index.html<a href="#TemplatesIndexhtml" class="wiki-anchor">&para;</a></h3>


<pre>
<code class="html syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="line-numbers"> 2</span><span class="doctype">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="line-numbers"> 3</span><span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:f</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://typo3.org/ns/typo3/fluid/viewhelpers</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:vht</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://typo3.org/ns/typo3/viewhelpertest/viewhelpers</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 4</span>
<span class="line-numbers"> 5</span>    <span class="tag">&lt;f:layout</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Default</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"> 6</span>    <span class="tag">&lt;f:section</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 7</span>        <span class="tag">&lt;vht:hasAuto</span> <span class="attribute-name">completion</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"> 8</span>    <span class="tag">&lt;/f:section&gt;</span>
<span class="line-numbers"> 9</span>
<span class="line-numbers"><strong>10</strong></span><span class="tag">&lt;/html&gt;</span>
</span></code><br /></pre>

	<p>That works quite nice, but for partials that's not possible.. You can comment out the namespace declaration like:</p>


	<a name="PartialsTesthtml"></a>
<h3 >Partials/Test.html<a href="#PartialsTesthtml" class="wiki-anchor">&para;</a></h3>


<pre>
<code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;f:comment&gt;</span>
<span class="line-numbers">2</span>    <span class="tag">&lt;html</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xhtml</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:f</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://typo3.org/ns/typo3/fluid/viewhelpers</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:vht</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://typo3.org/ns/typo3/viewhelpertest/viewhelpers</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers">3</span><span class="tag">&lt;/f:comment&gt;</span>
<span class="line-numbers">4</span>
<span class="line-numbers">5</span>Partial content
</span></code><br /></pre>

	<p>But that's not very neat.. Maybe we can make this configurable so that the whole tag declaring namespaces is removed, but that might have unwanted side-effects and would be an overkill IMO.<br />Any other suggestions?</p></div>
  </div>
  

  <div id="change-106269" class="journal has-notes">
    <h4><a href="27119.html#note-18" class="journal-link">#18</a>
    
    <a name="note-18"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4764">Alexander Berl</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-03-11" title="2012-03-11 03:16">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-106269-notes"><p>If I may give my unqualified input on this matter, as I find the basic idea very interesting and promising (I always found it awkward to have the {namespace foo=bar} syntax):</p>


	<p>I never really understood why I had to declare namespaces in partials anyway, since in my understanding their behaviour is completely different from sections. As I see it, a partial is just that - a partial cutout of another bigger template, and as that internally it's just a copy&#38;paste in place, so is just an extraction mainly for structuring/organization purpose, e.g.:</p>


	<a name="TemplatesIndexhtml"></a>
<h3 >Templates/Index.html<a href="#TemplatesIndexhtml" class="wiki-anchor">&para;</a></h3>


<pre>
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://typo3.org/ns/typo3/fluid/viewhelpers" xmlns:vht="http://typo3.org/ns/typo3/viewhelpertest/viewhelpers"&gt;

    &lt;f:layout name="Default" /&gt;
    &lt;f:section name="content"&gt;
        &lt;f:render partial="MyPartial" /&gt;
    &lt;/f:section&gt;

&lt;/html&gt;
</pre>

	<a name="PartialsMyPartialhtml"></a>
<h3 >Partials/MyPartial.html<a href="#PartialsMyPartialhtml" class="wiki-anchor">&para;</a></h3>


<pre>
 1 &lt;vht:title&gt;Hello World from the partial!&lt;/vht:title&gt;
</pre>

	<p>is basically the same as writing:</p>


<pre>
 1 &lt;?xml version="1.0" encoding="utf-8" ?&gt;
 2 &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
 3 &lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://typo3.org/ns/typo3/fluid/viewhelpers" xmlns:vht="http://typo3.org/ns/typo3/viewhelpertest/viewhelpers"&gt;
 4 
 5     &lt;f:layout name="Default" /&gt;
 6     &lt;f:section name="content"&gt;
 7         &lt;vht:title&gt;Hello World from the partial!&lt;/vht:title&gt;
 8     &lt;/f:section&gt;
 9 
10 &lt;/html&gt;
</pre>

	<p>hence the code in the partial ends up in the namespace of the template it lies within. However, Templates are completely different from that, as they get parsed seperately and everything outside the f:section tags gets stripped away for rendering purpose. Hence IMO it is totally logical that they should be fully qualifying XML files and have their own namespace declaration, but not so much for partials.<br />But that's maybe just my plain understanding of partials, which is not what you're thinking about.</p>


	<p>The non-breaking solution I see would be to actually parse partials and remove the namespace declaring tag as Bastian suggested - but I'm not sure about that either, it would help in the IDE to have fully qualifying XML/XHTML files there too, but it's also awkward to have every partial wrapped inside a &lt;html&gt; tag.</p>


	<p>Otherwise, why not wrap each partial inside a &lt;f:namespace&gt; tag as Adrian suggested and make it a passthrough renderChildren viewhelper (for it to be valid, the tag must really wrap the contents using the namespaces, though I'm not sure about whether using a namespace within the tag declaring it is valid - I'd blind guess not - on the other hand, you didn't need to declare the f: namespace until now either).</p>


	<p>Would putting the xmlns declaration inside the <?xml?> tag be a plausible solution or would that be invalid syntax? I couldn't find a quick answer for that.<br /><pre>
1 &lt;?xml version="1.0" encoding="utf-8" xmlns:f="http://typo3.org/ns/typo3/fluid/viewhelpers" xmlns:vht="http://typo3.org/ns/typo3/viewhelpertest/viewhelpers" ?&gt;
2 Partial content
</pre><br />Then again, the <?xml?> tag would have to be stripped from each partial, too.</p></div>
  </div>
  

  <div id="change-115616" class="journal has-notes">
    <h4><a href="27119.html#note-19" class="journal-link">#19</a>
    
    <a name="note-19"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 15:10">about 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-115616-notes"><p>Patch set 4 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-115618" class="journal has-notes">
    <h4><a href="27119.html#note-20" class="journal-link">#20</a>
    
    <a name="note-20"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 15:22">about 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-115618-notes"><p>Thanks for your comments and ideas.<br />We deliberately avoided some kind of namespace inheritance in Fluid, because that would make things much more complex &#38; unpredictable for developers &#38; integrators.</p>


	<p>But I think, we found a good solution now:<br />If you use the default namespace pattern to generate your XSD files (<a class="external" href="../../external.html?link=http://typo3.org/ns/Your/Package/ViewHelpers">http://typo3.org/ns/Your/Package/ViewHelpers</a>) you won't have to configure any namespace mappings.<br />In order to use xml namespace declarations inside partials, you can use the "section" argument of the render ViewHelper like this:</p>


	<p>SomePartial.html<br /><pre>
<code class="html syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;html</span> <span class="attribute-name">xmlns:x</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://typo3.org/ns/Your/Package/ViewHelpers</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers">2</span><span class="tag">&lt;body&gt;</span>
<span class="line-numbers">3</span><span class="tag">&lt;f:section</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">body</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers">4</span>    <span class="tag">&lt;x:someViewHelper</span> <span class="tag">/&gt;</span>
<span class="line-numbers">5</span><span class="tag">&lt;/f:section&gt;</span>
</span></code><br /></pre></p>


	<p>SomeTemplate:<br /><pre>
<code class="html syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;f:render</span> <span class="attribute-name">partial</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">SomePartial</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">section</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">body</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
</span></code><br /></pre></p></div>
  </div>
  

  <div id="change-115623" class="journal has-notes">
    <h4><a href="27119.html#note-21" class="journal-link">#21</a>
    
    <a name="note-21"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 15:59">about 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-115623-notes"><p>Patch set 5 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-115625" class="journal has-notes">
    <h4><a href="27119.html#note-22" class="journal-link">#22</a>
    
    <a name="note-22"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 16:01">about 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-115625-notes"><p>Patch set 6 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-115626" class="journal has-notes">
    <h4><a href="27119.html#note-23" class="journal-link">#23</a>
    
    <a name="note-23"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 16:06">about 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-115626-notes"><p>Patch set 7 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-115629" class="journal has-notes">
    <h4><a href="27119.html#note-24" class="journal-link">#24</a>
    
    <a name="note-24"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 16:21">about 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-115629-notes"><p>Patch set 8 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/9463">http://review.typo3.org/9463</a></p></div>
  </div>
  

  <div id="change-115645" class="journal has-details">
    <h4><a href="27119.html#note-25" class="journal-link">#25</a>
    
    <a name="note-25"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/61">Bastian Waidelich</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-fluid/activity?from=2012-05-08" title="2012-05-08 17:53">about 3 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Under Review</i> to <i>Resolved</i></li>
      
       <li><strong>Target version</strong> set to <i>1.1 beta 1</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-27119-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/27119.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="27119.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/27119 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 21:58:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
