<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/45221 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 23:57:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #45221: Images with whitespaces in their names are not stored correctly in _processed_ - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/45221.atom" rel="alternate" title="Core - Bug #45221: Images with whitespaces in their names are not stored correctly in _processed_" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  
    <div id="watchers">
      

<h3>Watchers (6)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/4818">Christian Futterlieb</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/21189">Joschi Kuphal</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/37190">Tilo Baller</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/43">Andreas Wolf</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/320">Benjamin Mack</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/2172">Kim Lang</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-45221-watcher"></span>


</div>


<h2>Bug #45221</h2>

<div class="issue status-7 priority-1 closed details">
  

  

<div class="subject">
<div><h3>Images with whitespaces in their names are not stored correctly in _processed_</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/4818">Christian Futterlieb</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-06" title="2013-02-06 22:43">over 2 years</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-02-27" title="2014-02-27 13:57">over 1 year</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2013-02-06</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Must have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to">-</td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="todo" style="width: 100%;"></td></tr></table><p class="pourcent">0%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">File Abstraction Layer (FAL)</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>6.0</td>
	<th>Is Regression:</th><td></td>
</tr>
<tr>
	<th>PHP Version:</th><td>5.3</td>
	<th>Sprint Focus:</th><td></td>
</tr>
<tr>
	<th>Complexity:</th><td></td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>As of TYPO3 version 6.0.1, images with whitespaces in their names are not correct referenced in the output, because the image src arribute contains the whitespaces (as '%20') but the processed file is stored with underlines.</p>


	<p>Example (assuming the image is wider than 50px):<br /><pre>
page.5 = IMAGE
page.5.file = fileadmin/My Image.jpg
page.5.file.maxW = 50
</pre></p>


	<p>will produce following img tag:<br /><pre>
&lt;img src="typo3temp/_processed_/My%20Image.jpg" width=50" ... /&gt;
</pre></p>


	<p>but the image itself is stored as<br /><pre>
typo3temp/_processed_/csm_My_Image{$hash}.jpg
</pre></p>


	<p>I did not dig too deep into this problem because I'm not familar with FAL (yet ;)). I just saw, that the <code>TYPO3\CMS\Core\Resource\Driver\LocalDriver</code> calls its method <code>sanitizeFileName()</code> before adding the file in the method <code>addFile()</code>. This is new since 6.0.1.</p>


	<p>Thanks for taking care of this one!</p>
  </div>

<div class="attachments">

<p><a href="../attachments/download/23498/s0me_Fil%c3%a9_w%c3%acth_n%c3%b4n-_scii_Char-acters.jpg" class="icon icon-attachment">s0me_Filé_wìth_nôn-_scii_Char-acters.jpg</a>  
   - Test Image
  <span class="size">(752.3 kB)</span>
  
  
    <span class="author">Tilo Baller, 2013-02-28 00:00</span>
  
  </p>

</div>







<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-8203">
<td class="checkbox"><input name="ids[]" type="checkbox" value="42925" /></td>
<td class="subject">related to 
    Core - 
    <a href="42925.html" class="issue status-7 priority-2 closed">Bug #42925</a>: File-Upload does not sanitize umlauts in filenames
</td>
<td class="status">Resolved</td>
<td class="start_date">2012-11-13</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-8545">
<td class="checkbox"><input name="ids[]" type="checkbox" value="47622" /></td>
<td class="subject">related to 
    Media Management - 
    <a href="47622.html" class="issue status-9 priority-1 closed">Bug #47622</a>: Spaces in filename of image results in broken thumnail
</td>
<td class="status">Closed</td>
<td class="start_date">2013-04-26</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-8423">
<td class="checkbox"><input name="ids[]" type="checkbox" value="47140" /></td>
<td class="subject">related to 
    Core - 
    <a href="47140.html" class="issue status-7 priority-2 closed">Bug #47140</a>: ProcessedFile/Thumbnail is always regenerated
</td>
<td class="status">Resolved</td>
<td class="start_date">2013-04-11</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-8202">
<td class="checkbox"><input name="ids[]" type="checkbox" value="45694" /></td>
<td class="subject">duplicated by 
    Core - 
    <a href="45694.html" class="issue status-9 priority-1 closed">Bug #45694</a>: space in filename
</td>
<td class="status">Closed</td>
<td class="start_date">2013-02-21</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/45221/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/45221/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=45221&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>


<div id="issue-changesets">
<h3>Associated revisions</h3>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/f9ebcda0dfe0f0cb6b005a092f43afb24ef34a87" title="Revision f9ebcda0">Revision f9ebcda0</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/50">Helmut Hummel</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-06" title="2013-04-06 16:57">over 2 years</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Fix processed files if original has special chars</p>


	<p>Filenames of files uploaded in TYPO3 CMS before 6.0.1<br />can contain problematic characters, because filename<br />sanitizing of added files was introduced with 6.0.1.</p>


	<p>The same happens if files are not uploaded through<br />the TYPO3 backend and then indexed.</p>


	<p>The filenames of processed files are sanitized when<br />adding them to the storage but the not sanitized<br />original filename identifier is kept in the database<br />record of the processed files, which causes wrong<br />generated paths.</p>


	<p>Update the identifier of the processed file along<br />with all other properties after adding them<br />to the storage.</p>


	<p>Change-Id: I53e4eb42def291ba88ce18209a348b1e2f592185<br />Resolves: <a href="45221.html" class="issue status-7 priority-1 closed" title="Images with whitespaces in their names are not stored correctly in _processed_ (Resolved)">#45221</a><br />Related: <a href="42925.html" class="issue status-7 priority-2 closed" title="File-Upload does not sanitize umlauts in filenames (Resolved)">#42925</a><br />Releases: 6.1, 6.0<br />Reviewed-on: <a class="external" href="../../external.html?link=https://review.typo3.org/18529">https://review.typo3.org/18529</a><br />Reviewed-by: Benjamin Mack<br />Tested-by: Benjamin Mack</p>
    </div>
    </div>

    <div class="changeset even">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/ed988a874cdab2ff66cb006bea714d056cc1d419" title="Revision ed988a87">Revision ed988a87</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/50">Helmut Hummel</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-06" title="2013-04-06 16:58">over 2 years</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Fix processed files if original has special chars</p>


	<p>Filenames of files uploaded in TYPO3 CMS before 6.0.1<br />can contain problematic characters, because filename<br />sanitizing of added files was introduced with 6.0.1.</p>


	<p>The same happens if files are not uploaded through<br />the TYPO3 backend and then indexed.</p>


	<p>The filenames of processed files are sanitized when<br />adding them to the storage but the not sanitized<br />original filename identifier is kept in the database<br />record of the processed files, which causes wrong<br />generated paths.</p>


	<p>Update the identifier of the processed file along<br />with all other properties after adding them<br />to the storage.</p>


	<p>Change-Id: I53e4eb42def291ba88ce18209a348b1e2f592185<br />Resolves: <a href="45221.html" class="issue status-7 priority-1 closed" title="Images with whitespaces in their names are not stored correctly in _processed_ (Resolved)">#45221</a><br />Related: <a href="42925.html" class="issue status-7 priority-2 closed" title="File-Upload does not sanitize umlauts in filenames (Resolved)">#42925</a><br />Releases: 6.1, 6.0<br />Reviewed-on: <a class="external" href="../../external.html?link=https://review.typo3.org/18529">https://review.typo3.org/18529</a><br />Reviewed-by: Benjamin Mack<br />Tested-by: Benjamin Mack<br />Reviewed-on: <a class="external" href="../../external.html?link=https://review.typo3.org/19682">https://review.typo3.org/19682</a></p>
    </div>
    </div>


</div>



<div id="history">
<h3>History</h3>

  <div id="change-150413" class="journal has-notes has-details">
    <h4><a href="45221.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/43">Andreas Wolf</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-07" title="2013-02-07 22:05">over 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Accepted</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-150413-notes"><p>I guess this is because the changed filename is not reported back by the driver. This would be a general issue for all file-adding methods.</p>


	<p>We clearly miss functional tests for the whole storage–driver block in FAL...</p></div>
  </div>
  

  <div id="change-151223" class="journal has-notes">
    <h4><a href="45221.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/21189">Joschi Kuphal</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-14" title="2013-02-14 10:40">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-151223-notes"><p>I can confirm this for file names containing an "@" symbol (and probably many more characters) as well. This bug is rendering the whole 6.0.1 update completely useless for us in two cases / for two websites, as we have tons of image files with non-alphanumeric characters in their names (characters that are perfectly legal for file names in general though).</p>


	<p>as the driver simply changes the file name (where there is no need to change it btw. in case of the "@" symbol), but doesn't report back the change (and doesn't throw an error either), there's no chance to notice the problem at all. so the calling process will continue running, in the belief of the image being generated properly, but of course displaying  the image will fail, as the real name on the harddrive is different.</p></div>
  </div>
  

  <div id="change-151225" class="journal has-notes">
    <h4><a href="45221.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4818">Christian Futterlieb</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-14" title="2013-02-14 11:08">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-151225-notes"><blockquote>

	<p>This bug is rendering the whole 6.0.1 update completely useless for us</p>


</blockquote>

	<p>Yes, that is the same for me, I can't use 6.0.1 because of this bug either</p></div>
  </div>
  

  <div id="change-152222" class="journal has-notes">
    <h4><a href="45221.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/1186">Stefan Völker</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-22" title="2013-02-22 14:10">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152222-notes"><p>same here under 6.0.2 <br />We can't update ANY project as long as this bug is present!</p></div>
  </div>
  

  <div id="change-152785" class="journal has-notes has-details">
    <h4><a href="45221.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-27" title="2013-02-27 23:51">over 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Accepted</i> to <i>Under Review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-152785-notes"><p>Patch set 1 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/18529">https://review.typo3.org/18529</a></p></div>
  </div>
  

  <div id="change-152787" class="journal has-notes has-details">
    <h4><a href="45221.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/37190">Tilo Baller</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-28" title="2013-02-28 00:00">over 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../attachments/download/23498/s0me_Fil%c3%a9_w%c3%acth_n%c3%b4n-_scii_Char-acters.jpg">s0me_Filé_wìth_nôn-_scii_Char-acters.jpg</a> added</li>
      
    </ul>
    
    <div class="wiki" id="journal-152787-notes"><p>As far as I discovered from my own experience with this problem, there are three cases in general we have to differ between:<br /><strong>1.)</strong> You upload a file containing non-ascii (accurately: characters not matching [.a-zA-Z0-9_-]) in its name in TYPO3 Version >= 6.0.1.<br />No problems at all. File gets sanitized on upload.</p>


	<p><strong>2.)</strong> You upload or create a file containing non-ascii (accurately: characters not matching [.a-zA-Z0-9_-]) in its name in TYPO3 Version < 6.0.1.<br />In this case the filename does not get sanitized. See these issues: <a class="external" href="42925.html">http://forge.typo3.org/issues/42925</a>, <a class="external" href="42873.html">http://forge.typo3.org/issues/42873</a><br />With v6.0.1 the fix was included which sanitizes files uploaded in the backend.<br />Additional Info: Sanitizing was already done before 6.0.1 when renaming a file (or creating a folder).</p>


	<p><strong>3.)</strong> You place a file inside your file storage somehow without uploading it in the backend (e.g. via FTP upload).<br />As far as I know the filename will not get sanitized at all, because the indexing/(processing?) task leaves the original file as it is.<br />Maybe the processing task should take care of sanitizing, but I'm not really into FAL yet, so maybe it could cause problems if the file gets referenced (e.g. in a tt_content element) close after its creation without being processed by the indexing/(processing?) task at this time.</p>


	<p>Sorry for maybe mixing up some words like 'indexing' and 'processing'.</p>


	<p>.</p>


	<p>The attached patch also sanitizes the filename of the rendered processed files when the original filename contains disallowed characters, which are cause by case 2) or 3).</p>


	<p>.</p>


	<p><ins>Important Note:</ins><br />I used a existing but slightly different sanitizing function. I'm not sure if this could cause problems in some unknown cases. Maybe it would be better to extract the sanitizeFileName() function currently placed in LocalDriver-Class to some Utility-Class an use this one instead.</p>


	<p>I'm also not sure if it might cause problems with other drivers than the local one (e.g. Dropbox/Amazon Drivers).</p>


	<p>.</p>


	<p>I did the following <strong>tests</strong>:</p>


	<p>Unit test:<br />- added filename containing some non-ascii characters to filenameExtensionDataProvider used by getNameWithoutExtensionReturnsCorrectName() and getExtensionReturnsCorrectExtension() tests</p>


	<p>Manual acceptance test:<br />- uploaded attached test file<br />    - checked for preview image in File-Module<br />    - checked for preview image in Info-Popup of File-module</p>


	<p>- referenced image in tt_content element<br />    - checked for preview image in edit form of tt_content element<br />    - checked in frontend for rendered image</p></div>
  </div>
  

  <div id="change-152791" class="journal has-notes">
    <h4><a href="45221.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/21189">Joschi Kuphal</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-28" title="2013-02-28 00:31">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152791-notes"><p>Just a quick note in response to Tilo's details / patch: I personally do think that a very problematic part is the general understanding of "sanitizing" here. There might be situations (as it is the case for us) where it is <strong>AN ABSOLUTE NO-GO</strong> to simply change / "sanitize" file names just because someone decided that everything but [.a-zA-Z0-9_-] is illegal for file names. the simple but true reason is: it is not. although i'd never recommend using exotic characters in file names there's a pretty good chance that they are de facto legal for every modern (utf8 capable) operating / server system. in our case the images containing an (at)-mark in their file names come out of another software system (!= TYPO3), and i simply expect TYPO3 to work with these files without imposing the absurd need of "sanitizing" file names just for the sake of it, as this is going to break the other system's functionality. again, one should take into account that an (at)-mark (being part of the ASCII range) definitely is perfectly ok for file names and even URIs. Trying to find a solution for "sanitizing" the names of files that didn't get uploaded through the backend is the wrong way imho. Instead FAL should better learn how to deal with a wider range of legal file names instead of crippling the specification.</p>


	<p>As far as i can say right now: the proposed method still leaves us in a state where we cannot update our TYPO3 installations as it would break functionality.</p></div>
  </div>
  

  <div id="change-152909" class="journal has-notes">
    <h4><a href="45221.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-02-28" title="2013-02-28 21:40">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152909-notes"><p>Till yet I didn't know that the FAL will sanitize filenames on the storage. As Joschi Kuphal wrote, this is a NO-GO.</p></div>
  </div>
  

  <div id="change-152947" class="journal has-notes">
    <h4><a href="45221.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2620">Christian Weiske</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-01" title="2013-03-01 11:17">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152947-notes"><p>I can reproduce issues with preview images that have special chars in file names, so sanitizing them is correct.</p>


	<p>If you want to change the sanitation rules (e.g. to allow "@"), please open another issue.</p></div>
  </div>
  

  <div id="change-153026" class="journal has-notes">
    <h4><a href="45221.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/21189">Joschi Kuphal</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-02" title="2013-03-02 12:35">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-153026-notes"><p>@Christian Weiske: Sorry, but you're missing the point somehow (though this might be due to me not being too specific). Let me try to clarify what I was talking about:</p>


	<p><em>In the following paragraphs I will substitute the (at) symbol with § as it will mess up formating otherwise.</em></p>


	<p>Say you have a bunch of image files containing §-symbols (or any other "FAL-thinks-this-character-has-to-be-sanitized-character"), e.g. "§3_1aea065a9809069107e196c918c9e75c.png". The image files could reside anywhere, but let's assume they are all inside "typo3temp/subfolder". The images got there "somehow", i.e. not via TYPO3 backend upload or anything similar, but via FTP for example. Next, you're going to author an (extbase/fluid) extension, and inside a regular controller action you're doing the following:</p>


<pre>
...

// Render the temporary image resource
$tempImageConfig            = array(
    'width' =&gt; max(1, intval($width)).'m',
    'height' =&gt; max(1, intval($height)).'m',
);
$tempImageInfo                = $this-&gt;configurationManager-&gt;getContentObject()-&gt;getImgResource($localImagePath, $tempImageConfig);
$tempImagePath                = trim($tempImageInfo[3]);

...
</pre>

What would you expect <code>tempImagePath</code> to be in the end, assuming <code>localImagePath</code> was "typo3temp/subfolder/§3_1aea065a9809069107e196c918c9e75c.png"? I would expect it to be "typo3temp/_processed_/csm_§3_1aea065a9809069107e196c918c9e75c_2fee8346ac.png" (the "_2fee8346ac" suffix of course could be anything, but this is a real live example), and guess what: it is! <strong>But the problem is: There's no such file</strong> (at least starting with TYPO3 v6.0.1)! Instead a file "typo3temp/_processed_/csm__3_1aea065a9809069107e196c918c9e75c_2fee8346ac.png" has been created, with the §-symbol replaced by an underscore. IMHO there are two problems arising with this:
	<ol>
	<li>The controller action doesn't get notified about the renaming. Instead it gets back the expected, but non-existent file path. Any further steps involving the file path will fail (in our example, creating a symlink and also displaying the image in the frontend). Bummer. <strong>This definitely is a (serious) bug has to be fixed as soon as possible</strong> (if not already the case with 6.0.2).</li>
		<li>Secondly, I don't see any need why the §-symbol has to be substituted at all. Can you tell me? Is there any true reason for these strict sanitation rules, or are they just arbitrary? As i said before, almost any OS should be capable of even handling UTF-8 file names, so what's the problem about the absolutely innocent §-symbol (and those many other characters suffering the same FAL restriction)? In general I would agree that file name sanitation is a good idea. But in this special situation I think sanitation does more harm than good. At least there should be the possibility to disable it intentionally. IMHO the logic should be: If the file system contains files, that didn't get there via TYPO3, and if the file system can obviously deal with them, and if even TYPO3 seems to be able to deal with them (e.g. it can read and convert them), then there should be no need for "over-sanitizing" any of the file names involved in the whole process. Even if the sanitized file name would be returned properly (see 1.) there could be succeeding program logic relying on a particular file name structure. It should not be up to FAL to freely decide about how file names should or should not look like, without any control for the user.</li>
	</ol></div>
  </div>
  

  <div id="change-153220" class="journal has-notes">
    <h4><a href="45221.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4818">Christian Futterlieb</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-04" title="2013-03-04 09:51">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-153220-notes"><blockquote>

	<p><strong>This definitely is a (serious) bug has to be fixed as soon as possible</strong></p>


</blockquote>

	<p>Totally agree ;)</p>


<blockquote>

	<p>(if not already the case with 6.0.2).</p>


</blockquote>

	<p>No, it's not</p>


	<p>And: I'd suggest to keep the focus on the particular issue to get it solved asap.</p>


	<p>@Joschi Kuphal: Don't misunderstand me, the discussion on filename sanitation is important in my eyes also and I agree your argumentation. But I'd like to see the current problem solved first and not blocked by a discussion, that is even more 'general-scope' and should be discussed separately therefore.</p></div>
  </div>
  

  <div id="change-153232" class="journal has-notes">
    <h4><a href="45221.html#note-12" class="journal-link">#12</a>
    
    <a name="note-12"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/21189">Joschi Kuphal</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-04" title="2013-03-04 10:48">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-153232-notes"><p>@Christian Futterlieb:</p>


<blockquote>

	<p>@Joschi Kuphal: Don't misunderstand me, the discussion on filename sanitation is important in my eyes also and I agree your argumentation. But I'd like to see the current problem solved first and not blocked by a discussion, that is even more 'general-scope' and should be discussed separately therefore.</p>


</blockquote>

	<p>I'm absolutely with you in this point, don't worry ;) First of all I'm interested in updating our websites to the most recent TYPO3 version, and solving this issue will enable us to do so again (hopefully). Please consider my general thoughts about file name sanitation just as a collateral mumbling ... :)</p></div>
  </div>
  

  <div id="change-155586" class="journal has-notes">
    <h4><a href="45221.html#note-13" class="journal-link">#13</a>
    
    <a name="note-13"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-22" title="2013-03-22 00:21">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-155586-notes"><p>Patch set 2 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/18529">https://review.typo3.org/18529</a></p></div>
  </div>
  

  <div id="change-155749" class="journal has-notes">
    <h4><a href="45221.html#note-14" class="journal-link">#14</a>
    
    <a name="note-14"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/43">Andreas Wolf</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-22" title="2013-03-22 16:43">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-155749-notes"><p>I think it's obvious that something has to be done here. As not all filesystems out there are UTF-8/Unicode capable, I suggest to do the following: By default allow UTF-8 characters, but disallow them when $TYPO3_CONF_VARS[SYS][UTF8filesystem] is set to false.</p>


	<p>To sanitize the filenames, we should not create a RegEx or other filter ourselves, but instead use filter_var() provided by PHP:</p>


<pre>
filter_var("&lt;filename&gt;", FILTER_SANITIZE_STRING, FILTER_FLAG_STRIP_LOW); // for UTF-8
filter_var("&lt;filename&gt;", FILTER_SANITIZE_STRING, FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH); // ASCII only
</pre>

	<p>Additionally, we have to strip certain other characters (e.g. *, /, \, :, ?) ourselves.</p></div>
  </div>
  

  <div id="change-155762" class="journal has-notes">
    <h4><a href="45221.html#note-15" class="journal-link">#15</a>
    
    <a name="note-15"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/43">Andreas Wolf</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-22" title="2013-03-22 17:22">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-155762-notes"><p>Alexander Opitz wrote:</p>


<blockquote>

	<p>Till yet I didn't know that the FAL will sanitize filenames on the storage. As Joschi Kuphal wrote, this is a NO-GO.</p>


</blockquote>

	<p>File names were sanitized since TYPO3 i-don't-know. I found traces of it in t3lib_basicFileFunc from late 2006, which would be TYPO3 4.0/4.1. So this is nothing really new, please don't be so upset...</p>


	<p>@Joschi: I guess you have not enabled TYPO3_CONF_VARS[SYS][UTF8filesystem], which would allow the (at) character in filenames.</p>


	<p>The RegEx currently used in the local driver is this:</p>


<pre>
preg_replace('/[\\x00-\\x2C\\/\\x3A-\\x3F\\x5B-\\x60\\x7B-\\xBF]/u', '_', trim($fileName));
</pre>

I think we could strip it down to removing the following character ranges:
	<ul>
	<li>0x00-0x1F (non-printable ASCII characters</li>
		<li>\, /, ?, *, :</li>
		<li>0x7F-0xBF (note: 0x7F is the DEL character, 0x80-0xBF mark the second, third or fourth byte of a UTF-8 byte sequence and thus are invalid characters when encountered alone; refer to <a class="external" href="../../external.html?link=https://de.wikipedia.org/wiki/UTF-8">https://de.wikipedia.org/wiki/UTF-8</a> for details)</li>
	</ul></div>
  </div>
  

  <div id="change-155766" class="journal has-notes">
    <h4><a href="45221.html#note-16" class="journal-link">#16</a>
    
    <a name="note-16"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/21189">Joschi Kuphal</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-22" title="2013-03-22 17:47">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-155766-notes"><p>@Alexander:</p>


<blockquote>

	<p>@Joschi: I guess you have not enabled TYPO3_CONF_VARS[SYS][UTF8filesystem], which would allow the (at) character in filenames.</p>


</blockquote>

	<p>yes, you're right, UTF8filesystem wasn't / isn't enabled at our installations in question. i'd be glad if this was the solution for (at least) our problem with the (at) symbol, thanks a lot for the hint! i should have thought of it before, but i must admit that it didn't come to my mind as the (at) symbol is not a UTF8 character altogether (didn't have the time to dig into the core code as well, otherwise it might have come to my attention before ...). unfortunately i'm not able to test this instantly, but i definitely will by next week.</p>


	<p>however, the driver not returning the correct / sanitized filename is problem of it's own - which hopefully got patched now. thanks for this one as well!</p></div>
  </div>
  

  <div id="change-155922" class="journal has-notes">
    <h4><a href="45221.html#note-17" class="journal-link">#17</a>
    
    <a name="note-17"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/43">Andreas Wolf</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-03-23" title="2013-03-23 15:04">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-155922-notes"><p>Joschi Kuphal wrote:</p>


<blockquote><blockquote>

	<p>@Joschi: I guess you have not enabled TYPO3_CONF_VARS[SYS][UTF8filesystem], which would allow the (at) character in filenames.</p>


</blockquote>

	<p>yes, you're right, UTF8filesystem wasn't / isn't enabled at our installations in question. i'd be glad if this was the solution for (at least) our problem with the (at) symbol, thanks a lot for the hint! i should have thought of it before, but i must admit that it didn't come to my mind as the (at) symbol is not a UTF8 character altogether (didn't have the time to dig into the core code as well, otherwise it might have come to my attention before ...). unfortunately i'm not able to test this instantly, but i definitely will by next week.</p>


</blockquote>

	<p>Ok, would be great to get some feedback. :-)</p>


<blockquote>

	<p>however, the driver not returning the correct / sanitized filename is problem of it's own - which hopefully got patched now. thanks for this one as well!</p>


</blockquote>

	<p>Yeah, I don't know why we didn't fix this earlier...</p></div>
  </div>
  

  <div id="change-158377" class="journal has-notes">
    <h4><a href="45221.html#note-18" class="journal-link">#18</a>
    
    <a name="note-18"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-06" title="2013-04-06 00:06">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-158377-notes"><p>Patch set 3 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/18529">https://review.typo3.org/18529</a></p></div>
  </div>
  

  <div id="change-158573" class="journal has-notes">
    <h4><a href="45221.html#note-19" class="journal-link">#19</a>
    
    <a name="note-19"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-06" title="2013-04-06 16:58">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-158573-notes"><p>Patch set 1 for branch <strong>TYPO3_6-0</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/19682">https://review.typo3.org/19682</a></p></div>
  </div>
  

  <div id="change-158574" class="journal has-details">
    <h4><a href="45221.html#note-20" class="journal-link">#20</a>
    
    <a name="note-20"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/320">Benjamin Mack</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-06" title="2013-04-06 16:58">over 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Under Review</i> to <i>Resolved</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-160252" class="journal has-notes">
    <h4><a href="45221.html#note-21" class="journal-link">#21</a>
    
    <a name="note-21"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/21189">Joschi Kuphal</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-17" title="2013-04-17 11:41">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-160252-notes"><p>@Andreas: sorry for the long delay, but just to give you the feedback i promised (we did check it just yesterday ...): <strong>YES</strong>, activating UTF8filesystem prevents the driver from rewriting the (at)-mark, so our specific problem is solved this way. thanks again for the hint (although i still dont associate the (at)-mark with UTF8 ;))!</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-45221-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/45221.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="45221.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/45221 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 23:57:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
