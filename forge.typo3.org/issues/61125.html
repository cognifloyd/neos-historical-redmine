<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/61125 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:21:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #61125: FAL exception if file does not exist - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/61125.atom" rel="alternate" title="Core - Bug #61125: FAL exception if file does not exist" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  
    <div id="watchers">
      

<h3>Watchers (4)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/2787">Frans Saris</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/3493">Daniel Wagner</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/2869">Rafal Brzeski</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/37231">David Lemaitre</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-61125-watcher"></span>


</div>


<h2>Bug #61125</h2>

<div class="issue status-10 priority-1 closed details">
  

  

<div class="subject">
<div><h3>FAL exception if file does not exist</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/4409">Peter Linzenkirchner</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-21" title="2014-08-21 17:31">12 months</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-01-29" title="2015-01-29 22:07">6 months</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Rejected</td>
    <th class="start-date">Start date:</th><td class="start-date">2014-08-21</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Must have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to">-</td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="todo" style="width: 100%;"></td></tr></table><p class="pourcent">0%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">File Abstraction Layer (FAL)</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version"><a href="../../external.html?link=https://forge.typo3.org/versions/2966">7.1 (Cleanup)</a></td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>6.2</td>
	<th>Is Regression:</th><td>No</td>
</tr>
<tr>
	<th>PHP Version:</th><td></td>
	<th>Sprint Focus:</th><td>On Location Sprint</td>
</tr>
<tr>
	<th>Complexity:</th><td></td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>I get the error (exception) if a file which is referred in sys_file and is not found on the disc:</p>


	<p>"Oops, an error occurred!<br />File /user_upload/bilder/Tabell-beispiel-Gleitsmann---Test.jpg does not exist."</p>


	<p>it is not necessary to throw an exception, when a file is missing. One missing file brokes <br />- the file upload for one whole folder in modul files<br />- the <em>complete</em> file overlay in rte. <br />when this error occurs it is not possible to use the file widget anymore.</p>


	<p>And it needs a developer to fix the error message: you have to check the database in ordner to fix the problem and make file uploading work again.</p>


	<p>Solution: no exception needed, warning in log files should be enough.</p>
  </div>








<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-11761">
<td class="checkbox"><input name="ids[]" type="checkbox" value="61861" /></td>
<td class="subject">related to 
    Core - 
    <a href="61861.html" class="issue status-1 priority-2">Bug #61861</a>: Frontend throws exception on missing image
</td>
<td class="status">New</td>
<td class="start_date">2014-09-24</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-11825">
<td class="checkbox"><input name="ids[]" type="checkbox" value="62253" /></td>
<td class="subject">related to 
    Core - 
    <a href="62253.html" class="issue status-2 priority-1">Bug #62253</a>: FAL exception if file does not exist
</td>
<td class="status">Accepted</td>
<td class="start_date">2014-10-15</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-12252">
<td class="checkbox"><input name="ids[]" type="checkbox" value="64214" /></td>
<td class="subject">related to 
    Core - 
    <a href="64214.html" class="issue status-6 priority-2">Bug #64214</a>: File does not exist Exception in file info popup
</td>
<td class="status">Under Review</td>
<td class="start_date">2015-01-09</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-12340">
<td class="checkbox"><input name="ids[]" type="checkbox" value="64617" /></td>
<td class="subject">related to 
    Core - 
    <a href="64617.html" class="issue status-2 priority-2">Bug #64617</a>: Don&#39; change configuration of filestorage if files are pre...
</td>
<td class="status">Accepted</td>
<td class="start_date">2015-01-29</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/61125/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/61125/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=61125&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>




<div id="history">
<h3>History</h3>

  <div id="change-227707" class="journal has-notes">
    <h4><a href="61125.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-21" title="2014-08-21 17:42">12 months</a> ago</h4>

    
    <div class="wiki" id="journal-227707-notes"><p>Well, an exception from FAL is ok to indicate a missing file. But the exception needs to be handled by the component using FAL.</p>


	<p>Can you tell us the exact steps, so this can be reproduced?</p></div>
  </div>
  

  <div id="change-227708" class="journal has-notes">
    <h4><a href="61125.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4409">Peter Linzenkirchner</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-21" title="2014-08-21 17:48">12 months</a> ago</h4>

    
    <div class="wiki" id="journal-227708-notes"><p>It is related with <a class="external" href="55514.html">https://forge.typo3.org/issues/55514</a></p>


	<p>I used "Uses case sensitive identifiers" with "no" on a linux system. Every time when a user uploaded files with upper case letters i got this error message. Every time the file upload and the widgets werde blocked until i renamed the file to lower cases via FTP. OK, now i know i have to change "Uses case sensitive identifiers" to yes, but i am afraid the error is also thrown in other circunstances (e.g. renaming files via FTP?).</p></div>
  </div>
  

  <div id="change-228203" class="journal has-notes">
    <h4><a href="61125.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2787">Frans Saris</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-27" title="2014-08-27 21:05">11 months</a> ago</h4>

    
    <div class="wiki" id="journal-228203-notes"><p>Are you sure? This doesn't sound like a upper case problem but a missing/renamed file problem.</p>


	<p>If your adding, moving and deleting files through ftp you should setup the FAL indexing scheduler task so the db stays in sync with the file system. It also flags missing files that should prevent the exceptions in BE (for the core parts).</p></div>
  </div>
  

  <div id="change-228257" class="journal has-notes">
    <h4><a href="61125.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4409">Peter Linzenkirchner</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-28" title="2014-08-28 11:35">11 months</a> ago</h4>

    
    <div class="wiki" id="journal-228257-notes"><p>Well, i am sure :-)</p>


	<p>In order to reproduce the problem try the following: New Installation TYPO3 6.2.4 on a machine with case sensitive file system (UNIX or LINUX). Then change in "File Storage" / Configuration the option "Uses case senistive indentifiers" to none. (Please note: Thats simply for reproducing the error - hopefully nobody does it in real life. But you can and it results in the described problem). Then go to file modul and upload an image with upper case letters in the file name. <br />Results: <br />- "(internal Server Error): Upload of file .... failed" <br />Well that is not correct, the image is uploaded. Via ftp you will find the file on the right place and with correct file permissions. <br />- the file name on disk contains the upper case letter(s)<br />- the file signature in data base contains only lower case letters<br />Then reload your filelist in the backend: <br />- result: "Oops, an error occurred! File /user_upload/test2/arme-Katze.jpg does not exist." <br />It does but FAL cannot find it because the file signature in data base is arme-katze.jpg - with lower case. <br />- in the file list you cannot use the folder which contains the wrong file anymore<br />- in the file and link wizards you cannot reach the folder anymore<br />Worst: when a user uses a wizard and click the folder, he is doomed, because every time when he opens again the wizard, the wizard shows the last folder with the exception. He cannot change the directory any more. An admin has to fix the filename on disk first.</p>


	<p>Well that was for reproducing the error. Here is the real live scenario, which happens to me:</p>


	<p>- first installation of TYPO3 on a system with case insensitive file system like windows or mac os. After filling the site with content the whole installation is deployed on UNIX or LINUX with case sensitive file system. Every link to an image with upper case letter in file name is broken, and there is no easy way to fix. The only way i found was changing all file names to lower case. (This exactly happens to me when i posted the problem.) When changing the option "Uses case sensitive indentifiers" to yes this solves the problem, but only for <em>new</em> images not for images which are already linked. file names in lower case cannot changed automatically to upper case file names.</p>


	<p>- one step further: imagine an update of an existing TYPO3 4.5 installation: transferring the installation to a dev system without case sensitive file system, then do the update. The updater recognizes that the file system is case insensitive and so after update all file signatures in the database are lower case. When transferring back to server, the whole system is broken, not one single image with an upper case letter inside is shown any more and nearly all widgets are not usable any more. (please note: i did not try this scenario, but i am afraid it would happen this way).</p>


	<p>Quote:</p>


	<p>"If your adding, moving and deleting files through ftp you should setup the FAL indexing scheduler task so the db stays in sync with the file system. It also flags missing files that should prevent the exceptions in BE (for the core parts)."</p>


	<p>Thats a nice and usefull feature, thank you for mentioning it - i didnt know it. But i am sure it cannot fix the this problem. And be aware that most members of our community are not full blown web developers but integrators or simply users without any deeper knowlegde. In my opinion there should not exist an exception which renders parts of the backand unusable simply by deleting an image via ftp. It would be enough to not show the image, dont it? And it should be possible to run a TYPO3 installation without installing a cron job. Dont misunderstand me: i dont want to argue against FAL - its a great feature! - i argue only against the existing exception handling which i consider a bug. Well, at least a quirk ... :-)</p></div>
  </div>
  

  <div id="change-228806" class="journal has-notes">
    <h4><a href="61125.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/52">Frank Nägler</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-05" title="2014-09-05 20:18">11 months</a> ago</h4>

    
    <div class="wiki" id="journal-228806-notes"><p>What is the solution if you have a hoster, where a cronjob is not possible? no cronjob = no sheduler = this error occurs again.<br />I have the same problem on a project where the hoster not allow cronjobs. Currently we try to switch the hoster.<br />I think it should be possible to use the BE also if a file is missing, maybe catch the exception, log it and show a error flash message, but a broken BE is bad.</p></div>
  </div>
  

  <div id="change-228851" class="journal has-notes">
    <h4><a href="61125.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2787">Frans Saris</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-07" title="2014-09-07 10:26">11 months</a> ago</h4>

    
    <div class="wiki" id="journal-228851-notes"><p>The case sensitive part is very tricky. Maybe we should (again) make a list of all scenarios and check if we can improve current behavior. But switching between different file systems can give more problems than only the case sensitive part. UTF-8 support is also different on mac vs unix.</p>


	<p>About the exception you are right. It should be catched and not break BE.</p></div>
  </div>
  

  <div id="change-228898" class="journal has-notes">
    <h4><a href="61125.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4409">Peter Linzenkirchner</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-08" title="2014-09-08 10:06">11 months</a> ago</h4>

    
    <div class="wiki" id="journal-228898-notes"><blockquote>

	<p>But switching between different file systems can give more problems than only the case sensitive part. UTF-8 support is also different on mac vs unix.</p>


</blockquote>

	<p>Yes, you are right - i missed this problem completely. Indeed, that could become a real serious problem when migrating an installation from one platform to another. A real nightmare in some cases.</p>


<blockquote>

	<p>About the exception you are right. It should be catched and not break BE.</p>


</blockquote>

	<p>That would help for the most smaller installation i think.</p></div>
  </div>
  

  <div id="change-243806" class="journal has-details">
    <h4><a href="61125.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2787">Frans Saris</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-01-08" title="2015-01-08 21:20">7 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Target version</strong> set to <i>7.1 (Cleanup)</i></li>
      
       <li><strong>Sprint Focus</strong> set to <i>On Location Sprint</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-244153" class="journal has-details">
    <h4><a href="61125.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2787">Frans Saris</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-01-11" title="2015-01-11 11:44">7 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Category</strong> set to <i>File Abstraction Layer (FAL)</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-247421" class="journal has-notes">
    <h4><a href="61125.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/702">Ingo Schmitt</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-01-29" title="2015-01-29 22:07">6 months</a> ago</h4>

    
    <div class="wiki" id="journal-247421-notes"><p>Discussion at the FAL Code Sprint 2015 in Essen and decision:</p>


	<p>If you transfer a installation from a case sensitive filesystem to a case insensitive filesystem (or vise versa), you as the system administrator have to take care about different filesystems. TYPO3 can't handle that.</p>


	<p>If you change the configuration of a storage containing files, TYPO3 must mess up, since the filesystem is present. The proposed solution must walk through all files and change the filename to the new storage configuration. This must be handled different for each filesystem and could take quite a lot of time, if you have to convert thousands of files.</p>


	<p>So, we won't have a converter for changing the configuration of storages. Instead we propose issue <a href="64617.html" class="issue status-2 priority-2" title="Don' change configuration of filestorage if files are present (Accepted)">#64617</a></p></div>
  </div>
  

  <div id="change-247423" class="journal has-details">
    <h4><a href="61125.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/702">Ingo Schmitt</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-01-29" title="2015-01-29 22:07">6 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Rejected</i></li>
      
    </ul>
    
    
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-61125-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/61125.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="61125.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/61125 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:21:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
