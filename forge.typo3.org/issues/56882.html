<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/56882 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 23:50:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #56882: Can not translate IRRE elements - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/56882.atom" rel="alternate" title="Core - Bug #56882: Can not translate IRRE elements" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  
    <div id="watchers">
      

<h3>Watchers (1)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/40783">Gerd Müller</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-56882-watcher"></span>


</div>


<h2>Bug #56882</h2>

<div class="issue status-7 priority-2 closed details">
  

  

<div class="subject">
<div><h3>Can not translate IRRE elements</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/2938">Tymoteusz Motylewski</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-13" title="2014-03-13 18:30">over 1 year</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-10-15" title="2014-10-15 19:30">10 months</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2014-03-13</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Should have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to">-</td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">IRRE</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>6.2</td>
	<th>Is Regression:</th><td>No</td>
</tr>
<tr>
	<th>PHP Version:</th><td></td>
	<th>Sprint Focus:</th><td></td>
</tr>
<tr>
	<th>Complexity:</th><td></td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Translation of irre elements is buggy.<br />Scenario 1<br />IRRE tutorial is installed<br />- create new CE,<br />- go to "IRRE" tab<br />- create new irre element<br />- save</p>


	<p>localize this element to other language<br />=> CE is localized, but irre elements are not</p>


	<p>Scenario2<br />Create plugin with FAL field in flexform<br />- create CE of this plugin<br />- add images to the FAL field<br />- save<br />- translate this element<br />=> images are localized, but an additional row i shown on the list of images<br />When testing scenario 2 with flv files instead of images, no records were correctly localized</p>
  </div>

<div class="attachments">

<p><a href="../attachments/download/26232/scenaroo1-1.png" class="icon icon-attachment">scenaroo1-1.png</a>  
  
  <span class="size">(48.6 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-13 18:30</span>
  
  </p>

<p><a href="../attachments/download/26233/scenario1-2.png" class="icon icon-attachment">scenario1-2.png</a>  
  
  <span class="size">(54.2 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-13 18:30</span>
  
  </p>

<p><a href="../attachments/download/26256/test_case_1.png" class="icon icon-attachment">test_case_1.png</a>  
  
  <span class="size">(84.2 kB)</span>
  
  
    <span class="author">Oliver Hader, 2014-03-18 10:29</span>
  
  </p>

<p><a href="../attachments/download/26259/scenario1_newIrre_tutorial.png" class="icon icon-attachment">scenario1_newIrre_tutorial.png</a>  
  
  <span class="size">(102.8 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-18 12:17</span>
  
  </p>

<p><a href="../attachments/download/26260/scenario1_newirre2.png" class="icon icon-attachment">scenario1_newirre2.png</a>  
  
  <span class="size">(100.1 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-18 12:17</span>
  
  </p>

<p><a href="../attachments/download/26261/scenario2_mediacenter.png" class="icon icon-attachment">scenario2_mediacenter.png</a>  
  
  <span class="size">(75.7 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-18 12:47</span>
  
  </p>

<p><a href="../attachments/download/26262/scenario2_B_mediacenter.png" class="icon icon-attachment">scenario2_B_mediacenter.png</a>  
  
  <span class="size">(97.5 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-18 12:47</span>
  
  </p>

<p><a href="../attachments/download/26263/mediacenter.zip" class="icon icon-attachment">mediacenter.zip</a>  
  
  <span class="size">(18.1 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-18 12:47</span>
  
  </p>

<p><a href="../attachments/download/26264/scenario2_A_exception.png" class="icon icon-attachment">scenario2_A_exception.png</a>  
  
  <span class="size">(201.4 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-03-18 12:49</span>
  
  </p>

<p><a href="../attachments/download/27256/scenario2_new.png" class="icon icon-attachment">scenario2_new.png</a>  
  
  <span class="size">(142 kB)</span>
  
  
    <span class="author">Tymoteusz Motylewski, 2014-07-30 11:44</span>
  
  </p>

</div>







<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-11789">
<td class="checkbox"><input name="ids[]" type="checkbox" value="58306" /></td>
<td class="subject">related to 
    Core - 
    <a href="58306.html" class="issue status-1 priority-1">Bug #58306</a>: Copy bug with inline records in flexforms
</td>
<td class="status">New</td>
<td class="start_date">2014-04-29</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-11198">
<td class="checkbox"><input name="ids[]" type="checkbox" value="58951" /></td>
<td class="subject">related to 
    Core - 
    <a href="58951.html" class="issue status-9 priority-2 closed">Bug #58951</a>: show_item does not properly resolve MM group items
</td>
<td class="status">Closed</td>
<td class="start_date">2014-05-20</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-11352">
<td class="checkbox"><input name="ids[]" type="checkbox" value="59734" /></td>
<td class="subject">related to 
    Core - 
    <a href="59734.html" class="issue status-4 priority-1">Bug #59734</a>: Translating a CE containing inline elements doesn&#39;t apply...
</td>
<td class="status">Needs Feedback</td>
<td class="start_date">2014-06-20</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-11335">
<td class="checkbox"><input name="ids[]" type="checkbox" value="59664" /></td>
<td class="subject">related to 
    Core - 
    <a href="59664.html" class="issue status-7 priority-1 closed">Bug #59664</a>: Copied flexform element is missing FAL images
</td>
<td class="status">Resolved</td>
<td class="start_date">2014-06-19</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-11792">
<td class="checkbox"><input name="ids[]" type="checkbox" value="58554" /></td>
<td class="subject">duplicated by 
    Core - 
    <a href="58554.html" class="issue status-7 priority-2 closed">Bug #58554</a>: Can not translate flexform FAL elements in Typo3 6.2.1
</td>
<td class="status">Resolved</td>
<td class="start_date">2014-05-06</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/56882/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/56882/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=56882&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>


<div id="issue-changesets">
<h3>Associated revisions</h3>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/5ee67bcaa9455126a3af4f77b7bebbf0a7545531" title="Revision 5ee67bca">Revision 5ee67bca</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/4087">Daniel Alder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-10-15" title="2014-10-15 19:24">10 months</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Show correct number of inline records defined in flexform</p>


	<p>getRelatedRecordsArray() is expecting comma separated list of record ids<br />Before this patch the full flexform xml was passed.<br />Now we detect whether a field is a flexform and try to extract the<br />correct field values from it.</p>


	<p>Resolves: <a href="56882.html" class="issue status-7 priority-2 closed" title="Can not translate IRRE elements (Resolved)">#56882</a><br />Releases: master, 6.2<br />Change-Id: I50db5dfd5f07bbc20e369c0a07f2f294afb85321<br />Reviewed-on: <a class="external" href="../../external.html?link=http://review.typo3.org/32986">http://review.typo3.org/32986</a><br />Reviewed-by: Markus Klein &lt;<a class="email" href="mailto:klein.t3@reelworx.at">klein.t3@reelworx.at</a>&gt;<br />Reviewed-by: Daniel Alder &lt;<a class="email" href="mailto:dalder@snowflake.ch">dalder@snowflake.ch</a>&gt;<br />Tested-by: Daniel Alder &lt;<a class="email" href="mailto:dalder@snowflake.ch">dalder@snowflake.ch</a>&gt;<br />Reviewed-by: Wouter Wolters &lt;<a class="email" href="mailto:typo3@wouterwolters.nl">typo3@wouterwolters.nl</a>&gt;<br />Tested-by: Wouter Wolters &lt;<a class="email" href="mailto:typo3@wouterwolters.nl">typo3@wouterwolters.nl</a>&gt;<br />Reviewed-by: Stefan Neufeind &lt;<a class="email" href="mailto:typo3.neufeind@speedpartner.de">typo3.neufeind@speedpartner.de</a>&gt;<br />Reviewed-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;<br />Tested-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;</p>
    </div>
    </div>

    <div class="changeset even">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/87eaea0b149a8886380d36b62d726bbfa309d276" title="Revision 87eaea0b">Revision 87eaea0b</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/4087">Daniel Alder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-10-15" title="2014-10-15 19:36">10 months</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Show correct number of inline records defined in flexform</p>


	<p>getRelatedRecordsArray() is expecting comma separated list of record ids<br />Before this patch the full flexform xml was passed.<br />Now we detect whether a field is a flexform and try to extract the<br />correct field values from it.</p>


	<p>Resolves: <a href="56882.html" class="issue status-7 priority-2 closed" title="Can not translate IRRE elements (Resolved)">#56882</a><br />Releases: master, 6.2<br />Change-Id: I50db5dfd5f07bbc20e369c0a07f2f294afb85321<br />Reviewed-on: <a class="external" href="../../external.html?link=http://review.typo3.org/32985">http://review.typo3.org/32985</a><br />Reviewed-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;<br />Tested-by: Anja Leichsenring &lt;<a class="email" href="mailto:aleichsenring@ab-softlab.de">aleichsenring@ab-softlab.de</a>&gt;<br />Reviewed-by: Markus Klein &lt;<a class="email" href="mailto:klein.t3@reelworx.at">klein.t3@reelworx.at</a>&gt;<br />Tested-by: Markus Klein &lt;<a class="email" href="mailto:klein.t3@reelworx.at">klein.t3@reelworx.at</a>&gt;</p>
    </div>
    </div>


</div>



<div id="history">
<h3>History</h3>

  <div id="change-208706" class="journal has-notes has-details">
    <h4><a href="56882.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/35">Oliver Hader</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-18" title="2014-03-18 10:18">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Needs Feedback</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-208706-notes"><p>Please add the TCA field configuration for the relative parents</p></div>
  </div>
  

  <div id="change-208709" class="journal has-notes">
    <h4><a href="56882.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/35">Oliver Hader</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-18" title="2014-03-18 10:27">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-208709-notes"><p>Please use <a class="external" href="../../external.html?link=https://git.typo3.org/Packages/TYPO3.CMS.git/tree/HEAD:/typo3/sysext/core/Tests/Functional/Fixtures/Extensions/irre_tutorial">https://git.typo3.org/Packages/TYPO3.CMS.git/tree/HEAD:/typo3/sysext/core/Tests/Functional/Fixtures/Extensions/irre_tutorial</a> (e.g. linking that from the Core sources to your typo3conf/ext/ directory), the irre_tutorial in TER or SVN is outdated for 6.2 (new version after 6.2 release).</p></div>
  </div>
  

  <div id="change-208714" class="journal has-notes has-details">
    <h4><a href="56882.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/35">Oliver Hader</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-18" title="2014-03-18 10:29">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../attachments/download/26256/test_case_1.png">test_case_1.png</a> added</li>
      
    </ul>
    
    <div class="wiki" id="journal-208714-notes"><p>Could not reproduce your first test case (see test_case_1.png).<br />I did not check the FlexForm issue, but most likely there are problems I guess...</p></div>
  </div>
  

  <div id="change-208717" class="journal has-details">
    <h4><a href="56882.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/35">Oliver Hader</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-18" title="2014-03-18 10:32">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Category</strong> set to <i>IRRE</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-208751" class="journal has-notes has-details">
    <h4><a href="56882.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2938">Tymoteusz Motylewski</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-18" title="2014-03-18 12:17">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../attachments/download/26259/scenario1_newIrre_tutorial.png">scenario1_newIrre_tutorial.png</a> added</li>
      
       <li><strong>File</strong> <a href="../attachments/download/26260/scenario1_newirre2.png">scenario1_newirre2.png</a> added</li>
      
    </ul>
    
    <div class="wiki" id="journal-208751-notes"><p>I've just tested it again with newest master version and irre_tutorial from core.<br />I've attached a screenshot (left side is a original record (english), right side is a translated record).</p>


	<p>I've added new record on the left side, by clicking "create new under IRRE".<br />Problems:<br />A) if you colapse clild records, and then close the CE and open it again, you got different views depending on which record you expand first (the 1nff or IRRE). If you expand the 1nff first, then title is show correctly, but in IRRE "general" and "visibility" tabs are empty.<br />If you expand IRRE element first, then it is shown correctly, but the 1nff record has empty title</p>


	<p>B) after translating the parent record (CE)there is a record visible in the 1nff, but it is missing in the IRRE section.<br />see right side of the screenshot</p>


	<p>C) After adding second record to the english CE, and saving it, there are some problems in the translated CE<br />see screenshot scenario1_newirre2.png <br />notice that "Changed in original translation:" contains text<br />"Wellness Well-Being Hotel Rosengarten" <br />which is not correct - this is a title of the Hotel record with id 1, not the one associated with English CE.<br />Also "Localize all records" on the IRRE section doesn't work.<br />If you translate the record by clicking "Localize all records" in 1nff secion, then record is correctlt translated, but on the irre section it doesnt show up.</p></div>
  </div>
  

  <div id="change-208759" class="journal has-notes has-details">
    <h4><a href="56882.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2938">Tymoteusz Motylewski</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-18" title="2014-03-18 12:47">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../attachments/download/26261/scenario2_mediacenter.png">scenario2_mediacenter.png</a> added</li>
      
       <li><strong>File</strong> <a href="../attachments/download/26262/scenario2_B_mediacenter.png">scenario2_B_mediacenter.png</a> added</li>
      
       <li><strong>File</strong> <a href="../attachments/download/26263/mediacenter.zip">mediacenter.zip</a> added</li>
      
    </ul>
    
    <div class="wiki" id="journal-208759-notes"><p>SCENARIO2:<br />I've attached test extension.<br />A) screenshot scenario2_mediacenter.png<br />1. Create new CE "plugin" <br />2. Select "mediacenter" plugin<br />3. Attach 2 images in the plugin flex form<br />4. translate record using "copy default content elements" <br />5. You'll get a nice exception <br />#1317178794: No fileusage (sys_file_reference) found for given UID. (More information)<br />screenshot attached (notice the getFileReferenceObject("2") call - it takes number of related images as a file reference. If we had 3 images, then it will call  getFileReferenceObject("3"))<br />6. reload the page, edit translated record,<br />only one image will be visible, but grayed out. The "localize" button is not working.</p>


	<p>B) screenshot scenario2_B_mediacenter.png<br />1. Create new CE "plugin" <br />2. Select "mediacenter" plugin<br />3. Attach 3 images in the plugin flex form and one flv file<br />4. translate record using "Language: " selectbox on the top of the site, choose "Dansk NEW" from this selectbox<br />5. In the tranlstaed record you will get completely wrong images, see right side of the screenshot.</p></div>
  </div>
  

  <div id="change-208760" class="journal has-notes has-details">
    <h4><a href="56882.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2938">Tymoteusz Motylewski</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-18" title="2014-03-18 12:49">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../attachments/download/26264/scenario2_A_exception.png">scenario2_A_exception.png</a> added</li>
      
    </ul>
    
    <div class="wiki" id="journal-208760-notes"><p>attach screenshot of the exception from scenario 2A</p></div>
  </div>
  

  <div id="change-223668" class="journal has-notes">
    <h4><a href="56882.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-07-10" title="2014-07-10 14:59">about 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-223668-notes"><p>Hi,</p>


	<p>does this issue still exists in 6.2.4?</p></div>
  </div>
  

  <div id="change-225977" class="journal has-notes has-details">
    <h4><a href="56882.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2938">Tymoteusz Motylewski</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-07-30" title="2014-07-30 11:44">about 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../attachments/download/27256/scenario2_new.png">scenario2_new.png</a> added</li>
      
    </ul>
    
    <div class="wiki" id="journal-225977-notes"><p>I've retested the issue with the recent master (Sun Jul 27 e172269f8db8720083c1e74eca03d9662a331185 ).<br />It is better, but the issue is NOT yet resolved.</p>


	<p>Scenario 2:<br />A)<br />no exception any more, but after translating the record there are additional images in the localized record (see scenario2_new.png)<br />B) <br />works the same way as A) now</p></div>
  </div>
  

  <div id="change-226808" class="journal has-details">
    <h4><a href="56882.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-08" title="2014-08-08 11:05">12 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Needs Feedback</i> to <i>New</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-231198" class="journal has-notes has-details">
    <h4><a href="56882.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-26" title="2014-09-26 11:20">10 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Under Review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-231198-notes"><p>Patch set 1 for branch <strong>TYPO3_6-2</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/32985">http://review.typo3.org/32985</a></p></div>
  </div>
  

  <div id="change-231199" class="journal has-notes">
    <h4><a href="56882.html#note-12" class="journal-link">#12</a>
    
    <a name="note-12"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-26" title="2014-09-26 11:21">10 months</a> ago</h4>

    
    <div class="wiki" id="journal-231199-notes"><p>Patch set 2 for branch <strong>TYPO3_6-2</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/32985">http://review.typo3.org/32985</a></p></div>
  </div>
  

  <div id="change-231202" class="journal has-notes">
    <h4><a href="56882.html#note-13" class="journal-link">#13</a>
    
    <a name="note-13"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-26" title="2014-09-26 12:15">10 months</a> ago</h4>

    
    <div class="wiki" id="journal-231202-notes"><p>Patch set 1 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/32986">http://review.typo3.org/32986</a></p></div>
  </div>
  

  <div id="change-231204" class="journal has-notes">
    <h4><a href="56882.html#note-14" class="journal-link">#14</a>
    
    <a name="note-14"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4087">Daniel Alder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-26" title="2014-09-26 13:36">10 months</a> ago</h4>

    
    <div class="wiki" id="journal-231204-notes"><p>Tymoteusz Motylewski wrote:</p>


<blockquote>

	<p>I've retested the issue with the recent master (Sun Jul 27 e172269f8db8720083c1e74eca03d9662a331185 ).<br />It is better, but the issue is NOT yet resolved.</p>


	<p>Scenario 2:<br />A)<br />no exception any more, but after translating the record there are additional images in the localized record (see scenario2_new.png)<br />B) <br />works the same way as A) now</p>


</blockquote>

	<p>Since the function which got the releated records didn't expected a flexform xml field (pi_flexform) the ongoing process take the field as 'field with comma separated values'. In addition the 'explode' will be done over the whole xml, which is in 'pi_flexform'. So the result is not an array of IDs only. First and last array records includes the xml definitions. So the related records are incomplete as mentioned int the picture scenario2_new.png</p>


	<p>Example:</p>


	<p><strong>Inline field used via TCA</strong><br />Incomming field record: 1,2,3</p>


	<p><strong>Inline field used via flexfor</strong><br /><code><?xml version="1.0" encoding="utf-8" standalone="yes" ?><br />&lt;T3FlexForms&gt;<br />    &lt;data&gt;<br />        &lt;sheet index="sDEF"&gt;<br />            &lt;language index="lDEF"&gt;<br />                &lt;field index="settings.irre.records"&gt;<br />                    &lt;value index="vDEF"&gt;1,2,3&lt;/value&gt;<br />                &lt;/field&gt;<br />            &lt;/language&gt;<br />        &lt;/sheet&gt;<br />    &lt;/data&gt;<br />&lt;/T3FlexForms&gt;</code></p>


	<p>The following patch will take care of this issue</p></div>
  </div>
  

  <div id="change-231210" class="journal has-notes">
    <h4><a href="56882.html#note-15" class="journal-link">#15</a>
    
    <a name="note-15"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-09-26" title="2014-09-26 16:00">10 months</a> ago</h4>

    
    <div class="wiki" id="journal-231210-notes"><p>Patch set 2 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/32986">http://review.typo3.org/32986</a></p></div>
  </div>
  

  <div id="change-231955" class="journal has-notes">
    <h4><a href="56882.html#note-16" class="journal-link">#16</a>
    
    <a name="note-16"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-10-04" title="2014-10-04 22:30">10 months</a> ago</h4>

    
    <div class="wiki" id="journal-231955-notes"><p>Patch set 3 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/32986">http://review.typo3.org/32986</a></p></div>
  </div>
  

  <div id="change-232921" class="journal has-notes">
    <h4><a href="56882.html#note-17" class="journal-link">#17</a>
    
    <a name="note-17"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-10-15" title="2014-10-15 19:24">10 months</a> ago</h4>

    
    <div class="wiki" id="journal-232921-notes"><p>Patch set 3 for branch <strong>TYPO3_6-2</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/32985">http://review.typo3.org/32985</a></p></div>
  </div>
  

  <div id="change-232923" class="journal has-notes has-details">
    <h4><a href="56882.html#note-18" class="journal-link">#18</a>
    
    <a name="note-18"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/4087">Daniel Alder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-10-15" title="2014-10-15 19:30">10 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Under Review</i> to <i>Resolved</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-232923-notes"><p>Applied in changeset <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/5ee67bcaa9455126a3af4f77b7bebbf0a7545531" class="changeset" title="[BUGFIX] Show correct number of inline records defined in flexform getRelatedRecordsArray() is e...">5ee67bcaa9455126a3af4f77b7bebbf0a7545531</a>.</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-56882-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/56882.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="56882.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/56882 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 23:50:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
