<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/19912 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:57:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #19912: The Bug 0010205  &quot;DB session records are only created when users authenticate &quot; is not solved in Typo 4.2.5 and 4.1.9 - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/19912.atom" rel="alternate" title="Core - Bug #19912: The Bug 0010205  &quot;DB session records are only created when users authenticate &quot; is not solved in Typo 4.2.5 and 4.1.9" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  
    <div id="watchers">
      

<h3>Watchers (3)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/613">Kurt Kunig</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/34940">Manfred Mueller-Spaeth</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/24837">Maik Matthias</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-19912-watcher"></span>


</div>


<h2>Bug #19912</h2>

<div class="issue status-7 priority-2 closed details">
  

  

<div class="subject">
<div><h3>The Bug 0010205  &quot;DB session records are only created when users authenticate &quot; is not solved in Typo 4.2.5 and 4.1.9</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/24837">Maik Matthias</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-25" title="2009-01-25 14:58">over 6 years</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-02-03" title="2009-02-03 22:02">over 6 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2009-01-25</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Should have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to"><a href="../../external.html?link=https://forge.typo3.org/users/50">Helmut Hummel</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="todo" style="width: 100%;"></td></tr></table><p class="pourcent">0%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">-</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>4.2</td>
	<th>Is Regression:</th><td></td>
</tr>
<tr>
	<th>PHP Version:</th><td>5.2</td>
	<th>Sprint Focus:</th><td></td>
</tr>
<tr>
	<th>Complexity:</th><td></td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>After login of a FE-user you immediately get logged out when clicking any link.</p>


	<p>You can reproduce the bug on IE7 (on Windows Vista or Win XP). FF seems to work fine. The problem exists on Typo 4.2.5, 4.1.9 and the older versions 4.2.4 and 4.1.8.</p>


	<p>I made a downgrade to the affected sites to Typo 4.2.3 and 4.1.7 and all works good as before.<br />(issue imported from #M10261)</p>
  </div>








<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-2244">
<td class="checkbox"><input name="ids[]" type="checkbox" value="19879" /></td>
<td class="subject">related to 
    Core - 
    <a href="19879.html" class="issue status-7 priority-2 closed">Bug #19879</a>: after upgrade from 4.1.7 to 4.1.8 feusers and beusers hav...
</td>
<td class="status">Resolved</td>
<td class="start_date">2009-01-21</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-2245">
<td class="checkbox"><input name="ids[]" type="checkbox" value="19908" /></td>
<td class="subject">related to 
    Core - 
    <a href="19908.html" class="issue status-7 priority-1 closed">Bug #19908</a>: session fixation fix avoid BE login
</td>
<td class="status">Resolved</td>
<td class="start_date">2009-01-25</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-2249">
<td class="checkbox"><input name="ids[]" type="checkbox" value="19916" /></td>
<td class="subject">related to 
    Core - 
    <a href="19916.html" class="issue status-9 priority-2 closed">Bug #19916</a>: Session handling - cannot login to &gt;1 TYPO3 installation ...
</td>
<td class="status">Closed</td>
<td class="start_date">2009-01-26</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/19912/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/19912/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=19912&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>




<div id="history">
<h3>History</h3>

  <div id="change-51016" class="journal has-notes">
    <h4><a href="19912.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/26">Ingmar Schlecht</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-25" title="2009-01-25 15:47">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51016-notes"><p>Hi Maik,</p>


	<p>could you please try again after you manually deleted all cokies from IE7 (with the versions you experienced the bug with).</p>


	<p>cheers<br />Ingmar</p></div>
  </div>
  

  <div id="change-51017" class="journal has-notes">
    <h4><a href="19912.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/24837">Maik Matthias</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-25" title="2009-01-25 19:23">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51017-notes"><p>Hello Ingmar,</p>


	<p>i deleted the cookies severeal times. Also I testet it on different maschines, some never opened the Website before.</p>


	<p>First idea was to empty all caches and to delete all files in typo3temp as well: no effect.</p>


	<p>The FE-session is stored only when logged in BE and still exists after logging out of BE. Logging out from FE is then impossible until Browser is closed. The reason is possibly that you can´t store any DB session data outside the BE.</p></div>
  </div>
  

  <div id="change-51018" class="journal has-notes">
    <h4><a href="19912.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/489">Michael Klapper</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-26" title="2009-01-26 09:49">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51018-notes"><p>Hi Maik,</p>


	<p>i can not aggree that issue.</p>


	<p>Regards,<br />Mick</p>


	<p>Tested on
========<br />OS: Windows XP SP3<br />Browser IE 7.0.57.30.13, Firefox 3.0.5</p></div>
  </div>
  

  <div id="change-51019" class="journal has-notes">
    <h4><a href="19912.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/34940">Manfred Mueller-Spaeth</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-26" title="2009-01-26 11:25">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51019-notes"><p>Same problem with me according to Maik's description. I don't know the reason yet, but I know I may not use the version 4.2.4 or 4.2.5 because FE users are always logged out with the next page request (I described the behaviour in <a href="19867.html" class="issue status-7 priority-1 closed" title="DB session records are only created when users authenticate (Resolved)">#19867</a> as well earlier).</p>


	<p>It's reproducable: if you truncate the fe_session table and login as fe_user - the next request on a secured page will produce an error. You may repeat this, it's the same result.</p>


	<p>Emptying caches, clearing cookies and so on will show no effect. And it's not depending on the browser - e.g normally I use FireFox.</p>


	<p>It's really a problem, because I may not roll out the version 4.2.5 ...</p></div>
  </div>
  

  <div id="change-51020" class="journal has-notes">
    <h4><a href="19912.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/24565">Christian Karsten</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-26" title="2009-01-26 13:03">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51020-notes"><p>Same problem here, but only when using a redirect to a subdomain:</p>


	<p>- 1st request to &lt;domain&gt;.de is a redirect (via domain record in TYPO3) to <a class="external" href="../../external.html?link=http://www.<domain>.de/">www.&lt;domain&gt;.de</a>, cookie A is set, no session data in DB</p>


	<p>- 2nd request goes to <a class="external" href="../../external.html?link=http://www.<domain>.de/">www.&lt;domain&gt;.de</a>, Browser sends cookie A, TYPO3 sets cookie B, still no session data in DB</p>


	<p>- 3rd requests to <a class="external" href="../../external.html?link=http://www.<domain>.de/">www.&lt;domain&gt;.de</a> with login: IE7 sends cookie A, FF sends cookie B, TYPO3 sets cookie C and creates session in DB</p>


	<p>- 4th request to <a class="external" href="../../external.html?link=http://www.<domain>.de/">www.&lt;domain&gt;.de</a>: IE7 sends cookie A, FF sends cookie C. Only the session for cookie C is logged in...</p>


	<p>temp. workaround: redirect in apache.conf or .htaccess instead of TYPO3</p>


	<p>Maybe it would be a good idea to set the sessioncookie only when a session is really created in db (does not solve this issue in all cases)?</p>


	<p>May be related to 0010257 and 0010266</p>


	<p>EDIT: Correction: IE7 sends back BOTH Cookies A (which has been set for &lt;domain&gt;.de) and B (<a class="external" href="../../external.html?link=http://www.<domain>.de/">www.&lt;domain&gt;.de</a>), but only the 1st (A) is seen in $_COOKIE["fe_typo_user"]. FF uses only the one cookie that was set for the exact name.</p></div>
  </div>
  

  <div id="change-51021" class="journal has-notes">
    <h4><a href="19912.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/24837">Maik Matthias</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-28" title="2009-01-28 18:30">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51021-notes"><p>I made a lot of testing until today. Maybe I can describe the bug better now:</p>


	<p>The bug only occurs with IE (version 6 or 7) and the Typo-Versions 4.1.8, 4.1.9, 4.2.4 amd 4.2.5.</p>


	<p>I tested it on three different servers with different Typo-Installations:<br />- Apache 2.2.3 / PHP 5.2.6<br />- Apache 2.2.3 / PHP 5.1.2<br />- Apache 1.3.39 / PHP 5.2.8</p>


	<p>=> same result everywhere.</p>


	<p>The behaviour of the Login depend on what (sub-)domain you are enter a Website. You should not change the domain while surfing the site.</p>


	<p>Try this:</p>


	<p>1) Open a new IE-window and enter the typo-Site with: <a class="external" href="../../external.html?link=http://domain.tld/">http://domain.tld</a><br />2) Make a FE-Login to the site and click some links. Then logout. It´s all ok.<br />3) Go to the address bar of the IE and type: <a class="external" href="../../external.html?link=http://www.domain.tld/">http://www.domain.tld</a><br />4) Make a FE-Login and try to click any link then: You will immediately get logged out.</p>


	<p>Trying to make a (double) BE-Login in the same manner raises a "Login-error or session timed-out"-Error.</p>


	<p>Making a Domain-Record to forward domain.tld to <a class="external" href="../../external.html?link=http://www.domain.tld/">www.domain.tld</a> didn´t solve the problem (and this could not be a long term solution anyway).</p>


	<p>I guess, there is a bug in handling the domain in the session- and/or cookie-data.</p>


	<p>Hope someone can help - or recognize my fault.</p></div>
  </div>
  

  <div id="change-51022" class="journal has-notes">
    <h4><a href="19912.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/295">Marcus Krause</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-28" title="2009-01-28 20:02">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51022-notes"><p>Dear Maik,</p>


	<p>I would describe your "problem" as "works as expected".<br />example.org and <a class="external" href="../../external.html?link=http://www.example.org/">www.example.org</a> are totally different.</p>


	<p>What's your problem? If the content is the same for both domains, just make an APACHE redirect from example.org to <a class="external" href="../../external.html?link=http://www.example.org/">www.example.org</a>. I guess this would solve it.</p>


	<p>Another solution would be an adjustment to $TYPO3_CONF_VARS['SYS']['cookieDomain'].</p></div>
  </div>
  

  <div id="change-51023" class="journal has-notes">
    <h4><a href="19912.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/24837">Maik Matthias</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-30" title="2009-01-30 11:05">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51023-notes"><p>Hello Marcus,</p>


	<p>thanks for your advice. I agree with you, <a class="external" href="../../external.html?link=http://www.example.de/">www.example.de</a> and example.de are different domains. But: In my opinion the cookie and session data therefore have to be treated fully independend. Now a login to <a class="external" href="../../external.html?link=http://www.example.de/">www.example.de</a> blocks other logins to example.de and vice versa. I can´t see a feature in this behaviour, which is new since Typo 4.2.4 / 4.1.8.</p>


	<p>Good news: Your workaround setting the cookieDomain-variable seems to work in some cases. But not in all.</p>


	<p>I think this problem is still relevant. Is there anybody else who still suffers this problem?</p>


	<p>PS: I know that the title of this bug-report is not appropriate anymore, cause it´s about more generous login problems. The relationships added by Marcus may be helpful.</p></div>
  </div>
  

  <div id="change-51024" class="journal has-notes">
    <h4><a href="19912.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/50">Helmut Hummel</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-01-30" title="2009-01-30 23:41">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51024-notes"><p>Hi Maik,<br />in exactly what cases setting cookieDomain does not help?</p></div>
  </div>
  

  <div id="change-51025" class="journal has-notes">
    <h4><a href="19912.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/24837">Maik Matthias</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-02-02" title="2009-02-02 15:17">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51025-notes"><p>Hi Helmut,</p>


	<p>it seems, that the extension EfA Font Size ( efafontsize )  - see bugreport 0010216 - additionally made the trouble.</p>


	<p>I disabled the extension, cleared all cookies and the FE-login works. Unfortunately your "fixed" cookies.js don´t work for me, it just generates javascript errors. Therefore I have to leave the fontsizer extension disabled.</p>


	<p>Thanks for your help, I didn´t think about this extension (why does a fontsizer need cookies?).</p></div>
  </div>
  

  <div id="change-51026" class="journal has-notes">
    <h4><a href="19912.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/50">Helmut Hummel</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2009-02-03" title="2009-02-03 22:02">over 6 years</a> ago</h4>

    
    <div class="wiki" id="journal-51026-notes"><p>Hi Maik, good to hear, that this issue is also caused by this mad piece of JavaScript. I now uploded a new version of the cookie.js, which does not contain any debugging code any more (which caused the JavaScript errors because it used a logging function, which only works with Firebug enabled). Additionally it now only touches the "efaSize" cookie (thx to Albert van der Veen for this suggestion).</p>


	<p>FYI: The fontsizer uses the cookie for storing the size of the font, so that you do not need to resize it on every page change...</p>


	<p>I will mark this issue as resolved ...</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-19912-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/19912.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="19912.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/19912 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:57:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
