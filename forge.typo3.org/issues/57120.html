<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/57120 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:56:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #57120: Upgrade from 6.1.7 to 6.2beta7 / Install Tool fails / &#39;The package &quot;X&quot; depends on &quot;Y&quot; which is not present in the system&#39; - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/57120.atom" rel="alternate" title="Core - Bug #57120: Upgrade from 6.1.7 to 6.2beta7 / Install Tool fails / 'The package &quot;X&quot; depends on &quot;Y&quot; which is not present in the system'" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  
    <div id="watchers">
      

<h3>Watchers (3)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/3154">Thomas Maroschik</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-57120-watcher"></span>


</div>


<h2>Bug #57120</h2>

<div class="issue status-9 priority-2 closed details">
  

  

<div class="subject">
<div><h3>Upgrade from 6.1.7 to 6.2beta7 / Install Tool fails / &#39;The package &quot;X&quot; depends on &quot;Y&quot; which is not present in the system&#39;</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/395">Wolfgang Klinger</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-20" title="2014-03-20 20:33">over 1 year</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-05-15" title="2015-05-15 07:32">3 months</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Closed</td>
    <th class="start-date">Start date:</th><td class="start-date">2014-03-20</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Should have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to">-</td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="todo" style="width: 100%;"></td></tr></table><p class="pourcent">0%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">Install Tool</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>6.2</td>
	<th>Is Regression:</th><td>No</td>
</tr>
<tr>
	<th>PHP Version:</th><td>5.3</td>
	<th>Sprint Focus:</th><td></td>
</tr>
<tr>
	<th>Complexity:</th><td></td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>I did nothing special, just changed the symlink to the new source and deleted all the cache files.<br />Then I tried to access the Install Tool typo3/sysext/install/Start/Install.php</p>


	<p>PHP Fatal error:  Uncaught exception 'UnexpectedValueException' with message 'The package "X" depends on "Y" which is not present in the system.' in /private/var/www/typo3_src-6.2.0beta7/typo3/sysext/core/Classes/Package/DependencyResolver.php:146</p>


	<p>Y is installed and in the list of extensions before X in LocalConfiguration.php</p>


	<p>Am I missing something?<br />Found no special upgrade instructions.</p>


	<p>----<br />20-Mar-2014 20:28:38 Europe/Berlin] PHP Fatal error:  Uncaught exception 'UnexpectedValueException' with message 'The package "X" depends on "Y" which is not present in the system.' in /private/var/www/typo3_src-6.2.0beta7/typo3/sysext/core/Classes/Package/DependencyResolver.php:146<br />Stack trace:<br />#0 /private/var/www/typo3_src-6.2.0beta7/typo3/sysext/core/Classes/Package/DependencyResolver.php(206): TYPO3\CMS\Core\Package\DependencyResolver->buildDependencyGraphForPackages(Array, Array)<br /><a href="1.html" class="issue status-9 priority-2 closed" title="Use SPL when searching/listing files. (Closed)">#1</a> /private/var/www/typo3_src-6.2.0beta7/typo3/sysext/core/Classes/Package/DependencyResolver.php(61): TYPO3\CMS\Core\Package\DependencyResolver->buildDependencyGraph(Array)<br /><a href="2.html" class="issue status-9 priority-2 closed" title="authorName in PackageInfo.xml should be changed (Closed)">#2</a> /private/var/www/typo3_src-6.2.0beta7/typo3/sysext/core/Classes/Package/PackageManager.php(687): TYPO3\CMS\Core\Package\DependencyResolver->sortPackageStatesConfigurationByDependency(Array)<br /><a href="3.html" class="issue status-9 priority-2 closed" title="Add custom autoloader for phpCR package (Closed)">#3</a> /private/var/www/typo3_src-6.2.0beta7/typo3/sysext/core/Resources/PHP/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php(911): TYPO3\CMS\Core\Package\PackageManager->sortAvailable in /private/var/www/typo3_src-6.2.0beta7/typo3/sysext/core/Classes/Package/DependencyResolver.php on line 146</p>
  </div>

<div class="attachments">

<p><a href="../attachments/download/26292/config_files.tar.gz" class="icon icon-attachment">config_files.tar.gz</a>  
   - LocalConfiguration.php, ext_emconf_custom.php, ext_emconf_smarty.php
  <span class="size">(6.6 kB)</span>
  
  
    <span class="author">Wolfgang Klinger, 2014-03-21 12:04</span>
  
  </p>

</div>







<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-10786">
<td class="checkbox"><input name="ids[]" type="checkbox" value="55649" /></td>
<td class="subject">related to 
    Core - 
    <a href="55649.html" class="issue status-7 priority-2 closed">Bug #55649</a>: Unable to install TYPO3 (missing css_styled_content)
</td>
<td class="status">Resolved</td>
<td class="start_date">2014-02-04</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-12104">
<td class="checkbox"><input name="ids[]" type="checkbox" value="63721" /></td>
<td class="subject">related to 
    Core - 
    <a href="63721.html" class="issue status-10 priority-2 closed child">Feature #63721</a>: Installer: Don&#39;t die on failing ext_autoloader
</td>
<td class="status">Rejected</td>
<td class="start_date">2014-12-09</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-11826">
<td class="checkbox"><input name="ids[]" type="checkbox" value="62271" /></td>
<td class="subject">related to 
    Core - 
    <a href="62271.html" class="issue status-9 priority-2 closed">Feature #62271</a>: Install Tool unavailable if there are unresolved dependen...
</td>
<td class="status">Closed</td>
<td class="start_date">2014-10-16</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/57120/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/57120/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=57120&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>




<div id="history">
<h3>History</h3>

  <div id="change-209355" class="journal has-notes">
    <h4><a href="57120.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-20" title="2014-03-20 21:13">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-209355-notes"><p>Can you please post your LocalConf and ext_emconf.php files of the affected extensions</p></div>
  </div>
  

  <div id="change-209390" class="journal has-notes has-details">
    <h4><a href="57120.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/317">Ernesto Baschny</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-20" title="2014-03-20 23:28">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Needs Feedback</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-209390-notes"><p>Together with the LocalConf and the ext_emconf.php file, please provide the information from which TYPO3 version you are coming from and trying to upgrade. Thanks!</p></div>
  </div>
  

  <div id="change-209412" class="journal has-notes">
    <h4><a href="57120.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-21" title="2014-03-21 03:21">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-209412-notes"><p>@Ernesto: Title says "Upgrade from 6.1.7 to 6.2beta7" ;-)</p></div>
  </div>
  

  <div id="change-209470" class="journal has-notes has-details">
    <h4><a href="57120.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/395">Wolfgang Klinger</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-21" title="2014-03-21 12:04">over 1 year</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../attachments/download/26292/config_files.tar.gz">config_files.tar.gz</a> added</li>
      
    </ul>
    
    <div class="wiki" id="journal-209470-notes"><p>X = user_something_distribution_search<br />Y = smarty</p>


	<p>from 6.1.7 -> 6.2beta7</p>


	<p>tia</p></div>
  </div>
  

  <div id="change-209474" class="journal has-notes">
    <h4><a href="57120.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-21" title="2014-03-21 12:35">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-209474-notes"><p>Looks like the problem is that smarty is has dependency for TYPO3 up to 6.1.99.<br />So 6.2 core can't install it.</p></div>
  </div>
  

  <div id="change-209476" class="journal has-notes">
    <h4><a href="57120.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/395">Wolfgang Klinger</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-21" title="2014-03-21 12:37">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-209476-notes"><p>I changed it to 6.3.99 but that doesn’t affect anything</p></div>
  </div>
  

  <div id="change-210580" class="journal has-notes">
    <h4><a href="57120.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/395">Wolfgang Klinger</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-26" title="2014-03-26 13:31">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-210580-notes"><p>;-)<br />now I removed 'smarty' as a dependency for extension X for testing … ok … but now I get the next weird error:</p>


	<p>------<br />[26-Mar-2014 13:28:58 Europe/Berlin] PHP Fatal error:  Uncaught exception 'TYPO3\CMS\Install\Controller\Exception\RedirectLoopException' with message 'Redirect loop aborted. If this message is shown again after a reload, your setup is so weird that the install tool is unable to handle it. Please make sure to remove the "install[redirectCount]" parameter from your request or restart the install tool from the backend navigation.' in /private/var/www/typo3_src-6.2.0/typo3/sysext/install/Classes/Controller/AbstractController.php:544<br />Stack trace:<br />#0 /private/var/www/typo3_src-6.2.0/typo3/sysext/install/Classes/Controller/StepController.php(122): TYPO3\CMS\Install\Controller\AbstractController->redirect()<br /><a href="1.html" class="issue status-9 priority-2 closed" title="Use SPL when searching/listing files. (Closed)">#1</a> /private/var/www/typo3_src-6.2.0/typo3/sysext/install/Classes/Controller/StepController.php(70): TYPO3\CMS\Install\Controller\StepController->outputSpecificStep()<br /><a href="2.html" class="issue status-9 priority-2 closed" title="authorName in PackageInfo.xml should be changed (Closed)">#2</a> /private/var/www/typo3_src-6.2.0/typo3/sysext/install/Start/Install.php(132): TYPO3\CMS\Install\Controller\StepController->execute()<br /><a href="3.html" class="issue status-9 priority-2 closed" title="Add custom autoloader for phpCR package (Closed)">#3</a> {main}<br />  thrown in /private/var/www/typo3_src-6.2.0/typo3/sysext/install/Classes/Controller/AbstractController.php on line 544<br />------</p>


	<p>any hints?</p></div>
  </div>
  

  <div id="change-210619" class="journal has-notes">
    <h4><a href="57120.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-26" title="2014-03-26 17:56">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-210619-notes"><p>What is the URL of the page that issues this exception?<br />Especially the install[action]= part is of interest</p></div>
  </div>
  

  <div id="change-211112" class="journal has-notes">
    <h4><a href="57120.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/395">Wolfgang Klinger</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-31" title="2014-03-31 13:34">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-211112-notes"><p>URL:<br />/typo3/sysext/install/Start/Install.php?install[redirectCount]=9&#38;install[context]=standalone&#38;install[controller]=step&#38;install[action]=databaseConnect</p></div>
  </div>
  

  <div id="change-211152" class="journal has-notes">
    <h4><a href="57120.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-03-31" title="2014-03-31 16:07">over 1 year</a> ago</h4>

    
    <div class="wiki" id="journal-211152-notes"><p>There's something wrong with your database connection. Please check your host, port/socket settings.</p></div>
  </div>
  

  <div id="change-226822" class="journal has-notes has-details">
    <h4><a href="57120.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-08-08" title="2014-08-08 11:29">12 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Needs Feedback</i> to <i>Closed</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-226822-notes"><p>No feedback within the last 90 days => closing this ticket.</p>


	<p>If you think that this is the wrong decision or experience this issue again, then please write to the mailing list typo3.teams.bugs with issue number and an explanation or open a new ticket and add a relation to this ticket number.</p></div>
  </div>
  

  <div id="change-235369" class="journal has-notes">
    <h4><a href="57120.html#note-12" class="journal-link">#12</a>
    
    <a name="note-12"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/850">Florian Seirer</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-11-06" title="2014-11-06 15:05">9 months</a> ago</h4>

    
    <div class="wiki" id="journal-235369-notes"><p>Same problem here during the update from 6.2.4 to 6.2.6<br />The installation was running just fine on 6.2.4, and all I did was changing the symlinks to the 6.2.6 path.<br />I got only error-500 messages in the BE and FE after that.</p>


	<p>/typo3conf/PackageStates.php was rewritten, and was suddenly missing all active core extensions.<br />The error messages in the logfiles explain why the FE and BE weren't running, but not why PackageStates.php was missing the core extensions.</p>


	<p>FE error log:<br /><pre>
Several hundred lines of this:
[Thu Nov 06 14:45:01 2014] [error] [client 10.10.133.1] PHP Warning:  array_diff(): Argument #1 is not an array in /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php on line 215
[Thu Nov 06 14:45:01 2014] [error] [client 10.10.133.1] PHP Warning:  array_merge(): Argument #2 is not an array in /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php on line 220
...
[Thu Nov 06 14:45:01 2014] [error] [client 10.10.133.1] PHP Fatal error:  Uncaught exception 'UnexpectedValueException' with message 'The package "imagecycle" depends on "cms" which is not present in the system.' in /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php:140
Stack trace:
#0 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php(240): TYPO3\\CMS\\Core\\Package\\DependencyResolver-&gt;buildDependencyGraphForPackages(Array, Array)
#1 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php(51): TYPO3\\CMS\\Core\\Package\\DependencyResolver-&gt;buildDependencyGraph(Array)
#2 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/PackageManager.php(701): TYPO3\\CMS\\Core\\Package\\DependencyResolver-&gt;sortPackageStatesConfigurationByDependency(Array)
#3 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Resources/PHP/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php(911): TYPO3\\CMS\\Core\\Package\\PackageManager-&gt;sortAvailablePackagesByDependencies()
#4 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Clas in /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php on line 140
</pre></p>


	<p>BE error log:<br /><pre>
[Thu Nov 06 14:45:52 2014] [error] [client 10.10.141.2] PHP Fatal error:  Uncaught exception 'UnexpectedValueException' with message 'The package "imagecycle" depends on "cms" which is not present in the system.' in /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php:140
Stack trace:
#0 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php(240): TYPO3\\CMS\\Core\\Package\\DependencyResolver-&gt;buildDependencyGraphForPackages(Array, Array)
#1 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php(51): TYPO3\\CMS\\Core\\Package\\DependencyResolver-&gt;buildDependencyGraph(Array)
#2 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/PackageManager.php(701): TYPO3\\CMS\\Core\\Package\\DependencyResolver-&gt;sortPackageStatesConfigurationByDependency(Array)
#3 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Resources/PHP/TYPO3.Flow/Classes/TYPO3/Flow/Package/PackageManager.php(911): TYPO3\\CMS\\Core\\Package\\PackageManager-&gt;sortAvailablePackagesByDependencies()
#4 /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Clas in /var/www/typo3/typo3-6.2.6/typo3/sysext/core/Classes/Package/DependencyResolver.php on line 140, referer: https://www.domain.com/somethingsomething
</pre></p>


	<p>packageStates.php, missing "active" core extensions:<br /><pre>
&lt;?php
# PackageStates.php

# This file is maintained by Flow's package management. Although you can edit it
# manually, you should rather use the command line commands for maintaining packages.
# You'll find detailed information about the typo3.flow:package:* commands in their
# respective help screens.

# This file will be regenerated automatically if it doesn't exist. Deleting this file
# should, however, never become necessary if you use the package commands.

return array (
  'packages' =&gt; 
  array (
    'templavoila' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/templavoila/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'templavoila/templavoila',
      'dependencies' =&gt; NULL,
    ),
    'static_info_tables' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/static_info_tables/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'sm_clearcachecm' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/sm_clearcachecm/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'sitemap' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/sitemap/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'rghelpmodule' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/rghelpmodule/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'realurl' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/realurl/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'portalauth' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/portalauth/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'nothing' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/nothing/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'ml_links' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/ml_links/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'ke_search' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/ke_search/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'jftcaforms' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/jftcaforms/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'imagecycle' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/imagecycle/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'dd_googlesitemap' =&gt; 
    array (
      'state' =&gt; 'active',
      'packagePath' =&gt; 'typo3conf/ext/dd_googlesitemap/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'documentation' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-documentation',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/documentation/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'about' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-about',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/about/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'aboutmodules' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-aboutmodules',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/aboutmodules/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'adodb' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-adodb',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/adodb/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'context_help' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-context-help',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/context_help/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'dbal' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-dbal',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/dbal/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'extra_page_cm_options' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-extra-page-cm-options',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/extra_page_cm_options/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'feedit' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-feedit',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/feedit/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'felogin' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-felogin',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/felogin/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'form' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-form',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/form/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'indexed_search' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-indexed-search',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/indexed_search/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'indexed_search_mysql' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-indexed-search-mysql',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/indexed_search_mysql/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'openid' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-openid',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/openid/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'sys_action' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-sys-action',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/sys_action/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'taskcenter' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-taskcenter',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/taskcenter/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'version' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-version',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/version/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
    'workspaces' =&gt; 
    array (
      'manifestPath' =&gt; '',
      'composerName' =&gt; 'typo3/cms-workspaces',
      'state' =&gt; 'inactive',
      'packagePath' =&gt; 'typo3/sysext/workspaces/',
      'classesPath' =&gt; 'Classes/',
      'suggestions' =&gt; NULL,
      'dependencies' =&gt; NULL,
    ),
  ),
  'version' =&gt; 4,
)
 ?&gt;
</pre></p></div>
  </div>
  

  <div id="change-235386" class="journal has-notes has-details">
    <h4><a href="57120.html#note-13" class="journal-link">#13</a>
    
    <a name="note-13"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-11-06" title="2014-11-06 18:25">9 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Closed</i> to <i>Needs Feedback</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-235386-notes"><p>I suppose you've some opcode cache running, which did not properly detect the exchange of the symlink. TYPO3 core itself can do nothing about this problem.</p>


	<p>You need to clear all caches via install tool (typo3 caches and opcode cache) before you access the installation. Otherwise accessing files inside the source may not work. This also explains the reaction of the package manager to remove non-existing packages (access not possible to sysexts).</p></div>
  </div>
  

  <div id="change-239870" class="journal has-notes">
    <h4><a href="57120.html#note-14" class="journal-link">#14</a>
    
    <a name="note-14"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-11" title="2014-12-11 11:20">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-239870-notes"><p>Hi Markus and Christian,</p>


	<p>I thought again about this issue ... it seams a chicken/egg issue ... you can't start install tool course the packages can't be solved but you need to clear the opcode cache. This correlates with <a href="63721.html" class="issue status-10 priority-2 closed child" title="Installer: Don't die on failing ext_autoloader (Rejected)">#63721</a></p>


	<p>Christian, wasn't the original plan, that installer mode shouldn't get class loader cache build?</p></div>
  </div>
  

  <div id="change-239887" class="journal has-notes">
    <h4><a href="57120.html#note-15" class="journal-link">#15</a>
    
    <a name="note-15"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-11" title="2014-12-11 12:47">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-239887-notes"><p>Alex, you CAN access the Install Tool right after exchanging the symlink to clear the opcode cache.<br />But if you start accessing the BE or the like and the opcode cache contains invalid paths, then you run into troubles because at that time the package manager will cleanup the PackageStates by removing all inaccessible extensions.</p>


	<p>The question is more: How can we ensure that people clear the opcode cache?</p></div>
  </div>
  

  <div id="change-239942" class="journal has-notes">
    <h4><a href="57120.html#note-16" class="journal-link">#16</a>
    
    <a name="note-16"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-11" title="2014-12-11 17:50">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-239942-notes"><p>Spoke with Christian around this area.</p>


	<p>Maybe we can add the clear opcode cache in the class_loader shutdown function I'm introducing?</p></div>
  </div>
  

  <div id="change-239951" class="journal has-notes">
    <h4><a href="57120.html#note-17" class="journal-link">#17</a>
    
    <a name="note-17"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-11" title="2014-12-11 18:42">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-239951-notes"><p>Well, yes and no. The opcode cache clearing is somewhat an expensive operation as it usually clears the whole cache. (for all sites on the server)<br />Hence we should keep such flushes to an absolute minimum.</p>


	<p>I'd rather prefer to have some means where we know which version was last used and where we can detect that a new source is here very early.<br />Could be some kind of compat_version info in localconf or even a dedicated file.</p></div>
  </div>
  

  <div id="change-239969" class="journal has-notes">
    <h4><a href="57120.html#note-18" class="journal-link">#18</a>
    
    <a name="note-18"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-11" title="2014-12-11 21:12">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-239969-notes"><p>But, how do we get the new number, if the opcode cache gives us the false file? And crashing in class loader shouldn't be so common.</p></div>
  </div>
  

  <div id="change-239974" class="journal has-notes">
    <h4><a href="57120.html#note-19" class="journal-link">#19</a>
    
    <a name="note-19"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-11" title="2014-12-11 21:24">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-239974-notes"><p>Hm, good point of course. So the only way would then be to clear the opcode cache right before switching the symlink.<br />So some kind of "prepare manual update" button would be needed in Install Tool. (where we clear all the caches like system cache, opcode cache,etc)</p></div>
  </div>
  

  <div id="change-239999" class="journal has-notes">
    <h4><a href="57120.html#note-20" class="journal-link">#20</a>
    
    <a name="note-20"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2014-12-11" title="2014-12-11 22:53">8 months</a> ago</h4>

    
    <div class="wiki" id="journal-239999-notes"><p>Thats not possible as between clearing before and switching symlinks another process may regenerate the opcode cache.</p></div>
  </div>
  

  <div id="change-253674" class="journal has-notes">
    <h4><a href="57120.html#note-21" class="journal-link">#21</a>
    
    <a name="note-21"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-03-24" title="2015-03-24 13:47">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-253674-notes"><p>Is this still an issue? Or can we close this one?</p></div>
  </div>
  

  <div id="change-258880" class="journal has-details">
    <h4><a href="57120.html#note-22" class="journal-link">#22</a>
    
    <a name="note-22"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/33">Mathias Schreiber</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-05-15" title="2015-05-15 07:32">3 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Needs Feedback</i> to <i>Closed</i></li>
      
    </ul>
    
    
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-57120-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/57120.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="57120.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/57120 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:56:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
