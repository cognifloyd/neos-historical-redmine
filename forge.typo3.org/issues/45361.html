<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/45361 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:06:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Task #45361: Make &quot;Neos_lastVisitedUri&quot; Cookie obsolete - TYPO3.Neos - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/45361.atom" rel="alternate" title="TYPO3.Neos - Task #45361: Make &quot;Neos_lastVisitedUri&quot; Cookie obsolete" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 current sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>TYPO3.Neos</h1>
        <div id="quicklinks"></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos-distribution-base" class="level-1 current sorting-0">Base Distribution</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-form" class="level-2 sorting-0">TYPO3.Form</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-imagine" class="level-2 sorting-0">TYPO3.Imagine</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-media" class="level-2 sorting-0">TYPO3.Media</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos" class="level-2 current sorting-0">TYPO3.Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos-nodetypes" class="level-2 sorting-0">TYPO3.Neos.NodeTypes</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-party" class="level-2 sorting-0">TYPO3.Party</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-setup" class="level-2 sorting-0">TYPO3.Setup</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-sitekickstarter" class="level-2 sorting-0">TYPO3.SiteKickstarter</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-twitter-bootstrap" class="level-2 sorting-0">TYPO3.Twitter.Bootstrap</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neoscr" class="level-2 sorting-0">TYPO3.TYPO3CR</a><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-typoscript" class="level-2 sorting-0">TYPO3.TypoScript</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos-coordination" class="level-1 sorting-0">Coordination Group</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos-website-communication" class="level-1 sorting-0">Website and Communication</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/issues?query_id=204" class="query">Recently modified</a>



  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-45361-watcher"></span>


</div>


<h2>Task #45361</h2>

<div class="issue status-7 priority-2 closed details">
  

  

<div class="subject">
<div><h3>Make &quot;Neos_lastVisitedUri&quot; Cookie obsolete</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-02-11" title="2013-02-11 11:30">over 2 years</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-26" title="2013-03-26 12:37">over 2 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2013-02-11</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Should have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to"><a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">-</td>
    
    <th></th>
    <td></td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Since it's at least for caching not a good practice to have cookies around, it would be worthwhile to renounce this cookie.</p>


	<p>An idea would be to use localStorage; however this is not that easy to pass to the server like a Cookie is.</p>


	<p>One solution would be to add the localStorage value to a hidden field in the login screen, making it available for the redirect.</p>


	<p>Then the value should be stored in the user preferences or the flow session, so that the redirect would work when accessing /neos and already being logged in. This would mean that the redirect wouldn't necessarily go to the last visited page in the frontend when logged in, but the last visited page before logging in. We could possibly update the flow session / user preference when navigating pages and being logged in.</p>


	<p>Another solution would be to make the redirect client based and use JavaScript to do the actual redirect combining the value of localStorage and the workspace name. This has the drawback of having to run JavaScript for the redirect and also the drawback of being unable to check whether a page exists or not before redirecting to it.</p>


	<p>I think we should go with the first solution.</p>
  </div>








<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-8036">
<td class="checkbox"><input name="ids[]" type="checkbox" value="40304" /></td>
<td class="subject">related to 
    TYPO3.Neos - 
    <a href="40304.html" class="issue status-7 priority-2 closed">Task #40304</a>: As a user, I&#39;d like to be redirected to the last edited p...
</td>
<td class="status">Resolved</td>
<td class="start_date"></td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/45361/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/45361/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=45361&amp;project_id=package-typo3-neos')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>


<div id="issue-changesets">
<h3>Associated revisions</h3>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/repository/revisions/781f44ce02f83da7334719a72aea64a32781eb09" title="Revision 781f44ce">Revision 781f44ce</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-26" title="2013-03-26 11:38">over 2 years</a> ago</span></p>
    <div class="wiki">
        <p>[TASK] Refactored backend login/logout code</p>


	<p>This introduces a BackendRedirectionService which is responsible for<br />the redirections after a backend login or logout.</p>


	<p>For redirecting an editor "back" to the frontend page where he came<br />from before logging in, a session key ``lastVisitedUri`` is maintained.<br />Using the browser's sessionStorage it stores the user's last visited URI<br />to the session (see I31d77af758cc938e68952344315546d9a7c9379b).</p>


	<p>On logout, the content editor's last visited URI has the namespace<br />indicator (``@``) removed and the editor is redirected to that URI.</p>


	<p>Resolves: <a href="45361.html" class="issue status-7 priority-2 closed" title="Make &quot;Neos_lastVisitedUri&quot; Cookie obsolete (Resolved)">#45361</a><br />Related: <a href="40304.html" class="issue status-7 priority-2 closed" title="As a user, I'd like to be redirected to the last edited page after logging out (Resolved)">#40304</a><br />Change-Id: I964f0d1dc05b14e8bc6e0b866583513b91e08769</p>
    </div>
    </div>

    <div class="changeset even">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/repository/revisions/21017f409241c73ea2e56e5f1d3abeaed773ae97" title="Revision 21017f40">Revision 21017f40</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/3326">Aske Ertmann</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-26" title="2013-03-26 21:23">over 2 years</a> ago</span></p>
    <div class="wiki">
        <p>[TASK] Use try catch statement for session storage check</p>


	<p>The check for the last visited url in the login should use<br />the same as the content types package which is equal to how<br />it's done in Modernizr.</p>


	<p>Change-Id: I90931b291a170b7efc019fad4a484ed5e436b28a<br />Related: <a href="45361.html" class="issue status-7 priority-2 closed" title="Make &quot;Neos_lastVisitedUri&quot; Cookie obsolete (Resolved)">#45361</a></p>
    </div>
    </div>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/repository/revisions/d777663fdb76f35c20538ded04a18dea7d2295a2" title="Revision d777663f">Revision d777663f</a><br />
        <span class="author">Added by Robert Lemke  <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-28" title="2013-03-28 12:19">over 2 years</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Fix recording of last visited node for sub requests</p>


	<p>The aspect introduced in I964f0d1dc05b14e8bc6e0b866583513b91e08769<br />assumes that the current request is the main ActionRequest, which<br />is not the case if a widget is rendered. In that situation Neos would<br />fail with this error message:</p>


	<p>Fatal error: Call to undefined method TYPO3\Flow\Mvc\ActionRequest::getUri()<br />in TYPO3_Neos_Aspect_LastVisitedNodeAspect.php on line 55</p>


	<p>Since aspects are more expensive and the introduced aspect only<br />advised a single method in a single controller, I moved the behavior<br />to the end of the showAction() and removed the aspect again.</p>


	<p>Change-Id: Ie00a40781f0b5375e4b3ee1a8d4c7c1e548bf5fa<br />Related: <a href="45361.html" class="issue status-7 priority-2 closed" title="Make &quot;Neos_lastVisitedUri&quot; Cookie obsolete (Resolved)">#45361</a></p>
    </div>
    </div>


</div>



<div id="history">
<h3>History</h3>

  <div id="change-150887" class="journal has-details">
    <h4><a href="45361.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3326">Aske Ertmann</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-02-11" title="2013-02-11 14:46">over 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Accepted</i></li>
      
       <li><strong>Assigned To</strong> set to <i>Adrian Föder</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-152113" class="journal has-notes">
    <h4><a href="45361.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-02-21" title="2013-02-21 16:53">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152113-notes"><p>before deciding how to technically implement it; how is it intended to work at all?</p>


	<p>I make the following assumptions:</p>


	<ul>
	<li>When logging out from the backend, the editor should be redirected to a <em>specified page</em>.</li>
		<li>This <em>specified page</em> should be the last page the editor <em>visited</em>.</li>
		<li>What does <em>visited</em> mean? The last page <strong>before</strong> logging in or the last page he had visited even logged in, i.e. in order to edit it?</li>
	</ul>


	<p>If I'm right so far, the final question is: </p>


	<ul>
	<li>Should the user be redirected to where he initially came from <strong>prior</strong> logging in, just as if the backend visit never occured,</li>
		<li>or should the user be redirected to the page he last had open in Backend, just as if he would like to check, see, verify his work?</li>
	</ul></div>
  </div>
  

  <div id="change-152115" class="journal has-notes">
    <h4><a href="45361.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2208">Christian Müller</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-02-21" title="2013-02-21 16:57">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152115-notes"><p>I think the use case was rather to end up on the page you last visited after logging in. It was not so much for after being logged out. Just from the assumption that someone browses the website and decides to change a page if she sees something needs to change, so she should end up on that page after login.</p></div>
  </div>
  

  <div id="change-152130" class="journal has-notes">
    <h4><a href="45361.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3198">Rens Admiraal</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-02-21" title="2013-02-21 19:10">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152130-notes"><p>Christian: think you're not fully right... The cookie is set in the backend controller, not in the frontend. And IMHO it would be bad to track a cookie in te frontend before a login happens. Besides that it won't be possible to store the referer I guess as we don't know the last page visited (we would only know that if the user clicks a link right?).</p>


	<p>I do agree to changing the behaviour though... Localstorage would be fine for this, and injecting it in the login form (as suggested on IRC) would be a good entry point.</p></div>
  </div>
  

  <div id="change-152131" class="journal has-notes">
    <h4><a href="45361.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-02-21" title="2013-02-21 19:17">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-152131-notes"><p>Current state is at <a class="external" href="../../external.html?link=https://review.typo3.org/#/q/topic:45361_lastVisitedUri,n,z">https://review.typo3.org/#/q/topic:45361_lastVisitedUri,n,z</a></p></div>
  </div>
  

  <div id="change-155202" class="journal has-notes">
    <h4><a href="45361.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-20" title="2013-03-20 09:23">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-155202-notes"><p>Patch set 4 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/18429">https://review.typo3.org/18429</a></p></div>
  </div>
  

  <div id="change-155747" class="journal has-notes">
    <h4><a href="45361.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-22" title="2013-03-22 16:41">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-155747-notes"><p>Patch set 5 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/18429">https://review.typo3.org/18429</a></p></div>
  </div>
  

  <div id="change-156367" class="journal has-notes">
    <h4><a href="45361.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-26" title="2013-03-26 11:38">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-156367-notes"><p>Patch set 6 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/18429">https://review.typo3.org/18429</a></p></div>
  </div>
  

  <div id="change-156377" class="journal has-notes has-details">
    <h4><a href="45361.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/2751">Adrian Föder</a> <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/activity?from=2013-03-26" title="2013-03-26 12:37">over 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Accepted</i> to <i>Resolved</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-156377-notes"><p>Applied in changeset <a href="../../external.html?link=https://forge.typo3.org/projects/package-typo3-neos/repository/revisions/781f44ce02f83da7334719a72aea64a32781eb09" class="changeset" title="[TASK] Refactored backend login/logout code This introduces a BackendRedirectionService which is...">781f44ce02f83da7334719a72aea64a32781eb09</a>.</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-45361-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/45361.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="45361.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/45361 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:06:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
