<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/47744 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:59:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #47744: Fatal error: Call to a member function fetch_object() on a non-object in  - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/47744.atom" rel="alternate" title="Core - Bug #47744: Fatal error: Call to a member function fetch_object() on a non-object in " type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-47744-watcher"></span>


</div>


<h2>Bug #47744</h2>

<div class="issue status-7 priority-2 closed details">
  

  

<div class="subject">
<div><h3>Fatal error: Call to a member function fetch_object() on a non-object in </h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/232">Andreas Becker (Andi)</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-30" title="2013-04-30 15:48">over 2 years</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-12" title="2013-09-12 20:30">almost 2 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2013-04-30</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Should have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to"><a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">Install Tool</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>6.1</td>
	<th>Is Regression:</th><td></td>
</tr>
<tr>
	<th>PHP Version:</th><td>5.3</td>
	<th>Sprint Focus:</th><td></td>
</tr>
<tr>
	<th>Complexity:</th><td>easy</td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Fatal error: Call to a member function fetch_object() on a non-object in /typo3_src-6.1.0/typo3/sysext/core/Classes/Database/DatabaseConnection.php on line 1289</p>


	<p>When trying to open up Basic Configuration in Install Tool<br />But site is working<br />Backend is working<br />DB is working</p>
  </div>








<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-8661">
<td class="checkbox"><input name="ids[]" type="checkbox" value="48138" /></td>
<td class="subject">related to 
    Core - 
    <a href="48138.html" class="issue status-7 priority-1 closed">Bug #48138</a>: Cannot connect to the current database
</td>
<td class="status">Resolved</td>
<td class="start_date">2013-05-13</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-8794">
<td class="checkbox"><input name="ids[]" type="checkbox" value="47746" /></td>
<td class="subject">related to 
    Core - 
    <a href="47746.html" class="issue status-9 priority-2 closed">Bug #47746</a>: Converting 4.7 sites to 6.1 sites much to complicated and...
</td>
<td class="status">Closed</td>
<td class="start_date">2013-04-30</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

<tr class="issue hascontextmenu" id="relation-10211">
<td class="checkbox"><input name="ids[]" type="checkbox" value="55095" /></td>
<td class="subject">related to 
    Core - 
    <a href="55095.html" class="issue status-9 priority-2 closed">Bug #55095</a>: Replace SHOW DATABASE by query to schema
</td>
<td class="status">Closed</td>
<td class="start_date">2014-01-17</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/47744/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/47744/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=47744&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>


<div id="issue-changesets">
<h3>Associated revisions</h3>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/7bb2cc9ca9ba9a79efd78d93c78c36635f3310ce" title="Revision 7bb2cc9c">Revision 7bb2cc9c</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-12" title="2013-09-12 19:53">almost 2 years</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Replace SHOW DATABASE by query to schema</p>


	<p>The SQL query "SHOW DATABASE" may be restricted on the SQL Server.<br />Since MySQL 5.0 (which is minimum since TYPO3 CMS 4.7) we can also query<br />the information_schema table to gather the information to which table<br />we have access.</p>


	<p>Resolves: <a href="47744.html" class="issue status-7 priority-2 closed" title="Fatal error: Call to a member function fetch_object() on a non-object in  (Resolved)">#47744</a><br />Releases: 6.2, 6.1<br />Change-Id: Ie65abadeed54cbc54bee401bdc1aab18ffc8eea6<br />Reviewed-on: <a class="external" href="../../external.html?link=https://review.typo3.org/23637">https://review.typo3.org/23637</a><br />Reviewed-by: Christian Kuhn<br />Tested-by: Christian Kuhn<br />Reviewed-by: Wouter Wolters<br />Tested-by: Wouter Wolters</p>
    </div>
    </div>

    <div class="changeset even">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/71690327d2c7e07efae3637d6d1c26c071b385e8" title="Revision 71690327">Revision 71690327</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-12" title="2013-09-12 20:28">almost 2 years</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Replace SHOW DATABASE by query to schema</p>


	<p>The SQL query "SHOW DATABASE" may be restricted on the SQL Server.<br />Since MySQL 5.0 (which is minimum since TYPO3 CMS 4.7) we can also query<br />the information_schema table to gather the information to which table<br />we have access.</p>


	<p>Resolves: <a href="47744.html" class="issue status-7 priority-2 closed" title="Fatal error: Call to a member function fetch_object() on a non-object in  (Resolved)">#47744</a><br />Releases: 6.2, 6.1<br />Change-Id: Ie65abadeed54cbc54bee401bdc1aab18ffc8eea6<br />Reviewed-on: <a class="external" href="../../external.html?link=https://review.typo3.org/23795">https://review.typo3.org/23795</a><br />Reviewed-by: Wouter Wolters<br />Tested-by: Wouter Wolters</p>
    </div>
    </div>


</div>



<div id="history">
<h3>History</h3>

  <div id="change-161969" class="journal has-notes">
    <h4><a href="47744.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-30" title="2013-04-30 16:34">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-161969-notes"><p>Can your database user, which you are using for TYPO3, execute following query: "SHOW DATABASES"?</p></div>
  </div>
  

  <div id="change-161984" class="journal has-details">
    <h4><a href="47744.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/236">Chris topher</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-04-30" title="2013-04-30 18:00">over 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Needs Feedback</i></li>
      
       <li><strong>Target version</strong> deleted (<strike><i>6.1.1</i></strike>)</li>
      
    </ul>
    
    
  </div>
  

  <div id="change-162225" class="journal has-notes">
    <h4><a href="47744.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/232">Andreas Becker (Andi)</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-05-02" title="2013-05-02 08:15">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-162225-notes"><p>Hi Alexander</p>


	<p>Thanks for this hint - previous Installations of TYPO3 until 4.7 did not had this problem</p>


	<p>Ad this hint to the install tool so people will know about it that TYPO3 since 6.1 is getting a "special case" like phpMyAdmin.</p>


	<ol>
	<li>Remove skip-show-database if you use phpMyAdmin, TYPO3 or a similar tool to</li>
		<li>manage your databases, it will just frustrate you or your users.<br />#skip-show-database</li>
	</ol>


	<p>as i.e. virtualmin, adminer, chive shows you tables correctly even you are logged in as a user and "skip-show-database" enabled</p>


	<p>i.e. if your logged in a typo3 installation and have adminer installed your database will show up correctly</p>


	<p>or even better perform a check before installing TYPO3 6.1 of all Server requirements to run TYPO3  6.1+ and than continue with the installation. In this case the hint should simply pop up when "skip-show-database" is not disabled</p>


	<p>Andi</p></div>
  </div>
  

  <div id="change-162365" class="journal has-notes">
    <h4><a href="47744.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-05-02" title="2013-05-02 18:43">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-162365-notes"><p>Also previous installations of TYPO3 have this problem.</p>


	<p>Anyway, how does virtualmin, adminer, chive, ... can show the databases if "SHOW DATABASES" isn't allowed for the user?</p>


	<p>BTW. a check for this (and other DB privileges are planed.</p></div>
  </div>
  

  <div id="change-162423" class="journal has-notes">
    <h4><a href="47744.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/232">Andreas Becker (Andi)</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-05-03" title="2013-05-03 08:28">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-162423-notes"><p>Hi Alexander you wrote:</p>


<pre>
"Anyway, how does virtualmin, adminer, chive, ... can show the databases if "SHOW DATABASES" isn't allowed for the user?" 
</pre>

	<p>I only wrote about what is what it is. only phpMyAdmin and TYPO3 seems to have problems with this settings.</p>


	<p>Andi</p></div>
  </div>
  

  <div id="change-162480" class="journal has-notes">
    <h4><a href="47744.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-05-03" title="2013-05-03 14:07">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-162480-notes"><p>As I've no crystal ball, I can't predict why it should work with "virtualmin, adminer, chive" on your system and not with TYPO3 and phpMyAdmin.</p>


	<p>Also, if this configuration would be the same as with TYPO3 4.7, you should had this problem already with 4.7, as the code didn't changed on this point. So this all (and most of the other bugs from you) seem to be a problem of your system.</p></div>
  </div>
  

  <div id="change-162512" class="journal has-notes">
    <h4><a href="47744.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/232">Andreas Becker (Andi)</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-05-03" title="2013-05-03 14:49">over 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-162512-notes"><p>Well it is not one but 3 systems which are different from each other (and only one is ours) and same symptoms. Until 4.7 we had never those problems! right! but also adminer integrated in the TYPO3 backend was just working fine and much better than phpmyadmin. On the servers itself has nothing changed afaik.</p>


	<p>Nevertheless I would put a hint into the install tool so people know that TYPO3 is like phpmyadmin a special case which will not make them happy if they have it enabled.</p></div>
  </div>
  

  <div id="change-180901" class="journal has-notes has-details">
    <h4><a href="47744.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 09:16">almost 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Needs Feedback</i> to <i>New</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-180901-notes"><p>Add test for privileges "Show databases" to install tool.</p></div>
  </div>
  

  <div id="change-180994" class="journal has-notes has-details">
    <h4><a href="47744.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/317">Ernesto Baschny</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 12:28">almost 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Accepted</i></li>
      
       <li><strong>Complexity</strong> set to <i>easy</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-180994-notes"><p>I agree that we need a better handling for that. But I would not require SHOW DATABASES priviledge.</p>


	<p>1) admin_get_dbs() should thow an Exception instead of Fatal error in this situation (when $db_list === FALSE)</p>


	<p>2) Install tool should catch this exception and then instead of presenting a list of databases just an empty INPUT field where the user has to enter the database name himself</p>


	<p>I was about to create this patch for 6.2 but then I had to fiddle with the FLUID templates and got stuck.. but it should be easy for the FLUID wizards out there.</p>


	<p>For 6.0+6.1 I would simply catch the error in "Basic Configuration" and ignore it (as it is not relevant when you are there) and do something similar as (2) for the first install (or skip this part, as it's probably not worth adding it to 6.0+1 anymore).</p></div>
  </div>
  

  <div id="change-181014" class="journal has-notes">
    <h4><a href="47744.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 14:14">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-181014-notes"><p>Since TYPO3 CMS 4.7 the minimum MySQL version is 5.0, since this version we could also use:</p>


<pre>
SELECT SCHEMA_NAME FROM information_schema.SCHEMATA
</pre>

	<p>to get the databases to which we have access. Maybe changing the "SHOW DATABASE" to this could be enough.</p></div>
  </div>
  

  <div id="change-181016" class="journal has-notes">
    <h4><a href="47744.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 14:28">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-181016-notes"><p>Tested localy:</p>


<pre>
&gt; SHOW DATABASES
#1227 - Access denied; you need (at least one of) the SHOW DATABASES privilege(s) for this operation

&gt; SELECT SCHEMA_NAME FROM information_schema.SCHEMATA
SCHEMA_NAME
-----------
information_schema
</pre>

	<p>So best way to go is to change the SQL statement.</p>


	<p>The DBAL native driver uses the deprecated php funtion "mysql_list_dbs" which will do a "SHOW DATABASES" this should be changed in another issue report.</p></div>
  </div>
  

  <div id="change-181022" class="journal has-details">
    <h4><a href="47744.html#note-12" class="journal-link">#12</a>
    
    <a name="note-12"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 14:55">almost 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Assigned To</strong> set to <i>Alexander Opitz</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-181024" class="journal has-notes has-details">
    <h4><a href="47744.html#note-13" class="journal-link">#13</a>
    
    <a name="note-13"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 15:04">almost 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Accepted</i> to <i>Under Review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-181024-notes"><p>Patch set 1 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/23637">https://review.typo3.org/23637</a></p></div>
  </div>
  

  <div id="change-181025" class="journal has-notes">
    <h4><a href="47744.html#note-14" class="journal-link">#14</a>
    
    <a name="note-14"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 15:06">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-181025-notes"><p>To test the patch you need to change the my.cfg of your mysql server. You need to add "skip-show-database" to the [mysqld] section and restart your mysql server.</p></div>
  </div>
  

  <div id="change-181054" class="journal has-notes">
    <h4><a href="47744.html#note-15" class="journal-link">#15</a>
    
    <a name="note-15"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 17:31">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-181054-notes"><p>Patch set 2 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/23637">https://review.typo3.org/23637</a></p></div>
  </div>
  

  <div id="change-181055" class="journal has-notes">
    <h4><a href="47744.html#note-16" class="journal-link">#16</a>
    
    <a name="note-16"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/317">Ernesto Baschny</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 17:32">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-181055-notes"><p>Oh dear, that makes this setting pretty useless as a "security mechanism" then. Thanks for researching.</p></div>
  </div>
  

  <div id="change-181080" class="journal has-notes">
    <h4><a href="47744.html#note-17" class="journal-link">#17</a>
    
    <a name="note-17"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-05" title="2013-09-05 18:44">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-181080-notes"><p>Not really, "SHOW DATABASES" can show more databases then where you have no privileges, the shema only shows databases where you have some. ;)</p></div>
  </div>
  

  <div id="change-181282" class="journal has-notes">
    <h4><a href="47744.html#note-18" class="journal-link">#18</a>
    
    <a name="note-18"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-06" title="2013-09-06 10:50">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-181282-notes"><p>Patch set 3 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/23637">https://review.typo3.org/23637</a></p></div>
  </div>
  

  <div id="change-182386" class="journal has-notes">
    <h4><a href="47744.html#note-19" class="journal-link">#19</a>
    
    <a name="note-19"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-11" title="2013-09-11 16:08">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-182386-notes"><p>Patch set 4 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/23637">https://review.typo3.org/23637</a></p></div>
  </div>
  

  <div id="change-182631" class="journal has-notes">
    <h4><a href="47744.html#note-20" class="journal-link">#20</a>
    
    <a name="note-20"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-12" title="2013-09-12 18:52">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-182631-notes"><p>Patch set 5 for branch <strong>master</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/23637">https://review.typo3.org/23637</a></p></div>
  </div>
  

  <div id="change-182642" class="journal has-notes">
    <h4><a href="47744.html#note-21" class="journal-link">#21</a>
    
    <a name="note-21"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-12" title="2013-09-12 19:54">almost 2 years</a> ago</h4>

    
    <div class="wiki" id="journal-182642-notes"><p>Patch set 1 for branch <strong>TYPO3_6-1</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=https://review.typo3.org/23795">https://review.typo3.org/23795</a></p></div>
  </div>
  

  <div id="change-182646" class="journal has-notes has-details">
    <h4><a href="47744.html#note-22" class="journal-link">#22</a>
    
    <a name="note-22"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2013-09-12" title="2013-09-12 20:30">almost 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Under Review</i> to <i>Resolved</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-182646-notes"><p>Applied in changeset <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/71690327d2c7e07efae3637d6d1c26c071b385e8" class="changeset" title="[BUGFIX] Replace SHOW DATABASE by query to schema The SQL query &quot;SHOW DATABASE&quot; may be...">71690327d2c7e07efae3637d6d1c26c071b385e8</a>.</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-47744-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/47744.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="47744.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/47744 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 22:59:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
