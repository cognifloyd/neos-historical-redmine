<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from forge.typo3.org/issues/66503 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 23:39:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Bug #66503: Core: Error handler (FE): PHP Warning: sem_get(): failed for key 0xbaa3533: No space left on device - Core - TYPO3 Forge</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<link href="../themes/TYPO3/stylesheets/applicationfaba.css?1437165176" media="all" rel="stylesheet" type="text/css" />
<script src="../javascripts/prototypefaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/effectsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/dragdropfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/controlsfaba.js?1437165176" type="text/javascript"></script>
<script src="../javascripts/applicationfaba.js?1437165176" type="text/javascript"></script>
<script src="../plugin_assets/flow_design_helpers/javascripts/custom-scriptsf881.js?1437165331" type="text/javascript"></script>

<!--[if IE]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1437165176);}
    </style>
<![endif]-->
 <link href="../plugin_assets/redmine_backlogs/stylesheets/jquery/jquery.jqplot.minb674.css?1437165332" media="screen" rel="stylesheet" type="text/css" />

<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-1.6.2.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery-ui-1.8.16.custom.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jeditable.minib674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.scrollfollowb674.js?1437165332" type="text/javascript"></script>

<!--[if IE]>
<script src="/plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/excanvas.js?1437165332" type="text/javascript"></script>
<![endif]-->
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/jquery.jqplotb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.highlighterb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasTextRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.jqplot/plugins/jqplot.enhancedLegendRenderer.minb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/jquery/jquery.cookieb674.js?1437165332" type="text/javascript"></script>

<script type="text/javascript"
        src="../rb/server_variables.js">
</script>
<script src="../plugin_assets/redmine_backlogs/javascripts/commonb674.js?1437165332" type="text/javascript"></script>
<script src="../plugin_assets/redmine_backlogs/javascripts/burndownb674.js?1437165332" type="text/javascript"></script>


<style type="text/css">

</style>

<!-- page specific tags -->

    <link href="../../external.html?link=https://forge.typo3.org/issues/66503.atom" rel="alternate" title="Core - Bug #66503: Core: Error handler (FE): PHP Warning: sem_get(): failed for key 0xbaa3533: No space left on device" type="application/atom+xml" />
    <link href="../themes/TYPO3/stylesheets/scmfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" />
<script src="../javascripts/context_menufaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/context_menufaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /><script src="../javascripts/jstoolbar/jstoolbarfaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/textilefaba.js?1437165176" type="text/javascript"></script><script src="../javascripts/jstoolbar/lang/jstoolbar-enfaba.js?1437165176" type="text/javascript"></script><link href="../stylesheets/jstoolbarfaba.css?1437165176" media="screen" rel="stylesheet" type="text/css" /></head>
<body>
<div id="wrapper">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/login" class="login">Sign in</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../external.html?link=https://forge.typo3.org/" class="home">Home</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects" class="projects">Projects</a></li>
<li><a href="../../external.html?link=http://www.redmine.org/guide" class="help">Help</a></li></ul></div>
      
<div id="header">
    <div id="header-left">
        <div id="header-menu">
            <a href="../../external.html?link=https://forge.typo3.org/" class="start">Start</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms" class="level-0 current sorting-10">TYPO3 CMS</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3neos" class="level-0 sorting-20">TYPO3 Neos</a><a href="../../external.html?link=https://forge.typo3.org/projects/flow3" class="level-0 sorting-20">TYPO3 Flow</a><a href="../../external.html?link=https://forge.typo3.org/projects/team-docteam" class="level-0 sorting-26">Documentation</a><a href="../../external.html?link=https://forge.typo3.org/projects/other" class="level-0 sorting-30">other</a>
        </div>
    </div>
    
    <div id="right-area"  style="">
        <div id="quick-search">
            <form action="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" method="get">
            <input name="issues" type="hidden" value="1" />
            <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/search" accesskey="4" style="">Search</a>:
            <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
            </form>
        </div>

        <h1>Core</h1>
        <div id="quicklinks"><p>Development of TYPO3 CMS</p></div>
    </div>
    
    <div id="main-menu">
        <input class="projectsearch placeholder" id="projectname_project" name="projectname[project]" onfocus="this.value = &quot;&quot;; $(this).removeClassName(&quot;placeholder&quot;);" size="30" type="text" value="Project title search" /><div class="auto_complete" id="projectname_project_auto_complete"></div><script type="text/javascript">
//<![CDATA[
var projectname_project_auto_completer = new Ajax.Autocompleter('projectname_project', 'projectname_project_auto_complete', '/projects/auto_complete', {afterUpdateElement:function(element, value) { var identNode = $(value).select(".identifier"); window.location.href="/projects/"+identNode[0].innerHTML }})
//]]>
</script>
        <ul><li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="overview">Overview</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity" class="activity">Activity</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/roadmap" class="roadmap">Roadmap</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues" class="issues selected">Issues</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/wiki" class="wiki">Wiki</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository" class="repository">Repository</a></li></ul>
    </div>
</div>

<div class="" id="main">
    <div id="leftmenu">
        <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core" class="level-1 current sorting-10">Core</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-search" class="level-2 sorting-0">Indexed Search</a><a href="../../external.html?link=https://forge.typo3.org/projects/extension-linkvalidator" class="level-2 sorting-0">Linkvalidator</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-releasecycles" class="level-2 sorting-0">Release Cycles</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-team" class="level-2 sorting-0">Team Resources</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-workspaces" class="level-2 sorting-0">Workspaces & Versioning</a><a href="../../external.html?link=https://forge.typo3.org/projects/usability" class="level-2 sorting-10">TYPO3 CMS Usability Team</a><a href="../../external.html?link=https://forge.typo3.org/projects/extensions" class="level-1 sorting-20">Community Extensions</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3v4-distribution" class="level-1 sorting-44">Distributions</a><a href="../../external.html?link=https://forge.typo3.org/projects/cms-feature-requests" class="level-1 sorting-50">Feature-Requests</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-v62" class="level-1 sorting-620">TYPO3 6.2 Projects (+)</a><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-archived" class="level-1 sorting-1000">(Archived Projects)</a>
    </div>
    <div id="sidebar">        
        
  <h3>Issues</h3>
<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?set_filter=1">View all issues</a><br />

<a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues/report">Summary</a><br />







<h3>Custom queries</h3><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=219" class="query">Easy tasks</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=391" class="query">FAL Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=133" class="query">Hierarchical Issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=322" class="query">Most wanted Bugfixes</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=321" class="query">Most wanted Features</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=167" class="query">My open issues</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=203" class="query">New &amp; Unassigned</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=90" class="query">Open Bugs</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=204" class="query">Recently modified</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=523" class="query">Regressions</a><br /><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/issues?query_id=459" class="query">Roadmap v7</a>



  
    <div id="watchers">
      

<h3>Watchers (2)</h3>

<ul><li><a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a></li>
<li><a href="../../external.html?link=https://forge.typo3.org/users/3767">Alexander Opitz</a></li></ul>

    </div>
  

        
    </div>
    
    <div id="content">
				
        <div class="contextual">


<span class="issue-66503-watcher"></span>


</div>


<h2>Bug #66503</h2>

<div class="issue status-7 priority-1 closed details">
  

  

<div class="subject">
<div><h3>Core: Error handler (FE): PHP Warning: sem_get(): failed for key 0xbaa3533: No space left on device</h3></div>
</div>
        <p class="author">
        Added by <a href="../../external.html?link=https://forge.typo3.org/users/39984">Mateusz Wojtuła</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 19:44">4 months</a> ago.
        
        Updated <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-27" title="2015-04-27 19:30">3 months</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">Resolved</td>
    <th class="start-date">Start date:</th><td class="start-date">2015-04-20</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Must have</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assigned To:</th><td class="assigned-to"><a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">Frontend</td>
    
    <th class="spent-time">Spent time:</th>
    <td class="spent-time">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version"><a href="../../external.html?link=https://forge.typo3.org/versions/2967">7.2 (Frontend)</a></td>
    
</tr>
<tr>
	<th>TYPO3 Version:</th><td>7</td>
	<th>Is Regression:</th><td>No</td>
</tr>
<tr>
	<th>PHP Version:</th><td>5.5</td>
	<th>Sprint Focus:</th><td>Stabilization Sprint</td>
</tr>
<tr>
	<th>Complexity:</th><td>medium</td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>Hi,<br />I got the following error (this information is from tab Log):<br /><pre>
Core: Error handler (FE): PHP Warning: sem_get(): failed for key 0xbaa3533: No space left on device in /var/www/project/typo3_src/typo3/sysext/core/Classes/Locking/SemaphoreLockStrategy.php line 100
</pre><br />The problem is on page with single news. I also use fluidpages, fluidcontents, tq_seo. I added information about environment as print screen.</p>
  </div>

<div class="attachments">

<p><a href="../attachments/download/28787/application_information.png" class="icon icon-attachment">application_information.png</a>  
  
  <span class="size">(20.6 kB)</span>
  
  
    <span class="author">Mateusz Wojtuła, 2015-04-20 19:44</span>
  
  </p>

<p><a href="../../external.html?link=https://forge.typo3.org/attachments/download/28831/lock_test.sh" class="icon icon-attachment">lock_test.sh</a>  
    <a href="../../external.html?link=https://forge.typo3.org/attachments/28831/lock_test.sh"><img alt="Magnifier" src="../images/magnifierfaba.png?1437165176" /></a>
  
  
  <span class="size">(1.1 kB)</span>
  
  
    <span class="author">Andreas Allacher, 2015-04-24 18:50</span>
  
  </p>

</div>







<hr />
<div id="relations">
<div class="contextual">

</div>

<p><strong>Related issues</strong></p>


<form>
<table class="list issues">

<tr class="issue hascontextmenu" id="relation-12723">
<td class="checkbox"><input name="ids[]" type="checkbox" value="47712" /></td>
<td class="subject">related to 
    Core - 
    <a href="47712.html" class="issue status-7 priority-2 closed">Feature #47712</a>: Refactor Locking
</td>
<td class="status">Resolved</td>
<td class="start_date">2013-02-08</td>
<td class="due_date"></td>
<td class="buttons"></td>
</tr>

</table>
</form>


<form action="../../external.html?link=https://forge.typo3.org/issues/66503/relations" id="new-relation-form" method="post" onsubmit="new Ajax.Request('/issues/66503/relations', {asynchronous:true, evalScripts:true, method:'post', onComplete:function(request){Form.Element.focus('relation_issue_to_id');}, parameters:Form.serialize(this)}); return false;" style="display: none;"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="IjgAk+sryuS7AAkPn7/ITUV652f6cwFBHN6GNTvW7o8=" /></div>


<p><select id="relation_relation_type" name="relation[relation_type]" onchange="setPredecessorFieldsVisibility();"><option value="relates">related to</option>
<option value="duplicates">duplicates</option>
<option value="duplicated">duplicated by</option>
<option value="blocks">blocks</option>
<option value="blocked">blocked by</option>
<option value="precedes">precedes</option>
<option value="follows">follows</option></select>
Issue #<input id="relation_issue_to_id" name="relation[issue_to_id]" size="10" type="text" />
<span id="predecessor_fields" style="display:none;">
Delay: <input id="relation_delay" name="relation[delay]" size="3" type="text" /> days
</span>
<input name="commit" type="submit" value="Add" />
<a href="#" onclick="Element.toggle('new-relation-form'); this.blur(); return false;">Cancel</a>
</p>

<div id="related_issue_candidates" class="autocomplete"></div>
<script type="text/javascript">
//<![CDATA[
observeRelatedIssueField('/issues/auto_complete?id=66503&amp;project_id=typo3cms-core')
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
setPredecessorFieldsVisibility();
//]]>
</script>

</form>

</div>


</div>


<div id="issue-changesets">
<h3>Associated revisions</h3>

    <div class="changeset odd">
    <p><a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/a1ed7cefc902cb9bd0e0451c550fe92ea3302033" title="Revision a1ed7cef">Revision a1ed7cef</a><br />
        <span class="author">Added by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-27" title="2015-04-27 19:10">3 months</a> ago</span></p>
    <div class="wiki">
        <p>[BUGFIX] Multiple fixes for Locking API and TSFE locking</p>


	<ul>
	<li>Retrieve correct LockingStrategy for requested capabilities</li>
		<li>Prefix lock filenames to make them better visible in the folder</li>
		<li>Make all LockStrategies destroyable</li>
		<li>Semaphore locking now uses ftok() to generate a unique id</li>
		<li>Make the Mbox lock independent of the target file</li>
		<li>Introduce an access lock for each of the TSFE cache locks</li>
	</ul>


	<p>We decrease the priority of Semaphore locking since this can<br />be pretty dangerous for the average user. If something goes<br />really wrong in the webserver (which is out of our control),<br />we might leave behind stale semaphores, which might cause<br />a permanent deadlock for an instance, which can only be resolved<br />by a server admin.<br />We might raise the priority again at a later point in time,<br />when we can provide better means of cleanup.</p>


	<p>The new access locks protects the access to the cache locks in TSFE<br />now, which allows us to safely remove those cache locks after using<br />them. This way we don't spam the system with loads of locks.</p>


	<p>Releases: master<br />Resolves: <a href="66503.html" class="issue status-7 priority-1 closed" title="Core: Error handler (FE): PHP Warning: sem_get(): failed for key 0xbaa3533: No space left on device (Resolved)">#66503</a><br />Change-Id: Ia19e6e7d47d7941e01785f5a6b67746a6c0fa368<br />Reviewed-on: <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a><br />Reviewed-by: Andreas Allacher &lt;<a class="email" href="mailto:andreas.allacher@gmx.at">andreas.allacher@gmx.at</a>&gt;<br />Tested-by: Andreas Allacher &lt;<a class="email" href="mailto:andreas.allacher@gmx.at">andreas.allacher@gmx.at</a>&gt;<br />Reviewed-by: Christian Kuhn &lt;<a class="email" href="mailto:lolli@schwarzbu.ch">lolli@schwarzbu.ch</a>&gt;<br />Tested-by: Christian Kuhn &lt;<a class="email" href="mailto:lolli@schwarzbu.ch">lolli@schwarzbu.ch</a>&gt;<br />Reviewed-by: Markus Klein &lt;<a class="email" href="mailto:klein.t3@reelworx.at">klein.t3@reelworx.at</a>&gt;<br />Tested-by: Markus Klein &lt;<a class="email" href="mailto:klein.t3@reelworx.at">klein.t3@reelworx.at</a>&gt;</p>
    </div>
    </div>


</div>



<div id="history">
<h3>History</h3>

  <div id="change-256237" class="journal has-notes">
    <h4><a href="66503.html#note-1" class="journal-link">#1</a>
    
    <a name="note-1"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 20:15">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256237-notes"><p>Please check your system status with<br /><pre>
ipcs -s

sysctl -a |grep kernel\.sem

</pre></p></div>
  </div>
  

  <div id="change-256238" class="journal has-notes">
    <h4><a href="66503.html#note-2" class="journal-link">#2</a>
    
    <a name="note-2"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 20:16">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256238-notes"><p>The default on Ubuntu 14.04 is:</p>


<pre>
kernel.sem = 32000      1024000000      500     32000
</pre></div>
  </div>
  

  <div id="change-256239" class="journal has-notes">
    <h4><a href="66503.html#note-3" class="journal-link">#3</a>
    
    <a name="note-3"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/39984">Mateusz Wojtuła</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 20:24">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256239-notes"><p>I get this:<br /><pre>
root@matw:~# ipcs -s

------ Semaphore Arrays --------
key        semid      owner      perms      nsems     
0x0baa3533 0          www-data   666        3         
0x7c9e0990 32769      www-data   666        3         
0xa8e44899 65538      www-data   666        3         
0x1e536c5e 98307      www-data   666        3         
0xb4375310 131076     www-data   666        3         
0xea7be8dc 163845     www-data   666        3         
0x456c2c52 196614     www-data   666        3         
0x02867477 229383     www-data   666        3         
0xf0e544b5 262152     www-data   666        3         
0x339a6321 294921     www-data   666        3         
0x3ca1cf4d 327690     www-data   666        3         
0x4d9d2850 360459     www-data   666        3         
0xb532d7b8 393228     www-data   666        3         
0x5d85f034 425997     www-data   666        3         
0xd2358e97 458766     www-data   666        3         
0xaf36479e 491535     www-data   666        3         
0xad937213 524304     www-data   666        3         
0x2347b1c0 557073     www-data   666        3         
0x14362d4d 589842     www-data   666        3         
0xb1063a0a 622611     www-data   666        3         
0xa0784163 655380     www-data   666        3         
0xa1cc990c 688149     www-data   666        3         
0x87e611ee 720918     www-data   666        3         
0xc2b3fab1 753687     www-data   666        3         
0x33e81829 786456     www-data   666        3         
0xd8c99d51 819225     www-data   666        3         
0x8783b42a 851994     www-data   666        3         
0x60e5873a 884763     www-data   666        3         
0xc314ead5 917532     www-data   666        3         
0xa9442db3 950301     www-data   666        3         
0xab52b406 983070     www-data   666        3         
0x26551e77 1015839    www-data   666        3         
0xd3fc66ce 1048608    www-data   666        3         
0xf16f6100 1081377    www-data   666        3         
0x25b03396 1114146    www-data   666        3         
0x2ba70226 1146915    www-data   666        3         
0xf10f5538 1179684    www-data   666        3         
0x365b4f31 1212453    www-data   666        3         
0x6a8d5d1a 1245222    www-data   666        3         
0x6e2a442c 1277991    www-data   666        3         
0x8264f29c 1310760    www-data   666        3         
0x0973ce0a 1343529    www-data   666        3         
0x043b027a 1376298    www-data   666        3         
0xa250f4df 1409067    www-data   666        3         
0x7c984307 1441836    www-data   666        3         
0xebf7e556 1474605    www-data   666        3         
0xf02169f2 1507374    www-data   666        3         
0xc27603cd 1540143    www-data   666        3         
0xd3c3c612 1572912    www-data   666        3         
0x9cc25ec5 1605681    www-data   666        3         
0x04629384 1638450    www-data   666        3         
0xd5e85eaf 1671219    www-data   666        3         
0x22687898 1703988    www-data   666        3         
0xb40f30b2 1736757    www-data   666        3         
0xe31f7de7 1769526    www-data   666        3         
0x07aecb8a 1802295    www-data   666        3         
0xcf62bda7 1835064    www-data   666        3         
0x2c784309 1867833    www-data   666        3         
0x0e8d31f2 1900602    www-data   666        3         
0x4fd013e4 1933371    www-data   666        3         
0xb44b91b2 1966140    www-data   666        3         
0x9b85d8b5 1998909    www-data   666        3         
0xe8994ff1 2031678    www-data   666        3         
0xdeb8161d 2064447    www-data   666        3         
0xa3c4fb43 2097216    www-data   666        3         
0x2ba5a06e 2129985    www-data   666        3         
0xd33d736a 2162754    www-data   666        3         
0x113edfef 2195523    www-data   666        3         
0x36a1dc1a 2228292    www-data   666        3         
0xf12befbb 2261061    www-data   666        3         
0x69911364 2293830    www-data   666        3         
0xa9140a5f 2326599    www-data   666        3         
0x03c74337 2359368    www-data   666        3         
0x6a014e24 2392137    www-data   666        3         
0xbc24ca33 2424906    www-data   666        3         
0xf114402a 2457675    www-data   666        3         
0x2a36aca6 2490444    www-data   666        3         
0x2e918a24 2523213    www-data   666        3         
0xe4a3c031 2555982    www-data   666        3         
0x0c841d24 2588751    www-data   666        3         
0xb380209d 2621520    www-data   666        3         
0x6149871e 2654289    www-data   666        3         

root@matw:~# sysctl -a |grep kernel\.sem
kernel.sem = 250    32000    32    128
kernel.sem_next_id = -1

</pre></p>


	<p>So this is my system error? Not TYPO3?</p></div>
  </div>
  

  <div id="change-256244" class="journal has-notes">
    <h4><a href="66503.html#note-4" class="journal-link">#4</a>
    
    <a name="note-4"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 21:19">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256244-notes"><p>What server do you use?<br />Is this a shared hosting or so?</p>


	<p>You have a 250 limit for the number of semaphores.</p>


	<p>TYPO3 currently does not remove them, because we have no "controlled" environment - in the sense that a request does not know about other requests - and we don't want to have race conditions because of removing a semaphore too early.</p>


	<p>Thanks for you report, btw, because this is very valuable feedback as the Locking API was changed not long ago and we really need field experience.</p>


	<p>Currently the semaphore locking is the preferred method, if available. But if it turns out that it causes too much trouble, we might change that again.</p></div>
  </div>
  

  <div id="change-256245" class="journal has-notes has-details">
    <h4><a href="66503.html#note-5" class="journal-link">#5</a>
    
    <a name="note-5"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 21:37">4 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Category</strong> set to <i>Frontend</i></li>
      
       <li><strong>Status</strong> changed from <i>New</i> to <i>Accepted</i></li>
      
       <li><strong>Assigned To</strong> set to <i>Markus Klein</i></li>
      
       <li><strong>Priority</strong> changed from <i>Should have</i> to <i>Must have</i></li>
      
       <li><strong>Target version</strong> set to <i>7.2 (Frontend)</i></li>
      
       <li><strong>Complexity</strong> set to <i>medium</i></li>
      
       <li><strong>Sprint Focus</strong> set to <i>Stabilization Sprint</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-256245-notes"><p>After checking the code, I see that we potentially use quite a lot of semaphores.<br />I'll try to come up with a patch to limit the number.</p></div>
  </div>
  

  <div id="change-256246" class="journal has-notes">
    <h4><a href="66503.html#note-6" class="journal-link">#6</a>
    
    <a name="note-6"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/39984">Mateusz Wojtuła</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 21:50">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256246-notes"><p>Thanks, for this information. So what can I do when this error appears again?<br />This site is on <a href="../../external.html?link=https://www.digitalocean.com/" class="external">DigitalOcean</a> with the smallest virtual server (512MB ram, 1 core, 20 GB SSD).</p>


	<p>If you want to check it you can use this link to register and get 10$ for free <a class="external" href="../../external.html?link=https://www.digitalocean.com/?refcode=96665686914b">https://www.digitalocean.com/?refcode=96665686914b</a></p></div>
  </div>
  

  <div id="change-256264" class="journal has-notes">
    <h4><a href="66503.html#note-7" class="journal-link">#7</a>
    
    <a name="note-7"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 22:31">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256264-notes"><p>More infos about the numbers.</p>


<pre>
kernel.sem = 32000      1024000000      500     32000
kernel.sem = 250        32000           32      128
</pre>

	<p>The order is: SEMMSL, SEMMNS, SEMOPM, and SEMMNI</p>


	<p>SEMMSL: maximum number of semaphores per semaphore set<br />SEMMNS: total number of semaphores (not semaphore sets) for the entire Linux system<br />SEMOPM: maximum number of semaphore operations that can be performed per semop(2) system call<br />SEMMNI: maximum number of semaphore sets for the entire Linux system</p>


	<p>Description of the settings eg. <a class="external" href="../../external.html?link=http://www.puschitz.com/TuningLinuxForOracle.shtml#SettingSemaphores">http://www.puschitz.com/TuningLinuxForOracle.shtml#SettingSemaphores</a></p>


	<p>It can clearly be seen that the second set of numbers limits the total number of semaphores on the whole system to 128(!)</p></div>
  </div>
  

  <div id="change-256265" class="journal has-notes">
    <h4><a href="66503.html#note-8" class="journal-link">#8</a>
    
    <a name="note-8"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 23:15">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256265-notes"><blockquote>

	<p>So what can I do when this error appears again?</p>


</blockquote>

	<p>Search for how you can increase the maximum number of semaphores or how you can release existing ones on the web.</p></div>
  </div>
  

  <div id="change-256283" class="journal has-notes">
    <h4><a href="66503.html#note-9" class="journal-link">#9</a>
    
    <a name="note-9"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-20" title="2015-04-20 23:37">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256283-notes"><p>After digging around in the code I realize:</p>


	<p>We use a lot of information to generate a unique key for the lock. So we actually have a key per variation of a page. (md5 of serialize of id, type,gr_list, MP, cHash, startPage)<br />\TYPO3\CMS\Frontend\Controller\TypoScriptFrontendController::createHashBase(TRUE)</p>


	<p>This means we spam the system with a semaphore per variation, but OS might limit us to 128 semaphores!<br />This approach is brutally wrong, even if we don't use semaphores but file locks, which need a file per variation then.</p>


	<p>We need to define a better strategy.<br />Idea: Use a single lock to access some shared resource, which keeps track of the process currently rendering a page.</p></div>
  </div>
  

  <div id="change-256287" class="journal has-notes">
    <h4><a href="66503.html#note-10" class="journal-link">#10</a>
    
    <a name="note-10"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 00:27">4 months</a> ago</h4>

    
    <div class="wiki" id="journal-256287-notes"><p>Current procedure:</p>


	<ul>
	<li>check cache, if empty proceed with</li>
		<li>generate hash</li>
		<li>get lock for this hash</li>
		<li>generate page</li>
		<li>write page to cache</li>
		<li>release lock</li>
	</ul>


	<p>This creates a lock per hash, which might be manifold.</p>


	<p>I propose the following procedure:</p>


	<ul>
	<li>check cache, if empty proceed with</li>
		<li>generate hash</li>
		<li>get lock for cache access (1 unique lock per instance)</li>
		<li>write to cache that we're working on the content (set lock for this hash)</li>
		<li>release the lock</li>
		<li>generate page</li>
		<li>get lock again</li>
		<li>remove lock for the hash</li>
		<li>write page to cache</li>
		<li>release lock</li>
	</ul>


	<p>This is some sort of simple reader/writer pattern, where we allow inconsistent reads, while generating the page.</p>


	<p>Regarding the Semphore locking in general:<br />We need to change the semaphore keys. Important to say that the keys must be <strong>unique per instance</strong>, otherwise two T3 instances on the same server might block each other (even if only for a very short time).<br />The best way to generate a key (that also does not collide with OS keys) is to use ftok(filename, projId), which needs a filename.<br />We could use a fixed filename, but that would limit the possible range of projId to 256 (8bit), which is a no-go, since we can't map arbitrary $subject to 256 projIds in a sane way.<br />Therefore we propose to create a file in typo3temp/locks/sem_&lt;md5 of $subject&gt; used for ftok.<br />This way one also has a reference how many semaphores have been created in the system by the instance, without looking into command line tools.</p></div>
  </div>
  

  <div id="change-256289" class="journal has-notes has-details">
    <h4><a href="66503.html#note-11" class="journal-link">#11</a>
    
    <a name="note-11"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 02:33">3 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Accepted</i> to <i>Under Review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-256289-notes"><p>Patch set 1 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256290" class="journal has-notes">
    <h4><a href="66503.html#note-12" class="journal-link">#12</a>
    
    <a name="note-12"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 02:33">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256290-notes"><p>Patch set 2 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256291" class="journal has-notes">
    <h4><a href="66503.html#note-13" class="journal-link">#13</a>
    
    <a name="note-13"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 02:38">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256291-notes"><p>Patch set 3 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256292" class="journal has-notes">
    <h4><a href="66503.html#note-14" class="journal-link">#14</a>
    
    <a name="note-14"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 03:20">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256292-notes"><p>Patch set 4 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256293" class="journal has-notes">
    <h4><a href="66503.html#note-15" class="journal-link">#15</a>
    
    <a name="note-15"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 04:06">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256293-notes"><p>Patch set 5 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256294" class="journal has-notes">
    <h4><a href="66503.html#note-16" class="journal-link">#16</a>
    
    <a name="note-16"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 04:30">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256294-notes"><p>Patch set 6 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256295" class="journal has-notes">
    <h4><a href="66503.html#note-17" class="journal-link">#17</a>
    
    <a name="note-17"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 04:35">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256295-notes"><p>Patch set 7 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256296" class="journal has-notes">
    <h4><a href="66503.html#note-18" class="journal-link">#18</a>
    
    <a name="note-18"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-21" title="2015-04-21 04:53">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256296-notes"><p>Testing instructions:</p>


	<p>Insert a sleep(10) in the tsfe::generate_pre...()  function, right after the release of the lock. This allows you to see the "Page is generated" message" if you visit the page with two browsers at the same time. Clear the cache first and logout from BE. <br />At the same time you can watch the lock files come and go in typo3temp/locks.</p></div>
  </div>
  

  <div id="change-256502" class="journal has-notes">
    <h4><a href="66503.html#note-19" class="journal-link">#19</a>
    
    <a name="note-19"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-22" title="2015-04-22 19:51">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256502-notes"><p>Patch set 8 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256706" class="journal has-notes">
    <h4><a href="66503.html#note-20" class="journal-link">#20</a>
    
    <a name="note-20"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-24" title="2015-04-24 14:33">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256706-notes"><p>Patch set 9 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256707" class="journal has-notes">
    <h4><a href="66503.html#note-21" class="journal-link">#21</a>
    
    <a name="note-21"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-24" title="2015-04-24 14:38">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256707-notes"><p>Patch set 10 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256729" class="journal has-notes">
    <h4><a href="66503.html#note-22" class="journal-link">#22</a>
    
    <a name="note-22"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/37962">Andreas Allacher</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-24" title="2015-04-24 18:49">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256729-notes"><p>Test-script to produce some locking states, this would result in deadlock with patchset 8 because of missing no block option of patchset 9</p>


<pre>
#!/bin/sh
./typo3cms cache:flushgroups --groups=pages
time wget --output-document=index_temp.1.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.2.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.3.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.4.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.5.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.6.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.7.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.8.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.9.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.10.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.11.html --content-on-error "http://localhost/" &#38;
time wget --output-document=index_temp.12.html --content-on-error "http://localhost/" &#38;
</pre>

	<p>Regarding usleep in locking part it  according to times it seems to be better to increase it (at least for me). But I think it is also depends on how much memory/resources are available<br />With 5us I am about 1second slower per request than with e.g. 5000 but I guess that really depends on the system usage.<br />But I think 5us might really be to little 5000 would at least be 5 milliseconds.<br />Event better (but not much normally than 5000) seem to be 50000 or 100000 but might also be system related.</p>


	<p>Maybe others can do some tests too?</p></div>
  </div>
  

  <div id="change-256730" class="journal has-details">
    <h4><a href="66503.html#note-23" class="journal-link">#23</a>
    
    <a name="note-23"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/37962">Andreas Allacher</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-24" title="2015-04-24 18:50">3 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>File</strong> <a href="../../external.html?link=https://forge.typo3.org/attachments/download/28831/lock_test.sh">lock_test.sh</a><a href="../../external.html?link=https://forge.typo3.org/attachments/28831/lock_test.sh"><img alt="Magnifier" src="../images/magnifierfaba.png?1437165176" /></a> added</li>
      
    </ul>
    
    
  </div>
  

  <div id="change-256771" class="journal has-notes">
    <h4><a href="66503.html#note-24" class="journal-link">#24</a>
    
    <a name="note-24"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-25" title="2015-04-25 20:37">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256771-notes"><p>Patch set 11 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256967" class="journal has-notes">
    <h4><a href="66503.html#note-25" class="journal-link">#25</a>
    
    <a name="note-25"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/36798">Gerrit Code Review</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-27" title="2015-04-27 18:19">3 months</a> ago</h4>

    
    <div class="wiki" id="journal-256967-notes"><p>Patch set 12 for branch <strong>master</strong> of project <strong>Packages/TYPO3.CMS</strong> has been pushed to the review server.<br />It is available at <a class="external" href="../../external.html?link=http://review.typo3.org/38840">http://review.typo3.org/38840</a></p></div>
  </div>
  

  <div id="change-256973" class="journal has-notes has-details">
    <h4><a href="66503.html#note-26" class="journal-link">#26</a>
    
    <a name="note-26"></a>
    Updated by <a href="../../external.html?link=https://forge.typo3.org/users/3351">Markus Klein</a> <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/activity?from=2015-04-27" title="2015-04-27 19:30">3 months</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>Under Review</i> to <i>Resolved</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-256973-notes"><p>Applied in changeset <a href="../../external.html?link=https://forge.typo3.org/projects/typo3cms-core/repository/revisions/a1ed7cefc902cb9bd0e0451c550fe92ea3302033" class="changeset" title="[BUGFIX] Multiple fixes for Locking API and TSFE locking * Retrieve correct LockingStrategy for ...">a1ed7cefc902cb9bd0e0451c550fe92ea3302033</a>.</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-66503-watcher"></span>


</div>


<div style="clear: both;"></div>


<p class="other-formats">Also available in:
  <span><a href="../../external.html?link=https://forge.typo3.org/issues/66503.atom" class="atom" rel="nofollow">Atom</a></span>
  <span><a href="66503.pdf" class="pdf" rel="nofollow">PDF</a></span>
</p>







<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
				<div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>
	
<div id="footer">
 Powered by <a href="../../external.html?link=http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang<br /><br />
 Hosting sponsor:<br /><br />
 <script type="text/javascript">var buttonStyle = "footer-grey-31";</script>
 <script src="../../typo3.org/fileadmin/t3org/images/FM-content/team-pages/server-team/sponsor-banners/sponsors.js"></script>
</div>
</div>

<script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.typo3.org/" : "http://piwik.typo3.org/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
    } catch( err ) {}
</script>
<noscript><span style="visibility: hidden";><img src="../../external.html?link=http://piwik.typo3.org/piwik.php?idsite=14" style="border:0" alt=""/></span></noscript>
</body>

<!-- Mirrored from forge.typo3.org/issues/66503 by HTTrack Website Copier/3.x [XR&CO'2008], Mon, 03 Aug 2015 23:39:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</html>
