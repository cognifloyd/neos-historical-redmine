Uncaught TYPO3 Exception
#1375955684: You are not allowed to access the given folder (More information)

TYPO3\CMS\Core\Resource\Exception\InsufficientFolderAccessPermissionsException thrown in file
xyz/typo3/sysext/core/Classes/Resource/ResourceStorage.php in line 730.
9 TYPO3\CMS\Core\Resource\ResourceStorage::assureFolderReadPermission(TYPO3\CMS\Core\Resource\Folder)

xyz/typo3/sysext/core/Classes/Resource/ResourceStorage.php:
01865:   }
01866:   $folder = $this->driver->getFolder($identifier);
01867:   $this->assureFolderReadPermission($folder);
01868: 
01869:   return $folder;

8 TYPO3\CMS\Core\Resource\ResourceStorage::getFolder("uploads/")

xyz/typo3/sysext/core/Classes/Resource/ResourceFactory.php:
00379:    }
00380:   }
00381:   return $this->getStorageObject($storageUid)->getFolder($folderIdentifier);
00382:  }
00383: 

7 TYPO3\CMS\Core\Resource\ResourceFactory::getFolderObjectFromCombinedIdentifier("uploads/")

xyz/typo3/sysext/core/Classes/Resource/Service/MagicImageService.php:
00057:    // @todo Proper exception handling is missing here
00058:    if ($targetFolderCombinedIdentifier) {
00059:     $magicFolder = $fileFactory->getFolderObjectFromCombinedIdentifier($targetFolderCombinedIdentifier);
00060:    }
00061:    if (empty($magicFolder) || !$magicFolder instanceof \TYPO3\CMS\Core\Resource\Folder) {

6 TYPO3\CMS\Core\Resource\Service\MagicImageService::getMagicFolder("uploads/")

xyz/typo3/sysext/core/Classes/Resource/Service/MagicImageService.php:
00108:   if ($magicImageInfo[3]) {
00109:    $targetFileName = 'RTEmagicC_' . PathUtility::pathInfo($imageFileObject->getName(), PATHINFO_FILENAME) . '.' . PathUtility::pathinfo($magicImageInfo[3], PATHINFO_EXTENSION);
00110:    $magicFolder = $this->getMagicFolder($targetFolderCombinedIdentifier);
00111:    if ($magicFolder instanceof \TYPO3\CMS\Core\Resource\Folder) {
00112:     $magicImage = $magicFolder->addFile($magicImageInfo[3], $targetFileName, 'changeName');

5 TYPO3\CMS\Core\Resource\Service\MagicImageService::createMagicImage(TYPO3\CMS\Core\Resource\File, array, "uploads/")

xyz/typo3/sysext/rtehtmlarea/Classes/SelectImage.php:
00239:     'maxH' => $this->magicMaxHeight
00240:    );
00241:    $magicImage = $magicImageService->createMagicImage($fileObject, $imageConfiguration, $this->getRTEImageStorageDir());
00242:    if ($magicImage instanceof \TYPO3\CMS\Core\Resource\FileInterface) {
00243:     $filePath = $magicImage->getForLocalProcessing(FALSE);

4 TYPO3\CMS\Rtehtmlarea\SelectImage::insertMagicImage(TYPO3\CMS\Core\Resource\File, NULL, "alfhild_boehringer.jpg", "data-htmlarea-file-uid="361" data-htmlarea-file-table="sys_file"")

xyz/typo3/sysext/rtehtmlarea/Classes/SelectImage.php:
00200:    switch ($this->act) {
00201:    case 'magic':
00202:     $this->insertMagicImage($fileObject, $altText, $titleText, 'data-htmlarea-file-uid="' . $uid . '" data-htmlarea-file-table="' . $table . '"');
00203:     die;
00204:     break;

3 TYPO3\CMS\Rtehtmlarea\SelectImage::insertImage()

xyz/typo3/sysext/rtehtmlarea/Classes/SelectImage.php:
00087:   $this->fileProcessor->init($GLOBALS['FILEMOUNTS'], $GLOBALS['TYPO3_CONF_VARS']['BE']['fileExtensions']);
00088:   $this->allowedItems = $this->getAllowedItems('magic,plain,image');
00089:   $this->insertImage();
00090:   // Creating backend template object:
00091:   $this->doc = \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance('TYPO3\\CMS\\Backend\\Template\\DocumentTemplate');

2 TYPO3\CMS\Rtehtmlarea\SelectImage::init()

xyz/typo3/sysext/rtehtmlarea/Classes/Controller/SelectImageController.php:
00076:   if (!$browserRendered) {
00077:    $GLOBALS['SOBE']->browser = \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance('TYPO3\\CMS\\Rtehtmlarea\\SelectImage');
00078:    $GLOBALS['SOBE']->browser->init();
00079:    $modData = $GLOBALS['BE_USER']->getModuleData('select_image.php', 'ses');
00080:    list($modData, $store) = $GLOBALS['SOBE']->browser->processSessionData($modData);

1 TYPO3\CMS\Rtehtmlarea\Controller\SelectImageController::main()

xyz/typo3/sysext/rtehtmlarea/mod4/select_image.php:
00047: // Make instance:
00048: $SOBE = \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance('TYPO3\\CMS\\Rtehtmlarea\\Controller\\SelectImageController');
00049: $SOBE->main();
00050: $SOBE->printContent();
00051: ?>

